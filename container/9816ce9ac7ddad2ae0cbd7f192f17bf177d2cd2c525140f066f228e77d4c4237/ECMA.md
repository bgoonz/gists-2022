
# ECMAScript® 2021 Language Specification

##   
![](https://262.ecma-international.org/12.0/img/ecma-logo.jpg)

## Introduction

This Ecma Standard defines the ECMAScript 2021 Language. It is the twelfth edition of the ECMAScript Language Specification. Since publication of the first edition in 1997, ECMAScript has grown to be one of the world's most widely used general-purpose programming languages. It is best known as the language embedded in web browsers but has also been widely adopted for server and embedded applications.

ECMAScript is based on several originating technologies, the most well-known being JavaScript (Netscape) and JScript (Microsoft). The language was invented by Brendan Eich at Netscape and first appeared in that company's Navigator 2.0 browser. It has appeared in all subsequent browsers from Netscape and in all browsers from Microsoft starting with Internet Explorer 3.0.

The development of the ECMAScript Language Specification started in November 1996. The first edition of this Ecma Standard was adopted by the Ecma General Assembly of June 1997.

That Ecma Standard was submitted to ISO/IEC JTC 1 for adoption under the fast-track procedure, and approved as international standard ISO/IEC 16262, in April 1998. The Ecma General Assembly of June 1998 approved the second edition of ECMA-262 to keep it fully aligned with ISO/IEC 16262. Changes between the first and the second edition are editorial in nature.

The third edition of the Standard introduced powerful regular expressions, better string handling, new control statements, try/catch exception handling, tighter definition of errors, formatting for numeric output and minor changes in anticipation of future language growth. The third edition of the ECMAScript standard was adopted by the Ecma General Assembly of December 1999 and published as ISO/IEC 16262:2002 in June 2002.

After publication of the third edition, ECMAScript achieved massive adoption in conjunction with the World Wide Web where it has become the programming language that is supported by essentially all web browsers. Significant work was done to develop a fourth edition of ECMAScript. However, that work was not completed and not published as the fourth edition of ECMAScript but some of it was incorporated into the development of the sixth edition.

The fifth edition of ECMAScript (published as ECMA-262 5th edition) codified de facto interpretations of the language specification that have become common among browser implementations and added support for new features that had emerged since the publication of the third edition. Such features include accessor properties, reflective creation and inspection of objects, program control of property attributes, additional array manipulation functions, support for the JSON object encoding format, and a strict mode that provides enhanced error checking and program security. The fifth edition was adopted by the Ecma General Assembly of December 2009.

The fifth edition was submitted to ISO/IEC JTC 1 for adoption under the fast-track procedure, and approved as international standard ISO/IEC 16262:2011. Edition 5.1 of the ECMAScript Standard incorporated minor corrections and is the same text as ISO/IEC 16262:2011. The 5.1 Edition was adopted by the Ecma General Assembly of June 2011.

Focused development of the sixth edition started in 2009, as the fifth edition was being prepared for publication. However, this was preceded by significant experimentation and language enhancement design efforts dating to the publication of the third edition in 1999. In a very real sense, the completion of the sixth edition is the culmination of a fifteen year effort. The goals for this edition included providing better support for large applications, library creation, and for use of ECMAScript as a compilation target for other languages. Some of its major enhancements included modules, class declarations, lexical block scoping, iterators and generators, promises for asynchronous programming, destructuring patterns, and proper tail calls. The ECMAScript library of built-ins was expanded to support additional data abstractions including maps, sets, and arrays of binary numeric values as well as additional support for Unicode supplemental characters in strings and regular expressions. The built-ins were also made extensible via subclassing. The sixth edition provides the foundation for regular, incremental language and library enhancements. The sixth edition was adopted by the General Assembly of June 2015.

ECMAScript 2016 was the first ECMAScript edition released under Ecma TC39's new yearly release cadence and open development process. A plain-text source document was built from the ECMAScript 2015 source document to serve as the base for further development entirely on GitHub. Over the year of this standard's development, hundreds of pull requests and issues were filed representing thousands of bug fixes, editorial fixes and other improvements. Additionally, numerous software tools were developed to aid in this effort including Ecmarkup, Ecmarkdown, and Grammarkdown. ES2016 also included support for a new exponentiation operator and adds a new method to `Array.prototype` called `includes`.

ECMAScript 2017 introduced Async Functions, Shared Memory, and Atomics along with smaller language and library enhancements, bug fixes, and editorial updates. Async functions improve the asynchronous programming experience by providing syntax for promise-returning functions. Shared Memory and Atomics introduce a new [memory model](https://262.ecma-international.org/12.0/#sec-memory-model) that allows multi-[agent](https://262.ecma-international.org/12.0/#agent) programs to communicate using atomic operations that ensure a well-defined execution order even on parallel CPUs. It also included new static methods on Object: `Object.values`, `Object.entries`, and `Object.getOwnPropertyDescriptors`.

ECMAScript 2018 introduced support for asynchronous iteration via the AsyncIterator protocol and async generators. It also included four new regular expression features: the `dotAll` flag, named capture groups, Unicode property escapes, and look-behind assertions. Lastly it included object rest and spread properties.

ECMAScript 2019 introduced a few new built-in functions: `flat` and `flatMap` on `Array.prototype` for flattening arrays, `Object.fromEntries` for directly turning the return value of `Object.entries` into a new Object, and `trimStart` and `trimEnd` on `String.prototype` as better-named alternatives to the widely implemented but non-standard `String.prototype.trimLeft` and `trimRight` built-ins. In addition, it included a few minor updates to syntax and semantics. Updated syntax included optional catch binding parameters and allowing U+2028 (LINE SEPARATOR) and U+2029 (PARAGRAPH SEPARATOR) in string literals to align with JSON. Other updates included requiring that `Array.prototype.sort` be a stable sort, requiring that `JSON.stringify` return well-formed UTF-8 regardless of input, and clarifying `Function.prototype.toString` by requiring that it either return the corresponding original source text or a standard placeholder.

ECMAScript 2020, the 11th edition, introduces the `matchAll` method for Strings, to produce an iterator for all match objects generated by a global regular expression; `import()`, a syntax to asynchronously import Modules with a dynamic specifier; `BigInt`, a new number primitive for working with arbitrary precision integers; `Promise.allSettled`, a new Promise combinator that does not short-circuit; `globalThis`, a universal way to access the global `this` value; dedicated `export * as ns from 'module'` syntax for use within modules; increased standardization of `for-in` enumeration order; `import.meta`, a [host](https://262.ecma-international.org/12.0/#host)\-populated object available in Modules that may contain contextual information about the Module; as well as adding two new syntax features to improve working with “nullish” values (`null` or `undefined`): nullish coalescing, a value selection operator; and optional chaining, a property access and function invocation operator that short-circuits if the value to access/invoke is nullish.

This specification, the 12th edition, introduces the `replaceAll` method for Strings; `Promise.any`, a Promise combinator that short-circuits when an input value is fulfilled; `AggregateError`, a new Error type to represent multiple errors at once; logical assignment operators (`??=`, `&&=`, `||=`); `WeakRef`, for referring to a target object without preserving it from garbage collection, and `FinalizationRegistry`, to manage registration and unregistration of cleanup operations performed when target objects are garbage collected; separators for numeric literals (`1_000`); and `Array.prototype.sort` was made more precise, reducing the amount of cases that result in an [implementation-defined](https://262.ecma-international.org/12.0/#implementation-defined) sort order.

Dozens of individuals representing many organizations have made very significant contributions within Ecma TC39 to the development of this edition and to the prior editions. In addition, a vibrant community has emerged supporting TC39's ECMAScript efforts. This community has reviewed numerous drafts, filed thousands of bug reports, performed implementation experiments, contributed test suites, and educated the world-wide developer community about ECMAScript. Unfortunately, it is impossible to identify and acknowledge every person and organization who has contributed to this effort.

Allen Wirfs-Brock  
ECMA-262, Project Editor, 6th Edition

Brian Terlson  
ECMA-262, Project Editor, 7th through 10th Editions

Jordan Harband  
ECMA-262, Project Editor, 10th through 12th Editions

## 1 Scope

This Standard defines the ECMAScript 2021 general-purpose programming language.

## 2 Conformance

A conforming implementation of ECMAScript must provide and support all the types, values, objects, properties, functions, and program syntax and semantics described in this specification.

A conforming implementation of ECMAScript must interpret source text input in conformance with the latest version of the Unicode Standard and ISO/IEC 10646.

A conforming implementation of ECMAScript that provides an application programming interface (API) that supports programs that need to adapt to the linguistic and cultural conventions used by different human languages and countries must implement the interface defined by the most recent edition of ECMA-402 that is compatible with this specification.

A conforming implementation of ECMAScript may provide additional types, values, objects, properties, and functions beyond those described in this specification. In particular, a conforming implementation of ECMAScript may provide properties not described in this specification, and values for those properties, for objects that are described in this specification.

A conforming implementation of ECMAScript may support program and regular expression syntax not described in this specification. In particular, a conforming implementation of ECMAScript may support program syntax that makes use of any “future reserved words” noted in subclause [12.6.2](https://262.ecma-international.org/12.0/#sec-keywords-and-reserved-words) of this specification.

A conforming implementation of ECMAScript must not implement any extension that is listed as a Forbidden Extension in subclause [17.1](https://262.ecma-international.org/12.0/#sec-forbidden-extensions).

A conforming implementation of ECMAScript must not redefine any facilities that are not [implementation-defined](https://262.ecma-international.org/12.0/#implementation-defined), [implementation-approximated](https://262.ecma-international.org/12.0/#implementation-approximated), or [host-defined](https://262.ecma-international.org/12.0/#host-defined).

A conforming implementation of ECMAScript may choose to implement or not implement Normative Optional subclauses. If any Normative Optional behaviour is implemented, all of the behaviour in the containing Normative Optional clause must be implemented. A Normative Optional clause is denoted in this specification with the words "Normative Optional" in a coloured box, as shown below.

[Normative Optional](https://262.ecma-international.org/12.0/#sec-conformance)

## 2.1 Example Clause Heading

Example clause contents.

## 3 Normative References

The following referenced documents are indispensable for the application of this document. For dated references, only the edition cited applies. For undated references, the latest edition of the referenced document (including any amendments) applies.

ISO/IEC 10646 _Information Technology — Universal Multiple-Octet Coded Character Set (UCS) plus Amendment 1:2005, Amendment 2:2006, Amendment 3:2008, and Amendment 4:2008_, plus additional amendments and corrigenda, or successor

ECMA-402, _ECMAScript 2015 Internationalization API Specification_.  
[https://ecma-international.org/publications/standards/Ecma-402.htm](https://ecma-international.org/publications/standards/Ecma-402.htm)

ECMA-404, _The JSON Data Interchange Format_.  
[https://ecma-international.org/publications/standards/Ecma-404.htm](https://ecma-international.org/publications/standards/Ecma-404.htm)

## 4 Overview

This section contains a non-normative overview of the ECMAScript language.

ECMAScript is an object-oriented programming language for performing computations and manipulating computational objects within a [host environment](https://262.ecma-international.org/12.0/#host-environment). ECMAScript as defined here is not intended to be computationally self-sufficient; indeed, there are no provisions in this specification for input of external data or output of computed results. Instead, it is expected that the computational environment of an ECMAScript program will provide not only the objects and other facilities described in this specification but also certain environment-specific objects, whose description and behaviour are beyond the scope of this specification except to indicate that they may provide certain properties that can be accessed and certain functions that can be called from an ECMAScript program.

ECMAScript was originally designed to be used as a scripting language, but has become widely used as a general-purpose programming language. A _scripting language_ is a programming language that is used to manipulate, customize, and automate the facilities of an existing system. In such systems, useful functionality is already available through a user interface, and the scripting language is a mechanism for exposing that functionality to program control. In this way, the existing system is said to provide a [host environment](https://262.ecma-international.org/12.0/#host-environment) of objects and facilities, which completes the capabilities of the scripting language. A scripting language is intended for use by both professional and non-professional programmers.

ECMAScript was originally designed to be a _Web scripting language_, providing a mechanism to enliven Web pages in browsers and to perform server computation as part of a Web-based client-server architecture. ECMAScript is now used to provide core scripting capabilities for a variety of [host](https://262.ecma-international.org/12.0/#host) environments. Therefore the core language is specified in this document apart from any particular [host environment](https://262.ecma-international.org/12.0/#host-environment).

ECMAScript usage has moved beyond simple scripting and it is now used for the full spectrum of programming tasks in many different environments and scales. As the usage of ECMAScript has expanded, so have the features and facilities it provides. ECMAScript is now a fully featured general-purpose programming language.

## 4.1 Web Scripting

A web browser provides an ECMAScript [host environment](https://262.ecma-international.org/12.0/#host-environment) for client-side computation including, for instance, objects that represent windows, menus, pop-ups, dialog boxes, text areas, anchors, frames, history, cookies, and input/output. Further, the [host environment](https://262.ecma-international.org/12.0/#host-environment) provides a means to attach scripting code to events such as change of focus, page and image loading, unloading, error and abort, selection, form submission, and mouse actions. Scripting code appears within the HTML and the displayed page is a combination of user interface elements and fixed and computed text and images. The scripting code is reactive to user interaction, and there is no need for a main program.

A web server provides a different [host environment](https://262.ecma-international.org/12.0/#host-environment) for server-side computation including objects representing requests, clients, and files; and mechanisms to lock and share data. By using browser-side and server-side scripting together, it is possible to distribute computation between the client and server while providing a customized user interface for a Web-based application.

Each Web browser and server that supports ECMAScript supplies its own [host environment](https://262.ecma-international.org/12.0/#host-environment), completing the ECMAScript execution environment.

## 4.2 Hosts and Implementations

To aid integrating ECMAScript into [host](https://262.ecma-international.org/12.0/#host) environments, this specification defers the definition of certain facilities (e.g., [abstract operations](https://262.ecma-international.org/12.0/#sec-algorithm-conventions-abstract-operations)), either in whole or in part, to a source outside of this specification. Editorially, this specification distinguishes the following kinds of deferrals.

An _implementation_ is an external source that further defines facilities enumerated in Annex [D](https://262.ecma-international.org/12.0/#sec-host-layering-points) or those that are marked as [implementation-defined](https://262.ecma-international.org/12.0/#implementation-defined) or [implementation-approximated](https://262.ecma-international.org/12.0/#implementation-approximated). In informal use, an implementation refers to a concrete artefact, such as a particular web browser.

An implementation-defined facility is one that defers its definition to an external source without further qualification. This specification does not make any recommendations for particular behaviours, and conforming implementations are free to choose any behaviour within the constraints put forth by this specification.

An implementation-approximated facility is one that defers its definition to an external source while recommending an ideal behaviour. While conforming implementations are free to choose any behaviour within the constraints put forth by this specification, they are encouraged to strive to approximate the ideal. Some mathematical operations, such as [`Math.exp`](https://262.ecma-international.org/12.0/#sec-math.exp), are [implementation-approximated](https://262.ecma-international.org/12.0/#implementation-approximated).

A host is an external source that further defines facilities listed in Annex [D](https://262.ecma-international.org/12.0/#sec-host-layering-points) but does not further define other [implementation-defined](https://262.ecma-international.org/12.0/#implementation-defined) or [implementation-approximated](https://262.ecma-international.org/12.0/#implementation-approximated) facilities. In informal use, a [host](https://262.ecma-international.org/12.0/#host) refers to the set of all implementations, such as the set of all web browsers, that interface with this specification in the same way via Annex [D](https://262.ecma-international.org/12.0/#sec-host-layering-points). A [host](https://262.ecma-international.org/12.0/#host) is often an external specification, such as WHATWG HTML ([https://html.spec.whatwg.org/](https://html.spec.whatwg.org/)). In other words, facilities that are [host-defined](https://262.ecma-international.org/12.0/#host-defined) are often further defined in external specifications.

A host hook is an abstract operation that is defined in whole or in part by an external source. All [host](https://262.ecma-international.org/12.0/#host) hooks must be listed in Annex [D](https://262.ecma-international.org/12.0/#sec-host-layering-points).

A host-defined facility is one that defers its definition to an external source without further qualification and is listed in Annex [D](https://262.ecma-international.org/12.0/#sec-host-layering-points). Implementations that are not hosts may also provide definitions for [host-defined](https://262.ecma-international.org/12.0/#host-defined) facilities.

A host environment is a particular choice of definition for all [host-defined](https://262.ecma-international.org/12.0/#host-defined) facilities. A [host environment](https://262.ecma-international.org/12.0/#host-environment) typically includes objects or functions which allow obtaining input and providing output as [host-defined](https://262.ecma-international.org/12.0/#host-defined) properties of the [global object](https://262.ecma-international.org/12.0/#sec-global-object).

This specification follows the editorial convention of always using the most specific term. For example, if a facility is [host-defined](https://262.ecma-international.org/12.0/#host-defined), it should not be referred to as [implementation-defined](https://262.ecma-international.org/12.0/#implementation-defined).

Both hosts and implementations may interface with this specification via the language types, specification types, [abstract operations](https://262.ecma-international.org/12.0/#sec-algorithm-conventions-abstract-operations), grammar productions, intrinsic objects, and intrinsic symbols defined herein.

## 4.3 ECMAScript Overview

The following is an informal overview of ECMAScript—not all parts of the language are described. This overview is not part of the standard proper.

ECMAScript is object-based: basic language and [host](https://262.ecma-international.org/12.0/#host) facilities are provided by objects, and an ECMAScript program is a cluster of communicating objects. In ECMAScript, an _object_ is a collection of zero or more _properties_ each with _attributes_ that determine how each property can be used—for example, when the Writable attribute for a property is set to false, any attempt by executed ECMAScript code to assign a different value to the property fails. Properties are containers that hold other objects, _primitive values_, or _functions_. A primitive value is a member of one of the following built-in types: **Undefined**, **Null**, **Boolean**, **Number**, **BigInt**, **String**, and **Symbol;** an object is a member of the built-in type **Object**; and a function is a callable object. A function that is associated with an object via a property is called a _method_.

ECMAScript defines a collection of _built-in objects_ that round out the definition of ECMAScript entities. These built-in objects include the [global object](https://262.ecma-international.org/12.0/#sec-global-object); objects that are fundamental to the [runtime semantics](https://262.ecma-international.org/12.0/#sec-runtime-semantics) of the language including `Object`, `Function`, `Boolean`, `Symbol`, and various `Error` objects; objects that represent and manipulate numeric values including `Math`, `Number`, and `Date`; the text processing objects `String` and `RegExp`; objects that are indexed collections of values including `Array` and nine different kinds of Typed Arrays whose elements all have a specific numeric data representation; keyed collections including `Map` and `Set` objects; objects supporting structured data including the `JSON` object, `ArrayBuffer`, `SharedArrayBuffer`, and `DataView`; objects supporting control abstractions including generator functions and `Promise` objects; and reflection objects including `Proxy` and `Reflect`.

ECMAScript also defines a set of built-in _operators_. ECMAScript operators include various unary operations, multiplicative operators, additive operators, bitwise shift operators, relational operators, equality operators, binary bitwise operators, binary logical operators, assignment operators, and the comma operator.

Large ECMAScript programs are supported by _modules_ which allow a program to be divided into multiple sequences of statements and declarations. Each module explicitly identifies declarations it uses that need to be provided by other modules and which of its declarations are available for use by other modules.

ECMAScript syntax intentionally resembles Java syntax. ECMAScript syntax is relaxed to enable it to serve as an easy-to-use scripting language. For example, a variable is not required to have its type declared nor are types associated with properties, and defined functions are not required to have their declarations appear textually before calls to them.

## 4.3.1 Objects

Even though ECMAScript includes syntax for class definitions, ECMAScript objects are not fundamentally class-based such as those in C++, Smalltalk, or Java. Instead objects may be created in various ways including via a literal notation or via _constructors_ which create objects and then execute code that initializes all or part of them by assigning initial values to their properties. Each [constructor](https://262.ecma-international.org/12.0/#constructor) is a function that has a property named "prototype" that is used to implement _prototype-based inheritance_ and _shared properties_. Objects are created by using constructors in **new** expressions; for example, `new Date(2009, 11)` creates a new Date object. Invoking a [constructor](https://262.ecma-international.org/12.0/#constructor) without using **new** has consequences that depend on the [constructor](https://262.ecma-international.org/12.0/#constructor). For example, `Date()` produces a string representation of the current date and time rather than an object.

Every object created by a [constructor](https://262.ecma-international.org/12.0/#constructor) has an implicit reference (called the object's _prototype_) to the value of its [constructor](https://262.ecma-international.org/12.0/#constructor)'s "prototype" property. Furthermore, a prototype may have a non-null implicit reference to its prototype, and so on; this is called the _prototype chain_. When a reference is made to a property in an object, that reference is to the property of that name in the first object in the prototype chain that contains a property of that name. In other words, first the object mentioned directly is examined for such a property; if that object contains the named property, that is the property to which the reference refers; if that object does not contain the named property, the prototype for that object is examined next; and so on.

Figure 1: Object/Prototype Relationships

In a class-based object-oriented language, in general, state is carried by instances, methods are carried by classes, and inheritance is only of structure and behaviour. In ECMAScript, the state and methods are carried by objects, while structure, behaviour, and state are all inherited.

All objects that do not directly contain a particular property that their prototype contains share that property and its value. Figure 1 illustrates this:

**CF** is a [constructor](https://262.ecma-international.org/12.0/#constructor) (and also an object). Five objects have been created by using `new` expressions: **cf1**, **cf2**, **cf3**, **cf4**, and **cf5**. Each of these objects contains properties named "q1" and "q2". The dashed lines represent the implicit prototype relationship; so, for example, **cf3**'s prototype is **CFp**. The [constructor](https://262.ecma-international.org/12.0/#constructor), **CF**, has two properties itself, named "P1" and "P2", which are not visible to **CFp**, **cf1**, **cf2**, **cf3**, **cf4**, or **cf5**. The property named "CFP1" in **CFp** is shared by **cf1**, **cf2**, **cf3**, **cf4**, and **cf5** (but not by **CF**), as are any properties found in **CFp**'s implicit prototype chain that are not named "q1", "q2", or "CFP1". Notice that there is no implicit prototype link between **CF** and **CFp**.

Unlike most class-based object languages, properties can be added to objects dynamically by assigning values to them. That is, constructors are not required to name or assign values to all or any of the constructed object's properties. In the above diagram, one could add a new shared property for **cf1**, **cf2**, **cf3**, **cf4**, and **cf5** by assigning a new value to the property in **CFp**.

Although ECMAScript objects are not inherently class-based, it is often convenient to define class-like abstractions based upon a common pattern of [constructor](https://262.ecma-international.org/12.0/#constructor) functions, prototype objects, and methods. The ECMAScript built-in objects themselves follow such a class-like pattern. Beginning with ECMAScript 2015, the ECMAScript language includes syntactic class definitions that permit programmers to concisely define objects that conform to the same class-like abstraction pattern used by the built-in objects.

## 4.3.2 The Strict Variant of ECMAScript

The ECMAScript Language recognizes the possibility that some users of the language may wish to restrict their usage of some features available in the language. They might do so in the interests of security, to avoid what they consider to be error-prone features, to get enhanced error checking, or for other reasons of their choosing. In support of this possibility, ECMAScript defines a strict variant of the language. The strict variant of the language excludes some specific syntactic and semantic features of the regular ECMAScript language and modifies the detailed semantics of some features. The strict variant also specifies additional error conditions that must be reported by throwing error exceptions in situations that are not specified as errors by the non-strict form of the language.

The strict variant of ECMAScript is commonly referred to as the _strict mode_ of the language. Strict mode selection and use of the strict mode syntax and semantics of ECMAScript is explicitly made at the level of individual ECMAScript source text units as described in [11.2.2](https://262.ecma-international.org/12.0/#sec-strict-mode-code). Because strict mode is selected at the level of a syntactic source text unit, strict mode only imposes restrictions that have local effect within such a source text unit. Strict mode does not restrict or modify any aspect of the ECMAScript semantics that must operate consistently across multiple source text units. A complete ECMAScript program may be composed of both strict mode and non-strict mode ECMAScript source text units. In this case, strict mode only applies when actually executing code that is defined within a strict mode source text unit.

In order to conform to this specification, an ECMAScript implementation must implement both the full unrestricted ECMAScript language and the strict variant of the ECMAScript language as defined by this specification. In addition, an implementation must support the combination of unrestricted and strict mode source text units into a single composite program.

## 4.4 Terms and Definitions

For the purposes of this document, the following terms and definitions apply.

## 4.4.1 implementation-approximated

an [implementation-approximated](https://262.ecma-international.org/12.0/#implementation-approximated) facility is defined in whole or in part by an external source but has a recommended, ideal behaviour in this specification

## 4.4.2 implementation-defined

an [implementation-defined](https://262.ecma-international.org/12.0/#implementation-defined) facility is defined in whole or in part by an external source to this specification

## 4.4.3 host-defined

same as [implementation-defined](https://262.ecma-international.org/12.0/#implementation-defined)

Note

Editorially, see clause [4.2](https://262.ecma-international.org/12.0/#sec-hosts-and-implementations).

## 4.4.4 type

set of data values as defined in clause [6](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)

## 4.4.5 primitive value

member of one of the types Undefined, Null, Boolean, Number, BigInt, Symbol, or String as defined in clause [6](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)

Note

A primitive value is a datum that is represented directly at the lowest level of the language implementation.

## 4.4.6 object

member of the type Object

Note

An object is a collection of properties and has a single prototype object. The prototype may be the null value.

## 4.4.7 constructor

[function object](https://262.ecma-international.org/12.0/#function-object) that creates and initializes objects

Note

The value of a [constructor](https://262.ecma-international.org/12.0/#constructor)'s "prototype" property is a prototype object that is used to implement inheritance and shared properties.

## 4.4.8 prototype

object that provides shared properties for other objects

Note

When a [constructor](https://262.ecma-international.org/12.0/#constructor) creates an object, that object implicitly references the [constructor](https://262.ecma-international.org/12.0/#constructor)'s "prototype" property for the purpose of resolving property references. The [constructor](https://262.ecma-international.org/12.0/#constructor)'s "prototype" property can be referenced by the program expression `constructor.prototype`, and properties added to an object's prototype are shared, through inheritance, by all objects sharing the prototype. Alternatively, a new object may be created with an explicitly specified prototype by using the `Object.create` built-in function.

## 4.4.9 ordinary object

object that has the default behaviour for the essential internal methods that must be supported by all objects

## 4.4.10 exotic object

object that does not have the default behaviour for one or more of the essential internal methods

Note

Any object that is not an [ordinary object](https://262.ecma-international.org/12.0/#ordinary-object) is an [exotic object](https://262.ecma-international.org/12.0/#exotic-object).

## 4.4.11 standard object

object whose semantics are defined by this specification

## 4.4.12 built-in object

object specified and supplied by an ECMAScript implementation

Note

Standard built-in objects are defined in this specification. An ECMAScript implementation may specify and supply additional kinds of built-in objects. A _built-in [constructor](https://262.ecma-international.org/12.0/#constructor)_ is a built-in object that is also a [constructor](https://262.ecma-international.org/12.0/#constructor).

## 4.4.13 undefined value

primitive value used when a variable has not been assigned a value

## 4.4.14 Undefined type

type whose sole value is the undefined value

## 4.4.15 null value

primitive value that represents the intentional absence of any object value

## 4.4.16 Null type

type whose sole value is the null value

## 4.4.17 Boolean value

member of the Boolean type

Note

There are only two Boolean values, true and false.

## 4.4.18 Boolean type

type consisting of the primitive values true and false

## 4.4.19 Boolean object

member of the Object type that is an instance of the standard built-in Boolean [constructor](https://262.ecma-international.org/12.0/#constructor)

Note

A Boolean object is created by using the Boolean [constructor](https://262.ecma-international.org/12.0/#constructor) in a `new` expression, supplying a Boolean value as an argument. The resulting object has an internal slot whose value is the Boolean value. A Boolean object can be coerced to a Boolean value.

## 4.4.20 String value

primitive value that is a finite ordered sequence of zero or more 16-bit unsigned [integer](https://262.ecma-international.org/12.0/#integer) values

Note

A String value is a member of the String type. Each [integer](https://262.ecma-international.org/12.0/#integer) value in the sequence usually represents a single 16-bit unit of UTF-16 text. However, ECMAScript does not place any restrictions or requirements on the values except that they must be 16-bit unsigned integers.

## 4.4.21 String type

set of all possible String values

## 4.4.22 String object

member of the Object type that is an instance of the standard built-in String [constructor](https://262.ecma-international.org/12.0/#constructor)

Note

A String object is created by using the String [constructor](https://262.ecma-international.org/12.0/#constructor) in a `new` expression, supplying a String value as an argument. The resulting object has an internal slot whose value is the String value. A String object can be coerced to a String value by calling the String [constructor](https://262.ecma-international.org/12.0/#constructor) as a function ([22.1.1.1](https://262.ecma-international.org/12.0/#sec-string-constructor-string-value)).

## 4.4.23 Number value

primitive value corresponding to a double-precision 64-bit binary format [IEEE 754-2019](https://262.ecma-international.org/12.0/#sec-bibliography) value

Note

A [Number value](https://262.ecma-international.org/12.0/#number-value) is a member of the Number type and is a direct representation of a number.

## 4.4.24 Number type

set of all possible Number values including the special “Not-a-Number” (NaN) value, positive infinity, and negative infinity

## 4.4.25 Number object

member of the Object type that is an instance of the standard built-in Number [constructor](https://262.ecma-international.org/12.0/#constructor)

Note

A Number object is created by using the Number [constructor](https://262.ecma-international.org/12.0/#constructor) in a `new` expression, supplying a [Number value](https://262.ecma-international.org/12.0/#number-value) as an argument. The resulting object has an internal slot whose value is the [Number value](https://262.ecma-international.org/12.0/#number-value). A Number object can be coerced to a [Number value](https://262.ecma-international.org/12.0/#number-value) by calling the Number [constructor](https://262.ecma-international.org/12.0/#constructor) as a function ([21.1.1.1](https://262.ecma-international.org/12.0/#sec-number-constructor-number-value)).

## 4.4.26 Infinity

[Number value](https://262.ecma-international.org/12.0/#number-value) that is the positive infinite [Number value](https://262.ecma-international.org/12.0/#number-value)

## 4.4.27 NaN

[Number value](https://262.ecma-international.org/12.0/#number-value) that is an [IEEE 754-2019](https://262.ecma-international.org/12.0/#sec-bibliography) “Not-a-Number” value

## 4.4.28 BigInt value

primitive value corresponding to an arbitrary-precision [integer](https://262.ecma-international.org/12.0/#integer) value

## 4.4.29 BigInt type

set of all possible BigInt values

## 4.4.30 BigInt object

member of the Object type that is an instance of the standard built-in BigInt [constructor](https://262.ecma-international.org/12.0/#constructor)

## 4.4.31 Symbol value

primitive value that represents a unique, non-String Object property key

## 4.4.32 Symbol type

set of all possible Symbol values

## 4.4.33 Symbol object

member of the Object type that is an instance of the standard built-in Symbol [constructor](https://262.ecma-international.org/12.0/#constructor)

## 4.4.34 function

member of the Object type that may be invoked as a subroutine

Note

In addition to its properties, a function contains executable code and state that determine how it behaves when invoked. A function's code may or may not be written in ECMAScript.

## 4.4.35 built-in function

built-in object that is a function

Note

Examples of built-in functions include `parseInt` and `Math.exp`. A [host](https://262.ecma-international.org/12.0/#host) or implementation may provide additional built-in functions that are not described in this specification.

## 4.4.36 property

part of an object that associates a key (either a String value or a Symbol value) and a value

Note

Depending upon the form of the property the value may be represented either directly as a data value (a primitive value, an object, or a [function object](https://262.ecma-international.org/12.0/#function-object)) or indirectly by a pair of accessor functions.

## 4.4.37 method

function that is the value of a property

Note

When a function is called as a method of an object, the object is passed to the function as its this value.

## 4.4.38 built-in method

method that is a built-in function

Note

Standard built-in methods are defined in this specification. A [host](https://262.ecma-international.org/12.0/#host) or implementation may provide additional built-in methods that are not described in this specification.

## 4.4.39 attribute

internal value that defines some characteristic of a property

## 4.4.40 own property

property that is directly contained by its object

## 4.4.41 inherited property

property of an object that is not an own property but is a property (either own or inherited) of the object's prototype

## 4.5 Organization of This Specification

The remainder of this specification is organized as follows:

Clause [5](https://262.ecma-international.org/12.0/#sec-notational-conventions) defines the notational conventions used throughout the specification.

Clauses [6](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values) through [10](https://262.ecma-international.org/12.0/#sec-ordinary-and-exotic-objects-behaviours) define the execution environment within which ECMAScript programs operate.

Clauses [11](https://262.ecma-international.org/12.0/#sec-ecmascript-language-source-code) through [17](https://262.ecma-international.org/12.0/#sec-error-handling-and-language-extensions) define the actual ECMAScript programming language including its syntactic encoding and the execution semantics of all language features.

Clauses [18](https://262.ecma-international.org/12.0/#sec-ecmascript-standard-built-in-objects) through [28](https://262.ecma-international.org/12.0/#sec-reflection) define the ECMAScript standard library. They include the definitions of all of the standard objects that are available for use by ECMAScript programs as they execute.

Clause [29](https://262.ecma-international.org/12.0/#sec-memory-model) describes the memory consistency model of accesses on SharedArrayBuffer-backed memory and methods of the Atomics object.

## 5 Notational Conventions

## 5.1 Syntactic and Lexical Grammars

## 5.1.1 Context-Free Grammars

A _context-free grammar_ consists of a number of _productions_. Each production has an abstract symbol called a _nonterminal_ as its _left-hand side_, and a sequence of zero or more nonterminal and _terminal_ symbols as its _right-hand side_. For each grammar, the terminal symbols are drawn from a specified alphabet.

A chain production is a production that has exactly one nonterminal symbol on its right-hand side along with zero or more terminal symbols.

Starting from a sentence consisting of a single distinguished nonterminal, called the goal symbol, a given context-free grammar specifies a _language_, namely, the (perhaps infinite) set of possible sequences of terminal symbols that can result from repeatedly replacing any nonterminal in the sequence with a right-hand side of a production for which the nonterminal is the left-hand side.

## 5.1.2 The Lexical and RegExp Grammars

A _lexical grammar_ for ECMAScript is given in clause [12](https://262.ecma-international.org/12.0/#sec-ecmascript-language-lexical-grammar). This grammar has as its terminal symbols Unicode code points that conform to the rules for [SourceCharacter](https://262.ecma-international.org/12.0/#prod-SourceCharacter) defined in [11.1](https://262.ecma-international.org/12.0/#sec-source-text). It defines a set of productions, starting from the [goal symbol](https://262.ecma-international.org/12.0/#sec-context-free-grammars) [InputElementDiv](https://262.ecma-international.org/12.0/#prod-InputElementDiv), [InputElementTemplateTail](https://262.ecma-international.org/12.0/#prod-InputElementTemplateTail), or [InputElementRegExp](https://262.ecma-international.org/12.0/#prod-InputElementRegExp), or [InputElementRegExpOrTemplateTail](https://262.ecma-international.org/12.0/#prod-InputElementRegExpOrTemplateTail), that describe how sequences of such code points are translated into a sequence of input elements.

Input elements other than white space and comments form the terminal symbols for the syntactic grammar for ECMAScript and are called ECMAScript _tokens_. These tokens are the reserved words, identifiers, literals, and punctuators of the ECMAScript language. Moreover, line terminators, although not considered to be tokens, also become part of the stream of input elements and guide the process of automatic semicolon insertion ([12.9](https://262.ecma-international.org/12.0/#sec-automatic-semicolon-insertion)). Simple white space and single-line comments are discarded and do not appear in the stream of input elements for the syntactic grammar. A [MultiLineComment](https://262.ecma-international.org/12.0/#prod-MultiLineComment) (that is, a comment of the form `/*`…`*/` regardless of whether it spans more than one line) is likewise simply discarded if it contains no line terminator; but if a [MultiLineComment](https://262.ecma-international.org/12.0/#prod-MultiLineComment) contains one or more line terminators, then it is replaced by a single line terminator, which becomes part of the stream of input elements for the syntactic grammar.

A _RegExp grammar_ for ECMAScript is given in [22.2.1](https://262.ecma-international.org/12.0/#sec-patterns). This grammar also has as its terminal symbols the code points as defined by [SourceCharacter](https://262.ecma-international.org/12.0/#prod-SourceCharacter). It defines a set of productions, starting from the [goal symbol](https://262.ecma-international.org/12.0/#sec-context-free-grammars) [Pattern](https://262.ecma-international.org/12.0/#prod-Pattern), that describe how sequences of code points are translated into regular expression patterns.

Productions of the lexical and RegExp grammars are distinguished by having two colons “**::**” as separating punctuation. The lexical and RegExp grammars share some productions.

## 5.1.3 The Numeric String Grammar

Another grammar is used for translating Strings into numeric values. This grammar is similar to the part of the lexical grammar having to do with numeric literals and has as its terminal symbols [SourceCharacter](https://262.ecma-international.org/12.0/#prod-SourceCharacter). This grammar appears in [7.1.4.1](https://262.ecma-international.org/12.0/#sec-tonumber-applied-to-the-string-type).

Productions of the numeric string grammar are distinguished by having three colons “**:::**” as punctuation.

## 5.1.4 The Syntactic Grammar

The _syntactic grammar_ for ECMAScript is given in clauses [13](https://262.ecma-international.org/12.0/#sec-ecmascript-language-expressions) through [16](https://262.ecma-international.org/12.0/#sec-ecmascript-language-scripts-and-modules). This grammar has ECMAScript tokens defined by the lexical grammar as its terminal symbols ([5.1.2](https://262.ecma-international.org/12.0/#sec-lexical-and-regexp-grammars)). It defines a set of productions, starting from two alternative goal symbols [Script](https://262.ecma-international.org/12.0/#prod-Script) and [Module](https://262.ecma-international.org/12.0/#prod-Module), that describe how sequences of tokens form syntactically correct independent components of ECMAScript programs.

When a stream of code points is to be parsed as an ECMAScript [Script](https://262.ecma-international.org/12.0/#prod-Script) or [Module](https://262.ecma-international.org/12.0/#prod-Module), it is first converted to a stream of input elements by repeated application of the lexical grammar; this stream of input elements is then parsed by a single application of the syntactic grammar. The input stream is syntactically in error if the tokens in the stream of input elements cannot be parsed as a single instance of the goal nonterminal ([Script](https://262.ecma-international.org/12.0/#prod-Script) or [Module](https://262.ecma-international.org/12.0/#prod-Module)), with no tokens left over.

When a parse is successful, it constructs a _parse tree_, a rooted tree structure in which each node is a Parse Node. Each Parse Node is an _instance_ of a symbol in the grammar; it represents a span of the source text that can be derived from that symbol. The root node of the parse tree, representing the whole of the source text, is an instance of the parse's [goal symbol](https://262.ecma-international.org/12.0/#sec-context-free-grammars). When a Parse Node is an instance of a nonterminal, it is also an instance of some production that has that nonterminal as its left-hand side. Moreover, it has zero or more _children_, one for each symbol on the production's right-hand side: each child is a Parse Node that is an instance of the corresponding symbol.

New Parse Nodes are instantiated for each invocation of the parser and never reused between parses even of identical source text. Parse Nodes are considered the same Parse Node if and only if they represent the same span of source text, are instances of the same grammar symbol, and resulted from the same parser invocation.

Note 1

Parsing the same String multiple times will lead to different Parse Nodes. For example, consider:

```
let str = "1 + 1;";
eval(str);
eval(str);
```

Each call to `eval` converts the value of `str` into an ECMAScript source text and performs an independent parse that creates its own separate tree of Parse Nodes. The trees are distinct even though each parse operates upon a source text that was derived from the same String value.

Note 2

Parse Nodes are specification artefacts, and implementations are not required to use an analogous data structure.

Productions of the syntactic grammar are distinguished by having just one colon “**:**” as punctuation.

The syntactic grammar as presented in clauses [13](https://262.ecma-international.org/12.0/#sec-ecmascript-language-expressions) through [16](https://262.ecma-international.org/12.0/#sec-ecmascript-language-scripts-and-modules) is not a complete account of which token sequences are accepted as a correct ECMAScript [Script](https://262.ecma-international.org/12.0/#prod-Script) or [Module](https://262.ecma-international.org/12.0/#prod-Module). Certain additional token sequences are also accepted, namely, those that would be described by the grammar if only semicolons were added to the sequence in certain places (such as before line terminator characters). Furthermore, certain token sequences that are described by the grammar are not considered acceptable if a line terminator character appears in certain “awkward” places.

In certain cases, in order to avoid ambiguities, the syntactic grammar uses generalized productions that permit token sequences that do not form a valid ECMAScript [Script](https://262.ecma-international.org/12.0/#prod-Script) or [Module](https://262.ecma-international.org/12.0/#prod-Module). For example, this technique is used for object literals and object destructuring patterns. In such cases a more restrictive _supplemental grammar_ is provided that further restricts the acceptable token sequences. Typically, an [early error](https://262.ecma-international.org/12.0/#early-error) rule will then define an error condition if "P is not covering an N", where P is a Parse Node (an instance of the generalized production) and N is a nonterminal from the supplemental grammar. Here, the sequence of tokens originally matched by P is parsed again using N as the [goal symbol](https://262.ecma-international.org/12.0/#sec-context-free-grammars). (If N takes grammatical parameters, then they are set to the same values used when P was originally parsed.) An error occurs if the sequence of tokens cannot be parsed as a single instance of N, with no tokens left over. Subsequently, algorithms access the result of the parse using a phrase of the form "the N that is covered by P". This will always be a Parse Node (an instance of N, unique for a given P), since any parsing failure would have been detected by an [early error](https://262.ecma-international.org/12.0/#early-error) rule.

## 5.1.5 Grammar Notation

Terminal symbols are shown in `fixed width` font, both in the productions of the grammars and throughout this specification whenever the text directly refers to such a terminal symbol. These are to appear in a script exactly as written. All terminal symbol code points specified in this way are to be understood as the appropriate Unicode code points from the Basic Latin range, as opposed to any similar-looking code points from other Unicode ranges. A code point in a terminal symbol cannot be expressed by a `\` [UnicodeEscapeSequence](https://262.ecma-international.org/12.0/#prod-UnicodeEscapeSequence).

Nonterminal symbols are shown in _italic_ type. The definition of a nonterminal (also called a “production”) is introduced by the name of the nonterminal being defined followed by one or more colons. (The number of colons indicates to which grammar the production belongs.) One or more alternative right-hand sides for the nonterminal then follow on succeeding lines. For example, the syntactic definition:

[WhileStatement](https://262.ecma-international.org/12.0/#prod-grammar-notation-WhileStatement) : while ( [Expression](https://262.ecma-international.org/12.0/#prod-Expression) ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement)

states that the nonterminal [WhileStatement](https://262.ecma-international.org/12.0/#prod-grammar-notation-WhileStatement) represents the token `while`, followed by a left parenthesis token, followed by an [Expression](https://262.ecma-international.org/12.0/#prod-Expression), followed by a right parenthesis token, followed by a [Statement](https://262.ecma-international.org/12.0/#prod-Statement). The occurrences of [Expression](https://262.ecma-international.org/12.0/#prod-Expression) and [Statement](https://262.ecma-international.org/12.0/#prod-Statement) are themselves nonterminals. As another example, the syntactic definition:

[ArgumentList](https://262.ecma-international.org/12.0/#prod-grammar-notation-ArgumentList) : [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression) [ArgumentList](https://262.ecma-international.org/12.0/#prod-grammar-notation-ArgumentList) , [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression)

states that an [ArgumentList](https://262.ecma-international.org/12.0/#prod-grammar-notation-ArgumentList) may represent either a single [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression) or an [ArgumentList](https://262.ecma-international.org/12.0/#prod-grammar-notation-ArgumentList), followed by a comma, followed by an [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression). This definition of [ArgumentList](https://262.ecma-international.org/12.0/#prod-grammar-notation-ArgumentList) is recursive, that is, it is defined in terms of itself. The result is that an [ArgumentList](https://262.ecma-international.org/12.0/#prod-grammar-notation-ArgumentList) may contain any positive number of arguments, separated by commas, where each argument expression is an [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression). Such recursive definitions of nonterminals are common.

The subscripted suffix “opt”, which may appear after a terminal or nonterminal, indicates an optional symbol. The alternative containing the optional symbol actually specifies two right-hand sides, one that omits the optional element and one that includes it. This means that:

[VariableDeclaration](https://262.ecma-international.org/12.0/#prod-grammar-notation-VariableDeclaration) : [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier) [Initializer](https://262.ecma-international.org/12.0/#prod-Initializer)opt

is a convenient abbreviation for:

[VariableDeclaration](https://262.ecma-international.org/12.0/#prod-grammar-notation-VariableDeclaration) : [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier) [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier) [Initializer](https://262.ecma-international.org/12.0/#prod-Initializer)

and that:

[ForStatement](https://262.ecma-international.org/12.0/#prod-grammar-notation-ForStatement) : for ( [LexicalDeclaration](https://262.ecma-international.org/12.0/#prod-LexicalDeclaration) [Expression](https://262.ecma-international.org/12.0/#prod-Expression)opt ; [Expression](https://262.ecma-international.org/12.0/#prod-Expression)opt ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement)

is a convenient abbreviation for:

[ForStatement](https://262.ecma-international.org/12.0/#prod-grammar-notation-ForStatement) : for ( [LexicalDeclaration](https://262.ecma-international.org/12.0/#prod-LexicalDeclaration) ; [Expression](https://262.ecma-international.org/12.0/#prod-Expression)opt ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement) for ( [LexicalDeclaration](https://262.ecma-international.org/12.0/#prod-LexicalDeclaration) [Expression](https://262.ecma-international.org/12.0/#prod-Expression) ; [Expression](https://262.ecma-international.org/12.0/#prod-Expression)opt ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement)

which in turn is an abbreviation for:

[ForStatement](https://262.ecma-international.org/12.0/#prod-grammar-notation-ForStatement) : for ( [LexicalDeclaration](https://262.ecma-international.org/12.0/#prod-LexicalDeclaration) ; ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement) for ( [LexicalDeclaration](https://262.ecma-international.org/12.0/#prod-LexicalDeclaration) ; [Expression](https://262.ecma-international.org/12.0/#prod-Expression) ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement) for ( [LexicalDeclaration](https://262.ecma-international.org/12.0/#prod-LexicalDeclaration) [Expression](https://262.ecma-international.org/12.0/#prod-Expression) ; ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement) for ( [LexicalDeclaration](https://262.ecma-international.org/12.0/#prod-LexicalDeclaration) [Expression](https://262.ecma-international.org/12.0/#prod-Expression) ; [Expression](https://262.ecma-international.org/12.0/#prod-Expression) ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement)

so, in this example, the nonterminal [ForStatement](https://262.ecma-international.org/12.0/#prod-grammar-notation-ForStatement) actually has four alternative right-hand sides.

A production may be parameterized by a subscripted annotation of the form “\[parameters\]”, which may appear as a suffix to the nonterminal symbol defined by the production. “parameters” may be either a single name or a comma separated list of names. A parameterized production is shorthand for a set of productions defining all combinations of the parameter names, preceded by an underscore, appended to the parameterized nonterminal symbol. This means that:

[StatementList](https://262.ecma-international.org/12.0/#prod-grammar-notation-StatementList)\[Return\] : [ReturnStatement](https://262.ecma-international.org/12.0/#prod-ReturnStatement) [ExpressionStatement](https://262.ecma-international.org/12.0/#prod-ExpressionStatement)

is a convenient abbreviation for:

[StatementList](https://262.ecma-international.org/12.0/#prod-grammar-notation-StatementList) : [ReturnStatement](https://262.ecma-international.org/12.0/#prod-ReturnStatement) [ExpressionStatement](https://262.ecma-international.org/12.0/#prod-ExpressionStatement) [StatementList\_Return](https://262.ecma-international.org/12.0/#prod-grammar-notation-StatementList_Return) : [ReturnStatement](https://262.ecma-international.org/12.0/#prod-ReturnStatement) [ExpressionStatement](https://262.ecma-international.org/12.0/#prod-ExpressionStatement)

and that:

[StatementList](https://262.ecma-international.org/12.0/#prod-grammar-notation-StatementList)\[Return, In\] : [ReturnStatement](https://262.ecma-international.org/12.0/#prod-ReturnStatement) [ExpressionStatement](https://262.ecma-international.org/12.0/#prod-ExpressionStatement)

is an abbreviation for:

[StatementList](https://262.ecma-international.org/12.0/#prod-grammar-notation-StatementList) : [ReturnStatement](https://262.ecma-international.org/12.0/#prod-ReturnStatement) [ExpressionStatement](https://262.ecma-international.org/12.0/#prod-ExpressionStatement) [StatementList\_Return](https://262.ecma-international.org/12.0/#prod-grammar-notation-StatementList_Return) : [ReturnStatement](https://262.ecma-international.org/12.0/#prod-ReturnStatement) [ExpressionStatement](https://262.ecma-international.org/12.0/#prod-ExpressionStatement) [StatementList\_In](https://262.ecma-international.org/12.0/#prod-grammar-notation-StatementList_In) : [ReturnStatement](https://262.ecma-international.org/12.0/#prod-ReturnStatement) [ExpressionStatement](https://262.ecma-international.org/12.0/#prod-ExpressionStatement) [StatementList\_Return\_In](https://262.ecma-international.org/12.0/#prod-grammar-notation-StatementList_Return_In) : [ReturnStatement](https://262.ecma-international.org/12.0/#prod-ReturnStatement) [ExpressionStatement](https://262.ecma-international.org/12.0/#prod-ExpressionStatement)

Multiple parameters produce a combinatory number of productions, not all of which are necessarily referenced in a complete grammar.

References to nonterminals on the right-hand side of a production can also be parameterized. For example:

[StatementList](https://262.ecma-international.org/12.0/#prod-grammar-notation-StatementList) : [ReturnStatement](https://262.ecma-international.org/12.0/#prod-ReturnStatement) [ExpressionStatement](https://262.ecma-international.org/12.0/#prod-ExpressionStatement)\[+In\]

is equivalent to saying:

[StatementList](https://262.ecma-international.org/12.0/#prod-grammar-notation-StatementList) : [ReturnStatement](https://262.ecma-international.org/12.0/#prod-ReturnStatement) ExpressionStatement\_In

and:

[StatementList](https://262.ecma-international.org/12.0/#prod-grammar-notation-StatementList) : [ReturnStatement](https://262.ecma-international.org/12.0/#prod-ReturnStatement) [ExpressionStatement](https://262.ecma-international.org/12.0/#prod-ExpressionStatement)\[~In\]

is equivalent to:

[StatementList](https://262.ecma-international.org/12.0/#prod-grammar-notation-StatementList) : [ReturnStatement](https://262.ecma-international.org/12.0/#prod-ReturnStatement) [ExpressionStatement](https://262.ecma-international.org/12.0/#prod-ExpressionStatement)

A nonterminal reference may have both a parameter list and an “opt” suffix. For example:

[VariableDeclaration](https://262.ecma-international.org/12.0/#prod-grammar-notation-VariableDeclaration) : [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier) [Initializer](https://262.ecma-international.org/12.0/#prod-Initializer)\[+In\]opt

is an abbreviation for:

[VariableDeclaration](https://262.ecma-international.org/12.0/#prod-grammar-notation-VariableDeclaration) : [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier) [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier) Initializer\_In

Prefixing a parameter name with “?” on a right-hand side nonterminal reference makes that parameter value dependent upon the occurrence of the parameter name on the reference to the current production's left-hand side symbol. For example:

[VariableDeclaration](https://262.ecma-international.org/12.0/#prod-grammar-notation-VariableDeclaration)\[In\] : [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier) [Initializer](https://262.ecma-international.org/12.0/#prod-Initializer)\[?In\]

is an abbreviation for:

[VariableDeclaration](https://262.ecma-international.org/12.0/#prod-grammar-notation-VariableDeclaration) : [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier) [Initializer](https://262.ecma-international.org/12.0/#prod-Initializer) [VariableDeclaration\_In](https://262.ecma-international.org/12.0/#prod-grammar-notation-VariableDeclaration_In) : [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier) Initializer\_In

If a right-hand side alternative is prefixed with “\[+parameter\]” that alternative is only available if the named parameter was used in referencing the production's nonterminal symbol. If a right-hand side alternative is prefixed with “\[~parameter\]” that alternative is only available if the named parameter was _not_ used in referencing the production's nonterminal symbol. This means that:

[StatementList](https://262.ecma-international.org/12.0/#prod-grammar-notation-StatementList)\[Return\] : \[+Return\][ReturnStatement](https://262.ecma-international.org/12.0/#prod-ReturnStatement) [ExpressionStatement](https://262.ecma-international.org/12.0/#prod-ExpressionStatement)

is an abbreviation for:

[StatementList](https://262.ecma-international.org/12.0/#prod-grammar-notation-StatementList) : [ExpressionStatement](https://262.ecma-international.org/12.0/#prod-ExpressionStatement) [StatementList\_Return](https://262.ecma-international.org/12.0/#prod-grammar-notation-StatementList_Return) : [ReturnStatement](https://262.ecma-international.org/12.0/#prod-ReturnStatement) [ExpressionStatement](https://262.ecma-international.org/12.0/#prod-ExpressionStatement)

and that:

[StatementList](https://262.ecma-international.org/12.0/#prod-grammar-notation-StatementList)\[Return\] : \[~Return\][ReturnStatement](https://262.ecma-international.org/12.0/#prod-ReturnStatement) [ExpressionStatement](https://262.ecma-international.org/12.0/#prod-ExpressionStatement)

is an abbreviation for:

[StatementList](https://262.ecma-international.org/12.0/#prod-grammar-notation-StatementList) : [ReturnStatement](https://262.ecma-international.org/12.0/#prod-ReturnStatement) [ExpressionStatement](https://262.ecma-international.org/12.0/#prod-ExpressionStatement) [StatementList\_Return](https://262.ecma-international.org/12.0/#prod-grammar-notation-StatementList_Return) : [ExpressionStatement](https://262.ecma-international.org/12.0/#prod-ExpressionStatement)

When the words “**one of**” follow the colon(s) in a grammar definition, they signify that each of the terminal symbols on the following line or lines is an alternative definition. For example, the lexical grammar for ECMAScript contains the production:

[NonZeroDigit](https://262.ecma-international.org/12.0/#prod-grammar-notation-NonZeroDigit) :: one of 1 2 3 4 5 6 7 8 9

which is merely a convenient abbreviation for:

[NonZeroDigit](https://262.ecma-international.org/12.0/#prod-grammar-notation-NonZeroDigit) :: 1 2 3 4 5 6 7 8 9

If the phrase “\[empty\]” appears as the right-hand side of a production, it indicates that the production's right-hand side contains no terminals or nonterminals.

If the phrase “\[lookahead = seq\]” appears in the right-hand side of a production, it indicates that the production may only be used if the token sequence seq is a prefix of the immediately following input token sequence. Similarly, “\[lookahead ∈ set\]”, where set is a finite nonempty set of token sequences, indicates that the production may only be used if some element of set is a prefix of the immediately following token sequence. For convenience, the set can also be written as a nonterminal, in which case it represents the set of all token sequences to which that nonterminal could expand. It is considered an editorial error if the nonterminal could expand to infinitely many distinct token sequences.

These conditions may be negated. “\[lookahead ≠ seq\]” indicates that the containing production may only be used if seq is _not_ a prefix of the immediately following input token sequence, and “\[lookahead ∉ set\]” indicates that the production may only be used if _no_ element of set is a prefix of the immediately following token sequence.

As an example, given the definitions:

[DecimalDigit](https://262.ecma-international.org/12.0/#prod-grammar-notation-DecimalDigit) :: one of 0 1 2 3 4 5 6 7 8 9 [DecimalDigits](https://262.ecma-international.org/12.0/#prod-grammar-notation-DecimalDigits) :: [DecimalDigit](https://262.ecma-international.org/12.0/#prod-grammar-notation-DecimalDigit) [DecimalDigits](https://262.ecma-international.org/12.0/#prod-grammar-notation-DecimalDigits) [DecimalDigit](https://262.ecma-international.org/12.0/#prod-grammar-notation-DecimalDigit)

the definition:

[LookaheadExample](https://262.ecma-international.org/12.0/#prod-grammar-notation-LookaheadExample) :: n \[lookahead ∉ { 1, 3, 5, 7, 9 }\] [DecimalDigits](https://262.ecma-international.org/12.0/#prod-grammar-notation-DecimalDigits) [DecimalDigit](https://262.ecma-international.org/12.0/#prod-grammar-notation-DecimalDigit) \[lookahead ∉ [DecimalDigit](https://262.ecma-international.org/12.0/#prod-grammar-notation-DecimalDigit)\]

matches either the letter `n` followed by one or more decimal digits the first of which is even, or a decimal digit not followed by another decimal digit.

Note that when these phrases are used in the syntactic grammar, it may not be possible to unambiguously identify the immediately following token sequence because determining later tokens requires knowing which lexical [goal symbol](https://262.ecma-international.org/12.0/#sec-context-free-grammars) to use at later positions. As such, when these are used in the syntactic grammar, it is considered an editorial error for a token sequence seq to appear in a lookahead restriction (including as part of a set of sequences) if the choices of lexical goal symbols to use could change whether or not seq would be a prefix of the resulting token sequence.

If the phrase “\[no [LineTerminator](https://262.ecma-international.org/12.0/#prod-LineTerminator) here\]” appears in the right-hand side of a production of the syntactic grammar, it indicates that the production is _a restricted production_: it may not be used if a [LineTerminator](https://262.ecma-international.org/12.0/#prod-LineTerminator) occurs in the input stream at the indicated position. For example, the production:

[ThrowStatement](https://262.ecma-international.org/12.0/#prod-grammar-notation-ThrowStatement) : throw \[no [LineTerminator](https://262.ecma-international.org/12.0/#prod-LineTerminator) here\] [Expression](https://262.ecma-international.org/12.0/#prod-Expression) ;

indicates that the production may not be used if a [LineTerminator](https://262.ecma-international.org/12.0/#prod-LineTerminator) occurs in the script between the `throw` token and the [Expression](https://262.ecma-international.org/12.0/#prod-Expression).

Unless the presence of a [LineTerminator](https://262.ecma-international.org/12.0/#prod-LineTerminator) is forbidden by a restricted production, any number of occurrences of [LineTerminator](https://262.ecma-international.org/12.0/#prod-LineTerminator) may appear between any two consecutive tokens in the stream of input elements without affecting the syntactic acceptability of the script.

When an alternative in a production of the lexical grammar or the numeric string grammar appears to be a multi-code point token, it represents the sequence of code points that would make up such a token.

The right-hand side of a production may specify that certain expansions are not permitted by using the phrase “**but not**” and then indicating the expansions to be excluded. For example, the production:

[Identifier](https://262.ecma-international.org/12.0/#prod-grammar-notation-Identifier) :: [IdentifierName](https://262.ecma-international.org/12.0/#prod-IdentifierName) but not [ReservedWord](https://262.ecma-international.org/12.0/#prod-ReservedWord)

means that the nonterminal [Identifier](https://262.ecma-international.org/12.0/#prod-grammar-notation-Identifier) may be replaced by any sequence of code points that could replace [IdentifierName](https://262.ecma-international.org/12.0/#prod-IdentifierName) provided that the same sequence of code points could not replace [ReservedWord](https://262.ecma-international.org/12.0/#prod-ReservedWord).

Finally, a few nonterminal symbols are described by a descriptive phrase in sans-serif type in cases where it would be impractical to list all the alternatives:

[SourceCharacter](https://262.ecma-international.org/12.0/#prod-grammar-notation-SourceCharacter) :: any Unicode code point

## 5.2 Algorithm Conventions

The specification often uses a numbered list to specify steps in an algorithm. These algorithms are used to precisely specify the required semantics of ECMAScript language constructs. The algorithms are not intended to imply the use of any specific implementation technique. In practice, there may be more efficient algorithms available to implement a given feature.

Algorithms may be explicitly parameterized with an ordered, comma-separated sequence of alias names which may be used within the algorithm steps to reference the argument passed in that position. Optional parameters are denoted with surrounding brackets (\[ , name \]) and are no different from required parameters within algorithm steps. A rest parameter may appear at the end of a parameter list, denoted with leading ellipsis (, ...name). The rest parameter captures all of the arguments provided following the required and optional parameters into a [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type). If there are no such additional arguments, that [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) is empty.

Algorithm steps may be subdivided into sequential substeps. Substeps are indented and may themselves be further divided into indented substeps. Outline numbering conventions are used to identify substeps with the first level of substeps labelled with lower case alphabetic characters and the second level of substeps labelled with lower case roman numerals. If more than three levels are required these rules repeat with the fourth level using numeric labels. For example:

1.  Top-level step
    1.  Substep.
    2.  Substep.
        1.  Subsubstep.
            1.  Subsubsubstep
                1.  Subsubsubsubstep
                    1.  Subsubsubsubsubstep

A step or substep may be written as an “if” predicate that conditions its substeps. In this case, the substeps are only applied if the predicate is true. If a step or substep begins with the word “else”, it is a predicate that is the negation of the preceding “if” predicate step at the same level.

A step may specify the iterative application of its substeps.

A step that begins with “Assert:” asserts an invariant condition of its algorithm. Such assertions are used to make explicit algorithmic invariants that would otherwise be implicit. Such assertions add no additional semantic requirements and hence need not be checked by an implementation. They are used simply to clarify algorithms.

Algorithm steps may declare named aliases for any value using the form “Let x be someValue”. These aliases are reference-like in that both x and someValue refer to the same underlying data and modifications to either are visible to both. Algorithm steps that want to avoid this reference-like behaviour should explicitly make a copy of the right-hand side: “Let x be a copy of someValue” creates a shallow copy of someValue.

Once declared, an alias may be referenced in any subsequent steps and must not be referenced from steps prior to the alias's declaration. Aliases may be modified using the form “Set x to someOtherValue”.

## 5.2.1 Abstract Operations

In order to facilitate their use in multiple parts of this specification, some algorithms, called abstract operations, are named and written in parameterized functional form so that they may be referenced by name from within other algorithms. Abstract operations are typically referenced using a functional application style such as OperationName(arg1, arg2). Some abstract operations are treated as polymorphically dispatched methods of class-like specification abstractions. Such method-like abstract operations are typically referenced using a method application style such as someValue.OperationName(arg1, arg2).

## 5.2.2 Syntax-Directed Operations

A syntax-directed operation is a named operation whose definition consists of algorithms, each of which is associated with one or more productions from one of the ECMAScript grammars. A production that has multiple alternative definitions will typically have a distinct algorithm for each alternative. When an algorithm is associated with a grammar production, it may reference the terminal and nonterminal symbols of the production alternative as if they were parameters of the algorithm. When used in this manner, nonterminal symbols refer to the actual alternative definition that is matched when parsing the source text. The source text matched by a grammar production is the portion of the source text that starts at the beginning of the first terminal that participated in the match and ends at the end of the last terminal that participated in the match.

When an algorithm is associated with a production alternative, the alternative is typically shown without any “\[ \]” grammar annotations. Such annotations should only affect the syntactic recognition of the alternative and have no effect on the associated semantics for the alternative.

Syntax-directed operations are invoked with a parse node and, optionally, other parameters by using the conventions on steps [1](https://262.ecma-international.org/12.0/#step-sdo-invocation-example-1), [3](https://262.ecma-international.org/12.0/#step-sdo-invocation-example-2), and [4](https://262.ecma-international.org/12.0/#step-sdo-invocation-example-3) in the following algorithm:

1.  Let status be SyntaxDirectedOperation of SomeNonTerminal.
2.  Let someParseNode be the parse of some source text.
3.  Perform SyntaxDirectedOperation of someParseNode.
4.  Perform SyntaxDirectedOperation of someParseNode passing "value" as the argument.

Unless explicitly specified otherwise, all chain productions have an implicit definition for every operation that might be applied to that production's left-hand side nonterminal. The implicit definition simply reapplies the same operation with the same parameters, if any, to the [chain production](https://262.ecma-international.org/12.0/#sec-context-free-grammars)'s sole right-hand side nonterminal and then returns the result. For example, assume that some algorithm has a step of the form: “Return the result of evaluating [Block](https://262.ecma-international.org/12.0/#prod-Block)” and that there is a production:

[Block](https://262.ecma-international.org/12.0/#prod-Block) : { [StatementList](https://262.ecma-international.org/12.0/#prod-StatementList) }

but the Evaluation operation does not associate an algorithm with that production. In that case, the Evaluation operation implicitly includes an association of the form:

**Runtime Semantics: Evaluation**

[Block](https://262.ecma-international.org/12.0/#prod-Block) : { [StatementList](https://262.ecma-international.org/12.0/#prod-StatementList) }

1.  Return the result of evaluating [StatementList](https://262.ecma-international.org/12.0/#prod-StatementList).

## 5.2.3 Runtime Semantics

Algorithms which specify semantics that must be called at runtime are called runtime semantics. Runtime semantics are defined by [abstract operations](https://262.ecma-international.org/12.0/#sec-algorithm-conventions-abstract-operations) or syntax-directed operations. Such algorithms always return a completion record.

## 5.2.3.1 Implicit Completion Values

The algorithms of this specification often implicitly return [Completion](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type) Records whose \[\[Type\]\] is normal. Unless it is otherwise obvious from the context, an algorithm statement that returns a value that is not a [Completion Record](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type), such as:

1.  Return "Infinity".

means the same thing as:

1.  Return [NormalCompletion](https://262.ecma-international.org/12.0/#sec-normalcompletion)("Infinity").

However, if the value expression of a “return” statement is a [Completion Record](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type) construction literal, the resulting [Completion Record](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type) is returned. If the value expression is a call to an abstract operation, the “return” statement simply returns the [Completion Record](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type) produced by the abstract operation.

The abstract operation [Completion](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type)(completionRecord) is used to emphasize that a previously computed [Completion Record](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type) is being returned. The [Completion](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type) abstract operation takes a single argument, completionRecord, and performs the following steps:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): completionRecord is a [Completion Record](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type).
2.  Return completionRecord as the [Completion Record](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type) of this abstract operation.

A “return” statement without a value in an algorithm step means the same thing as:

1.  Return [NormalCompletion](https://262.ecma-international.org/12.0/#sec-normalcompletion)(undefined).

Any reference to a [Completion Record](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type) value that is in a context that does not explicitly require a complete [Completion Record](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type) value is equivalent to an explicit reference to the \[\[Value\]\] field of the [Completion Record](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type) value unless the [Completion Record](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type) is an [abrupt completion](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type).

## 5.2.3.2 Throw an Exception

Algorithms steps that say to throw an exception, such as

1.  Throw a TypeError exception.

mean the same things as:

1.  Return [ThrowCompletion](https://262.ecma-international.org/12.0/#sec-throwcompletion)(a newly created TypeError object).

## 5.2.3.3 ReturnIfAbrupt

Algorithms steps that say or are otherwise equivalent to:

1.  [ReturnIfAbrupt](https://262.ecma-international.org/12.0/#sec-returnifabrupt)(argument).

mean the same thing as:

1.  If argument is an [abrupt completion](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type), return argument.
2.  Else if argument is a [Completion Record](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type), set argument to argument.\[\[Value\]\].

Algorithms steps that say or are otherwise equivalent to:

1.  [ReturnIfAbrupt](https://262.ecma-international.org/12.0/#sec-returnifabrupt)(AbstractOperation()).

mean the same thing as:

1.  Let hygienicTemp be AbstractOperation().
2.  If hygienicTemp is an [abrupt completion](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type), return hygienicTemp.
3.  Else if hygienicTemp is a [Completion Record](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type), set hygienicTemp to hygienicTemp.\[\[Value\]\].

Where hygienicTemp is ephemeral and visible only in the steps pertaining to ReturnIfAbrupt.

Algorithms steps that say or are otherwise equivalent to:

1.  Let result be AbstractOperation([ReturnIfAbrupt](https://262.ecma-international.org/12.0/#sec-returnifabrupt)(argument)).

mean the same thing as:

1.  If argument is an [abrupt completion](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type), return argument.
2.  If argument is a [Completion Record](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type), set argument to argument.\[\[Value\]\].
3.  Let result be AbstractOperation(argument).

## 5.2.3.4 ReturnIfAbrupt Shorthands

Invocations of [abstract operations](https://262.ecma-international.org/12.0/#sec-algorithm-conventions-abstract-operations) and syntax-directed operations that are prefixed by `?` indicate that [ReturnIfAbrupt](https://262.ecma-international.org/12.0/#sec-returnifabrupt) should be applied to the resulting [Completion Record](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type). For example, the step:

1.  ? OperationName().

is equivalent to the following step:

1.  [ReturnIfAbrupt](https://262.ecma-international.org/12.0/#sec-returnifabrupt)(OperationName()).

Similarly, for method application style, the step:

1.  ? someValue.OperationName().

is equivalent to:

1.  [ReturnIfAbrupt](https://262.ecma-international.org/12.0/#sec-returnifabrupt)(someValue.OperationName()).

Similarly, prefix `!` is used to indicate that the following invocation of an abstract or [syntax-directed operation](https://262.ecma-international.org/12.0/#sec-algorithm-conventions-syntax-directed-operations) will never return an [abrupt completion](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type) and that the resulting [Completion Record](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type)'s \[\[Value\]\] field should be used in place of the return value of the operation. For example, the step:

1.  Let val be ! OperationName().

is equivalent to the following steps:

1.  Let val be OperationName().
2.  [Assert](https://262.ecma-international.org/12.0/#assert): val is never an [abrupt completion](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type).
3.  If val is a [Completion Record](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type), set val to val.\[\[Value\]\].

Syntax-directed operations for [runtime semantics](https://262.ecma-international.org/12.0/#sec-runtime-semantics) make use of this shorthand by placing `!` or `?` before the invocation of the operation:

1.  Perform ! SyntaxDirectedOperation of NonTerminal.

## 5.2.4 Static Semantics

Context-free grammars are not sufficiently powerful to express all the rules that define whether a stream of input elements form a valid ECMAScript [Script](https://262.ecma-international.org/12.0/#prod-Script) or [Module](https://262.ecma-international.org/12.0/#prod-Module) that may be evaluated. In some situations additional rules are needed that may be expressed using either ECMAScript algorithm conventions or prose requirements. Such rules are always associated with a production of a grammar and are called the static semantics of the production.

Static Semantic Rules have names and typically are defined using an algorithm. Named Static Semantic Rules are associated with grammar productions and a production that has multiple alternative definitions will typically have for each alternative a distinct algorithm for each applicable named static semantic rule.

A special kind of static semantic rule is an Early Error Rule. [Early error](https://262.ecma-international.org/12.0/#early-error) rules define [early error](https://262.ecma-international.org/12.0/#early-error) conditions (see clause [17](https://262.ecma-international.org/12.0/#sec-error-handling-and-language-extensions)) that are associated with specific grammar productions. Evaluation of most [early error](https://262.ecma-international.org/12.0/#early-error) rules are not explicitly invoked within the algorithms of this specification. A conforming implementation must, prior to the first evaluation of a [Script](https://262.ecma-international.org/12.0/#prod-Script) or [Module](https://262.ecma-international.org/12.0/#prod-Module), validate all of the [early error](https://262.ecma-international.org/12.0/#early-error) rules of the productions used to parse that [Script](https://262.ecma-international.org/12.0/#prod-Script) or [Module](https://262.ecma-international.org/12.0/#prod-Module). If any of the [early error](https://262.ecma-international.org/12.0/#early-error) rules are violated the [Script](https://262.ecma-international.org/12.0/#prod-Script) or [Module](https://262.ecma-international.org/12.0/#prod-Module) is invalid and cannot be evaluated.

## 5.2.5 Mathematical Operations

This specification makes reference to these kinds of numeric values:

-   _Mathematical values_: Arbitrary real numbers, used as the default numeric type.
-   _Extended mathematical values_: Mathematical values together with +∞ and -∞.
-   _Numbers_: [IEEE 754-2019](https://262.ecma-international.org/12.0/#sec-bibliography) double-precision floating point values.
-   _BigInts_: ECMAScript values representing arbitrary integers in a one-to-one correspondence.

In the language of this specification, numerical values are distinguished among different numeric kinds using subscript suffixes. The subscript 𝔽 refers to Numbers, and the subscript ℤ refers to BigInts. Numeric values without a subscript suffix refer to mathematical values.

Numeric operators such as +, ×, =, and ≥ refer to those operations as determined by the type of the operands. When applied to mathematical values, the operators refer to the usual mathematical operations. When applied to Numbers, the operators refer to the relevant operations within [IEEE 754-2019](https://262.ecma-international.org/12.0/#sec-bibliography). When applied to BigInts, the operators refer to the usual mathematical operations applied to the [mathematical value](https://262.ecma-international.org/12.0/#mathematical-value) of the BigInt.

In general, when this specification refers to a numerical value, such as in the phrase, "the length of y" or "the [integer](https://262.ecma-international.org/12.0/#integer) represented by the four hexadecimal digits ...", without explicitly specifying a numeric kind, the phrase refers to a [mathematical value](https://262.ecma-international.org/12.0/#mathematical-value). Phrases which refer to a Number or a BigInt value are explicitly annotated as such; for example, "the [Number value](https://262.ecma-international.org/12.0/#number-value) for the number of code points in …" or "the BigInt value for …".

Numeric operators applied to mixed-type operands (such as a Number and a [mathematical value](https://262.ecma-international.org/12.0/#mathematical-value)) are not defined and should be considered an editorial error in this specification.

This specification denotes most numeric values in base 10; it also uses numeric values of the form 0x followed by digits 0-9 or A-F as base-16 values.

When the term integer is used in this specification, it refers to a [mathematical value](https://262.ecma-international.org/12.0/#mathematical-value) which is in the set of integers, unless otherwise stated. When the term integral Number is used in this specification, it refers to a [Number value](https://262.ecma-international.org/12.0/#number-value) whose [mathematical value](https://262.ecma-international.org/12.0/#mathematical-value) is in the set of integers.

Conversions between mathematical values and Numbers or BigInts are always explicit in this document. A conversion from a [mathematical value](https://262.ecma-international.org/12.0/#mathematical-value) or [extended mathematical value](https://262.ecma-international.org/12.0/#extended-mathematical-value) x to a Number is denoted as "the [Number value](https://262.ecma-international.org/12.0/#number-value) for x" or 𝔽(x), and is defined in [6.1.6.1](https://262.ecma-international.org/12.0/#sec-ecmascript-language-types-number-type). A conversion from an [integer](https://262.ecma-international.org/12.0/#integer) x to a BigInt is denoted as "the BigInt value for x" or ℤ(x). A conversion from a Number or BigInt x to a [mathematical value](https://262.ecma-international.org/12.0/#mathematical-value) is denoted as "the mathematical value of x", or ℝ(x). The [mathematical value](https://262.ecma-international.org/12.0/#mathematical-value) of +0𝔽 and \-0𝔽 is the [mathematical value](https://262.ecma-international.org/12.0/#mathematical-value) 0. The [mathematical value](https://262.ecma-international.org/12.0/#mathematical-value) of non-finite values is not defined. The extended mathematical value of x is the [mathematical value](https://262.ecma-international.org/12.0/#mathematical-value) of x for finite values, and is +∞ and -∞ for +∞𝔽 and \-∞𝔽 respectively; it is not defined for NaN.

The mathematical function abs(x) produces the absolute value of x, which is \-x if x < 0 and otherwise is x itself.

The mathematical function min(x1, x2, … , xN) produces the mathematically smallest of x1 through xN. The mathematical function max(x1, x2, ..., xN) produces the mathematically largest of x1 through xN. The domain and range of these mathematical functions are the extended mathematical values.

The notation “x modulo y” (y must be finite and non-zero) computes a value k of the same sign as y (or zero) such that [abs](https://262.ecma-international.org/12.0/#eqn-abs)(k) < [abs](https://262.ecma-international.org/12.0/#eqn-abs)(y) and x - k = q × y for some [integer](https://262.ecma-international.org/12.0/#integer) q.

The phrase "the result of clamping x between lower and upper" (where x is an [extended mathematical value](https://262.ecma-international.org/12.0/#extended-mathematical-value) and lower and upper are mathematical values such that lower ≤ upper) produces lower if x < lower, produces upper if x > upper, and otherwise produces x.

The mathematical function floor(x) produces the largest [integer](https://262.ecma-international.org/12.0/#integer) (closest to +∞) that is not larger than x.

Mathematical functions min, max, [abs](https://262.ecma-international.org/12.0/#eqn-abs), and [floor](https://262.ecma-international.org/12.0/#eqn-floor) are not defined for Numbers and BigInts, and any usage of those methods that have non-[mathematical value](https://262.ecma-international.org/12.0/#mathematical-value) arguments would be an editorial error in this specification.

Note

[floor](https://262.ecma-international.org/12.0/#eqn-floor)(x) = x - (x [modulo](https://262.ecma-international.org/12.0/#eqn-modulo) 1).

## 5.2.6 Value Notation

In this specification, ECMAScript language values are displayed in bold. Examples include null, true, or "hello". These are distinguished from longer ECMAScript code sequences such as `Function.prototype.apply` or `let n = 42;`.

Values which are internal to the specification and not directly observable from ECMAScript code are indicated with a sans-serif typeface. For instance, a [Completion Record](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type)'s \[\[Type\]\] field takes on values like normal, return, or throw.

## 6 ECMAScript Data Types and Values

Algorithms within this specification manipulate values each of which has an associated type. The possible value types are exactly those defined in this clause. Types are further subclassified into ECMAScript language types and specification types.

Within this specification, the notation “Type(x)” is used as shorthand for “the type of x” where “type” refers to the ECMAScript language and specification types defined in this clause. When the term “empty” is used as if it was naming a value, it is equivalent to saying “no value of any type”.

## 6.1 ECMAScript Language Types

An ECMAScript language type corresponds to values that are directly manipulated by an ECMAScript programmer using the ECMAScript language. The ECMAScript language types are Undefined, Null, Boolean, String, Symbol, Number, BigInt, and Object. An ECMAScript language value is a value that is characterized by an ECMAScript language type.

## 6.1.1 The Undefined Type

The Undefined type has exactly one value, called undefined. Any variable that has not been assigned a value has the value undefined.

## 6.1.2 The Null Type

The Null type has exactly one value, called null.

## 6.1.3 The Boolean Type

The Boolean type represents a logical entity having two values, called true and false.

## 6.1.4 The String Type

The String type is the set of all ordered sequences of zero or more 16-bit unsigned [integer](https://262.ecma-international.org/12.0/#integer) values (“elements”) up to a maximum length of 253 - 1 elements. The String type is generally used to represent textual data in a running ECMAScript program, in which case each element in the String is treated as a UTF-16 code unit value. Each element is regarded as occupying a position within the sequence. These positions are indexed with non-negative integers. The first element (if any) is at index 0, the next element (if any) at index 1, and so on. The length of a String is the number of elements (i.e., 16-bit values) within it. The empty String has length zero and therefore contains no elements.

ECMAScript operations that do not interpret String contents apply no further semantics. Operations that do interpret String values treat each element as a single UTF-16 code unit. However, ECMAScript does not restrict the value of or relationships between these code units, so operations that further interpret String contents as sequences of Unicode code points encoded in UTF-16 must account for ill-formed subsequences. Such operations apply special treatment to every code unit with a numeric value in the inclusive range 0xD800 to 0xDBFF (defined by the Unicode Standard as a leading surrogate, or more formally as a high-surrogate code unit) and every code unit with a numeric value in the inclusive range 0xDC00 to 0xDFFF (defined as a trailing surrogate, or more formally as a low-surrogate code unit) using the following rules:

-   A code unit that is not a [leading surrogate](https://262.ecma-international.org/12.0/#leading-surrogate) and not a [trailing surrogate](https://262.ecma-international.org/12.0/#trailing-surrogate) is interpreted as a code point with the same value.
-   A sequence of two code units, where the first code unit c1 is a [leading surrogate](https://262.ecma-international.org/12.0/#leading-surrogate) and the second code unit c2 a [trailing surrogate](https://262.ecma-international.org/12.0/#trailing-surrogate), is a surrogate pair and is interpreted as a code point with the value (c1 - 0xD800) × 0x400 + (c2 - 0xDC00) + 0x10000. (See [11.1.3](https://262.ecma-international.org/12.0/#sec-utf16decodesurrogatepair))
-   A code unit that is a [leading surrogate](https://262.ecma-international.org/12.0/#leading-surrogate) or [trailing surrogate](https://262.ecma-international.org/12.0/#trailing-surrogate), but is not part of a [surrogate pair](https://262.ecma-international.org/12.0/#surrogate-pair), is interpreted as a code point with the same value.

The function `String.prototype.normalize` (see [22.1.3.13](https://262.ecma-international.org/12.0/#sec-string.prototype.normalize)) can be used to explicitly normalize a String value. `String.prototype.localeCompare` (see [22.1.3.10](https://262.ecma-international.org/12.0/#sec-string.prototype.localecompare)) internally normalizes String values, but no other operations implicitly normalize the strings upon which they operate. Only operations that are explicitly specified to be language or locale sensitive produce language-sensitive results.

Note

The rationale behind this design was to keep the implementation of Strings as simple and high-performing as possible. If ECMAScript source text is in Normalized Form C, string literals are guaranteed to also be normalized, as long as they do not contain any Unicode escape sequences.

In this specification, the phrase "the string-concatenation of A, B, ..." (where each argument is a String value, a code unit, or a sequence of code units) denotes the String value whose sequence of code units is the concatenation of the code units (in order) of each of the arguments (in order).

The phrase "the substring of S from inclusiveStart to exclusiveEnd" (where S is a String value or a sequence of code units and inclusiveStart and exclusiveEnd are integers) denotes the String value consisting of the consecutive code units of S beginning at index inclusiveStart and ending immediately before index exclusiveEnd (which is the empty String when inclusiveStart = exclusiveEnd). If the "to" suffix is omitted, the length of S is used as the value of exclusiveEnd.

## 6.1.4.1 StringIndexOf ( string, searchValue, fromIndex )

The abstract operation StringIndexOf takes arguments string (a String), searchValue (a String), and fromIndex (a non-negative [integer](https://262.ecma-international.org/12.0/#integer)). It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(string) is String.
2.  [Assert](https://262.ecma-international.org/12.0/#assert): [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(searchValue) is String.
3.  [Assert](https://262.ecma-international.org/12.0/#assert): fromIndex is a non-negative [integer](https://262.ecma-international.org/12.0/#integer).
4.  Let len be the length of string.
5.  If searchValue is the empty String and fromIndex ≤ len, return fromIndex.
6.  Let searchLen be the length of searchValue.
7.  For each [integer](https://262.ecma-international.org/12.0/#integer) i starting with fromIndex such that i ≤ len - searchLen, in ascending order, do
    1.  Let candidate be the [substring](https://262.ecma-international.org/12.0/#substring) of string from i to i + searchLen.
    2.  If candidate is the same sequence of code units as searchValue, return i.
8.  Return -1.

Note 1

If searchValue is the empty String and fromIndex is less than or equal to the length of string, this algorithm returns fromIndex. The empty String is effectively found at every position within a string, including after the last code unit.

Note 2

This algorithm always returns -1 if fromIndex > the length of string.

## 6.1.5 The Symbol Type

The Symbol type is the set of all non-String values that may be used as the key of an Object property ([6.1.7](https://262.ecma-international.org/12.0/#sec-object-type)).

Each possible Symbol value is unique and immutable.

Each Symbol value immutably holds an associated value called \[\[Description\]\] that is either undefined or a String value.

## 6.1.5.1 Well-Known Symbols

Well-known symbols are built-in Symbol values that are explicitly referenced by algorithms of this specification. They are typically used as the keys of properties whose values serve as extension points of a specification algorithm. Unless otherwise specified, well-known symbols values are shared by all realms ([9.2](https://262.ecma-international.org/12.0/#sec-code-realms)).

Within this specification a well-known symbol is referred to by using a notation of the form @@name, where “name” is one of the values listed in [Table 1](https://262.ecma-international.org/12.0/#table-well-known-symbols).

Table 1: Well-known Symbols

| Specification Name | \[\[Description\]\] | Value and Purpose |
| --- | --- | --- |
| @@asyncIterator | "Symbol.asyncIterator" | A method that returns the default AsyncIterator for an object. Called by the semantics of the `for`\-`await`\-`of` statement. |
| @@hasInstance | "Symbol.hasInstance" | A method that determines if a [constructor](https://262.ecma-international.org/12.0/#constructor) object recognizes an object as one of the [constructor](https://262.ecma-international.org/12.0/#constructor)'s instances. Called by the semantics of the `instanceof` operator. |
| @@isConcatSpreadable | "Symbol.isConcatSpreadable" | A Boolean valued property that if true indicates that an object should be flattened to its array elements by [`Array.prototype.concat`](https://262.ecma-international.org/12.0/#sec-array.prototype.concat). |
| @@iterator | "Symbol.iterator" | A method that returns the default Iterator for an object. Called by the semantics of the for-of statement. |
| @@match | "Symbol.match" | A regular expression method that matches the regular expression against a string. Called by the [`String.prototype.match`](https://262.ecma-international.org/12.0/#sec-string.prototype.match) method. |
| @@matchAll | "Symbol.matchAll" | A regular expression method that returns an iterator, that yields matches of the regular expression against a string. Called by the [`String.prototype.matchAll`](https://262.ecma-international.org/12.0/#sec-string.prototype.matchall) method. |
| @@replace | "Symbol.replace" | A regular expression method that replaces matched substrings of a string. Called by the [`String.prototype.replace`](https://262.ecma-international.org/12.0/#sec-string.prototype.replace) method. |
| @@search | "Symbol.search" | A regular expression method that returns the index within a string that matches the regular expression. Called by the [`String.prototype.search`](https://262.ecma-international.org/12.0/#sec-string.prototype.search) method. |
| @@species | "Symbol.species" | A function valued property that is the [constructor](https://262.ecma-international.org/12.0/#constructor) function that is used to create derived objects. |
| @@split | "Symbol.split" | A regular expression method that splits a string at the indices that match the regular expression. Called by the [`String.prototype.split`](https://262.ecma-international.org/12.0/#sec-string.prototype.split) method. |
| @@toPrimitive | "Symbol.toPrimitive" | A method that converts an object to a corresponding primitive value. Called by the [ToPrimitive](https://262.ecma-international.org/12.0/#sec-toprimitive) abstract operation. |
| @@toStringTag | "Symbol.toStringTag" | A String valued property that is used in the creation of the default string description of an object. Accessed by the built-in method [`Object.prototype.toString`](https://262.ecma-international.org/12.0/#sec-object.prototype.tostring). |
| @@unscopables | "Symbol.unscopables" | An object valued property whose own and inherited property names are property names that are excluded from the `with` environment bindings of the associated object. |

## 6.1.6 Numeric Types

ECMAScript has two built-in numeric types: Number and BigInt. In this specification, every numeric type T contains a multiplicative identity value denoted T::unit. The specification types also have the following [abstract operations](https://262.ecma-international.org/12.0/#sec-algorithm-conventions-abstract-operations), likewise denoted T::_op_ for a given operation with specification name _op_. All argument types are T. The "Result" column shows the return type, along with an indication if it is possible for some invocations of the operation to return an [abrupt completion](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type).

Table 2: Numeric Type Operations

| Invocation Synopsis | Example source | Invoked by the Evaluation semantics of ... | Result |
| --- | --- | --- | --- |
| T::unaryMinus(x) | `-x` | [Unary `-` Operator](https://262.ecma-international.org/12.0/#sec-unary-minus-operator) | T |
| T::bitwiseNOT(x) | `~x` | [Bitwise NOT Operator ( `~` )](https://262.ecma-international.org/12.0/#sec-bitwise-not-operator) | T |
| T::exponentiate(x, y) | `x ** y` | [Exponentiation Operator](https://262.ecma-international.org/12.0/#sec-exp-operator) and [Math.pow ( base, exponent )](https://262.ecma-international.org/12.0/#sec-math.pow) | T, may throw RangeError |
| T::multiply(x, y) | `x * y` | [Multiplicative Operators](https://262.ecma-international.org/12.0/#sec-multiplicative-operators) | T |
| T::divide(x, y) | `x / y` | [Multiplicative Operators](https://262.ecma-international.org/12.0/#sec-multiplicative-operators) | T, may throw RangeError |
| T::remainder(x, y) | `x % y` | [Multiplicative Operators](https://262.ecma-international.org/12.0/#sec-multiplicative-operators) | T, may throw RangeError |
| T::add(x, y) | `x ++`  
`++ x`  
`x + y` | [Postfix Increment Operator](https://262.ecma-international.org/12.0/#sec-postfix-increment-operator), [Prefix Increment Operator](https://262.ecma-international.org/12.0/#sec-prefix-increment-operator), and [The Addition Operator ( `+` )](https://262.ecma-international.org/12.0/#sec-addition-operator-plus) | T |
| T::subtract(x, y) | `x --`  
`-- x`  
`x - y` | [Postfix Decrement Operator](https://262.ecma-international.org/12.0/#sec-postfix-decrement-operator), [Prefix Decrement Operator](https://262.ecma-international.org/12.0/#sec-prefix-decrement-operator), and [The Subtraction Operator ( `-` )](https://262.ecma-international.org/12.0/#sec-subtraction-operator-minus) | T |
| T::leftShift(x, y) | `x << y` | [The Left Shift Operator ( `<<` )](https://262.ecma-international.org/12.0/#sec-left-shift-operator) | T |
| T::signedRightShift(x, y) | `x >> y` | [The Signed Right Shift Operator ( `>>` )](https://262.ecma-international.org/12.0/#sec-signed-right-shift-operator) | T |
| T::unsignedRightShift(x, y) | `x >>> y` | [The Unsigned Right Shift Operator ( `>>>` )](https://262.ecma-international.org/12.0/#sec-unsigned-right-shift-operator) | T, may throw TypeError |
| T::lessThan(x, y) | `x < y`  
`x > y`  
`x <= y`  
`x >= y` | [Relational Operators](https://262.ecma-international.org/12.0/#sec-relational-operators), via [Abstract Relational Comparison](https://262.ecma-international.org/12.0/#sec-abstract-relational-comparison) | Boolean or undefined (for unordered inputs) |
| T::equal(x, y) | `x == y`  
`x != y`  
`x === y`  
`x !== y` | [Equality Operators](https://262.ecma-international.org/12.0/#sec-equality-operators), via [Strict Equality Comparison](https://262.ecma-international.org/12.0/#sec-strict-equality-comparison) | Boolean |
| T::sameValue(x, y) |  | Object internal methods, via [SameValue ( x, y )](https://262.ecma-international.org/12.0/#sec-samevalue), to test exact value equality | Boolean |
| T::sameValueZero(x, y) |  | Array, Map, and Set methods, via [SameValueZero ( x, y )](https://262.ecma-international.org/12.0/#sec-samevaluezero), to test value equality ignoring differences among members of the zero cohort (i.e., \-0𝔽 and +0𝔽) | Boolean |
| T::bitwiseAND(x, y) | `x & y` | [Binary Bitwise Operators](https://262.ecma-international.org/12.0/#sec-binary-bitwise-operators) | T |
| T::bitwiseXOR(x, y) | `x ^ y` | [Binary Bitwise Operators](https://262.ecma-international.org/12.0/#sec-binary-bitwise-operators) | T |
| T::bitwiseOR(x, y) | `x | y` | [Binary Bitwise Operators](https://262.ecma-international.org/12.0/#sec-binary-bitwise-operators) | T |
| T::toString(x) | `String(x)` | Many expressions and built-in functions, via [ToString ( argument )](https://262.ecma-international.org/12.0/#sec-tostring) | String |

The T::unit value and T::op operations are not a part of the ECMAScript language; they are defined here solely to aid the specification of the semantics of the ECMAScript language. Other [abstract operations](https://262.ecma-international.org/12.0/#sec-algorithm-conventions-abstract-operations) are defined throughout this specification.

Because the numeric types are in general not convertible without loss of precision or truncation, the ECMAScript language provides no implicit conversion among these types. Programmers must explicitly call `Number` and `BigInt` functions to convert among types when calling a function which requires another type.

Note

The first and subsequent editions of ECMAScript have provided, for certain operators, implicit numeric conversions that could lose precision or truncate. These legacy implicit conversions are maintained for backward compatibility, but not provided for BigInt in order to minimize opportunity for programmer error, and to leave open the option of generalized _value types_ in a future edition.

## 6.1.6.1 The Number Type

The Number type has exactly 18,437,736,874,454,810,627 (that is, 264 - 253 + 3) values, representing the double-precision 64-bit format [IEEE 754-2019](https://262.ecma-international.org/12.0/#sec-bibliography) values as specified in the IEEE Standard for Binary Floating-Point Arithmetic, except that the 9,007,199,254,740,990 (that is, 253 - 2) distinct “Not-a-Number” values of the IEEE Standard are represented in ECMAScript as a single special NaN value. (Note that the NaN value is produced by the program expression `NaN`.) In some implementations, external code might be able to detect a difference between various Not-a-Number values, but such behaviour is [implementation-defined](https://262.ecma-international.org/12.0/#implementation-defined); to ECMAScript code, all NaN values are indistinguishable from each other.

Note

The bit pattern that might be observed in an ArrayBuffer (see [25.1](https://262.ecma-international.org/12.0/#sec-arraybuffer-objects)) or a SharedArrayBuffer (see [25.2](https://262.ecma-international.org/12.0/#sec-sharedarraybuffer-objects)) after a [Number value](https://262.ecma-international.org/12.0/#number-value) has been stored into it is not necessarily the same as the internal representation of that [Number value](https://262.ecma-international.org/12.0/#number-value) used by the ECMAScript implementation.

There are two other special values, called positive Infinity and negative Infinity. For brevity, these values are also referred to for expository purposes by the symbols +∞𝔽 and \-∞𝔽, respectively. (Note that these two infinite Number values are produced by the program expressions `+Infinity` (or simply `Infinity`) and `-Infinity`.)

The other 18,437,736,874,454,810,624 (that is, 264 - 253) values are called the finite numbers. Half of these are positive numbers and half are negative numbers; for every finite positive [Number value](https://262.ecma-international.org/12.0/#number-value) there is a corresponding negative value having the same magnitude.

Note that there is both a positive zero and a negative zero. For brevity, these values are also referred to for expository purposes by the symbols +0𝔽 and \-0𝔽, respectively. (Note that these two different zero Number values are produced by the program expressions `+0` (or simply `0`) and `-0`.)

The 18,437,736,874,454,810,622 (that is, 264 - 253 - 2) finite non-zero values are of two kinds:

18,428,729,675,200,069,632 (that is, 264 - 254) of them are normalized, having the form

s × m × 2e

where s is 1 or -1, m is an [integer](https://262.ecma-international.org/12.0/#integer) such that 252 ≤ m < 253, and e is an [integer](https://262.ecma-international.org/12.0/#integer) such that -1074 ≤ e ≤ 971.

The remaining 9,007,199,254,740,990 (that is, 253 - 2) values are denormalized, having the form

s × m × 2e

where s is 1 or -1, m is an [integer](https://262.ecma-international.org/12.0/#integer) such that 0 < m < 252, and e is -1074.

Note that all the positive and negative integers whose magnitude is no greater than 253 are representable in the Number type. The [integer](https://262.ecma-international.org/12.0/#integer) 0 has two representations in the Number type: +0𝔽 and \-0𝔽.

A finite number has an _odd significand_ if it is non-zero and the [integer](https://262.ecma-international.org/12.0/#integer) m used to express it (in one of the two forms shown above) is odd. Otherwise, it has an _even significand_.

In this specification, the phrase “the Number value for x” where x represents an exact real mathematical quantity (which might even be an irrational number such as π) means a [Number value](https://262.ecma-international.org/12.0/#number-value) chosen in the following manner. Consider the set of all finite values of the Number type, with \-0𝔽 removed and with two additional values added to it that are not representable in the Number type, namely 21024 (which is +1 × 253 × 2971) and \-21024 (which is \-1 × 253 × 2971). Choose the member of this set that is closest in value to x. If two values of the set are equally close, then the one with an even significand is chosen; for this purpose, the two extra values 21024 and \-21024 are considered to have even significands. Finally, if 21024 was chosen, replace it with +∞𝔽; if \-21024 was chosen, replace it with \-∞𝔽; if +0𝔽 was chosen, replace it with \-0𝔽 if and only if x < 0; any other chosen value is used unchanged. The result is the [Number value](https://262.ecma-international.org/12.0/#number-value) for x. (This procedure corresponds exactly to the behaviour of the [IEEE 754-2019](https://262.ecma-international.org/12.0/#sec-bibliography) roundTiesToEven mode.)

The [Number value](https://262.ecma-international.org/12.0/#number-value) for +∞ is +∞𝔽, and the [Number value](https://262.ecma-international.org/12.0/#number-value) for -∞ is \-∞𝔽.

Some ECMAScript operators deal only with integers in specific ranges such as \-231 through 231 - 1, inclusive, or in the range 0 through 216 - 1, inclusive. These operators accept any value of the Number type but first convert each such value to an [integer](https://262.ecma-international.org/12.0/#integer) value in the expected range. See the descriptions of the numeric conversion operations in [7.1](https://262.ecma-international.org/12.0/#sec-type-conversion).

The Number::unit value is 1𝔽.

## 6.1.6.1.1 Number::unaryMinus ( x )

The abstract operation Number::unaryMinus takes argument x (a Number). It performs the following steps when called:

1.  If x is NaN, return NaN.
2.  Return the result of negating x; that is, compute a Number with the same magnitude but opposite sign.

## 6.1.6.1.2 Number::bitwiseNOT ( x )

The abstract operation Number::bitwiseNOT takes argument x (a Number). It performs the following steps when called:

1.  Let oldValue be ! [ToInt32](https://262.ecma-international.org/12.0/#sec-toint32)(x).
2.  Return the result of applying bitwise complement to oldValue. The [mathematical value](https://262.ecma-international.org/12.0/#mathematical-value) of the result is exactly representable as a 32-bit two's complement bit string.

## 6.1.6.1.3 Number::exponentiate ( base, exponent )

The abstract operation Number::exponentiate takes arguments base (a Number) and exponent (a Number). It returns an [implementation-approximated](https://262.ecma-international.org/12.0/#implementation-approximated) value representing the result of raising base to the exponent power. It performs the following steps when called:

1.  If exponent is NaN, return NaN.
2.  If exponent is +0𝔽 or exponent is \-0𝔽, return 1𝔽.
3.  If base is NaN, return NaN.
4.  If base is +∞𝔽, then
    1.  If exponent > +0𝔽, return +∞𝔽. Otherwise, return +0𝔽.
5.  If base is \-∞𝔽, then
    1.  If exponent > +0𝔽, then
        1.  If exponent is an odd [integral Number](https://262.ecma-international.org/12.0/#integral-number), return \-∞𝔽. Otherwise, return +∞𝔽.
    2.  Else,
        1.  If exponent is an odd [integral Number](https://262.ecma-international.org/12.0/#integral-number), return \-0𝔽. Otherwise, return +0𝔽.
6.  If base is +0𝔽, then
    1.  If exponent > +0𝔽, return +0𝔽. Otherwise, return +∞𝔽.
7.  If base is \-0𝔽, then
    1.  If exponent > +0𝔽, then
        1.  If exponent is an odd [integral Number](https://262.ecma-international.org/12.0/#integral-number), return \-0𝔽. Otherwise, return +0𝔽.
    2.  Else,
        1.  If exponent is an odd [integral Number](https://262.ecma-international.org/12.0/#integral-number), return \-∞𝔽. Otherwise, return +∞𝔽.
8.  [Assert](https://262.ecma-international.org/12.0/#assert): base is finite and is neither +0𝔽 nor \-0𝔽.
9.  If exponent is +∞𝔽, then
    1.  If [abs](https://262.ecma-international.org/12.0/#eqn-abs)([ℝ](https://262.ecma-international.org/12.0/#%E2%84%9D)(base)) > 1, return +∞𝔽.
    2.  If [abs](https://262.ecma-international.org/12.0/#eqn-abs)([ℝ](https://262.ecma-international.org/12.0/#%E2%84%9D)(base)) is 1, return NaN.
    3.  If [abs](https://262.ecma-international.org/12.0/#eqn-abs)([ℝ](https://262.ecma-international.org/12.0/#%E2%84%9D)(base)) < 1, return +0𝔽.
10.  If exponent is \-∞𝔽, then
    1.  If [abs](https://262.ecma-international.org/12.0/#eqn-abs)([ℝ](https://262.ecma-international.org/12.0/#%E2%84%9D)(base)) > 1, return +0𝔽.
    2.  If [abs](https://262.ecma-international.org/12.0/#eqn-abs)([ℝ](https://262.ecma-international.org/12.0/#%E2%84%9D)(base)) is 1, return NaN.
    3.  If [abs](https://262.ecma-international.org/12.0/#eqn-abs)([ℝ](https://262.ecma-international.org/12.0/#%E2%84%9D)(base)) < 1, return +∞𝔽.
11.  [Assert](https://262.ecma-international.org/12.0/#assert): exponent is finite and is neither +0𝔽 nor \-0𝔽.
12.  If base < +0𝔽 and exponent is not an [integral Number](https://262.ecma-international.org/12.0/#integral-number), return NaN.
13.  Return an [implementation-approximated](https://262.ecma-international.org/12.0/#implementation-approximated) value representing the result of raising [ℝ](https://262.ecma-international.org/12.0/#%E2%84%9D)(base) to the [ℝ](https://262.ecma-international.org/12.0/#%E2%84%9D)(exponent) power.

Note

The result of base `**` exponent when base is 1𝔽 or \-1𝔽 and exponent is +∞𝔽 or \-∞𝔽, or when base is 1𝔽 and exponent is NaN, differs from [IEEE 754-2019](https://262.ecma-international.org/12.0/#sec-bibliography). The first edition of ECMAScript specified a result of NaN for this operation, whereas later versions of [IEEE 754-2019](https://262.ecma-international.org/12.0/#sec-bibliography) specified 1𝔽. The historical ECMAScript behaviour is preserved for compatibility reasons.

## 6.1.6.1.4 Number::multiply ( x, y )

The abstract operation Number::multiply takes arguments x (a Number) and y (a Number). It performs multiplication according to the rules of [IEEE 754-2019](https://262.ecma-international.org/12.0/#sec-bibliography) binary double-precision arithmetic, producing the product of x and y. It performs the following steps when called:

1.  If x is NaN or y is NaN, return NaN.
2.  If x is +∞𝔽 or x is \-∞𝔽, then
    1.  If y is +0𝔽 or y is \-0𝔽, return NaN.
    2.  If y > +0𝔽, return x.
    3.  Return -x.
3.  If y is +∞𝔽 or y is \-∞𝔽, then
    1.  If x is +0𝔽 or x is \-0𝔽, return NaN.
    2.  If x > +0𝔽, return y.
    3.  Return -y.
4.  Return [𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)([ℝ](https://262.ecma-international.org/12.0/#%E2%84%9D)(x) × [ℝ](https://262.ecma-international.org/12.0/#%E2%84%9D)(y)).

Note

Finite-precision multiplication is commutative, but not always associative.

## 6.1.6.1.5 Number::divide ( x, y )

The abstract operation Number::divide takes arguments x (a Number) and y (a Number). It performs division according to the rules of [IEEE 754-2019](https://262.ecma-international.org/12.0/#sec-bibliography) binary double-precision arithmetic, producing the quotient of x and y where x is the dividend and y is the divisor. It performs the following steps when called:

1.  If x is NaN or y is NaN, return NaN.
2.  If x is +∞𝔽 or x is \-∞𝔽, then
    1.  If y is +∞𝔽 or y is \-∞𝔽, return NaN.
    2.  If y is +0𝔽 or y > +0𝔽, return x.
    3.  Return -x.
3.  If y is +∞𝔽, then
    1.  If x is +0𝔽 or x > +0𝔽, return +0𝔽. Otherwise, return \-0𝔽.
4.  If y is \-∞𝔽, then
    1.  If x is +0𝔽 or x > +0𝔽, return \-0𝔽. Otherwise, return +0𝔽.
5.  If x is +0𝔽 or x is \-0𝔽, then
    1.  If y is +0𝔽 or y is \-0𝔽, return NaN.
    2.  If y > +0𝔽, return x.
    3.  Return -x.
6.  If y is +0𝔽, then
    1.  If x > +0𝔽, return +∞𝔽. Otherwise, return \-∞𝔽.
7.  If y is \-0𝔽, then
    1.  If x > +0𝔽, return \-∞𝔽. Otherwise, return +∞𝔽.
8.  Return [𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)([ℝ](https://262.ecma-international.org/12.0/#%E2%84%9D)(x) / [ℝ](https://262.ecma-international.org/12.0/#%E2%84%9D)(y)).

## 6.1.6.1.6 Number::remainder ( n, d )

The abstract operation Number::remainder takes arguments n (a Number) and d (a Number). It yields the remainder from an implied division of its operands where n is the dividend and d is the divisor. It performs the following steps when called:

1.  If n is NaN or d is NaN, return NaN.
2.  If n is +∞𝔽 or n is \-∞𝔽, return NaN.
3.  If d is +∞𝔽 or d is \-∞𝔽, return n.
4.  If d is +0𝔽 or d is \-0𝔽, return NaN.
5.  If n is +0𝔽 or n is \-0𝔽, return n.
6.  [Assert](https://262.ecma-international.org/12.0/#assert): n and d are finite and non-zero.
7.  Let r be [ℝ](https://262.ecma-international.org/12.0/#%E2%84%9D)(n) - ([ℝ](https://262.ecma-international.org/12.0/#%E2%84%9D)(d) × q) where q is an [integer](https://262.ecma-international.org/12.0/#integer) that is negative if and only if n and d have opposite sign, and whose magnitude is as large as possible without exceeding the magnitude of [ℝ](https://262.ecma-international.org/12.0/#%E2%84%9D)(n) / [ℝ](https://262.ecma-international.org/12.0/#%E2%84%9D)(d).
8.  Return [𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(r).

Note 1

In C and C++, the remainder operator accepts only integral operands; in ECMAScript, it also accepts floating-point operands.

Note 2

The result of a floating-point remainder operation as computed by the `%` operator is not the same as the “remainder” operation defined by

[IEEE 754-2019](https://262.ecma-international.org/12.0/#sec-bibliography)

. The

[IEEE 754-2019](https://262.ecma-international.org/12.0/#sec-bibliography)

“remainder” operation computes the remainder from a rounding division, not a truncating division, and so its behaviour is not analogous to that of the usual

integer

remainder operator. Instead the ECMAScript language defines `%` on floating-point operations to behave in a manner analogous to that of the Java

integer

remainder operator; this may be compared with the C library function fmod.

## 6.1.6.1.7 Number::add ( x, y )

The abstract operation Number::add takes arguments x (a Number) and y (a Number). It performs addition according to the rules of [IEEE 754-2019](https://262.ecma-international.org/12.0/#sec-bibliography) binary double-precision arithmetic, producing the sum of its arguments. It performs the following steps when called:

1.  If x is NaN or y is NaN, return NaN.
2.  If x is +∞𝔽 and y is \-∞𝔽, return NaN.
3.  If x is \-∞𝔽 and y is +∞𝔽, return NaN.
4.  If x is +∞𝔽 or x is \-∞𝔽, return x.
5.  If y is +∞𝔽 or y is \-∞𝔽, return y.
6.  [Assert](https://262.ecma-international.org/12.0/#assert): x and y are both finite.
7.  If x is \-0𝔽 and y is \-0𝔽, return \-0𝔽.
8.  Return [𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)([ℝ](https://262.ecma-international.org/12.0/#%E2%84%9D)(x) + [ℝ](https://262.ecma-international.org/12.0/#%E2%84%9D)(y)).

Note

Finite-precision addition is commutative, but not always associative.

## 6.1.6.1.8 Number::subtract ( x, y )

The abstract operation Number::subtract takes arguments x (a Number) and y (a Number). It performs subtraction, producing the difference of its operands; x is the minuend and y is the subtrahend. It performs the following steps when called:

1.  Return Number::add(x, Number::unaryMinus(y)).

Note

It is always the case that `x - y` produces the same result as `x + (-y)`.

## 6.1.6.1.9 Number::leftShift ( x, y )

The abstract operation Number::leftShift takes arguments x (a Number) and y (a Number). It performs the following steps when called:

1.  Let lnum be ! [ToInt32](https://262.ecma-international.org/12.0/#sec-toint32)(x).
2.  Let rnum be ! [ToUint32](https://262.ecma-international.org/12.0/#sec-touint32)(y).
3.  Let shiftCount be [ℝ](https://262.ecma-international.org/12.0/#%E2%84%9D)(rnum) [modulo](https://262.ecma-international.org/12.0/#eqn-modulo) 32.
4.  Return the result of left shifting lnum by shiftCount bits. The [mathematical value](https://262.ecma-international.org/12.0/#mathematical-value) of the result is exactly representable as a 32-bit two's complement bit string.

## 6.1.6.1.10 Number::signedRightShift ( x, y )

The abstract operation Number::signedRightShift takes arguments x (a Number) and y (a Number). It performs the following steps when called:

1.  Let lnum be ! [ToInt32](https://262.ecma-international.org/12.0/#sec-toint32)(x).
2.  Let rnum be ! [ToUint32](https://262.ecma-international.org/12.0/#sec-touint32)(y).
3.  Let shiftCount be [ℝ](https://262.ecma-international.org/12.0/#%E2%84%9D)(rnum) [modulo](https://262.ecma-international.org/12.0/#eqn-modulo) 32.
4.  Return the result of performing a sign-extending right shift of lnum by shiftCount bits. The most significant bit is propagated. The [mathematical value](https://262.ecma-international.org/12.0/#mathematical-value) of the result is exactly representable as a 32-bit two's complement bit string.

## 6.1.6.1.11 Number::unsignedRightShift ( x, y )

The abstract operation Number::unsignedRightShift takes arguments x (a Number) and y (a Number). It performs the following steps when called:

1.  Let lnum be ! [ToUint32](https://262.ecma-international.org/12.0/#sec-touint32)(x).
2.  Let rnum be ! [ToUint32](https://262.ecma-international.org/12.0/#sec-touint32)(y).
3.  Let shiftCount be [ℝ](https://262.ecma-international.org/12.0/#%E2%84%9D)(rnum) [modulo](https://262.ecma-international.org/12.0/#eqn-modulo) 32.
4.  Return the result of performing a zero-filling right shift of lnum by shiftCount bits. Vacated bits are filled with zero. The [mathematical value](https://262.ecma-international.org/12.0/#mathematical-value) of the result is exactly representable as a 32-bit unsigned bit string.

## 6.1.6.1.12 Number::lessThan ( x, y )

The abstract operation Number::lessThan takes arguments x (a Number) and y (a Number). It performs the following steps when called:

1.  If x is NaN, return undefined.
2.  If y is NaN, return undefined.
3.  If x and y are the same [Number value](https://262.ecma-international.org/12.0/#number-value), return false.
4.  If x is +0𝔽 and y is \-0𝔽, return false.
5.  If x is \-0𝔽 and y is +0𝔽, return false.
6.  If x is +∞𝔽, return false.
7.  If y is +∞𝔽, return true.
8.  If y is \-∞𝔽, return false.
9.  If x is \-∞𝔽, return true.
10.  [Assert](https://262.ecma-international.org/12.0/#assert): x and y are finite and non-zero.
11.  If [ℝ](https://262.ecma-international.org/12.0/#%E2%84%9D)(x) < [ℝ](https://262.ecma-international.org/12.0/#%E2%84%9D)(y), return true. Otherwise, return false.

## 6.1.6.1.13 Number::equal ( x, y )

The abstract operation Number::equal takes arguments x (a Number) and y (a Number). It performs the following steps when called:

1.  If x is NaN, return false.
2.  If y is NaN, return false.
3.  If x is the same [Number value](https://262.ecma-international.org/12.0/#number-value) as y, return true.
4.  If x is +0𝔽 and y is \-0𝔽, return true.
5.  If x is \-0𝔽 and y is +0𝔽, return true.
6.  Return false.

## 6.1.6.1.14 Number::sameValue ( x, y )

The abstract operation Number::sameValue takes arguments x (a Number) and y (a Number). It performs the following steps when called:

1.  If x is NaN and y is NaN, return true.
2.  If x is +0𝔽 and y is \-0𝔽, return false.
3.  If x is \-0𝔽 and y is +0𝔽, return false.
4.  If x is the same [Number value](https://262.ecma-international.org/12.0/#number-value) as y, return true.
5.  Return false.

## 6.1.6.1.15 Number::sameValueZero ( x, y )

The abstract operation Number::sameValueZero takes arguments x (a Number) and y (a Number). It performs the following steps when called:

1.  If x is NaN and y is NaN, return true.
2.  If x is +0𝔽 and y is \-0𝔽, return true.
3.  If x is \-0𝔽 and y is +0𝔽, return true.
4.  If x is the same [Number value](https://262.ecma-international.org/12.0/#number-value) as y, return true.
5.  Return false.

## 6.1.6.1.16 NumberBitwiseOp ( op, x, y )

The abstract operation NumberBitwiseOp takes arguments op (a sequence of Unicode code points), x, and y. It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): op is `&`, `^`, or `|`.
2.  Let lnum be ! [ToInt32](https://262.ecma-international.org/12.0/#sec-toint32)(x).
3.  Let rnum be ! [ToInt32](https://262.ecma-international.org/12.0/#sec-toint32)(y).
4.  Let lbits be the 32-bit two's complement bit string representing [ℝ](https://262.ecma-international.org/12.0/#%E2%84%9D)(lnum).
5.  Let rbits be the 32-bit two's complement bit string representing [ℝ](https://262.ecma-international.org/12.0/#%E2%84%9D)(rnum).
6.  If op is `&`, let result be the result of applying the bitwise AND operation to lbits and rbits.
7.  Else if op is `^`, let result be the result of applying the bitwise exclusive OR (XOR) operation to lbits and rbits.
8.  Else, op is `|`. Let result be the result of applying the bitwise inclusive OR operation to lbits and rbits.
9.  Return the [Number value](https://262.ecma-international.org/12.0/#number-value) for the [integer](https://262.ecma-international.org/12.0/#integer) represented by the 32-bit two's complement bit string result.

## 6.1.6.1.17 Number::bitwiseAND ( x, y )

The abstract operation Number::bitwiseAND takes arguments x (a Number) and y (a Number). It performs the following steps when called:

1.  Return [NumberBitwiseOp](https://262.ecma-international.org/12.0/#sec-numberbitwiseop)(`&`, x, y).

## 6.1.6.1.18 Number::bitwiseXOR ( x, y )

The abstract operation Number::bitwiseXOR takes arguments x (a Number) and y (a Number). It performs the following steps when called:

1.  Return [NumberBitwiseOp](https://262.ecma-international.org/12.0/#sec-numberbitwiseop)(`^`, x, y).

## 6.1.6.1.19 Number::bitwiseOR ( x, y )

The abstract operation Number::bitwiseOR takes arguments x (a Number) and y (a Number). It performs the following steps when called:

1.  Return [NumberBitwiseOp](https://262.ecma-international.org/12.0/#sec-numberbitwiseop)(`|`, x, y).

## 6.1.6.1.20 Number::toString ( x )

The abstract operation Number::toString takes argument x (a Number). It converts x to String format. It performs the following steps when called:

1.  If x is NaN, return the String "NaN".
2.  If x is +0𝔽 or \-0𝔽, return the String "0".
3.  If x < +0𝔽, return the [string-concatenation](https://262.ecma-international.org/12.0/#string-concatenation) of "-" and ! [Number::toString](https://262.ecma-international.org/12.0/#sec-numeric-types-number-tostring)(-x).
4.  If x is +∞𝔽, return the String "Infinity".
5.  Otherwise, let n, k, and s be integers such that k ≥ 1, 10k - 1 ≤ s < 10k, s × 10n - k is [ℝ](https://262.ecma-international.org/12.0/#%E2%84%9D)(x), and k is as small as possible. Note that k is the number of digits in the decimal representation of s, that s is not divisible by 10, and that the least significant digit of s is not necessarily uniquely determined by these criteria.
6.  If k ≤ n ≤ 21, return the [string-concatenation](https://262.ecma-international.org/12.0/#string-concatenation) of:
    -   the code units of the k digits of the decimal representation of s (in order, with no leading zeroes)
    -   n - k occurrences of the code unit 0x0030 (DIGIT ZERO)
7.  If 0 < n ≤ 21, return the [string-concatenation](https://262.ecma-international.org/12.0/#string-concatenation) of:
    -   the code units of the most significant n digits of the decimal representation of s
    -   the code unit 0x002E (FULL STOP)
    -   the code units of the remaining k - n digits of the decimal representation of s
8.  If -6 < n ≤ 0, return the [string-concatenation](https://262.ecma-international.org/12.0/#string-concatenation) of:
    -   the code unit 0x0030 (DIGIT ZERO)
    -   the code unit 0x002E (FULL STOP)
    -   \-n occurrences of the code unit 0x0030 (DIGIT ZERO)
    -   the code units of the k digits of the decimal representation of s
9.  Otherwise, if k = 1, return the [string-concatenation](https://262.ecma-international.org/12.0/#string-concatenation) of:
    -   the code unit of the single digit of s
    -   the code unit 0x0065 (LATIN SMALL LETTER E)
    -   the code unit 0x002B (PLUS SIGN) or the code unit 0x002D (HYPHEN-MINUS) according to whether n - 1 is positive or negative
    -   the code units of the decimal representation of the [integer](https://262.ecma-international.org/12.0/#integer) [abs](https://262.ecma-international.org/12.0/#eqn-abs)(n - 1) (with no leading zeroes)
10.  Return the [string-concatenation](https://262.ecma-international.org/12.0/#string-concatenation) of:
    -   the code units of the most significant digit of the decimal representation of s
    -   the code unit 0x002E (FULL STOP)
    -   the code units of the remaining k - 1 digits of the decimal representation of s
    -   the code unit 0x0065 (LATIN SMALL LETTER E)
    -   the code unit 0x002B (PLUS SIGN) or the code unit 0x002D (HYPHEN-MINUS) according to whether n - 1 is positive or negative
    -   the code units of the decimal representation of the [integer](https://262.ecma-international.org/12.0/#integer) [abs](https://262.ecma-international.org/12.0/#eqn-abs)(n - 1) (with no leading zeroes)

Note 1

The following observations may be useful as guidelines for implementations, but are not part of the normative requirements of this Standard:

-   If x is any [Number value](https://262.ecma-international.org/12.0/#number-value) other than \-0𝔽, then [ToNumber](https://262.ecma-international.org/12.0/#sec-tonumber)([ToString](https://262.ecma-international.org/12.0/#sec-tostring)(x)) is exactly the same [Number value](https://262.ecma-international.org/12.0/#number-value) as x.
-   The least significant digit of s is not always uniquely determined by the requirements listed in step [5](https://262.ecma-international.org/12.0/#step-number-tostring-intermediate-values).

Note 2

For implementations that provide more accurate conversions than required by the rules above, it is recommended that the following alternative version of step [5](https://262.ecma-international.org/12.0/#step-number-tostring-intermediate-values) be used as a guideline:

5.  Otherwise, let n, k, and s be integers such that k ≥ 1, 10k - 1 ≤ s < 10k, s × 10n - k is [ℝ](https://262.ecma-international.org/12.0/#%E2%84%9D)(x), and k is as small as possible. If there are multiple possibilities for s, choose the value of s for which s × 10n - k is closest in value to [ℝ](https://262.ecma-international.org/12.0/#%E2%84%9D)(x). If there are two such possible values of s, choose the one that is even. Note that k is the number of digits in the decimal representation of s and that s is not divisible by 10.

Note 3

Implementers of ECMAScript may find useful the paper and code written by David M. Gay for binary-to-decimal conversion of floating-point numbers:

Gay, David M. Correctly Rounded Binary-Decimal and Decimal-Binary Conversions. Numerical Analysis, Manuscript 90-10. AT&T Bell Laboratories (Murray Hill, New Jersey). 30 November 1990. Available as  
[http://ampl.com/REFS/abstracts.html#rounding](http://ampl.com/REFS/abstracts.html#rounding). Associated code available as  
[http://netlib.sandia.gov/fp/dtoa.c](http://netlib.sandia.gov/fp/dtoa.c) and as  
[http://netlib.sandia.gov/fp/g\_fmt.c](http://netlib.sandia.gov/fp/g_fmt.c) and may also be found at the various `netlib` mirror sites.

## 6.1.6.2 The BigInt Type

The BigInt type represents an [integer](https://262.ecma-international.org/12.0/#integer) value. The value may be any size and is not limited to a particular bit-width. Generally, where not otherwise noted, operations are designed to return exact mathematically-based answers. For binary operations, BigInts act as two's complement binary strings, with negative numbers treated as having bits set infinitely to the left.

The BigInt::unit value is 1ℤ.

## 6.1.6.2.1 BigInt::unaryMinus ( x )

The abstract operation BigInt::unaryMinus takes argument x (a BigInt). It performs the following steps when called:

1.  If x is 0ℤ, return 0ℤ.
2.  Return the BigInt value that represents the negation of [ℝ](https://262.ecma-international.org/12.0/#%E2%84%9D)(x).

## 6.1.6.2.2 BigInt::bitwiseNOT ( x )

The abstract operation BigInt::bitwiseNOT takes argument x (a BigInt). It returns the one's complement of x; that is, -x - 1ℤ.

## 6.1.6.2.3 BigInt::exponentiate ( base, exponent )

The abstract operation BigInt::exponentiate takes arguments base (a BigInt) and exponent (a BigInt). It performs the following steps when called:

1.  If exponent < 0ℤ, throw a RangeError exception.
2.  If base is 0ℤ and exponent is 0ℤ, return 1ℤ.
3.  Return the BigInt value that represents [ℝ](https://262.ecma-international.org/12.0/#%E2%84%9D)(base) raised to the power [ℝ](https://262.ecma-international.org/12.0/#%E2%84%9D)(exponent).

## 6.1.6.2.4 BigInt::multiply ( x, y )

The abstract operation BigInt::multiply takes arguments x (a BigInt) and y (a BigInt). It returns the BigInt value that represents the result of multiplying x and y.

Note

Even if the result has a much larger bit width than the input, the exact mathematical answer is given.

## 6.1.6.2.5 BigInt::divide ( x, y )

The abstract operation BigInt::divide takes arguments x (a BigInt) and y (a BigInt). It performs the following steps when called:

1.  If y is 0ℤ, throw a RangeError exception.
2.  Let quotient be [ℝ](https://262.ecma-international.org/12.0/#%E2%84%9D)(x) / [ℝ](https://262.ecma-international.org/12.0/#%E2%84%9D)(y).
3.  Return the BigInt value that represents quotient rounded towards 0 to the next [integer](https://262.ecma-international.org/12.0/#integer) value.

## 6.1.6.2.6 BigInt::remainder ( n, d )

The abstract operation BigInt::remainder takes arguments n (a BigInt) and d (a BigInt). It performs the following steps when called:

1.  If d is 0ℤ, throw a RangeError exception.
2.  If n is 0ℤ, return 0ℤ.
3.  Let r be the BigInt defined by the mathematical relation r = n - (d × q) where q is a BigInt that is negative only if n/d is negative and positive only if n/d is positive, and whose magnitude is as large as possible without exceeding the magnitude of the true mathematical quotient of n and d.
4.  Return r.

Note

The sign of the result equals the sign of the dividend.

## 6.1.6.2.7 BigInt::add ( x, y )

The abstract operation BigInt::add takes arguments x (a BigInt) and y (a BigInt). It returns the BigInt value that represents the sum of x and y.

## 6.1.6.2.8 BigInt::subtract ( x, y )

The abstract operation BigInt::subtract takes arguments x (a BigInt) and y (a BigInt). It returns the BigInt value that represents the difference x minus y.

## 6.1.6.2.9 BigInt::leftShift ( x, y )

The abstract operation BigInt::leftShift takes arguments x (a BigInt) and y (a BigInt). It performs the following steps when called:

1.  If y < 0ℤ, then
    1.  Return the BigInt value that represents [ℝ](https://262.ecma-international.org/12.0/#%E2%84%9D)(x) / 2\-y, rounding down to the nearest [integer](https://262.ecma-international.org/12.0/#integer), including for negative numbers.
2.  Return the BigInt value that represents [ℝ](https://262.ecma-international.org/12.0/#%E2%84%9D)(x) × 2y.

Note

Semantics here should be equivalent to a bitwise shift, treating the BigInt as an infinite length string of binary two's complement digits.

## 6.1.6.2.10 BigInt::signedRightShift ( x, y )

The abstract operation BigInt::signedRightShift takes arguments x (a BigInt) and y (a BigInt). It performs the following steps when called:

1.  Return BigInt::leftShift(x, -y).

## 6.1.6.2.11 BigInt::unsignedRightShift ( x, y )

The abstract operation BigInt::unsignedRightShift takes arguments x (a BigInt) and y (a BigInt). It performs the following steps when called:

1.  Throw a TypeError exception.

## 6.1.6.2.12 BigInt::lessThan ( x, y )

The abstract operation BigInt::lessThan takes arguments x (a BigInt) and y (a BigInt). It returns true if [ℝ](https://262.ecma-international.org/12.0/#%E2%84%9D)(x) < [ℝ](https://262.ecma-international.org/12.0/#%E2%84%9D)(y) and false otherwise.

## 6.1.6.2.13 BigInt::equal ( x, y )

The abstract operation BigInt::equal takes arguments x (a BigInt) and y (a BigInt). It returns true if [ℝ](https://262.ecma-international.org/12.0/#%E2%84%9D)(x) = [ℝ](https://262.ecma-international.org/12.0/#%E2%84%9D)(y) and false otherwise.

## 6.1.6.2.14 BigInt::sameValue ( x, y )

The abstract operation BigInt::sameValue takes arguments x (a BigInt) and y (a BigInt). It performs the following steps when called:

1.  Return BigInt::equal(x, y).

## 6.1.6.2.15 BigInt::sameValueZero ( x, y )

The abstract operation BigInt::sameValueZero takes arguments x (a BigInt) and y (a BigInt). It performs the following steps when called:

1.  Return BigInt::equal(x, y).

## 6.1.6.2.16 BinaryAnd ( x, y )

The abstract operation BinaryAnd takes arguments x and y. It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): x is 0 or 1.
2.  [Assert](https://262.ecma-international.org/12.0/#assert): y is 0 or 1.
3.  If x is 1 and y is 1, return 1.
4.  Else, return 0.

## 6.1.6.2.17 BinaryOr ( x, y )

The abstract operation BinaryOr takes arguments x and y. It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): x is 0 or 1.
2.  [Assert](https://262.ecma-international.org/12.0/#assert): y is 0 or 1.
3.  If x is 1 or y is 1, return 1.
4.  Else, return 0.

## 6.1.6.2.18 BinaryXor ( x, y )

The abstract operation BinaryXor takes arguments x and y. It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): x is 0 or 1.
2.  [Assert](https://262.ecma-international.org/12.0/#assert): y is 0 or 1.
3.  If x is 1 and y is 0, return 1.
4.  Else if x is 0 and y is 1, return 1.
5.  Else, return 0.

## 6.1.6.2.19 BigIntBitwiseOp ( op, x, y )

The abstract operation BigIntBitwiseOp takes arguments op (a sequence of Unicode code points), x (a BigInt), and y (a BigInt). It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): op is `&`, `^`, or `|`.
2.  Set x to [ℝ](https://262.ecma-international.org/12.0/#%E2%84%9D)(x).
3.  Set y to [ℝ](https://262.ecma-international.org/12.0/#%E2%84%9D)(y).
4.  Let result be 0.
5.  Let shift be 0.
6.  Repeat, until (x = 0 or x = -1) and (y = 0 or y = -1),
    1.  Let xDigit be x [modulo](https://262.ecma-international.org/12.0/#eqn-modulo) 2.
    2.  Let yDigit be y [modulo](https://262.ecma-international.org/12.0/#eqn-modulo) 2.
    3.  If op is `&`, set result to result + 2shift × [BinaryAnd](https://262.ecma-international.org/12.0/#sec-binaryand)(xDigit, yDigit).
    4.  Else if op is `|`, set result to result + 2shift × [BinaryOr](https://262.ecma-international.org/12.0/#sec-binaryor)(xDigit, yDigit).
    5.  Else,
        1.  [Assert](https://262.ecma-international.org/12.0/#assert): op is `^`.
        2.  Set result to result + 2shift × [BinaryXor](https://262.ecma-international.org/12.0/#sec-binaryxor)(xDigit, yDigit).
    6.  Set shift to shift + 1.
    7.  Set x to (x - xDigit) / 2.
    8.  Set y to (y - yDigit) / 2.
7.  If op is `&`, let tmp be [BinaryAnd](https://262.ecma-international.org/12.0/#sec-binaryand)(x [modulo](https://262.ecma-international.org/12.0/#eqn-modulo) 2, y [modulo](https://262.ecma-international.org/12.0/#eqn-modulo) 2).
8.  Else if op is `|`, let tmp be [BinaryOr](https://262.ecma-international.org/12.0/#sec-binaryor)(x [modulo](https://262.ecma-international.org/12.0/#eqn-modulo) 2, y [modulo](https://262.ecma-international.org/12.0/#eqn-modulo) 2).
9.  Else,
    1.  [Assert](https://262.ecma-international.org/12.0/#assert): op is `^`.
    2.  Let tmp be [BinaryXor](https://262.ecma-international.org/12.0/#sec-binaryxor)(x [modulo](https://262.ecma-international.org/12.0/#eqn-modulo) 2, y [modulo](https://262.ecma-international.org/12.0/#eqn-modulo) 2).
10.  If tmp ≠ 0, then
    1.  Set result to result - 2shift.
    2.  NOTE: This extends the sign.
11.  Return the BigInt value for result.

## 6.1.6.2.20 BigInt::bitwiseAND ( x, y )

The abstract operation BigInt::bitwiseAND takes arguments x (a BigInt) and y (a BigInt). It performs the following steps when called:

1.  Return [BigIntBitwiseOp](https://262.ecma-international.org/12.0/#sec-bigintbitwiseop)(`&`, x, y).

## 6.1.6.2.21 BigInt::bitwiseXOR ( x, y )

The abstract operation BigInt::bitwiseXOR takes arguments x (a BigInt) and y (a BigInt). It performs the following steps when called:

1.  Return [BigIntBitwiseOp](https://262.ecma-international.org/12.0/#sec-bigintbitwiseop)(`^`, x, y).

## 6.1.6.2.22 BigInt::bitwiseOR ( x, y )

The abstract operation BigInt::bitwiseOR takes arguments x (a BigInt) and y (a BigInt). It performs the following steps when called:

1.  Return [BigIntBitwiseOp](https://262.ecma-international.org/12.0/#sec-bigintbitwiseop)(`|`, x, y).

## 6.1.6.2.23 BigInt::toString ( x )

The abstract operation BigInt::toString takes argument x (a BigInt). It converts x to String format. It performs the following steps when called:

1.  If x < 0ℤ, return the [string-concatenation](https://262.ecma-international.org/12.0/#string-concatenation) of the String "-" and ! [BigInt::toString](https://262.ecma-international.org/12.0/#sec-numeric-types-bigint-tostring)(-x).
2.  Return the String value consisting of the code units of the digits of the decimal representation of x.

## 6.1.7 The Object Type

An Object is logically a collection of properties. Each property is either a data property, or an accessor property:

-   A data property associates a key value with an [ECMAScript language value](https://262.ecma-international.org/12.0/#sec-ecmascript-language-types) and a set of Boolean attributes.
-   An accessor property associates a key value with one or two accessor functions, and a set of Boolean attributes. The accessor functions are used to store or retrieve an [ECMAScript language value](https://262.ecma-international.org/12.0/#sec-ecmascript-language-types) that is associated with the property.

Properties are identified using key values. A property key value is either an ECMAScript String value or a Symbol value. All String and Symbol values, including the empty String, are valid as property keys. A property name is a property key that is a String value.

An integer index is a String-valued property key that is a canonical numeric String (see [7.1.21](https://262.ecma-international.org/12.0/#sec-canonicalnumericindexstring)) and whose numeric value is either +0𝔽 or a positive [integral Number](https://262.ecma-international.org/12.0/#integral-number) ≤ [𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(253 - 1). An array index is an [integer index](https://262.ecma-international.org/12.0/#integer-index) whose numeric value i is in the range +0𝔽 ≤ i < [𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(232 - 1).

Property keys are used to access properties and their values. There are two kinds of access for properties: _get_ and _set_, corresponding to value retrieval and assignment, respectively. The properties accessible via get and set access includes both _own properties_ that are a direct part of an object and _inherited properties_ which are provided by another associated object via a property inheritance relationship. Inherited properties may be either own or inherited properties of the associated object. Each own property of an object must each have a key value that is distinct from the key values of the other own properties of that object.

All objects are logically collections of properties, but there are multiple forms of objects that differ in their semantics for accessing and manipulating their properties. Please see [6.1.7.2](https://262.ecma-international.org/12.0/#sec-object-internal-methods-and-internal-slots) for definitions of the multiple forms of objects.

## 6.1.7.1 Property Attributes

Attributes are used in this specification to define and explain the state of Object properties. A [data property](https://262.ecma-international.org/12.0/#sec-object-type) associates a key value with the attributes listed in [Table 3](https://262.ecma-international.org/12.0/#table-data-property-attributes).

Table 3: Attributes of a Data Property

| Attribute Name | Value Domain | Description |
| --- | --- | --- |
| \[\[Value\]\] | Any [ECMAScript language type](https://262.ecma-international.org/12.0/#sec-ecmascript-language-types) | The value retrieved by a get access of the property. |
| \[\[Writable\]\] | Boolean | If false, attempts by ECMAScript code to change the property's \[\[Value\]\] attribute using \[\[Set\]\] will not succeed. |
| \[\[Enumerable\]\] | Boolean | If true, the property will be enumerated by a for-in enumeration (see [14.7.5](https://262.ecma-international.org/12.0/#sec-for-in-and-for-of-statements)). Otherwise, the property is said to be non-enumerable. |
| \[\[Configurable\]\] | Boolean | If false, attempts to delete the property, change the property to be an [accessor property](https://262.ecma-international.org/12.0/#sec-object-type), or change its attributes (other than \[\[Value\]\], or changing \[\[Writable\]\] to false) will fail. |

An [accessor property](https://262.ecma-international.org/12.0/#sec-object-type) associates a key value with the attributes listed in [Table 4](https://262.ecma-international.org/12.0/#table-accessor-property-attributes).

Table 4: Attributes of an Accessor Property

| Attribute Name | Value Domain | Description |
| --- | --- | --- |
| \[\[Get\]\] | Object | Undefined | If the value is an Object it must be a [function object](https://262.ecma-international.org/12.0/#function-object). The function's \[\[Call\]\] internal method ([Table 7](https://262.ecma-international.org/12.0/#table-additional-essential-internal-methods-of-function-objects)) is called with an empty arguments list to retrieve the property value each time a get access of the property is performed. |
| \[\[Set\]\] | Object | Undefined | If the value is an Object it must be a [function object](https://262.ecma-international.org/12.0/#function-object). The function's \[\[Call\]\] internal method ([Table 7](https://262.ecma-international.org/12.0/#table-additional-essential-internal-methods-of-function-objects)) is called with an arguments list containing the assigned value as its sole argument each time a set access of the property is performed. The effect of a property's \[\[Set\]\] internal method may, but is not required to, have an effect on the value returned by subsequent calls to the property's \[\[Get\]\] internal method. |
| \[\[Enumerable\]\] | Boolean | If true, the property is to be enumerated by a for-in enumeration (see [14.7.5](https://262.ecma-international.org/12.0/#sec-for-in-and-for-of-statements)). Otherwise, the property is said to be non-enumerable. |
| \[\[Configurable\]\] | Boolean | If false, attempts to delete the property, change the property to be a [data property](https://262.ecma-international.org/12.0/#sec-object-type), or change its attributes will fail. |

If the initial values of a property's attributes are not explicitly specified by this specification, the default value defined in [Table 5](https://262.ecma-international.org/12.0/#table-default-attribute-values) is used.

Table 5: Default Attribute Values

| Attribute Name | Default Value |
| --- | --- |
| \[\[Value\]\] | undefined |
| \[\[Get\]\] | undefined |
| \[\[Set\]\] | undefined |
| \[\[Writable\]\] | false |
| \[\[Enumerable\]\] | false |
| \[\[Configurable\]\] | false |

## 6.1.7.2 Object Internal Methods and Internal Slots

The actual semantics of objects, in ECMAScript, are specified via algorithms called _internal methods_. Each object in an ECMAScript engine is associated with a set of internal methods that defines its runtime behaviour. These internal methods are not part of the ECMAScript language. They are defined by this specification purely for expository purposes. However, each object within an implementation of ECMAScript must behave as specified by the internal methods associated with it. The exact manner in which this is accomplished is determined by the implementation.

Internal method names are polymorphic. This means that different object values may perform different algorithms when a common internal method name is invoked upon them. That actual object upon which an internal method is invoked is the “target” of the invocation. If, at runtime, the implementation of an algorithm attempts to use an internal method of an object that the object does not support, a TypeError exception is thrown.

Internal slots correspond to internal state that is associated with objects and used by various ECMAScript specification algorithms. Internal slots are not object properties and they are not inherited. Depending upon the specific internal slot specification, such state may consist of values of any [ECMAScript language type](https://262.ecma-international.org/12.0/#sec-ecmascript-language-types) or of specific ECMAScript specification type values. Unless explicitly specified otherwise, internal slots are allocated as part of the process of creating an object and may not be dynamically added to an object. Unless specified otherwise, the initial value of an internal slot is the value undefined. Various algorithms within this specification create objects that have internal slots. However, the ECMAScript language provides no direct way to associate internal slots with an object.

Internal methods and internal slots are identified within this specification using names enclosed in double square brackets \[\[ \]\].

[Table 6](https://262.ecma-international.org/12.0/#table-essential-internal-methods) summarizes the _essential internal methods_ used by this specification that are applicable to all objects created or manipulated by ECMAScript code. Every object must have algorithms for all of the essential internal methods. However, all objects do not necessarily use the same algorithms for those methods.

An ordinary object is an object that satisfies all of the following criteria:

-   For the internal methods listed in [Table 6](https://262.ecma-international.org/12.0/#table-essential-internal-methods), the object uses those defined in [10.1](https://262.ecma-international.org/12.0/#sec-ordinary-object-internal-methods-and-internal-slots).
-   If the object has a \[\[Call\]\] internal method, it uses the one defined in [10.2.1](https://262.ecma-international.org/12.0/#sec-ecmascript-function-objects-call-thisargument-argumentslist).
-   If the object has a \[\[Construct\]\] internal method, it uses the one defined in [10.2.2](https://262.ecma-international.org/12.0/#sec-ecmascript-function-objects-construct-argumentslist-newtarget).

An exotic object is an object that is not an [ordinary object](https://262.ecma-international.org/12.0/#ordinary-object).

This specification recognizes different kinds of exotic objects by those objects' internal methods. An object that is behaviourally equivalent to a particular kind of [exotic object](https://262.ecma-international.org/12.0/#exotic-object) (such as an [Array exotic object](https://262.ecma-international.org/12.0/#array-exotic-object) or a [bound function exotic object](https://262.ecma-international.org/12.0/#bound-function-exotic-object)), but does not have the same collection of internal methods specified for that kind, is not recognized as that kind of [exotic object](https://262.ecma-international.org/12.0/#exotic-object).

The “Signature” column of [Table 6](https://262.ecma-international.org/12.0/#table-essential-internal-methods) and other similar tables describes the invocation pattern for each internal method. The invocation pattern always includes a parenthesized list of descriptive parameter names. If a parameter name is the same as an ECMAScript type name then the name describes the required type of the parameter value. If an internal method explicitly returns a value, its parameter list is followed by the symbol “→” and the type name of the returned value. The type names used in signatures refer to the types defined in clause [6](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values) augmented by the following additional names. “_any_” means the value may be any [ECMAScript language type](https://262.ecma-international.org/12.0/#sec-ecmascript-language-types).

In addition to its parameters, an internal method always has access to the object that is the target of the method invocation.

An internal method implicitly returns a [Completion Record](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type), either a normal completion that wraps a value of the return type shown in its invocation pattern, or a throw completion.

Table 6: Essential Internal Methods

| Internal Method | Signature | Description |
| --- | --- | --- |
| \[\[GetPrototypeOf\]\] | ( ) **→** Object | Null | Determine the object that provides inherited properties for this object. A null value indicates that there are no inherited properties. |
| \[\[SetPrototypeOf\]\] | (Object | Null) **→** Boolean | Associate this object with another object that provides inherited properties. Passing null indicates that there are no inherited properties. Returns true indicating that the operation was completed successfully or false indicating that the operation was not successful. |
| \[\[IsExtensible\]\] | ( ) **→** Boolean | Determine whether it is permitted to add additional properties to this object. |
| \[\[PreventExtensions\]\] | ( ) **→** Boolean | Control whether new properties may be added to this object. Returns true if the operation was successful or false if the operation was unsuccessful. |
| \[\[GetOwnProperty\]\] | (propertyKey) **→** Undefined | [Property Descriptor](https://262.ecma-international.org/12.0/#sec-property-descriptor-specification-type) | Return a [Property Descriptor](https://262.ecma-international.org/12.0/#sec-property-descriptor-specification-type) for the own property of this object whose key is propertyKey, or undefined if no such property exists. |
| \[\[DefineOwnProperty\]\] | (propertyKey, PropertyDescriptor) **→** Boolean | Create or alter the own property, whose key is propertyKey, to have the state described by PropertyDescriptor. Return true if that property was successfully created/updated or false if the property could not be created or updated. |
| \[\[HasProperty\]\] | (propertyKey) **→** Boolean | Return a Boolean value indicating whether this object already has either an own or inherited property whose key is propertyKey. |
| \[\[Get\]\] | (propertyKey, Receiver) **→** _any_ | Return the value of the property whose key is propertyKey from this object. If any ECMAScript code must be executed to retrieve the property value, Receiver is used as the this value when evaluating the code. |
| \[\[Set\]\] | (propertyKey, value, Receiver) **→** Boolean | Set the value of the property whose key is propertyKey to value. If any ECMAScript code must be executed to set the property value, Receiver is used as the this value when evaluating the code. Returns true if the property value was set or false if it could not be set. |
| \[\[Delete\]\] | (propertyKey) **→** Boolean | Remove the own property whose key is propertyKey from this object. Return false if the property was not deleted and is still present. Return true if the property was deleted or is not present. |
| \[\[OwnPropertyKeys\]\] | ( ) **→** [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) of propertyKey | Return a [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) whose elements are all of the own property keys for the object. |

[Table 7](https://262.ecma-international.org/12.0/#table-additional-essential-internal-methods-of-function-objects) summarizes additional essential internal methods that are supported by objects that may be called as functions. A function object is an object that supports the \[\[Call\]\] internal method. A constructor is an object that supports the \[\[Construct\]\] internal method. Every object that supports \[\[Construct\]\] must support \[\[Call\]\]; that is, every [constructor](https://262.ecma-international.org/12.0/#constructor) must be a [function object](https://262.ecma-international.org/12.0/#function-object). Therefore, a [constructor](https://262.ecma-international.org/12.0/#constructor) may also be referred to as a _[constructor](https://262.ecma-international.org/12.0/#constructor) function_ or _[constructor](https://262.ecma-international.org/12.0/#constructor) [function object](https://262.ecma-international.org/12.0/#function-object)_.

Table 7: Additional Essential Internal Methods of Function Objects

| Internal Method | Signature | Description |
| --- | --- | --- |
| \[\[Call\]\] | (_any_, a [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) of _any_) **→** _any_ | Executes code associated with this object. Invoked via a function call expression. The arguments to the internal method are a this value and a [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) whose elements are the arguments passed to the function by a call expression. Objects that implement this internal method are _callable_. |
| \[\[Construct\]\] | (a [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) of _any_, Object) **→** Object | Creates an object. Invoked via the `new` operator or a `super` call. The first argument to the internal method is a [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) whose elements are the arguments of the [constructor](https://262.ecma-international.org/12.0/#constructor) invocation or the `super` call. The second argument is the object to which the `new` operator was initially applied. Objects that implement this internal method are called _constructors_. A [function object](https://262.ecma-international.org/12.0/#function-object) is not necessarily a [constructor](https://262.ecma-international.org/12.0/#constructor) and such non-[constructor](https://262.ecma-international.org/12.0/#constructor) function objects do not have a \[\[Construct\]\] internal method. |

The semantics of the essential internal methods for ordinary objects and standard exotic objects are specified in clause [10](https://262.ecma-international.org/12.0/#sec-ordinary-and-exotic-objects-behaviours). If any specified use of an internal method of an [exotic object](https://262.ecma-international.org/12.0/#exotic-object) is not supported by an implementation, that usage must throw a TypeError exception when attempted.

## 6.1.7.3 Invariants of the Essential Internal Methods

The Internal Methods of Objects of an ECMAScript engine must conform to the list of invariants specified below. Ordinary ECMAScript Objects as well as all standard exotic objects in this specification maintain these invariants. ECMAScript Proxy objects maintain these invariants by means of runtime checks on the result of traps invoked on the \[\[ProxyHandler\]\] object.

Any implementation provided exotic objects must also maintain these invariants for those objects. Violation of these invariants may cause ECMAScript code to have unpredictable behaviour and create security issues. However, violation of these invariants must never compromise the memory safety of an implementation.

An implementation must not allow these invariants to be circumvented in any manner such as by providing alternative interfaces that implement the functionality of the essential internal methods without enforcing their invariants.

## Definitions:

-   The _target_ of an internal method is the object upon which the internal method is called.
-   A target is _non-extensible_ if it has been observed to return false from its \[\[IsExtensible\]\] internal method, or true from its \[\[PreventExtensions\]\] internal method.
-   A _non-existent_ property is a property that does not exist as an own property on a non-extensible target.
-   All references to _[SameValue](https://262.ecma-international.org/12.0/#sec-samevalue)_ are according to the definition of the [SameValue](https://262.ecma-international.org/12.0/#sec-samevalue) algorithm.

## Return value:

The value returned by any internal method must be a [Completion Record](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type) with either:

-   \[\[Type\]\] = normal, \[\[Target\]\] = empty, and \[\[Value\]\] = a value of the "normal return type" shown below for that internal method, or
-   \[\[Type\]\] = throw, \[\[Target\]\] = empty, and \[\[Value\]\] = any [ECMAScript language value](https://262.ecma-international.org/12.0/#sec-ecmascript-language-types).

Note 1

An internal method must not return a completion with \[\[Type\]\] = continue, break, or return.

## \[\[GetPrototypeOf\]\] ( )

-   The normal return type is either Object or Null.
-   If target is non-extensible, and \[\[GetPrototypeOf\]\] returns a value V, then any future calls to \[\[GetPrototypeOf\]\] should return the [SameValue](https://262.ecma-international.org/12.0/#sec-samevalue) as V.

Note 2

An object's prototype chain should have finite length (that is, starting from any object, recursively applying the \[\[GetPrototypeOf\]\] internal method to its result should eventually lead to the value null). However, this requirement is not enforceable as an object level invariant if the prototype chain includes any exotic objects that do not use the [ordinary object](https://262.ecma-international.org/12.0/#ordinary-object) definition of \[\[GetPrototypeOf\]\]. Such a circular prototype chain may result in infinite loops when accessing object properties.

## \[\[SetPrototypeOf\]\] ( V )

-   The normal return type is Boolean.
-   If target is non-extensible, \[\[SetPrototypeOf\]\] must return false, unless V is the [SameValue](https://262.ecma-international.org/12.0/#sec-samevalue) as the target's observed \[\[GetPrototypeOf\]\] value.

## \[\[IsExtensible\]\] ( )

-   The normal return type is Boolean.
-   If \[\[IsExtensible\]\] returns false, all future calls to \[\[IsExtensible\]\] on the target must return false.

## \[\[PreventExtensions\]\] ( )

-   The normal return type is Boolean.
-   If \[\[PreventExtensions\]\] returns true, all future calls to \[\[IsExtensible\]\] on the target must return false and the target is now considered non-extensible.

## \[\[GetOwnProperty\]\] ( P )

-   The normal return type is either [Property Descriptor](https://262.ecma-international.org/12.0/#sec-property-descriptor-specification-type) or Undefined.
-   If the Type of the return value is [Property Descriptor](https://262.ecma-international.org/12.0/#sec-property-descriptor-specification-type), the return value must be a fully populated [Property Descriptor](https://262.ecma-international.org/12.0/#sec-property-descriptor-specification-type).
-   If P is described as a non-configurable, non-writable own [data property](https://262.ecma-international.org/12.0/#sec-object-type), all future calls to \[\[GetOwnProperty\]\] ( P ) must return [Property Descriptor](https://262.ecma-international.org/12.0/#sec-property-descriptor-specification-type) whose \[\[Value\]\] is [SameValue](https://262.ecma-international.org/12.0/#sec-samevalue) as P's \[\[Value\]\] attribute.
-   If P's attributes other than \[\[Writable\]\] may change over time or if the property might be deleted, then P's \[\[Configurable\]\] attribute must be true.
-   If the \[\[Writable\]\] attribute may change from false to true, then the \[\[Configurable\]\] attribute must be true.
-   If the target is non-extensible and P is non-existent, then all future calls to \[\[GetOwnProperty\]\] (P) on the target must describe P as non-existent (i.e. \[\[GetOwnProperty\]\] (P) must return undefined).

Note 3

As a consequence of the third invariant, if a property is described as a [data property](https://262.ecma-international.org/12.0/#sec-object-type) and it may return different values over time, then either or both of the \[\[Writable\]\] and \[\[Configurable\]\] attributes must be true even if no mechanism to change the value is exposed via the other essential internal methods.

## \[\[DefineOwnProperty\]\] ( P, Desc )

-   The normal return type is Boolean.
-   \[\[DefineOwnProperty\]\] must return false if P has previously been observed as a non-configurable own property of the target, unless either:
    1.  P is a writable [data property](https://262.ecma-international.org/12.0/#sec-object-type). A non-configurable writable [data property](https://262.ecma-international.org/12.0/#sec-object-type) can be changed into a non-configurable non-writable [data property](https://262.ecma-international.org/12.0/#sec-object-type).
    2.  All attributes of Desc are the [SameValue](https://262.ecma-international.org/12.0/#sec-samevalue) as P's attributes.
-   \[\[DefineOwnProperty\]\] (P, Desc) must return false if target is non-extensible and P is a non-existent own property. That is, a non-extensible target object cannot be extended with new properties.

## \[\[HasProperty\]\] ( P )

-   The normal return type is Boolean.
-   If P was previously observed as a non-configurable own data or [accessor property](https://262.ecma-international.org/12.0/#sec-object-type) of the target, \[\[HasProperty\]\] must return true.

## \[\[Get\]\] ( P, Receiver )

-   The normal return type is any [ECMAScript language type](https://262.ecma-international.org/12.0/#sec-ecmascript-language-types).
-   If P was previously observed as a non-configurable, non-writable own [data property](https://262.ecma-international.org/12.0/#sec-object-type) of the target with value V, then \[\[Get\]\] must return the [SameValue](https://262.ecma-international.org/12.0/#sec-samevalue) as V.
-   If P was previously observed as a non-configurable own [accessor property](https://262.ecma-international.org/12.0/#sec-object-type) of the target whose \[\[Get\]\] attribute is undefined, the \[\[Get\]\] operation must return undefined.

## \[\[Set\]\] ( P, V, Receiver )

-   The normal return type is Boolean.
-   If P was previously observed as a non-configurable, non-writable own [data property](https://262.ecma-international.org/12.0/#sec-object-type) of the target, then \[\[Set\]\] must return false unless V is the [SameValue](https://262.ecma-international.org/12.0/#sec-samevalue) as P's \[\[Value\]\] attribute.
-   If P was previously observed as a non-configurable own [accessor property](https://262.ecma-international.org/12.0/#sec-object-type) of the target whose \[\[Set\]\] attribute is undefined, the \[\[Set\]\] operation must return false.

## \[\[Delete\]\] ( P )

-   The normal return type is Boolean.
-   If P was previously observed as a non-configurable own data or [accessor property](https://262.ecma-international.org/12.0/#sec-object-type) of the target, \[\[Delete\]\] must return false.

## \[\[OwnPropertyKeys\]\] ( )

-   The normal return type is [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).
-   The returned [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) must not contain any duplicate entries.
-   The Type of each element of the returned [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) is either String or Symbol.
-   The returned [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) must contain at least the keys of all non-configurable own properties that have previously been observed.
-   If the target is non-extensible, the returned [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) must contain only the keys of all own properties of the target that are observable using \[\[GetOwnProperty\]\].

## \[\[Call\]\] ( )

-   The normal return type is any [ECMAScript language type](https://262.ecma-international.org/12.0/#sec-ecmascript-language-types).

## \[\[Construct\]\] ( )

-   The normal return type is Object.
-   The target must also have a \[\[Call\]\] internal method.

## 6.1.7.4 Well-Known Intrinsic Objects

Well-known intrinsics are built-in objects that are explicitly referenced by the algorithms of this specification and which usually have [realm](https://262.ecma-international.org/12.0/#realm)\-specific identities. Unless otherwise specified each intrinsic object actually corresponds to a set of similar objects, one per [realm](https://262.ecma-international.org/12.0/#realm).

Within this specification a reference such as %name% means the intrinsic object, associated with the current [realm](https://262.ecma-international.org/12.0/#realm), corresponding to the name. A reference such as %name.a.b% means, as if the "b" property of the "a" property of the intrinsic object %name% was accessed prior to any ECMAScript code being evaluated. Determination of the current [realm](https://262.ecma-international.org/12.0/#realm) and its intrinsics is described in [9.3](https://262.ecma-international.org/12.0/#sec-execution-contexts). The well-known intrinsics are listed in [Table 8](https://262.ecma-international.org/12.0/#table-well-known-intrinsic-objects).

Table 8: Well-Known Intrinsic Objects

| Intrinsic Name | Global Name | ECMAScript Language Association |
| --- | --- | --- |
| [%AggregateError%](https://262.ecma-international.org/12.0/#sec-aggregate-error-constructor) | `AggregateError` | The `AggregateError` [constructor](https://262.ecma-international.org/12.0/#constructor) ([20.5.7.1](https://262.ecma-international.org/12.0/#sec-aggregate-error-constructor)) |
| [%Array%](https://262.ecma-international.org/12.0/#sec-array-constructor) | `Array` | The Array [constructor](https://262.ecma-international.org/12.0/#constructor) ([23.1.1](https://262.ecma-international.org/12.0/#sec-array-constructor)) |
| [%ArrayBuffer%](https://262.ecma-international.org/12.0/#sec-arraybuffer-constructor) | `ArrayBuffer` | The ArrayBuffer [constructor](https://262.ecma-international.org/12.0/#constructor) ([25.1.3](https://262.ecma-international.org/12.0/#sec-arraybuffer-constructor)) |
| [%ArrayIteratorPrototype%](https://262.ecma-international.org/12.0/#sec-%arrayiteratorprototype%-object) |  | The prototype of Array iterator objects ([23.1.5](https://262.ecma-international.org/12.0/#sec-array-iterator-objects)) |
| [%AsyncFromSyncIteratorPrototype%](https://262.ecma-international.org/12.0/#sec-%asyncfromsynciteratorprototype%-object) |  | The prototype of async-from-sync iterator objects ([27.1.4](https://262.ecma-international.org/12.0/#sec-async-from-sync-iterator-objects)) |
| [%AsyncFunction%](https://262.ecma-international.org/12.0/#sec-async-function-constructor) |  | The [constructor](https://262.ecma-international.org/12.0/#constructor) of async function objects ([27.7.1](https://262.ecma-international.org/12.0/#sec-async-function-constructor)) |
| [%AsyncGeneratorFunction%](https://262.ecma-international.org/12.0/#sec-asyncgeneratorfunction-constructor) |  | The [constructor](https://262.ecma-international.org/12.0/#constructor) of async iterator objects ([27.4.1](https://262.ecma-international.org/12.0/#sec-asyncgeneratorfunction-constructor)) |
| [%AsyncIteratorPrototype%](https://262.ecma-international.org/12.0/#sec-asynciteratorprototype) |  | An object that all standard built-in async iterator objects indirectly inherit from |
| [%Atomics%](https://262.ecma-international.org/12.0/#sec-atomics-object) | `Atomics` | The `Atomics` object ([25.4](https://262.ecma-international.org/12.0/#sec-atomics-object)) |
| [%BigInt%](https://262.ecma-international.org/12.0/#sec-bigint-constructor) | `BigInt` | The BigInt [constructor](https://262.ecma-international.org/12.0/#constructor) ([21.2.1](https://262.ecma-international.org/12.0/#sec-bigint-constructor)) |
| [%BigInt64Array%](https://262.ecma-international.org/12.0/#sec-typedarray-objects) | `BigInt64Array` | The BigInt64Array [constructor](https://262.ecma-international.org/12.0/#constructor) ([23.2](https://262.ecma-international.org/12.0/#sec-typedarray-objects)) |
| [%BigUint64Array%](https://262.ecma-international.org/12.0/#sec-typedarray-objects) | `BigUint64Array` | The BigUint64Array [constructor](https://262.ecma-international.org/12.0/#constructor) ([23.2](https://262.ecma-international.org/12.0/#sec-typedarray-objects)) |
| [%Boolean%](https://262.ecma-international.org/12.0/#sec-boolean-constructor) | `Boolean` | The Boolean [constructor](https://262.ecma-international.org/12.0/#constructor) ([20.3.1](https://262.ecma-international.org/12.0/#sec-boolean-constructor)) |
| [%DataView%](https://262.ecma-international.org/12.0/#sec-dataview-constructor) | `DataView` | The DataView [constructor](https://262.ecma-international.org/12.0/#constructor) ([25.3.2](https://262.ecma-international.org/12.0/#sec-dataview-constructor)) |
| [%Date%](https://262.ecma-international.org/12.0/#sec-date-constructor) | `Date` | The Date [constructor](https://262.ecma-international.org/12.0/#constructor) ([21.4.2](https://262.ecma-international.org/12.0/#sec-date-constructor)) |
| [%decodeURI%](https://262.ecma-international.org/12.0/#sec-decodeuri-encodeduri) | `decodeURI` | The `decodeURI` function ([19.2.6.2](https://262.ecma-international.org/12.0/#sec-decodeuri-encodeduri)) |
| [%decodeURIComponent%](https://262.ecma-international.org/12.0/#sec-decodeuricomponent-encodeduricomponent) | `decodeURIComponent` | The `decodeURIComponent` function ([19.2.6.3](https://262.ecma-international.org/12.0/#sec-decodeuricomponent-encodeduricomponent)) |
| [%encodeURI%](https://262.ecma-international.org/12.0/#sec-encodeuri-uri) | `encodeURI` | The `encodeURI` function ([19.2.6.4](https://262.ecma-international.org/12.0/#sec-encodeuri-uri)) |
| [%encodeURIComponent%](https://262.ecma-international.org/12.0/#sec-encodeuricomponent-uricomponent) | `encodeURIComponent` | The `encodeURIComponent` function ([19.2.6.5](https://262.ecma-international.org/12.0/#sec-encodeuricomponent-uricomponent)) |
| [%Error%](https://262.ecma-international.org/12.0/#sec-error-constructor) | `Error` | The Error [constructor](https://262.ecma-international.org/12.0/#constructor) ([20.5.1](https://262.ecma-international.org/12.0/#sec-error-constructor)) |
| [%eval%](https://262.ecma-international.org/12.0/#sec-eval-x) | `eval` | The `eval` function ([19.2.1](https://262.ecma-international.org/12.0/#sec-eval-x)) |
| [%EvalError%](https://262.ecma-international.org/12.0/#sec-native-error-types-used-in-this-standard-evalerror) | `EvalError` | The EvalError [constructor](https://262.ecma-international.org/12.0/#constructor) ([20.5.5.1](https://262.ecma-international.org/12.0/#sec-native-error-types-used-in-this-standard-evalerror)) |
| [%FinalizationRegistry%](https://262.ecma-international.org/12.0/#sec-finalization-registry-constructor) | `FinalizationRegistry` | The [FinalizationRegistry](https://262.ecma-international.org/12.0/#sec-finalization-registry-constructor) [constructor](https://262.ecma-international.org/12.0/#constructor) ([26.2.1](https://262.ecma-international.org/12.0/#sec-finalization-registry-constructor)) |
| [%Float32Array%](https://262.ecma-international.org/12.0/#sec-typedarray-objects) | `Float32Array` | The Float32Array [constructor](https://262.ecma-international.org/12.0/#constructor) ([23.2](https://262.ecma-international.org/12.0/#sec-typedarray-objects)) |
| [%Float64Array%](https://262.ecma-international.org/12.0/#sec-typedarray-objects) | `Float64Array` | The Float64Array [constructor](https://262.ecma-international.org/12.0/#constructor) ([23.2](https://262.ecma-international.org/12.0/#sec-typedarray-objects)) |
| [%ForInIteratorPrototype%](https://262.ecma-international.org/12.0/#sec-%foriniteratorprototype%-object) |  | The prototype of For-In iterator objects ([14.7.5.10](https://262.ecma-international.org/12.0/#sec-for-in-iterator-objects)) |
| [%Function%](https://262.ecma-international.org/12.0/#sec-function-constructor) | `Function` | The Function [constructor](https://262.ecma-international.org/12.0/#constructor) ([20.2.1](https://262.ecma-international.org/12.0/#sec-function-constructor)) |
| [%GeneratorFunction%](https://262.ecma-international.org/12.0/#sec-generatorfunction-constructor) |  | The [constructor](https://262.ecma-international.org/12.0/#constructor) of generator objects ([27.3.1](https://262.ecma-international.org/12.0/#sec-generatorfunction-constructor)) |
| [%Int8Array%](https://262.ecma-international.org/12.0/#sec-typedarray-objects) | `Int8Array` | The Int8Array [constructor](https://262.ecma-international.org/12.0/#constructor) ([23.2](https://262.ecma-international.org/12.0/#sec-typedarray-objects)) |
| [%Int16Array%](https://262.ecma-international.org/12.0/#sec-typedarray-objects) | `Int16Array` | The Int16Array [constructor](https://262.ecma-international.org/12.0/#constructor) ([23.2](https://262.ecma-international.org/12.0/#sec-typedarray-objects)) |
| [%Int32Array%](https://262.ecma-international.org/12.0/#sec-typedarray-objects) | `Int32Array` | The Int32Array [constructor](https://262.ecma-international.org/12.0/#constructor) ([23.2](https://262.ecma-international.org/12.0/#sec-typedarray-objects)) |
| [%isFinite%](https://262.ecma-international.org/12.0/#sec-isfinite-number) | `isFinite` | The `isFinite` function ([19.2.2](https://262.ecma-international.org/12.0/#sec-isfinite-number)) |
| [%isNaN%](https://262.ecma-international.org/12.0/#sec-isnan-number) | `isNaN` | The `isNaN` function ([19.2.3](https://262.ecma-international.org/12.0/#sec-isnan-number)) |
| [%IteratorPrototype%](https://262.ecma-international.org/12.0/#sec-%iteratorprototype%-object) |  | An object that all standard built-in iterator objects indirectly inherit from |
| [%JSON%](https://262.ecma-international.org/12.0/#sec-json-object) | `JSON` | The `JSON` object ([25.5](https://262.ecma-international.org/12.0/#sec-json-object)) |
| [%Map%](https://262.ecma-international.org/12.0/#sec-map-constructor) | `Map` | The Map [constructor](https://262.ecma-international.org/12.0/#constructor) ([24.1.1](https://262.ecma-international.org/12.0/#sec-map-constructor)) |
| [%MapIteratorPrototype%](https://262.ecma-international.org/12.0/#sec-%mapiteratorprototype%-object) |  | The prototype of Map iterator objects ([24.1.5](https://262.ecma-international.org/12.0/#sec-map-iterator-objects)) |
| [%Math%](https://262.ecma-international.org/12.0/#sec-math-object) | `Math` | The `Math` object ([21.3](https://262.ecma-international.org/12.0/#sec-math-object)) |
| [%Number%](https://262.ecma-international.org/12.0/#sec-number-constructor) | `Number` | The Number [constructor](https://262.ecma-international.org/12.0/#constructor) ([21.1.1](https://262.ecma-international.org/12.0/#sec-number-constructor)) |
| [%Object%](https://262.ecma-international.org/12.0/#sec-object-constructor) | `Object` | The Object [constructor](https://262.ecma-international.org/12.0/#constructor) ([20.1.1](https://262.ecma-international.org/12.0/#sec-object-constructor)) |
| [%parseFloat%](https://262.ecma-international.org/12.0/#sec-parsefloat-string) | `parseFloat` | The `parseFloat` function ([19.2.4](https://262.ecma-international.org/12.0/#sec-parsefloat-string)) |
| [%parseInt%](https://262.ecma-international.org/12.0/#sec-parseint-string-radix) | `parseInt` | The `parseInt` function ([19.2.5](https://262.ecma-international.org/12.0/#sec-parseint-string-radix)) |
| [%Promise%](https://262.ecma-international.org/12.0/#sec-promise-constructor) | `Promise` | The Promise [constructor](https://262.ecma-international.org/12.0/#constructor) ([27.2.3](https://262.ecma-international.org/12.0/#sec-promise-constructor)) |
| [%Proxy%](https://262.ecma-international.org/12.0/#sec-proxy-constructor) | `Proxy` | The Proxy [constructor](https://262.ecma-international.org/12.0/#constructor) ([28.2.1](https://262.ecma-international.org/12.0/#sec-proxy-constructor)) |
| [%RangeError%](https://262.ecma-international.org/12.0/#sec-native-error-types-used-in-this-standard-rangeerror) | `RangeError` | The RangeError [constructor](https://262.ecma-international.org/12.0/#constructor) ([20.5.5.2](https://262.ecma-international.org/12.0/#sec-native-error-types-used-in-this-standard-rangeerror)) |
| [%ReferenceError%](https://262.ecma-international.org/12.0/#sec-native-error-types-used-in-this-standard-referenceerror) | `ReferenceError` | The ReferenceError [constructor](https://262.ecma-international.org/12.0/#constructor) ([20.5.5.3](https://262.ecma-international.org/12.0/#sec-native-error-types-used-in-this-standard-referenceerror)) |
| [%Reflect%](https://262.ecma-international.org/12.0/#sec-reflect-object) | `Reflect` | The `Reflect` object ([28.1](https://262.ecma-international.org/12.0/#sec-reflect-object)) |
| [%RegExp%](https://262.ecma-international.org/12.0/#sec-regexp-constructor) | `RegExp` | The RegExp [constructor](https://262.ecma-international.org/12.0/#constructor) ([22.2.3](https://262.ecma-international.org/12.0/#sec-regexp-constructor)) |
| [%RegExpStringIteratorPrototype%](https://262.ecma-international.org/12.0/#sec-%regexpstringiteratorprototype%-object) |  | The prototype of RegExp String Iterator objects ([22.2.7](https://262.ecma-international.org/12.0/#sec-regexp-string-iterator-objects)) |
| [%Set%](https://262.ecma-international.org/12.0/#sec-set-constructor) | `Set` | The Set [constructor](https://262.ecma-international.org/12.0/#constructor) ([24.2.1](https://262.ecma-international.org/12.0/#sec-set-constructor)) |
| [%SetIteratorPrototype%](https://262.ecma-international.org/12.0/#sec-%setiteratorprototype%-object) |  | The prototype of Set iterator objects ([24.2.5](https://262.ecma-international.org/12.0/#sec-set-iterator-objects)) |
| [%SharedArrayBuffer%](https://262.ecma-international.org/12.0/#sec-sharedarraybuffer-constructor) | `SharedArrayBuffer` | The SharedArrayBuffer [constructor](https://262.ecma-international.org/12.0/#constructor) ([25.2.2](https://262.ecma-international.org/12.0/#sec-sharedarraybuffer-constructor)) |
| [%String%](https://262.ecma-international.org/12.0/#sec-string-constructor) | `String` | The String [constructor](https://262.ecma-international.org/12.0/#constructor) ([22.1.1](https://262.ecma-international.org/12.0/#sec-string-constructor)) |
| [%StringIteratorPrototype%](https://262.ecma-international.org/12.0/#sec-%stringiteratorprototype%-object) |  | The prototype of String iterator objects ([22.1.5](https://262.ecma-international.org/12.0/#sec-string-iterator-objects)) |
| [%Symbol%](https://262.ecma-international.org/12.0/#sec-symbol-constructor) | `Symbol` | The Symbol [constructor](https://262.ecma-international.org/12.0/#constructor) ([20.4.1](https://262.ecma-international.org/12.0/#sec-symbol-constructor)) |
| [%SyntaxError%](https://262.ecma-international.org/12.0/#sec-native-error-types-used-in-this-standard-syntaxerror) | `SyntaxError` | The SyntaxError [constructor](https://262.ecma-international.org/12.0/#constructor) ([20.5.5.4](https://262.ecma-international.org/12.0/#sec-native-error-types-used-in-this-standard-syntaxerror)) |
| [%ThrowTypeError%](https://262.ecma-international.org/12.0/#sec-%throwtypeerror%) |  | A [function object](https://262.ecma-international.org/12.0/#function-object) that unconditionally throws a new instance of [%TypeError%](https://262.ecma-international.org/12.0/#sec-native-error-types-used-in-this-standard-typeerror) |
| [%TypedArray%](https://262.ecma-international.org/12.0/#sec-%typedarray%-intrinsic-object) |  | The super class of all typed Array constructors ([23.2.1](https://262.ecma-international.org/12.0/#sec-%typedarray%-intrinsic-object)) |
| [%TypeError%](https://262.ecma-international.org/12.0/#sec-native-error-types-used-in-this-standard-typeerror) | `TypeError` | The TypeError [constructor](https://262.ecma-international.org/12.0/#constructor) ([20.5.5.5](https://262.ecma-international.org/12.0/#sec-native-error-types-used-in-this-standard-typeerror)) |
| [%Uint8Array%](https://262.ecma-international.org/12.0/#sec-typedarray-objects) | `Uint8Array` | The Uint8Array [constructor](https://262.ecma-international.org/12.0/#constructor) ([23.2](https://262.ecma-international.org/12.0/#sec-typedarray-objects)) |
| [%Uint8ClampedArray%](https://262.ecma-international.org/12.0/#sec-typedarray-objects) | `Uint8ClampedArray` | The Uint8ClampedArray [constructor](https://262.ecma-international.org/12.0/#constructor) ([23.2](https://262.ecma-international.org/12.0/#sec-typedarray-objects)) |
| [%Uint16Array%](https://262.ecma-international.org/12.0/#sec-typedarray-objects) | `Uint16Array` | The Uint16Array [constructor](https://262.ecma-international.org/12.0/#constructor) ([23.2](https://262.ecma-international.org/12.0/#sec-typedarray-objects)) |
| [%Uint32Array%](https://262.ecma-international.org/12.0/#sec-typedarray-objects) | `Uint32Array` | The Uint32Array [constructor](https://262.ecma-international.org/12.0/#constructor) ([23.2](https://262.ecma-international.org/12.0/#sec-typedarray-objects)) |
| [%URIError%](https://262.ecma-international.org/12.0/#sec-native-error-types-used-in-this-standard-urierror) | `URIError` | The URIError [constructor](https://262.ecma-international.org/12.0/#constructor) ([20.5.5.6](https://262.ecma-international.org/12.0/#sec-native-error-types-used-in-this-standard-urierror)) |
| [%WeakMap%](https://262.ecma-international.org/12.0/#sec-weakmap-constructor) | `WeakMap` | The WeakMap [constructor](https://262.ecma-international.org/12.0/#constructor) ([24.3.1](https://262.ecma-international.org/12.0/#sec-weakmap-constructor)) |
| [%WeakRef%](https://262.ecma-international.org/12.0/#sec-weak-ref-constructor) | `WeakRef` | The [WeakRef](https://262.ecma-international.org/12.0/#sec-weak-ref-constructor) [constructor](https://262.ecma-international.org/12.0/#constructor) ([26.1.1](https://262.ecma-international.org/12.0/#sec-weak-ref-constructor)) |
| [%WeakSet%](https://262.ecma-international.org/12.0/#sec-weakset-constructor) | `WeakSet` | The WeakSet [constructor](https://262.ecma-international.org/12.0/#constructor) ([24.4.1](https://262.ecma-international.org/12.0/#sec-weakset-constructor)) |

Note

Additional entries in [Table 82](https://262.ecma-international.org/12.0/#table-additional-well-known-intrinsic-objects).

## 6.2 ECMAScript Specification Types

A specification type corresponds to meta-values that are used within algorithms to describe the semantics of ECMAScript language constructs and ECMAScript language types. The specification types include [Reference](https://tc39.es/ecma262/#sec-reference-specification-type), [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type), [Completion](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type), [Property Descriptor](https://262.ecma-international.org/12.0/#sec-property-descriptor-specification-type), [Environment Record](https://262.ecma-international.org/12.0/#sec-environment-records), [Abstract Closure](https://262.ecma-international.org/12.0/#sec-abstract-closure), and [Data Block](https://262.ecma-international.org/12.0/#sec-data-blocks). Specification type values are specification artefacts that do not necessarily correspond to any specific entity within an ECMAScript implementation. Specification type values may be used to describe intermediate results of ECMAScript expression evaluation but such values cannot be stored as properties of objects or values of ECMAScript language variables.

## 6.2.1 The List and Record Specification Types

The List type is used to explain the evaluation of argument lists (see [13.3.8](https://262.ecma-international.org/12.0/#sec-argument-lists)) in `new` expressions, in function calls, and in other algorithms where a simple ordered list of values is needed. Values of the List type are simply ordered sequences of list elements containing the individual values. These sequences may be of any length. The elements of a list may be randomly accessed using 0-origin indices. For notational convenience an array-like syntax can be used to access List elements. For example, arguments\[2\] is shorthand for saying the 3rd element of the List arguments.

When an algorithm iterates over the elements of a List without specifying an order, the order used is the order of the elements in the List.

For notational convenience within this specification, a literal syntax can be used to express a new List value. For example, « 1, 2 » defines a List value that has two elements each of which is initialized to a specific value. A new empty List can be expressed as « ».

The Record type is used to describe data aggregations within the algorithms of this specification. A Record type value consists of one or more named fields. The value of each field is either an ECMAScript value or an abstract value represented by a name associated with the Record type. Field names are always enclosed in double brackets, for example \[\[Value\]\].

For notational convenience within this specification, an object literal-like syntax can be used to express a Record value. For example, { \[\[Field1\]\]: 42, \[\[Field2\]\]: false, \[\[Field3\]\]: empty } defines a Record value that has three fields, each of which is initialized to a specific value. Field name order is not significant. Any fields that are not explicitly listed are considered to be absent.

In specification text and algorithms, dot notation may be used to refer to a specific field of a Record value. For example, if R is the record shown in the previous paragraph then R.\[\[Field2\]\] is shorthand for “the field of R named \[\[Field2\]\]”.

Schema for commonly used Record field combinations may be named, and that name may be used as a prefix to a literal Record value to identify the specific kind of aggregations that is being described. For example: PropertyDescriptor { \[\[Value\]\]: 42, \[\[Writable\]\]: false, \[\[Configurable\]\]: true }.

## 6.2.2 The Set and Relation Specification Types

The Set type is used to explain a collection of unordered elements for use in the [memory model](https://262.ecma-international.org/12.0/#sec-memory-model). Values of the Set type are simple collections of elements, where no element appears more than once. Elements may be added to and removed from Sets. Sets may be unioned, intersected, or subtracted from each other.

The Relation type is used to explain constraints on Sets. Values of the Relation type are Sets of ordered pairs of values from its value domain. For example, a Relation on events is a set of ordered pairs of events. For a Relation R and two values a and b in the value domain of R, a R b is shorthand for saying the ordered pair (a, b) is a member of R. A Relation is least with respect to some conditions when it is the smallest Relation that satisfies those conditions.

A strict partial order is a Relation value R that satisfies the following.

-   For all a, b, and c in R's domain:
    
    -   It is not the case that a R a, and
    -   If a R b and b R c, then a R c.

Note 1

The two properties above are called irreflexivity and transitivity, respectively.

A strict total order is a Relation value R that satisfies the following.

-   For all a, b, and c in R's domain:
    
    -   a is identical to b or a R b or b R a, and
    -   It is not the case that a R a, and
    -   If a R b and b R c, then a R c.

Note 2

The three properties above are called totality, irreflexivity, and transitivity, respectively.

## 6.2.3 The Completion Record Specification Type

The Completion type is a [Record](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) used to explain the runtime propagation of values and control flow such as the behaviour of statements (`break`, `continue`, `return` and `throw`) that perform nonlocal transfers of control.

Values of the Completion type are [Record](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) values whose fields are defined by [Table 9](https://262.ecma-international.org/12.0/#table-completion-record-fields). Such values are referred to as Completion Records.

Table 9: [Completion Record](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type) Fields

| Field Name | Value | Meaning |
| --- | --- | --- |
| \[\[Type\]\] | One of normal, break, continue, return, or throw | The type of completion that occurred. |
| \[\[Value\]\] | any [ECMAScript language value](https://262.ecma-international.org/12.0/#sec-ecmascript-language-types) or empty | The value that was produced. |
| \[\[Target\]\] | any ECMAScript string or empty | The target label for directed control transfers. |

The term “abrupt completion” refers to any completion with a \[\[Type\]\] value other than normal.

## 6.2.3.1 Await

Algorithm steps that say

1.  Let completion be [Await](https://262.ecma-international.org/12.0/#await)(value).

mean the same thing as:

1.  Let asyncContext be the [running execution context](https://262.ecma-international.org/12.0/#running-execution-context).
2.  Let promise be ? [PromiseResolve](https://262.ecma-international.org/12.0/#sec-promise-resolve)([%Promise%](https://262.ecma-international.org/12.0/#sec-promise-constructor), value).
3.  Let stepsFulfilled be the algorithm steps defined in [Await Fulfilled Functions](https://262.ecma-international.org/12.0/#await-fulfilled).
4.  Let lengthFulfilled be the number of non-optional parameters of the function definition in [Await Fulfilled Functions](https://262.ecma-international.org/12.0/#await-fulfilled).
5.  Let onFulfilled be ! [CreateBuiltinFunction](https://262.ecma-international.org/12.0/#sec-createbuiltinfunction)(stepsFulfilled, lengthFulfilled, "", « \[\[AsyncContext\]\] »).
6.  Set onFulfilled.\[\[AsyncContext\]\] to asyncContext.
7.  Let stepsRejected be the algorithm steps defined in [Await Rejected Functions](https://262.ecma-international.org/12.0/#await-rejected).
8.  Let lengthRejected be the number of non-optional parameters of the function definition in [Await Rejected Functions](https://262.ecma-international.org/12.0/#await-rejected).
9.  Let onRejected be ! [CreateBuiltinFunction](https://262.ecma-international.org/12.0/#sec-createbuiltinfunction)(stepsRejected, lengthRejected, "", « \[\[AsyncContext\]\] »).
10.  Set onRejected.\[\[AsyncContext\]\] to asyncContext.
11.  Perform ! [PerformPromiseThen](https://262.ecma-international.org/12.0/#sec-performpromisethen)(promise, onFulfilled, onRejected).
12.  Remove asyncContext from the [execution context stack](https://262.ecma-international.org/12.0/#execution-context-stack) and restore the [execution context](https://262.ecma-international.org/12.0/#sec-execution-contexts) that is at the top of the [execution context stack](https://262.ecma-international.org/12.0/#execution-context-stack) as the [running execution context](https://262.ecma-international.org/12.0/#running-execution-context).
13.  Set the code evaluation state of asyncContext such that when evaluation is resumed with a [Completion](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type) completion, the following steps of the algorithm that invoked [Await](https://262.ecma-international.org/12.0/#await) will be performed, with completion available.
14.  Return.
15.  NOTE: This returns to the evaluation of the operation that had most previously resumed evaluation of asyncContext.

where all aliases in the above steps, with the exception of completion, are ephemeral and visible only in the steps pertaining to Await.

Note

Await can be combined with the `?` and `!` prefixes, so that for example

1.  Let result be ? [Await](https://262.ecma-international.org/12.0/#await)(value).

means the same thing as:

1.  Let result be [Await](https://262.ecma-international.org/12.0/#await)(value).
2.  [ReturnIfAbrupt](https://262.ecma-international.org/12.0/#sec-returnifabrupt)(result).

## 6.2.3.1.1 Await Fulfilled Functions

An [Await](https://262.ecma-international.org/12.0/#await) fulfilled function is an anonymous built-in function that is used as part of the [Await](https://262.ecma-international.org/12.0/#await) specification device to deliver the promise fulfillment value to the caller as a normal completion. Each [Await](https://262.ecma-international.org/12.0/#await) fulfilled function has an \[\[AsyncContext\]\] internal slot.

When an [Await](https://262.ecma-international.org/12.0/#await) fulfilled function is called with argument value, the following steps are taken:

1.  Let F be the [active function object](https://262.ecma-international.org/12.0/#active-function-object).
2.  Let asyncContext be F.\[\[AsyncContext\]\].
3.  Let prevContext be the [running execution context](https://262.ecma-international.org/12.0/#running-execution-context).
4.  [Suspend](https://tc39.es/ecma262/#sec-suspend) prevContext.
5.  Push asyncContext onto the [execution context stack](https://262.ecma-international.org/12.0/#execution-context-stack); asyncContext is now the [running execution context](https://262.ecma-international.org/12.0/#running-execution-context).
6.  Resume the suspended evaluation of asyncContext using [NormalCompletion](https://262.ecma-international.org/12.0/#sec-normalcompletion)(value) as the result of the operation that suspended it.
7.  [Assert](https://262.ecma-international.org/12.0/#assert): When we reach this step, asyncContext has already been removed from the [execution context stack](https://262.ecma-international.org/12.0/#execution-context-stack) and prevContext is the currently [running execution context](https://262.ecma-international.org/12.0/#running-execution-context).
8.  Return undefined.

The "length" property of an [Await](https://262.ecma-international.org/12.0/#await) fulfilled function is 1𝔽.

## 6.2.3.1.2 Await Rejected Functions

An [Await](https://262.ecma-international.org/12.0/#await) rejected function is an anonymous built-in function that is used as part of the [Await](https://262.ecma-international.org/12.0/#await) specification device to deliver the promise rejection reason to the caller as an abrupt throw completion. Each [Await](https://262.ecma-international.org/12.0/#await) rejected function has an \[\[AsyncContext\]\] internal slot.

When an [Await](https://262.ecma-international.org/12.0/#await) rejected function is called with argument reason, the following steps are taken:

1.  Let F be the [active function object](https://262.ecma-international.org/12.0/#active-function-object).
2.  Let asyncContext be F.\[\[AsyncContext\]\].
3.  Let prevContext be the [running execution context](https://262.ecma-international.org/12.0/#running-execution-context).
4.  [Suspend](https://tc39.es/ecma262/#sec-suspend) prevContext.
5.  Push asyncContext onto the [execution context stack](https://262.ecma-international.org/12.0/#execution-context-stack); asyncContext is now the [running execution context](https://262.ecma-international.org/12.0/#running-execution-context).
6.  Resume the suspended evaluation of asyncContext using [ThrowCompletion](https://262.ecma-international.org/12.0/#sec-throwcompletion)(reason) as the result of the operation that suspended it.
7.  [Assert](https://262.ecma-international.org/12.0/#assert): When we reach this step, asyncContext has already been removed from the [execution context stack](https://262.ecma-international.org/12.0/#execution-context-stack) and prevContext is the currently [running execution context](https://262.ecma-international.org/12.0/#running-execution-context).
8.  Return undefined.

The "length" property of an [Await](https://262.ecma-international.org/12.0/#await) rejected function is 1𝔽.

## 6.2.3.2 NormalCompletion

The abstract operation NormalCompletion with a single argument, such as:

1.  Return [NormalCompletion](https://262.ecma-international.org/12.0/#sec-normalcompletion)(argument).

Is a shorthand that is defined as follows:

1.  Return [Completion](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type) { \[\[Type\]\]: normal, \[\[Value\]\]: argument, \[\[Target\]\]: empty }.

## 6.2.3.3 ThrowCompletion

The abstract operation ThrowCompletion with a single argument, such as:

1.  Return [ThrowCompletion](https://262.ecma-international.org/12.0/#sec-throwcompletion)(argument).

Is a shorthand that is defined as follows:

1.  Return [Completion](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type) { \[\[Type\]\]: throw, \[\[Value\]\]: argument, \[\[Target\]\]: empty }.

## 6.2.3.4 UpdateEmpty ( completionRecord, value )

The abstract operation UpdateEmpty takes arguments completionRecord and value. It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): If completionRecord.\[\[Type\]\] is either return or throw, then completionRecord.\[\[Value\]\] is not empty.
2.  If completionRecord.\[\[Value\]\] is not empty, return [Completion](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type)(completionRecord).
3.  Return [Completion](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type) { \[\[Type\]\]: completionRecord.\[\[Type\]\], \[\[Value\]\]: value, \[\[Target\]\]: completionRecord.\[\[Target\]\] }.

## 6.2.4 The Reference Record Specification Type

The Reference Record type is used to explain the behaviour of such operators as `delete`, `typeof`, the assignment operators, the `super` [keyword](https://262.ecma-international.org/12.0/#sec-keywords-and-reserved-words) and other language features. For example, the left-hand operand of an assignment is expected to produce a Reference Record.

A Reference Record is a resolved name or property binding; its fields are defined by [Table 10](https://262.ecma-international.org/12.0/#table-reference-record-fields).

Table 10: [Reference Record](https://262.ecma-international.org/12.0/#sec-reference-record-specification-type) Fields

| Field Name | Value | Meaning |
| --- | --- | --- |
| \[\[Base\]\] | One of:
-   any [ECMAScript language value](https://262.ecma-international.org/12.0/#sec-ecmascript-language-types) except undefined or null,
-   an [Environment Record](https://262.ecma-international.org/12.0/#sec-environment-records), or
-   unresolvable.

 | The value or [Environment Record](https://262.ecma-international.org/12.0/#sec-environment-records) which holds the binding. A \[\[Base\]\] of unresolvable indicates that the binding could not be resolved. |
| \[\[ReferencedName\]\] | String or Symbol | The name of the binding. Always a String if \[\[Base\]\] value is an [Environment Record](https://262.ecma-international.org/12.0/#sec-environment-records). |
| \[\[Strict\]\] | Boolean | true if the [Reference Record](https://262.ecma-international.org/12.0/#sec-reference-record-specification-type) originated in [strict mode code](https://262.ecma-international.org/12.0/#sec-strict-mode-code), false otherwise. |
| \[\[ThisValue\]\] | any [ECMAScript language value](https://262.ecma-international.org/12.0/#sec-ecmascript-language-types) or empty | If not empty, the [Reference Record](https://262.ecma-international.org/12.0/#sec-reference-record-specification-type) represents a property binding that was expressed using the `super` [keyword](https://262.ecma-international.org/12.0/#sec-keywords-and-reserved-words); it is called a Super Reference Record and its \[\[Base\]\] value will never be an [Environment Record](https://262.ecma-international.org/12.0/#sec-environment-records). In that case, the \[\[ThisValue\]\] field holds the this value at the time the [Reference Record](https://262.ecma-international.org/12.0/#sec-reference-record-specification-type) was created. |

The following [abstract operations](https://262.ecma-international.org/12.0/#sec-algorithm-conventions-abstract-operations) are used in this specification to operate upon References:

## 6.2.4.1 IsPropertyReference ( V )

The abstract operation IsPropertyReference takes argument V. It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): V is a [Reference Record](https://262.ecma-international.org/12.0/#sec-reference-record-specification-type).
2.  If V.\[\[Base\]\] is unresolvable, return false.
3.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(V.\[\[Base\]\]) is Boolean, String, Symbol, BigInt, Number, or Object, return true; otherwise return false.

## 6.2.4.2 IsUnresolvableReference ( V )

The abstract operation IsUnresolvableReference takes argument V. It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): V is a [Reference Record](https://262.ecma-international.org/12.0/#sec-reference-record-specification-type).
2.  If V.\[\[Base\]\] is unresolvable, return true; otherwise return false.

## 6.2.4.3 IsSuperReference ( V )

The abstract operation IsSuperReference takes argument V. It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): V is a [Reference Record](https://262.ecma-international.org/12.0/#sec-reference-record-specification-type).
2.  If V.\[\[ThisValue\]\] is not empty, return true; otherwise return false.

## 6.2.4.4 GetValue ( V )

The abstract operation GetValue takes argument V. It performs the following steps when called:

1.  [ReturnIfAbrupt](https://262.ecma-international.org/12.0/#sec-returnifabrupt)(V).
2.  If V is not a [Reference Record](https://262.ecma-international.org/12.0/#sec-reference-record-specification-type), return V.
3.  If [IsUnresolvableReference](https://262.ecma-international.org/12.0/#sec-isunresolvablereference)(V) is true, throw a ReferenceError exception.
4.  If [IsPropertyReference](https://262.ecma-international.org/12.0/#sec-ispropertyreference)(V) is true, then
    1.  Let baseObj be ! [ToObject](https://262.ecma-international.org/12.0/#sec-toobject)(V.\[\[Base\]\]).
    2.  Return ? baseObj.\[\[Get\]\](V.\[\[ReferencedName\]\], [GetThisValue](https://262.ecma-international.org/12.0/#sec-getthisvalue)(V)).
5.  Else,
    1.  Let base be V.\[\[Base\]\].
    2.  [Assert](https://262.ecma-international.org/12.0/#assert): base is an [Environment Record](https://262.ecma-international.org/12.0/#sec-environment-records).
    3.  Return ? base.GetBindingValue(V.\[\[ReferencedName\]\], V.\[\[Strict\]\]) (see [9.1](https://262.ecma-international.org/12.0/#sec-environment-records)).

Note

The object that may be created in step [4.a](https://262.ecma-international.org/12.0/#step-getvalue-toobject) is not accessible outside of the above abstract operation and the [ordinary object](https://262.ecma-international.org/12.0/#ordinary-object) \[\[Get\]\] internal method. An implementation might choose to avoid the actual creation of the object.

## 6.2.4.5 PutValue ( V, W )

The abstract operation PutValue takes arguments V and W. It performs the following steps when called:

1.  [ReturnIfAbrupt](https://262.ecma-international.org/12.0/#sec-returnifabrupt)(V).
2.  [ReturnIfAbrupt](https://262.ecma-international.org/12.0/#sec-returnifabrupt)(W).
3.  If V is not a [Reference Record](https://262.ecma-international.org/12.0/#sec-reference-record-specification-type), throw a ReferenceError exception.
4.  If [IsUnresolvableReference](https://262.ecma-international.org/12.0/#sec-isunresolvablereference)(V) is true, then
    1.  If V.\[\[Strict\]\] is true, throw a ReferenceError exception.
    2.  Let globalObj be [GetGlobalObject](https://262.ecma-international.org/12.0/#sec-getglobalobject)().
    3.  Return ? [Set](https://262.ecma-international.org/12.0/#sec-set-o-p-v-throw)(globalObj, V.\[\[ReferencedName\]\], W, false).
5.  If [IsPropertyReference](https://262.ecma-international.org/12.0/#sec-ispropertyreference)(V) is true, then
    1.  Let baseObj be ! [ToObject](https://262.ecma-international.org/12.0/#sec-toobject)(V.\[\[Base\]\]).
    2.  Let succeeded be ? baseObj.\[\[Set\]\](V.\[\[ReferencedName\]\], W, [GetThisValue](https://262.ecma-international.org/12.0/#sec-getthisvalue)(V)).
    3.  If succeeded is false and V.\[\[Strict\]\] is true, throw a TypeError exception.
    4.  Return.
6.  Else,
    1.  Let base be V.\[\[Base\]\].
    2.  [Assert](https://262.ecma-international.org/12.0/#assert): base is an [Environment Record](https://262.ecma-international.org/12.0/#sec-environment-records).
    3.  Return ? base.SetMutableBinding(V.\[\[ReferencedName\]\], W, V.\[\[Strict\]\]) (see [9.1](https://262.ecma-international.org/12.0/#sec-environment-records)).

Note

The object that may be created in step [5.a](https://262.ecma-international.org/12.0/#step-putvalue-toobject) is not accessible outside of the above abstract operation and the [ordinary object](https://262.ecma-international.org/12.0/#ordinary-object) \[\[Set\]\] internal method. An implementation might choose to avoid the actual creation of that object.

## 6.2.4.6 GetThisValue ( V )

The abstract operation GetThisValue takes argument V. It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): [IsPropertyReference](https://262.ecma-international.org/12.0/#sec-ispropertyreference)(V) is true.
2.  If [IsSuperReference](https://262.ecma-international.org/12.0/#sec-issuperreference)(V) is true, return V.\[\[ThisValue\]\]; otherwise return V.\[\[Base\]\].

## 6.2.4.7 InitializeReferencedBinding ( V, W )

The abstract operation InitializeReferencedBinding takes arguments V and W. It performs the following steps when called:

1.  [ReturnIfAbrupt](https://262.ecma-international.org/12.0/#sec-returnifabrupt)(V).
2.  [ReturnIfAbrupt](https://262.ecma-international.org/12.0/#sec-returnifabrupt)(W).
3.  [Assert](https://262.ecma-international.org/12.0/#assert): V is a [Reference Record](https://262.ecma-international.org/12.0/#sec-reference-record-specification-type).
4.  [Assert](https://262.ecma-international.org/12.0/#assert): [IsUnresolvableReference](https://262.ecma-international.org/12.0/#sec-isunresolvablereference)(V) is false.
5.  Let base be V.\[\[Base\]\].
6.  [Assert](https://262.ecma-international.org/12.0/#assert): base is an [Environment Record](https://262.ecma-international.org/12.0/#sec-environment-records).
7.  Return base.InitializeBinding(V.\[\[ReferencedName\]\], W).

## 6.2.5 The Property Descriptor Specification Type

The Property Descriptor type is used to explain the manipulation and reification of Object property attributes. Values of the Property Descriptor type are Records. Each field's name is an attribute name and its value is a corresponding attribute value as specified in [6.1.7.1](https://262.ecma-international.org/12.0/#sec-property-attributes). In addition, any field may be present or absent. The schema name used within this specification to tag literal descriptions of Property Descriptor records is “PropertyDescriptor”.

Property Descriptor values may be further classified as data Property Descriptors and accessor Property Descriptors based upon the existence or use of certain fields. A data Property Descriptor is one that includes any fields named either \[\[Value\]\] or \[\[Writable\]\]. An accessor Property Descriptor is one that includes any fields named either \[\[Get\]\] or \[\[Set\]\]. Any Property Descriptor may have fields named \[\[Enumerable\]\] and \[\[Configurable\]\]. A Property Descriptor value may not be both a data Property Descriptor and an accessor Property Descriptor; however, it may be neither. A generic Property Descriptor is a Property Descriptor value that is neither a data Property Descriptor nor an accessor Property Descriptor. A fully populated Property Descriptor is one that is either an accessor Property Descriptor or a data Property Descriptor and that has all of the fields that correspond to the property attributes defined in either [Table 3](https://262.ecma-international.org/12.0/#table-data-property-attributes) or [Table 4](https://262.ecma-international.org/12.0/#table-accessor-property-attributes).

The following [abstract operations](https://262.ecma-international.org/12.0/#sec-algorithm-conventions-abstract-operations) are used in this specification to operate upon Property Descriptor values:

## 6.2.5.1 IsAccessorDescriptor ( Desc )

The abstract operation IsAccessorDescriptor takes argument Desc (a [Property Descriptor](https://262.ecma-international.org/12.0/#sec-property-descriptor-specification-type) or undefined). It performs the following steps when called:

1.  If Desc is undefined, return false.
2.  If both Desc.\[\[Get\]\] and Desc.\[\[Set\]\] are absent, return false.
3.  Return true.

## 6.2.5.2 IsDataDescriptor ( Desc )

The abstract operation IsDataDescriptor takes argument Desc (a [Property Descriptor](https://262.ecma-international.org/12.0/#sec-property-descriptor-specification-type) or undefined). It performs the following steps when called:

1.  If Desc is undefined, return false.
2.  If both Desc.\[\[Value\]\] and Desc.\[\[Writable\]\] are absent, return false.
3.  Return true.

## 6.2.5.3 IsGenericDescriptor ( Desc )

The abstract operation IsGenericDescriptor takes argument Desc (a [Property Descriptor](https://262.ecma-international.org/12.0/#sec-property-descriptor-specification-type) or undefined). It performs the following steps when called:

1.  If Desc is undefined, return false.
2.  If [IsAccessorDescriptor](https://262.ecma-international.org/12.0/#sec-isaccessordescriptor)(Desc) and [IsDataDescriptor](https://262.ecma-international.org/12.0/#sec-isdatadescriptor)(Desc) are both false, return true.
3.  Return false.

## 6.2.5.4 FromPropertyDescriptor ( Desc )

The abstract operation FromPropertyDescriptor takes argument Desc (a [Property Descriptor](https://262.ecma-international.org/12.0/#sec-property-descriptor-specification-type) or undefined). It performs the following steps when called:

1.  If Desc is undefined, return undefined.
2.  Let obj be ! [OrdinaryObjectCreate](https://262.ecma-international.org/12.0/#sec-ordinaryobjectcreate)([%Object.prototype%](https://262.ecma-international.org/12.0/#sec-properties-of-the-object-prototype-object)).
3.  [Assert](https://262.ecma-international.org/12.0/#assert): obj is an extensible [ordinary object](https://262.ecma-international.org/12.0/#ordinary-object) with no own properties.
4.  If Desc has a \[\[Value\]\] field, then
    1.  Perform ! [CreateDataPropertyOrThrow](https://262.ecma-international.org/12.0/#sec-createdatapropertyorthrow)(obj, "value", Desc.\[\[Value\]\]).
5.  If Desc has a \[\[Writable\]\] field, then
    1.  Perform ! [CreateDataPropertyOrThrow](https://262.ecma-international.org/12.0/#sec-createdatapropertyorthrow)(obj, "writable", Desc.\[\[Writable\]\]).
6.  If Desc has a \[\[Get\]\] field, then
    1.  Perform ! [CreateDataPropertyOrThrow](https://262.ecma-international.org/12.0/#sec-createdatapropertyorthrow)(obj, "get", Desc.\[\[Get\]\]).
7.  If Desc has a \[\[Set\]\] field, then
    1.  Perform ! [CreateDataPropertyOrThrow](https://262.ecma-international.org/12.0/#sec-createdatapropertyorthrow)(obj, "set", Desc.\[\[Set\]\]).
8.  If Desc has an \[\[Enumerable\]\] field, then
    1.  Perform ! [CreateDataPropertyOrThrow](https://262.ecma-international.org/12.0/#sec-createdatapropertyorthrow)(obj, "enumerable", Desc.\[\[Enumerable\]\]).
9.  If Desc has a \[\[Configurable\]\] field, then
    1.  Perform ! [CreateDataPropertyOrThrow](https://262.ecma-international.org/12.0/#sec-createdatapropertyorthrow)(obj, "configurable", Desc.\[\[Configurable\]\]).
10.  Return obj.

## 6.2.5.5 ToPropertyDescriptor ( Obj )

The abstract operation ToPropertyDescriptor takes argument Obj. It performs the following steps when called:

1.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(Obj) is not Object, throw a TypeError exception.
2.  Let desc be a new [Property Descriptor](https://262.ecma-international.org/12.0/#sec-property-descriptor-specification-type) that initially has no fields.
3.  Let hasEnumerable be ? [HasProperty](https://262.ecma-international.org/12.0/#sec-hasproperty)(Obj, "enumerable").
4.  If hasEnumerable is true, then
    1.  Let enumerable be ! [ToBoolean](https://262.ecma-international.org/12.0/#sec-toboolean)(? [Get](https://262.ecma-international.org/12.0/#sec-get-o-p)(Obj, "enumerable")).
    2.  Set desc.\[\[Enumerable\]\] to enumerable.
5.  Let hasConfigurable be ? [HasProperty](https://262.ecma-international.org/12.0/#sec-hasproperty)(Obj, "configurable").
6.  If hasConfigurable is true, then
    1.  Let configurable be ! [ToBoolean](https://262.ecma-international.org/12.0/#sec-toboolean)(? [Get](https://262.ecma-international.org/12.0/#sec-get-o-p)(Obj, "configurable")).
    2.  Set desc.\[\[Configurable\]\] to configurable.
7.  Let hasValue be ? [HasProperty](https://262.ecma-international.org/12.0/#sec-hasproperty)(Obj, "value").
8.  If hasValue is true, then
    1.  Let value be ? [Get](https://262.ecma-international.org/12.0/#sec-get-o-p)(Obj, "value").
    2.  Set desc.\[\[Value\]\] to value.
9.  Let hasWritable be ? [HasProperty](https://262.ecma-international.org/12.0/#sec-hasproperty)(Obj, "writable").
10.  If hasWritable is true, then
    1.  Let writable be ! [ToBoolean](https://262.ecma-international.org/12.0/#sec-toboolean)(? [Get](https://262.ecma-international.org/12.0/#sec-get-o-p)(Obj, "writable")).
    2.  Set desc.\[\[Writable\]\] to writable.
11.  Let hasGet be ? [HasProperty](https://262.ecma-international.org/12.0/#sec-hasproperty)(Obj, "get").
12.  If hasGet is true, then
    1.  Let getter be ? [Get](https://262.ecma-international.org/12.0/#sec-get-o-p)(Obj, "get").
    2.  If [IsCallable](https://262.ecma-international.org/12.0/#sec-iscallable)(getter) is false and getter is not undefined, throw a TypeError exception.
    3.  Set desc.\[\[Get\]\] to getter.
13.  Let hasSet be ? [HasProperty](https://262.ecma-international.org/12.0/#sec-hasproperty)(Obj, "set").
14.  If hasSet is true, then
    1.  Let setter be ? [Get](https://262.ecma-international.org/12.0/#sec-get-o-p)(Obj, "set").
    2.  If [IsCallable](https://262.ecma-international.org/12.0/#sec-iscallable)(setter) is false and setter is not undefined, throw a TypeError exception.
    3.  Set desc.\[\[Set\]\] to setter.
15.  If desc.\[\[Get\]\] is present or desc.\[\[Set\]\] is present, then
    1.  If desc.\[\[Value\]\] is present or desc.\[\[Writable\]\] is present, throw a TypeError exception.
16.  Return desc.

## 6.2.5.6 CompletePropertyDescriptor ( Desc )

The abstract operation CompletePropertyDescriptor takes argument Desc (a [Property Descriptor](https://262.ecma-international.org/12.0/#sec-property-descriptor-specification-type)). It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): Desc is a [Property Descriptor](https://262.ecma-international.org/12.0/#sec-property-descriptor-specification-type).
2.  Let like be the [Record](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) { \[\[Value\]\]: undefined, \[\[Writable\]\]: false, \[\[Get\]\]: undefined, \[\[Set\]\]: undefined, \[\[Enumerable\]\]: false, \[\[Configurable\]\]: false }.
3.  If [IsGenericDescriptor](https://262.ecma-international.org/12.0/#sec-isgenericdescriptor)(Desc) is true or [IsDataDescriptor](https://262.ecma-international.org/12.0/#sec-isdatadescriptor)(Desc) is true, then
    1.  If Desc does not have a \[\[Value\]\] field, set Desc.\[\[Value\]\] to like.\[\[Value\]\].
    2.  If Desc does not have a \[\[Writable\]\] field, set Desc.\[\[Writable\]\] to like.\[\[Writable\]\].
4.  Else,
    1.  If Desc does not have a \[\[Get\]\] field, set Desc.\[\[Get\]\] to like.\[\[Get\]\].
    2.  If Desc does not have a \[\[Set\]\] field, set Desc.\[\[Set\]\] to like.\[\[Set\]\].
5.  If Desc does not have an \[\[Enumerable\]\] field, set Desc.\[\[Enumerable\]\] to like.\[\[Enumerable\]\].
6.  If Desc does not have a \[\[Configurable\]\] field, set Desc.\[\[Configurable\]\] to like.\[\[Configurable\]\].
7.  Return Desc.

## 6.2.6 The Environment Record Specification Type

The [Environment Record](https://262.ecma-international.org/12.0/#sec-environment-records) type is used to explain the behaviour of name resolution in nested functions and blocks. This type and the operations upon it are defined in [9.1](https://262.ecma-international.org/12.0/#sec-environment-records).

## 6.2.7 The Abstract Closure Specification Type

The Abstract Closure specification type is used to refer to algorithm steps together with a collection of values. Abstract Closures are meta-values and are invoked using function application style such as closure(arg1, arg2). Like [abstract operations](https://262.ecma-international.org/12.0/#sec-algorithm-conventions-abstract-operations), invocations perform the algorithm steps described by the Abstract Closure.

In algorithm steps that create an Abstract Closure, values are captured with the verb "capture" followed by a list of aliases. When an Abstract Closure is created, it captures the value that is associated with each alias at that time. In steps that specify the algorithm to be performed when an Abstract Closure is called, each captured value is referred to by the alias that was used to capture the value.

If an Abstract Closure returns a [Completion Record](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type), that [Completion Record](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type)'s \[\[Type\]\] must be either normal or throw.

Abstract Closures are created inline as part of other algorithms, shown in the following example.

1.  Let addend be 41.
2.  Let closure be a new [Abstract Closure](https://262.ecma-international.org/12.0/#sec-abstract-closure) with parameters (x) that captures addend and performs the following steps when called:
    1.  Return x + addend.
3.  Let val be closure(1).
4.  [Assert](https://262.ecma-international.org/12.0/#assert): val is 42.

## 6.2.8 Data Blocks

The Data Block specification type is used to describe a distinct and mutable sequence of byte-sized (8 bit) numeric values. A byte value is an [integer](https://262.ecma-international.org/12.0/#integer) value in the range 0 through 255, inclusive. A Data Block value is created with a fixed number of bytes that each have the initial value 0.

For notational convenience within this specification, an array-like syntax can be used to access the individual bytes of a Data Block value. This notation presents a Data Block value as a 0-origined [integer](https://262.ecma-international.org/12.0/#integer)\-indexed sequence of bytes. For example, if db is a 5 byte Data Block value then db\[2\] can be used to access its 3rd byte.

A data block that resides in memory that can be referenced from multiple agents concurrently is designated a Shared Data Block. A Shared Data Block has an identity (for the purposes of equality testing Shared Data Block values) that is _address-free_: it is tied not to the virtual addresses the block is mapped to in any process, but to the set of locations in memory that the block represents. Two data blocks are equal only if the sets of the locations they contain are equal; otherwise, they are not equal and the intersection of the sets of locations they contain is empty. Finally, Shared Data Blocks can be distinguished from Data Blocks.

The semantics of Shared Data Blocks is defined using Shared Data Block events by the [memory model](https://262.ecma-international.org/12.0/#sec-memory-model). [Abstract operations](https://262.ecma-international.org/12.0/#sec-algorithm-conventions-abstract-operations) below introduce Shared Data Block events and act as the interface between evaluation semantics and the event semantics of the [memory model](https://262.ecma-international.org/12.0/#sec-memory-model). The events form a [candidate execution](https://262.ecma-international.org/12.0/#sec-candidate-executions), on which the [memory model](https://262.ecma-international.org/12.0/#sec-memory-model) acts as a filter. Please consult the [memory model](https://262.ecma-international.org/12.0/#sec-memory-model) for full semantics.

Shared Data Block events are modeled by Records, defined in the [memory model](https://262.ecma-international.org/12.0/#sec-memory-model).

The following [abstract operations](https://262.ecma-international.org/12.0/#sec-algorithm-conventions-abstract-operations) are used in this specification to operate upon Data Block values:

## 6.2.8.1 CreateByteDataBlock ( size )

The abstract operation CreateByteDataBlock takes argument size (an [integer](https://262.ecma-international.org/12.0/#integer)). It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): size ≥ 0.
2.  Let db be a new [Data Block](https://262.ecma-international.org/12.0/#sec-data-blocks) value consisting of size bytes. If it is impossible to create such a [Data Block](https://262.ecma-international.org/12.0/#sec-data-blocks), throw a RangeError exception.
3.  Set all of the bytes of db to 0.
4.  Return db.

## 6.2.8.2 CreateSharedByteDataBlock ( size )

The abstract operation CreateSharedByteDataBlock takes argument size (a non-negative [integer](https://262.ecma-international.org/12.0/#integer)). It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): size ≥ 0.
2.  Let db be a new [Shared Data Block](https://262.ecma-international.org/12.0/#sec-data-blocks) value consisting of size bytes. If it is impossible to create such a [Shared Data Block](https://262.ecma-international.org/12.0/#sec-data-blocks), throw a RangeError exception.
3.  Let execution be the \[\[CandidateExecution\]\] field of the [surrounding agent](https://262.ecma-international.org/12.0/#surrounding-agent)'s [Agent Record](https://262.ecma-international.org/12.0/#agent-record).
4.  Let eventList be the \[\[EventList\]\] field of the element in execution.\[\[EventsRecords\]\] whose \[\[AgentSignifier\]\] is [AgentSignifier](https://262.ecma-international.org/12.0/#sec-agentsignifier)().
5.  Let zero be « 0 ».
6.  For each index i of db, do
    1.  Append [WriteSharedMemory](https://262.ecma-international.org/12.0/#sec-memory-model-fundamentals) { \[\[Order\]\]: Init, \[\[NoTear\]\]: true, \[\[Block\]\]: db, \[\[ByteIndex\]\]: i, \[\[ElementSize\]\]: 1, \[\[Payload\]\]: zero } to eventList.
7.  Return db.

## 6.2.8.3 CopyDataBlockBytes ( toBlock, toIndex, fromBlock, fromIndex, count )

The abstract operation CopyDataBlockBytes takes arguments toBlock, toIndex (a non-negative [integer](https://262.ecma-international.org/12.0/#integer)), fromBlock, fromIndex (a non-negative [integer](https://262.ecma-international.org/12.0/#integer)), and count (a non-negative [integer](https://262.ecma-international.org/12.0/#integer)). It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): fromBlock and toBlock are distinct [Data Block](https://262.ecma-international.org/12.0/#sec-data-blocks) or [Shared Data Block](https://262.ecma-international.org/12.0/#sec-data-blocks) values.
2.  Let fromSize be the number of bytes in fromBlock.
3.  [Assert](https://262.ecma-international.org/12.0/#assert): fromIndex + count ≤ fromSize.
4.  Let toSize be the number of bytes in toBlock.
5.  [Assert](https://262.ecma-international.org/12.0/#assert): toIndex + count ≤ toSize.
6.  Repeat, while count > 0,
    1.  If fromBlock is a [Shared Data Block](https://262.ecma-international.org/12.0/#sec-data-blocks), then
        1.  Let execution be the \[\[CandidateExecution\]\] field of the [surrounding agent](https://262.ecma-international.org/12.0/#surrounding-agent)'s [Agent Record](https://262.ecma-international.org/12.0/#agent-record).
        2.  Let eventList be the \[\[EventList\]\] field of the element in execution.\[\[EventsRecords\]\] whose \[\[AgentSignifier\]\] is [AgentSignifier](https://262.ecma-international.org/12.0/#sec-agentsignifier)().
        3.  Let bytes be a [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) whose sole element is a nondeterministically chosen [byte value](https://262.ecma-international.org/12.0/#sec-data-blocks).
        4.  NOTE: In implementations, bytes is the result of a non-atomic read instruction on the underlying hardware. The nondeterminism is a semantic prescription of the [memory model](https://262.ecma-international.org/12.0/#sec-memory-model) to describe observable behaviour of hardware with weak consistency.
        5.  Let readEvent be [ReadSharedMemory](https://262.ecma-international.org/12.0/#sec-memory-model-fundamentals) { \[\[Order\]\]: Unordered, \[\[NoTear\]\]: true, \[\[Block\]\]: fromBlock, \[\[ByteIndex\]\]: fromIndex, \[\[ElementSize\]\]: 1 }.
        6.  Append readEvent to eventList.
        7.  Append [Chosen Value Record](https://262.ecma-international.org/12.0/#sec-chosen-value-records) { \[\[Event\]\]: readEvent, \[\[ChosenValue\]\]: bytes } to execution.\[\[ChosenValues\]\].
        8.  If toBlock is a [Shared Data Block](https://262.ecma-international.org/12.0/#sec-data-blocks), then
            1.  Append [WriteSharedMemory](https://262.ecma-international.org/12.0/#sec-memory-model-fundamentals) { \[\[Order\]\]: Unordered, \[\[NoTear\]\]: true, \[\[Block\]\]: toBlock, \[\[ByteIndex\]\]: toIndex, \[\[ElementSize\]\]: 1, \[\[Payload\]\]: bytes } to eventList.
        9.  Else,
            1.  Set toBlock\[toIndex\] to bytes\[0\].
    2.  Else,
        1.  [Assert](https://262.ecma-international.org/12.0/#assert): toBlock is not a [Shared Data Block](https://262.ecma-international.org/12.0/#sec-data-blocks).
        2.  Set toBlock\[toIndex\] to fromBlock\[fromIndex\].
    3.  Set toIndex to toIndex + 1.
    4.  Set fromIndex to fromIndex + 1.
    5.  Set count to count - 1.
7.  Return [NormalCompletion](https://262.ecma-international.org/12.0/#sec-normalcompletion)(empty).

## 7 Abstract Operations

These operations are not a part of the ECMAScript language; they are defined here solely to aid the specification of the semantics of the ECMAScript language. Other, more specialized [abstract operations](https://262.ecma-international.org/12.0/#sec-algorithm-conventions-abstract-operations) are defined throughout this specification.

## 7.1 Type Conversion

The ECMAScript language implicitly performs automatic type conversion as needed. To clarify the semantics of certain constructs it is useful to define a set of conversion [abstract operations](https://262.ecma-international.org/12.0/#sec-algorithm-conventions-abstract-operations). The conversion [abstract operations](https://262.ecma-international.org/12.0/#sec-algorithm-conventions-abstract-operations) are polymorphic; they can accept a value of any [ECMAScript language type](https://262.ecma-international.org/12.0/#sec-ecmascript-language-types). But no other specification types are used with these operations.

The BigInt type has no implicit conversions in the ECMAScript language; programmers must call BigInt explicitly to convert values from other types.

## 7.1.1 ToPrimitive ( input \[ , preferredType \] )

The abstract operation ToPrimitive takes argument input and optional argument preferredType. It converts its input argument to a non-Object type. If an object is capable of converting to more than one primitive type, it may use the optional hint preferredType to favour that type. It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): input is an [ECMAScript language value](https://262.ecma-international.org/12.0/#sec-ecmascript-language-types).
2.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(input) is Object, then
    1.  Let exoticToPrim be ? [GetMethod](https://262.ecma-international.org/12.0/#sec-getmethod)(input, [@@toPrimitive](https://262.ecma-international.org/12.0/#sec-well-known-symbols)).
    2.  If exoticToPrim is not undefined, then
        1.  If preferredType is not present, let hint be "default".
        2.  Else if preferredType is string, let hint be "string".
        3.  Else,
            1.  [Assert](https://262.ecma-international.org/12.0/#assert): preferredType is number.
            2.  Let hint be "number".
        4.  Let result be ? [Call](https://262.ecma-international.org/12.0/#sec-call)(exoticToPrim, input, « hint »).
        5.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(result) is not Object, return result.
        6.  Throw a TypeError exception.
    3.  If preferredType is not present, let preferredType be number.
    4.  Return ? [OrdinaryToPrimitive](https://262.ecma-international.org/12.0/#sec-ordinarytoprimitive)(input, preferredType).
3.  Return input.

Note

When ToPrimitive is called with no hint, then it generally behaves as if the hint were number. However, objects may over-ride this behaviour by defining a [@@toPrimitive](https://262.ecma-international.org/12.0/#sec-well-known-symbols) method. Of the objects defined in this specification only Date objects (see [21.4.4.45](https://262.ecma-international.org/12.0/#sec-date.prototype-@@toprimitive)) and Symbol objects (see [20.4.3.5](https://262.ecma-international.org/12.0/#sec-symbol.prototype-@@toprimitive)) over-ride the default ToPrimitive behaviour. Date objects treat no hint as if the hint were string.

## 7.1.1.1 OrdinaryToPrimitive ( O, hint )

The abstract operation OrdinaryToPrimitive takes arguments O and hint. It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(O) is Object.
2.  [Assert](https://262.ecma-international.org/12.0/#assert): hint is either string or number.
3.  If hint is string, then
    1.  Let methodNames be « "toString", "valueOf" ».
4.  Else,
    1.  Let methodNames be « "valueOf", "toString" ».
5.  For each element name of methodNames, do
    1.  Let method be ? [Get](https://262.ecma-international.org/12.0/#sec-get-o-p)(O, name).
    2.  If [IsCallable](https://262.ecma-international.org/12.0/#sec-iscallable)(method) is true, then
        1.  Let result be ? [Call](https://262.ecma-international.org/12.0/#sec-call)(method, O).
        2.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(result) is not Object, return result.
6.  Throw a TypeError exception.

## 7.1.2 ToBoolean ( argument )

The abstract operation ToBoolean takes argument argument. It converts argument to a value of type Boolean according to [Table 11](https://262.ecma-international.org/12.0/#table-toboolean-conversions):

Table 11: [ToBoolean](https://262.ecma-international.org/12.0/#sec-toboolean) Conversions

| Argument Type | Result |
| --- | --- |
| Undefined | Return false. |
| Null | Return false. |
| Boolean | Return argument. |
| Number | If argument is +0𝔽, \-0𝔽, or NaN, return false; otherwise return true. |
| String | If argument is the empty String (its length is 0), return false; otherwise return true. |
| Symbol | Return true. |
| BigInt | If argument is 0ℤ, return false; otherwise return true. |
| Object | Return true. Note
An alternate algorithm related to the [\[\[IsHTMLDDA\]\] internal slot](https://262.ecma-international.org/12.0/#sec-IsHTMLDDA-internal-slot) is mandated in section [B.3.7.1](https://262.ecma-international.org/12.0/#sec-IsHTMLDDA-internal-slot-to-boolean).

 |

## 7.1.3 ToNumeric ( value )

The abstract operation ToNumeric takes argument value. It returns value converted to a Number or a BigInt. It performs the following steps when called:

1.  Let primValue be ? [ToPrimitive](https://262.ecma-international.org/12.0/#sec-toprimitive)(value, number).
2.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(primValue) is BigInt, return primValue.
3.  Return ? [ToNumber](https://262.ecma-international.org/12.0/#sec-tonumber)(primValue).

## 7.1.4 ToNumber ( argument )

The abstract operation ToNumber takes argument argument. It converts argument to a value of type Number according to [Table 12](https://262.ecma-international.org/12.0/#table-tonumber-conversions):

Table 12: [ToNumber](https://262.ecma-international.org/12.0/#sec-tonumber) Conversions

| Argument Type | Result |
| --- | --- |
| Undefined | Return NaN. |
| Null | Return +0𝔽. |
| Boolean | If argument is true, return 1𝔽. If argument is false, return +0𝔽. |
| Number | Return argument (no conversion). |
| String | See grammar and conversion algorithm below. |
| Symbol | Throw a TypeError exception. |
| BigInt | Throw a TypeError exception. |
| Object | 
Apply the following steps:

1.  Let primValue be ? [ToPrimitive](https://262.ecma-international.org/12.0/#sec-toprimitive)(argument, number).
2.  Return ? [ToNumber](https://262.ecma-international.org/12.0/#sec-tonumber)(primValue).

 |

## 7.1.4.1 ToNumber Applied to the String Type

[ToNumber](https://262.ecma-international.org/12.0/#sec-tonumber) applied to Strings applies the following grammar to the input String interpreted as a sequence of UTF-16 encoded code points ([6.1.4](https://262.ecma-international.org/12.0/#sec-ecmascript-language-types-string-type)). If the grammar cannot interpret the String as an expansion of [StringNumericLiteral](https://262.ecma-international.org/12.0/#prod-StringNumericLiteral), then the result of [ToNumber](https://262.ecma-international.org/12.0/#sec-tonumber) is NaN.

Note 1

The terminal symbols of this grammar are all composed of characters in the Unicode Basic Multilingual Plane (BMP). Therefore, the result of [ToNumber](https://262.ecma-international.org/12.0/#sec-tonumber) will be NaN if the string contains any [leading surrogate](https://262.ecma-international.org/12.0/#leading-surrogate) or [trailing surrogate](https://262.ecma-international.org/12.0/#trailing-surrogate) code units, whether paired or unpaired.

## Syntax

[StringNumericLiteral](https://262.ecma-international.org/12.0/#prod-StringNumericLiteral) ::: [StrWhiteSpace](https://262.ecma-international.org/12.0/#prod-StrWhiteSpace)opt [StrWhiteSpace](https://262.ecma-international.org/12.0/#prod-StrWhiteSpace)opt [StrNumericLiteral](https://262.ecma-international.org/12.0/#prod-StrNumericLiteral) [StrWhiteSpace](https://262.ecma-international.org/12.0/#prod-StrWhiteSpace)opt [StrWhiteSpace](https://262.ecma-international.org/12.0/#prod-StrWhiteSpace) ::: [StrWhiteSpaceChar](https://262.ecma-international.org/12.0/#prod-StrWhiteSpaceChar) [StrWhiteSpace](https://262.ecma-international.org/12.0/#prod-StrWhiteSpace)opt [StrWhiteSpaceChar](https://262.ecma-international.org/12.0/#prod-StrWhiteSpaceChar) ::: [WhiteSpace](https://262.ecma-international.org/12.0/#prod-WhiteSpace) [LineTerminator](https://262.ecma-international.org/12.0/#prod-LineTerminator) [StrNumericLiteral](https://262.ecma-international.org/12.0/#prod-StrNumericLiteral) ::: [StrDecimalLiteral](https://262.ecma-international.org/12.0/#prod-StrDecimalLiteral) [NonDecimalIntegerLiteral](https://262.ecma-international.org/12.0/#prod-NonDecimalIntegerLiteral)\[~Sep\] [StrDecimalLiteral](https://262.ecma-international.org/12.0/#prod-StrDecimalLiteral) ::: [StrUnsignedDecimalLiteral](https://262.ecma-international.org/12.0/#prod-StrUnsignedDecimalLiteral) + [StrUnsignedDecimalLiteral](https://262.ecma-international.org/12.0/#prod-StrUnsignedDecimalLiteral) \- [StrUnsignedDecimalLiteral](https://262.ecma-international.org/12.0/#prod-StrUnsignedDecimalLiteral) [StrUnsignedDecimalLiteral](https://262.ecma-international.org/12.0/#prod-StrUnsignedDecimalLiteral) ::: Infinity [DecimalDigits](https://262.ecma-international.org/12.0/#prod-DecimalDigits)\[~Sep\] . [DecimalDigits](https://262.ecma-international.org/12.0/#prod-DecimalDigits)\[~Sep\]opt [ExponentPart](https://262.ecma-international.org/12.0/#prod-ExponentPart)\[~Sep\]opt . [DecimalDigits](https://262.ecma-international.org/12.0/#prod-DecimalDigits)\[~Sep\] [ExponentPart](https://262.ecma-international.org/12.0/#prod-ExponentPart)\[~Sep\]opt [DecimalDigits](https://262.ecma-international.org/12.0/#prod-DecimalDigits)\[~Sep\] [ExponentPart](https://262.ecma-international.org/12.0/#prod-ExponentPart)\[~Sep\]opt

All grammar symbols not explicitly defined above have the definitions used in the Lexical Grammar for numeric literals ([12.8.3](https://262.ecma-international.org/12.0/#sec-literals-numeric-literals))

Note 2

Some differences should be noted between the syntax of a [StringNumericLiteral](https://262.ecma-international.org/12.0/#prod-StringNumericLiteral) and a [NumericLiteral](https://262.ecma-international.org/12.0/#prod-NumericLiteral):

-   A [StringNumericLiteral](https://262.ecma-international.org/12.0/#prod-StringNumericLiteral) may include leading and/or trailing white space and/or line terminators.
-   A [StringNumericLiteral](https://262.ecma-international.org/12.0/#prod-StringNumericLiteral) that is decimal may have any number of leading `0` digits.
-   A [StringNumericLiteral](https://262.ecma-international.org/12.0/#prod-StringNumericLiteral) that is decimal may include a `+` or `-` to indicate its sign.
-   A [StringNumericLiteral](https://262.ecma-international.org/12.0/#prod-StringNumericLiteral) that is empty or contains only white space is converted to +0𝔽.
-   `Infinity` and `-Infinity` are recognized as a [StringNumericLiteral](https://262.ecma-international.org/12.0/#prod-StringNumericLiteral) but not as a [NumericLiteral](https://262.ecma-international.org/12.0/#prod-NumericLiteral).
-   A [StringNumericLiteral](https://262.ecma-international.org/12.0/#prod-StringNumericLiteral) cannot include a [BigIntLiteralSuffix](https://262.ecma-international.org/12.0/#prod-BigIntLiteralSuffix).

## 7.1.4.1.1 Runtime Semantics: MV

The conversion of a String to a [Number value](https://262.ecma-international.org/12.0/#number-value) is similar overall to the determination of the [Number value](https://262.ecma-international.org/12.0/#number-value) for a numeric literal (see [12.8.3](https://262.ecma-international.org/12.0/#sec-literals-numeric-literals)), but some of the details are different, so the process for converting a String numeric literal to a value of Number type is given here. This value is determined in two steps: first, a [mathematical value](https://262.ecma-international.org/12.0/#mathematical-value) (MV) is derived from the String numeric literal; second, this [mathematical value](https://262.ecma-international.org/12.0/#mathematical-value) is rounded as described below. The MV on any grammar symbol, not provided below, is the MV for that symbol defined in [12.8.3.1](https://262.ecma-international.org/12.0/#sec-static-semantics-mv).

-   The MV of [StringNumericLiteral](https://262.ecma-international.org/12.0/#prod-StringNumericLiteral) ::: \[empty\] is 0.
-   The MV of [StringNumericLiteral](https://262.ecma-international.org/12.0/#prod-StringNumericLiteral) ::: [StrWhiteSpace](https://262.ecma-international.org/12.0/#prod-StrWhiteSpace) is 0.
-   The MV of [StringNumericLiteral](https://262.ecma-international.org/12.0/#prod-StringNumericLiteral) ::: [StrWhiteSpace](https://262.ecma-international.org/12.0/#prod-StrWhiteSpace)opt [StrNumericLiteral](https://262.ecma-international.org/12.0/#prod-StrNumericLiteral) [StrWhiteSpace](https://262.ecma-international.org/12.0/#prod-StrWhiteSpace)opt is the MV of [StrNumericLiteral](https://262.ecma-international.org/12.0/#prod-StrNumericLiteral), no matter whether white space is present or not.
-   The MV of [StrDecimalLiteral](https://262.ecma-international.org/12.0/#prod-StrDecimalLiteral) ::: \- [StrUnsignedDecimalLiteral](https://262.ecma-international.org/12.0/#prod-StrUnsignedDecimalLiteral) is the negative of the MV of [StrUnsignedDecimalLiteral](https://262.ecma-international.org/12.0/#prod-StrUnsignedDecimalLiteral). (Note that if the MV of [StrUnsignedDecimalLiteral](https://262.ecma-international.org/12.0/#prod-StrUnsignedDecimalLiteral) is 0, the negative of this MV is also 0. The rounding rule described below handles the conversion of this signless mathematical zero to a floating-point +0𝔽 or \-0𝔽 as appropriate.)
-   The MV of [StrUnsignedDecimalLiteral](https://262.ecma-international.org/12.0/#prod-StrUnsignedDecimalLiteral) ::: Infinity is 1010000 (a value so large that it will round to +∞𝔽).
-   The MV of [StrUnsignedDecimalLiteral](https://262.ecma-international.org/12.0/#prod-StrUnsignedDecimalLiteral) ::: [DecimalDigits](https://262.ecma-international.org/12.0/#prod-DecimalDigits) . [DecimalDigits](https://262.ecma-international.org/12.0/#prod-DecimalDigits) is the MV of the first [DecimalDigits](https://262.ecma-international.org/12.0/#prod-DecimalDigits) plus (the MV of the second [DecimalDigits](https://262.ecma-international.org/12.0/#prod-DecimalDigits) times 10\-n), where n is the number of code points in the second [DecimalDigits](https://262.ecma-international.org/12.0/#prod-DecimalDigits).
-   The MV of [StrUnsignedDecimalLiteral](https://262.ecma-international.org/12.0/#prod-StrUnsignedDecimalLiteral) ::: [DecimalDigits](https://262.ecma-international.org/12.0/#prod-DecimalDigits) . [ExponentPart](https://262.ecma-international.org/12.0/#prod-ExponentPart) is the MV of [DecimalDigits](https://262.ecma-international.org/12.0/#prod-DecimalDigits) times 10e, where e is the MV of [ExponentPart](https://262.ecma-international.org/12.0/#prod-ExponentPart).
-   The MV of [StrUnsignedDecimalLiteral](https://262.ecma-international.org/12.0/#prod-StrUnsignedDecimalLiteral) ::: [DecimalDigits](https://262.ecma-international.org/12.0/#prod-DecimalDigits) . [DecimalDigits](https://262.ecma-international.org/12.0/#prod-DecimalDigits) [ExponentPart](https://262.ecma-international.org/12.0/#prod-ExponentPart) is (the MV of the first [DecimalDigits](https://262.ecma-international.org/12.0/#prod-DecimalDigits) plus (the MV of the second [DecimalDigits](https://262.ecma-international.org/12.0/#prod-DecimalDigits) times 10\-n)) times 10e, where n is the number of code points in the second [DecimalDigits](https://262.ecma-international.org/12.0/#prod-DecimalDigits) and e is the MV of [ExponentPart](https://262.ecma-international.org/12.0/#prod-ExponentPart).
-   The MV of [StrUnsignedDecimalLiteral](https://262.ecma-international.org/12.0/#prod-StrUnsignedDecimalLiteral) ::: . [DecimalDigits](https://262.ecma-international.org/12.0/#prod-DecimalDigits) is the MV of [DecimalDigits](https://262.ecma-international.org/12.0/#prod-DecimalDigits) times 10\-n, where n is the number of code points in [DecimalDigits](https://262.ecma-international.org/12.0/#prod-DecimalDigits).
-   The MV of [StrUnsignedDecimalLiteral](https://262.ecma-international.org/12.0/#prod-StrUnsignedDecimalLiteral) ::: . [DecimalDigits](https://262.ecma-international.org/12.0/#prod-DecimalDigits) [ExponentPart](https://262.ecma-international.org/12.0/#prod-ExponentPart) is the MV of [DecimalDigits](https://262.ecma-international.org/12.0/#prod-DecimalDigits) times 10e - n, where n is the number of code points in [DecimalDigits](https://262.ecma-international.org/12.0/#prod-DecimalDigits) and e is the MV of [ExponentPart](https://262.ecma-international.org/12.0/#prod-ExponentPart).
-   The MV of [StrUnsignedDecimalLiteral](https://262.ecma-international.org/12.0/#prod-StrUnsignedDecimalLiteral) ::: [DecimalDigits](https://262.ecma-international.org/12.0/#prod-DecimalDigits) [ExponentPart](https://262.ecma-international.org/12.0/#prod-ExponentPart) is the MV of [DecimalDigits](https://262.ecma-international.org/12.0/#prod-DecimalDigits) times 10e, where e is the MV of [ExponentPart](https://262.ecma-international.org/12.0/#prod-ExponentPart).

Once the exact MV for a String numeric literal has been determined, it is then rounded to a value of the Number type. If the MV is 0, then the rounded value is +0𝔽 unless the first non white space code point in the String numeric literal is `-`, in which case the rounded value is \-0𝔽. Otherwise, the rounded value must be the [Number value](https://262.ecma-international.org/12.0/#number-value) for the MV (in the sense defined in [6.1.6.1](https://262.ecma-international.org/12.0/#sec-ecmascript-language-types-number-type)), unless the literal includes a [StrUnsignedDecimalLiteral](https://262.ecma-international.org/12.0/#prod-StrUnsignedDecimalLiteral) and the literal has more than 20 significant digits, in which case the [Number value](https://262.ecma-international.org/12.0/#number-value) may be either the [Number value](https://262.ecma-international.org/12.0/#number-value) for the MV of a literal produced by replacing each significant digit after the 20th with a 0 digit or the [Number value](https://262.ecma-international.org/12.0/#number-value) for the MV of a literal produced by replacing each significant digit after the 20th with a 0 digit and then incrementing the literal at the 20th digit position. A digit is significant if it is not part of an [ExponentPart](https://262.ecma-international.org/12.0/#prod-ExponentPart) and

-   it is not `0`; or
-   there is a non-zero digit to its left and there is a non-zero digit, not in the [ExponentPart](https://262.ecma-international.org/12.0/#prod-ExponentPart), to its right.

## 7.1.5 ToIntegerOrInfinity ( argument )

The abstract operation ToIntegerOrInfinity takes argument argument. It converts argument to an [integer](https://262.ecma-international.org/12.0/#integer), +∞, or -∞. It performs the following steps when called:

1.  Let number be ? [ToNumber](https://262.ecma-international.org/12.0/#sec-tonumber)(argument).
2.  If number is NaN, +0𝔽, or \-0𝔽, return 0.
3.  If number is +∞𝔽, return +∞.
4.  If number is \-∞𝔽, return -∞.
5.  Let integer be [floor](https://262.ecma-international.org/12.0/#eqn-floor)([abs](https://262.ecma-international.org/12.0/#eqn-abs)([ℝ](https://262.ecma-international.org/12.0/#%E2%84%9D)(number))).
6.  If number < +0𝔽, set integer to -integer.
7.  Return integer.

## 7.1.6 ToInt32 ( argument )

The abstract operation ToInt32 takes argument argument. It converts argument to one of 232 [integral Number](https://262.ecma-international.org/12.0/#integral-number) values in the range [𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(\-231) through [𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(231 - 1), inclusive. It performs the following steps when called:

1.  Let number be ? [ToNumber](https://262.ecma-international.org/12.0/#sec-tonumber)(argument).
2.  If number is NaN, +0𝔽, \-0𝔽, +∞𝔽, or \-∞𝔽, return +0𝔽.
3.  Let int be the [mathematical value](https://262.ecma-international.org/12.0/#mathematical-value) that is the same sign as number and whose magnitude is [floor](https://262.ecma-international.org/12.0/#eqn-floor)([abs](https://262.ecma-international.org/12.0/#eqn-abs)([ℝ](https://262.ecma-international.org/12.0/#%E2%84%9D)(number))).
4.  Let int32bit be int [modulo](https://262.ecma-international.org/12.0/#eqn-modulo) 232.
5.  If int32bit ≥ 231, return [𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(int32bit - 232); otherwise return [𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(int32bit).

Note

Given the above definition of ToInt32:

-   The ToInt32 abstract operation is idempotent: if applied to a result that it produced, the second application leaves that value unchanged.
-   ToInt32([ToUint32](https://262.ecma-international.org/12.0/#sec-touint32)(x)) is the same value as ToInt32(x) for all values of x. (It is to preserve this latter property that +∞𝔽 and \-∞𝔽 are mapped to +0𝔽.)
-   ToInt32 maps \-0𝔽 to +0𝔽.

## 7.1.7 ToUint32 ( argument )

The abstract operation ToUint32 takes argument argument. It converts argument to one of 232 [integral Number](https://262.ecma-international.org/12.0/#integral-number) values in the range +0𝔽 through [𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(232 - 1), inclusive. It performs the following steps when called:

1.  Let number be ? [ToNumber](https://262.ecma-international.org/12.0/#sec-tonumber)(argument).
2.  If number is NaN, +0𝔽, \-0𝔽, +∞𝔽, or \-∞𝔽, return +0𝔽.
3.  Let int be the [mathematical value](https://262.ecma-international.org/12.0/#mathematical-value) that is the same sign as number and whose magnitude is [floor](https://262.ecma-international.org/12.0/#eqn-floor)([abs](https://262.ecma-international.org/12.0/#eqn-abs)([ℝ](https://262.ecma-international.org/12.0/#%E2%84%9D)(number))).
4.  Let int32bit be int [modulo](https://262.ecma-international.org/12.0/#eqn-modulo) 232.
5.  Return [𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(int32bit).

Note

Given the above definition of ToUint32:

-   Step [5](https://262.ecma-international.org/12.0/#step-touint32-return) is the only difference between ToUint32 and [ToInt32](https://262.ecma-international.org/12.0/#sec-toint32).
-   The ToUint32 abstract operation is idempotent: if applied to a result that it produced, the second application leaves that value unchanged.
-   ToUint32([ToInt32](https://262.ecma-international.org/12.0/#sec-toint32)(x)) is the same value as ToUint32(x) for all values of x. (It is to preserve this latter property that +∞𝔽 and \-∞𝔽 are mapped to +0𝔽.)
-   ToUint32 maps \-0𝔽 to +0𝔽.

## 7.1.8 ToInt16 ( argument )

The abstract operation ToInt16 takes argument argument. It converts argument to one of 216 [integral Number](https://262.ecma-international.org/12.0/#integral-number) values in the range [𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(\-215) through [𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(215 - 1), inclusive. It performs the following steps when called:

1.  Let number be ? [ToNumber](https://262.ecma-international.org/12.0/#sec-tonumber)(argument).
2.  If number is NaN, +0𝔽, \-0𝔽, +∞𝔽, or \-∞𝔽, return +0𝔽.
3.  Let int be the [mathematical value](https://262.ecma-international.org/12.0/#mathematical-value) that is the same sign as number and whose magnitude is [floor](https://262.ecma-international.org/12.0/#eqn-floor)([abs](https://262.ecma-international.org/12.0/#eqn-abs)([ℝ](https://262.ecma-international.org/12.0/#%E2%84%9D)(number))).
4.  Let int16bit be int [modulo](https://262.ecma-international.org/12.0/#eqn-modulo) 216.
5.  If int16bit ≥ 215, return [𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(int16bit - 216); otherwise return [𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(int16bit).

## 7.1.9 ToUint16 ( argument )

The abstract operation ToUint16 takes argument argument. It converts argument to one of 216 [integral Number](https://262.ecma-international.org/12.0/#integral-number) values in the range +0𝔽 through [𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(216 - 1), inclusive. It performs the following steps when called:

1.  Let number be ? [ToNumber](https://262.ecma-international.org/12.0/#sec-tonumber)(argument).
2.  If number is NaN, +0𝔽, \-0𝔽, +∞𝔽, or \-∞𝔽, return +0𝔽.
3.  Let int be the [mathematical value](https://262.ecma-international.org/12.0/#mathematical-value) that is the same sign as number and whose magnitude is [floor](https://262.ecma-international.org/12.0/#eqn-floor)([abs](https://262.ecma-international.org/12.0/#eqn-abs)([ℝ](https://262.ecma-international.org/12.0/#%E2%84%9D)(number))).
4.  Let int16bit be int [modulo](https://262.ecma-international.org/12.0/#eqn-modulo) 216.
5.  Return [𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(int16bit).

Note

Given the above definition of ToUint16:

-   The substitution of 216 for 232 in step [4](https://262.ecma-international.org/12.0/#step-touint16-mod) is the only difference between [ToUint32](https://262.ecma-international.org/12.0/#sec-touint32) and ToUint16.
-   ToUint16 maps \-0𝔽 to +0𝔽.

## 7.1.10 ToInt8 ( argument )

The abstract operation ToInt8 takes argument argument. It converts argument to one of 28 [integral Number](https://262.ecma-international.org/12.0/#integral-number) values in the range \-128𝔽 through 127𝔽, inclusive. It performs the following steps when called:

1.  Let number be ? [ToNumber](https://262.ecma-international.org/12.0/#sec-tonumber)(argument).
2.  If number is NaN, +0𝔽, \-0𝔽, +∞𝔽, or \-∞𝔽, return +0𝔽.
3.  Let int be the [mathematical value](https://262.ecma-international.org/12.0/#mathematical-value) that is the same sign as number and whose magnitude is [floor](https://262.ecma-international.org/12.0/#eqn-floor)([abs](https://262.ecma-international.org/12.0/#eqn-abs)([ℝ](https://262.ecma-international.org/12.0/#%E2%84%9D)(number))).
4.  Let int8bit be int [modulo](https://262.ecma-international.org/12.0/#eqn-modulo) 28.
5.  If int8bit ≥ 27, return [𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(int8bit - 28); otherwise return [𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(int8bit).

## 7.1.11 ToUint8 ( argument )

The abstract operation ToUint8 takes argument argument. It converts argument to one of 28 [integral Number](https://262.ecma-international.org/12.0/#integral-number) values in the range +0𝔽 through 255𝔽, inclusive. It performs the following steps when called:

1.  Let number be ? [ToNumber](https://262.ecma-international.org/12.0/#sec-tonumber)(argument).
2.  If number is NaN, +0𝔽, \-0𝔽, +∞𝔽, or \-∞𝔽, return +0𝔽.
3.  Let int be the [mathematical value](https://262.ecma-international.org/12.0/#mathematical-value) that is the same sign as number and whose magnitude is [floor](https://262.ecma-international.org/12.0/#eqn-floor)([abs](https://262.ecma-international.org/12.0/#eqn-abs)([ℝ](https://262.ecma-international.org/12.0/#%E2%84%9D)(number))).
4.  Let int8bit be int [modulo](https://262.ecma-international.org/12.0/#eqn-modulo) 28.
5.  Return [𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(int8bit).

## 7.1.12 ToUint8Clamp ( argument )

The abstract operation ToUint8Clamp takes argument argument. It converts argument to one of 28 [integral Number](https://262.ecma-international.org/12.0/#integral-number) values in the range +0𝔽 through 255𝔽, inclusive. It performs the following steps when called:

1.  Let number be ? [ToNumber](https://262.ecma-international.org/12.0/#sec-tonumber)(argument).
2.  If number is NaN, return +0𝔽.
3.  If [ℝ](https://262.ecma-international.org/12.0/#%E2%84%9D)(number) ≤ 0, return +0𝔽.
4.  If [ℝ](https://262.ecma-international.org/12.0/#%E2%84%9D)(number) ≥ 255, return 255𝔽.
5.  Let f be [floor](https://262.ecma-international.org/12.0/#eqn-floor)([ℝ](https://262.ecma-international.org/12.0/#%E2%84%9D)(number)).
6.  If f + 0.5 < [ℝ](https://262.ecma-international.org/12.0/#%E2%84%9D)(number), return [𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(f + 1).
7.  If [ℝ](https://262.ecma-international.org/12.0/#%E2%84%9D)(number) < f + 0.5, return [𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(f).
8.  If f is odd, return [𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(f + 1).
9.  Return [𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(f).

Note

Unlike the other ECMAScript [integer](https://262.ecma-international.org/12.0/#integer) conversion abstract operation, ToUint8Clamp rounds rather than truncates non-integral values and does not convert +∞𝔽 to +0𝔽. ToUint8Clamp does “round half to even” tie-breaking. This differs from `Math.round` which does “round half up” tie-breaking.

## 7.1.13 ToBigInt ( argument )

The abstract operation ToBigInt takes argument argument. It converts argument to a BigInt value, or throws if an implicit conversion from Number would be required. It performs the following steps when called:

1.  Let prim be ? [ToPrimitive](https://262.ecma-international.org/12.0/#sec-toprimitive)(argument, number).
2.  Return the value that prim corresponds to in [Table 13](https://262.ecma-international.org/12.0/#table-tobigint).

Table 13: BigInt Conversions

| Argument Type | Result |
| --- | --- |
| Undefined | Throw a TypeError exception. |
| Null | Throw a TypeError exception. |
| Boolean | Return `1n` if prim is true and `0n` if prim is false. |
| BigInt | Return prim. |
| Number | Throw a TypeError exception. |
| String | 
1.  Let n be ! [StringToBigInt](https://262.ecma-international.org/12.0/#sec-stringtobigint)(prim).
2.  If n is NaN, throw a SyntaxError exception.
3.  Return n.

 |
| Symbol | Throw a TypeError exception. |

## 7.1.14 StringToBigInt ( argument )

Apply the algorithm in [7.1.4.1](https://262.ecma-international.org/12.0/#sec-tonumber-applied-to-the-string-type) with the following changes:

-   Replace the [StrUnsignedDecimalLiteral](https://262.ecma-international.org/12.0/#prod-StrUnsignedDecimalLiteral) production with [DecimalDigits](https://262.ecma-international.org/12.0/#prod-DecimalDigits) to not allow Infinity, decimal points, or exponents.
-   If the MV is NaN, return NaN, otherwise return the BigInt which exactly corresponds to the MV, rather than rounding to a Number.

## 7.1.15 ToBigInt64 ( argument )

The abstract operation ToBigInt64 takes argument argument. It converts argument to one of 264 BigInt values in the range [ℤ](https://262.ecma-international.org/12.0/#%E2%84%A4)(-263) through [ℤ](https://262.ecma-international.org/12.0/#%E2%84%A4)(263\-1), inclusive. It performs the following steps when called:

1.  Let n be ? [ToBigInt](https://262.ecma-international.org/12.0/#sec-tobigint)(argument).
2.  Let int64bit be [ℝ](https://262.ecma-international.org/12.0/#%E2%84%9D)(n) [modulo](https://262.ecma-international.org/12.0/#eqn-modulo) 264.
3.  If int64bit ≥ 263, return [ℤ](https://262.ecma-international.org/12.0/#%E2%84%A4)(int64bit - 264); otherwise return [ℤ](https://262.ecma-international.org/12.0/#%E2%84%A4)(int64bit).

## 7.1.16 ToBigUint64 ( argument )

The abstract operation ToBigUint64 takes argument argument. It converts argument to one of 264 BigInt values in the range 0ℤ through the BigInt value for [ℤ](https://262.ecma-international.org/12.0/#%E2%84%A4)(264\-1), inclusive. It performs the following steps when called:

1.  Let n be ? [ToBigInt](https://262.ecma-international.org/12.0/#sec-tobigint)(argument).
2.  Let int64bit be [ℝ](https://262.ecma-international.org/12.0/#%E2%84%9D)(n) [modulo](https://262.ecma-international.org/12.0/#eqn-modulo) 264.
3.  Return [ℤ](https://262.ecma-international.org/12.0/#%E2%84%A4)(int64bit).

## 7.1.17 ToString ( argument )

The abstract operation ToString takes argument argument. It converts argument to a value of type String according to [Table 14](https://262.ecma-international.org/12.0/#table-tostring-conversions):

Table 14: [ToString](https://262.ecma-international.org/12.0/#sec-tostring) Conversions

| Argument Type | Result |
| --- | --- |
| Undefined | Return "undefined". |
| Null | Return "null". |
| Boolean | 
If argument is true, return "true".

If argument is false, return "false".

 |
| Number | Return ! [Number::toString](https://262.ecma-international.org/12.0/#sec-numeric-types-number-tostring)(argument). |
| String | Return argument. |
| Symbol | Throw a TypeError exception. |
| BigInt | Return ! [BigInt::toString](https://262.ecma-international.org/12.0/#sec-numeric-types-bigint-tostring)(argument). |
| Object | 

Apply the following steps:

1.  Let primValue be ? [ToPrimitive](https://262.ecma-international.org/12.0/#sec-toprimitive)(argument, string).
2.  Return ? [ToString](https://262.ecma-international.org/12.0/#sec-tostring)(primValue).

 |

## 7.1.18 ToObject ( argument )

The abstract operation ToObject takes argument argument. It converts argument to a value of type Object according to [Table 15](https://262.ecma-international.org/12.0/#table-toobject-conversions):

Table 15: [ToObject](https://262.ecma-international.org/12.0/#sec-toobject) Conversions

| Argument Type | Result |
| --- | --- |
| Undefined | Throw a TypeError exception. |
| Null | Throw a TypeError exception. |
| Boolean | Return a new Boolean object whose \[\[BooleanData\]\] internal slot is set to argument. See [20.3](https://262.ecma-international.org/12.0/#sec-boolean-objects) for a description of Boolean objects. |
| Number | Return a new Number object whose \[\[NumberData\]\] internal slot is set to argument. See [21.1](https://262.ecma-international.org/12.0/#sec-number-objects) for a description of Number objects. |
| String | Return a new String object whose \[\[StringData\]\] internal slot is set to argument. See [22.1](https://262.ecma-international.org/12.0/#sec-string-objects) for a description of String objects. |
| Symbol | Return a new Symbol object whose \[\[SymbolData\]\] internal slot is set to argument. See [20.4](https://262.ecma-international.org/12.0/#sec-symbol-objects) for a description of Symbol objects. |
| BigInt | Return a new BigInt object whose \[\[BigIntData\]\] internal slot is set to argument. See [21.2](https://262.ecma-international.org/12.0/#sec-bigint-objects) for a description of BigInt objects. |
| Object | Return argument. |

## 7.1.19 ToPropertyKey ( argument )

The abstract operation ToPropertyKey takes argument argument. It converts argument to a value that can be used as a property key. It performs the following steps when called:

1.  Let key be ? [ToPrimitive](https://262.ecma-international.org/12.0/#sec-toprimitive)(argument, string).
2.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(key) is Symbol, then
    1.  Return key.
3.  Return ! [ToString](https://262.ecma-international.org/12.0/#sec-tostring)(key).

## 7.1.20 ToLength ( argument )

The abstract operation ToLength takes argument argument. It converts argument to an [integral Number](https://262.ecma-international.org/12.0/#integral-number) suitable for use as the length of an [array-like object](https://262.ecma-international.org/12.0/#sec-lengthofarraylike). It performs the following steps when called:

1.  Let len be ? [ToIntegerOrInfinity](https://262.ecma-international.org/12.0/#sec-tointegerorinfinity)(argument).
2.  If len ≤ 0, return +0𝔽.
3.  Return [𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)([min](https://262.ecma-international.org/12.0/#eqn-min)(len, 253 - 1)).

## 7.1.21 CanonicalNumericIndexString ( argument )

The abstract operation CanonicalNumericIndexString takes argument argument. It returns argument converted to a [Number value](https://262.ecma-international.org/12.0/#number-value) if it is a String representation of a Number that would be produced by [ToString](https://262.ecma-international.org/12.0/#sec-tostring), or the string "-0". Otherwise, it returns undefined. It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(argument) is String.
2.  If argument is "-0", return \-0𝔽.
3.  Let n be ! [ToNumber](https://262.ecma-international.org/12.0/#sec-tonumber)(argument).
4.  If [SameValue](https://262.ecma-international.org/12.0/#sec-samevalue)(! [ToString](https://262.ecma-international.org/12.0/#sec-tostring)(n), argument) is false, return undefined.
5.  Return n.

A _canonical numeric string_ is any String value for which the CanonicalNumericIndexString abstract operation does not return undefined.

## 7.1.22 ToIndex ( value )

The abstract operation ToIndex takes argument value. It returns value argument converted to a non-negative [integer](https://262.ecma-international.org/12.0/#integer) if it is a valid [integer index](https://262.ecma-international.org/12.0/#integer-index) value. It performs the following steps when called:

1.  If value is undefined, then
    1.  Return 0.
2.  Else,
    1.  Let integerIndex be [𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(? [ToIntegerOrInfinity](https://262.ecma-international.org/12.0/#sec-tointegerorinfinity)(value)).
    2.  If integerIndex < +0𝔽, throw a RangeError exception.
    3.  Let index be ! [ToLength](https://262.ecma-international.org/12.0/#sec-tolength)(integerIndex).
    4.  If ! [SameValue](https://262.ecma-international.org/12.0/#sec-samevalue)(integerIndex, index) is false, throw a RangeError exception.
    5.  Return [ℝ](https://262.ecma-international.org/12.0/#%E2%84%9D)(index).

## 7.2 Testing and Comparison Operations

## 7.2.1 RequireObjectCoercible ( argument )

The abstract operation RequireObjectCoercible takes argument argument. It throws an error if argument is a value that cannot be converted to an Object using [ToObject](https://262.ecma-international.org/12.0/#sec-toobject). It is defined by [Table 16](https://262.ecma-international.org/12.0/#table-requireobjectcoercible-results):

Table 16: [RequireObjectCoercible](https://262.ecma-international.org/12.0/#sec-requireobjectcoercible) Results

| Argument Type | Result |
| --- | --- |
| Undefined | Throw a TypeError exception. |
| Null | Throw a TypeError exception. |
| Boolean | Return argument. |
| Number | Return argument. |
| String | Return argument. |
| Symbol | Return argument. |
| BigInt | Return argument. |
| Object | Return argument. |

## 7.2.2 IsArray ( argument )

The abstract operation IsArray takes argument argument. It performs the following steps when called:

1.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(argument) is not Object, return false.
2.  If argument is an [Array exotic object](https://262.ecma-international.org/12.0/#array-exotic-object), return true.
3.  If argument is a [Proxy exotic object](https://262.ecma-international.org/12.0/#proxy-exotic-object), then
    1.  If argument.\[\[ProxyHandler\]\] is null, throw a TypeError exception.
    2.  Let target be argument.\[\[ProxyTarget\]\].
    3.  Return ? [IsArray](https://262.ecma-international.org/12.0/#sec-isarray)(target).
4.  Return false.

## 7.2.3 IsCallable ( argument )

The abstract operation IsCallable takes argument argument (an [ECMAScript language value](https://262.ecma-international.org/12.0/#sec-ecmascript-language-types)). It determines if argument is a callable function with a \[\[Call\]\] internal method. It performs the following steps when called:

1.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(argument) is not Object, return false.
2.  If argument has a \[\[Call\]\] internal method, return true.
3.  Return false.

## 7.2.4 IsConstructor ( argument )

The abstract operation IsConstructor takes argument argument (an [ECMAScript language value](https://262.ecma-international.org/12.0/#sec-ecmascript-language-types)). It determines if argument is a [function object](https://262.ecma-international.org/12.0/#function-object) with a \[\[Construct\]\] internal method. It performs the following steps when called:

1.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(argument) is not Object, return false.
2.  If argument has a \[\[Construct\]\] internal method, return true.
3.  Return false.

## 7.2.5 IsExtensible ( O )

The abstract operation IsExtensible takes argument O (an Object) and returns a completion record which, if its \[\[Type\]\] is normal, has a \[\[Value\]\] which is a Boolean. It is used to determine whether additional properties can be added to O. It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(O) is Object.
2.  Return ? O.\[\[IsExtensible\]\]().

## 7.2.6 IsIntegralNumber ( argument )

The abstract operation IsIntegralNumber takes argument argument. It determines if argument is a finite [integral Number](https://262.ecma-international.org/12.0/#integral-number) value. It performs the following steps when called:

1.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(argument) is not Number, return false.
2.  If argument is NaN, +∞𝔽, or \-∞𝔽, return false.
3.  If [floor](https://262.ecma-international.org/12.0/#eqn-floor)([abs](https://262.ecma-international.org/12.0/#eqn-abs)([ℝ](https://262.ecma-international.org/12.0/#%E2%84%9D)(argument))) ≠ [abs](https://262.ecma-international.org/12.0/#eqn-abs)([ℝ](https://262.ecma-international.org/12.0/#%E2%84%9D)(argument)), return false.
4.  Return true.

## 7.2.7 IsPropertyKey ( argument )

The abstract operation IsPropertyKey takes argument argument (an [ECMAScript language value](https://262.ecma-international.org/12.0/#sec-ecmascript-language-types)). It determines if argument is a value that may be used as a property key. It performs the following steps when called:

1.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(argument) is String, return true.
2.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(argument) is Symbol, return true.
3.  Return false.

## 7.2.8 IsRegExp ( argument )

The abstract operation IsRegExp takes argument argument. It performs the following steps when called:

1.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(argument) is not Object, return false.
2.  Let matcher be ? [Get](https://262.ecma-international.org/12.0/#sec-get-o-p)(argument, [@@match](https://262.ecma-international.org/12.0/#sec-well-known-symbols)).
3.  If matcher is not undefined, return ! [ToBoolean](https://262.ecma-international.org/12.0/#sec-toboolean)(matcher).
4.  If argument has a \[\[RegExpMatcher\]\] internal slot, return true.
5.  Return false.

## 7.2.9 IsStringPrefix ( p, q )

The abstract operation IsStringPrefix takes arguments p (a String) and q (a String). It determines if p is a prefix of q. It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(p) is String.
2.  [Assert](https://262.ecma-international.org/12.0/#assert): [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(q) is String.
3.  If q can be the [string-concatenation](https://262.ecma-international.org/12.0/#string-concatenation) of p and some other String r, return true. Otherwise, return false.

Note

Any String is a prefix of itself, because r may be the empty String.

## 7.2.10 SameValue ( x, y )

The abstract operation SameValue takes arguments x (an [ECMAScript language value](https://262.ecma-international.org/12.0/#sec-ecmascript-language-types)) and y (an [ECMAScript language value](https://262.ecma-international.org/12.0/#sec-ecmascript-language-types)) and returns a completion record whose \[\[Type\]\] is normal and whose \[\[Value\]\] is a Boolean. It performs the following steps when called:

1.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(x) is different from [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(y), return false.
2.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(x) is Number or BigInt, then
    1.  Return ! [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(x)::sameValue(x, y).
3.  Return ! [SameValueNonNumeric](https://262.ecma-international.org/12.0/#sec-samevaluenonnumeric)(x, y).

Note

This algorithm differs from the [Strict Equality Comparison](https://262.ecma-international.org/12.0/#sec-strict-equality-comparison) Algorithm in its treatment of signed zeroes and NaNs.

## 7.2.11 SameValueZero ( x, y )

The abstract operation SameValueZero takes arguments x (an [ECMAScript language value](https://262.ecma-international.org/12.0/#sec-ecmascript-language-types)) and y (an [ECMAScript language value](https://262.ecma-international.org/12.0/#sec-ecmascript-language-types)) and returns a completion record whose \[\[Type\]\] is normal and whose \[\[Value\]\] is a Boolean. It performs the following steps when called:

1.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(x) is different from [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(y), return false.
2.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(x) is Number or BigInt, then
    1.  Return ! [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(x)::sameValueZero(x, y).
3.  Return ! [SameValueNonNumeric](https://262.ecma-international.org/12.0/#sec-samevaluenonnumeric)(x, y).

Note

SameValueZero differs from [SameValue](https://262.ecma-international.org/12.0/#sec-samevalue) only in its treatment of +0𝔽 and \-0𝔽.

## 7.2.12 SameValueNonNumeric ( x, y )

The abstract operation SameValueNonNumeric takes arguments x (an [ECMAScript language value](https://262.ecma-international.org/12.0/#sec-ecmascript-language-types)) and y (an [ECMAScript language value](https://262.ecma-international.org/12.0/#sec-ecmascript-language-types)) and returns a completion record whose \[\[Type\]\] is normal and whose \[\[Value\]\] is a Boolean. It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(x) is not Number or BigInt.
2.  [Assert](https://262.ecma-international.org/12.0/#assert): [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(x) is the same as [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(y).
3.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(x) is Undefined, return true.
4.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(x) is Null, return true.
5.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(x) is String, then
    1.  If x and y are exactly the same sequence of code units (same length and same code units at corresponding indices), return true; otherwise, return false.
6.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(x) is Boolean, then
    1.  If x and y are both true or both false, return true; otherwise, return false.
7.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(x) is Symbol, then
    1.  If x and y are both the same Symbol value, return true; otherwise, return false.
8.  If x and y are the same Object value, return true. Otherwise, return false.

## 7.2.13 Abstract Relational Comparison

The comparison x < y, where x and y are values, produces true, false, or undefined (which indicates that at least one operand is NaN). In addition to x and y the algorithm takes a Boolean flag named LeftFirst as a parameter. The flag is used to control the order in which operations with potentially visible side-effects are performed upon x and y. It is necessary because ECMAScript specifies left to right evaluation of expressions. The default value of LeftFirst is true and indicates that the x parameter corresponds to an expression that occurs to the left of the y parameter's corresponding expression. If LeftFirst is false, the reverse is the case and operations must be performed upon y before x. Such a comparison is performed as follows:

1.  If the LeftFirst flag is true, then
    1.  Let px be ? [ToPrimitive](https://262.ecma-international.org/12.0/#sec-toprimitive)(x, number).
    2.  Let py be ? [ToPrimitive](https://262.ecma-international.org/12.0/#sec-toprimitive)(y, number).
2.  Else,
    1.  NOTE: The order of evaluation needs to be reversed to preserve left to right evaluation.
    2.  Let py be ? [ToPrimitive](https://262.ecma-international.org/12.0/#sec-toprimitive)(y, number).
    3.  Let px be ? [ToPrimitive](https://262.ecma-international.org/12.0/#sec-toprimitive)(x, number).
3.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(px) is String and [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(py) is String, then
    1.  If [IsStringPrefix](https://262.ecma-international.org/12.0/#sec-isstringprefix)(py, px) is true, return false.
    2.  If [IsStringPrefix](https://262.ecma-international.org/12.0/#sec-isstringprefix)(px, py) is true, return true.
    3.  Let k be the smallest non-negative [integer](https://262.ecma-international.org/12.0/#integer) such that the code unit at index k within px is different from the code unit at index k within py. (There must be such a k, for neither String is a prefix of the other.)
    4.  Let m be the [integer](https://262.ecma-international.org/12.0/#integer) that is the numeric value of the code unit at index k within px.
    5.  Let n be the [integer](https://262.ecma-international.org/12.0/#integer) that is the numeric value of the code unit at index k within py.
    6.  If m < n, return true. Otherwise, return false.
4.  Else,
    1.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(px) is BigInt and [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(py) is String, then
        1.  Let ny be ! [StringToBigInt](https://262.ecma-international.org/12.0/#sec-stringtobigint)(py).
        2.  If ny is NaN, return undefined.
        3.  Return BigInt::lessThan(px, ny).
    2.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(px) is String and [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(py) is BigInt, then
        1.  Let nx be ! [StringToBigInt](https://262.ecma-international.org/12.0/#sec-stringtobigint)(px).
        2.  If nx is NaN, return undefined.
        3.  Return BigInt::lessThan(nx, py).
    3.  NOTE: Because px and py are primitive values, evaluation order is not important.
    4.  Let nx be ! [ToNumeric](https://262.ecma-international.org/12.0/#sec-tonumeric)(px).
    5.  Let ny be ! [ToNumeric](https://262.ecma-international.org/12.0/#sec-tonumeric)(py).
    6.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(nx) is the same as [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(ny), return [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(nx)::lessThan(nx, ny).
    7.  [Assert](https://262.ecma-international.org/12.0/#assert): [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(nx) is BigInt and [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(ny) is Number, or [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(nx) is Number and [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(ny) is BigInt.
    8.  If nx or ny is NaN, return undefined.
    9.  If nx is \-∞𝔽 or ny is +∞𝔽, return true.
    10.  If nx is +∞𝔽 or ny is \-∞𝔽, return false.
    11.  If [ℝ](https://262.ecma-international.org/12.0/#%E2%84%9D)(nx) < [ℝ](https://262.ecma-international.org/12.0/#%E2%84%9D)(ny), return true; otherwise return false.

Note 1

Step [3](https://262.ecma-international.org/12.0/#step-arc-string-check) differs from step [2.c](https://262.ecma-international.org/12.0/#step-binary-op-string-check) in the algorithm that handles the addition operator `+` ([13.15.3](https://262.ecma-international.org/12.0/#sec-applystringornumericbinaryoperator)) by using the logical-and operation instead of the logical-or operation.

Note 2

The comparison of Strings uses a simple lexicographic ordering on sequences of code unit values. There is no attempt to use the more complex, semantically oriented definitions of character or string equality and collating order defined in the Unicode specification. Therefore String values that are canonically equal according to the Unicode standard could test as unequal. In effect this algorithm assumes that both Strings are already in normalized form. Also, note that for strings containing supplementary characters, lexicographic ordering on sequences of UTF-16 code unit values differs from that on sequences of code point values.

## 7.2.14 Abstract Equality Comparison

The comparison x == y, where x and y are values, produces true or false. Such a comparison is performed as follows:

1.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(x) is the same as [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(y), then
    1.  Return the result of performing [Strict Equality Comparison](https://262.ecma-international.org/12.0/#sec-strict-equality-comparison) x === y.
2.  If x is null and y is undefined, return true.
3.  If x is undefined and y is null, return true.
4.  NOTE: This step is replaced in section [B.3.7.2](https://262.ecma-international.org/12.0/#sec-IsHTMLDDA-internal-slot-aec).
5.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(x) is Number and [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(y) is String, return the result of the comparison x == ! [ToNumber](https://262.ecma-international.org/12.0/#sec-tonumber)(y).
6.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(x) is String and [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(y) is Number, return the result of the comparison ! [ToNumber](https://262.ecma-international.org/12.0/#sec-tonumber)(x) == y.
7.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(x) is BigInt and [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(y) is String, then
    1.  Let n be ! [StringToBigInt](https://262.ecma-international.org/12.0/#sec-stringtobigint)(y).
    2.  If n is NaN, return false.
    3.  Return the result of the comparison x == n.
8.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(x) is String and [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(y) is BigInt, return the result of the comparison y == x.
9.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(x) is Boolean, return the result of the comparison ! [ToNumber](https://262.ecma-international.org/12.0/#sec-tonumber)(x) == y.
10.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(y) is Boolean, return the result of the comparison x == ! [ToNumber](https://262.ecma-international.org/12.0/#sec-tonumber)(y).
11.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(x) is either String, Number, BigInt, or Symbol and [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(y) is Object, return the result of the comparison x == ? [ToPrimitive](https://262.ecma-international.org/12.0/#sec-toprimitive)(y).
12.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(x) is Object and [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(y) is either String, Number, BigInt, or Symbol, return the result of the comparison ? [ToPrimitive](https://262.ecma-international.org/12.0/#sec-toprimitive)(x) == y.
13.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(x) is BigInt and [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(y) is Number, or if [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(x) is Number and [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(y) is BigInt, then
    1.  If x or y are any of NaN, +∞𝔽, or \-∞𝔽, return false.
    2.  If [ℝ](https://262.ecma-international.org/12.0/#%E2%84%9D)(x) = [ℝ](https://262.ecma-international.org/12.0/#%E2%84%9D)(y), return true; otherwise return false.
14.  Return false.

## 7.2.15 Strict Equality Comparison

The comparison x === y, where x and y are values, produces true or false. Such a comparison is performed as follows:

1.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(x) is different from [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(y), return false.
2.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(x) is Number or BigInt, then
    1.  Return ! [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(x)::equal(x, y).
3.  Return ! [SameValueNonNumeric](https://262.ecma-international.org/12.0/#sec-samevaluenonnumeric)(x, y).

Note

This algorithm differs from the [SameValue](https://262.ecma-international.org/12.0/#sec-samevalue) Algorithm in its treatment of signed zeroes and NaNs.

## 7.3 Operations on Objects

## 7.3.1 MakeBasicObject ( internalSlotsList )

The abstract operation MakeBasicObject takes argument internalSlotsList. It is the source of all ECMAScript objects that are created algorithmically, including both ordinary objects and exotic objects. It factors out common steps used in creating all objects, and centralizes object creation. It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): internalSlotsList is a [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) of internal slot names.
2.  Let obj be a newly created object with an internal slot for each name in internalSlotsList.
3.  Set obj's essential internal methods to the default [ordinary object](https://262.ecma-international.org/12.0/#ordinary-object) definitions specified in [10.1](https://262.ecma-international.org/12.0/#sec-ordinary-object-internal-methods-and-internal-slots).
4.  [Assert](https://262.ecma-international.org/12.0/#assert): If the caller will not be overriding both obj's \[\[GetPrototypeOf\]\] and \[\[SetPrototypeOf\]\] essential internal methods, then internalSlotsList contains \[\[Prototype\]\].
5.  [Assert](https://262.ecma-international.org/12.0/#assert): If the caller will not be overriding all of obj's \[\[SetPrototypeOf\]\], \[\[IsExtensible\]\], and \[\[PreventExtensions\]\] essential internal methods, then internalSlotsList contains \[\[Extensible\]\].
6.  If internalSlotsList contains \[\[Extensible\]\], set obj.\[\[Extensible\]\] to true.
7.  Return obj.

Note

Within this specification, exotic objects are created in [abstract operations](https://262.ecma-international.org/12.0/#sec-algorithm-conventions-abstract-operations) such as [ArrayCreate](https://262.ecma-international.org/12.0/#sec-arraycreate) and [BoundFunctionCreate](https://262.ecma-international.org/12.0/#sec-boundfunctioncreate) by first calling MakeBasicObject to obtain a basic, foundational object, and then overriding some or all of that object's internal methods. In order to encapsulate [exotic object](https://262.ecma-international.org/12.0/#exotic-object) creation, the object's essential internal methods are never modified outside those operations.

## 7.3.2 Get ( O, P )

The abstract operation Get takes arguments O (an Object) and P (a property key). It is used to retrieve the value of a specific property of an object. It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(O) is Object.
2.  [Assert](https://262.ecma-international.org/12.0/#assert): [IsPropertyKey](https://262.ecma-international.org/12.0/#sec-ispropertykey)(P) is true.
3.  Return ? O.\[\[Get\]\](P, O).

## 7.3.3 GetV ( V, P )

The abstract operation GetV takes arguments V (an [ECMAScript language value](https://262.ecma-international.org/12.0/#sec-ecmascript-language-types)) and P (a property key). It is used to retrieve the value of a specific property of an [ECMAScript language value](https://262.ecma-international.org/12.0/#sec-ecmascript-language-types). If the value is not an object, the property lookup is performed using a wrapper object appropriate for the type of the value. It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): [IsPropertyKey](https://262.ecma-international.org/12.0/#sec-ispropertykey)(P) is true.
2.  Let O be ? [ToObject](https://262.ecma-international.org/12.0/#sec-toobject)(V).
3.  Return ? O.\[\[Get\]\](P, V).

## 7.3.4 Set ( O, P, V, Throw )

The abstract operation Set takes arguments O (an Object), P (a property key), V (an [ECMAScript language value](https://262.ecma-international.org/12.0/#sec-ecmascript-language-types)), and Throw (a Boolean). It is used to set the value of a specific property of an object. V is the new value for the property. It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(O) is Object.
2.  [Assert](https://262.ecma-international.org/12.0/#assert): [IsPropertyKey](https://262.ecma-international.org/12.0/#sec-ispropertykey)(P) is true.
3.  [Assert](https://262.ecma-international.org/12.0/#assert): [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(Throw) is Boolean.
4.  Let success be ? O.\[\[Set\]\](P, V, O).
5.  If success is false and Throw is true, throw a TypeError exception.
6.  Return success.

## 7.3.5 CreateDataProperty ( O, P, V )

The abstract operation CreateDataProperty takes arguments O (an Object), P (a property key), and V (an [ECMAScript language value](https://262.ecma-international.org/12.0/#sec-ecmascript-language-types)). It is used to create a new own property of an object. It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(O) is Object.
2.  [Assert](https://262.ecma-international.org/12.0/#assert): [IsPropertyKey](https://262.ecma-international.org/12.0/#sec-ispropertykey)(P) is true.
3.  Let newDesc be the PropertyDescriptor { \[\[Value\]\]: V, \[\[Writable\]\]: true, \[\[Enumerable\]\]: true, \[\[Configurable\]\]: true }.
4.  Return ? O.\[\[DefineOwnProperty\]\](P, newDesc).

Note

This abstract operation creates a property whose attributes are set to the same defaults used for properties created by the ECMAScript language assignment operator. Normally, the property will not already exist. If it does exist and is not configurable or if O is not extensible, \[\[DefineOwnProperty\]\] will return false.

## 7.3.6 CreateMethodProperty ( O, P, V )

The abstract operation CreateMethodProperty takes arguments O (an Object), P (a property key), and V (an [ECMAScript language value](https://262.ecma-international.org/12.0/#sec-ecmascript-language-types)). It is used to create a new own property of an object. It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(O) is Object.
2.  [Assert](https://262.ecma-international.org/12.0/#assert): [IsPropertyKey](https://262.ecma-international.org/12.0/#sec-ispropertykey)(P) is true.
3.  Let newDesc be the PropertyDescriptor { \[\[Value\]\]: V, \[\[Writable\]\]: true, \[\[Enumerable\]\]: false, \[\[Configurable\]\]: true }.
4.  Return ? O.\[\[DefineOwnProperty\]\](P, newDesc).

Note

This abstract operation creates a property whose attributes are set to the same defaults used for built-in methods and methods defined using class declaration syntax. Normally, the property will not already exist. If it does exist and is not configurable or if O is not extensible, \[\[DefineOwnProperty\]\] will return false.

## 7.3.7 CreateDataPropertyOrThrow ( O, P, V )

The abstract operation CreateDataPropertyOrThrow takes arguments O (an Object), P (a property key), and V (an [ECMAScript language value](https://262.ecma-international.org/12.0/#sec-ecmascript-language-types)). It is used to create a new own property of an object. It throws a TypeError exception if the requested property update cannot be performed. It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(O) is Object.
2.  [Assert](https://262.ecma-international.org/12.0/#assert): [IsPropertyKey](https://262.ecma-international.org/12.0/#sec-ispropertykey)(P) is true.
3.  Let success be ? [CreateDataProperty](https://262.ecma-international.org/12.0/#sec-createdataproperty)(O, P, V).
4.  If success is false, throw a TypeError exception.
5.  Return success.

Note

This abstract operation creates a property whose attributes are set to the same defaults used for properties created by the ECMAScript language assignment operator. Normally, the property will not already exist. If it does exist and is not configurable or if O is not extensible, \[\[DefineOwnProperty\]\] will return false causing this operation to throw a TypeError exception.

## 7.3.8 DefinePropertyOrThrow ( O, P, desc )

The abstract operation DefinePropertyOrThrow takes arguments O (an Object), P (a property key), and desc (a [Property Descriptor](https://262.ecma-international.org/12.0/#sec-property-descriptor-specification-type)). It is used to call the \[\[DefineOwnProperty\]\] internal method of an object in a manner that will throw a TypeError exception if the requested property update cannot be performed. It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(O) is Object.
2.  [Assert](https://262.ecma-international.org/12.0/#assert): [IsPropertyKey](https://262.ecma-international.org/12.0/#sec-ispropertykey)(P) is true.
3.  Let success be ? O.\[\[DefineOwnProperty\]\](P, desc).
4.  If success is false, throw a TypeError exception.
5.  Return success.

## 7.3.9 DeletePropertyOrThrow ( O, P )

The abstract operation DeletePropertyOrThrow takes arguments O (an Object) and P (a property key). It is used to remove a specific own property of an object. It throws an exception if the property is not configurable. It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(O) is Object.
2.  [Assert](https://262.ecma-international.org/12.0/#assert): [IsPropertyKey](https://262.ecma-international.org/12.0/#sec-ispropertykey)(P) is true.
3.  Let success be ? O.\[\[Delete\]\](P).
4.  If success is false, throw a TypeError exception.
5.  Return success.

## 7.3.10 GetMethod ( V, P )

The abstract operation GetMethod takes arguments V (an [ECMAScript language value](https://262.ecma-international.org/12.0/#sec-ecmascript-language-types)) and P (a property key). It is used to get the value of a specific property of an [ECMAScript language value](https://262.ecma-international.org/12.0/#sec-ecmascript-language-types) when the value of the property is expected to be a function. It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): [IsPropertyKey](https://262.ecma-international.org/12.0/#sec-ispropertykey)(P) is true.
2.  Let func be ? [GetV](https://262.ecma-international.org/12.0/#sec-getv)(V, P).
3.  If func is either undefined or null, return undefined.
4.  If [IsCallable](https://262.ecma-international.org/12.0/#sec-iscallable)(func) is false, throw a TypeError exception.
5.  Return func.

## 7.3.11 HasProperty ( O, P )

The abstract operation HasProperty takes arguments O (an Object) and P (a property key) and returns a completion record which, if its \[\[Type\]\] is normal, has a \[\[Value\]\] which is a Boolean. It is used to determine whether an object has a property with the specified property key. The property may be either an own or inherited. It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(O) is Object.
2.  [Assert](https://262.ecma-international.org/12.0/#assert): [IsPropertyKey](https://262.ecma-international.org/12.0/#sec-ispropertykey)(P) is true.
3.  Return ? O.\[\[HasProperty\]\](P).

## 7.3.12 HasOwnProperty ( O, P )

The abstract operation HasOwnProperty takes arguments O (an Object) and P (a property key) and returns a completion record which, if its \[\[Type\]\] is normal, has a \[\[Value\]\] which is a Boolean. It is used to determine whether an object has an own property with the specified property key. It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(O) is Object.
2.  [Assert](https://262.ecma-international.org/12.0/#assert): [IsPropertyKey](https://262.ecma-international.org/12.0/#sec-ispropertykey)(P) is true.
3.  Let desc be ? O.\[\[GetOwnProperty\]\](P).
4.  If desc is undefined, return false.
5.  Return true.

## 7.3.13 Call ( F, V \[ , argumentsList \] )

The abstract operation Call takes arguments F (an [ECMAScript language value](https://262.ecma-international.org/12.0/#sec-ecmascript-language-types)) and V (an [ECMAScript language value](https://262.ecma-international.org/12.0/#sec-ecmascript-language-types)) and optional argument argumentsList (a [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) of ECMAScript language values). It is used to call the \[\[Call\]\] internal method of a [function object](https://262.ecma-international.org/12.0/#function-object). F is the [function object](https://262.ecma-international.org/12.0/#function-object), V is an [ECMAScript language value](https://262.ecma-international.org/12.0/#sec-ecmascript-language-types) that is the this value of the \[\[Call\]\], and argumentsList is the value passed to the corresponding argument of the internal method. If argumentsList is not present, a new empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) is used as its value. It performs the following steps when called:

1.  If argumentsList is not present, set argumentsList to a new empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).
2.  If [IsCallable](https://262.ecma-international.org/12.0/#sec-iscallable)(F) is false, throw a TypeError exception.
3.  Return ? F.\[\[Call\]\](V, argumentsList).

## 7.3.14 Construct ( F \[ , argumentsList \[ , newTarget \] \] )

The abstract operation Construct takes argument F (a [function object](https://262.ecma-international.org/12.0/#function-object)) and optional arguments argumentsList and newTarget. It is used to call the \[\[Construct\]\] internal method of a [function object](https://262.ecma-international.org/12.0/#function-object). argumentsList and newTarget are the values to be passed as the corresponding arguments of the internal method. If argumentsList is not present, a new empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) is used as its value. If newTarget is not present, F is used as its value. It performs the following steps when called:

1.  If newTarget is not present, set newTarget to F.
2.  If argumentsList is not present, set argumentsList to a new empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).
3.  [Assert](https://262.ecma-international.org/12.0/#assert): [IsConstructor](https://262.ecma-international.org/12.0/#sec-isconstructor)(F) is true.
4.  [Assert](https://262.ecma-international.org/12.0/#assert): [IsConstructor](https://262.ecma-international.org/12.0/#sec-isconstructor)(newTarget) is true.
5.  Return ? F.\[\[Construct\]\](argumentsList, newTarget).

Note

If newTarget is not present, this operation is equivalent to: `new F(...argumentsList)`

## 7.3.15 SetIntegrityLevel ( O, level )

The abstract operation SetIntegrityLevel takes arguments O and level. It is used to fix the set of own properties of an object. It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(O) is Object.
2.  [Assert](https://262.ecma-international.org/12.0/#assert): level is either sealed or frozen.
3.  Let status be ? O.\[\[PreventExtensions\]\]().
4.  If status is false, return false.
5.  Let keys be ? O.\[\[OwnPropertyKeys\]\]().
6.  If level is sealed, then
    1.  For each element k of keys, do
        1.  Perform ? [DefinePropertyOrThrow](https://262.ecma-international.org/12.0/#sec-definepropertyorthrow)(O, k, PropertyDescriptor { \[\[Configurable\]\]: false }).
7.  Else,
    1.  [Assert](https://262.ecma-international.org/12.0/#assert): level is frozen.
    2.  For each element k of keys, do
        1.  Let currentDesc be ? O.\[\[GetOwnProperty\]\](k).
        2.  If currentDesc is not undefined, then
            1.  If [IsAccessorDescriptor](https://262.ecma-international.org/12.0/#sec-isaccessordescriptor)(currentDesc) is true, then
                1.  Let desc be the PropertyDescriptor { \[\[Configurable\]\]: false }.
            2.  Else,
                1.  Let desc be the PropertyDescriptor { \[\[Configurable\]\]: false, \[\[Writable\]\]: false }.
            3.  Perform ? [DefinePropertyOrThrow](https://262.ecma-international.org/12.0/#sec-definepropertyorthrow)(O, k, desc).
8.  Return true.

## 7.3.16 TestIntegrityLevel ( O, level )

The abstract operation TestIntegrityLevel takes arguments O and level. It is used to determine if the set of own properties of an object are fixed. It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(O) is Object.
2.  [Assert](https://262.ecma-international.org/12.0/#assert): level is either sealed or frozen.
3.  Let extensible be ? [IsExtensible](https://262.ecma-international.org/12.0/#sec-isextensible-o)(O).
4.  If extensible is true, return false.
5.  NOTE: If the object is extensible, none of its properties are examined.
6.  Let keys be ? O.\[\[OwnPropertyKeys\]\]().
7.  For each element k of keys, do
    1.  Let currentDesc be ? O.\[\[GetOwnProperty\]\](k).
    2.  If currentDesc is not undefined, then
        1.  If currentDesc.\[\[Configurable\]\] is true, return false.
        2.  If level is frozen and [IsDataDescriptor](https://262.ecma-international.org/12.0/#sec-isdatadescriptor)(currentDesc) is true, then
            1.  If currentDesc.\[\[Writable\]\] is true, return false.
8.  Return true.

## 7.3.17 CreateArrayFromList ( elements )

The abstract operation CreateArrayFromList takes argument elements (a [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type)). It is used to create an Array object whose elements are provided by elements. It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): elements is a [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) whose elements are all ECMAScript language values.
2.  Let array be ! [ArrayCreate](https://262.ecma-international.org/12.0/#sec-arraycreate)(0).
3.  Let n be 0.
4.  For each element e of elements, do
    1.  Perform ! [CreateDataPropertyOrThrow](https://262.ecma-international.org/12.0/#sec-createdatapropertyorthrow)(array, ! [ToString](https://262.ecma-international.org/12.0/#sec-tostring)([𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(n)), e).
    2.  Set n to n + 1.
5.  Return array.

## 7.3.18 LengthOfArrayLike ( obj )

The abstract operation LengthOfArrayLike takes argument obj. It returns the value of the "length" property of an array-like object (as a non-negative [integer](https://262.ecma-international.org/12.0/#integer)). It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(obj) is Object.
2.  Return [ℝ](https://262.ecma-international.org/12.0/#%E2%84%9D)(? [ToLength](https://262.ecma-international.org/12.0/#sec-tolength)(? [Get](https://262.ecma-international.org/12.0/#sec-get-o-p)(obj, "length"))).

An array-like object is any object for which this operation returns an [integer](https://262.ecma-international.org/12.0/#integer) rather than an [abrupt completion](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type).

Note 1

Typically, an array-like object would also have some properties with

[integer index](https://262.ecma-international.org/12.0/#integer-index)

names. However, that is not a requirement of this definition.

Note 2

Array objects and String objects are examples of array-like objects.

## 7.3.19 CreateListFromArrayLike ( obj \[ , elementTypes \] )

The abstract operation CreateListFromArrayLike takes argument obj and optional argument elementTypes (a [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) of names of ECMAScript Language Types). It is used to create a [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) value whose elements are provided by the indexed properties of obj. elementTypes contains the names of ECMAScript Language Types that are allowed for element values of the [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) that is created. It performs the following steps when called:

1.  If elementTypes is not present, set elementTypes to « Undefined, Null, Boolean, String, Symbol, Number, BigInt, Object ».
2.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(obj) is not Object, throw a TypeError exception.
3.  Let len be ? [LengthOfArrayLike](https://262.ecma-international.org/12.0/#sec-lengthofarraylike)(obj).
4.  Let list be a new empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).
5.  Let index be 0.
6.  Repeat, while index < len,
    1.  Let indexName be ! [ToString](https://262.ecma-international.org/12.0/#sec-tostring)([𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(index)).
    2.  Let next be ? [Get](https://262.ecma-international.org/12.0/#sec-get-o-p)(obj, indexName).
    3.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(next) is not an element of elementTypes, throw a TypeError exception.
    4.  Append next as the last element of list.
    5.  Set index to index + 1.
7.  Return list.

## 7.3.20 Invoke ( V, P \[ , argumentsList \] )

The abstract operation Invoke takes arguments V (an [ECMAScript language value](https://262.ecma-international.org/12.0/#sec-ecmascript-language-types)) and P (a property key) and optional argument argumentsList (a [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) of ECMAScript language values). It is used to call a method property of an [ECMAScript language value](https://262.ecma-international.org/12.0/#sec-ecmascript-language-types). V serves as both the lookup point for the property and the this value of the call. argumentsList is the list of arguments values passed to the method. If argumentsList is not present, a new empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) is used as its value. It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): [IsPropertyKey](https://262.ecma-international.org/12.0/#sec-ispropertykey)(P) is true.
2.  If argumentsList is not present, set argumentsList to a new empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).
3.  Let func be ? [GetV](https://262.ecma-international.org/12.0/#sec-getv)(V, P).
4.  Return ? [Call](https://262.ecma-international.org/12.0/#sec-call)(func, V, argumentsList).

## 7.3.21 OrdinaryHasInstance ( C, O )

The abstract operation OrdinaryHasInstance takes arguments C (an [ECMAScript language value](https://262.ecma-international.org/12.0/#sec-ecmascript-language-types)) and O. It implements the default algorithm for determining if O inherits from the instance object inheritance path provided by C. It performs the following steps when called:

1.  If [IsCallable](https://262.ecma-international.org/12.0/#sec-iscallable)(C) is false, return false.
2.  If C has a \[\[BoundTargetFunction\]\] internal slot, then
    1.  Let BC be C.\[\[BoundTargetFunction\]\].
    2.  Return ? [InstanceofOperator](https://262.ecma-international.org/12.0/#sec-instanceofoperator)(O, BC).
3.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(O) is not Object, return false.
4.  Let P be ? [Get](https://262.ecma-international.org/12.0/#sec-get-o-p)(C, "prototype").
5.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(P) is not Object, throw a TypeError exception.
6.  Repeat,
    1.  Set O to ? O.\[\[GetPrototypeOf\]\]().
    2.  If O is null, return false.
    3.  If [SameValue](https://262.ecma-international.org/12.0/#sec-samevalue)(P, O) is true, return true.

## 7.3.22 SpeciesConstructor ( O, defaultConstructor )

The abstract operation SpeciesConstructor takes arguments O (an Object) and defaultConstructor (a [constructor](https://262.ecma-international.org/12.0/#constructor)). It is used to retrieve the [constructor](https://262.ecma-international.org/12.0/#constructor) that should be used to create new objects that are derived from O. defaultConstructor is the [constructor](https://262.ecma-international.org/12.0/#constructor) to use if a [constructor](https://262.ecma-international.org/12.0/#constructor) [@@species](https://262.ecma-international.org/12.0/#sec-well-known-symbols) property cannot be found starting from O. It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(O) is Object.
2.  Let C be ? [Get](https://262.ecma-international.org/12.0/#sec-get-o-p)(O, "constructor").
3.  If C is undefined, return defaultConstructor.
4.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(C) is not Object, throw a TypeError exception.
5.  Let S be ? [Get](https://262.ecma-international.org/12.0/#sec-get-o-p)(C, [@@species](https://262.ecma-international.org/12.0/#sec-well-known-symbols)).
6.  If S is either undefined or null, return defaultConstructor.
7.  If [IsConstructor](https://262.ecma-international.org/12.0/#sec-isconstructor)(S) is true, return S.
8.  Throw a TypeError exception.

## 7.3.23 EnumerableOwnPropertyNames ( O, kind )

The abstract operation EnumerableOwnPropertyNames takes arguments O (an Object) and kind (one of key, value, or key+value). It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(O) is Object.
2.  Let ownKeys be ? O.\[\[OwnPropertyKeys\]\]().
3.  Let properties be a new empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).
4.  For each element key of ownKeys, do
    1.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(key) is String, then
        1.  Let desc be ? O.\[\[GetOwnProperty\]\](key).
        2.  If desc is not undefined and desc.\[\[Enumerable\]\] is true, then
            1.  If kind is key, append key to properties.
            2.  Else,
                1.  Let value be ? [Get](https://262.ecma-international.org/12.0/#sec-get-o-p)(O, key).
                2.  If kind is value, append value to properties.
                3.  Else,
                    1.  [Assert](https://262.ecma-international.org/12.0/#assert): kind is key+value.
                    2.  Let entry be ! [CreateArrayFromList](https://262.ecma-international.org/12.0/#sec-createarrayfromlist)(« key, value »).
                    3.  Append entry to properties.
5.  Return properties.

## 7.3.24 GetFunctionRealm ( obj )

The abstract operation GetFunctionRealm takes argument obj. It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): ! [IsCallable](https://262.ecma-international.org/12.0/#sec-iscallable)(obj) is true.
2.  If obj has a \[\[Realm\]\] internal slot, then
    1.  Return obj.\[\[Realm\]\].
3.  If obj is a [bound function exotic object](https://262.ecma-international.org/12.0/#bound-function-exotic-object), then
    1.  Let target be obj.\[\[BoundTargetFunction\]\].
    2.  Return ? [GetFunctionRealm](https://262.ecma-international.org/12.0/#sec-getfunctionrealm)(target).
4.  If obj is a [Proxy exotic object](https://262.ecma-international.org/12.0/#proxy-exotic-object), then
    1.  If obj.\[\[ProxyHandler\]\] is null, throw a TypeError exception.
    2.  Let proxyTarget be obj.\[\[ProxyTarget\]\].
    3.  Return ? [GetFunctionRealm](https://262.ecma-international.org/12.0/#sec-getfunctionrealm)(proxyTarget).
5.  Return [the current Realm Record](https://262.ecma-international.org/12.0/#current-realm).

Note

Step [5](https://262.ecma-international.org/12.0/#step-getfunctionrealm-default-return) will only be reached if obj is a non-standard function [exotic object](https://262.ecma-international.org/12.0/#exotic-object) that does not have a \[\[Realm\]\] internal slot.

## 7.3.25 CopyDataProperties ( target, source, excludedItems )

The abstract operation CopyDataProperties takes arguments target, source, and excludedItems. It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(target) is Object.
2.  [Assert](https://262.ecma-international.org/12.0/#assert): excludedItems is a [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) of property keys.
3.  If source is undefined or null, return target.
4.  Let from be ! [ToObject](https://262.ecma-international.org/12.0/#sec-toobject)(source).
5.  Let keys be ? from.\[\[OwnPropertyKeys\]\]().
6.  For each element nextKey of keys, do
    1.  Let excluded be false.
    2.  For each element e of excludedItems, do
        1.  If [SameValue](https://262.ecma-international.org/12.0/#sec-samevalue)(e, nextKey) is true, then
            1.  Set excluded to true.
    3.  If excluded is false, then
        1.  Let desc be ? from.\[\[GetOwnProperty\]\](nextKey).
        2.  If desc is not undefined and desc.\[\[Enumerable\]\] is true, then
            1.  Let propValue be ? [Get](https://262.ecma-international.org/12.0/#sec-get-o-p)(from, nextKey).
            2.  Perform ! [CreateDataPropertyOrThrow](https://262.ecma-international.org/12.0/#sec-createdatapropertyorthrow)(target, nextKey, propValue).
7.  Return target.

Note

The target passed in here is always a newly created object which is not directly accessible in case of an error being thrown.

## 7.4 Operations on Iterator Objects

See Common Iteration Interfaces ([27.1](https://262.ecma-international.org/12.0/#sec-iteration)).

## 7.4.1 GetIterator ( obj \[ , hint \[ , method \] \] )

The abstract operation GetIterator takes argument obj and optional arguments hint and method. It performs the following steps when called:

1.  If hint is not present, set hint to sync.
2.  [Assert](https://262.ecma-international.org/12.0/#assert): hint is either sync or async.
3.  If method is not present, then
    1.  If hint is async, then
        1.  Set method to ? [GetMethod](https://262.ecma-international.org/12.0/#sec-getmethod)(obj, [@@asyncIterator](https://262.ecma-international.org/12.0/#sec-well-known-symbols)).
        2.  If method is undefined, then
            1.  Let syncMethod be ? [GetMethod](https://262.ecma-international.org/12.0/#sec-getmethod)(obj, [@@iterator](https://262.ecma-international.org/12.0/#sec-well-known-symbols)).
            2.  Let syncIteratorRecord be ? [GetIterator](https://262.ecma-international.org/12.0/#sec-getiterator)(obj, sync, syncMethod).
            3.  Return ! [CreateAsyncFromSyncIterator](https://262.ecma-international.org/12.0/#sec-createasyncfromsynciterator)(syncIteratorRecord).
    2.  Otherwise, set method to ? [GetMethod](https://262.ecma-international.org/12.0/#sec-getmethod)(obj, [@@iterator](https://262.ecma-international.org/12.0/#sec-well-known-symbols)).
4.  Let iterator be ? [Call](https://262.ecma-international.org/12.0/#sec-call)(method, obj).
5.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(iterator) is not Object, throw a TypeError exception.
6.  Let nextMethod be ? [GetV](https://262.ecma-international.org/12.0/#sec-getv)(iterator, "next").
7.  Let iteratorRecord be the [Record](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) { \[\[Iterator\]\]: iterator, \[\[NextMethod\]\]: nextMethod, \[\[Done\]\]: false }.
8.  Return iteratorRecord.

## 7.4.2 IteratorNext ( iteratorRecord \[ , value \] )

The abstract operation IteratorNext takes argument iteratorRecord and optional argument value. It performs the following steps when called:

1.  If value is not present, then
    1.  Let result be ? [Call](https://262.ecma-international.org/12.0/#sec-call)(iteratorRecord.\[\[NextMethod\]\], iteratorRecord.\[\[Iterator\]\]).
2.  Else,
    1.  Let result be ? [Call](https://262.ecma-international.org/12.0/#sec-call)(iteratorRecord.\[\[NextMethod\]\], iteratorRecord.\[\[Iterator\]\], « value »).
3.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(result) is not Object, throw a TypeError exception.
4.  Return result.

## 7.4.3 IteratorComplete ( iterResult )

The abstract operation IteratorComplete takes argument iterResult. It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(iterResult) is Object.
2.  Return ! [ToBoolean](https://262.ecma-international.org/12.0/#sec-toboolean)(? [Get](https://262.ecma-international.org/12.0/#sec-get-o-p)(iterResult, "done")).

## 7.4.4 IteratorValue ( iterResult )

The abstract operation IteratorValue takes argument iterResult. It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(iterResult) is Object.
2.  Return ? [Get](https://262.ecma-international.org/12.0/#sec-get-o-p)(iterResult, "value").

## 7.4.5 IteratorStep ( iteratorRecord )

The abstract operation IteratorStep takes argument iteratorRecord. It requests the next value from iteratorRecord.\[\[Iterator\]\] by calling iteratorRecord.\[\[NextMethod\]\] and returns either false indicating that the iterator has reached its end or the IteratorResult object if a next value is available. It performs the following steps when called:

1.  Let result be ? [IteratorNext](https://262.ecma-international.org/12.0/#sec-iteratornext)(iteratorRecord).
2.  Let done be ? [IteratorComplete](https://262.ecma-international.org/12.0/#sec-iteratorcomplete)(result).
3.  If done is true, return false.
4.  Return result.

## 7.4.6 IteratorClose ( iteratorRecord, completion )

The abstract operation IteratorClose takes arguments iteratorRecord and completion. It is used to notify an iterator that it should perform any actions it would normally perform when it has reached its completed state. It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(iteratorRecord.\[\[Iterator\]\]) is Object.
2.  [Assert](https://262.ecma-international.org/12.0/#assert): completion is a [Completion Record](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type).
3.  Let iterator be iteratorRecord.\[\[Iterator\]\].
4.  Let innerResult be [GetMethod](https://262.ecma-international.org/12.0/#sec-getmethod)(iterator, "return").
5.  If innerResult.\[\[Type\]\] is normal, then
    1.  Let return be innerResult.\[\[Value\]\].
    2.  If return is undefined, return [Completion](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type)(completion).
    3.  Set innerResult to [Call](https://262.ecma-international.org/12.0/#sec-call)(return, iterator).
6.  If completion.\[\[Type\]\] is throw, return [Completion](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type)(completion).
7.  If innerResult.\[\[Type\]\] is throw, return [Completion](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type)(innerResult).
8.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(innerResult.\[\[Value\]\]) is not Object, throw a TypeError exception.
9.  Return [Completion](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type)(completion).

## 7.4.7 AsyncIteratorClose ( iteratorRecord, completion )

The abstract operation AsyncIteratorClose takes arguments iteratorRecord and completion. It is used to notify an async iterator that it should perform any actions it would normally perform when it has reached its completed state. It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(iteratorRecord.\[\[Iterator\]\]) is Object.
2.  [Assert](https://262.ecma-international.org/12.0/#assert): completion is a [Completion Record](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type).
3.  Let iterator be iteratorRecord.\[\[Iterator\]\].
4.  Let innerResult be [GetMethod](https://262.ecma-international.org/12.0/#sec-getmethod)(iterator, "return").
5.  If innerResult.\[\[Type\]\] is normal, then
    1.  Let return be innerResult.\[\[Value\]\].
    2.  If return is undefined, return [Completion](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type)(completion).
    3.  Set innerResult to [Call](https://262.ecma-international.org/12.0/#sec-call)(return, iterator).
    4.  If innerResult.\[\[Type\]\] is normal, set innerResult to [Await](https://262.ecma-international.org/12.0/#await)(innerResult.\[\[Value\]\]).
6.  If completion.\[\[Type\]\] is throw, return [Completion](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type)(completion).
7.  If innerResult.\[\[Type\]\] is throw, return [Completion](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type)(innerResult).
8.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(innerResult.\[\[Value\]\]) is not Object, throw a TypeError exception.
9.  Return [Completion](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type)(completion).

## 7.4.8 CreateIterResultObject ( value, done )

The abstract operation CreateIterResultObject takes arguments value and done. It creates an object that supports the IteratorResult interface. It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(done) is Boolean.
2.  Let obj be ! [OrdinaryObjectCreate](https://262.ecma-international.org/12.0/#sec-ordinaryobjectcreate)([%Object.prototype%](https://262.ecma-international.org/12.0/#sec-properties-of-the-object-prototype-object)).
3.  Perform ! [CreateDataPropertyOrThrow](https://262.ecma-international.org/12.0/#sec-createdatapropertyorthrow)(obj, "value", value).
4.  Perform ! [CreateDataPropertyOrThrow](https://262.ecma-international.org/12.0/#sec-createdatapropertyorthrow)(obj, "done", done).
5.  Return obj.

## 7.4.9 CreateListIteratorRecord ( list )

The abstract operation CreateListIteratorRecord takes argument list. It creates an Iterator ([27.1.1.2](https://262.ecma-international.org/12.0/#sec-iterator-interface)) object record whose next method returns the successive elements of list. It performs the following steps when called:

1.  Let closure be a new [Abstract Closure](https://262.ecma-international.org/12.0/#sec-abstract-closure) with no parameters that captures list and performs the following steps when called:
    1.  For each element E of list, do
        1.  Perform ? [Yield](https://262.ecma-international.org/12.0/#sec-yield)(E).
    2.  Return undefined.
2.  Let iterator be ! [CreateIteratorFromClosure](https://262.ecma-international.org/12.0/#sec-createiteratorfromclosure)(closure, empty, [%IteratorPrototype%](https://262.ecma-international.org/12.0/#sec-%iteratorprototype%-object)).
3.  Return [Record](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) { \[\[Iterator\]\]: iterator, \[\[NextMethod\]\]: %GeneratorFunction.prototype.prototype.next%, \[\[Done\]\]: false }.

Note

The list iterator object is never directly accessible to ECMAScript code.

## 7.4.10 IterableToList ( items \[ , method \] )

The abstract operation IterableToList takes argument items and optional argument method. It performs the following steps when called:

1.  If method is present, then
    1.  Let iteratorRecord be ? [GetIterator](https://262.ecma-international.org/12.0/#sec-getiterator)(items, sync, method).
2.  Else,
    1.  Let iteratorRecord be ? [GetIterator](https://262.ecma-international.org/12.0/#sec-getiterator)(items, sync).
3.  Let values be a new empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).
4.  Let next be true.
5.  Repeat, while next is not false,
    1.  Set next to ? [IteratorStep](https://262.ecma-international.org/12.0/#sec-iteratorstep)(iteratorRecord).
    2.  If next is not false, then
        1.  Let nextValue be ? [IteratorValue](https://262.ecma-international.org/12.0/#sec-iteratorvalue)(next).
        2.  Append nextValue to the end of the [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) values.
6.  Return values.

## 8 Syntax-Directed Operations

In addition to those defined in this section, specialized syntax-directed operations are defined throughout this specification.

## 8.1 Scope Analysis

## 8.1.1 Static Semantics: BoundNames

Note

"\*default\*" is used within this specification as a synthetic name for hoistable anonymous functions that are defined using export declarations.

[BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier) : [Identifier](https://262.ecma-international.org/12.0/#prod-Identifier)

1.  Return a [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) whose sole element is the [StringValue](https://262.ecma-international.org/12.0/#sec-static-semantics-stringvalue) of [Identifier](https://262.ecma-international.org/12.0/#prod-Identifier).

[BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier) : yield

1.  Return a [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) whose sole element is "yield".

[BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier) : await

1.  Return a [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) whose sole element is "await".

[LexicalDeclaration](https://262.ecma-international.org/12.0/#prod-LexicalDeclaration) : [LetOrConst](https://262.ecma-international.org/12.0/#prod-LetOrConst) [BindingList](https://262.ecma-international.org/12.0/#prod-BindingList) ;

1.  Return the [BoundNames](https://262.ecma-international.org/12.0/#sec-static-semantics-boundnames) of [BindingList](https://262.ecma-international.org/12.0/#prod-BindingList).

[BindingList](https://262.ecma-international.org/12.0/#prod-BindingList) : [BindingList](https://262.ecma-international.org/12.0/#prod-BindingList) , [LexicalBinding](https://262.ecma-international.org/12.0/#prod-LexicalBinding)

1.  Let names be the [BoundNames](https://262.ecma-international.org/12.0/#sec-static-semantics-boundnames) of [BindingList](https://262.ecma-international.org/12.0/#prod-BindingList).
2.  Append to names the elements of the [BoundNames](https://262.ecma-international.org/12.0/#sec-static-semantics-boundnames) of [LexicalBinding](https://262.ecma-international.org/12.0/#prod-LexicalBinding).
3.  Return names.

[LexicalBinding](https://262.ecma-international.org/12.0/#prod-LexicalBinding) : [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier) [Initializer](https://262.ecma-international.org/12.0/#prod-Initializer)opt

1.  Return the [BoundNames](https://262.ecma-international.org/12.0/#sec-static-semantics-boundnames) of [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier).

[LexicalBinding](https://262.ecma-international.org/12.0/#prod-LexicalBinding) : [BindingPattern](https://262.ecma-international.org/12.0/#prod-BindingPattern) [Initializer](https://262.ecma-international.org/12.0/#prod-Initializer)

1.  Return the [BoundNames](https://262.ecma-international.org/12.0/#sec-static-semantics-boundnames) of [BindingPattern](https://262.ecma-international.org/12.0/#prod-BindingPattern).

[VariableDeclarationList](https://262.ecma-international.org/12.0/#prod-VariableDeclarationList) : [VariableDeclarationList](https://262.ecma-international.org/12.0/#prod-VariableDeclarationList) , [VariableDeclaration](https://262.ecma-international.org/12.0/#prod-VariableDeclaration)

1.  Let names be [BoundNames](https://262.ecma-international.org/12.0/#sec-static-semantics-boundnames) of [VariableDeclarationList](https://262.ecma-international.org/12.0/#prod-VariableDeclarationList).
2.  Append to names the elements of [BoundNames](https://262.ecma-international.org/12.0/#sec-static-semantics-boundnames) of [VariableDeclaration](https://262.ecma-international.org/12.0/#prod-VariableDeclaration).
3.  Return names.

[VariableDeclaration](https://262.ecma-international.org/12.0/#prod-VariableDeclaration) : [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier) [Initializer](https://262.ecma-international.org/12.0/#prod-Initializer)opt

1.  Return the [BoundNames](https://262.ecma-international.org/12.0/#sec-static-semantics-boundnames) of [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier).

[VariableDeclaration](https://262.ecma-international.org/12.0/#prod-VariableDeclaration) : [BindingPattern](https://262.ecma-international.org/12.0/#prod-BindingPattern) [Initializer](https://262.ecma-international.org/12.0/#prod-Initializer)

1.  Return the [BoundNames](https://262.ecma-international.org/12.0/#sec-static-semantics-boundnames) of [BindingPattern](https://262.ecma-international.org/12.0/#prod-BindingPattern).

[ObjectBindingPattern](https://262.ecma-international.org/12.0/#prod-ObjectBindingPattern) : { }

1.  Return a new empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).

[ObjectBindingPattern](https://262.ecma-international.org/12.0/#prod-ObjectBindingPattern) : { [BindingPropertyList](https://262.ecma-international.org/12.0/#prod-BindingPropertyList) , [BindingRestProperty](https://262.ecma-international.org/12.0/#prod-BindingRestProperty) }

1.  Let names be [BoundNames](https://262.ecma-international.org/12.0/#sec-static-semantics-boundnames) of [BindingPropertyList](https://262.ecma-international.org/12.0/#prod-BindingPropertyList).
2.  Append to names the elements of [BoundNames](https://262.ecma-international.org/12.0/#sec-static-semantics-boundnames) of [BindingRestProperty](https://262.ecma-international.org/12.0/#prod-BindingRestProperty).
3.  Return names.

[ArrayBindingPattern](https://262.ecma-international.org/12.0/#prod-ArrayBindingPattern) : \[ [Elision](https://262.ecma-international.org/12.0/#prod-Elision)opt \]

1.  Return a new empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).

[ArrayBindingPattern](https://262.ecma-international.org/12.0/#prod-ArrayBindingPattern) : \[ [Elision](https://262.ecma-international.org/12.0/#prod-Elision)opt [BindingRestElement](https://262.ecma-international.org/12.0/#prod-BindingRestElement) \]

1.  Return the [BoundNames](https://262.ecma-international.org/12.0/#sec-static-semantics-boundnames) of [BindingRestElement](https://262.ecma-international.org/12.0/#prod-BindingRestElement).

[ArrayBindingPattern](https://262.ecma-international.org/12.0/#prod-ArrayBindingPattern) : \[ [BindingElementList](https://262.ecma-international.org/12.0/#prod-BindingElementList) , [Elision](https://262.ecma-international.org/12.0/#prod-Elision)opt \]

1.  Return the [BoundNames](https://262.ecma-international.org/12.0/#sec-static-semantics-boundnames) of [BindingElementList](https://262.ecma-international.org/12.0/#prod-BindingElementList).

[ArrayBindingPattern](https://262.ecma-international.org/12.0/#prod-ArrayBindingPattern) : \[ [BindingElementList](https://262.ecma-international.org/12.0/#prod-BindingElementList) , [Elision](https://262.ecma-international.org/12.0/#prod-Elision)opt [BindingRestElement](https://262.ecma-international.org/12.0/#prod-BindingRestElement) \]

1.  Let names be [BoundNames](https://262.ecma-international.org/12.0/#sec-static-semantics-boundnames) of [BindingElementList](https://262.ecma-international.org/12.0/#prod-BindingElementList).
2.  Append to names the elements of [BoundNames](https://262.ecma-international.org/12.0/#sec-static-semantics-boundnames) of [BindingRestElement](https://262.ecma-international.org/12.0/#prod-BindingRestElement).
3.  Return names.

[BindingPropertyList](https://262.ecma-international.org/12.0/#prod-BindingPropertyList) : [BindingPropertyList](https://262.ecma-international.org/12.0/#prod-BindingPropertyList) , [BindingProperty](https://262.ecma-international.org/12.0/#prod-BindingProperty)

1.  Let names be [BoundNames](https://262.ecma-international.org/12.0/#sec-static-semantics-boundnames) of [BindingPropertyList](https://262.ecma-international.org/12.0/#prod-BindingPropertyList).
2.  Append to names the elements of [BoundNames](https://262.ecma-international.org/12.0/#sec-static-semantics-boundnames) of [BindingProperty](https://262.ecma-international.org/12.0/#prod-BindingProperty).
3.  Return names.

[BindingElementList](https://262.ecma-international.org/12.0/#prod-BindingElementList) : [BindingElementList](https://262.ecma-international.org/12.0/#prod-BindingElementList) , [BindingElisionElement](https://262.ecma-international.org/12.0/#prod-BindingElisionElement)

1.  Let names be [BoundNames](https://262.ecma-international.org/12.0/#sec-static-semantics-boundnames) of [BindingElementList](https://262.ecma-international.org/12.0/#prod-BindingElementList).
2.  Append to names the elements of [BoundNames](https://262.ecma-international.org/12.0/#sec-static-semantics-boundnames) of [BindingElisionElement](https://262.ecma-international.org/12.0/#prod-BindingElisionElement).
3.  Return names.

[BindingElisionElement](https://262.ecma-international.org/12.0/#prod-BindingElisionElement) : [Elision](https://262.ecma-international.org/12.0/#prod-Elision)opt [BindingElement](https://262.ecma-international.org/12.0/#prod-BindingElement)

1.  Return [BoundNames](https://262.ecma-international.org/12.0/#sec-static-semantics-boundnames) of [BindingElement](https://262.ecma-international.org/12.0/#prod-BindingElement).

[BindingProperty](https://262.ecma-international.org/12.0/#prod-BindingProperty) : [PropertyName](https://262.ecma-international.org/12.0/#prod-PropertyName) : [BindingElement](https://262.ecma-international.org/12.0/#prod-BindingElement)

1.  Return the [BoundNames](https://262.ecma-international.org/12.0/#sec-static-semantics-boundnames) of [BindingElement](https://262.ecma-international.org/12.0/#prod-BindingElement).

[SingleNameBinding](https://262.ecma-international.org/12.0/#prod-SingleNameBinding) : [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier) [Initializer](https://262.ecma-international.org/12.0/#prod-Initializer)opt

1.  Return the [BoundNames](https://262.ecma-international.org/12.0/#sec-static-semantics-boundnames) of [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier).

[BindingElement](https://262.ecma-international.org/12.0/#prod-BindingElement) : [BindingPattern](https://262.ecma-international.org/12.0/#prod-BindingPattern) [Initializer](https://262.ecma-international.org/12.0/#prod-Initializer)opt

1.  Return the [BoundNames](https://262.ecma-international.org/12.0/#sec-static-semantics-boundnames) of [BindingPattern](https://262.ecma-international.org/12.0/#prod-BindingPattern).

[ForDeclaration](https://262.ecma-international.org/12.0/#prod-ForDeclaration) : [LetOrConst](https://262.ecma-international.org/12.0/#prod-LetOrConst) [ForBinding](https://262.ecma-international.org/12.0/#prod-ForBinding)

1.  Return the [BoundNames](https://262.ecma-international.org/12.0/#sec-static-semantics-boundnames) of [ForBinding](https://262.ecma-international.org/12.0/#prod-ForBinding).

[FunctionDeclaration](https://262.ecma-international.org/12.0/#prod-FunctionDeclaration) : function [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier) ( [FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters) ) { [FunctionBody](https://262.ecma-international.org/12.0/#prod-FunctionBody) }

1.  Return the [BoundNames](https://262.ecma-international.org/12.0/#sec-static-semantics-boundnames) of [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier).

[FunctionDeclaration](https://262.ecma-international.org/12.0/#prod-FunctionDeclaration) : function ( [FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters) ) { [FunctionBody](https://262.ecma-international.org/12.0/#prod-FunctionBody) }

1.  Return « "\*default\*" ».

[FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters) : \[empty\]

1.  Return a new empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).

[FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters) : [FormalParameterList](https://262.ecma-international.org/12.0/#prod-FormalParameterList) , [FunctionRestParameter](https://262.ecma-international.org/12.0/#prod-FunctionRestParameter)

1.  Let names be [BoundNames](https://262.ecma-international.org/12.0/#sec-static-semantics-boundnames) of [FormalParameterList](https://262.ecma-international.org/12.0/#prod-FormalParameterList).
2.  Append to names the [BoundNames](https://262.ecma-international.org/12.0/#sec-static-semantics-boundnames) of [FunctionRestParameter](https://262.ecma-international.org/12.0/#prod-FunctionRestParameter).
3.  Return names.

[FormalParameterList](https://262.ecma-international.org/12.0/#prod-FormalParameterList) : [FormalParameterList](https://262.ecma-international.org/12.0/#prod-FormalParameterList) , [FormalParameter](https://262.ecma-international.org/12.0/#prod-FormalParameter)

1.  Let names be [BoundNames](https://262.ecma-international.org/12.0/#sec-static-semantics-boundnames) of [FormalParameterList](https://262.ecma-international.org/12.0/#prod-FormalParameterList).
2.  Append to names the [BoundNames](https://262.ecma-international.org/12.0/#sec-static-semantics-boundnames) of [FormalParameter](https://262.ecma-international.org/12.0/#prod-FormalParameter).
3.  Return names.

[ArrowParameters](https://262.ecma-international.org/12.0/#prod-ArrowParameters) : [CoverParenthesizedExpressionAndArrowParameterList](https://262.ecma-international.org/12.0/#prod-CoverParenthesizedExpressionAndArrowParameterList)

1.  Let formals be [CoveredFormalsList](https://262.ecma-international.org/12.0/#sec-static-semantics-coveredformalslist) of [CoverParenthesizedExpressionAndArrowParameterList](https://262.ecma-international.org/12.0/#prod-CoverParenthesizedExpressionAndArrowParameterList).
2.  Return the [BoundNames](https://262.ecma-international.org/12.0/#sec-static-semantics-boundnames) of formals.

[GeneratorDeclaration](https://262.ecma-international.org/12.0/#prod-GeneratorDeclaration) : function \* [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier) ( [FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters) ) { [GeneratorBody](https://262.ecma-international.org/12.0/#prod-GeneratorBody) }

1.  Return the [BoundNames](https://262.ecma-international.org/12.0/#sec-static-semantics-boundnames) of [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier).

[GeneratorDeclaration](https://262.ecma-international.org/12.0/#prod-GeneratorDeclaration) : function \* ( [FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters) ) { [GeneratorBody](https://262.ecma-international.org/12.0/#prod-GeneratorBody) }

1.  Return « "\*default\*" ».

[AsyncGeneratorDeclaration](https://262.ecma-international.org/12.0/#prod-AsyncGeneratorDeclaration) : async function \* [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier) ( [FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters) ) { [AsyncGeneratorBody](https://262.ecma-international.org/12.0/#prod-AsyncGeneratorBody) }

1.  Return the [BoundNames](https://262.ecma-international.org/12.0/#sec-static-semantics-boundnames) of [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier).

[AsyncGeneratorDeclaration](https://262.ecma-international.org/12.0/#prod-AsyncGeneratorDeclaration) : async function \* ( [FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters) ) { [AsyncGeneratorBody](https://262.ecma-international.org/12.0/#prod-AsyncGeneratorBody) }

1.  Return « "\*default\*" ».

[ClassDeclaration](https://262.ecma-international.org/12.0/#prod-ClassDeclaration) : class [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier) [ClassTail](https://262.ecma-international.org/12.0/#prod-ClassTail)

1.  Return the [BoundNames](https://262.ecma-international.org/12.0/#sec-static-semantics-boundnames) of [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier).

[ClassDeclaration](https://262.ecma-international.org/12.0/#prod-ClassDeclaration) : class [ClassTail](https://262.ecma-international.org/12.0/#prod-ClassTail)

1.  Return « "\*default\*" ».

[AsyncFunctionDeclaration](https://262.ecma-international.org/12.0/#prod-AsyncFunctionDeclaration) : async function [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier) ( [FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters) ) { [AsyncFunctionBody](https://262.ecma-international.org/12.0/#prod-AsyncFunctionBody) }

1.  Return the [BoundNames](https://262.ecma-international.org/12.0/#sec-static-semantics-boundnames) of [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier).

[AsyncFunctionDeclaration](https://262.ecma-international.org/12.0/#prod-AsyncFunctionDeclaration) : async function ( [FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters) ) { [AsyncFunctionBody](https://262.ecma-international.org/12.0/#prod-AsyncFunctionBody) }

1.  Return « "\*default\*" ».

[CoverCallExpressionAndAsyncArrowHead](https://262.ecma-international.org/12.0/#prod-CoverCallExpressionAndAsyncArrowHead) : [MemberExpression](https://262.ecma-international.org/12.0/#prod-MemberExpression) [Arguments](https://262.ecma-international.org/12.0/#prod-Arguments)

1.  Let head be [CoveredAsyncArrowHead](https://262.ecma-international.org/12.0/#sec-async-arrow-function-definitions-static-semantics-CoveredAsyncArrowHead) of [CoverCallExpressionAndAsyncArrowHead](https://262.ecma-international.org/12.0/#prod-CoverCallExpressionAndAsyncArrowHead).
2.  Return the [BoundNames](https://262.ecma-international.org/12.0/#sec-static-semantics-boundnames) of head.

[ImportDeclaration](https://262.ecma-international.org/12.0/#prod-ImportDeclaration) : import [ImportClause](https://262.ecma-international.org/12.0/#prod-ImportClause) [FromClause](https://262.ecma-international.org/12.0/#prod-FromClause) ;

1.  Return the [BoundNames](https://262.ecma-international.org/12.0/#sec-static-semantics-boundnames) of [ImportClause](https://262.ecma-international.org/12.0/#prod-ImportClause).

[ImportDeclaration](https://262.ecma-international.org/12.0/#prod-ImportDeclaration) : import [ModuleSpecifier](https://262.ecma-international.org/12.0/#prod-ModuleSpecifier) ;

1.  Return a new empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).

[ImportClause](https://262.ecma-international.org/12.0/#prod-ImportClause) : [ImportedDefaultBinding](https://262.ecma-international.org/12.0/#prod-ImportedDefaultBinding) , [NameSpaceImport](https://262.ecma-international.org/12.0/#prod-NameSpaceImport)

1.  Let names be the [BoundNames](https://262.ecma-international.org/12.0/#sec-static-semantics-boundnames) of [ImportedDefaultBinding](https://262.ecma-international.org/12.0/#prod-ImportedDefaultBinding).
2.  Append to names the elements of the [BoundNames](https://262.ecma-international.org/12.0/#sec-static-semantics-boundnames) of [NameSpaceImport](https://262.ecma-international.org/12.0/#prod-NameSpaceImport).
3.  Return names.

[ImportClause](https://262.ecma-international.org/12.0/#prod-ImportClause) : [ImportedDefaultBinding](https://262.ecma-international.org/12.0/#prod-ImportedDefaultBinding) , [NamedImports](https://262.ecma-international.org/12.0/#prod-NamedImports)

1.  Let names be the [BoundNames](https://262.ecma-international.org/12.0/#sec-static-semantics-boundnames) of [ImportedDefaultBinding](https://262.ecma-international.org/12.0/#prod-ImportedDefaultBinding).
2.  Append to names the elements of the [BoundNames](https://262.ecma-international.org/12.0/#sec-static-semantics-boundnames) of [NamedImports](https://262.ecma-international.org/12.0/#prod-NamedImports).
3.  Return names.

[NamedImports](https://262.ecma-international.org/12.0/#prod-NamedImports) : { }

1.  Return a new empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).

[ImportsList](https://262.ecma-international.org/12.0/#prod-ImportsList) : [ImportsList](https://262.ecma-international.org/12.0/#prod-ImportsList) , [ImportSpecifier](https://262.ecma-international.org/12.0/#prod-ImportSpecifier)

1.  Let names be the [BoundNames](https://262.ecma-international.org/12.0/#sec-static-semantics-boundnames) of [ImportsList](https://262.ecma-international.org/12.0/#prod-ImportsList).
2.  Append to names the elements of the [BoundNames](https://262.ecma-international.org/12.0/#sec-static-semantics-boundnames) of [ImportSpecifier](https://262.ecma-international.org/12.0/#prod-ImportSpecifier).
3.  Return names.

[ImportSpecifier](https://262.ecma-international.org/12.0/#prod-ImportSpecifier) : [IdentifierName](https://262.ecma-international.org/12.0/#prod-IdentifierName) as [ImportedBinding](https://262.ecma-international.org/12.0/#prod-ImportedBinding)

1.  Return the [BoundNames](https://262.ecma-international.org/12.0/#sec-static-semantics-boundnames) of [ImportedBinding](https://262.ecma-international.org/12.0/#prod-ImportedBinding).

[ExportDeclaration](https://262.ecma-international.org/12.0/#prod-ExportDeclaration) : export [ExportFromClause](https://262.ecma-international.org/12.0/#prod-ExportFromClause) [FromClause](https://262.ecma-international.org/12.0/#prod-FromClause) ; export [NamedExports](https://262.ecma-international.org/12.0/#prod-NamedExports) ;

1.  Return a new empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).

[ExportDeclaration](https://262.ecma-international.org/12.0/#prod-ExportDeclaration) : export [VariableStatement](https://262.ecma-international.org/12.0/#prod-VariableStatement)

1.  Return the [BoundNames](https://262.ecma-international.org/12.0/#sec-static-semantics-boundnames) of [VariableStatement](https://262.ecma-international.org/12.0/#prod-VariableStatement).

[ExportDeclaration](https://262.ecma-international.org/12.0/#prod-ExportDeclaration) : export [Declaration](https://262.ecma-international.org/12.0/#prod-Declaration)

1.  Return the [BoundNames](https://262.ecma-international.org/12.0/#sec-static-semantics-boundnames) of [Declaration](https://262.ecma-international.org/12.0/#prod-Declaration).

[ExportDeclaration](https://262.ecma-international.org/12.0/#prod-ExportDeclaration) : export default [HoistableDeclaration](https://262.ecma-international.org/12.0/#prod-HoistableDeclaration)

1.  Let declarationNames be the [BoundNames](https://262.ecma-international.org/12.0/#sec-static-semantics-boundnames) of [HoistableDeclaration](https://262.ecma-international.org/12.0/#prod-HoistableDeclaration).
2.  If declarationNames does not include the element "\*default\*", append "\*default\*" to declarationNames.
3.  Return declarationNames.

[ExportDeclaration](https://262.ecma-international.org/12.0/#prod-ExportDeclaration) : export default [ClassDeclaration](https://262.ecma-international.org/12.0/#prod-ClassDeclaration)

1.  Let declarationNames be the [BoundNames](https://262.ecma-international.org/12.0/#sec-static-semantics-boundnames) of [ClassDeclaration](https://262.ecma-international.org/12.0/#prod-ClassDeclaration).
2.  If declarationNames does not include the element "\*default\*", append "\*default\*" to declarationNames.
3.  Return declarationNames.

[ExportDeclaration](https://262.ecma-international.org/12.0/#prod-ExportDeclaration) : export default [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression) ;

1.  Return « "\*default\*" ».

## 8.1.2 Static Semantics: DeclarationPart

[HoistableDeclaration](https://262.ecma-international.org/12.0/#prod-HoistableDeclaration) : [FunctionDeclaration](https://262.ecma-international.org/12.0/#prod-FunctionDeclaration)

1.  Return [FunctionDeclaration](https://262.ecma-international.org/12.0/#prod-FunctionDeclaration).

[HoistableDeclaration](https://262.ecma-international.org/12.0/#prod-HoistableDeclaration) : [GeneratorDeclaration](https://262.ecma-international.org/12.0/#prod-GeneratorDeclaration)

1.  Return [GeneratorDeclaration](https://262.ecma-international.org/12.0/#prod-GeneratorDeclaration).

[HoistableDeclaration](https://262.ecma-international.org/12.0/#prod-HoistableDeclaration) : [AsyncFunctionDeclaration](https://262.ecma-international.org/12.0/#prod-AsyncFunctionDeclaration)

1.  Return [AsyncFunctionDeclaration](https://262.ecma-international.org/12.0/#prod-AsyncFunctionDeclaration).

[HoistableDeclaration](https://262.ecma-international.org/12.0/#prod-HoistableDeclaration) : [AsyncGeneratorDeclaration](https://262.ecma-international.org/12.0/#prod-AsyncGeneratorDeclaration)

1.  Return [AsyncGeneratorDeclaration](https://262.ecma-international.org/12.0/#prod-AsyncGeneratorDeclaration).

[Declaration](https://262.ecma-international.org/12.0/#prod-Declaration) : [ClassDeclaration](https://262.ecma-international.org/12.0/#prod-ClassDeclaration)

1.  Return [ClassDeclaration](https://262.ecma-international.org/12.0/#prod-ClassDeclaration).

[Declaration](https://262.ecma-international.org/12.0/#prod-Declaration) : [LexicalDeclaration](https://262.ecma-international.org/12.0/#prod-LexicalDeclaration)

1.  Return [LexicalDeclaration](https://262.ecma-international.org/12.0/#prod-LexicalDeclaration).

## 8.1.3 Static Semantics: IsConstantDeclaration

[LexicalDeclaration](https://262.ecma-international.org/12.0/#prod-LexicalDeclaration) : [LetOrConst](https://262.ecma-international.org/12.0/#prod-LetOrConst) [BindingList](https://262.ecma-international.org/12.0/#prod-BindingList) ;

1.  Return [IsConstantDeclaration](https://262.ecma-international.org/12.0/#sec-static-semantics-isconstantdeclaration) of [LetOrConst](https://262.ecma-international.org/12.0/#prod-LetOrConst).

[LetOrConst](https://262.ecma-international.org/12.0/#prod-LetOrConst) : let

1.  Return false.

[LetOrConst](https://262.ecma-international.org/12.0/#prod-LetOrConst) : const

1.  Return true.

[FunctionDeclaration](https://262.ecma-international.org/12.0/#prod-FunctionDeclaration) : function [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier) ( [FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters) ) { [FunctionBody](https://262.ecma-international.org/12.0/#prod-FunctionBody) } function ( [FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters) ) { [FunctionBody](https://262.ecma-international.org/12.0/#prod-FunctionBody) } [GeneratorDeclaration](https://262.ecma-international.org/12.0/#prod-GeneratorDeclaration) : function \* [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier) ( [FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters) ) { [GeneratorBody](https://262.ecma-international.org/12.0/#prod-GeneratorBody) } function \* ( [FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters) ) { [GeneratorBody](https://262.ecma-international.org/12.0/#prod-GeneratorBody) } [AsyncGeneratorDeclaration](https://262.ecma-international.org/12.0/#prod-AsyncGeneratorDeclaration) : async function \* [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier) ( [FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters) ) { [AsyncGeneratorBody](https://262.ecma-international.org/12.0/#prod-AsyncGeneratorBody) } async function \* ( [FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters) ) { [AsyncGeneratorBody](https://262.ecma-international.org/12.0/#prod-AsyncGeneratorBody) } [AsyncFunctionDeclaration](https://262.ecma-international.org/12.0/#prod-AsyncFunctionDeclaration) : async function [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier) ( [FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters) ) { [AsyncFunctionBody](https://262.ecma-international.org/12.0/#prod-AsyncFunctionBody) } async function ( [FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters) ) { [AsyncFunctionBody](https://262.ecma-international.org/12.0/#prod-AsyncFunctionBody) }

1.  Return false.

[ClassDeclaration](https://262.ecma-international.org/12.0/#prod-ClassDeclaration) : class [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier) [ClassTail](https://262.ecma-international.org/12.0/#prod-ClassTail) class [ClassTail](https://262.ecma-international.org/12.0/#prod-ClassTail)

1.  Return false.

[ExportDeclaration](https://262.ecma-international.org/12.0/#prod-ExportDeclaration) : export [ExportFromClause](https://262.ecma-international.org/12.0/#prod-ExportFromClause) [FromClause](https://262.ecma-international.org/12.0/#prod-FromClause) ; export [NamedExports](https://262.ecma-international.org/12.0/#prod-NamedExports) ; export default [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression) ;

1.  Return false.

Note

It is not necessary to treat `export default` [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression) as a constant declaration because there is no syntax that permits assignment to the internal bound name used to reference a module's default object.

## 8.1.4 Static Semantics: LexicallyDeclaredNames

[Block](https://262.ecma-international.org/12.0/#prod-Block) : { }

1.  Return a new empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).

[StatementList](https://262.ecma-international.org/12.0/#prod-StatementList) : [StatementList](https://262.ecma-international.org/12.0/#prod-StatementList) [StatementListItem](https://262.ecma-international.org/12.0/#prod-StatementListItem)

1.  Let names be [LexicallyDeclaredNames](https://262.ecma-international.org/12.0/#sec-static-semantics-lexicallydeclarednames) of [StatementList](https://262.ecma-international.org/12.0/#prod-StatementList).
2.  Append to names the elements of the [LexicallyDeclaredNames](https://262.ecma-international.org/12.0/#sec-static-semantics-lexicallydeclarednames) of [StatementListItem](https://262.ecma-international.org/12.0/#prod-StatementListItem).
3.  Return names.

[StatementListItem](https://262.ecma-international.org/12.0/#prod-StatementListItem) : [Statement](https://262.ecma-international.org/12.0/#prod-Statement)

1.  If [Statement](https://262.ecma-international.org/12.0/#prod-Statement) is [Statement](https://262.ecma-international.org/12.0/#prod-Statement) : [LabelledStatement](https://262.ecma-international.org/12.0/#prod-LabelledStatement) , return [LexicallyDeclaredNames](https://262.ecma-international.org/12.0/#sec-static-semantics-lexicallydeclarednames) of [LabelledStatement](https://262.ecma-international.org/12.0/#prod-LabelledStatement).
2.  Return a new empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).

[StatementListItem](https://262.ecma-international.org/12.0/#prod-StatementListItem) : [Declaration](https://262.ecma-international.org/12.0/#prod-Declaration)

1.  Return the [BoundNames](https://262.ecma-international.org/12.0/#sec-static-semantics-boundnames) of [Declaration](https://262.ecma-international.org/12.0/#prod-Declaration).

[CaseBlock](https://262.ecma-international.org/12.0/#prod-CaseBlock) : { }

1.  Return a new empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).

[CaseBlock](https://262.ecma-international.org/12.0/#prod-CaseBlock) : { [CaseClauses](https://262.ecma-international.org/12.0/#prod-CaseClauses)opt [DefaultClause](https://262.ecma-international.org/12.0/#prod-DefaultClause) [CaseClauses](https://262.ecma-international.org/12.0/#prod-CaseClauses)opt }

1.  If the first [CaseClauses](https://262.ecma-international.org/12.0/#prod-CaseClauses) is present, let names be the [LexicallyDeclaredNames](https://262.ecma-international.org/12.0/#sec-static-semantics-lexicallydeclarednames) of the first [CaseClauses](https://262.ecma-international.org/12.0/#prod-CaseClauses).
2.  Else, let names be a new empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).
3.  Append to names the elements of the [LexicallyDeclaredNames](https://262.ecma-international.org/12.0/#sec-static-semantics-lexicallydeclarednames) of [DefaultClause](https://262.ecma-international.org/12.0/#prod-DefaultClause).
4.  If the second [CaseClauses](https://262.ecma-international.org/12.0/#prod-CaseClauses) is not present, return names.
5.  Return the result of appending to names the elements of the [LexicallyDeclaredNames](https://262.ecma-international.org/12.0/#sec-static-semantics-lexicallydeclarednames) of the second [CaseClauses](https://262.ecma-international.org/12.0/#prod-CaseClauses).

[CaseClauses](https://262.ecma-international.org/12.0/#prod-CaseClauses) : [CaseClauses](https://262.ecma-international.org/12.0/#prod-CaseClauses) [CaseClause](https://262.ecma-international.org/12.0/#prod-CaseClause)

1.  Let names be [LexicallyDeclaredNames](https://262.ecma-international.org/12.0/#sec-static-semantics-lexicallydeclarednames) of [CaseClauses](https://262.ecma-international.org/12.0/#prod-CaseClauses).
2.  Append to names the elements of the [LexicallyDeclaredNames](https://262.ecma-international.org/12.0/#sec-static-semantics-lexicallydeclarednames) of [CaseClause](https://262.ecma-international.org/12.0/#prod-CaseClause).
3.  Return names.

[CaseClause](https://262.ecma-international.org/12.0/#prod-CaseClause) : case [Expression](https://262.ecma-international.org/12.0/#prod-Expression) : [StatementList](https://262.ecma-international.org/12.0/#prod-StatementList)opt

1.  If the [StatementList](https://262.ecma-international.org/12.0/#prod-StatementList) is present, return the [LexicallyDeclaredNames](https://262.ecma-international.org/12.0/#sec-static-semantics-lexicallydeclarednames) of [StatementList](https://262.ecma-international.org/12.0/#prod-StatementList).
2.  Return a new empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).

[DefaultClause](https://262.ecma-international.org/12.0/#prod-DefaultClause) : default : [StatementList](https://262.ecma-international.org/12.0/#prod-StatementList)opt

1.  If the [StatementList](https://262.ecma-international.org/12.0/#prod-StatementList) is present, return the [LexicallyDeclaredNames](https://262.ecma-international.org/12.0/#sec-static-semantics-lexicallydeclarednames) of [StatementList](https://262.ecma-international.org/12.0/#prod-StatementList).
2.  Return a new empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).

[LabelledStatement](https://262.ecma-international.org/12.0/#prod-LabelledStatement) : [LabelIdentifier](https://262.ecma-international.org/12.0/#prod-LabelIdentifier) : [LabelledItem](https://262.ecma-international.org/12.0/#prod-LabelledItem)

1.  Return the [LexicallyDeclaredNames](https://262.ecma-international.org/12.0/#sec-static-semantics-lexicallydeclarednames) of [LabelledItem](https://262.ecma-international.org/12.0/#prod-LabelledItem).

[LabelledItem](https://262.ecma-international.org/12.0/#prod-LabelledItem) : [Statement](https://262.ecma-international.org/12.0/#prod-Statement)

1.  Return a new empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).

[LabelledItem](https://262.ecma-international.org/12.0/#prod-LabelledItem) : [FunctionDeclaration](https://262.ecma-international.org/12.0/#prod-FunctionDeclaration)

1.  Return [BoundNames](https://262.ecma-international.org/12.0/#sec-static-semantics-boundnames) of [FunctionDeclaration](https://262.ecma-international.org/12.0/#prod-FunctionDeclaration).

[FunctionStatementList](https://262.ecma-international.org/12.0/#prod-FunctionStatementList) : \[empty\]

1.  Return a new empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).

[FunctionStatementList](https://262.ecma-international.org/12.0/#prod-FunctionStatementList) : [StatementList](https://262.ecma-international.org/12.0/#prod-StatementList)

1.  Return [TopLevelLexicallyDeclaredNames](https://262.ecma-international.org/12.0/#sec-static-semantics-toplevellexicallydeclarednames) of [StatementList](https://262.ecma-international.org/12.0/#prod-StatementList).

[ConciseBody](https://262.ecma-international.org/12.0/#prod-ConciseBody) : [ExpressionBody](https://262.ecma-international.org/12.0/#prod-ExpressionBody)

1.  Return a new empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).

[AsyncConciseBody](https://262.ecma-international.org/12.0/#prod-AsyncConciseBody) : [ExpressionBody](https://262.ecma-international.org/12.0/#prod-ExpressionBody)

1.  Return a new empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).

[ScriptBody](https://262.ecma-international.org/12.0/#prod-ScriptBody) : [StatementList](https://262.ecma-international.org/12.0/#prod-StatementList)

1.  Return [TopLevelLexicallyDeclaredNames](https://262.ecma-international.org/12.0/#sec-static-semantics-toplevellexicallydeclarednames) of [StatementList](https://262.ecma-international.org/12.0/#prod-StatementList).

Note 1

At the top level of a [Script](https://262.ecma-international.org/12.0/#prod-Script), function declarations are treated like var declarations rather than like lexical declarations.

Note 2

The LexicallyDeclaredNames of a [Module](https://262.ecma-international.org/12.0/#prod-Module) includes the names of all of its imported bindings.

[ModuleItemList](https://262.ecma-international.org/12.0/#prod-ModuleItemList) : [ModuleItemList](https://262.ecma-international.org/12.0/#prod-ModuleItemList) [ModuleItem](https://262.ecma-international.org/12.0/#prod-ModuleItem)

1.  Let names be [LexicallyDeclaredNames](https://262.ecma-international.org/12.0/#sec-static-semantics-lexicallydeclarednames) of [ModuleItemList](https://262.ecma-international.org/12.0/#prod-ModuleItemList).
2.  Append to names the elements of the [LexicallyDeclaredNames](https://262.ecma-international.org/12.0/#sec-static-semantics-lexicallydeclarednames) of [ModuleItem](https://262.ecma-international.org/12.0/#prod-ModuleItem).
3.  Return names.

[ModuleItem](https://262.ecma-international.org/12.0/#prod-ModuleItem) : [ImportDeclaration](https://262.ecma-international.org/12.0/#prod-ImportDeclaration)

1.  Return the [BoundNames](https://262.ecma-international.org/12.0/#sec-static-semantics-boundnames) of [ImportDeclaration](https://262.ecma-international.org/12.0/#prod-ImportDeclaration).

[ModuleItem](https://262.ecma-international.org/12.0/#prod-ModuleItem) : [ExportDeclaration](https://262.ecma-international.org/12.0/#prod-ExportDeclaration)

1.  If [ExportDeclaration](https://262.ecma-international.org/12.0/#prod-ExportDeclaration) is `export` [VariableStatement](https://262.ecma-international.org/12.0/#prod-VariableStatement), return a new empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).
2.  Return the [BoundNames](https://262.ecma-international.org/12.0/#sec-static-semantics-boundnames) of [ExportDeclaration](https://262.ecma-international.org/12.0/#prod-ExportDeclaration).

[ModuleItem](https://262.ecma-international.org/12.0/#prod-ModuleItem) : [StatementListItem](https://262.ecma-international.org/12.0/#prod-StatementListItem)

1.  Return [LexicallyDeclaredNames](https://262.ecma-international.org/12.0/#sec-static-semantics-lexicallydeclarednames) of [StatementListItem](https://262.ecma-international.org/12.0/#prod-StatementListItem).

Note 3

At the top level of a [Module](https://262.ecma-international.org/12.0/#prod-Module), function declarations are treated like lexical declarations rather than like var declarations.

## 8.1.5 Static Semantics: LexicallyScopedDeclarations

[StatementList](https://262.ecma-international.org/12.0/#prod-StatementList) : [StatementList](https://262.ecma-international.org/12.0/#prod-StatementList) [StatementListItem](https://262.ecma-international.org/12.0/#prod-StatementListItem)

1.  Let declarations be [LexicallyScopedDeclarations](https://262.ecma-international.org/12.0/#sec-static-semantics-lexicallyscopeddeclarations) of [StatementList](https://262.ecma-international.org/12.0/#prod-StatementList).
2.  Append to declarations the elements of the [LexicallyScopedDeclarations](https://262.ecma-international.org/12.0/#sec-static-semantics-lexicallyscopeddeclarations) of [StatementListItem](https://262.ecma-international.org/12.0/#prod-StatementListItem).
3.  Return declarations.

[StatementListItem](https://262.ecma-international.org/12.0/#prod-StatementListItem) : [Statement](https://262.ecma-international.org/12.0/#prod-Statement)

1.  If [Statement](https://262.ecma-international.org/12.0/#prod-Statement) is [Statement](https://262.ecma-international.org/12.0/#prod-Statement) : [LabelledStatement](https://262.ecma-international.org/12.0/#prod-LabelledStatement) , return [LexicallyScopedDeclarations](https://262.ecma-international.org/12.0/#sec-static-semantics-lexicallyscopeddeclarations) of [LabelledStatement](https://262.ecma-international.org/12.0/#prod-LabelledStatement).
2.  Return a new empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).

[StatementListItem](https://262.ecma-international.org/12.0/#prod-StatementListItem) : [Declaration](https://262.ecma-international.org/12.0/#prod-Declaration)

1.  Return a [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) whose sole element is [DeclarationPart](https://262.ecma-international.org/12.0/#sec-static-semantics-declarationpart) of [Declaration](https://262.ecma-international.org/12.0/#prod-Declaration).

[CaseBlock](https://262.ecma-international.org/12.0/#prod-CaseBlock) : { }

1.  Return a new empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).

[CaseBlock](https://262.ecma-international.org/12.0/#prod-CaseBlock) : { [CaseClauses](https://262.ecma-international.org/12.0/#prod-CaseClauses)opt [DefaultClause](https://262.ecma-international.org/12.0/#prod-DefaultClause) [CaseClauses](https://262.ecma-international.org/12.0/#prod-CaseClauses)opt }

1.  If the first [CaseClauses](https://262.ecma-international.org/12.0/#prod-CaseClauses) is present, let declarations be the [LexicallyScopedDeclarations](https://262.ecma-international.org/12.0/#sec-static-semantics-lexicallyscopeddeclarations) of the first [CaseClauses](https://262.ecma-international.org/12.0/#prod-CaseClauses).
2.  Else, let declarations be a new empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).
3.  Append to declarations the elements of the [LexicallyScopedDeclarations](https://262.ecma-international.org/12.0/#sec-static-semantics-lexicallyscopeddeclarations) of [DefaultClause](https://262.ecma-international.org/12.0/#prod-DefaultClause).
4.  If the second [CaseClauses](https://262.ecma-international.org/12.0/#prod-CaseClauses) is not present, return declarations.
5.  Return the result of appending to declarations the elements of the [LexicallyScopedDeclarations](https://262.ecma-international.org/12.0/#sec-static-semantics-lexicallyscopeddeclarations) of the second [CaseClauses](https://262.ecma-international.org/12.0/#prod-CaseClauses).

[CaseClauses](https://262.ecma-international.org/12.0/#prod-CaseClauses) : [CaseClauses](https://262.ecma-international.org/12.0/#prod-CaseClauses) [CaseClause](https://262.ecma-international.org/12.0/#prod-CaseClause)

1.  Let declarations be [LexicallyScopedDeclarations](https://262.ecma-international.org/12.0/#sec-static-semantics-lexicallyscopeddeclarations) of [CaseClauses](https://262.ecma-international.org/12.0/#prod-CaseClauses).
2.  Append to declarations the elements of the [LexicallyScopedDeclarations](https://262.ecma-international.org/12.0/#sec-static-semantics-lexicallyscopeddeclarations) of [CaseClause](https://262.ecma-international.org/12.0/#prod-CaseClause).
3.  Return declarations.

[CaseClause](https://262.ecma-international.org/12.0/#prod-CaseClause) : case [Expression](https://262.ecma-international.org/12.0/#prod-Expression) : [StatementList](https://262.ecma-international.org/12.0/#prod-StatementList)opt

1.  If the [StatementList](https://262.ecma-international.org/12.0/#prod-StatementList) is present, return the [LexicallyScopedDeclarations](https://262.ecma-international.org/12.0/#sec-static-semantics-lexicallyscopeddeclarations) of [StatementList](https://262.ecma-international.org/12.0/#prod-StatementList).
2.  Return a new empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).

[DefaultClause](https://262.ecma-international.org/12.0/#prod-DefaultClause) : default : [StatementList](https://262.ecma-international.org/12.0/#prod-StatementList)opt

1.  If the [StatementList](https://262.ecma-international.org/12.0/#prod-StatementList) is present, return the [LexicallyScopedDeclarations](https://262.ecma-international.org/12.0/#sec-static-semantics-lexicallyscopeddeclarations) of [StatementList](https://262.ecma-international.org/12.0/#prod-StatementList).
2.  Return a new empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).

[LabelledStatement](https://262.ecma-international.org/12.0/#prod-LabelledStatement) : [LabelIdentifier](https://262.ecma-international.org/12.0/#prod-LabelIdentifier) : [LabelledItem](https://262.ecma-international.org/12.0/#prod-LabelledItem)

1.  Return the [LexicallyScopedDeclarations](https://262.ecma-international.org/12.0/#sec-static-semantics-lexicallyscopeddeclarations) of [LabelledItem](https://262.ecma-international.org/12.0/#prod-LabelledItem).

[LabelledItem](https://262.ecma-international.org/12.0/#prod-LabelledItem) : [Statement](https://262.ecma-international.org/12.0/#prod-Statement)

1.  Return a new empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).

[LabelledItem](https://262.ecma-international.org/12.0/#prod-LabelledItem) : [FunctionDeclaration](https://262.ecma-international.org/12.0/#prod-FunctionDeclaration)

1.  Return a [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) whose sole element is [FunctionDeclaration](https://262.ecma-international.org/12.0/#prod-FunctionDeclaration).

[FunctionStatementList](https://262.ecma-international.org/12.0/#prod-FunctionStatementList) : \[empty\]

1.  Return a new empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).

[FunctionStatementList](https://262.ecma-international.org/12.0/#prod-FunctionStatementList) : [StatementList](https://262.ecma-international.org/12.0/#prod-StatementList)

1.  Return the [TopLevelLexicallyScopedDeclarations](https://262.ecma-international.org/12.0/#sec-static-semantics-toplevellexicallyscopeddeclarations) of [StatementList](https://262.ecma-international.org/12.0/#prod-StatementList).

[ConciseBody](https://262.ecma-international.org/12.0/#prod-ConciseBody) : [ExpressionBody](https://262.ecma-international.org/12.0/#prod-ExpressionBody)

1.  Return a new empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).

[AsyncConciseBody](https://262.ecma-international.org/12.0/#prod-AsyncConciseBody) : [ExpressionBody](https://262.ecma-international.org/12.0/#prod-ExpressionBody)

1.  Return a new empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).

[ScriptBody](https://262.ecma-international.org/12.0/#prod-ScriptBody) : [StatementList](https://262.ecma-international.org/12.0/#prod-StatementList)

1.  Return [TopLevelLexicallyScopedDeclarations](https://262.ecma-international.org/12.0/#sec-static-semantics-toplevellexicallyscopeddeclarations) of [StatementList](https://262.ecma-international.org/12.0/#prod-StatementList).

[Module](https://262.ecma-international.org/12.0/#prod-Module) : \[empty\]

1.  Return a new empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).

[ModuleItemList](https://262.ecma-international.org/12.0/#prod-ModuleItemList) : [ModuleItemList](https://262.ecma-international.org/12.0/#prod-ModuleItemList) [ModuleItem](https://262.ecma-international.org/12.0/#prod-ModuleItem)

1.  Let declarations be [LexicallyScopedDeclarations](https://262.ecma-international.org/12.0/#sec-static-semantics-lexicallyscopeddeclarations) of [ModuleItemList](https://262.ecma-international.org/12.0/#prod-ModuleItemList).
2.  Append to declarations the elements of the [LexicallyScopedDeclarations](https://262.ecma-international.org/12.0/#sec-static-semantics-lexicallyscopeddeclarations) of [ModuleItem](https://262.ecma-international.org/12.0/#prod-ModuleItem).
3.  Return declarations.

[ModuleItem](https://262.ecma-international.org/12.0/#prod-ModuleItem) : [ImportDeclaration](https://262.ecma-international.org/12.0/#prod-ImportDeclaration)

1.  Return a new empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).

[ExportDeclaration](https://262.ecma-international.org/12.0/#prod-ExportDeclaration) : export [ExportFromClause](https://262.ecma-international.org/12.0/#prod-ExportFromClause) [FromClause](https://262.ecma-international.org/12.0/#prod-FromClause) ; export [NamedExports](https://262.ecma-international.org/12.0/#prod-NamedExports) ; export [VariableStatement](https://262.ecma-international.org/12.0/#prod-VariableStatement)

1.  Return a new empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).

[ExportDeclaration](https://262.ecma-international.org/12.0/#prod-ExportDeclaration) : export [Declaration](https://262.ecma-international.org/12.0/#prod-Declaration)

1.  Return a [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) whose sole element is [DeclarationPart](https://262.ecma-international.org/12.0/#sec-static-semantics-declarationpart) of [Declaration](https://262.ecma-international.org/12.0/#prod-Declaration).

[ExportDeclaration](https://262.ecma-international.org/12.0/#prod-ExportDeclaration) : export default [HoistableDeclaration](https://262.ecma-international.org/12.0/#prod-HoistableDeclaration)

1.  Return a [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) whose sole element is [DeclarationPart](https://262.ecma-international.org/12.0/#sec-static-semantics-declarationpart) of [HoistableDeclaration](https://262.ecma-international.org/12.0/#prod-HoistableDeclaration).

[ExportDeclaration](https://262.ecma-international.org/12.0/#prod-ExportDeclaration) : export default [ClassDeclaration](https://262.ecma-international.org/12.0/#prod-ClassDeclaration)

1.  Return a [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) whose sole element is [ClassDeclaration](https://262.ecma-international.org/12.0/#prod-ClassDeclaration).

[ExportDeclaration](https://262.ecma-international.org/12.0/#prod-ExportDeclaration) : export default [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression) ;

1.  Return a [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) whose sole element is this [ExportDeclaration](https://262.ecma-international.org/12.0/#prod-ExportDeclaration).

## 8.1.6 Static Semantics: VarDeclaredNames

[Statement](https://262.ecma-international.org/12.0/#prod-Statement) : [EmptyStatement](https://262.ecma-international.org/12.0/#prod-EmptyStatement) [ExpressionStatement](https://262.ecma-international.org/12.0/#prod-ExpressionStatement) [ContinueStatement](https://262.ecma-international.org/12.0/#prod-ContinueStatement) [BreakStatement](https://262.ecma-international.org/12.0/#prod-BreakStatement) [ReturnStatement](https://262.ecma-international.org/12.0/#prod-ReturnStatement) [ThrowStatement](https://262.ecma-international.org/12.0/#prod-ThrowStatement) [DebuggerStatement](https://262.ecma-international.org/12.0/#prod-DebuggerStatement)

1.  Return a new empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).

[Block](https://262.ecma-international.org/12.0/#prod-Block) : { }

1.  Return a new empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).

[StatementList](https://262.ecma-international.org/12.0/#prod-StatementList) : [StatementList](https://262.ecma-international.org/12.0/#prod-StatementList) [StatementListItem](https://262.ecma-international.org/12.0/#prod-StatementListItem)

1.  Let names be [VarDeclaredNames](https://262.ecma-international.org/12.0/#sec-static-semantics-vardeclarednames) of [StatementList](https://262.ecma-international.org/12.0/#prod-StatementList).
2.  Append to names the elements of the [VarDeclaredNames](https://262.ecma-international.org/12.0/#sec-static-semantics-vardeclarednames) of [StatementListItem](https://262.ecma-international.org/12.0/#prod-StatementListItem).
3.  Return names.

[StatementListItem](https://262.ecma-international.org/12.0/#prod-StatementListItem) : [Declaration](https://262.ecma-international.org/12.0/#prod-Declaration)

1.  Return a new empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).

[VariableStatement](https://262.ecma-international.org/12.0/#prod-VariableStatement) : var [VariableDeclarationList](https://262.ecma-international.org/12.0/#prod-VariableDeclarationList) ;

1.  Return [BoundNames](https://262.ecma-international.org/12.0/#sec-static-semantics-boundnames) of [VariableDeclarationList](https://262.ecma-international.org/12.0/#prod-VariableDeclarationList).

[IfStatement](https://262.ecma-international.org/12.0/#prod-IfStatement) : if ( [Expression](https://262.ecma-international.org/12.0/#prod-Expression) ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement) else [Statement](https://262.ecma-international.org/12.0/#prod-Statement)

1.  Let names be [VarDeclaredNames](https://262.ecma-international.org/12.0/#sec-static-semantics-vardeclarednames) of the first [Statement](https://262.ecma-international.org/12.0/#prod-Statement).
2.  Append to names the elements of the [VarDeclaredNames](https://262.ecma-international.org/12.0/#sec-static-semantics-vardeclarednames) of the second [Statement](https://262.ecma-international.org/12.0/#prod-Statement).
3.  Return names.

[IfStatement](https://262.ecma-international.org/12.0/#prod-IfStatement) : if ( [Expression](https://262.ecma-international.org/12.0/#prod-Expression) ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement)

1.  Return the [VarDeclaredNames](https://262.ecma-international.org/12.0/#sec-static-semantics-vardeclarednames) of [Statement](https://262.ecma-international.org/12.0/#prod-Statement).

[DoWhileStatement](https://262.ecma-international.org/12.0/#prod-DoWhileStatement) : do [Statement](https://262.ecma-international.org/12.0/#prod-Statement) while ( [Expression](https://262.ecma-international.org/12.0/#prod-Expression) ) ;

1.  Return the [VarDeclaredNames](https://262.ecma-international.org/12.0/#sec-static-semantics-vardeclarednames) of [Statement](https://262.ecma-international.org/12.0/#prod-Statement).

[WhileStatement](https://262.ecma-international.org/12.0/#prod-WhileStatement) : while ( [Expression](https://262.ecma-international.org/12.0/#prod-Expression) ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement)

1.  Return the [VarDeclaredNames](https://262.ecma-international.org/12.0/#sec-static-semantics-vardeclarednames) of [Statement](https://262.ecma-international.org/12.0/#prod-Statement).

[ForStatement](https://262.ecma-international.org/12.0/#prod-ForStatement) : for ( [Expression](https://262.ecma-international.org/12.0/#prod-Expression)opt ; [Expression](https://262.ecma-international.org/12.0/#prod-Expression)opt ; [Expression](https://262.ecma-international.org/12.0/#prod-Expression)opt ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement)

1.  Return the [VarDeclaredNames](https://262.ecma-international.org/12.0/#sec-static-semantics-vardeclarednames) of [Statement](https://262.ecma-international.org/12.0/#prod-Statement).

[ForStatement](https://262.ecma-international.org/12.0/#prod-ForStatement) : for ( var [VariableDeclarationList](https://262.ecma-international.org/12.0/#prod-VariableDeclarationList) ; [Expression](https://262.ecma-international.org/12.0/#prod-Expression)opt ; [Expression](https://262.ecma-international.org/12.0/#prod-Expression)opt ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement)

1.  Let names be [BoundNames](https://262.ecma-international.org/12.0/#sec-static-semantics-boundnames) of [VariableDeclarationList](https://262.ecma-international.org/12.0/#prod-VariableDeclarationList).
2.  Append to names the elements of the [VarDeclaredNames](https://262.ecma-international.org/12.0/#sec-static-semantics-vardeclarednames) of [Statement](https://262.ecma-international.org/12.0/#prod-Statement).
3.  Return names.

[ForStatement](https://262.ecma-international.org/12.0/#prod-ForStatement) : for ( [LexicalDeclaration](https://262.ecma-international.org/12.0/#prod-LexicalDeclaration) [Expression](https://262.ecma-international.org/12.0/#prod-Expression)opt ; [Expression](https://262.ecma-international.org/12.0/#prod-Expression)opt ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement)

1.  Return the [VarDeclaredNames](https://262.ecma-international.org/12.0/#sec-static-semantics-vardeclarednames) of [Statement](https://262.ecma-international.org/12.0/#prod-Statement).

[ForInOfStatement](https://262.ecma-international.org/12.0/#prod-ForInOfStatement) : for ( [LeftHandSideExpression](https://262.ecma-international.org/12.0/#prod-LeftHandSideExpression) in [Expression](https://262.ecma-international.org/12.0/#prod-Expression) ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement) for ( [ForDeclaration](https://262.ecma-international.org/12.0/#prod-ForDeclaration) in [Expression](https://262.ecma-international.org/12.0/#prod-Expression) ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement) for ( [LeftHandSideExpression](https://262.ecma-international.org/12.0/#prod-LeftHandSideExpression) of [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression) ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement) for ( [ForDeclaration](https://262.ecma-international.org/12.0/#prod-ForDeclaration) of [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression) ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement) for await ( [LeftHandSideExpression](https://262.ecma-international.org/12.0/#prod-LeftHandSideExpression) of [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression) ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement) for await ( [ForDeclaration](https://262.ecma-international.org/12.0/#prod-ForDeclaration) of [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression) ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement)

1.  Return the [VarDeclaredNames](https://262.ecma-international.org/12.0/#sec-static-semantics-vardeclarednames) of [Statement](https://262.ecma-international.org/12.0/#prod-Statement).

[ForInOfStatement](https://262.ecma-international.org/12.0/#prod-ForInOfStatement) : for ( var [ForBinding](https://262.ecma-international.org/12.0/#prod-ForBinding) in [Expression](https://262.ecma-international.org/12.0/#prod-Expression) ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement) for ( var [ForBinding](https://262.ecma-international.org/12.0/#prod-ForBinding) of [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression) ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement) for await ( var [ForBinding](https://262.ecma-international.org/12.0/#prod-ForBinding) of [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression) ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement)

1.  Let names be the [BoundNames](https://262.ecma-international.org/12.0/#sec-static-semantics-boundnames) of [ForBinding](https://262.ecma-international.org/12.0/#prod-ForBinding).
2.  Append to names the elements of the [VarDeclaredNames](https://262.ecma-international.org/12.0/#sec-static-semantics-vardeclarednames) of [Statement](https://262.ecma-international.org/12.0/#prod-Statement).
3.  Return names.

Note

This section is extended by Annex [B.3.6](https://262.ecma-international.org/12.0/#sec-initializers-in-forin-statement-heads).

[WithStatement](https://262.ecma-international.org/12.0/#prod-WithStatement) : with ( [Expression](https://262.ecma-international.org/12.0/#prod-Expression) ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement)

1.  Return the [VarDeclaredNames](https://262.ecma-international.org/12.0/#sec-static-semantics-vardeclarednames) of [Statement](https://262.ecma-international.org/12.0/#prod-Statement).

[SwitchStatement](https://262.ecma-international.org/12.0/#prod-SwitchStatement) : switch ( [Expression](https://262.ecma-international.org/12.0/#prod-Expression) ) [CaseBlock](https://262.ecma-international.org/12.0/#prod-CaseBlock)

1.  Return the [VarDeclaredNames](https://262.ecma-international.org/12.0/#sec-static-semantics-vardeclarednames) of [CaseBlock](https://262.ecma-international.org/12.0/#prod-CaseBlock).

[CaseBlock](https://262.ecma-international.org/12.0/#prod-CaseBlock) : { }

1.  Return a new empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).

[CaseBlock](https://262.ecma-international.org/12.0/#prod-CaseBlock) : { [CaseClauses](https://262.ecma-international.org/12.0/#prod-CaseClauses)opt [DefaultClause](https://262.ecma-international.org/12.0/#prod-DefaultClause) [CaseClauses](https://262.ecma-international.org/12.0/#prod-CaseClauses)opt }

1.  If the first [CaseClauses](https://262.ecma-international.org/12.0/#prod-CaseClauses) is present, let names be the [VarDeclaredNames](https://262.ecma-international.org/12.0/#sec-static-semantics-vardeclarednames) of the first [CaseClauses](https://262.ecma-international.org/12.0/#prod-CaseClauses).
2.  Else, let names be a new empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).
3.  Append to names the elements of the [VarDeclaredNames](https://262.ecma-international.org/12.0/#sec-static-semantics-vardeclarednames) of [DefaultClause](https://262.ecma-international.org/12.0/#prod-DefaultClause).
4.  If the second [CaseClauses](https://262.ecma-international.org/12.0/#prod-CaseClauses) is not present, return names.
5.  Return the result of appending to names the elements of the [VarDeclaredNames](https://262.ecma-international.org/12.0/#sec-static-semantics-vardeclarednames) of the second [CaseClauses](https://262.ecma-international.org/12.0/#prod-CaseClauses).

[CaseClauses](https://262.ecma-international.org/12.0/#prod-CaseClauses) : [CaseClauses](https://262.ecma-international.org/12.0/#prod-CaseClauses) [CaseClause](https://262.ecma-international.org/12.0/#prod-CaseClause)

1.  Let names be [VarDeclaredNames](https://262.ecma-international.org/12.0/#sec-static-semantics-vardeclarednames) of [CaseClauses](https://262.ecma-international.org/12.0/#prod-CaseClauses).
2.  Append to names the elements of the [VarDeclaredNames](https://262.ecma-international.org/12.0/#sec-static-semantics-vardeclarednames) of [CaseClause](https://262.ecma-international.org/12.0/#prod-CaseClause).
3.  Return names.

[CaseClause](https://262.ecma-international.org/12.0/#prod-CaseClause) : case [Expression](https://262.ecma-international.org/12.0/#prod-Expression) : [StatementList](https://262.ecma-international.org/12.0/#prod-StatementList)opt

1.  If the [StatementList](https://262.ecma-international.org/12.0/#prod-StatementList) is present, return the [VarDeclaredNames](https://262.ecma-international.org/12.0/#sec-static-semantics-vardeclarednames) of [StatementList](https://262.ecma-international.org/12.0/#prod-StatementList).
2.  Return a new empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).

[DefaultClause](https://262.ecma-international.org/12.0/#prod-DefaultClause) : default : [StatementList](https://262.ecma-international.org/12.0/#prod-StatementList)opt

1.  If the [StatementList](https://262.ecma-international.org/12.0/#prod-StatementList) is present, return the [VarDeclaredNames](https://262.ecma-international.org/12.0/#sec-static-semantics-vardeclarednames) of [StatementList](https://262.ecma-international.org/12.0/#prod-StatementList).
2.  Return a new empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).

[LabelledStatement](https://262.ecma-international.org/12.0/#prod-LabelledStatement) : [LabelIdentifier](https://262.ecma-international.org/12.0/#prod-LabelIdentifier) : [LabelledItem](https://262.ecma-international.org/12.0/#prod-LabelledItem)

1.  Return the [VarDeclaredNames](https://262.ecma-international.org/12.0/#sec-static-semantics-vardeclarednames) of [LabelledItem](https://262.ecma-international.org/12.0/#prod-LabelledItem).

[LabelledItem](https://262.ecma-international.org/12.0/#prod-LabelledItem) : [FunctionDeclaration](https://262.ecma-international.org/12.0/#prod-FunctionDeclaration)

1.  Return a new empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).

[TryStatement](https://262.ecma-international.org/12.0/#prod-TryStatement) : try [Block](https://262.ecma-international.org/12.0/#prod-Block) [Catch](https://262.ecma-international.org/12.0/#prod-Catch)

1.  Let names be [VarDeclaredNames](https://262.ecma-international.org/12.0/#sec-static-semantics-vardeclarednames) of [Block](https://262.ecma-international.org/12.0/#prod-Block).
2.  Append to names the elements of the [VarDeclaredNames](https://262.ecma-international.org/12.0/#sec-static-semantics-vardeclarednames) of [Catch](https://262.ecma-international.org/12.0/#prod-Catch).
3.  Return names.

[TryStatement](https://262.ecma-international.org/12.0/#prod-TryStatement) : try [Block](https://262.ecma-international.org/12.0/#prod-Block) [Finally](https://262.ecma-international.org/12.0/#prod-Finally)

1.  Let names be [VarDeclaredNames](https://262.ecma-international.org/12.0/#sec-static-semantics-vardeclarednames) of [Block](https://262.ecma-international.org/12.0/#prod-Block).
2.  Append to names the elements of the [VarDeclaredNames](https://262.ecma-international.org/12.0/#sec-static-semantics-vardeclarednames) of [Finally](https://262.ecma-international.org/12.0/#prod-Finally).
3.  Return names.

[TryStatement](https://262.ecma-international.org/12.0/#prod-TryStatement) : try [Block](https://262.ecma-international.org/12.0/#prod-Block) [Catch](https://262.ecma-international.org/12.0/#prod-Catch) [Finally](https://262.ecma-international.org/12.0/#prod-Finally)

1.  Let names be [VarDeclaredNames](https://262.ecma-international.org/12.0/#sec-static-semantics-vardeclarednames) of [Block](https://262.ecma-international.org/12.0/#prod-Block).
2.  Append to names the elements of the [VarDeclaredNames](https://262.ecma-international.org/12.0/#sec-static-semantics-vardeclarednames) of [Catch](https://262.ecma-international.org/12.0/#prod-Catch).
3.  Append to names the elements of the [VarDeclaredNames](https://262.ecma-international.org/12.0/#sec-static-semantics-vardeclarednames) of [Finally](https://262.ecma-international.org/12.0/#prod-Finally).
4.  Return names.

[Catch](https://262.ecma-international.org/12.0/#prod-Catch) : catch ( [CatchParameter](https://262.ecma-international.org/12.0/#prod-CatchParameter) ) [Block](https://262.ecma-international.org/12.0/#prod-Block)

1.  Return the [VarDeclaredNames](https://262.ecma-international.org/12.0/#sec-static-semantics-vardeclarednames) of [Block](https://262.ecma-international.org/12.0/#prod-Block).

[FunctionStatementList](https://262.ecma-international.org/12.0/#prod-FunctionStatementList) : \[empty\]

1.  Return a new empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).

[FunctionStatementList](https://262.ecma-international.org/12.0/#prod-FunctionStatementList) : [StatementList](https://262.ecma-international.org/12.0/#prod-StatementList)

1.  Return [TopLevelVarDeclaredNames](https://262.ecma-international.org/12.0/#sec-static-semantics-toplevelvardeclarednames) of [StatementList](https://262.ecma-international.org/12.0/#prod-StatementList).

[ConciseBody](https://262.ecma-international.org/12.0/#prod-ConciseBody) : [ExpressionBody](https://262.ecma-international.org/12.0/#prod-ExpressionBody)

1.  Return a new empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).

[AsyncConciseBody](https://262.ecma-international.org/12.0/#prod-AsyncConciseBody) : [ExpressionBody](https://262.ecma-international.org/12.0/#prod-ExpressionBody)

1.  Return a new empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).

[ScriptBody](https://262.ecma-international.org/12.0/#prod-ScriptBody) : [StatementList](https://262.ecma-international.org/12.0/#prod-StatementList)

1.  Return [TopLevelVarDeclaredNames](https://262.ecma-international.org/12.0/#sec-static-semantics-toplevelvardeclarednames) of [StatementList](https://262.ecma-international.org/12.0/#prod-StatementList).

[Module](https://262.ecma-international.org/12.0/#prod-Module) : \[empty\]

1.  Return a new empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).

[ModuleItemList](https://262.ecma-international.org/12.0/#prod-ModuleItemList) : [ModuleItemList](https://262.ecma-international.org/12.0/#prod-ModuleItemList) [ModuleItem](https://262.ecma-international.org/12.0/#prod-ModuleItem)

1.  Let names be [VarDeclaredNames](https://262.ecma-international.org/12.0/#sec-static-semantics-vardeclarednames) of [ModuleItemList](https://262.ecma-international.org/12.0/#prod-ModuleItemList).
2.  Append to names the elements of the [VarDeclaredNames](https://262.ecma-international.org/12.0/#sec-static-semantics-vardeclarednames) of [ModuleItem](https://262.ecma-international.org/12.0/#prod-ModuleItem).
3.  Return names.

[ModuleItem](https://262.ecma-international.org/12.0/#prod-ModuleItem) : [ImportDeclaration](https://262.ecma-international.org/12.0/#prod-ImportDeclaration)

1.  Return a new empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).

[ModuleItem](https://262.ecma-international.org/12.0/#prod-ModuleItem) : [ExportDeclaration](https://262.ecma-international.org/12.0/#prod-ExportDeclaration)

1.  If [ExportDeclaration](https://262.ecma-international.org/12.0/#prod-ExportDeclaration) is `export` [VariableStatement](https://262.ecma-international.org/12.0/#prod-VariableStatement), return [BoundNames](https://262.ecma-international.org/12.0/#sec-static-semantics-boundnames) of [ExportDeclaration](https://262.ecma-international.org/12.0/#prod-ExportDeclaration).
2.  Return a new empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).

## 8.1.7 Static Semantics: VarScopedDeclarations

[Statement](https://262.ecma-international.org/12.0/#prod-Statement) : [EmptyStatement](https://262.ecma-international.org/12.0/#prod-EmptyStatement) [ExpressionStatement](https://262.ecma-international.org/12.0/#prod-ExpressionStatement) [ContinueStatement](https://262.ecma-international.org/12.0/#prod-ContinueStatement) [BreakStatement](https://262.ecma-international.org/12.0/#prod-BreakStatement) [ReturnStatement](https://262.ecma-international.org/12.0/#prod-ReturnStatement) [ThrowStatement](https://262.ecma-international.org/12.0/#prod-ThrowStatement) [DebuggerStatement](https://262.ecma-international.org/12.0/#prod-DebuggerStatement)

1.  Return a new empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).

[Block](https://262.ecma-international.org/12.0/#prod-Block) : { }

1.  Return a new empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).

[StatementList](https://262.ecma-international.org/12.0/#prod-StatementList) : [StatementList](https://262.ecma-international.org/12.0/#prod-StatementList) [StatementListItem](https://262.ecma-international.org/12.0/#prod-StatementListItem)

1.  Let declarations be [VarScopedDeclarations](https://262.ecma-international.org/12.0/#sec-static-semantics-varscopeddeclarations) of [StatementList](https://262.ecma-international.org/12.0/#prod-StatementList).
2.  Append to declarations the elements of the [VarScopedDeclarations](https://262.ecma-international.org/12.0/#sec-static-semantics-varscopeddeclarations) of [StatementListItem](https://262.ecma-international.org/12.0/#prod-StatementListItem).
3.  Return declarations.

[StatementListItem](https://262.ecma-international.org/12.0/#prod-StatementListItem) : [Declaration](https://262.ecma-international.org/12.0/#prod-Declaration)

1.  Return a new empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).

[VariableDeclarationList](https://262.ecma-international.org/12.0/#prod-VariableDeclarationList) : [VariableDeclaration](https://262.ecma-international.org/12.0/#prod-VariableDeclaration)

1.  Return a [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) whose sole element is [VariableDeclaration](https://262.ecma-international.org/12.0/#prod-VariableDeclaration).

[VariableDeclarationList](https://262.ecma-international.org/12.0/#prod-VariableDeclarationList) : [VariableDeclarationList](https://262.ecma-international.org/12.0/#prod-VariableDeclarationList) , [VariableDeclaration](https://262.ecma-international.org/12.0/#prod-VariableDeclaration)

1.  Let declarations be [VarScopedDeclarations](https://262.ecma-international.org/12.0/#sec-static-semantics-varscopeddeclarations) of [VariableDeclarationList](https://262.ecma-international.org/12.0/#prod-VariableDeclarationList).
2.  Append [VariableDeclaration](https://262.ecma-international.org/12.0/#prod-VariableDeclaration) to declarations.
3.  Return declarations.

[IfStatement](https://262.ecma-international.org/12.0/#prod-IfStatement) : if ( [Expression](https://262.ecma-international.org/12.0/#prod-Expression) ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement) else [Statement](https://262.ecma-international.org/12.0/#prod-Statement)

1.  Let declarations be [VarScopedDeclarations](https://262.ecma-international.org/12.0/#sec-static-semantics-varscopeddeclarations) of the first [Statement](https://262.ecma-international.org/12.0/#prod-Statement).
2.  Append to declarations the elements of the [VarScopedDeclarations](https://262.ecma-international.org/12.0/#sec-static-semantics-varscopeddeclarations) of the second [Statement](https://262.ecma-international.org/12.0/#prod-Statement).
3.  Return declarations.

[IfStatement](https://262.ecma-international.org/12.0/#prod-IfStatement) : if ( [Expression](https://262.ecma-international.org/12.0/#prod-Expression) ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement)

1.  Return the [VarScopedDeclarations](https://262.ecma-international.org/12.0/#sec-static-semantics-varscopeddeclarations) of [Statement](https://262.ecma-international.org/12.0/#prod-Statement).

[DoWhileStatement](https://262.ecma-international.org/12.0/#prod-DoWhileStatement) : do [Statement](https://262.ecma-international.org/12.0/#prod-Statement) while ( [Expression](https://262.ecma-international.org/12.0/#prod-Expression) ) ;

1.  Return the [VarScopedDeclarations](https://262.ecma-international.org/12.0/#sec-static-semantics-varscopeddeclarations) of [Statement](https://262.ecma-international.org/12.0/#prod-Statement).

[WhileStatement](https://262.ecma-international.org/12.0/#prod-WhileStatement) : while ( [Expression](https://262.ecma-international.org/12.0/#prod-Expression) ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement)

1.  Return the [VarScopedDeclarations](https://262.ecma-international.org/12.0/#sec-static-semantics-varscopeddeclarations) of [Statement](https://262.ecma-international.org/12.0/#prod-Statement).

[ForStatement](https://262.ecma-international.org/12.0/#prod-ForStatement) : for ( [Expression](https://262.ecma-international.org/12.0/#prod-Expression)opt ; [Expression](https://262.ecma-international.org/12.0/#prod-Expression)opt ; [Expression](https://262.ecma-international.org/12.0/#prod-Expression)opt ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement)

1.  Return the [VarScopedDeclarations](https://262.ecma-international.org/12.0/#sec-static-semantics-varscopeddeclarations) of [Statement](https://262.ecma-international.org/12.0/#prod-Statement).

[ForStatement](https://262.ecma-international.org/12.0/#prod-ForStatement) : for ( var [VariableDeclarationList](https://262.ecma-international.org/12.0/#prod-VariableDeclarationList) ; [Expression](https://262.ecma-international.org/12.0/#prod-Expression)opt ; [Expression](https://262.ecma-international.org/12.0/#prod-Expression)opt ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement)

1.  Let declarations be [VarScopedDeclarations](https://262.ecma-international.org/12.0/#sec-static-semantics-varscopeddeclarations) of [VariableDeclarationList](https://262.ecma-international.org/12.0/#prod-VariableDeclarationList).
2.  Append to declarations the elements of the [VarScopedDeclarations](https://262.ecma-international.org/12.0/#sec-static-semantics-varscopeddeclarations) of [Statement](https://262.ecma-international.org/12.0/#prod-Statement).
3.  Return declarations.

[ForStatement](https://262.ecma-international.org/12.0/#prod-ForStatement) : for ( [LexicalDeclaration](https://262.ecma-international.org/12.0/#prod-LexicalDeclaration) [Expression](https://262.ecma-international.org/12.0/#prod-Expression)opt ; [Expression](https://262.ecma-international.org/12.0/#prod-Expression)opt ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement)

1.  Return the [VarScopedDeclarations](https://262.ecma-international.org/12.0/#sec-static-semantics-varscopeddeclarations) of [Statement](https://262.ecma-international.org/12.0/#prod-Statement).

[ForInOfStatement](https://262.ecma-international.org/12.0/#prod-ForInOfStatement) : for ( [LeftHandSideExpression](https://262.ecma-international.org/12.0/#prod-LeftHandSideExpression) in [Expression](https://262.ecma-international.org/12.0/#prod-Expression) ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement) for ( [ForDeclaration](https://262.ecma-international.org/12.0/#prod-ForDeclaration) in [Expression](https://262.ecma-international.org/12.0/#prod-Expression) ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement) for ( [LeftHandSideExpression](https://262.ecma-international.org/12.0/#prod-LeftHandSideExpression) of [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression) ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement) for ( [ForDeclaration](https://262.ecma-international.org/12.0/#prod-ForDeclaration) of [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression) ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement) for await ( [LeftHandSideExpression](https://262.ecma-international.org/12.0/#prod-LeftHandSideExpression) of [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression) ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement) for await ( [ForDeclaration](https://262.ecma-international.org/12.0/#prod-ForDeclaration) of [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression) ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement)

1.  Return the [VarScopedDeclarations](https://262.ecma-international.org/12.0/#sec-static-semantics-varscopeddeclarations) of [Statement](https://262.ecma-international.org/12.0/#prod-Statement).

[ForInOfStatement](https://262.ecma-international.org/12.0/#prod-ForInOfStatement) : for ( var [ForBinding](https://262.ecma-international.org/12.0/#prod-ForBinding) in [Expression](https://262.ecma-international.org/12.0/#prod-Expression) ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement) for ( var [ForBinding](https://262.ecma-international.org/12.0/#prod-ForBinding) of [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression) ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement) for await ( var [ForBinding](https://262.ecma-international.org/12.0/#prod-ForBinding) of [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression) ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement)

1.  Let declarations be a [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) whose sole element is [ForBinding](https://262.ecma-international.org/12.0/#prod-ForBinding).
2.  Append to declarations the elements of the [VarScopedDeclarations](https://262.ecma-international.org/12.0/#sec-static-semantics-varscopeddeclarations) of [Statement](https://262.ecma-international.org/12.0/#prod-Statement).
3.  Return declarations.

Note

This section is extended by Annex [B.3.6](https://262.ecma-international.org/12.0/#sec-initializers-in-forin-statement-heads).

[WithStatement](https://262.ecma-international.org/12.0/#prod-WithStatement) : with ( [Expression](https://262.ecma-international.org/12.0/#prod-Expression) ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement)

1.  Return the [VarScopedDeclarations](https://262.ecma-international.org/12.0/#sec-static-semantics-varscopeddeclarations) of [Statement](https://262.ecma-international.org/12.0/#prod-Statement).

[SwitchStatement](https://262.ecma-international.org/12.0/#prod-SwitchStatement) : switch ( [Expression](https://262.ecma-international.org/12.0/#prod-Expression) ) [CaseBlock](https://262.ecma-international.org/12.0/#prod-CaseBlock)

1.  Return the [VarScopedDeclarations](https://262.ecma-international.org/12.0/#sec-static-semantics-varscopeddeclarations) of [CaseBlock](https://262.ecma-international.org/12.0/#prod-CaseBlock).

[CaseBlock](https://262.ecma-international.org/12.0/#prod-CaseBlock) : { }

1.  Return a new empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).

[CaseBlock](https://262.ecma-international.org/12.0/#prod-CaseBlock) : { [CaseClauses](https://262.ecma-international.org/12.0/#prod-CaseClauses)opt [DefaultClause](https://262.ecma-international.org/12.0/#prod-DefaultClause) [CaseClauses](https://262.ecma-international.org/12.0/#prod-CaseClauses)opt }

1.  If the first [CaseClauses](https://262.ecma-international.org/12.0/#prod-CaseClauses) is present, let declarations be the [VarScopedDeclarations](https://262.ecma-international.org/12.0/#sec-static-semantics-varscopeddeclarations) of the first [CaseClauses](https://262.ecma-international.org/12.0/#prod-CaseClauses).
2.  Else, let declarations be a new empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).
3.  Append to declarations the elements of the [VarScopedDeclarations](https://262.ecma-international.org/12.0/#sec-static-semantics-varscopeddeclarations) of [DefaultClause](https://262.ecma-international.org/12.0/#prod-DefaultClause).
4.  If the second [CaseClauses](https://262.ecma-international.org/12.0/#prod-CaseClauses) is not present, return declarations.
5.  Return the result of appending to declarations the elements of the [VarScopedDeclarations](https://262.ecma-international.org/12.0/#sec-static-semantics-varscopeddeclarations) of the second [CaseClauses](https://262.ecma-international.org/12.0/#prod-CaseClauses).

[CaseClauses](https://262.ecma-international.org/12.0/#prod-CaseClauses) : [CaseClauses](https://262.ecma-international.org/12.0/#prod-CaseClauses) [CaseClause](https://262.ecma-international.org/12.0/#prod-CaseClause)

1.  Let declarations be [VarScopedDeclarations](https://262.ecma-international.org/12.0/#sec-static-semantics-varscopeddeclarations) of [CaseClauses](https://262.ecma-international.org/12.0/#prod-CaseClauses).
2.  Append to declarations the elements of the [VarScopedDeclarations](https://262.ecma-international.org/12.0/#sec-static-semantics-varscopeddeclarations) of [CaseClause](https://262.ecma-international.org/12.0/#prod-CaseClause).
3.  Return declarations.

[CaseClause](https://262.ecma-international.org/12.0/#prod-CaseClause) : case [Expression](https://262.ecma-international.org/12.0/#prod-Expression) : [StatementList](https://262.ecma-international.org/12.0/#prod-StatementList)opt

1.  If the [StatementList](https://262.ecma-international.org/12.0/#prod-StatementList) is present, return the [VarScopedDeclarations](https://262.ecma-international.org/12.0/#sec-static-semantics-varscopeddeclarations) of [StatementList](https://262.ecma-international.org/12.0/#prod-StatementList).
2.  Return a new empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).

[DefaultClause](https://262.ecma-international.org/12.0/#prod-DefaultClause) : default : [StatementList](https://262.ecma-international.org/12.0/#prod-StatementList)opt

1.  If the [StatementList](https://262.ecma-international.org/12.0/#prod-StatementList) is present, return the [VarScopedDeclarations](https://262.ecma-international.org/12.0/#sec-static-semantics-varscopeddeclarations) of [StatementList](https://262.ecma-international.org/12.0/#prod-StatementList).
2.  Return a new empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).

[LabelledStatement](https://262.ecma-international.org/12.0/#prod-LabelledStatement) : [LabelIdentifier](https://262.ecma-international.org/12.0/#prod-LabelIdentifier) : [LabelledItem](https://262.ecma-international.org/12.0/#prod-LabelledItem)

1.  Return the [VarScopedDeclarations](https://262.ecma-international.org/12.0/#sec-static-semantics-varscopeddeclarations) of [LabelledItem](https://262.ecma-international.org/12.0/#prod-LabelledItem).

[LabelledItem](https://262.ecma-international.org/12.0/#prod-LabelledItem) : [FunctionDeclaration](https://262.ecma-international.org/12.0/#prod-FunctionDeclaration)

1.  Return a new empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).

[TryStatement](https://262.ecma-international.org/12.0/#prod-TryStatement) : try [Block](https://262.ecma-international.org/12.0/#prod-Block) [Catch](https://262.ecma-international.org/12.0/#prod-Catch)

1.  Let declarations be [VarScopedDeclarations](https://262.ecma-international.org/12.0/#sec-static-semantics-varscopeddeclarations) of [Block](https://262.ecma-international.org/12.0/#prod-Block).
2.  Append to declarations the elements of the [VarScopedDeclarations](https://262.ecma-international.org/12.0/#sec-static-semantics-varscopeddeclarations) of [Catch](https://262.ecma-international.org/12.0/#prod-Catch).
3.  Return declarations.

[TryStatement](https://262.ecma-international.org/12.0/#prod-TryStatement) : try [Block](https://262.ecma-international.org/12.0/#prod-Block) [Finally](https://262.ecma-international.org/12.0/#prod-Finally)

1.  Let declarations be [VarScopedDeclarations](https://262.ecma-international.org/12.0/#sec-static-semantics-varscopeddeclarations) of [Block](https://262.ecma-international.org/12.0/#prod-Block).
2.  Append to declarations the elements of the [VarScopedDeclarations](https://262.ecma-international.org/12.0/#sec-static-semantics-varscopeddeclarations) of [Finally](https://262.ecma-international.org/12.0/#prod-Finally).
3.  Return declarations.

[TryStatement](https://262.ecma-international.org/12.0/#prod-TryStatement) : try [Block](https://262.ecma-international.org/12.0/#prod-Block) [Catch](https://262.ecma-international.org/12.0/#prod-Catch) [Finally](https://262.ecma-international.org/12.0/#prod-Finally)

1.  Let declarations be [VarScopedDeclarations](https://262.ecma-international.org/12.0/#sec-static-semantics-varscopeddeclarations) of [Block](https://262.ecma-international.org/12.0/#prod-Block).
2.  Append to declarations the elements of the [VarScopedDeclarations](https://262.ecma-international.org/12.0/#sec-static-semantics-varscopeddeclarations) of [Catch](https://262.ecma-international.org/12.0/#prod-Catch).
3.  Append to declarations the elements of the [VarScopedDeclarations](https://262.ecma-international.org/12.0/#sec-static-semantics-varscopeddeclarations) of [Finally](https://262.ecma-international.org/12.0/#prod-Finally).
4.  Return declarations.

[Catch](https://262.ecma-international.org/12.0/#prod-Catch) : catch ( [CatchParameter](https://262.ecma-international.org/12.0/#prod-CatchParameter) ) [Block](https://262.ecma-international.org/12.0/#prod-Block)

1.  Return the [VarScopedDeclarations](https://262.ecma-international.org/12.0/#sec-static-semantics-varscopeddeclarations) of [Block](https://262.ecma-international.org/12.0/#prod-Block).

[FunctionStatementList](https://262.ecma-international.org/12.0/#prod-FunctionStatementList) : \[empty\]

1.  Return a new empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).

[FunctionStatementList](https://262.ecma-international.org/12.0/#prod-FunctionStatementList) : [StatementList](https://262.ecma-international.org/12.0/#prod-StatementList)

1.  Return the [TopLevelVarScopedDeclarations](https://262.ecma-international.org/12.0/#sec-static-semantics-toplevelvarscopeddeclarations) of [StatementList](https://262.ecma-international.org/12.0/#prod-StatementList).

[ConciseBody](https://262.ecma-international.org/12.0/#prod-ConciseBody) : [ExpressionBody](https://262.ecma-international.org/12.0/#prod-ExpressionBody)

1.  Return a new empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).

[AsyncConciseBody](https://262.ecma-international.org/12.0/#prod-AsyncConciseBody) : [ExpressionBody](https://262.ecma-international.org/12.0/#prod-ExpressionBody)

1.  Return a new empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).

[ScriptBody](https://262.ecma-international.org/12.0/#prod-ScriptBody) : [StatementList](https://262.ecma-international.org/12.0/#prod-StatementList)

1.  Return [TopLevelVarScopedDeclarations](https://262.ecma-international.org/12.0/#sec-static-semantics-toplevelvarscopeddeclarations) of [StatementList](https://262.ecma-international.org/12.0/#prod-StatementList).

[Module](https://262.ecma-international.org/12.0/#prod-Module) : \[empty\]

1.  Return a new empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).

[ModuleItemList](https://262.ecma-international.org/12.0/#prod-ModuleItemList) : [ModuleItemList](https://262.ecma-international.org/12.0/#prod-ModuleItemList) [ModuleItem](https://262.ecma-international.org/12.0/#prod-ModuleItem)

1.  Let declarations be [VarScopedDeclarations](https://262.ecma-international.org/12.0/#sec-static-semantics-varscopeddeclarations) of [ModuleItemList](https://262.ecma-international.org/12.0/#prod-ModuleItemList).
2.  Append to declarations the elements of the [VarScopedDeclarations](https://262.ecma-international.org/12.0/#sec-static-semantics-varscopeddeclarations) of [ModuleItem](https://262.ecma-international.org/12.0/#prod-ModuleItem).
3.  Return declarations.

[ModuleItem](https://262.ecma-international.org/12.0/#prod-ModuleItem) : [ImportDeclaration](https://262.ecma-international.org/12.0/#prod-ImportDeclaration)

1.  Return a new empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).

[ModuleItem](https://262.ecma-international.org/12.0/#prod-ModuleItem) : [ExportDeclaration](https://262.ecma-international.org/12.0/#prod-ExportDeclaration)

1.  If [ExportDeclaration](https://262.ecma-international.org/12.0/#prod-ExportDeclaration) is `export` [VariableStatement](https://262.ecma-international.org/12.0/#prod-VariableStatement), return [VarScopedDeclarations](https://262.ecma-international.org/12.0/#sec-static-semantics-varscopeddeclarations) of [VariableStatement](https://262.ecma-international.org/12.0/#prod-VariableStatement).
2.  Return a new empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).

## 8.1.8 Static Semantics: TopLevelLexicallyDeclaredNames

[StatementList](https://262.ecma-international.org/12.0/#prod-StatementList) : [StatementList](https://262.ecma-international.org/12.0/#prod-StatementList) [StatementListItem](https://262.ecma-international.org/12.0/#prod-StatementListItem)

1.  Let names be [TopLevelLexicallyDeclaredNames](https://262.ecma-international.org/12.0/#sec-static-semantics-toplevellexicallydeclarednames) of [StatementList](https://262.ecma-international.org/12.0/#prod-StatementList).
2.  Append to names the elements of the [TopLevelLexicallyDeclaredNames](https://262.ecma-international.org/12.0/#sec-static-semantics-toplevellexicallydeclarednames) of [StatementListItem](https://262.ecma-international.org/12.0/#prod-StatementListItem).
3.  Return names.

[StatementListItem](https://262.ecma-international.org/12.0/#prod-StatementListItem) : [Statement](https://262.ecma-international.org/12.0/#prod-Statement)

1.  Return a new empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).

[StatementListItem](https://262.ecma-international.org/12.0/#prod-StatementListItem) : [Declaration](https://262.ecma-international.org/12.0/#prod-Declaration)

1.  If [Declaration](https://262.ecma-international.org/12.0/#prod-Declaration) is [Declaration](https://262.ecma-international.org/12.0/#prod-Declaration) : [HoistableDeclaration](https://262.ecma-international.org/12.0/#prod-HoistableDeclaration) , then
    1.  Return « ».
2.  Return the [BoundNames](https://262.ecma-international.org/12.0/#sec-static-semantics-boundnames) of [Declaration](https://262.ecma-international.org/12.0/#prod-Declaration).

Note

At the top level of a function, or script, function declarations are treated like var declarations rather than like lexical declarations.

[LabelledStatement](https://262.ecma-international.org/12.0/#prod-LabelledStatement) : [LabelIdentifier](https://262.ecma-international.org/12.0/#prod-LabelIdentifier) : [LabelledItem](https://262.ecma-international.org/12.0/#prod-LabelledItem)

1.  Return a new empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).

## 8.1.9 Static Semantics: TopLevelLexicallyScopedDeclarations

[Block](https://262.ecma-international.org/12.0/#prod-Block) : { }

1.  Return a new empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).

[StatementList](https://262.ecma-international.org/12.0/#prod-StatementList) : [StatementList](https://262.ecma-international.org/12.0/#prod-StatementList) [StatementListItem](https://262.ecma-international.org/12.0/#prod-StatementListItem)

1.  Let declarations be [TopLevelLexicallyScopedDeclarations](https://262.ecma-international.org/12.0/#sec-static-semantics-toplevellexicallyscopeddeclarations) of [StatementList](https://262.ecma-international.org/12.0/#prod-StatementList).
2.  Append to declarations the elements of the [TopLevelLexicallyScopedDeclarations](https://262.ecma-international.org/12.0/#sec-static-semantics-toplevellexicallyscopeddeclarations) of [StatementListItem](https://262.ecma-international.org/12.0/#prod-StatementListItem).
3.  Return declarations.

[StatementListItem](https://262.ecma-international.org/12.0/#prod-StatementListItem) : [Statement](https://262.ecma-international.org/12.0/#prod-Statement)

1.  Return a new empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).

[StatementListItem](https://262.ecma-international.org/12.0/#prod-StatementListItem) : [Declaration](https://262.ecma-international.org/12.0/#prod-Declaration)

1.  If [Declaration](https://262.ecma-international.org/12.0/#prod-Declaration) is [Declaration](https://262.ecma-international.org/12.0/#prod-Declaration) : [HoistableDeclaration](https://262.ecma-international.org/12.0/#prod-HoistableDeclaration) , then
    1.  Return « ».
2.  Return a [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) whose sole element is [Declaration](https://262.ecma-international.org/12.0/#prod-Declaration).

[LabelledStatement](https://262.ecma-international.org/12.0/#prod-LabelledStatement) : [LabelIdentifier](https://262.ecma-international.org/12.0/#prod-LabelIdentifier) : [LabelledItem](https://262.ecma-international.org/12.0/#prod-LabelledItem)

1.  Return a new empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).

## 8.1.10 Static Semantics: TopLevelVarDeclaredNames

[Block](https://262.ecma-international.org/12.0/#prod-Block) : { }

1.  Return a new empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).

[StatementList](https://262.ecma-international.org/12.0/#prod-StatementList) : [StatementList](https://262.ecma-international.org/12.0/#prod-StatementList) [StatementListItem](https://262.ecma-international.org/12.0/#prod-StatementListItem)

1.  Let names be [TopLevelVarDeclaredNames](https://262.ecma-international.org/12.0/#sec-static-semantics-toplevelvardeclarednames) of [StatementList](https://262.ecma-international.org/12.0/#prod-StatementList).
2.  Append to names the elements of the [TopLevelVarDeclaredNames](https://262.ecma-international.org/12.0/#sec-static-semantics-toplevelvardeclarednames) of [StatementListItem](https://262.ecma-international.org/12.0/#prod-StatementListItem).
3.  Return names.

[StatementListItem](https://262.ecma-international.org/12.0/#prod-StatementListItem) : [Declaration](https://262.ecma-international.org/12.0/#prod-Declaration)

1.  If [Declaration](https://262.ecma-international.org/12.0/#prod-Declaration) is [Declaration](https://262.ecma-international.org/12.0/#prod-Declaration) : [HoistableDeclaration](https://262.ecma-international.org/12.0/#prod-HoistableDeclaration) , then
    1.  Return the [BoundNames](https://262.ecma-international.org/12.0/#sec-static-semantics-boundnames) of [HoistableDeclaration](https://262.ecma-international.org/12.0/#prod-HoistableDeclaration).
2.  Return a new empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).

[StatementListItem](https://262.ecma-international.org/12.0/#prod-StatementListItem) : [Statement](https://262.ecma-international.org/12.0/#prod-Statement)

1.  If [Statement](https://262.ecma-international.org/12.0/#prod-Statement) is [Statement](https://262.ecma-international.org/12.0/#prod-Statement) : [LabelledStatement](https://262.ecma-international.org/12.0/#prod-LabelledStatement) , return [TopLevelVarDeclaredNames](https://262.ecma-international.org/12.0/#sec-static-semantics-toplevelvardeclarednames) of [Statement](https://262.ecma-international.org/12.0/#prod-Statement).
2.  Return [VarDeclaredNames](https://262.ecma-international.org/12.0/#sec-static-semantics-vardeclarednames) of [Statement](https://262.ecma-international.org/12.0/#prod-Statement).

Note

At the top level of a function or script, inner function declarations are treated like var declarations.

[LabelledStatement](https://262.ecma-international.org/12.0/#prod-LabelledStatement) : [LabelIdentifier](https://262.ecma-international.org/12.0/#prod-LabelIdentifier) : [LabelledItem](https://262.ecma-international.org/12.0/#prod-LabelledItem)

1.  Return the [TopLevelVarDeclaredNames](https://262.ecma-international.org/12.0/#sec-static-semantics-toplevelvardeclarednames) of [LabelledItem](https://262.ecma-international.org/12.0/#prod-LabelledItem).

[LabelledItem](https://262.ecma-international.org/12.0/#prod-LabelledItem) : [Statement](https://262.ecma-international.org/12.0/#prod-Statement)

1.  If [Statement](https://262.ecma-international.org/12.0/#prod-Statement) is [Statement](https://262.ecma-international.org/12.0/#prod-Statement) : [LabelledStatement](https://262.ecma-international.org/12.0/#prod-LabelledStatement) , return [TopLevelVarDeclaredNames](https://262.ecma-international.org/12.0/#sec-static-semantics-toplevelvardeclarednames) of [Statement](https://262.ecma-international.org/12.0/#prod-Statement).
2.  Return [VarDeclaredNames](https://262.ecma-international.org/12.0/#sec-static-semantics-vardeclarednames) of [Statement](https://262.ecma-international.org/12.0/#prod-Statement).

[LabelledItem](https://262.ecma-international.org/12.0/#prod-LabelledItem) : [FunctionDeclaration](https://262.ecma-international.org/12.0/#prod-FunctionDeclaration)

1.  Return [BoundNames](https://262.ecma-international.org/12.0/#sec-static-semantics-boundnames) of [FunctionDeclaration](https://262.ecma-international.org/12.0/#prod-FunctionDeclaration).

## 8.1.11 Static Semantics: TopLevelVarScopedDeclarations

[Block](https://262.ecma-international.org/12.0/#prod-Block) : { }

1.  Return a new empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).

[StatementList](https://262.ecma-international.org/12.0/#prod-StatementList) : [StatementList](https://262.ecma-international.org/12.0/#prod-StatementList) [StatementListItem](https://262.ecma-international.org/12.0/#prod-StatementListItem)

1.  Let declarations be [TopLevelVarScopedDeclarations](https://262.ecma-international.org/12.0/#sec-static-semantics-toplevelvarscopeddeclarations) of [StatementList](https://262.ecma-international.org/12.0/#prod-StatementList).
2.  Append to declarations the elements of the [TopLevelVarScopedDeclarations](https://262.ecma-international.org/12.0/#sec-static-semantics-toplevelvarscopeddeclarations) of [StatementListItem](https://262.ecma-international.org/12.0/#prod-StatementListItem).
3.  Return declarations.

[StatementListItem](https://262.ecma-international.org/12.0/#prod-StatementListItem) : [Statement](https://262.ecma-international.org/12.0/#prod-Statement)

1.  If [Statement](https://262.ecma-international.org/12.0/#prod-Statement) is [Statement](https://262.ecma-international.org/12.0/#prod-Statement) : [LabelledStatement](https://262.ecma-international.org/12.0/#prod-LabelledStatement) , return [TopLevelVarScopedDeclarations](https://262.ecma-international.org/12.0/#sec-static-semantics-toplevelvarscopeddeclarations) of [Statement](https://262.ecma-international.org/12.0/#prod-Statement).
2.  Return [VarScopedDeclarations](https://262.ecma-international.org/12.0/#sec-static-semantics-varscopeddeclarations) of [Statement](https://262.ecma-international.org/12.0/#prod-Statement).

[StatementListItem](https://262.ecma-international.org/12.0/#prod-StatementListItem) : [Declaration](https://262.ecma-international.org/12.0/#prod-Declaration)

1.  If [Declaration](https://262.ecma-international.org/12.0/#prod-Declaration) is [Declaration](https://262.ecma-international.org/12.0/#prod-Declaration) : [HoistableDeclaration](https://262.ecma-international.org/12.0/#prod-HoistableDeclaration) , then
    1.  Let declaration be [DeclarationPart](https://262.ecma-international.org/12.0/#sec-static-semantics-declarationpart) of [HoistableDeclaration](https://262.ecma-international.org/12.0/#prod-HoistableDeclaration).
    2.  Return « declaration ».
2.  Return a new empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).

[LabelledStatement](https://262.ecma-international.org/12.0/#prod-LabelledStatement) : [LabelIdentifier](https://262.ecma-international.org/12.0/#prod-LabelIdentifier) : [LabelledItem](https://262.ecma-international.org/12.0/#prod-LabelledItem)

1.  Return the [TopLevelVarScopedDeclarations](https://262.ecma-international.org/12.0/#sec-static-semantics-toplevelvarscopeddeclarations) of [LabelledItem](https://262.ecma-international.org/12.0/#prod-LabelledItem).

[LabelledItem](https://262.ecma-international.org/12.0/#prod-LabelledItem) : [Statement](https://262.ecma-international.org/12.0/#prod-Statement)

1.  If [Statement](https://262.ecma-international.org/12.0/#prod-Statement) is [Statement](https://262.ecma-international.org/12.0/#prod-Statement) : [LabelledStatement](https://262.ecma-international.org/12.0/#prod-LabelledStatement) , return [TopLevelVarScopedDeclarations](https://262.ecma-international.org/12.0/#sec-static-semantics-toplevelvarscopeddeclarations) of [Statement](https://262.ecma-international.org/12.0/#prod-Statement).
2.  Return [VarScopedDeclarations](https://262.ecma-international.org/12.0/#sec-static-semantics-varscopeddeclarations) of [Statement](https://262.ecma-international.org/12.0/#prod-Statement).

[LabelledItem](https://262.ecma-international.org/12.0/#prod-LabelledItem) : [FunctionDeclaration](https://262.ecma-international.org/12.0/#prod-FunctionDeclaration)

1.  Return a [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) whose sole element is [FunctionDeclaration](https://262.ecma-international.org/12.0/#prod-FunctionDeclaration).

## 8.2 Labels

## 8.2.1 Static Semantics: ContainsDuplicateLabels

With parameter labelSet.

[Statement](https://262.ecma-international.org/12.0/#prod-Statement) : [VariableStatement](https://262.ecma-international.org/12.0/#prod-VariableStatement) [EmptyStatement](https://262.ecma-international.org/12.0/#prod-EmptyStatement) [ExpressionStatement](https://262.ecma-international.org/12.0/#prod-ExpressionStatement) [ContinueStatement](https://262.ecma-international.org/12.0/#prod-ContinueStatement) [BreakStatement](https://262.ecma-international.org/12.0/#prod-BreakStatement) [ReturnStatement](https://262.ecma-international.org/12.0/#prod-ReturnStatement) [ThrowStatement](https://262.ecma-international.org/12.0/#prod-ThrowStatement) [DebuggerStatement](https://262.ecma-international.org/12.0/#prod-DebuggerStatement) [Block](https://262.ecma-international.org/12.0/#prod-Block) : { } [StatementListItem](https://262.ecma-international.org/12.0/#prod-StatementListItem) : [Declaration](https://262.ecma-international.org/12.0/#prod-Declaration)

1.  Return false.

[StatementList](https://262.ecma-international.org/12.0/#prod-StatementList) : [StatementList](https://262.ecma-international.org/12.0/#prod-StatementList) [StatementListItem](https://262.ecma-international.org/12.0/#prod-StatementListItem)

1.  Let hasDuplicates be [ContainsDuplicateLabels](https://262.ecma-international.org/12.0/#sec-static-semantics-containsduplicatelabels) of [StatementList](https://262.ecma-international.org/12.0/#prod-StatementList) with argument labelSet.
2.  If hasDuplicates is true, return true.
3.  Return [ContainsDuplicateLabels](https://262.ecma-international.org/12.0/#sec-static-semantics-containsduplicatelabels) of [StatementListItem](https://262.ecma-international.org/12.0/#prod-StatementListItem) with argument labelSet.

[IfStatement](https://262.ecma-international.org/12.0/#prod-IfStatement) : if ( [Expression](https://262.ecma-international.org/12.0/#prod-Expression) ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement) else [Statement](https://262.ecma-international.org/12.0/#prod-Statement)

1.  Let hasDuplicate be [ContainsDuplicateLabels](https://262.ecma-international.org/12.0/#sec-static-semantics-containsduplicatelabels) of the first [Statement](https://262.ecma-international.org/12.0/#prod-Statement) with argument labelSet.
2.  If hasDuplicate is true, return true.
3.  Return [ContainsDuplicateLabels](https://262.ecma-international.org/12.0/#sec-static-semantics-containsduplicatelabels) of the second [Statement](https://262.ecma-international.org/12.0/#prod-Statement) with argument labelSet.

[IfStatement](https://262.ecma-international.org/12.0/#prod-IfStatement) : if ( [Expression](https://262.ecma-international.org/12.0/#prod-Expression) ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement)

1.  Return [ContainsDuplicateLabels](https://262.ecma-international.org/12.0/#sec-static-semantics-containsduplicatelabels) of [Statement](https://262.ecma-international.org/12.0/#prod-Statement) with argument labelSet.

[DoWhileStatement](https://262.ecma-international.org/12.0/#prod-DoWhileStatement) : do [Statement](https://262.ecma-international.org/12.0/#prod-Statement) while ( [Expression](https://262.ecma-international.org/12.0/#prod-Expression) ) ;

1.  Return [ContainsDuplicateLabels](https://262.ecma-international.org/12.0/#sec-static-semantics-containsduplicatelabels) of [Statement](https://262.ecma-international.org/12.0/#prod-Statement) with argument labelSet.

[WhileStatement](https://262.ecma-international.org/12.0/#prod-WhileStatement) : while ( [Expression](https://262.ecma-international.org/12.0/#prod-Expression) ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement)

1.  Return [ContainsDuplicateLabels](https://262.ecma-international.org/12.0/#sec-static-semantics-containsduplicatelabels) of [Statement](https://262.ecma-international.org/12.0/#prod-Statement) with argument labelSet.

[ForStatement](https://262.ecma-international.org/12.0/#prod-ForStatement) : for ( [Expression](https://262.ecma-international.org/12.0/#prod-Expression)opt ; [Expression](https://262.ecma-international.org/12.0/#prod-Expression)opt ; [Expression](https://262.ecma-international.org/12.0/#prod-Expression)opt ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement) for ( var [VariableDeclarationList](https://262.ecma-international.org/12.0/#prod-VariableDeclarationList) ; [Expression](https://262.ecma-international.org/12.0/#prod-Expression)opt ; [Expression](https://262.ecma-international.org/12.0/#prod-Expression)opt ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement) for ( [LexicalDeclaration](https://262.ecma-international.org/12.0/#prod-LexicalDeclaration) [Expression](https://262.ecma-international.org/12.0/#prod-Expression)opt ; [Expression](https://262.ecma-international.org/12.0/#prod-Expression)opt ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement)

1.  Return [ContainsDuplicateLabels](https://262.ecma-international.org/12.0/#sec-static-semantics-containsduplicatelabels) of [Statement](https://262.ecma-international.org/12.0/#prod-Statement) with argument labelSet.

[ForInOfStatement](https://262.ecma-international.org/12.0/#prod-ForInOfStatement) : for ( [LeftHandSideExpression](https://262.ecma-international.org/12.0/#prod-LeftHandSideExpression) in [Expression](https://262.ecma-international.org/12.0/#prod-Expression) ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement) for ( var [ForBinding](https://262.ecma-international.org/12.0/#prod-ForBinding) in [Expression](https://262.ecma-international.org/12.0/#prod-Expression) ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement) for ( [ForDeclaration](https://262.ecma-international.org/12.0/#prod-ForDeclaration) in [Expression](https://262.ecma-international.org/12.0/#prod-Expression) ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement) for ( [LeftHandSideExpression](https://262.ecma-international.org/12.0/#prod-LeftHandSideExpression) of [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression) ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement) for ( var [ForBinding](https://262.ecma-international.org/12.0/#prod-ForBinding) of [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression) ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement) for ( [ForDeclaration](https://262.ecma-international.org/12.0/#prod-ForDeclaration) of [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression) ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement) for await ( [LeftHandSideExpression](https://262.ecma-international.org/12.0/#prod-LeftHandSideExpression) of [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression) ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement) for await ( var [ForBinding](https://262.ecma-international.org/12.0/#prod-ForBinding) of [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression) ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement) for await ( [ForDeclaration](https://262.ecma-international.org/12.0/#prod-ForDeclaration) of [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression) ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement)

1.  Return [ContainsDuplicateLabels](https://262.ecma-international.org/12.0/#sec-static-semantics-containsduplicatelabels) of [Statement](https://262.ecma-international.org/12.0/#prod-Statement) with argument labelSet.

Note

This section is extended by Annex [B.3.6](https://262.ecma-international.org/12.0/#sec-initializers-in-forin-statement-heads).

[WithStatement](https://262.ecma-international.org/12.0/#prod-WithStatement) : with ( [Expression](https://262.ecma-international.org/12.0/#prod-Expression) ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement)

1.  Return [ContainsDuplicateLabels](https://262.ecma-international.org/12.0/#sec-static-semantics-containsduplicatelabels) of [Statement](https://262.ecma-international.org/12.0/#prod-Statement) with argument labelSet.

[SwitchStatement](https://262.ecma-international.org/12.0/#prod-SwitchStatement) : switch ( [Expression](https://262.ecma-international.org/12.0/#prod-Expression) ) [CaseBlock](https://262.ecma-international.org/12.0/#prod-CaseBlock)

1.  Return [ContainsDuplicateLabels](https://262.ecma-international.org/12.0/#sec-static-semantics-containsduplicatelabels) of [CaseBlock](https://262.ecma-international.org/12.0/#prod-CaseBlock) with argument labelSet.

[CaseBlock](https://262.ecma-international.org/12.0/#prod-CaseBlock) : { }

1.  Return false.

[CaseBlock](https://262.ecma-international.org/12.0/#prod-CaseBlock) : { [CaseClauses](https://262.ecma-international.org/12.0/#prod-CaseClauses)opt [DefaultClause](https://262.ecma-international.org/12.0/#prod-DefaultClause) [CaseClauses](https://262.ecma-international.org/12.0/#prod-CaseClauses)opt }

1.  If the first [CaseClauses](https://262.ecma-international.org/12.0/#prod-CaseClauses) is present, then
    1.  Let hasDuplicates be [ContainsDuplicateLabels](https://262.ecma-international.org/12.0/#sec-static-semantics-containsduplicatelabels) of the first [CaseClauses](https://262.ecma-international.org/12.0/#prod-CaseClauses) with argument labelSet.
    2.  If hasDuplicates is true, return true.
2.  Let hasDuplicates be [ContainsDuplicateLabels](https://262.ecma-international.org/12.0/#sec-static-semantics-containsduplicatelabels) of [DefaultClause](https://262.ecma-international.org/12.0/#prod-DefaultClause) with argument labelSet.
3.  If hasDuplicates is true, return true.
4.  If the second [CaseClauses](https://262.ecma-international.org/12.0/#prod-CaseClauses) is not present, return false.
5.  Return [ContainsDuplicateLabels](https://262.ecma-international.org/12.0/#sec-static-semantics-containsduplicatelabels) of the second [CaseClauses](https://262.ecma-international.org/12.0/#prod-CaseClauses) with argument labelSet.

[CaseClauses](https://262.ecma-international.org/12.0/#prod-CaseClauses) : [CaseClauses](https://262.ecma-international.org/12.0/#prod-CaseClauses) [CaseClause](https://262.ecma-international.org/12.0/#prod-CaseClause)

1.  Let hasDuplicates be [ContainsDuplicateLabels](https://262.ecma-international.org/12.0/#sec-static-semantics-containsduplicatelabels) of [CaseClauses](https://262.ecma-international.org/12.0/#prod-CaseClauses) with argument labelSet.
2.  If hasDuplicates is true, return true.
3.  Return [ContainsDuplicateLabels](https://262.ecma-international.org/12.0/#sec-static-semantics-containsduplicatelabels) of [CaseClause](https://262.ecma-international.org/12.0/#prod-CaseClause) with argument labelSet.

[CaseClause](https://262.ecma-international.org/12.0/#prod-CaseClause) : case [Expression](https://262.ecma-international.org/12.0/#prod-Expression) : [StatementList](https://262.ecma-international.org/12.0/#prod-StatementList)opt

1.  If the [StatementList](https://262.ecma-international.org/12.0/#prod-StatementList) is present, return [ContainsDuplicateLabels](https://262.ecma-international.org/12.0/#sec-static-semantics-containsduplicatelabels) of [StatementList](https://262.ecma-international.org/12.0/#prod-StatementList) with argument labelSet.
2.  Return false.

[DefaultClause](https://262.ecma-international.org/12.0/#prod-DefaultClause) : default : [StatementList](https://262.ecma-international.org/12.0/#prod-StatementList)opt

1.  If the [StatementList](https://262.ecma-international.org/12.0/#prod-StatementList) is present, return [ContainsDuplicateLabels](https://262.ecma-international.org/12.0/#sec-static-semantics-containsduplicatelabels) of [StatementList](https://262.ecma-international.org/12.0/#prod-StatementList) with argument labelSet.
2.  Return false.

[LabelledStatement](https://262.ecma-international.org/12.0/#prod-LabelledStatement) : [LabelIdentifier](https://262.ecma-international.org/12.0/#prod-LabelIdentifier) : [LabelledItem](https://262.ecma-international.org/12.0/#prod-LabelledItem)

1.  Let label be the [StringValue](https://262.ecma-international.org/12.0/#sec-static-semantics-stringvalue) of [LabelIdentifier](https://262.ecma-international.org/12.0/#prod-LabelIdentifier).
2.  If label is an element of labelSet, return true.
3.  Let newLabelSet be a copy of labelSet with label appended.
4.  Return [ContainsDuplicateLabels](https://262.ecma-international.org/12.0/#sec-static-semantics-containsduplicatelabels) of [LabelledItem](https://262.ecma-international.org/12.0/#prod-LabelledItem) with argument newLabelSet.

[LabelledItem](https://262.ecma-international.org/12.0/#prod-LabelledItem) : [FunctionDeclaration](https://262.ecma-international.org/12.0/#prod-FunctionDeclaration)

1.  Return false.

[TryStatement](https://262.ecma-international.org/12.0/#prod-TryStatement) : try [Block](https://262.ecma-international.org/12.0/#prod-Block) [Catch](https://262.ecma-international.org/12.0/#prod-Catch)

1.  Let hasDuplicates be [ContainsDuplicateLabels](https://262.ecma-international.org/12.0/#sec-static-semantics-containsduplicatelabels) of [Block](https://262.ecma-international.org/12.0/#prod-Block) with argument labelSet.
2.  If hasDuplicates is true, return true.
3.  Return [ContainsDuplicateLabels](https://262.ecma-international.org/12.0/#sec-static-semantics-containsduplicatelabels) of [Catch](https://262.ecma-international.org/12.0/#prod-Catch) with argument labelSet.

[TryStatement](https://262.ecma-international.org/12.0/#prod-TryStatement) : try [Block](https://262.ecma-international.org/12.0/#prod-Block) [Finally](https://262.ecma-international.org/12.0/#prod-Finally)

1.  Let hasDuplicates be [ContainsDuplicateLabels](https://262.ecma-international.org/12.0/#sec-static-semantics-containsduplicatelabels) of [Block](https://262.ecma-international.org/12.0/#prod-Block) with argument labelSet.
2.  If hasDuplicates is true, return true.
3.  Return [ContainsDuplicateLabels](https://262.ecma-international.org/12.0/#sec-static-semantics-containsduplicatelabels) of [Finally](https://262.ecma-international.org/12.0/#prod-Finally) with argument labelSet.

[TryStatement](https://262.ecma-international.org/12.0/#prod-TryStatement) : try [Block](https://262.ecma-international.org/12.0/#prod-Block) [Catch](https://262.ecma-international.org/12.0/#prod-Catch) [Finally](https://262.ecma-international.org/12.0/#prod-Finally)

1.  Let hasDuplicates be [ContainsDuplicateLabels](https://262.ecma-international.org/12.0/#sec-static-semantics-containsduplicatelabels) of [Block](https://262.ecma-international.org/12.0/#prod-Block) with argument labelSet.
2.  If hasDuplicates is true, return true.
3.  Let hasDuplicates be [ContainsDuplicateLabels](https://262.ecma-international.org/12.0/#sec-static-semantics-containsduplicatelabels) of [Catch](https://262.ecma-international.org/12.0/#prod-Catch) with argument labelSet.
4.  If hasDuplicates is true, return true.
5.  Return [ContainsDuplicateLabels](https://262.ecma-international.org/12.0/#sec-static-semantics-containsduplicatelabels) of [Finally](https://262.ecma-international.org/12.0/#prod-Finally) with argument labelSet.

[Catch](https://262.ecma-international.org/12.0/#prod-Catch) : catch ( [CatchParameter](https://262.ecma-international.org/12.0/#prod-CatchParameter) ) [Block](https://262.ecma-international.org/12.0/#prod-Block)

1.  Return [ContainsDuplicateLabels](https://262.ecma-international.org/12.0/#sec-static-semantics-containsduplicatelabels) of [Block](https://262.ecma-international.org/12.0/#prod-Block) with argument labelSet.

[FunctionStatementList](https://262.ecma-international.org/12.0/#prod-FunctionStatementList) : \[empty\]

1.  Return false.

[ModuleItemList](https://262.ecma-international.org/12.0/#prod-ModuleItemList) : [ModuleItemList](https://262.ecma-international.org/12.0/#prod-ModuleItemList) [ModuleItem](https://262.ecma-international.org/12.0/#prod-ModuleItem)

1.  Let hasDuplicates be [ContainsDuplicateLabels](https://262.ecma-international.org/12.0/#sec-static-semantics-containsduplicatelabels) of [ModuleItemList](https://262.ecma-international.org/12.0/#prod-ModuleItemList) with argument labelSet.
2.  If hasDuplicates is true, return true.
3.  Return [ContainsDuplicateLabels](https://262.ecma-international.org/12.0/#sec-static-semantics-containsduplicatelabels) of [ModuleItem](https://262.ecma-international.org/12.0/#prod-ModuleItem) with argument labelSet.

[ModuleItem](https://262.ecma-international.org/12.0/#prod-ModuleItem) : [ImportDeclaration](https://262.ecma-international.org/12.0/#prod-ImportDeclaration) [ExportDeclaration](https://262.ecma-international.org/12.0/#prod-ExportDeclaration)

1.  Return false.

## 8.2.2 Static Semantics: ContainsUndefinedBreakTarget

With parameter labelSet.

[Statement](https://262.ecma-international.org/12.0/#prod-Statement) : [VariableStatement](https://262.ecma-international.org/12.0/#prod-VariableStatement) [EmptyStatement](https://262.ecma-international.org/12.0/#prod-EmptyStatement) [ExpressionStatement](https://262.ecma-international.org/12.0/#prod-ExpressionStatement) [ContinueStatement](https://262.ecma-international.org/12.0/#prod-ContinueStatement) [ReturnStatement](https://262.ecma-international.org/12.0/#prod-ReturnStatement) [ThrowStatement](https://262.ecma-international.org/12.0/#prod-ThrowStatement) [DebuggerStatement](https://262.ecma-international.org/12.0/#prod-DebuggerStatement) [Block](https://262.ecma-international.org/12.0/#prod-Block) : { } [StatementListItem](https://262.ecma-international.org/12.0/#prod-StatementListItem) : [Declaration](https://262.ecma-international.org/12.0/#prod-Declaration)

1.  Return false.

[StatementList](https://262.ecma-international.org/12.0/#prod-StatementList) : [StatementList](https://262.ecma-international.org/12.0/#prod-StatementList) [StatementListItem](https://262.ecma-international.org/12.0/#prod-StatementListItem)

1.  Let hasUndefinedLabels be [ContainsUndefinedBreakTarget](https://262.ecma-international.org/12.0/#sec-static-semantics-containsundefinedbreaktarget) of [StatementList](https://262.ecma-international.org/12.0/#prod-StatementList) with argument labelSet.
2.  If hasUndefinedLabels is true, return true.
3.  Return [ContainsUndefinedBreakTarget](https://262.ecma-international.org/12.0/#sec-static-semantics-containsundefinedbreaktarget) of [StatementListItem](https://262.ecma-international.org/12.0/#prod-StatementListItem) with argument labelSet.

[IfStatement](https://262.ecma-international.org/12.0/#prod-IfStatement) : if ( [Expression](https://262.ecma-international.org/12.0/#prod-Expression) ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement) else [Statement](https://262.ecma-international.org/12.0/#prod-Statement)

1.  Let hasUndefinedLabels be [ContainsUndefinedBreakTarget](https://262.ecma-international.org/12.0/#sec-static-semantics-containsundefinedbreaktarget) of the first [Statement](https://262.ecma-international.org/12.0/#prod-Statement) with argument labelSet.
2.  If hasUndefinedLabels is true, return true.
3.  Return [ContainsUndefinedBreakTarget](https://262.ecma-international.org/12.0/#sec-static-semantics-containsundefinedbreaktarget) of the second [Statement](https://262.ecma-international.org/12.0/#prod-Statement) with argument labelSet.

[IfStatement](https://262.ecma-international.org/12.0/#prod-IfStatement) : if ( [Expression](https://262.ecma-international.org/12.0/#prod-Expression) ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement)

1.  Return [ContainsUndefinedBreakTarget](https://262.ecma-international.org/12.0/#sec-static-semantics-containsundefinedbreaktarget) of [Statement](https://262.ecma-international.org/12.0/#prod-Statement) with argument labelSet.

[DoWhileStatement](https://262.ecma-international.org/12.0/#prod-DoWhileStatement) : do [Statement](https://262.ecma-international.org/12.0/#prod-Statement) while ( [Expression](https://262.ecma-international.org/12.0/#prod-Expression) ) ;

1.  Return [ContainsUndefinedBreakTarget](https://262.ecma-international.org/12.0/#sec-static-semantics-containsundefinedbreaktarget) of [Statement](https://262.ecma-international.org/12.0/#prod-Statement) with argument labelSet.

[WhileStatement](https://262.ecma-international.org/12.0/#prod-WhileStatement) : while ( [Expression](https://262.ecma-international.org/12.0/#prod-Expression) ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement)

1.  Return [ContainsUndefinedBreakTarget](https://262.ecma-international.org/12.0/#sec-static-semantics-containsundefinedbreaktarget) of [Statement](https://262.ecma-international.org/12.0/#prod-Statement) with argument labelSet.

[ForStatement](https://262.ecma-international.org/12.0/#prod-ForStatement) : for ( [Expression](https://262.ecma-international.org/12.0/#prod-Expression)opt ; [Expression](https://262.ecma-international.org/12.0/#prod-Expression)opt ; [Expression](https://262.ecma-international.org/12.0/#prod-Expression)opt ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement) for ( var [VariableDeclarationList](https://262.ecma-international.org/12.0/#prod-VariableDeclarationList) ; [Expression](https://262.ecma-international.org/12.0/#prod-Expression)opt ; [Expression](https://262.ecma-international.org/12.0/#prod-Expression)opt ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement) for ( [LexicalDeclaration](https://262.ecma-international.org/12.0/#prod-LexicalDeclaration) [Expression](https://262.ecma-international.org/12.0/#prod-Expression)opt ; [Expression](https://262.ecma-international.org/12.0/#prod-Expression)opt ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement)

1.  Return [ContainsUndefinedBreakTarget](https://262.ecma-international.org/12.0/#sec-static-semantics-containsundefinedbreaktarget) of [Statement](https://262.ecma-international.org/12.0/#prod-Statement) with argument labelSet.

[ForInOfStatement](https://262.ecma-international.org/12.0/#prod-ForInOfStatement) : for ( [LeftHandSideExpression](https://262.ecma-international.org/12.0/#prod-LeftHandSideExpression) in [Expression](https://262.ecma-international.org/12.0/#prod-Expression) ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement) for ( var [ForBinding](https://262.ecma-international.org/12.0/#prod-ForBinding) in [Expression](https://262.ecma-international.org/12.0/#prod-Expression) ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement) for ( [ForDeclaration](https://262.ecma-international.org/12.0/#prod-ForDeclaration) in [Expression](https://262.ecma-international.org/12.0/#prod-Expression) ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement) for ( [LeftHandSideExpression](https://262.ecma-international.org/12.0/#prod-LeftHandSideExpression) of [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression) ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement) for ( var [ForBinding](https://262.ecma-international.org/12.0/#prod-ForBinding) of [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression) ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement) for ( [ForDeclaration](https://262.ecma-international.org/12.0/#prod-ForDeclaration) of [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression) ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement) for await ( [LeftHandSideExpression](https://262.ecma-international.org/12.0/#prod-LeftHandSideExpression) of [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression) ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement) for await ( var [ForBinding](https://262.ecma-international.org/12.0/#prod-ForBinding) of [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression) ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement) for await ( [ForDeclaration](https://262.ecma-international.org/12.0/#prod-ForDeclaration) of [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression) ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement)

1.  Return [ContainsUndefinedBreakTarget](https://262.ecma-international.org/12.0/#sec-static-semantics-containsundefinedbreaktarget) of [Statement](https://262.ecma-international.org/12.0/#prod-Statement) with argument labelSet.

Note

This section is extended by Annex [B.3.6](https://262.ecma-international.org/12.0/#sec-initializers-in-forin-statement-heads).

[BreakStatement](https://262.ecma-international.org/12.0/#prod-BreakStatement) : break ;

1.  Return false.

[BreakStatement](https://262.ecma-international.org/12.0/#prod-BreakStatement) : break [LabelIdentifier](https://262.ecma-international.org/12.0/#prod-LabelIdentifier) ;

1.  If the [StringValue](https://262.ecma-international.org/12.0/#sec-static-semantics-stringvalue) of [LabelIdentifier](https://262.ecma-international.org/12.0/#prod-LabelIdentifier) is not an element of labelSet, return true.
2.  Return false.

[WithStatement](https://262.ecma-international.org/12.0/#prod-WithStatement) : with ( [Expression](https://262.ecma-international.org/12.0/#prod-Expression) ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement)

1.  Return [ContainsUndefinedBreakTarget](https://262.ecma-international.org/12.0/#sec-static-semantics-containsundefinedbreaktarget) of [Statement](https://262.ecma-international.org/12.0/#prod-Statement) with argument labelSet.

[SwitchStatement](https://262.ecma-international.org/12.0/#prod-SwitchStatement) : switch ( [Expression](https://262.ecma-international.org/12.0/#prod-Expression) ) [CaseBlock](https://262.ecma-international.org/12.0/#prod-CaseBlock)

1.  Return [ContainsUndefinedBreakTarget](https://262.ecma-international.org/12.0/#sec-static-semantics-containsundefinedbreaktarget) of [CaseBlock](https://262.ecma-international.org/12.0/#prod-CaseBlock) with argument labelSet.

[CaseBlock](https://262.ecma-international.org/12.0/#prod-CaseBlock) : { }

1.  Return false.

[CaseBlock](https://262.ecma-international.org/12.0/#prod-CaseBlock) : { [CaseClauses](https://262.ecma-international.org/12.0/#prod-CaseClauses)opt [DefaultClause](https://262.ecma-international.org/12.0/#prod-DefaultClause) [CaseClauses](https://262.ecma-international.org/12.0/#prod-CaseClauses)opt }

1.  If the first [CaseClauses](https://262.ecma-international.org/12.0/#prod-CaseClauses) is present, then
    1.  Let hasUndefinedLabels be [ContainsUndefinedBreakTarget](https://262.ecma-international.org/12.0/#sec-static-semantics-containsundefinedbreaktarget) of the first [CaseClauses](https://262.ecma-international.org/12.0/#prod-CaseClauses) with argument labelSet.
    2.  If hasUndefinedLabels is true, return true.
2.  Let hasUndefinedLabels be [ContainsUndefinedBreakTarget](https://262.ecma-international.org/12.0/#sec-static-semantics-containsundefinedbreaktarget) of [DefaultClause](https://262.ecma-international.org/12.0/#prod-DefaultClause) with argument labelSet.
3.  If hasUndefinedLabels is true, return true.
4.  If the second [CaseClauses](https://262.ecma-international.org/12.0/#prod-CaseClauses) is not present, return false.
5.  Return [ContainsUndefinedBreakTarget](https://262.ecma-international.org/12.0/#sec-static-semantics-containsundefinedbreaktarget) of the second [CaseClauses](https://262.ecma-international.org/12.0/#prod-CaseClauses) with argument labelSet.

[CaseClauses](https://262.ecma-international.org/12.0/#prod-CaseClauses) : [CaseClauses](https://262.ecma-international.org/12.0/#prod-CaseClauses) [CaseClause](https://262.ecma-international.org/12.0/#prod-CaseClause)

1.  Let hasUndefinedLabels be [ContainsUndefinedBreakTarget](https://262.ecma-international.org/12.0/#sec-static-semantics-containsundefinedbreaktarget) of [CaseClauses](https://262.ecma-international.org/12.0/#prod-CaseClauses) with argument labelSet.
2.  If hasUndefinedLabels is true, return true.
3.  Return [ContainsUndefinedBreakTarget](https://262.ecma-international.org/12.0/#sec-static-semantics-containsundefinedbreaktarget) of [CaseClause](https://262.ecma-international.org/12.0/#prod-CaseClause) with argument labelSet.

[CaseClause](https://262.ecma-international.org/12.0/#prod-CaseClause) : case [Expression](https://262.ecma-international.org/12.0/#prod-Expression) : [StatementList](https://262.ecma-international.org/12.0/#prod-StatementList)opt

1.  If the [StatementList](https://262.ecma-international.org/12.0/#prod-StatementList) is present, return [ContainsUndefinedBreakTarget](https://262.ecma-international.org/12.0/#sec-static-semantics-containsundefinedbreaktarget) of [StatementList](https://262.ecma-international.org/12.0/#prod-StatementList) with argument labelSet.
2.  Return false.

[DefaultClause](https://262.ecma-international.org/12.0/#prod-DefaultClause) : default : [StatementList](https://262.ecma-international.org/12.0/#prod-StatementList)opt

1.  If the [StatementList](https://262.ecma-international.org/12.0/#prod-StatementList) is present, return [ContainsUndefinedBreakTarget](https://262.ecma-international.org/12.0/#sec-static-semantics-containsundefinedbreaktarget) of [StatementList](https://262.ecma-international.org/12.0/#prod-StatementList) with argument labelSet.
2.  Return false.

[LabelledStatement](https://262.ecma-international.org/12.0/#prod-LabelledStatement) : [LabelIdentifier](https://262.ecma-international.org/12.0/#prod-LabelIdentifier) : [LabelledItem](https://262.ecma-international.org/12.0/#prod-LabelledItem)

1.  Let label be the [StringValue](https://262.ecma-international.org/12.0/#sec-static-semantics-stringvalue) of [LabelIdentifier](https://262.ecma-international.org/12.0/#prod-LabelIdentifier).
2.  Let newLabelSet be a copy of labelSet with label appended.
3.  Return [ContainsUndefinedBreakTarget](https://262.ecma-international.org/12.0/#sec-static-semantics-containsundefinedbreaktarget) of [LabelledItem](https://262.ecma-international.org/12.0/#prod-LabelledItem) with argument newLabelSet.

[LabelledItem](https://262.ecma-international.org/12.0/#prod-LabelledItem) : [FunctionDeclaration](https://262.ecma-international.org/12.0/#prod-FunctionDeclaration)

1.  Return false.

[TryStatement](https://262.ecma-international.org/12.0/#prod-TryStatement) : try [Block](https://262.ecma-international.org/12.0/#prod-Block) [Catch](https://262.ecma-international.org/12.0/#prod-Catch)

1.  Let hasUndefinedLabels be [ContainsUndefinedBreakTarget](https://262.ecma-international.org/12.0/#sec-static-semantics-containsundefinedbreaktarget) of [Block](https://262.ecma-international.org/12.0/#prod-Block) with argument labelSet.
2.  If hasUndefinedLabels is true, return true.
3.  Return [ContainsUndefinedBreakTarget](https://262.ecma-international.org/12.0/#sec-static-semantics-containsundefinedbreaktarget) of [Catch](https://262.ecma-international.org/12.0/#prod-Catch) with argument labelSet.

[TryStatement](https://262.ecma-international.org/12.0/#prod-TryStatement) : try [Block](https://262.ecma-international.org/12.0/#prod-Block) [Finally](https://262.ecma-international.org/12.0/#prod-Finally)

1.  Let hasUndefinedLabels be [ContainsUndefinedBreakTarget](https://262.ecma-international.org/12.0/#sec-static-semantics-containsundefinedbreaktarget) of [Block](https://262.ecma-international.org/12.0/#prod-Block) with argument labelSet.
2.  If hasUndefinedLabels is true, return true.
3.  Return [ContainsUndefinedBreakTarget](https://262.ecma-international.org/12.0/#sec-static-semantics-containsundefinedbreaktarget) of [Finally](https://262.ecma-international.org/12.0/#prod-Finally) with argument labelSet.

[TryStatement](https://262.ecma-international.org/12.0/#prod-TryStatement) : try [Block](https://262.ecma-international.org/12.0/#prod-Block) [Catch](https://262.ecma-international.org/12.0/#prod-Catch) [Finally](https://262.ecma-international.org/12.0/#prod-Finally)

1.  Let hasUndefinedLabels be [ContainsUndefinedBreakTarget](https://262.ecma-international.org/12.0/#sec-static-semantics-containsundefinedbreaktarget) of [Block](https://262.ecma-international.org/12.0/#prod-Block) with argument labelSet.
2.  If hasUndefinedLabels is true, return true.
3.  Let hasUndefinedLabels be [ContainsUndefinedBreakTarget](https://262.ecma-international.org/12.0/#sec-static-semantics-containsundefinedbreaktarget) of [Catch](https://262.ecma-international.org/12.0/#prod-Catch) with argument labelSet.
4.  If hasUndefinedLabels is true, return true.
5.  Return [ContainsUndefinedBreakTarget](https://262.ecma-international.org/12.0/#sec-static-semantics-containsundefinedbreaktarget) of [Finally](https://262.ecma-international.org/12.0/#prod-Finally) with argument labelSet.

[Catch](https://262.ecma-international.org/12.0/#prod-Catch) : catch ( [CatchParameter](https://262.ecma-international.org/12.0/#prod-CatchParameter) ) [Block](https://262.ecma-international.org/12.0/#prod-Block)

1.  Return [ContainsUndefinedBreakTarget](https://262.ecma-international.org/12.0/#sec-static-semantics-containsundefinedbreaktarget) of [Block](https://262.ecma-international.org/12.0/#prod-Block) with argument labelSet.

[FunctionStatementList](https://262.ecma-international.org/12.0/#prod-FunctionStatementList) : \[empty\]

1.  Return false.

[ModuleItemList](https://262.ecma-international.org/12.0/#prod-ModuleItemList) : [ModuleItemList](https://262.ecma-international.org/12.0/#prod-ModuleItemList) [ModuleItem](https://262.ecma-international.org/12.0/#prod-ModuleItem)

1.  Let hasUndefinedLabels be [ContainsUndefinedBreakTarget](https://262.ecma-international.org/12.0/#sec-static-semantics-containsundefinedbreaktarget) of [ModuleItemList](https://262.ecma-international.org/12.0/#prod-ModuleItemList) with argument labelSet.
2.  If hasUndefinedLabels is true, return true.
3.  Return [ContainsUndefinedBreakTarget](https://262.ecma-international.org/12.0/#sec-static-semantics-containsundefinedbreaktarget) of [ModuleItem](https://262.ecma-international.org/12.0/#prod-ModuleItem) with argument labelSet.

[ModuleItem](https://262.ecma-international.org/12.0/#prod-ModuleItem) : [ImportDeclaration](https://262.ecma-international.org/12.0/#prod-ImportDeclaration) [ExportDeclaration](https://262.ecma-international.org/12.0/#prod-ExportDeclaration)

1.  Return false.

## 8.2.3 Static Semantics: ContainsUndefinedContinueTarget

With parameters iterationSet and labelSet.

[Statement](https://262.ecma-international.org/12.0/#prod-Statement) : [VariableStatement](https://262.ecma-international.org/12.0/#prod-VariableStatement) [EmptyStatement](https://262.ecma-international.org/12.0/#prod-EmptyStatement) [ExpressionStatement](https://262.ecma-international.org/12.0/#prod-ExpressionStatement) [BreakStatement](https://262.ecma-international.org/12.0/#prod-BreakStatement) [ReturnStatement](https://262.ecma-international.org/12.0/#prod-ReturnStatement) [ThrowStatement](https://262.ecma-international.org/12.0/#prod-ThrowStatement) [DebuggerStatement](https://262.ecma-international.org/12.0/#prod-DebuggerStatement) [Block](https://262.ecma-international.org/12.0/#prod-Block) : { } [StatementListItem](https://262.ecma-international.org/12.0/#prod-StatementListItem) : [Declaration](https://262.ecma-international.org/12.0/#prod-Declaration)

1.  Return false.

[BreakableStatement](https://262.ecma-international.org/12.0/#prod-BreakableStatement) : [IterationStatement](https://262.ecma-international.org/12.0/#prod-IterationStatement)

1.  Let newIterationSet be a copy of iterationSet with all the elements of labelSet appended.
2.  Return [ContainsUndefinedContinueTarget](https://262.ecma-international.org/12.0/#sec-static-semantics-containsundefinedcontinuetarget) of [IterationStatement](https://262.ecma-international.org/12.0/#prod-IterationStatement) with arguments newIterationSet and « ».

[StatementList](https://262.ecma-international.org/12.0/#prod-StatementList) : [StatementList](https://262.ecma-international.org/12.0/#prod-StatementList) [StatementListItem](https://262.ecma-international.org/12.0/#prod-StatementListItem)

1.  Let hasUndefinedLabels be [ContainsUndefinedContinueTarget](https://262.ecma-international.org/12.0/#sec-static-semantics-containsundefinedcontinuetarget) of [StatementList](https://262.ecma-international.org/12.0/#prod-StatementList) with arguments iterationSet and « ».
2.  If hasUndefinedLabels is true, return true.
3.  Return [ContainsUndefinedContinueTarget](https://262.ecma-international.org/12.0/#sec-static-semantics-containsundefinedcontinuetarget) of [StatementListItem](https://262.ecma-international.org/12.0/#prod-StatementListItem) with arguments iterationSet and « ».

[IfStatement](https://262.ecma-international.org/12.0/#prod-IfStatement) : if ( [Expression](https://262.ecma-international.org/12.0/#prod-Expression) ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement) else [Statement](https://262.ecma-international.org/12.0/#prod-Statement)

1.  Let hasUndefinedLabels be [ContainsUndefinedContinueTarget](https://262.ecma-international.org/12.0/#sec-static-semantics-containsundefinedcontinuetarget) of the first [Statement](https://262.ecma-international.org/12.0/#prod-Statement) with arguments iterationSet and « ».
2.  If hasUndefinedLabels is true, return true.
3.  Return [ContainsUndefinedContinueTarget](https://262.ecma-international.org/12.0/#sec-static-semantics-containsundefinedcontinuetarget) of the second [Statement](https://262.ecma-international.org/12.0/#prod-Statement) with arguments iterationSet and « ».

[IfStatement](https://262.ecma-international.org/12.0/#prod-IfStatement) : if ( [Expression](https://262.ecma-international.org/12.0/#prod-Expression) ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement)

1.  Return [ContainsUndefinedContinueTarget](https://262.ecma-international.org/12.0/#sec-static-semantics-containsundefinedcontinuetarget) of [Statement](https://262.ecma-international.org/12.0/#prod-Statement) with arguments iterationSet and « ».

[DoWhileStatement](https://262.ecma-international.org/12.0/#prod-DoWhileStatement) : do [Statement](https://262.ecma-international.org/12.0/#prod-Statement) while ( [Expression](https://262.ecma-international.org/12.0/#prod-Expression) ) ;

1.  Return [ContainsUndefinedContinueTarget](https://262.ecma-international.org/12.0/#sec-static-semantics-containsundefinedcontinuetarget) of [Statement](https://262.ecma-international.org/12.0/#prod-Statement) with arguments iterationSet and « ».

[WhileStatement](https://262.ecma-international.org/12.0/#prod-WhileStatement) : while ( [Expression](https://262.ecma-international.org/12.0/#prod-Expression) ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement)

1.  Return [ContainsUndefinedContinueTarget](https://262.ecma-international.org/12.0/#sec-static-semantics-containsundefinedcontinuetarget) of [Statement](https://262.ecma-international.org/12.0/#prod-Statement) with arguments iterationSet and « ».

[ForStatement](https://262.ecma-international.org/12.0/#prod-ForStatement) : for ( [Expression](https://262.ecma-international.org/12.0/#prod-Expression)opt ; [Expression](https://262.ecma-international.org/12.0/#prod-Expression)opt ; [Expression](https://262.ecma-international.org/12.0/#prod-Expression)opt ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement) for ( var [VariableDeclarationList](https://262.ecma-international.org/12.0/#prod-VariableDeclarationList) ; [Expression](https://262.ecma-international.org/12.0/#prod-Expression)opt ; [Expression](https://262.ecma-international.org/12.0/#prod-Expression)opt ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement) for ( [LexicalDeclaration](https://262.ecma-international.org/12.0/#prod-LexicalDeclaration) [Expression](https://262.ecma-international.org/12.0/#prod-Expression)opt ; [Expression](https://262.ecma-international.org/12.0/#prod-Expression)opt ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement)

1.  Return [ContainsUndefinedContinueTarget](https://262.ecma-international.org/12.0/#sec-static-semantics-containsundefinedcontinuetarget) of [Statement](https://262.ecma-international.org/12.0/#prod-Statement) with arguments iterationSet and « ».

[ForInOfStatement](https://262.ecma-international.org/12.0/#prod-ForInOfStatement) : for ( [LeftHandSideExpression](https://262.ecma-international.org/12.0/#prod-LeftHandSideExpression) in [Expression](https://262.ecma-international.org/12.0/#prod-Expression) ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement) for ( var [ForBinding](https://262.ecma-international.org/12.0/#prod-ForBinding) in [Expression](https://262.ecma-international.org/12.0/#prod-Expression) ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement) for ( [ForDeclaration](https://262.ecma-international.org/12.0/#prod-ForDeclaration) in [Expression](https://262.ecma-international.org/12.0/#prod-Expression) ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement) for ( [LeftHandSideExpression](https://262.ecma-international.org/12.0/#prod-LeftHandSideExpression) of [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression) ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement) for ( var [ForBinding](https://262.ecma-international.org/12.0/#prod-ForBinding) of [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression) ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement) for ( [ForDeclaration](https://262.ecma-international.org/12.0/#prod-ForDeclaration) of [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression) ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement) for await ( [LeftHandSideExpression](https://262.ecma-international.org/12.0/#prod-LeftHandSideExpression) of [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression) ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement) for await ( var [ForBinding](https://262.ecma-international.org/12.0/#prod-ForBinding) of [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression) ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement) for await ( [ForDeclaration](https://262.ecma-international.org/12.0/#prod-ForDeclaration) of [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression) ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement)

1.  Return [ContainsUndefinedContinueTarget](https://262.ecma-international.org/12.0/#sec-static-semantics-containsundefinedcontinuetarget) of [Statement](https://262.ecma-international.org/12.0/#prod-Statement) with arguments iterationSet and « ».

Note

This section is extended by Annex [B.3.6](https://262.ecma-international.org/12.0/#sec-initializers-in-forin-statement-heads).

[ContinueStatement](https://262.ecma-international.org/12.0/#prod-ContinueStatement) : continue ;

1.  Return false.

[ContinueStatement](https://262.ecma-international.org/12.0/#prod-ContinueStatement) : continue [LabelIdentifier](https://262.ecma-international.org/12.0/#prod-LabelIdentifier) ;

1.  If the [StringValue](https://262.ecma-international.org/12.0/#sec-static-semantics-stringvalue) of [LabelIdentifier](https://262.ecma-international.org/12.0/#prod-LabelIdentifier) is not an element of iterationSet, return true.
2.  Return false.

[WithStatement](https://262.ecma-international.org/12.0/#prod-WithStatement) : with ( [Expression](https://262.ecma-international.org/12.0/#prod-Expression) ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement)

1.  Return [ContainsUndefinedContinueTarget](https://262.ecma-international.org/12.0/#sec-static-semantics-containsundefinedcontinuetarget) of [Statement](https://262.ecma-international.org/12.0/#prod-Statement) with arguments iterationSet and « ».

[SwitchStatement](https://262.ecma-international.org/12.0/#prod-SwitchStatement) : switch ( [Expression](https://262.ecma-international.org/12.0/#prod-Expression) ) [CaseBlock](https://262.ecma-international.org/12.0/#prod-CaseBlock)

1.  Return [ContainsUndefinedContinueTarget](https://262.ecma-international.org/12.0/#sec-static-semantics-containsundefinedcontinuetarget) of [CaseBlock](https://262.ecma-international.org/12.0/#prod-CaseBlock) with arguments iterationSet and « ».

[CaseBlock](https://262.ecma-international.org/12.0/#prod-CaseBlock) : { }

1.  Return false.

[CaseBlock](https://262.ecma-international.org/12.0/#prod-CaseBlock) : { [CaseClauses](https://262.ecma-international.org/12.0/#prod-CaseClauses)opt [DefaultClause](https://262.ecma-international.org/12.0/#prod-DefaultClause) [CaseClauses](https://262.ecma-international.org/12.0/#prod-CaseClauses)opt }

1.  If the first [CaseClauses](https://262.ecma-international.org/12.0/#prod-CaseClauses) is present, then
    1.  Let hasUndefinedLabels be [ContainsUndefinedContinueTarget](https://262.ecma-international.org/12.0/#sec-static-semantics-containsundefinedcontinuetarget) of the first [CaseClauses](https://262.ecma-international.org/12.0/#prod-CaseClauses) with arguments iterationSet and « ».
    2.  If hasUndefinedLabels is true, return true.
2.  Let hasUndefinedLabels be [ContainsUndefinedContinueTarget](https://262.ecma-international.org/12.0/#sec-static-semantics-containsundefinedcontinuetarget) of [DefaultClause](https://262.ecma-international.org/12.0/#prod-DefaultClause) with arguments iterationSet and « ».
3.  If hasUndefinedLabels is true, return true.
4.  If the second [CaseClauses](https://262.ecma-international.org/12.0/#prod-CaseClauses) is not present, return false.
5.  Return [ContainsUndefinedContinueTarget](https://262.ecma-international.org/12.0/#sec-static-semantics-containsundefinedcontinuetarget) of the second [CaseClauses](https://262.ecma-international.org/12.0/#prod-CaseClauses) with arguments iterationSet and « ».

[CaseClauses](https://262.ecma-international.org/12.0/#prod-CaseClauses) : [CaseClauses](https://262.ecma-international.org/12.0/#prod-CaseClauses) [CaseClause](https://262.ecma-international.org/12.0/#prod-CaseClause)

1.  Let hasUndefinedLabels be [ContainsUndefinedContinueTarget](https://262.ecma-international.org/12.0/#sec-static-semantics-containsundefinedcontinuetarget) of [CaseClauses](https://262.ecma-international.org/12.0/#prod-CaseClauses) with arguments iterationSet and « ».
2.  If hasUndefinedLabels is true, return true.
3.  Return [ContainsUndefinedContinueTarget](https://262.ecma-international.org/12.0/#sec-static-semantics-containsundefinedcontinuetarget) of [CaseClause](https://262.ecma-international.org/12.0/#prod-CaseClause) with arguments iterationSet and « ».

[CaseClause](https://262.ecma-international.org/12.0/#prod-CaseClause) : case [Expression](https://262.ecma-international.org/12.0/#prod-Expression) : [StatementList](https://262.ecma-international.org/12.0/#prod-StatementList)opt

1.  If the [StatementList](https://262.ecma-international.org/12.0/#prod-StatementList) is present, return [ContainsUndefinedContinueTarget](https://262.ecma-international.org/12.0/#sec-static-semantics-containsundefinedcontinuetarget) of [StatementList](https://262.ecma-international.org/12.0/#prod-StatementList) with arguments iterationSet and « ».
2.  Return false.

[DefaultClause](https://262.ecma-international.org/12.0/#prod-DefaultClause) : default : [StatementList](https://262.ecma-international.org/12.0/#prod-StatementList)opt

1.  If the [StatementList](https://262.ecma-international.org/12.0/#prod-StatementList) is present, return [ContainsUndefinedContinueTarget](https://262.ecma-international.org/12.0/#sec-static-semantics-containsundefinedcontinuetarget) of [StatementList](https://262.ecma-international.org/12.0/#prod-StatementList) with arguments iterationSet and « ».
2.  Return false.

[LabelledStatement](https://262.ecma-international.org/12.0/#prod-LabelledStatement) : [LabelIdentifier](https://262.ecma-international.org/12.0/#prod-LabelIdentifier) : [LabelledItem](https://262.ecma-international.org/12.0/#prod-LabelledItem)

1.  Let label be the [StringValue](https://262.ecma-international.org/12.0/#sec-static-semantics-stringvalue) of [LabelIdentifier](https://262.ecma-international.org/12.0/#prod-LabelIdentifier).
2.  Let newLabelSet be a copy of labelSet with label appended.
3.  Return [ContainsUndefinedContinueTarget](https://262.ecma-international.org/12.0/#sec-static-semantics-containsundefinedcontinuetarget) of [LabelledItem](https://262.ecma-international.org/12.0/#prod-LabelledItem) with arguments iterationSet and newLabelSet.

[LabelledItem](https://262.ecma-international.org/12.0/#prod-LabelledItem) : [FunctionDeclaration](https://262.ecma-international.org/12.0/#prod-FunctionDeclaration)

1.  Return false.

[TryStatement](https://262.ecma-international.org/12.0/#prod-TryStatement) : try [Block](https://262.ecma-international.org/12.0/#prod-Block) [Catch](https://262.ecma-international.org/12.0/#prod-Catch)

1.  Let hasUndefinedLabels be [ContainsUndefinedContinueTarget](https://262.ecma-international.org/12.0/#sec-static-semantics-containsundefinedcontinuetarget) of [Block](https://262.ecma-international.org/12.0/#prod-Block) with arguments iterationSet and « ».
2.  If hasUndefinedLabels is true, return true.
3.  Return [ContainsUndefinedContinueTarget](https://262.ecma-international.org/12.0/#sec-static-semantics-containsundefinedcontinuetarget) of [Catch](https://262.ecma-international.org/12.0/#prod-Catch) with arguments iterationSet and « ».

[TryStatement](https://262.ecma-international.org/12.0/#prod-TryStatement) : try [Block](https://262.ecma-international.org/12.0/#prod-Block) [Finally](https://262.ecma-international.org/12.0/#prod-Finally)

1.  Let hasUndefinedLabels be [ContainsUndefinedContinueTarget](https://262.ecma-international.org/12.0/#sec-static-semantics-containsundefinedcontinuetarget) of [Block](https://262.ecma-international.org/12.0/#prod-Block) with arguments iterationSet and « ».
2.  If hasUndefinedLabels is true, return true.
3.  Return [ContainsUndefinedContinueTarget](https://262.ecma-international.org/12.0/#sec-static-semantics-containsundefinedcontinuetarget) of [Finally](https://262.ecma-international.org/12.0/#prod-Finally) with arguments iterationSet and « ».

[TryStatement](https://262.ecma-international.org/12.0/#prod-TryStatement) : try [Block](https://262.ecma-international.org/12.0/#prod-Block) [Catch](https://262.ecma-international.org/12.0/#prod-Catch) [Finally](https://262.ecma-international.org/12.0/#prod-Finally)

1.  Let hasUndefinedLabels be [ContainsUndefinedContinueTarget](https://262.ecma-international.org/12.0/#sec-static-semantics-containsundefinedcontinuetarget) of [Block](https://262.ecma-international.org/12.0/#prod-Block) with arguments iterationSet and « ».
2.  If hasUndefinedLabels is true, return true.
3.  Let hasUndefinedLabels be [ContainsUndefinedContinueTarget](https://262.ecma-international.org/12.0/#sec-static-semantics-containsundefinedcontinuetarget) of [Catch](https://262.ecma-international.org/12.0/#prod-Catch) with arguments iterationSet and « ».
4.  If hasUndefinedLabels is true, return true.
5.  Return [ContainsUndefinedContinueTarget](https://262.ecma-international.org/12.0/#sec-static-semantics-containsundefinedcontinuetarget) of [Finally](https://262.ecma-international.org/12.0/#prod-Finally) with arguments iterationSet and « ».

[Catch](https://262.ecma-international.org/12.0/#prod-Catch) : catch ( [CatchParameter](https://262.ecma-international.org/12.0/#prod-CatchParameter) ) [Block](https://262.ecma-international.org/12.0/#prod-Block)

1.  Return [ContainsUndefinedContinueTarget](https://262.ecma-international.org/12.0/#sec-static-semantics-containsundefinedcontinuetarget) of [Block](https://262.ecma-international.org/12.0/#prod-Block) with arguments iterationSet and « ».

[FunctionStatementList](https://262.ecma-international.org/12.0/#prod-FunctionStatementList) : \[empty\]

1.  Return false.

[ModuleItemList](https://262.ecma-international.org/12.0/#prod-ModuleItemList) : [ModuleItemList](https://262.ecma-international.org/12.0/#prod-ModuleItemList) [ModuleItem](https://262.ecma-international.org/12.0/#prod-ModuleItem)

1.  Let hasUndefinedLabels be [ContainsUndefinedContinueTarget](https://262.ecma-international.org/12.0/#sec-static-semantics-containsundefinedcontinuetarget) of [ModuleItemList](https://262.ecma-international.org/12.0/#prod-ModuleItemList) with arguments iterationSet and « ».
2.  If hasUndefinedLabels is true, return true.
3.  Return [ContainsUndefinedContinueTarget](https://262.ecma-international.org/12.0/#sec-static-semantics-containsundefinedcontinuetarget) of [ModuleItem](https://262.ecma-international.org/12.0/#prod-ModuleItem) with arguments iterationSet and « ».

[ModuleItem](https://262.ecma-international.org/12.0/#prod-ModuleItem) : [ImportDeclaration](https://262.ecma-international.org/12.0/#prod-ImportDeclaration) [ExportDeclaration](https://262.ecma-international.org/12.0/#prod-ExportDeclaration)

1.  Return false.

## 8.3 Function Name Inference

## 8.3.1 Static Semantics: HasName

[PrimaryExpression](https://262.ecma-international.org/12.0/#prod-PrimaryExpression) : [CoverParenthesizedExpressionAndArrowParameterList](https://262.ecma-international.org/12.0/#prod-CoverParenthesizedExpressionAndArrowParameterList)

1.  Let expr be [CoveredParenthesizedExpression](https://262.ecma-international.org/12.0/#sec-static-semantics-coveredparenthesizedexpression) of [CoverParenthesizedExpressionAndArrowParameterList](https://262.ecma-international.org/12.0/#prod-CoverParenthesizedExpressionAndArrowParameterList).
2.  If [IsFunctionDefinition](https://262.ecma-international.org/12.0/#sec-static-semantics-isfunctiondefinition) of expr is false, return false.
3.  Return [HasName](https://262.ecma-international.org/12.0/#sec-static-semantics-hasname) of expr.

[FunctionExpression](https://262.ecma-international.org/12.0/#prod-FunctionExpression) : function ( [FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters) ) { [FunctionBody](https://262.ecma-international.org/12.0/#prod-FunctionBody) } [GeneratorExpression](https://262.ecma-international.org/12.0/#prod-GeneratorExpression) : function \* ( [FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters) ) { [GeneratorBody](https://262.ecma-international.org/12.0/#prod-GeneratorBody) } [AsyncGeneratorExpression](https://262.ecma-international.org/12.0/#prod-AsyncGeneratorExpression) : async function \* ( [FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters) ) { [AsyncGeneratorBody](https://262.ecma-international.org/12.0/#prod-AsyncGeneratorBody) } [AsyncFunctionExpression](https://262.ecma-international.org/12.0/#prod-AsyncFunctionExpression) : async function ( [FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters) ) { [AsyncFunctionBody](https://262.ecma-international.org/12.0/#prod-AsyncFunctionBody) } [ArrowFunction](https://262.ecma-international.org/12.0/#prod-ArrowFunction) : [ArrowParameters](https://262.ecma-international.org/12.0/#prod-ArrowParameters) \=> [ConciseBody](https://262.ecma-international.org/12.0/#prod-ConciseBody) [AsyncArrowFunction](https://262.ecma-international.org/12.0/#prod-AsyncArrowFunction) : async [AsyncArrowBindingIdentifier](https://262.ecma-international.org/12.0/#prod-AsyncArrowBindingIdentifier) \=> [AsyncConciseBody](https://262.ecma-international.org/12.0/#prod-AsyncConciseBody) [CoverCallExpressionAndAsyncArrowHead](https://262.ecma-international.org/12.0/#prod-CoverCallExpressionAndAsyncArrowHead) \=> [AsyncConciseBody](https://262.ecma-international.org/12.0/#prod-AsyncConciseBody) [ClassExpression](https://262.ecma-international.org/12.0/#prod-ClassExpression) : class [ClassTail](https://262.ecma-international.org/12.0/#prod-ClassTail)

1.  Return false.

[FunctionExpression](https://262.ecma-international.org/12.0/#prod-FunctionExpression) : function [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier) ( [FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters) ) { [FunctionBody](https://262.ecma-international.org/12.0/#prod-FunctionBody) } [GeneratorExpression](https://262.ecma-international.org/12.0/#prod-GeneratorExpression) : function \* [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier) ( [FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters) ) { [GeneratorBody](https://262.ecma-international.org/12.0/#prod-GeneratorBody) } [AsyncGeneratorExpression](https://262.ecma-international.org/12.0/#prod-AsyncGeneratorExpression) : async function \* [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier) ( [FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters) ) { [AsyncGeneratorBody](https://262.ecma-international.org/12.0/#prod-AsyncGeneratorBody) } [AsyncFunctionExpression](https://262.ecma-international.org/12.0/#prod-AsyncFunctionExpression) : async function [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier) ( [FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters) ) { [AsyncFunctionBody](https://262.ecma-international.org/12.0/#prod-AsyncFunctionBody) } [ClassExpression](https://262.ecma-international.org/12.0/#prod-ClassExpression) : class [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier) [ClassTail](https://262.ecma-international.org/12.0/#prod-ClassTail)

1.  Return true.

## 8.3.2 Static Semantics: IsFunctionDefinition

[PrimaryExpression](https://262.ecma-international.org/12.0/#prod-PrimaryExpression) : [CoverParenthesizedExpressionAndArrowParameterList](https://262.ecma-international.org/12.0/#prod-CoverParenthesizedExpressionAndArrowParameterList)

1.  Let expr be [CoveredParenthesizedExpression](https://262.ecma-international.org/12.0/#sec-static-semantics-coveredparenthesizedexpression) of [CoverParenthesizedExpressionAndArrowParameterList](https://262.ecma-international.org/12.0/#prod-CoverParenthesizedExpressionAndArrowParameterList).
2.  Return [IsFunctionDefinition](https://262.ecma-international.org/12.0/#sec-static-semantics-isfunctiondefinition) of expr.

[PrimaryExpression](https://262.ecma-international.org/12.0/#prod-PrimaryExpression) : this [IdentifierReference](https://262.ecma-international.org/12.0/#prod-IdentifierReference) [Literal](https://262.ecma-international.org/12.0/#prod-Literal) [ArrayLiteral](https://262.ecma-international.org/12.0/#prod-ArrayLiteral) [ObjectLiteral](https://262.ecma-international.org/12.0/#prod-ObjectLiteral) [RegularExpressionLiteral](https://262.ecma-international.org/12.0/#prod-RegularExpressionLiteral) [TemplateLiteral](https://262.ecma-international.org/12.0/#prod-TemplateLiteral) [MemberExpression](https://262.ecma-international.org/12.0/#prod-MemberExpression) : [MemberExpression](https://262.ecma-international.org/12.0/#prod-MemberExpression) \[ [Expression](https://262.ecma-international.org/12.0/#prod-Expression) \] [MemberExpression](https://262.ecma-international.org/12.0/#prod-MemberExpression) . [IdentifierName](https://262.ecma-international.org/12.0/#prod-IdentifierName) [MemberExpression](https://262.ecma-international.org/12.0/#prod-MemberExpression) [TemplateLiteral](https://262.ecma-international.org/12.0/#prod-TemplateLiteral) [SuperProperty](https://262.ecma-international.org/12.0/#prod-SuperProperty) [MetaProperty](https://262.ecma-international.org/12.0/#prod-MetaProperty) new [MemberExpression](https://262.ecma-international.org/12.0/#prod-MemberExpression) [Arguments](https://262.ecma-international.org/12.0/#prod-Arguments) [NewExpression](https://262.ecma-international.org/12.0/#prod-NewExpression) : new [NewExpression](https://262.ecma-international.org/12.0/#prod-NewExpression) [LeftHandSideExpression](https://262.ecma-international.org/12.0/#prod-LeftHandSideExpression) : [CallExpression](https://262.ecma-international.org/12.0/#prod-CallExpression) [OptionalExpression](https://262.ecma-international.org/12.0/#prod-OptionalExpression) [UpdateExpression](https://262.ecma-international.org/12.0/#prod-UpdateExpression) : [LeftHandSideExpression](https://262.ecma-international.org/12.0/#prod-LeftHandSideExpression) ++ [LeftHandSideExpression](https://262.ecma-international.org/12.0/#prod-LeftHandSideExpression) \-- ++ [UnaryExpression](https://262.ecma-international.org/12.0/#prod-UnaryExpression) \-- [UnaryExpression](https://262.ecma-international.org/12.0/#prod-UnaryExpression) [UnaryExpression](https://262.ecma-international.org/12.0/#prod-UnaryExpression) : delete [UnaryExpression](https://262.ecma-international.org/12.0/#prod-UnaryExpression) void [UnaryExpression](https://262.ecma-international.org/12.0/#prod-UnaryExpression) typeof [UnaryExpression](https://262.ecma-international.org/12.0/#prod-UnaryExpression) + [UnaryExpression](https://262.ecma-international.org/12.0/#prod-UnaryExpression) \- [UnaryExpression](https://262.ecma-international.org/12.0/#prod-UnaryExpression) ~ [UnaryExpression](https://262.ecma-international.org/12.0/#prod-UnaryExpression) ! [UnaryExpression](https://262.ecma-international.org/12.0/#prod-UnaryExpression) [AwaitExpression](https://262.ecma-international.org/12.0/#prod-AwaitExpression) [ExponentiationExpression](https://262.ecma-international.org/12.0/#prod-ExponentiationExpression) : [UpdateExpression](https://262.ecma-international.org/12.0/#prod-UpdateExpression) \*\* [ExponentiationExpression](https://262.ecma-international.org/12.0/#prod-ExponentiationExpression) [MultiplicativeExpression](https://262.ecma-international.org/12.0/#prod-MultiplicativeExpression) : [MultiplicativeExpression](https://262.ecma-international.org/12.0/#prod-MultiplicativeExpression) [MultiplicativeOperator](https://262.ecma-international.org/12.0/#prod-MultiplicativeOperator) [ExponentiationExpression](https://262.ecma-international.org/12.0/#prod-ExponentiationExpression) [AdditiveExpression](https://262.ecma-international.org/12.0/#prod-AdditiveExpression) : [AdditiveExpression](https://262.ecma-international.org/12.0/#prod-AdditiveExpression) + [MultiplicativeExpression](https://262.ecma-international.org/12.0/#prod-MultiplicativeExpression) [AdditiveExpression](https://262.ecma-international.org/12.0/#prod-AdditiveExpression) \- [MultiplicativeExpression](https://262.ecma-international.org/12.0/#prod-MultiplicativeExpression) [ShiftExpression](https://262.ecma-international.org/12.0/#prod-ShiftExpression) : [ShiftExpression](https://262.ecma-international.org/12.0/#prod-ShiftExpression) << [AdditiveExpression](https://262.ecma-international.org/12.0/#prod-AdditiveExpression) [ShiftExpression](https://262.ecma-international.org/12.0/#prod-ShiftExpression) \>> [AdditiveExpression](https://262.ecma-international.org/12.0/#prod-AdditiveExpression) [ShiftExpression](https://262.ecma-international.org/12.0/#prod-ShiftExpression) \>>> [AdditiveExpression](https://262.ecma-international.org/12.0/#prod-AdditiveExpression) [RelationalExpression](https://262.ecma-international.org/12.0/#prod-RelationalExpression) : [RelationalExpression](https://262.ecma-international.org/12.0/#prod-RelationalExpression) < [ShiftExpression](https://262.ecma-international.org/12.0/#prod-ShiftExpression) [RelationalExpression](https://262.ecma-international.org/12.0/#prod-RelationalExpression) \> [ShiftExpression](https://262.ecma-international.org/12.0/#prod-ShiftExpression) [RelationalExpression](https://262.ecma-international.org/12.0/#prod-RelationalExpression) <= [ShiftExpression](https://262.ecma-international.org/12.0/#prod-ShiftExpression) [RelationalExpression](https://262.ecma-international.org/12.0/#prod-RelationalExpression) \>= [ShiftExpression](https://262.ecma-international.org/12.0/#prod-ShiftExpression) [RelationalExpression](https://262.ecma-international.org/12.0/#prod-RelationalExpression) instanceof [ShiftExpression](https://262.ecma-international.org/12.0/#prod-ShiftExpression) [RelationalExpression](https://262.ecma-international.org/12.0/#prod-RelationalExpression) in [ShiftExpression](https://262.ecma-international.org/12.0/#prod-ShiftExpression) [EqualityExpression](https://262.ecma-international.org/12.0/#prod-EqualityExpression) : [EqualityExpression](https://262.ecma-international.org/12.0/#prod-EqualityExpression) \== [RelationalExpression](https://262.ecma-international.org/12.0/#prod-RelationalExpression) [EqualityExpression](https://262.ecma-international.org/12.0/#prod-EqualityExpression) != [RelationalExpression](https://262.ecma-international.org/12.0/#prod-RelationalExpression) [EqualityExpression](https://262.ecma-international.org/12.0/#prod-EqualityExpression) \=== [RelationalExpression](https://262.ecma-international.org/12.0/#prod-RelationalExpression) [EqualityExpression](https://262.ecma-international.org/12.0/#prod-EqualityExpression) !== [RelationalExpression](https://262.ecma-international.org/12.0/#prod-RelationalExpression) [BitwiseANDExpression](https://262.ecma-international.org/12.0/#prod-BitwiseANDExpression) : [BitwiseANDExpression](https://262.ecma-international.org/12.0/#prod-BitwiseANDExpression) & [EqualityExpression](https://262.ecma-international.org/12.0/#prod-EqualityExpression) [BitwiseXORExpression](https://262.ecma-international.org/12.0/#prod-BitwiseXORExpression) : [BitwiseXORExpression](https://262.ecma-international.org/12.0/#prod-BitwiseXORExpression) ^ [BitwiseANDExpression](https://262.ecma-international.org/12.0/#prod-BitwiseANDExpression) [BitwiseORExpression](https://262.ecma-international.org/12.0/#prod-BitwiseORExpression) : [BitwiseORExpression](https://262.ecma-international.org/12.0/#prod-BitwiseORExpression) | [BitwiseXORExpression](https://262.ecma-international.org/12.0/#prod-BitwiseXORExpression) [LogicalANDExpression](https://262.ecma-international.org/12.0/#prod-LogicalANDExpression) : [LogicalANDExpression](https://262.ecma-international.org/12.0/#prod-LogicalANDExpression) && [BitwiseORExpression](https://262.ecma-international.org/12.0/#prod-BitwiseORExpression) [LogicalORExpression](https://262.ecma-international.org/12.0/#prod-LogicalORExpression) : [LogicalORExpression](https://262.ecma-international.org/12.0/#prod-LogicalORExpression) || [LogicalANDExpression](https://262.ecma-international.org/12.0/#prod-LogicalANDExpression) [CoalesceExpression](https://262.ecma-international.org/12.0/#prod-CoalesceExpression) : [CoalesceExpressionHead](https://262.ecma-international.org/12.0/#prod-CoalesceExpressionHead) ?? [BitwiseORExpression](https://262.ecma-international.org/12.0/#prod-BitwiseORExpression) [ConditionalExpression](https://262.ecma-international.org/12.0/#prod-ConditionalExpression) : [ShortCircuitExpression](https://262.ecma-international.org/12.0/#prod-ShortCircuitExpression) ? [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression) : [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression) [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression) : [YieldExpression](https://262.ecma-international.org/12.0/#prod-YieldExpression) [LeftHandSideExpression](https://262.ecma-international.org/12.0/#prod-LeftHandSideExpression) \= [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression) [LeftHandSideExpression](https://262.ecma-international.org/12.0/#prod-LeftHandSideExpression) [AssignmentOperator](https://262.ecma-international.org/12.0/#prod-AssignmentOperator) [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression) [LeftHandSideExpression](https://262.ecma-international.org/12.0/#prod-LeftHandSideExpression) &&= [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression) [LeftHandSideExpression](https://262.ecma-international.org/12.0/#prod-LeftHandSideExpression) ||= [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression) [LeftHandSideExpression](https://262.ecma-international.org/12.0/#prod-LeftHandSideExpression) ??= [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression) [Expression](https://262.ecma-international.org/12.0/#prod-Expression) : [Expression](https://262.ecma-international.org/12.0/#prod-Expression) , [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression)

1.  Return false.

[AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression) : [ArrowFunction](https://262.ecma-international.org/12.0/#prod-ArrowFunction) [AsyncArrowFunction](https://262.ecma-international.org/12.0/#prod-AsyncArrowFunction) [FunctionExpression](https://262.ecma-international.org/12.0/#prod-FunctionExpression) : function [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier)opt ( [FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters) ) { [FunctionBody](https://262.ecma-international.org/12.0/#prod-FunctionBody) } [GeneratorExpression](https://262.ecma-international.org/12.0/#prod-GeneratorExpression) : function \* [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier)opt ( [FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters) ) { [GeneratorBody](https://262.ecma-international.org/12.0/#prod-GeneratorBody) } [AsyncGeneratorExpression](https://262.ecma-international.org/12.0/#prod-AsyncGeneratorExpression) : async function \* [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier)opt ( [FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters) ) { [AsyncGeneratorBody](https://262.ecma-international.org/12.0/#prod-AsyncGeneratorBody) } [AsyncFunctionExpression](https://262.ecma-international.org/12.0/#prod-AsyncFunctionExpression) : async function [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier)opt ( [FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters) ) { [AsyncFunctionBody](https://262.ecma-international.org/12.0/#prod-AsyncFunctionBody) } [ClassExpression](https://262.ecma-international.org/12.0/#prod-ClassExpression) : class [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier)opt [ClassTail](https://262.ecma-international.org/12.0/#prod-ClassTail)

1.  Return true.

## 8.3.3 Static Semantics: IsAnonymousFunctionDefinition ( expr )

The abstract operation IsAnonymousFunctionDefinition takes argument expr (a [Parse Node](https://262.ecma-international.org/12.0/#sec-syntactic-grammar) for [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression) or a [Parse Node](https://262.ecma-international.org/12.0/#sec-syntactic-grammar) for [Initializer](https://262.ecma-international.org/12.0/#prod-Initializer)). It determines if its argument is a function definition that does not bind a name. It performs the following steps when called:

1.  If [IsFunctionDefinition](https://262.ecma-international.org/12.0/#sec-static-semantics-isfunctiondefinition) of expr is false, return false.
2.  Let hasName be [HasName](https://262.ecma-international.org/12.0/#sec-static-semantics-hasname) of expr.
3.  If hasName is true, return false.
4.  Return true.

## 8.3.4 Static Semantics: IsIdentifierRef

[PrimaryExpression](https://262.ecma-international.org/12.0/#prod-PrimaryExpression) : [IdentifierReference](https://262.ecma-international.org/12.0/#prod-IdentifierReference)

1.  Return true.

[PrimaryExpression](https://262.ecma-international.org/12.0/#prod-PrimaryExpression) : this [Literal](https://262.ecma-international.org/12.0/#prod-Literal) [ArrayLiteral](https://262.ecma-international.org/12.0/#prod-ArrayLiteral) [ObjectLiteral](https://262.ecma-international.org/12.0/#prod-ObjectLiteral) [FunctionExpression](https://262.ecma-international.org/12.0/#prod-FunctionExpression) [ClassExpression](https://262.ecma-international.org/12.0/#prod-ClassExpression) [GeneratorExpression](https://262.ecma-international.org/12.0/#prod-GeneratorExpression) [AsyncFunctionExpression](https://262.ecma-international.org/12.0/#prod-AsyncFunctionExpression) [AsyncGeneratorExpression](https://262.ecma-international.org/12.0/#prod-AsyncGeneratorExpression) [RegularExpressionLiteral](https://262.ecma-international.org/12.0/#prod-RegularExpressionLiteral) [TemplateLiteral](https://262.ecma-international.org/12.0/#prod-TemplateLiteral) [CoverParenthesizedExpressionAndArrowParameterList](https://262.ecma-international.org/12.0/#prod-CoverParenthesizedExpressionAndArrowParameterList) [MemberExpression](https://262.ecma-international.org/12.0/#prod-MemberExpression) : [MemberExpression](https://262.ecma-international.org/12.0/#prod-MemberExpression) \[ [Expression](https://262.ecma-international.org/12.0/#prod-Expression) \] [MemberExpression](https://262.ecma-international.org/12.0/#prod-MemberExpression) . [IdentifierName](https://262.ecma-international.org/12.0/#prod-IdentifierName) [MemberExpression](https://262.ecma-international.org/12.0/#prod-MemberExpression) [TemplateLiteral](https://262.ecma-international.org/12.0/#prod-TemplateLiteral) [SuperProperty](https://262.ecma-international.org/12.0/#prod-SuperProperty) [MetaProperty](https://262.ecma-international.org/12.0/#prod-MetaProperty) new [MemberExpression](https://262.ecma-international.org/12.0/#prod-MemberExpression) [Arguments](https://262.ecma-international.org/12.0/#prod-Arguments) [NewExpression](https://262.ecma-international.org/12.0/#prod-NewExpression) : new [NewExpression](https://262.ecma-international.org/12.0/#prod-NewExpression) [LeftHandSideExpression](https://262.ecma-international.org/12.0/#prod-LeftHandSideExpression) : [CallExpression](https://262.ecma-international.org/12.0/#prod-CallExpression) [OptionalExpression](https://262.ecma-international.org/12.0/#prod-OptionalExpression)

1.  Return false.

## 8.3.5 Runtime Semantics: NamedEvaluation

With parameter name.

[PrimaryExpression](https://262.ecma-international.org/12.0/#prod-PrimaryExpression) : [CoverParenthesizedExpressionAndArrowParameterList](https://262.ecma-international.org/12.0/#prod-CoverParenthesizedExpressionAndArrowParameterList)

1.  Let expr be [CoveredParenthesizedExpression](https://262.ecma-international.org/12.0/#sec-static-semantics-coveredparenthesizedexpression) of [CoverParenthesizedExpressionAndArrowParameterList](https://262.ecma-international.org/12.0/#prod-CoverParenthesizedExpressionAndArrowParameterList).
2.  Return the result of performing [NamedEvaluation](https://262.ecma-international.org/12.0/#sec-runtime-semantics-namedevaluation) for expr with argument name.

[ParenthesizedExpression](https://262.ecma-international.org/12.0/#prod-ParenthesizedExpression) : ( [Expression](https://262.ecma-international.org/12.0/#prod-Expression) )

1.  [Assert](https://262.ecma-international.org/12.0/#assert): [IsAnonymousFunctionDefinition](https://262.ecma-international.org/12.0/#sec-isanonymousfunctiondefinition)([Expression](https://262.ecma-international.org/12.0/#prod-Expression)) is true.
2.  Return the result of performing [NamedEvaluation](https://262.ecma-international.org/12.0/#sec-runtime-semantics-namedevaluation) for [Expression](https://262.ecma-international.org/12.0/#prod-Expression) with argument name.

[FunctionExpression](https://262.ecma-international.org/12.0/#prod-FunctionExpression) : function ( [FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters) ) { [FunctionBody](https://262.ecma-international.org/12.0/#prod-FunctionBody) }

1.  Return [InstantiateOrdinaryFunctionExpression](https://262.ecma-international.org/12.0/#sec-runtime-semantics-instantiateordinaryfunctionexpression) of [FunctionExpression](https://262.ecma-international.org/12.0/#prod-FunctionExpression) with argument name.

[GeneratorExpression](https://262.ecma-international.org/12.0/#prod-GeneratorExpression) : function \* ( [FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters) ) { [GeneratorBody](https://262.ecma-international.org/12.0/#prod-GeneratorBody) }

1.  Return [InstantiateGeneratorFunctionExpression](https://262.ecma-international.org/12.0/#sec-runtime-semantics-instantiategeneratorfunctionexpression) of [GeneratorExpression](https://262.ecma-international.org/12.0/#prod-GeneratorExpression) with argument name.

[AsyncGeneratorExpression](https://262.ecma-international.org/12.0/#prod-AsyncGeneratorExpression) : async function \* ( [FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters) ) { [AsyncGeneratorBody](https://262.ecma-international.org/12.0/#prod-AsyncGeneratorBody) }

1.  Return [InstantiateAsyncGeneratorFunctionExpression](https://262.ecma-international.org/12.0/#sec-runtime-semantics-instantiateasyncgeneratorfunctionexpression) of [AsyncGeneratorExpression](https://262.ecma-international.org/12.0/#prod-AsyncGeneratorExpression) with argument name.

[AsyncFunctionExpression](https://262.ecma-international.org/12.0/#prod-AsyncFunctionExpression) : async function ( [FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters) ) { [AsyncFunctionBody](https://262.ecma-international.org/12.0/#prod-AsyncFunctionBody) }

1.  Return [InstantiateAsyncFunctionExpression](https://262.ecma-international.org/12.0/#sec-runtime-semantics-instantiateasyncfunctionexpression) of [AsyncFunctionExpression](https://262.ecma-international.org/12.0/#prod-AsyncFunctionExpression) with argument name.

[ArrowFunction](https://262.ecma-international.org/12.0/#prod-ArrowFunction) : [ArrowParameters](https://262.ecma-international.org/12.0/#prod-ArrowParameters) \=> [ConciseBody](https://262.ecma-international.org/12.0/#prod-ConciseBody)

1.  Return [InstantiateArrowFunctionExpression](https://262.ecma-international.org/12.0/#sec-runtime-semantics-instantiatearrowfunctionexpression) of [ArrowFunction](https://262.ecma-international.org/12.0/#prod-ArrowFunction) with argument name.

[AsyncArrowFunction](https://262.ecma-international.org/12.0/#prod-AsyncArrowFunction) : async [AsyncArrowBindingIdentifier](https://262.ecma-international.org/12.0/#prod-AsyncArrowBindingIdentifier) \=> [AsyncConciseBody](https://262.ecma-international.org/12.0/#prod-AsyncConciseBody) [CoverCallExpressionAndAsyncArrowHead](https://262.ecma-international.org/12.0/#prod-CoverCallExpressionAndAsyncArrowHead) \=> [AsyncConciseBody](https://262.ecma-international.org/12.0/#prod-AsyncConciseBody)

1.  Return [InstantiateAsyncArrowFunctionExpression](https://262.ecma-international.org/12.0/#sec-runtime-semantics-instantiateasyncarrowfunctionexpression) of [AsyncArrowFunction](https://262.ecma-international.org/12.0/#prod-AsyncArrowFunction) with argument name.

[ClassExpression](https://262.ecma-international.org/12.0/#prod-ClassExpression) : class [ClassTail](https://262.ecma-international.org/12.0/#prod-ClassTail)

1.  Let value be the result of [ClassDefinitionEvaluation](https://262.ecma-international.org/12.0/#sec-runtime-semantics-classdefinitionevaluation) of [ClassTail](https://262.ecma-international.org/12.0/#prod-ClassTail) with arguments undefined and name.
2.  [ReturnIfAbrupt](https://262.ecma-international.org/12.0/#sec-returnifabrupt)(value).
3.  Set value.\[\[SourceText\]\] to the [source text matched by](https://262.ecma-international.org/12.0/#sec-algorithm-conventions-syntax-directed-operations) [ClassExpression](https://262.ecma-international.org/12.0/#prod-ClassExpression).
4.  Return value.

## 8.4 Contains

## 8.4.1 Static Semantics: Contains

With parameter symbol.

Every grammar production alternative in this specification which is not listed below implicitly has the following default definition of Contains:

1.  For each child node child of this [Parse Node](https://262.ecma-international.org/12.0/#sec-syntactic-grammar), do
    1.  If child is an instance of symbol, return true.
    2.  If child is an instance of a nonterminal, then
        1.  Let contained be the result of child [Contains](https://262.ecma-international.org/12.0/#sec-static-semantics-contains) symbol.
        2.  If contained is true, return true.
2.  Return false.

[FunctionDeclaration](https://262.ecma-international.org/12.0/#prod-FunctionDeclaration) : function [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier) ( [FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters) ) { [FunctionBody](https://262.ecma-international.org/12.0/#prod-FunctionBody) } function ( [FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters) ) { [FunctionBody](https://262.ecma-international.org/12.0/#prod-FunctionBody) } [FunctionExpression](https://262.ecma-international.org/12.0/#prod-FunctionExpression) : function [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier)opt ( [FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters) ) { [FunctionBody](https://262.ecma-international.org/12.0/#prod-FunctionBody) } [GeneratorDeclaration](https://262.ecma-international.org/12.0/#prod-GeneratorDeclaration) : function \* [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier) ( [FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters) ) { [GeneratorBody](https://262.ecma-international.org/12.0/#prod-GeneratorBody) } function \* ( [FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters) ) { [GeneratorBody](https://262.ecma-international.org/12.0/#prod-GeneratorBody) } [GeneratorExpression](https://262.ecma-international.org/12.0/#prod-GeneratorExpression) : function \* [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier)opt ( [FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters) ) { [GeneratorBody](https://262.ecma-international.org/12.0/#prod-GeneratorBody) } [AsyncGeneratorDeclaration](https://262.ecma-international.org/12.0/#prod-AsyncGeneratorDeclaration) : async function \* [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier) ( [FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters) ) { [AsyncGeneratorBody](https://262.ecma-international.org/12.0/#prod-AsyncGeneratorBody) } async function \* ( [FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters) ) { [AsyncGeneratorBody](https://262.ecma-international.org/12.0/#prod-AsyncGeneratorBody) } [AsyncGeneratorExpression](https://262.ecma-international.org/12.0/#prod-AsyncGeneratorExpression) : async function \* [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier)opt ( [FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters) ) { [AsyncGeneratorBody](https://262.ecma-international.org/12.0/#prod-AsyncGeneratorBody) } [AsyncFunctionDeclaration](https://262.ecma-international.org/12.0/#prod-AsyncFunctionDeclaration) : async function [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier) ( [FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters) ) { [AsyncFunctionBody](https://262.ecma-international.org/12.0/#prod-AsyncFunctionBody) } async function ( [FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters) ) { [AsyncFunctionBody](https://262.ecma-international.org/12.0/#prod-AsyncFunctionBody) } [AsyncFunctionExpression](https://262.ecma-international.org/12.0/#prod-AsyncFunctionExpression) : async function [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier)opt ( [FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters) ) { [AsyncFunctionBody](https://262.ecma-international.org/12.0/#prod-AsyncFunctionBody) }

1.  Return false.

Note 1

Static semantic rules that depend upon substructure generally do not look into function definitions.

[ClassTail](https://262.ecma-international.org/12.0/#prod-ClassTail) : [ClassHeritage](https://262.ecma-international.org/12.0/#prod-ClassHeritage)opt { [ClassBody](https://262.ecma-international.org/12.0/#prod-ClassBody) }

1.  If symbol is [ClassBody](https://262.ecma-international.org/12.0/#prod-ClassBody), return true.
2.  If symbol is [ClassHeritage](https://262.ecma-international.org/12.0/#prod-ClassHeritage), then
    1.  If [ClassHeritage](https://262.ecma-international.org/12.0/#prod-ClassHeritage) is present, return true; otherwise return false.
3.  Let inHeritage be [ClassHeritage](https://262.ecma-international.org/12.0/#prod-ClassHeritage) [Contains](https://262.ecma-international.org/12.0/#sec-static-semantics-contains) symbol.
4.  If inHeritage is true, return true.
5.  Return the result of [ComputedPropertyContains](https://262.ecma-international.org/12.0/#sec-static-semantics-computedpropertycontains) for [ClassBody](https://262.ecma-international.org/12.0/#prod-ClassBody) with argument symbol.

Note 2

Static semantic rules that depend upon substructure generally do not look into class bodies except for [PropertyName](https://262.ecma-international.org/12.0/#prod-PropertyName)s.

[ArrowFunction](https://262.ecma-international.org/12.0/#prod-ArrowFunction) : [ArrowParameters](https://262.ecma-international.org/12.0/#prod-ArrowParameters) \=> [ConciseBody](https://262.ecma-international.org/12.0/#prod-ConciseBody)

1.  If symbol is not one of [NewTarget](https://262.ecma-international.org/12.0/#prod-NewTarget), [SuperProperty](https://262.ecma-international.org/12.0/#prod-SuperProperty), [SuperCall](https://262.ecma-international.org/12.0/#prod-SuperCall), `super` or `this`, return false.
2.  If [ArrowParameters](https://262.ecma-international.org/12.0/#prod-ArrowParameters) [Contains](https://262.ecma-international.org/12.0/#sec-static-semantics-contains) symbol is true, return true.
3.  Return [ConciseBody](https://262.ecma-international.org/12.0/#prod-ConciseBody) [Contains](https://262.ecma-international.org/12.0/#sec-static-semantics-contains) symbol.

[ArrowParameters](https://262.ecma-international.org/12.0/#prod-ArrowParameters) : [CoverParenthesizedExpressionAndArrowParameterList](https://262.ecma-international.org/12.0/#prod-CoverParenthesizedExpressionAndArrowParameterList)

1.  Let formals be [CoveredFormalsList](https://262.ecma-international.org/12.0/#sec-static-semantics-coveredformalslist) of [CoverParenthesizedExpressionAndArrowParameterList](https://262.ecma-international.org/12.0/#prod-CoverParenthesizedExpressionAndArrowParameterList).
2.  Return formals [Contains](https://262.ecma-international.org/12.0/#sec-static-semantics-contains) symbol.

[AsyncArrowFunction](https://262.ecma-international.org/12.0/#prod-AsyncArrowFunction) : async [AsyncArrowBindingIdentifier](https://262.ecma-international.org/12.0/#prod-AsyncArrowBindingIdentifier) \=> [AsyncConciseBody](https://262.ecma-international.org/12.0/#prod-AsyncConciseBody)

1.  If symbol is not one of [NewTarget](https://262.ecma-international.org/12.0/#prod-NewTarget), [SuperProperty](https://262.ecma-international.org/12.0/#prod-SuperProperty), [SuperCall](https://262.ecma-international.org/12.0/#prod-SuperCall), `super`, or `this`, return false.
2.  Return [AsyncConciseBody](https://262.ecma-international.org/12.0/#prod-AsyncConciseBody) [Contains](https://262.ecma-international.org/12.0/#sec-static-semantics-contains) symbol.

[AsyncArrowFunction](https://262.ecma-international.org/12.0/#prod-AsyncArrowFunction) : [CoverCallExpressionAndAsyncArrowHead](https://262.ecma-international.org/12.0/#prod-CoverCallExpressionAndAsyncArrowHead) \=> [AsyncConciseBody](https://262.ecma-international.org/12.0/#prod-AsyncConciseBody)

1.  If symbol is not one of [NewTarget](https://262.ecma-international.org/12.0/#prod-NewTarget), [SuperProperty](https://262.ecma-international.org/12.0/#prod-SuperProperty), [SuperCall](https://262.ecma-international.org/12.0/#prod-SuperCall), `super`, or `this`, return false.
2.  Let head be [CoveredAsyncArrowHead](https://262.ecma-international.org/12.0/#sec-async-arrow-function-definitions-static-semantics-CoveredAsyncArrowHead) of [CoverCallExpressionAndAsyncArrowHead](https://262.ecma-international.org/12.0/#prod-CoverCallExpressionAndAsyncArrowHead).
3.  If head [Contains](https://262.ecma-international.org/12.0/#sec-static-semantics-contains) symbol is true, return true.
4.  Return [AsyncConciseBody](https://262.ecma-international.org/12.0/#prod-AsyncConciseBody) [Contains](https://262.ecma-international.org/12.0/#sec-static-semantics-contains) symbol.

Note 3

Contains is used to detect `new.target`, `this`, and `super` usage within an [ArrowFunction](https://262.ecma-international.org/12.0/#prod-ArrowFunction) or [AsyncArrowFunction](https://262.ecma-international.org/12.0/#prod-AsyncArrowFunction).

[PropertyDefinition](https://262.ecma-international.org/12.0/#prod-PropertyDefinition) : [MethodDefinition](https://262.ecma-international.org/12.0/#prod-MethodDefinition)

1.  If symbol is [MethodDefinition](https://262.ecma-international.org/12.0/#prod-MethodDefinition), return true.
2.  Return the result of [ComputedPropertyContains](https://262.ecma-international.org/12.0/#sec-static-semantics-computedpropertycontains) for [MethodDefinition](https://262.ecma-international.org/12.0/#prod-MethodDefinition) with argument symbol.

[LiteralPropertyName](https://262.ecma-international.org/12.0/#prod-LiteralPropertyName) : [IdentifierName](https://262.ecma-international.org/12.0/#prod-IdentifierName)

1.  Return false.

[MemberExpression](https://262.ecma-international.org/12.0/#prod-MemberExpression) : [MemberExpression](https://262.ecma-international.org/12.0/#prod-MemberExpression) . [IdentifierName](https://262.ecma-international.org/12.0/#prod-IdentifierName)

1.  If [MemberExpression](https://262.ecma-international.org/12.0/#prod-MemberExpression) [Contains](https://262.ecma-international.org/12.0/#sec-static-semantics-contains) symbol is true, return true.
2.  Return false.

[SuperProperty](https://262.ecma-international.org/12.0/#prod-SuperProperty) : super . [IdentifierName](https://262.ecma-international.org/12.0/#prod-IdentifierName)

1.  If symbol is the [ReservedWord](https://262.ecma-international.org/12.0/#prod-ReservedWord) `super`, return true.
2.  Return false.

[CallExpression](https://262.ecma-international.org/12.0/#prod-CallExpression) : [CallExpression](https://262.ecma-international.org/12.0/#prod-CallExpression) . [IdentifierName](https://262.ecma-international.org/12.0/#prod-IdentifierName)

1.  If [CallExpression](https://262.ecma-international.org/12.0/#prod-CallExpression) [Contains](https://262.ecma-international.org/12.0/#sec-static-semantics-contains) symbol is true, return true.
2.  Return false.

[OptionalChain](https://262.ecma-international.org/12.0/#prod-OptionalChain) : ?. [IdentifierName](https://262.ecma-international.org/12.0/#prod-IdentifierName)

1.  Return false.

[OptionalChain](https://262.ecma-international.org/12.0/#prod-OptionalChain) : [OptionalChain](https://262.ecma-international.org/12.0/#prod-OptionalChain) . [IdentifierName](https://262.ecma-international.org/12.0/#prod-IdentifierName)

1.  If [OptionalChain](https://262.ecma-international.org/12.0/#prod-OptionalChain) [Contains](https://262.ecma-international.org/12.0/#sec-static-semantics-contains) symbol is true, return true.
2.  Return false.

## 8.4.2 Static Semantics: ComputedPropertyContains

With parameter symbol.

[PropertyName](https://262.ecma-international.org/12.0/#prod-PropertyName) : [LiteralPropertyName](https://262.ecma-international.org/12.0/#prod-LiteralPropertyName)

1.  Return false.

[PropertyName](https://262.ecma-international.org/12.0/#prod-PropertyName) : [ComputedPropertyName](https://262.ecma-international.org/12.0/#prod-ComputedPropertyName)

1.  Return the result of [ComputedPropertyName](https://262.ecma-international.org/12.0/#prod-ComputedPropertyName) [Contains](https://262.ecma-international.org/12.0/#sec-static-semantics-contains) symbol.

[MethodDefinition](https://262.ecma-international.org/12.0/#prod-MethodDefinition) : [PropertyName](https://262.ecma-international.org/12.0/#prod-PropertyName) ( [UniqueFormalParameters](https://262.ecma-international.org/12.0/#prod-UniqueFormalParameters) ) { [FunctionBody](https://262.ecma-international.org/12.0/#prod-FunctionBody) } get [PropertyName](https://262.ecma-international.org/12.0/#prod-PropertyName) ( ) { [FunctionBody](https://262.ecma-international.org/12.0/#prod-FunctionBody) } set [PropertyName](https://262.ecma-international.org/12.0/#prod-PropertyName) ( [PropertySetParameterList](https://262.ecma-international.org/12.0/#prod-PropertySetParameterList) ) { [FunctionBody](https://262.ecma-international.org/12.0/#prod-FunctionBody) }

1.  Return the result of [ComputedPropertyContains](https://262.ecma-international.org/12.0/#sec-static-semantics-computedpropertycontains) for [PropertyName](https://262.ecma-international.org/12.0/#prod-PropertyName) with argument symbol.

[GeneratorMethod](https://262.ecma-international.org/12.0/#prod-GeneratorMethod) : \* [PropertyName](https://262.ecma-international.org/12.0/#prod-PropertyName) ( [UniqueFormalParameters](https://262.ecma-international.org/12.0/#prod-UniqueFormalParameters) ) { [GeneratorBody](https://262.ecma-international.org/12.0/#prod-GeneratorBody) }

1.  Return the result of [ComputedPropertyContains](https://262.ecma-international.org/12.0/#sec-static-semantics-computedpropertycontains) for [PropertyName](https://262.ecma-international.org/12.0/#prod-PropertyName) with argument symbol.

[AsyncGeneratorMethod](https://262.ecma-international.org/12.0/#prod-AsyncGeneratorMethod) : async \* [PropertyName](https://262.ecma-international.org/12.0/#prod-PropertyName) ( [UniqueFormalParameters](https://262.ecma-international.org/12.0/#prod-UniqueFormalParameters) ) { [AsyncGeneratorBody](https://262.ecma-international.org/12.0/#prod-AsyncGeneratorBody) }

1.  Return the result of [ComputedPropertyContains](https://262.ecma-international.org/12.0/#sec-static-semantics-computedpropertycontains) for [PropertyName](https://262.ecma-international.org/12.0/#prod-PropertyName) with argument symbol.

[ClassElementList](https://262.ecma-international.org/12.0/#prod-ClassElementList) : [ClassElementList](https://262.ecma-international.org/12.0/#prod-ClassElementList) [ClassElement](https://262.ecma-international.org/12.0/#prod-ClassElement)

1.  Let inList be [ComputedPropertyContains](https://262.ecma-international.org/12.0/#sec-static-semantics-computedpropertycontains) of [ClassElementList](https://262.ecma-international.org/12.0/#prod-ClassElementList) with argument symbol.
2.  If inList is true, return true.
3.  Return the result of [ComputedPropertyContains](https://262.ecma-international.org/12.0/#sec-static-semantics-computedpropertycontains) for [ClassElement](https://262.ecma-international.org/12.0/#prod-ClassElement) with argument symbol.

[ClassElement](https://262.ecma-international.org/12.0/#prod-ClassElement) : ;

1.  Return false.

[AsyncMethod](https://262.ecma-international.org/12.0/#prod-AsyncMethod) : async [PropertyName](https://262.ecma-international.org/12.0/#prod-PropertyName) ( [UniqueFormalParameters](https://262.ecma-international.org/12.0/#prod-UniqueFormalParameters) ) { [AsyncFunctionBody](https://262.ecma-international.org/12.0/#prod-AsyncFunctionBody) }

1.  Return the result of [ComputedPropertyContains](https://262.ecma-international.org/12.0/#sec-static-semantics-computedpropertycontains) for [PropertyName](https://262.ecma-international.org/12.0/#prod-PropertyName) with argument symbol.

## 8.5 Miscellaneous

These operations are used in multiple places throughout the specification.

## 8.5.1 Runtime Semantics: InstantiateFunctionObject

With parameter scope.

[FunctionDeclaration](https://262.ecma-international.org/12.0/#prod-FunctionDeclaration) : function [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier) ( [FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters) ) { [FunctionBody](https://262.ecma-international.org/12.0/#prod-FunctionBody) } function ( [FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters) ) { [FunctionBody](https://262.ecma-international.org/12.0/#prod-FunctionBody) }

1.  Return ? [InstantiateOrdinaryFunctionObject](https://262.ecma-international.org/12.0/#sec-runtime-semantics-instantiateordinaryfunctionobject) of [FunctionDeclaration](https://262.ecma-international.org/12.0/#prod-FunctionDeclaration) with argument scope.

[GeneratorDeclaration](https://262.ecma-international.org/12.0/#prod-GeneratorDeclaration) : function \* [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier) ( [FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters) ) { [GeneratorBody](https://262.ecma-international.org/12.0/#prod-GeneratorBody) } function \* ( [FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters) ) { [GeneratorBody](https://262.ecma-international.org/12.0/#prod-GeneratorBody) }

1.  Return ? [InstantiateGeneratorFunctionObject](https://262.ecma-international.org/12.0/#sec-runtime-semantics-instantiategeneratorfunctionobject) of [GeneratorDeclaration](https://262.ecma-international.org/12.0/#prod-GeneratorDeclaration) with argument scope.

[AsyncGeneratorDeclaration](https://262.ecma-international.org/12.0/#prod-AsyncGeneratorDeclaration) : async function \* [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier) ( [FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters) ) { [AsyncGeneratorBody](https://262.ecma-international.org/12.0/#prod-AsyncGeneratorBody) } async function \* ( [FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters) ) { [AsyncGeneratorBody](https://262.ecma-international.org/12.0/#prod-AsyncGeneratorBody) }

1.  Return ? [InstantiateAsyncGeneratorFunctionObject](https://262.ecma-international.org/12.0/#sec-runtime-semantics-instantiateasyncgeneratorfunctionobject) of [AsyncGeneratorDeclaration](https://262.ecma-international.org/12.0/#prod-AsyncGeneratorDeclaration) with argument scope.

[AsyncFunctionDeclaration](https://262.ecma-international.org/12.0/#prod-AsyncFunctionDeclaration) : async function [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier) ( [FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters) ) { [AsyncFunctionBody](https://262.ecma-international.org/12.0/#prod-AsyncFunctionBody) } async function ( [FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters) ) { [AsyncFunctionBody](https://262.ecma-international.org/12.0/#prod-AsyncFunctionBody) }

1.  Return ? [InstantiateAsyncFunctionObject](https://262.ecma-international.org/12.0/#sec-runtime-semantics-instantiateasyncfunctionobject) of [AsyncFunctionDeclaration](https://262.ecma-international.org/12.0/#prod-AsyncFunctionDeclaration) with argument scope.

## 8.5.2 Runtime Semantics: BindingInitialization

With parameters value and environment.

Note

undefined is passed for environment to indicate that a [PutValue](https://262.ecma-international.org/12.0/#sec-putvalue) operation should be used to assign the initialization value. This is the case for `var` statements and formal parameter lists of some non-strict functions (See [10.2.10](https://262.ecma-international.org/12.0/#sec-functiondeclarationinstantiation)). In those cases a lexical binding is hoisted and preinitialized prior to evaluation of its initializer.

[BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier) : [Identifier](https://262.ecma-international.org/12.0/#prod-Identifier)

1.  Let name be [StringValue](https://262.ecma-international.org/12.0/#sec-static-semantics-stringvalue) of [Identifier](https://262.ecma-international.org/12.0/#prod-Identifier).
2.  Return ? [InitializeBoundName](https://262.ecma-international.org/12.0/#sec-initializeboundname)(name, value, environment).

[BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier) : yield

1.  Return ? [InitializeBoundName](https://262.ecma-international.org/12.0/#sec-initializeboundname)("yield", value, environment).

[BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier) : await

1.  Return ? [InitializeBoundName](https://262.ecma-international.org/12.0/#sec-initializeboundname)("await", value, environment).

[BindingPattern](https://262.ecma-international.org/12.0/#prod-BindingPattern) : [ObjectBindingPattern](https://262.ecma-international.org/12.0/#prod-ObjectBindingPattern)

1.  Perform ? [RequireObjectCoercible](https://262.ecma-international.org/12.0/#sec-requireobjectcoercible)(value).
2.  Return the result of performing [BindingInitialization](https://262.ecma-international.org/12.0/#sec-runtime-semantics-bindinginitialization) for [ObjectBindingPattern](https://262.ecma-international.org/12.0/#prod-ObjectBindingPattern) using value and environment as arguments.

[BindingPattern](https://262.ecma-international.org/12.0/#prod-BindingPattern) : [ArrayBindingPattern](https://262.ecma-international.org/12.0/#prod-ArrayBindingPattern)

1.  Let iteratorRecord be ? [GetIterator](https://262.ecma-international.org/12.0/#sec-getiterator)(value).
2.  Let result be [IteratorBindingInitialization](https://262.ecma-international.org/12.0/#sec-runtime-semantics-iteratorbindinginitialization) of [ArrayBindingPattern](https://262.ecma-international.org/12.0/#prod-ArrayBindingPattern) with arguments iteratorRecord and environment.
3.  If iteratorRecord.\[\[Done\]\] is false, return ? [IteratorClose](https://262.ecma-international.org/12.0/#sec-iteratorclose)(iteratorRecord, result).
4.  Return result.

[ObjectBindingPattern](https://262.ecma-international.org/12.0/#prod-ObjectBindingPattern) : { }

1.  Return [NormalCompletion](https://262.ecma-international.org/12.0/#sec-normalcompletion)(empty).

[ObjectBindingPattern](https://262.ecma-international.org/12.0/#prod-ObjectBindingPattern) : { [BindingPropertyList](https://262.ecma-international.org/12.0/#prod-BindingPropertyList) } { [BindingPropertyList](https://262.ecma-international.org/12.0/#prod-BindingPropertyList) , }

1.  Perform ? [PropertyBindingInitialization](https://262.ecma-international.org/12.0/#sec-destructuring-binding-patterns-runtime-semantics-propertybindinginitialization) for [BindingPropertyList](https://262.ecma-international.org/12.0/#prod-BindingPropertyList) using value and environment as the arguments.
2.  Return [NormalCompletion](https://262.ecma-international.org/12.0/#sec-normalcompletion)(empty).

[ObjectBindingPattern](https://262.ecma-international.org/12.0/#prod-ObjectBindingPattern) : { [BindingRestProperty](https://262.ecma-international.org/12.0/#prod-BindingRestProperty) }

1.  Let excludedNames be a new empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).
2.  Return the result of performing [RestBindingInitialization](https://262.ecma-international.org/12.0/#sec-destructuring-binding-patterns-runtime-semantics-restbindinginitialization) of [BindingRestProperty](https://262.ecma-international.org/12.0/#prod-BindingRestProperty) with value, environment, and excludedNames as the arguments.

[ObjectBindingPattern](https://262.ecma-international.org/12.0/#prod-ObjectBindingPattern) : { [BindingPropertyList](https://262.ecma-international.org/12.0/#prod-BindingPropertyList) , [BindingRestProperty](https://262.ecma-international.org/12.0/#prod-BindingRestProperty) }

1.  Let excludedNames be ? [PropertyBindingInitialization](https://262.ecma-international.org/12.0/#sec-destructuring-binding-patterns-runtime-semantics-propertybindinginitialization) of [BindingPropertyList](https://262.ecma-international.org/12.0/#prod-BindingPropertyList) with arguments value and environment.
2.  Return the result of performing [RestBindingInitialization](https://262.ecma-international.org/12.0/#sec-destructuring-binding-patterns-runtime-semantics-restbindinginitialization) of [BindingRestProperty](https://262.ecma-international.org/12.0/#prod-BindingRestProperty) with arguments value, environment, and excludedNames.

## 8.5.2.1 InitializeBoundName ( name, value, environment )

The abstract operation InitializeBoundName takes arguments name, value, and environment. It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(name) is String.
2.  If environment is not undefined, then
    1.  Perform environment.InitializeBinding(name, value).
    2.  Return [NormalCompletion](https://262.ecma-international.org/12.0/#sec-normalcompletion)(undefined).
3.  Else,
    1.  Let lhs be [ResolveBinding](https://262.ecma-international.org/12.0/#sec-resolvebinding)(name).
    2.  Return ? [PutValue](https://262.ecma-international.org/12.0/#sec-putvalue)(lhs, value).

## 8.5.3 Runtime Semantics: IteratorBindingInitialization

With parameters iteratorRecord and environment.

Note

When undefined is passed for environment it indicates that a [PutValue](https://262.ecma-international.org/12.0/#sec-putvalue) operation should be used to assign the initialization value. This is the case for formal parameter lists of non-strict functions. In that case the formal parameter bindings are preinitialized in order to deal with the possibility of multiple parameters with the same name.

[ArrayBindingPattern](https://262.ecma-international.org/12.0/#prod-ArrayBindingPattern) : \[ \]

1.  Return [NormalCompletion](https://262.ecma-international.org/12.0/#sec-normalcompletion)(empty).

[ArrayBindingPattern](https://262.ecma-international.org/12.0/#prod-ArrayBindingPattern) : \[ [Elision](https://262.ecma-international.org/12.0/#prod-Elision) \]

1.  Return the result of performing [IteratorDestructuringAssignmentEvaluation](https://262.ecma-international.org/12.0/#sec-runtime-semantics-iteratordestructuringassignmentevaluation) of [Elision](https://262.ecma-international.org/12.0/#prod-Elision) with iteratorRecord as the argument.

[ArrayBindingPattern](https://262.ecma-international.org/12.0/#prod-ArrayBindingPattern) : \[ [Elision](https://262.ecma-international.org/12.0/#prod-Elision)opt [BindingRestElement](https://262.ecma-international.org/12.0/#prod-BindingRestElement) \]

1.  If [Elision](https://262.ecma-international.org/12.0/#prod-Elision) is present, then
    1.  Perform ? [IteratorDestructuringAssignmentEvaluation](https://262.ecma-international.org/12.0/#sec-runtime-semantics-iteratordestructuringassignmentevaluation) of [Elision](https://262.ecma-international.org/12.0/#prod-Elision) with iteratorRecord as the argument.
2.  Return the result of performing [IteratorBindingInitialization](https://262.ecma-international.org/12.0/#sec-runtime-semantics-iteratorbindinginitialization) for [BindingRestElement](https://262.ecma-international.org/12.0/#prod-BindingRestElement) with iteratorRecord and environment as arguments.

[ArrayBindingPattern](https://262.ecma-international.org/12.0/#prod-ArrayBindingPattern) : \[ [BindingElementList](https://262.ecma-international.org/12.0/#prod-BindingElementList) , [Elision](https://262.ecma-international.org/12.0/#prod-Elision) \]

1.  Perform ? [IteratorBindingInitialization](https://262.ecma-international.org/12.0/#sec-runtime-semantics-iteratorbindinginitialization) for [BindingElementList](https://262.ecma-international.org/12.0/#prod-BindingElementList) with iteratorRecord and environment as arguments.
2.  Return the result of performing [IteratorDestructuringAssignmentEvaluation](https://262.ecma-international.org/12.0/#sec-runtime-semantics-iteratordestructuringassignmentevaluation) of [Elision](https://262.ecma-international.org/12.0/#prod-Elision) with iteratorRecord as the argument.

[ArrayBindingPattern](https://262.ecma-international.org/12.0/#prod-ArrayBindingPattern) : \[ [BindingElementList](https://262.ecma-international.org/12.0/#prod-BindingElementList) , [Elision](https://262.ecma-international.org/12.0/#prod-Elision)opt [BindingRestElement](https://262.ecma-international.org/12.0/#prod-BindingRestElement) \]

1.  Perform ? [IteratorBindingInitialization](https://262.ecma-international.org/12.0/#sec-runtime-semantics-iteratorbindinginitialization) for [BindingElementList](https://262.ecma-international.org/12.0/#prod-BindingElementList) with iteratorRecord and environment as arguments.
2.  If [Elision](https://262.ecma-international.org/12.0/#prod-Elision) is present, then
    1.  Perform ? [IteratorDestructuringAssignmentEvaluation](https://262.ecma-international.org/12.0/#sec-runtime-semantics-iteratordestructuringassignmentevaluation) of [Elision](https://262.ecma-international.org/12.0/#prod-Elision) with iteratorRecord as the argument.
3.  Return the result of performing [IteratorBindingInitialization](https://262.ecma-international.org/12.0/#sec-runtime-semantics-iteratorbindinginitialization) for [BindingRestElement](https://262.ecma-international.org/12.0/#prod-BindingRestElement) with iteratorRecord and environment as arguments.

[BindingElementList](https://262.ecma-international.org/12.0/#prod-BindingElementList) : [BindingElementList](https://262.ecma-international.org/12.0/#prod-BindingElementList) , [BindingElisionElement](https://262.ecma-international.org/12.0/#prod-BindingElisionElement)

1.  Perform ? [IteratorBindingInitialization](https://262.ecma-international.org/12.0/#sec-runtime-semantics-iteratorbindinginitialization) for [BindingElementList](https://262.ecma-international.org/12.0/#prod-BindingElementList) with iteratorRecord and environment as arguments.
2.  Return the result of performing [IteratorBindingInitialization](https://262.ecma-international.org/12.0/#sec-runtime-semantics-iteratorbindinginitialization) for [BindingElisionElement](https://262.ecma-international.org/12.0/#prod-BindingElisionElement) using iteratorRecord and environment as arguments.

[BindingElisionElement](https://262.ecma-international.org/12.0/#prod-BindingElisionElement) : [Elision](https://262.ecma-international.org/12.0/#prod-Elision) [BindingElement](https://262.ecma-international.org/12.0/#prod-BindingElement)

1.  Perform ? [IteratorDestructuringAssignmentEvaluation](https://262.ecma-international.org/12.0/#sec-runtime-semantics-iteratordestructuringassignmentevaluation) of [Elision](https://262.ecma-international.org/12.0/#prod-Elision) with iteratorRecord as the argument.
2.  Return the result of performing [IteratorBindingInitialization](https://262.ecma-international.org/12.0/#sec-runtime-semantics-iteratorbindinginitialization) of [BindingElement](https://262.ecma-international.org/12.0/#prod-BindingElement) with iteratorRecord and environment as the arguments.

[SingleNameBinding](https://262.ecma-international.org/12.0/#prod-SingleNameBinding) : [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier) [Initializer](https://262.ecma-international.org/12.0/#prod-Initializer)opt

1.  Let bindingId be [StringValue](https://262.ecma-international.org/12.0/#sec-static-semantics-stringvalue) of [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier).
2.  Let lhs be ? [ResolveBinding](https://262.ecma-international.org/12.0/#sec-resolvebinding)(bindingId, environment).
3.  If iteratorRecord.\[\[Done\]\] is false, then
    1.  Let next be [IteratorStep](https://262.ecma-international.org/12.0/#sec-iteratorstep)(iteratorRecord).
    2.  If next is an [abrupt completion](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type), set iteratorRecord.\[\[Done\]\] to true.
    3.  [ReturnIfAbrupt](https://262.ecma-international.org/12.0/#sec-returnifabrupt)(next).
    4.  If next is false, set iteratorRecord.\[\[Done\]\] to true.
    5.  Else,
        1.  Let v be [IteratorValue](https://262.ecma-international.org/12.0/#sec-iteratorvalue)(next).
        2.  If v is an [abrupt completion](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type), set iteratorRecord.\[\[Done\]\] to true.
        3.  [ReturnIfAbrupt](https://262.ecma-international.org/12.0/#sec-returnifabrupt)(v).
4.  If iteratorRecord.\[\[Done\]\] is true, let v be undefined.
5.  If [Initializer](https://262.ecma-international.org/12.0/#prod-Initializer) is present and v is undefined, then
    1.  If [IsAnonymousFunctionDefinition](https://262.ecma-international.org/12.0/#sec-isanonymousfunctiondefinition)([Initializer](https://262.ecma-international.org/12.0/#prod-Initializer)) is true, then
        1.  Set v to the result of performing [NamedEvaluation](https://262.ecma-international.org/12.0/#sec-runtime-semantics-namedevaluation) for [Initializer](https://262.ecma-international.org/12.0/#prod-Initializer) with argument bindingId.
    2.  Else,
        1.  Let defaultValue be the result of evaluating [Initializer](https://262.ecma-international.org/12.0/#prod-Initializer).
        2.  Set v to ? [GetValue](https://262.ecma-international.org/12.0/#sec-getvalue)(defaultValue).
6.  If environment is undefined, return ? [PutValue](https://262.ecma-international.org/12.0/#sec-putvalue)(lhs, v).
7.  Return [InitializeReferencedBinding](https://262.ecma-international.org/12.0/#sec-initializereferencedbinding)(lhs, v).

[BindingElement](https://262.ecma-international.org/12.0/#prod-BindingElement) : [BindingPattern](https://262.ecma-international.org/12.0/#prod-BindingPattern) [Initializer](https://262.ecma-international.org/12.0/#prod-Initializer)opt

1.  If iteratorRecord.\[\[Done\]\] is false, then
    1.  Let next be [IteratorStep](https://262.ecma-international.org/12.0/#sec-iteratorstep)(iteratorRecord).
    2.  If next is an [abrupt completion](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type), set iteratorRecord.\[\[Done\]\] to true.
    3.  [ReturnIfAbrupt](https://262.ecma-international.org/12.0/#sec-returnifabrupt)(next).
    4.  If next is false, set iteratorRecord.\[\[Done\]\] to true.
    5.  Else,
        1.  Let v be [IteratorValue](https://262.ecma-international.org/12.0/#sec-iteratorvalue)(next).
        2.  If v is an [abrupt completion](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type), set iteratorRecord.\[\[Done\]\] to true.
        3.  [ReturnIfAbrupt](https://262.ecma-international.org/12.0/#sec-returnifabrupt)(v).
2.  If iteratorRecord.\[\[Done\]\] is true, let v be undefined.
3.  If [Initializer](https://262.ecma-international.org/12.0/#prod-Initializer) is present and v is undefined, then
    1.  Let defaultValue be the result of evaluating [Initializer](https://262.ecma-international.org/12.0/#prod-Initializer).
    2.  Set v to ? [GetValue](https://262.ecma-international.org/12.0/#sec-getvalue)(defaultValue).
4.  Return the result of performing [BindingInitialization](https://262.ecma-international.org/12.0/#sec-runtime-semantics-bindinginitialization) of [BindingPattern](https://262.ecma-international.org/12.0/#prod-BindingPattern) with v and environment as the arguments.

[BindingRestElement](https://262.ecma-international.org/12.0/#prod-BindingRestElement) : ... [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier)

1.  Let lhs be ? [ResolveBinding](https://262.ecma-international.org/12.0/#sec-resolvebinding)([StringValue](https://262.ecma-international.org/12.0/#sec-static-semantics-stringvalue) of [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier), environment).
2.  Let A be ! [ArrayCreate](https://262.ecma-international.org/12.0/#sec-arraycreate)(0).
3.  Let n be 0.
4.  Repeat,
    1.  If iteratorRecord.\[\[Done\]\] is false, then
        1.  Let next be [IteratorStep](https://262.ecma-international.org/12.0/#sec-iteratorstep)(iteratorRecord).
        2.  If next is an [abrupt completion](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type), set iteratorRecord.\[\[Done\]\] to true.
        3.  [ReturnIfAbrupt](https://262.ecma-international.org/12.0/#sec-returnifabrupt)(next).
        4.  If next is false, set iteratorRecord.\[\[Done\]\] to true.
    2.  If iteratorRecord.\[\[Done\]\] is true, then
        1.  If environment is undefined, return ? [PutValue](https://262.ecma-international.org/12.0/#sec-putvalue)(lhs, A).
        2.  Return [InitializeReferencedBinding](https://262.ecma-international.org/12.0/#sec-initializereferencedbinding)(lhs, A).
    3.  Let nextValue be [IteratorValue](https://262.ecma-international.org/12.0/#sec-iteratorvalue)(next).
    4.  If nextValue is an [abrupt completion](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type), set iteratorRecord.\[\[Done\]\] to true.
    5.  [ReturnIfAbrupt](https://262.ecma-international.org/12.0/#sec-returnifabrupt)(nextValue).
    6.  Perform ! [CreateDataPropertyOrThrow](https://262.ecma-international.org/12.0/#sec-createdatapropertyorthrow)(A, ! [ToString](https://262.ecma-international.org/12.0/#sec-tostring)([𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(n)), nextValue).
    7.  Set n to n + 1.

[BindingRestElement](https://262.ecma-international.org/12.0/#prod-BindingRestElement) : ... [BindingPattern](https://262.ecma-international.org/12.0/#prod-BindingPattern)

1.  Let A be ! [ArrayCreate](https://262.ecma-international.org/12.0/#sec-arraycreate)(0).
2.  Let n be 0.
3.  Repeat,
    1.  If iteratorRecord.\[\[Done\]\] is false, then
        1.  Let next be [IteratorStep](https://262.ecma-international.org/12.0/#sec-iteratorstep)(iteratorRecord).
        2.  If next is an [abrupt completion](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type), set iteratorRecord.\[\[Done\]\] to true.
        3.  [ReturnIfAbrupt](https://262.ecma-international.org/12.0/#sec-returnifabrupt)(next).
        4.  If next is false, set iteratorRecord.\[\[Done\]\] to true.
    2.  If iteratorRecord.\[\[Done\]\] is true, then
        1.  Return the result of performing [BindingInitialization](https://262.ecma-international.org/12.0/#sec-runtime-semantics-bindinginitialization) of [BindingPattern](https://262.ecma-international.org/12.0/#prod-BindingPattern) with A and environment as the arguments.
    3.  Let nextValue be [IteratorValue](https://262.ecma-international.org/12.0/#sec-iteratorvalue)(next).
    4.  If nextValue is an [abrupt completion](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type), set iteratorRecord.\[\[Done\]\] to true.
    5.  [ReturnIfAbrupt](https://262.ecma-international.org/12.0/#sec-returnifabrupt)(nextValue).
    6.  Perform ! [CreateDataPropertyOrThrow](https://262.ecma-international.org/12.0/#sec-createdatapropertyorthrow)(A, ! [ToString](https://262.ecma-international.org/12.0/#sec-tostring)([𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(n)), nextValue).
    7.  Set n to n + 1.

[FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters) : \[empty\]

1.  Return [NormalCompletion](https://262.ecma-international.org/12.0/#sec-normalcompletion)(empty).

[FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters) : [FormalParameterList](https://262.ecma-international.org/12.0/#prod-FormalParameterList) , [FunctionRestParameter](https://262.ecma-international.org/12.0/#prod-FunctionRestParameter)

1.  Perform ? [IteratorBindingInitialization](https://262.ecma-international.org/12.0/#sec-runtime-semantics-iteratorbindinginitialization) for [FormalParameterList](https://262.ecma-international.org/12.0/#prod-FormalParameterList) using iteratorRecord and environment as the arguments.
2.  Return the result of performing [IteratorBindingInitialization](https://262.ecma-international.org/12.0/#sec-runtime-semantics-iteratorbindinginitialization) for [FunctionRestParameter](https://262.ecma-international.org/12.0/#prod-FunctionRestParameter) using iteratorRecord and environment as the arguments.

[FormalParameterList](https://262.ecma-international.org/12.0/#prod-FormalParameterList) : [FormalParameterList](https://262.ecma-international.org/12.0/#prod-FormalParameterList) , [FormalParameter](https://262.ecma-international.org/12.0/#prod-FormalParameter)

1.  Perform ? [IteratorBindingInitialization](https://262.ecma-international.org/12.0/#sec-runtime-semantics-iteratorbindinginitialization) for [FormalParameterList](https://262.ecma-international.org/12.0/#prod-FormalParameterList) using iteratorRecord and environment as the arguments.
2.  Return the result of performing [IteratorBindingInitialization](https://262.ecma-international.org/12.0/#sec-runtime-semantics-iteratorbindinginitialization) for [FormalParameter](https://262.ecma-international.org/12.0/#prod-FormalParameter) using iteratorRecord and environment as the arguments.

[ArrowParameters](https://262.ecma-international.org/12.0/#prod-ArrowParameters) : [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier)

1.  [Assert](https://262.ecma-international.org/12.0/#assert): iteratorRecord.\[\[Done\]\] is false.
2.  Let next be [IteratorStep](https://262.ecma-international.org/12.0/#sec-iteratorstep)(iteratorRecord).
3.  If next is an [abrupt completion](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type), set iteratorRecord.\[\[Done\]\] to true.
4.  [ReturnIfAbrupt](https://262.ecma-international.org/12.0/#sec-returnifabrupt)(next).
5.  If next is false, set iteratorRecord.\[\[Done\]\] to true.
6.  Else,
    1.  Let v be [IteratorValue](https://262.ecma-international.org/12.0/#sec-iteratorvalue)(next).
    2.  If v is an [abrupt completion](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type), set iteratorRecord.\[\[Done\]\] to true.
    3.  [ReturnIfAbrupt](https://262.ecma-international.org/12.0/#sec-returnifabrupt)(v).
7.  If iteratorRecord.\[\[Done\]\] is true, let v be undefined.
8.  Return the result of performing [BindingInitialization](https://262.ecma-international.org/12.0/#sec-runtime-semantics-bindinginitialization) for [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier) using v and environment as the arguments.

[ArrowParameters](https://262.ecma-international.org/12.0/#prod-ArrowParameters) : [CoverParenthesizedExpressionAndArrowParameterList](https://262.ecma-international.org/12.0/#prod-CoverParenthesizedExpressionAndArrowParameterList)

1.  Let formals be [CoveredFormalsList](https://262.ecma-international.org/12.0/#sec-static-semantics-coveredformalslist) of [CoverParenthesizedExpressionAndArrowParameterList](https://262.ecma-international.org/12.0/#prod-CoverParenthesizedExpressionAndArrowParameterList).
2.  Return [IteratorBindingInitialization](https://262.ecma-international.org/12.0/#sec-runtime-semantics-iteratorbindinginitialization) of formals with arguments iteratorRecord and environment.

[AsyncArrowBindingIdentifier](https://262.ecma-international.org/12.0/#prod-AsyncArrowBindingIdentifier) : [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier)

1.  [Assert](https://262.ecma-international.org/12.0/#assert): iteratorRecord.\[\[Done\]\] is false.
2.  Let next be [IteratorStep](https://262.ecma-international.org/12.0/#sec-iteratorstep)(iteratorRecord).
3.  If next is an [abrupt completion](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type), set iteratorRecord.\[\[Done\]\] to true.
4.  [ReturnIfAbrupt](https://262.ecma-international.org/12.0/#sec-returnifabrupt)(next).
5.  If next is false, set iteratorRecord.\[\[Done\]\] to true.
6.  Else,
    1.  Let v be [IteratorValue](https://262.ecma-international.org/12.0/#sec-iteratorvalue)(next).
    2.  If v is an [abrupt completion](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type), set iteratorRecord.\[\[Done\]\] to true.
    3.  [ReturnIfAbrupt](https://262.ecma-international.org/12.0/#sec-returnifabrupt)(v).
7.  If iteratorRecord.\[\[Done\]\] is true, let v be undefined.
8.  Return the result of performing [BindingInitialization](https://262.ecma-international.org/12.0/#sec-runtime-semantics-bindinginitialization) for [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier) using v and environment as the arguments.

## 8.5.4 Static Semantics: AssignmentTargetType

[IdentifierReference](https://262.ecma-international.org/12.0/#prod-IdentifierReference) : [Identifier](https://262.ecma-international.org/12.0/#prod-Identifier)

1.  If this [IdentifierReference](https://262.ecma-international.org/12.0/#prod-IdentifierReference) is contained in [strict mode code](https://262.ecma-international.org/12.0/#sec-strict-mode-code) and [StringValue](https://262.ecma-international.org/12.0/#sec-static-semantics-stringvalue) of [Identifier](https://262.ecma-international.org/12.0/#prod-Identifier) is "eval" or "arguments", return invalid.
2.  Return simple.

[IdentifierReference](https://262.ecma-international.org/12.0/#prod-IdentifierReference) : yield await [CallExpression](https://262.ecma-international.org/12.0/#prod-CallExpression) : [CallExpression](https://262.ecma-international.org/12.0/#prod-CallExpression) \[ [Expression](https://262.ecma-international.org/12.0/#prod-Expression) \] [CallExpression](https://262.ecma-international.org/12.0/#prod-CallExpression) . [IdentifierName](https://262.ecma-international.org/12.0/#prod-IdentifierName) [MemberExpression](https://262.ecma-international.org/12.0/#prod-MemberExpression) : [MemberExpression](https://262.ecma-international.org/12.0/#prod-MemberExpression) \[ [Expression](https://262.ecma-international.org/12.0/#prod-Expression) \] [MemberExpression](https://262.ecma-international.org/12.0/#prod-MemberExpression) . [IdentifierName](https://262.ecma-international.org/12.0/#prod-IdentifierName) [SuperProperty](https://262.ecma-international.org/12.0/#prod-SuperProperty)

1.  Return simple.

[PrimaryExpression](https://262.ecma-international.org/12.0/#prod-PrimaryExpression) : [CoverParenthesizedExpressionAndArrowParameterList](https://262.ecma-international.org/12.0/#prod-CoverParenthesizedExpressionAndArrowParameterList)

1.  Let expr be [CoveredParenthesizedExpression](https://262.ecma-international.org/12.0/#sec-static-semantics-coveredparenthesizedexpression) of [CoverParenthesizedExpressionAndArrowParameterList](https://262.ecma-international.org/12.0/#prod-CoverParenthesizedExpressionAndArrowParameterList).
2.  Return [AssignmentTargetType](https://262.ecma-international.org/12.0/#sec-static-semantics-assignmenttargettype) of expr.

[PrimaryExpression](https://262.ecma-international.org/12.0/#prod-PrimaryExpression) : this [Literal](https://262.ecma-international.org/12.0/#prod-Literal) [ArrayLiteral](https://262.ecma-international.org/12.0/#prod-ArrayLiteral) [ObjectLiteral](https://262.ecma-international.org/12.0/#prod-ObjectLiteral) [FunctionExpression](https://262.ecma-international.org/12.0/#prod-FunctionExpression) [ClassExpression](https://262.ecma-international.org/12.0/#prod-ClassExpression) [GeneratorExpression](https://262.ecma-international.org/12.0/#prod-GeneratorExpression) [AsyncFunctionExpression](https://262.ecma-international.org/12.0/#prod-AsyncFunctionExpression) [AsyncGeneratorExpression](https://262.ecma-international.org/12.0/#prod-AsyncGeneratorExpression) [RegularExpressionLiteral](https://262.ecma-international.org/12.0/#prod-RegularExpressionLiteral) [TemplateLiteral](https://262.ecma-international.org/12.0/#prod-TemplateLiteral) [CallExpression](https://262.ecma-international.org/12.0/#prod-CallExpression) : [CoverCallExpressionAndAsyncArrowHead](https://262.ecma-international.org/12.0/#prod-CoverCallExpressionAndAsyncArrowHead) [SuperCall](https://262.ecma-international.org/12.0/#prod-SuperCall) [ImportCall](https://262.ecma-international.org/12.0/#prod-ImportCall) [CallExpression](https://262.ecma-international.org/12.0/#prod-CallExpression) [Arguments](https://262.ecma-international.org/12.0/#prod-Arguments) [CallExpression](https://262.ecma-international.org/12.0/#prod-CallExpression) [TemplateLiteral](https://262.ecma-international.org/12.0/#prod-TemplateLiteral) [NewExpression](https://262.ecma-international.org/12.0/#prod-NewExpression) : new [NewExpression](https://262.ecma-international.org/12.0/#prod-NewExpression) [MemberExpression](https://262.ecma-international.org/12.0/#prod-MemberExpression) : [MemberExpression](https://262.ecma-international.org/12.0/#prod-MemberExpression) [TemplateLiteral](https://262.ecma-international.org/12.0/#prod-TemplateLiteral) new [MemberExpression](https://262.ecma-international.org/12.0/#prod-MemberExpression) [Arguments](https://262.ecma-international.org/12.0/#prod-Arguments) [NewTarget](https://262.ecma-international.org/12.0/#prod-NewTarget) : new . target [ImportMeta](https://262.ecma-international.org/12.0/#prod-ImportMeta) : import . meta [LeftHandSideExpression](https://262.ecma-international.org/12.0/#prod-LeftHandSideExpression) : [OptionalExpression](https://262.ecma-international.org/12.0/#prod-OptionalExpression) [UpdateExpression](https://262.ecma-international.org/12.0/#prod-UpdateExpression) : [LeftHandSideExpression](https://262.ecma-international.org/12.0/#prod-LeftHandSideExpression) ++ [LeftHandSideExpression](https://262.ecma-international.org/12.0/#prod-LeftHandSideExpression) \-- ++ [UnaryExpression](https://262.ecma-international.org/12.0/#prod-UnaryExpression) \-- [UnaryExpression](https://262.ecma-international.org/12.0/#prod-UnaryExpression) [UnaryExpression](https://262.ecma-international.org/12.0/#prod-UnaryExpression) : delete [UnaryExpression](https://262.ecma-international.org/12.0/#prod-UnaryExpression) void [UnaryExpression](https://262.ecma-international.org/12.0/#prod-UnaryExpression) typeof [UnaryExpression](https://262.ecma-international.org/12.0/#prod-UnaryExpression) + [UnaryExpression](https://262.ecma-international.org/12.0/#prod-UnaryExpression) \- [UnaryExpression](https://262.ecma-international.org/12.0/#prod-UnaryExpression) ~ [UnaryExpression](https://262.ecma-international.org/12.0/#prod-UnaryExpression) ! [UnaryExpression](https://262.ecma-international.org/12.0/#prod-UnaryExpression) [AwaitExpression](https://262.ecma-international.org/12.0/#prod-AwaitExpression) [ExponentiationExpression](https://262.ecma-international.org/12.0/#prod-ExponentiationExpression) : [UpdateExpression](https://262.ecma-international.org/12.0/#prod-UpdateExpression) \*\* [ExponentiationExpression](https://262.ecma-international.org/12.0/#prod-ExponentiationExpression) [MultiplicativeExpression](https://262.ecma-international.org/12.0/#prod-MultiplicativeExpression) : [MultiplicativeExpression](https://262.ecma-international.org/12.0/#prod-MultiplicativeExpression) [MultiplicativeOperator](https://262.ecma-international.org/12.0/#prod-MultiplicativeOperator) [ExponentiationExpression](https://262.ecma-international.org/12.0/#prod-ExponentiationExpression) [AdditiveExpression](https://262.ecma-international.org/12.0/#prod-AdditiveExpression) : [AdditiveExpression](https://262.ecma-international.org/12.0/#prod-AdditiveExpression) + [MultiplicativeExpression](https://262.ecma-international.org/12.0/#prod-MultiplicativeExpression) [AdditiveExpression](https://262.ecma-international.org/12.0/#prod-AdditiveExpression) \- [MultiplicativeExpression](https://262.ecma-international.org/12.0/#prod-MultiplicativeExpression) [ShiftExpression](https://262.ecma-international.org/12.0/#prod-ShiftExpression) : [ShiftExpression](https://262.ecma-international.org/12.0/#prod-ShiftExpression) << [AdditiveExpression](https://262.ecma-international.org/12.0/#prod-AdditiveExpression) [ShiftExpression](https://262.ecma-international.org/12.0/#prod-ShiftExpression) \>> [AdditiveExpression](https://262.ecma-international.org/12.0/#prod-AdditiveExpression) [ShiftExpression](https://262.ecma-international.org/12.0/#prod-ShiftExpression) \>>> [AdditiveExpression](https://262.ecma-international.org/12.0/#prod-AdditiveExpression) [RelationalExpression](https://262.ecma-international.org/12.0/#prod-RelationalExpression) : [RelationalExpression](https://262.ecma-international.org/12.0/#prod-RelationalExpression) < [ShiftExpression](https://262.ecma-international.org/12.0/#prod-ShiftExpression) [RelationalExpression](https://262.ecma-international.org/12.0/#prod-RelationalExpression) \> [ShiftExpression](https://262.ecma-international.org/12.0/#prod-ShiftExpression) [RelationalExpression](https://262.ecma-international.org/12.0/#prod-RelationalExpression) <= [ShiftExpression](https://262.ecma-international.org/12.0/#prod-ShiftExpression) [RelationalExpression](https://262.ecma-international.org/12.0/#prod-RelationalExpression) \>= [ShiftExpression](https://262.ecma-international.org/12.0/#prod-ShiftExpression) [RelationalExpression](https://262.ecma-international.org/12.0/#prod-RelationalExpression) instanceof [ShiftExpression](https://262.ecma-international.org/12.0/#prod-ShiftExpression) [RelationalExpression](https://262.ecma-international.org/12.0/#prod-RelationalExpression) in [ShiftExpression](https://262.ecma-international.org/12.0/#prod-ShiftExpression) [EqualityExpression](https://262.ecma-international.org/12.0/#prod-EqualityExpression) : [EqualityExpression](https://262.ecma-international.org/12.0/#prod-EqualityExpression) \== [RelationalExpression](https://262.ecma-international.org/12.0/#prod-RelationalExpression) [EqualityExpression](https://262.ecma-international.org/12.0/#prod-EqualityExpression) != [RelationalExpression](https://262.ecma-international.org/12.0/#prod-RelationalExpression) [EqualityExpression](https://262.ecma-international.org/12.0/#prod-EqualityExpression) \=== [RelationalExpression](https://262.ecma-international.org/12.0/#prod-RelationalExpression) [EqualityExpression](https://262.ecma-international.org/12.0/#prod-EqualityExpression) !== [RelationalExpression](https://262.ecma-international.org/12.0/#prod-RelationalExpression) [BitwiseANDExpression](https://262.ecma-international.org/12.0/#prod-BitwiseANDExpression) : [BitwiseANDExpression](https://262.ecma-international.org/12.0/#prod-BitwiseANDExpression) & [EqualityExpression](https://262.ecma-international.org/12.0/#prod-EqualityExpression) [BitwiseXORExpression](https://262.ecma-international.org/12.0/#prod-BitwiseXORExpression) : [BitwiseXORExpression](https://262.ecma-international.org/12.0/#prod-BitwiseXORExpression) ^ [BitwiseANDExpression](https://262.ecma-international.org/12.0/#prod-BitwiseANDExpression) [BitwiseORExpression](https://262.ecma-international.org/12.0/#prod-BitwiseORExpression) : [BitwiseORExpression](https://262.ecma-international.org/12.0/#prod-BitwiseORExpression) | [BitwiseXORExpression](https://262.ecma-international.org/12.0/#prod-BitwiseXORExpression) [LogicalANDExpression](https://262.ecma-international.org/12.0/#prod-LogicalANDExpression) : [LogicalANDExpression](https://262.ecma-international.org/12.0/#prod-LogicalANDExpression) && [BitwiseORExpression](https://262.ecma-international.org/12.0/#prod-BitwiseORExpression) [LogicalORExpression](https://262.ecma-international.org/12.0/#prod-LogicalORExpression) : [LogicalORExpression](https://262.ecma-international.org/12.0/#prod-LogicalORExpression) || [LogicalANDExpression](https://262.ecma-international.org/12.0/#prod-LogicalANDExpression) [CoalesceExpression](https://262.ecma-international.org/12.0/#prod-CoalesceExpression) : [CoalesceExpressionHead](https://262.ecma-international.org/12.0/#prod-CoalesceExpressionHead) ?? [BitwiseORExpression](https://262.ecma-international.org/12.0/#prod-BitwiseORExpression) [ConditionalExpression](https://262.ecma-international.org/12.0/#prod-ConditionalExpression) : [ShortCircuitExpression](https://262.ecma-international.org/12.0/#prod-ShortCircuitExpression) ? [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression) : [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression) [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression) : [YieldExpression](https://262.ecma-international.org/12.0/#prod-YieldExpression) [ArrowFunction](https://262.ecma-international.org/12.0/#prod-ArrowFunction) [AsyncArrowFunction](https://262.ecma-international.org/12.0/#prod-AsyncArrowFunction) [LeftHandSideExpression](https://262.ecma-international.org/12.0/#prod-LeftHandSideExpression) \= [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression) [LeftHandSideExpression](https://262.ecma-international.org/12.0/#prod-LeftHandSideExpression) [AssignmentOperator](https://262.ecma-international.org/12.0/#prod-AssignmentOperator) [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression) [LeftHandSideExpression](https://262.ecma-international.org/12.0/#prod-LeftHandSideExpression) &&= [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression) [LeftHandSideExpression](https://262.ecma-international.org/12.0/#prod-LeftHandSideExpression) ||= [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression) [LeftHandSideExpression](https://262.ecma-international.org/12.0/#prod-LeftHandSideExpression) ??= [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression) [Expression](https://262.ecma-international.org/12.0/#prod-Expression) : [Expression](https://262.ecma-international.org/12.0/#prod-Expression) , [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression)

1.  Return invalid.

## 8.5.5 Static Semantics: PropName

[PropertyDefinition](https://262.ecma-international.org/12.0/#prod-PropertyDefinition) : [IdentifierReference](https://262.ecma-international.org/12.0/#prod-IdentifierReference)

1.  Return [StringValue](https://262.ecma-international.org/12.0/#sec-static-semantics-stringvalue) of [IdentifierReference](https://262.ecma-international.org/12.0/#prod-IdentifierReference).

[PropertyDefinition](https://262.ecma-international.org/12.0/#prod-PropertyDefinition) : ... [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression)

1.  Return empty.

[PropertyDefinition](https://262.ecma-international.org/12.0/#prod-PropertyDefinition) : [PropertyName](https://262.ecma-international.org/12.0/#prod-PropertyName) : [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression)

1.  Return [PropName](https://262.ecma-international.org/12.0/#sec-static-semantics-propname) of [PropertyName](https://262.ecma-international.org/12.0/#prod-PropertyName).

[LiteralPropertyName](https://262.ecma-international.org/12.0/#prod-LiteralPropertyName) : [IdentifierName](https://262.ecma-international.org/12.0/#prod-IdentifierName)

1.  Return [StringValue](https://262.ecma-international.org/12.0/#sec-static-semantics-stringvalue) of [IdentifierName](https://262.ecma-international.org/12.0/#prod-IdentifierName).

[LiteralPropertyName](https://262.ecma-international.org/12.0/#prod-LiteralPropertyName) : [StringLiteral](https://262.ecma-international.org/12.0/#prod-StringLiteral)

1.  Return the [SV](https://262.ecma-international.org/12.0/#sec-static-semantics-sv) of [StringLiteral](https://262.ecma-international.org/12.0/#prod-StringLiteral).

[LiteralPropertyName](https://262.ecma-international.org/12.0/#prod-LiteralPropertyName) : [NumericLiteral](https://262.ecma-international.org/12.0/#prod-NumericLiteral)

1.  Let nbr be the [NumericValue](https://262.ecma-international.org/12.0/#sec-numericvalue) of [NumericLiteral](https://262.ecma-international.org/12.0/#prod-NumericLiteral).
2.  Return ! [ToString](https://262.ecma-international.org/12.0/#sec-tostring)(nbr).

[ComputedPropertyName](https://262.ecma-international.org/12.0/#prod-ComputedPropertyName) : \[ [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression) \]

1.  Return empty.

[MethodDefinition](https://262.ecma-international.org/12.0/#prod-MethodDefinition) : [PropertyName](https://262.ecma-international.org/12.0/#prod-PropertyName) ( [UniqueFormalParameters](https://262.ecma-international.org/12.0/#prod-UniqueFormalParameters) ) { [FunctionBody](https://262.ecma-international.org/12.0/#prod-FunctionBody) } get [PropertyName](https://262.ecma-international.org/12.0/#prod-PropertyName) ( ) { [FunctionBody](https://262.ecma-international.org/12.0/#prod-FunctionBody) } set [PropertyName](https://262.ecma-international.org/12.0/#prod-PropertyName) ( [PropertySetParameterList](https://262.ecma-international.org/12.0/#prod-PropertySetParameterList) ) { [FunctionBody](https://262.ecma-international.org/12.0/#prod-FunctionBody) }

1.  Return [PropName](https://262.ecma-international.org/12.0/#sec-static-semantics-propname) of [PropertyName](https://262.ecma-international.org/12.0/#prod-PropertyName).

[GeneratorMethod](https://262.ecma-international.org/12.0/#prod-GeneratorMethod) : \* [PropertyName](https://262.ecma-international.org/12.0/#prod-PropertyName) ( [UniqueFormalParameters](https://262.ecma-international.org/12.0/#prod-UniqueFormalParameters) ) { [GeneratorBody](https://262.ecma-international.org/12.0/#prod-GeneratorBody) }

1.  Return [PropName](https://262.ecma-international.org/12.0/#sec-static-semantics-propname) of [PropertyName](https://262.ecma-international.org/12.0/#prod-PropertyName).

[AsyncGeneratorMethod](https://262.ecma-international.org/12.0/#prod-AsyncGeneratorMethod) : async \* [PropertyName](https://262.ecma-international.org/12.0/#prod-PropertyName) ( [UniqueFormalParameters](https://262.ecma-international.org/12.0/#prod-UniqueFormalParameters) ) { [AsyncGeneratorBody](https://262.ecma-international.org/12.0/#prod-AsyncGeneratorBody) }

1.  Return [PropName](https://262.ecma-international.org/12.0/#sec-static-semantics-propname) of [PropertyName](https://262.ecma-international.org/12.0/#prod-PropertyName).

[ClassElement](https://262.ecma-international.org/12.0/#prod-ClassElement) : ;

1.  Return empty.

[AsyncMethod](https://262.ecma-international.org/12.0/#prod-AsyncMethod) : async [PropertyName](https://262.ecma-international.org/12.0/#prod-PropertyName) ( [UniqueFormalParameters](https://262.ecma-international.org/12.0/#prod-UniqueFormalParameters) ) { [AsyncFunctionBody](https://262.ecma-international.org/12.0/#prod-AsyncFunctionBody) }

1.  Return [PropName](https://262.ecma-international.org/12.0/#sec-static-semantics-propname) of [PropertyName](https://262.ecma-international.org/12.0/#prod-PropertyName).

## 9 Executable Code and Execution Contexts

## 9.1 Environment Records

Environment Record is a specification type used to define the association of [Identifier](https://262.ecma-international.org/12.0/#prod-Identifier)s to specific variables and functions, based upon the lexical nesting structure of ECMAScript code. Usually an Environment Record is associated with some specific syntactic structure of ECMAScript code such as a [FunctionDeclaration](https://262.ecma-international.org/12.0/#prod-FunctionDeclaration), a [BlockStatement](https://262.ecma-international.org/12.0/#prod-BlockStatement), or a [Catch](https://262.ecma-international.org/12.0/#prod-Catch) clause of a [TryStatement](https://262.ecma-international.org/12.0/#prod-TryStatement). Each time such code is evaluated, a new Environment Record is created to record the identifier bindings that are created by that code.

Every Environment Record has an \[\[OuterEnv\]\] field, which is either null or a reference to an outer Environment Record. This is used to model the logical nesting of Environment Record values. The outer reference of an (inner) Environment Record is a reference to the Environment Record that logically surrounds the inner Environment Record. An outer Environment Record may, of course, have its own outer Environment Record. An Environment Record may serve as the outer environment for multiple inner Environment Records. For example, if a [FunctionDeclaration](https://262.ecma-international.org/12.0/#prod-FunctionDeclaration) contains two nested [FunctionDeclaration](https://262.ecma-international.org/12.0/#prod-FunctionDeclaration)s then the Environment Records of each of the nested functions will have as their outer Environment Record the Environment Record of the current evaluation of the surrounding function.

Environment Records are purely specification mechanisms and need not correspond to any specific artefact of an ECMAScript implementation. It is impossible for an ECMAScript program to directly access or manipulate such values.

## 9.1.1 The Environment Record Type Hierarchy

Environment Records can be thought of as existing in a simple object-oriented hierarchy where [Environment Record](https://262.ecma-international.org/12.0/#sec-environment-records) is an abstract class with three concrete subclasses: [declarative Environment Record](https://262.ecma-international.org/12.0/#sec-declarative-environment-records), [object Environment Record](https://262.ecma-international.org/12.0/#sec-object-environment-records), and [global Environment Record](https://262.ecma-international.org/12.0/#sec-global-environment-records). Function Environment Records and module Environment Records are subclasses of [declarative Environment Record](https://262.ecma-international.org/12.0/#sec-declarative-environment-records).

-   [Environment Record](https://262.ecma-international.org/12.0/#sec-environment-records) (abstract)
    
    -   A _[declarative Environment Record](https://262.ecma-international.org/12.0/#sec-declarative-environment-records)_ is used to define the effect of ECMAScript language syntactic elements such as [FunctionDeclaration](https://262.ecma-international.org/12.0/#prod-FunctionDeclaration)s, [VariableDeclaration](https://262.ecma-international.org/12.0/#prod-VariableDeclaration)s, and [Catch](https://262.ecma-international.org/12.0/#prod-Catch) clauses that directly associate identifier bindings with ECMAScript language values.
        
        -   A _[function Environment Record](https://262.ecma-international.org/12.0/#sec-function-environment-records)_ corresponds to the invocation of an ECMAScript [function object](https://262.ecma-international.org/12.0/#function-object), and contains bindings for the top-level declarations within that function. It may establish a new `this` binding. It also captures the state necessary to support `super` method invocations.
            
        -   A _[module Environment Record](https://262.ecma-international.org/12.0/#sec-module-environment-records)_ contains the bindings for the top-level declarations of a [Module](https://262.ecma-international.org/12.0/#prod-Module). It also contains the bindings that are explicitly imported by the [Module](https://262.ecma-international.org/12.0/#prod-Module). Its \[\[OuterEnv\]\] is a [global Environment Record](https://262.ecma-international.org/12.0/#sec-global-environment-records).
            
    -   An _[object Environment Record](https://262.ecma-international.org/12.0/#sec-object-environment-records)_ is used to define the effect of ECMAScript elements such as [WithStatement](https://262.ecma-international.org/12.0/#prod-WithStatement) that associate identifier bindings with the properties of some object.
        
    -   A _[global Environment Record](https://262.ecma-international.org/12.0/#sec-global-environment-records)_ is used for [Script](https://262.ecma-international.org/12.0/#prod-Script) global declarations. It does not have an outer environment; its \[\[OuterEnv\]\] is null. It may be prepopulated with identifier bindings and it includes an associated [global object](https://262.ecma-international.org/12.0/#sec-global-object) whose properties provide some of the [global environment](https://tc39.es/ecma262/#global-environment)'s identifier bindings. As ECMAScript code is executed, additional properties may be added to the [global object](https://262.ecma-international.org/12.0/#sec-global-object) and the initial properties may be modified.
        

The [Environment Record](https://262.ecma-international.org/12.0/#sec-environment-records) abstract class includes the abstract specification methods defined in [Table 17](https://262.ecma-international.org/12.0/#table-abstract-methods-of-environment-records). These abstract methods have distinct concrete algorithms for each of the concrete subclasses.

Table 17: Abstract Methods of Environment Records

| Method | Purpose |
| --- | --- |
| HasBinding(N) | Determine if an [Environment Record](https://262.ecma-international.org/12.0/#sec-environment-records) has a binding for the String value N. Return true if it does and false if it does not. |
| CreateMutableBinding(N, D) | Create a new but uninitialized mutable binding in an [Environment Record](https://262.ecma-international.org/12.0/#sec-environment-records). The String value N is the text of the bound name. If the Boolean argument D is true the binding may be subsequently deleted. |
| CreateImmutableBinding(N, S) | Create a new but uninitialized immutable binding in an [Environment Record](https://262.ecma-international.org/12.0/#sec-environment-records). The String value N is the text of the bound name. If S is true then attempts to set it after it has been initialized will always throw an exception, regardless of the strict mode setting of operations that reference that binding. |
| InitializeBinding(N, V) | Set the value of an already existing but uninitialized binding in an [Environment Record](https://262.ecma-international.org/12.0/#sec-environment-records). The String value N is the text of the bound name. V is the value for the binding and is a value of any [ECMAScript language type](https://262.ecma-international.org/12.0/#sec-ecmascript-language-types). |
| SetMutableBinding(N, V, S) | Set the value of an already existing mutable binding in an [Environment Record](https://262.ecma-international.org/12.0/#sec-environment-records). The String value N is the text of the bound name. V is the value for the binding and may be a value of any [ECMAScript language type](https://262.ecma-international.org/12.0/#sec-ecmascript-language-types). S is a Boolean flag. If S is true and the binding cannot be set throw a TypeError exception. |
| GetBindingValue(N, S) | Returns the value of an already existing binding from an [Environment Record](https://262.ecma-international.org/12.0/#sec-environment-records). The String value N is the text of the bound name. S is used to identify references originating in [strict mode code](https://262.ecma-international.org/12.0/#sec-strict-mode-code) or that otherwise require strict mode reference semantics. If S is true and the binding does not exist throw a ReferenceError exception. If the binding exists but is uninitialized a ReferenceError is thrown, regardless of the value of S. |
| DeleteBinding(N) | Delete a binding from an [Environment Record](https://262.ecma-international.org/12.0/#sec-environment-records). The String value N is the text of the bound name. If a binding for N exists, remove the binding and return true. If the binding exists but cannot be removed return false. If the binding does not exist return true. |
| HasThisBinding() | Determine if an [Environment Record](https://262.ecma-international.org/12.0/#sec-environment-records) establishes a `this` binding. Return true if it does and false if it does not. |
| HasSuperBinding() | Determine if an [Environment Record](https://262.ecma-international.org/12.0/#sec-environment-records) establishes a `super` method binding. Return true if it does and false if it does not. |
| WithBaseObject() | If this [Environment Record](https://262.ecma-international.org/12.0/#sec-environment-records) is associated with a `with` statement, return the with object. Otherwise, return undefined. |

## 9.1.1.1 Declarative Environment Records

Each declarative Environment Record is associated with an ECMAScript program scope containing variable, constant, let, class, module, import, and/or function declarations. A declarative Environment Record binds the set of identifiers defined by the declarations contained within its scope.

The behaviour of the concrete specification methods for declarative Environment Records is defined by the following algorithms.

## 9.1.1.1.1 HasBinding ( N )

The HasBinding concrete method of a [declarative Environment Record](https://262.ecma-international.org/12.0/#sec-declarative-environment-records) envRec takes argument N (a String). It determines if the argument identifier is one of the identifiers bound by the record. It performs the following steps when called:

1.  If envRec has a binding for the name that is the value of N, return true.
2.  Return false.

## 9.1.1.1.2 CreateMutableBinding ( N, D )

The CreateMutableBinding concrete method of a [declarative Environment Record](https://262.ecma-international.org/12.0/#sec-declarative-environment-records) envRec takes arguments N (a String) and D (a Boolean). It creates a new mutable binding for the name N that is uninitialized. A binding must not already exist in this [Environment Record](https://262.ecma-international.org/12.0/#sec-environment-records) for N. If D has the value true, the new binding is marked as being subject to deletion. It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): envRec does not already have a binding for N.
2.  Create a mutable binding in envRec for N and record that it is uninitialized. If D is true, record that the newly created binding may be deleted by a subsequent DeleteBinding call.
3.  Return [NormalCompletion](https://262.ecma-international.org/12.0/#sec-normalcompletion)(empty).

## 9.1.1.1.3 CreateImmutableBinding ( N, S )

The CreateImmutableBinding concrete method of a [declarative Environment Record](https://262.ecma-international.org/12.0/#sec-declarative-environment-records) envRec takes arguments N (a String) and S (a Boolean). It creates a new immutable binding for the name N that is uninitialized. A binding must not already exist in this [Environment Record](https://262.ecma-international.org/12.0/#sec-environment-records) for N. If S has the value true, the new binding is marked as a strict binding. It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): envRec does not already have a binding for N.
2.  Create an immutable binding in envRec for N and record that it is uninitialized. If S is true, record that the newly created binding is a strict binding.
3.  Return [NormalCompletion](https://262.ecma-international.org/12.0/#sec-normalcompletion)(empty).

## 9.1.1.1.4 InitializeBinding ( N, V )

The InitializeBinding concrete method of a [declarative Environment Record](https://262.ecma-international.org/12.0/#sec-declarative-environment-records) envRec takes arguments N (a String) and V (an [ECMAScript language value](https://262.ecma-international.org/12.0/#sec-ecmascript-language-types)). It is used to set the bound value of the current binding of the identifier whose name is the value of the argument N to the value of argument V. An uninitialized binding for N must already exist. It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): envRec must have an uninitialized binding for N.
2.  Set the bound value for N in envRec to V.
3.  Record that the binding for N in envRec has been initialized.
4.  Return [NormalCompletion](https://262.ecma-international.org/12.0/#sec-normalcompletion)(empty).

## 9.1.1.1.5 SetMutableBinding ( N, V, S )

The SetMutableBinding concrete method of a [declarative Environment Record](https://262.ecma-international.org/12.0/#sec-declarative-environment-records) envRec takes arguments N (a String), V (an [ECMAScript language value](https://262.ecma-international.org/12.0/#sec-ecmascript-language-types)), and S (a Boolean). It attempts to change the bound value of the current binding of the identifier whose name is the value of the argument N to the value of argument V. A binding for N normally already exists, but in rare cases it may not. If the binding is an immutable binding, a TypeError is thrown if S is true. It performs the following steps when called:

1.  If envRec does not have a binding for N, then
    1.  If S is true, throw a ReferenceError exception.
    2.  Perform envRec.CreateMutableBinding(N, true).
    3.  Perform envRec.InitializeBinding(N, V).
    4.  Return [NormalCompletion](https://262.ecma-international.org/12.0/#sec-normalcompletion)(empty).
2.  If the binding for N in envRec is a strict binding, set S to true.
3.  If the binding for N in envRec has not yet been initialized, throw a ReferenceError exception.
4.  Else if the binding for N in envRec is a mutable binding, change its bound value to V.
5.  Else,
    1.  [Assert](https://262.ecma-international.org/12.0/#assert): This is an attempt to change the value of an immutable binding.
    2.  If S is true, throw a TypeError exception.
6.  Return [NormalCompletion](https://262.ecma-international.org/12.0/#sec-normalcompletion)(empty).

Note

An example of ECMAScript code that results in a missing binding at step [1](https://262.ecma-international.org/12.0/#step-setmutablebinding-missing-binding) is:

```
function f() { eval("var x; x = (delete x, 0);"); }
```

## 9.1.1.1.6 GetBindingValue ( N, S )

The GetBindingValue concrete method of a [declarative Environment Record](https://262.ecma-international.org/12.0/#sec-declarative-environment-records) envRec takes arguments N (a String) and S (a Boolean). It returns the value of its bound identifier whose name is the value of the argument N. If the binding exists but is uninitialized a ReferenceError is thrown, regardless of the value of S. It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): envRec has a binding for N.
2.  If the binding for N in envRec is an uninitialized binding, throw a ReferenceError exception.
3.  Return the value currently bound to N in envRec.

## 9.1.1.1.7 DeleteBinding ( N )

The DeleteBinding concrete method of a [declarative Environment Record](https://262.ecma-international.org/12.0/#sec-declarative-environment-records) envRec takes argument N (a String). It can only delete bindings that have been explicitly designated as being subject to deletion. It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): envRec has a binding for the name that is the value of N.
2.  If the binding for N in envRec cannot be deleted, return false.
3.  Remove the binding for N from envRec.
4.  Return true.

## 9.1.1.1.8 HasThisBinding ( )

The HasThisBinding concrete method of a [declarative Environment Record](https://262.ecma-international.org/12.0/#sec-declarative-environment-records) envRec takes no arguments. It performs the following steps when called:

1.  Return false.

Note

A regular [declarative Environment Record](https://262.ecma-international.org/12.0/#sec-declarative-environment-records) (i.e., one that is neither a [function Environment Record](https://262.ecma-international.org/12.0/#sec-function-environment-records) nor a [module Environment Record](https://262.ecma-international.org/12.0/#sec-module-environment-records)) does not provide a `this` binding.

## 9.1.1.1.9 HasSuperBinding ( )

The HasSuperBinding concrete method of a [declarative Environment Record](https://262.ecma-international.org/12.0/#sec-declarative-environment-records) envRec takes no arguments. It performs the following steps when called:

1.  Return false.

Note

A regular [declarative Environment Record](https://262.ecma-international.org/12.0/#sec-declarative-environment-records) (i.e., one that is neither a [function Environment Record](https://262.ecma-international.org/12.0/#sec-function-environment-records) nor a [module Environment Record](https://262.ecma-international.org/12.0/#sec-module-environment-records)) does not provide a `super` binding.

## 9.1.1.1.10 WithBaseObject ( )

The WithBaseObject concrete method of a [declarative Environment Record](https://262.ecma-international.org/12.0/#sec-declarative-environment-records) envRec takes no arguments. It performs the following steps when called:

1.  Return undefined.

## 9.1.1.2 Object Environment Records

Each object Environment Record is associated with an object called its _binding object_. An object Environment Record binds the set of string identifier names that directly correspond to the property names of its binding object. Property keys that are not strings in the form of an [IdentifierName](https://262.ecma-international.org/12.0/#prod-IdentifierName) are not included in the set of bound identifiers. Both own and inherited properties are included in the set regardless of the setting of their \[\[Enumerable\]\] attribute. Because properties can be dynamically added and deleted from objects, the set of identifiers bound by an object Environment Record may potentially change as a side-effect of any operation that adds or deletes properties. Any bindings that are created as a result of such a side-effect are considered to be a mutable binding even if the Writable attribute of the corresponding property has the value false. Immutable bindings do not exist for object Environment Records.

Object Environment Records created for `with` statements ([14.11](https://262.ecma-international.org/12.0/#sec-with-statement)) can provide their binding object as an implicit this value for use in function calls. The capability is controlled by a withEnvironment Boolean value that is associated with each object Environment Record. By default, the value of withEnvironment is false for any object Environment Record.

The behaviour of the concrete specification methods for object Environment Records is defined by the following algorithms.

## 9.1.1.2.1 HasBinding ( N )

The HasBinding concrete method of an [object Environment Record](https://262.ecma-international.org/12.0/#sec-object-environment-records) envRec takes argument N (a String). It determines if its associated binding object has a property whose name is the value of the argument N. It performs the following steps when called:

1.  Let bindings be the binding object for envRec.
2.  Let foundBinding be ? [HasProperty](https://262.ecma-international.org/12.0/#sec-hasproperty)(bindings, N).
3.  If foundBinding is false, return false.
4.  If the withEnvironment flag of envRec is false, return true.
5.  Let unscopables be ? [Get](https://262.ecma-international.org/12.0/#sec-get-o-p)(bindings, [@@unscopables](https://262.ecma-international.org/12.0/#sec-well-known-symbols)).
6.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(unscopables) is Object, then
    1.  Let blocked be ! [ToBoolean](https://262.ecma-international.org/12.0/#sec-toboolean)(? [Get](https://262.ecma-international.org/12.0/#sec-get-o-p)(unscopables, N)).
    2.  If blocked is true, return false.
7.  Return true.

## 9.1.1.2.2 CreateMutableBinding ( N, D )

The CreateMutableBinding concrete method of an [object Environment Record](https://262.ecma-international.org/12.0/#sec-object-environment-records) envRec takes arguments N (a String) and D (a Boolean). It creates in an [Environment Record](https://262.ecma-international.org/12.0/#sec-environment-records)'s associated binding object a property whose name is the String value and initializes it to the value undefined. If D has the value true, the new property's \[\[Configurable\]\] attribute is set to true; otherwise it is set to false. It performs the following steps when called:

1.  Let bindings be the binding object for envRec.
2.  Return ? [DefinePropertyOrThrow](https://262.ecma-international.org/12.0/#sec-definepropertyorthrow)(bindings, N, PropertyDescriptor { \[\[Value\]\]: undefined, \[\[Writable\]\]: true, \[\[Enumerable\]\]: true, \[\[Configurable\]\]: D }).

Note

Normally envRec will not have a binding for N but if it does, the semantics of [DefinePropertyOrThrow](https://262.ecma-international.org/12.0/#sec-definepropertyorthrow) may result in an existing binding being replaced or shadowed or cause an [abrupt completion](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type) to be returned.

## 9.1.1.2.3 CreateImmutableBinding ( N, S )

The CreateImmutableBinding concrete method of an [object Environment Record](https://262.ecma-international.org/12.0/#sec-object-environment-records) is never used within this specification.

## 9.1.1.2.4 InitializeBinding ( N, V )

The InitializeBinding concrete method of an [object Environment Record](https://262.ecma-international.org/12.0/#sec-object-environment-records) envRec takes arguments N (a String) and V (an [ECMAScript language value](https://262.ecma-international.org/12.0/#sec-ecmascript-language-types)). It is used to set the bound value of the current binding of the identifier whose name is the value of the argument N to the value of argument V. It performs the following steps when called:

1.  Return ? envRec.SetMutableBinding(N, V, false).

Note

In this specification, all uses of CreateMutableBinding for object Environment Records are immediately followed by a call to InitializeBinding for the same name. Hence, this specification does not explicitly track the initialization state of bindings in object Environment Records.

## 9.1.1.2.5 SetMutableBinding ( N, V, S )

The SetMutableBinding concrete method of an [object Environment Record](https://262.ecma-international.org/12.0/#sec-object-environment-records) envRec takes arguments N (a String), V (an [ECMAScript language value](https://262.ecma-international.org/12.0/#sec-ecmascript-language-types)), and S (a Boolean). It attempts to set the value of the [Environment Record](https://262.ecma-international.org/12.0/#sec-environment-records)'s associated binding object's property whose name is the value of the argument N to the value of argument V. A property named N normally already exists but if it does not or is not currently writable, error handling is determined by S. It performs the following steps when called:

1.  Let bindings be the binding object for envRec.
2.  Let stillExists be ? [HasProperty](https://262.ecma-international.org/12.0/#sec-hasproperty)(bindings, N).
3.  If stillExists is false and S is true, throw a ReferenceError exception.
4.  Return ? [Set](https://262.ecma-international.org/12.0/#sec-set-o-p-v-throw)(bindings, N, V, S).

## 9.1.1.2.6 GetBindingValue ( N, S )

The GetBindingValue concrete method of an [object Environment Record](https://262.ecma-international.org/12.0/#sec-object-environment-records) envRec takes arguments N (a String) and S (a Boolean). It returns the value of its associated binding object's property whose name is the String value of the argument identifier N. The property should already exist but if it does not the result depends upon S. It performs the following steps when called:

1.  Let bindings be the binding object for envRec.
2.  Let value be ? [HasProperty](https://262.ecma-international.org/12.0/#sec-hasproperty)(bindings, N).
3.  If value is false, then
    1.  If S is false, return the value undefined; otherwise throw a ReferenceError exception.
4.  Return ? [Get](https://262.ecma-international.org/12.0/#sec-get-o-p)(bindings, N).

## 9.1.1.2.7 DeleteBinding ( N )

The DeleteBinding concrete method of an [object Environment Record](https://262.ecma-international.org/12.0/#sec-object-environment-records) envRec takes argument N (a String). It can only delete bindings that correspond to properties of the environment object whose \[\[Configurable\]\] attribute have the value true. It performs the following steps when called:

1.  Let bindings be the binding object for envRec.
2.  Return ? bindings.\[\[Delete\]\](N).

## 9.1.1.2.8 HasThisBinding ( )

The HasThisBinding concrete method of an [object Environment Record](https://262.ecma-international.org/12.0/#sec-object-environment-records) envRec takes no arguments. It performs the following steps when called:

1.  Return false.

Note

Object Environment Records do not provide a `this` binding.

## 9.1.1.2.9 HasSuperBinding ( )

The HasSuperBinding concrete method of an [object Environment Record](https://262.ecma-international.org/12.0/#sec-object-environment-records) envRec takes no arguments. It performs the following steps when called:

1.  Return false.

Note

Object Environment Records do not provide a `super` binding.

## 9.1.1.2.10 WithBaseObject ( )

The WithBaseObject concrete method of an [object Environment Record](https://262.ecma-international.org/12.0/#sec-object-environment-records) envRec takes no arguments. It performs the following steps when called:

1.  If the withEnvironment flag of envRec is true, return the binding object for envRec.
2.  Otherwise, return undefined.

## 9.1.1.3 Function Environment Records

A function Environment Record is a [declarative Environment Record](https://262.ecma-international.org/12.0/#sec-declarative-environment-records) that is used to represent the top-level scope of a function and, if the function is not an [ArrowFunction](https://262.ecma-international.org/12.0/#prod-ArrowFunction), provides a `this` binding. If a function is not an [ArrowFunction](https://262.ecma-international.org/12.0/#prod-ArrowFunction) function and references `super`, its function Environment Record also contains the state that is used to perform `super` method invocations from within the function.

Function Environment Records have the additional state fields listed in [Table 18](https://262.ecma-international.org/12.0/#table-additional-fields-of-function-environment-records).

Table 18: Additional Fields of Function Environment Records

| Field Name | Value | Meaning |
| --- | --- | --- |
| \[\[ThisValue\]\] | Any | This is the this value used for this invocation of the function. |
| \[\[ThisBindingStatus\]\] | lexical | initialized | uninitialized | If the value is lexical, this is an [ArrowFunction](https://262.ecma-international.org/12.0/#prod-ArrowFunction) and does not have a local this value. |
| \[\[FunctionObject\]\] | Object | The [function object](https://262.ecma-international.org/12.0/#function-object) whose invocation caused this [Environment Record](https://262.ecma-international.org/12.0/#sec-environment-records) to be created. |
| \[\[NewTarget\]\] | Object | undefined | If this [Environment Record](https://262.ecma-international.org/12.0/#sec-environment-records) was created by the \[\[Construct\]\] internal method, \[\[NewTarget\]\] is the value of the \[\[Construct\]\] newTarget parameter. Otherwise, its value is undefined. |

Function Environment Records support all of the [declarative Environment Record](https://262.ecma-international.org/12.0/#sec-declarative-environment-records) methods listed in [Table 17](https://262.ecma-international.org/12.0/#table-abstract-methods-of-environment-records) and share the same specifications for all of those methods except for HasThisBinding and HasSuperBinding. In addition, function Environment Records support the methods listed in [Table 19](https://262.ecma-international.org/12.0/#table-additional-methods-of-function-environment-records):

Table 19: Additional Methods of Function Environment Records

| Method | Purpose |
| --- | --- |
| BindThisValue(V) | Set the \[\[ThisValue\]\] and record that it has been initialized. |
| GetThisBinding() | Return the value of this [Environment Record](https://262.ecma-international.org/12.0/#sec-environment-records)'s `this` binding. Throws a ReferenceError if the `this` binding has not been initialized. |
| GetSuperBase() | Return the object that is the base for `super` property accesses bound in this [Environment Record](https://262.ecma-international.org/12.0/#sec-environment-records). The value undefined indicates that `super` property accesses will produce runtime errors. |

The behaviour of the additional concrete specification methods for function Environment Records is defined by the following algorithms:

## 9.1.1.3.1 BindThisValue ( V )

The BindThisValue concrete method of a [function Environment Record](https://262.ecma-international.org/12.0/#sec-function-environment-records) envRec takes argument V (an [ECMAScript language value](https://262.ecma-international.org/12.0/#sec-ecmascript-language-types)). It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): envRec.\[\[ThisBindingStatus\]\] is not lexical.
2.  If envRec.\[\[ThisBindingStatus\]\] is initialized, throw a ReferenceError exception.
3.  Set envRec.\[\[ThisValue\]\] to V.
4.  Set envRec.\[\[ThisBindingStatus\]\] to initialized.
5.  Return V.

## 9.1.1.3.2 HasThisBinding ( )

The HasThisBinding concrete method of a [function Environment Record](https://262.ecma-international.org/12.0/#sec-function-environment-records) envRec takes no arguments. It performs the following steps when called:

1.  If envRec.\[\[ThisBindingStatus\]\] is lexical, return false; otherwise, return true.

## 9.1.1.3.3 HasSuperBinding ( )

The HasSuperBinding concrete method of a [function Environment Record](https://262.ecma-international.org/12.0/#sec-function-environment-records) envRec takes no arguments. It performs the following steps when called:

1.  If envRec.\[\[ThisBindingStatus\]\] is lexical, return false.
2.  If envRec.\[\[FunctionObject\]\].\[\[HomeObject\]\] has the value undefined, return false; otherwise, return true.

## 9.1.1.3.4 GetThisBinding ( )

The GetThisBinding concrete method of a [function Environment Record](https://262.ecma-international.org/12.0/#sec-function-environment-records) envRec takes no arguments. It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): envRec.\[\[ThisBindingStatus\]\] is not lexical.
2.  If envRec.\[\[ThisBindingStatus\]\] is uninitialized, throw a ReferenceError exception.
3.  Return envRec.\[\[ThisValue\]\].

## 9.1.1.3.5 GetSuperBase ( )

The GetSuperBase concrete method of a [function Environment Record](https://262.ecma-international.org/12.0/#sec-function-environment-records) envRec takes no arguments. It performs the following steps when called:

1.  Let home be envRec.\[\[FunctionObject\]\].\[\[HomeObject\]\].
2.  If home has the value undefined, return undefined.
3.  [Assert](https://262.ecma-international.org/12.0/#assert): [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(home) is Object.
4.  Return ? home.\[\[GetPrototypeOf\]\]().

## 9.1.1.4 Global Environment Records

A global Environment Record is used to represent the outer most scope that is shared by all of the ECMAScript [Script](https://262.ecma-international.org/12.0/#prod-Script) elements that are processed in a common [realm](https://262.ecma-international.org/12.0/#realm). A global Environment Record provides the bindings for built-in globals (clause [19](https://262.ecma-international.org/12.0/#sec-global-object)), properties of the [global object](https://262.ecma-international.org/12.0/#sec-global-object), and for all top-level declarations ([8.1.9](https://262.ecma-international.org/12.0/#sec-static-semantics-toplevellexicallyscopeddeclarations), [8.1.11](https://262.ecma-international.org/12.0/#sec-static-semantics-toplevelvarscopeddeclarations)) that occur within a [Script](https://262.ecma-international.org/12.0/#prod-Script).

A global Environment Record is logically a single record but it is specified as a composite encapsulating an [object Environment Record](https://262.ecma-international.org/12.0/#sec-object-environment-records) and a [declarative Environment Record](https://262.ecma-international.org/12.0/#sec-declarative-environment-records). The [object Environment Record](https://262.ecma-international.org/12.0/#sec-object-environment-records) has as its base object the [global object](https://262.ecma-international.org/12.0/#sec-global-object) of the associated [Realm Record](https://262.ecma-international.org/12.0/#realm-record). This [global object](https://262.ecma-international.org/12.0/#sec-global-object) is the value returned by the global Environment Record's GetThisBinding concrete method. The [object Environment Record](https://262.ecma-international.org/12.0/#sec-object-environment-records) component of a global Environment Record contains the bindings for all built-in globals (clause [19](https://262.ecma-international.org/12.0/#sec-global-object)) and all bindings introduced by a [FunctionDeclaration](https://262.ecma-international.org/12.0/#prod-FunctionDeclaration), [GeneratorDeclaration](https://262.ecma-international.org/12.0/#prod-GeneratorDeclaration), [AsyncFunctionDeclaration](https://262.ecma-international.org/12.0/#prod-AsyncFunctionDeclaration), [AsyncGeneratorDeclaration](https://262.ecma-international.org/12.0/#prod-AsyncGeneratorDeclaration), or [VariableStatement](https://262.ecma-international.org/12.0/#prod-VariableStatement) contained in global code. The bindings for all other ECMAScript declarations in global code are contained in the [declarative Environment Record](https://262.ecma-international.org/12.0/#sec-declarative-environment-records) component of the global Environment Record.

Properties may be created directly on a [global object](https://262.ecma-international.org/12.0/#sec-global-object). Hence, the [object Environment Record](https://262.ecma-international.org/12.0/#sec-object-environment-records) component of a global Environment Record may contain both bindings created explicitly by [FunctionDeclaration](https://262.ecma-international.org/12.0/#prod-FunctionDeclaration), [GeneratorDeclaration](https://262.ecma-international.org/12.0/#prod-GeneratorDeclaration), [AsyncFunctionDeclaration](https://262.ecma-international.org/12.0/#prod-AsyncFunctionDeclaration), [AsyncGeneratorDeclaration](https://262.ecma-international.org/12.0/#prod-AsyncGeneratorDeclaration), or [VariableDeclaration](https://262.ecma-international.org/12.0/#prod-VariableDeclaration) declarations and bindings created implicitly as properties of the [global object](https://262.ecma-international.org/12.0/#sec-global-object). In order to identify which bindings were explicitly created using declarations, a global Environment Record maintains a list of the names bound using its CreateGlobalVarBinding and CreateGlobalFunctionBinding concrete methods.

Global Environment Records have the additional fields listed in [Table 20](https://262.ecma-international.org/12.0/#table-additional-fields-of-global-environment-records) and the additional methods listed in [Table 21](https://262.ecma-international.org/12.0/#table-additional-methods-of-global-environment-records).

Table 20: Additional Fields of Global Environment Records

| Field Name | Value | Meaning |
| --- | --- | --- |
| \[\[ObjectRecord\]\] | [Object Environment Record](https://262.ecma-international.org/12.0/#sec-object-environment-records) | Binding object is the [global object](https://262.ecma-international.org/12.0/#sec-global-object). It contains global built-in bindings as well as [FunctionDeclaration](https://262.ecma-international.org/12.0/#prod-FunctionDeclaration), [GeneratorDeclaration](https://262.ecma-international.org/12.0/#prod-GeneratorDeclaration), [AsyncFunctionDeclaration](https://262.ecma-international.org/12.0/#prod-AsyncFunctionDeclaration), [AsyncGeneratorDeclaration](https://262.ecma-international.org/12.0/#prod-AsyncGeneratorDeclaration), and [VariableDeclaration](https://262.ecma-international.org/12.0/#prod-VariableDeclaration) bindings in global code for the associated [realm](https://262.ecma-international.org/12.0/#realm). |
| \[\[GlobalThisValue\]\] | Object | The value returned by `this` in global scope. Hosts may provide any ECMAScript Object value. |
| \[\[DeclarativeRecord\]\] | [Declarative Environment Record](https://262.ecma-international.org/12.0/#sec-declarative-environment-records) | [Contains](https://262.ecma-international.org/12.0/#sec-static-semantics-contains) bindings for all declarations in global code for the associated [realm](https://262.ecma-international.org/12.0/#realm) code except for [FunctionDeclaration](https://262.ecma-international.org/12.0/#prod-FunctionDeclaration), [GeneratorDeclaration](https://262.ecma-international.org/12.0/#prod-GeneratorDeclaration), [AsyncFunctionDeclaration](https://262.ecma-international.org/12.0/#prod-AsyncFunctionDeclaration), [AsyncGeneratorDeclaration](https://262.ecma-international.org/12.0/#prod-AsyncGeneratorDeclaration), and [VariableDeclaration](https://262.ecma-international.org/12.0/#prod-VariableDeclaration) bindings. |
| \[\[VarNames\]\] | [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) of String | The string names bound by [FunctionDeclaration](https://262.ecma-international.org/12.0/#prod-FunctionDeclaration), [GeneratorDeclaration](https://262.ecma-international.org/12.0/#prod-GeneratorDeclaration), [AsyncFunctionDeclaration](https://262.ecma-international.org/12.0/#prod-AsyncFunctionDeclaration), [AsyncGeneratorDeclaration](https://262.ecma-international.org/12.0/#prod-AsyncGeneratorDeclaration), and [VariableDeclaration](https://262.ecma-international.org/12.0/#prod-VariableDeclaration) declarations in global code for the associated [realm](https://262.ecma-international.org/12.0/#realm). |

Table 21: Additional Methods of Global Environment Records

| Method | Purpose |
| --- | --- |
| GetThisBinding() | Return the value of this [Environment Record](https://262.ecma-international.org/12.0/#sec-environment-records)'s `this` binding. |
| HasVarDeclaration (N) | Determines if the argument identifier has a binding in this [Environment Record](https://262.ecma-international.org/12.0/#sec-environment-records) that was created using a [VariableDeclaration](https://262.ecma-international.org/12.0/#prod-VariableDeclaration), [FunctionDeclaration](https://262.ecma-international.org/12.0/#prod-FunctionDeclaration), [GeneratorDeclaration](https://262.ecma-international.org/12.0/#prod-GeneratorDeclaration), [AsyncFunctionDeclaration](https://262.ecma-international.org/12.0/#prod-AsyncFunctionDeclaration), or [AsyncGeneratorDeclaration](https://262.ecma-international.org/12.0/#prod-AsyncGeneratorDeclaration). |
| HasLexicalDeclaration (N) | Determines if the argument identifier has a binding in this [Environment Record](https://262.ecma-international.org/12.0/#sec-environment-records) that was created using a lexical declaration such as a [LexicalDeclaration](https://262.ecma-international.org/12.0/#prod-LexicalDeclaration) or a [ClassDeclaration](https://262.ecma-international.org/12.0/#prod-ClassDeclaration). |
| HasRestrictedGlobalProperty (N) | Determines if the argument is the name of a [global object](https://262.ecma-international.org/12.0/#sec-global-object) property that may not be shadowed by a global lexical binding. |
| CanDeclareGlobalVar (N) | Determines if a corresponding CreateGlobalVarBinding call would succeed if called for the same argument N. |
| CanDeclareGlobalFunction (N) | Determines if a corresponding CreateGlobalFunctionBinding call would succeed if called for the same argument N. |
| CreateGlobalVarBinding(N, D) | Used to create and initialize to undefined a global `var` binding in the \[\[ObjectRecord\]\] component of a [global Environment Record](https://262.ecma-international.org/12.0/#sec-global-environment-records). The binding will be a mutable binding. The corresponding [global object](https://262.ecma-international.org/12.0/#sec-global-object) property will have attribute values appropriate for a `var`. The String value N is the bound name. If D is true the binding may be deleted. Logically equivalent to CreateMutableBinding followed by a SetMutableBinding but it allows var declarations to receive special treatment. |
| CreateGlobalFunctionBinding(N, V, D) | Create and initialize a global `function` binding in the \[\[ObjectRecord\]\] component of a [global Environment Record](https://262.ecma-international.org/12.0/#sec-global-environment-records). The binding will be a mutable binding. The corresponding [global object](https://262.ecma-international.org/12.0/#sec-global-object) property will have attribute values appropriate for a `function`. The String value N is the bound name. V is the initialization value. If the Boolean argument D is true the binding may be deleted. Logically equivalent to CreateMutableBinding followed by a SetMutableBinding but it allows function declarations to receive special treatment. |

The behaviour of the concrete specification methods for global Environment Records is defined by the following algorithms.

## 9.1.1.4.1 HasBinding ( N )

The HasBinding concrete method of a [global Environment Record](https://262.ecma-international.org/12.0/#sec-global-environment-records) envRec takes argument N (a String). It determines if the argument identifier is one of the identifiers bound by the record. It performs the following steps when called:

1.  Let DclRec be envRec.\[\[DeclarativeRecord\]\].
2.  If DclRec.HasBinding(N) is true, return true.
3.  Let ObjRec be envRec.\[\[ObjectRecord\]\].
4.  Return ? ObjRec.HasBinding(N).

## 9.1.1.4.2 CreateMutableBinding ( N, D )

The CreateMutableBinding concrete method of a [global Environment Record](https://262.ecma-international.org/12.0/#sec-global-environment-records) envRec takes arguments N (a String) and D (a Boolean). It creates a new mutable binding for the name N that is uninitialized. The binding is created in the associated DeclarativeRecord. A binding for N must not already exist in the DeclarativeRecord. If D has the value true, the new binding is marked as being subject to deletion. It performs the following steps when called:

1.  Let DclRec be envRec.\[\[DeclarativeRecord\]\].
2.  If DclRec.HasBinding(N) is true, throw a TypeError exception.
3.  Return DclRec.CreateMutableBinding(N, D).

## 9.1.1.4.3 CreateImmutableBinding ( N, S )

The CreateImmutableBinding concrete method of a [global Environment Record](https://262.ecma-international.org/12.0/#sec-global-environment-records) envRec takes arguments N (a String) and S (a Boolean). It creates a new immutable binding for the name N that is uninitialized. A binding must not already exist in this [Environment Record](https://262.ecma-international.org/12.0/#sec-environment-records) for N. If S has the value true, the new binding is marked as a strict binding. It performs the following steps when called:

1.  Let DclRec be envRec.\[\[DeclarativeRecord\]\].
2.  If DclRec.HasBinding(N) is true, throw a TypeError exception.
3.  Return DclRec.CreateImmutableBinding(N, S).

## 9.1.1.4.4 InitializeBinding ( N, V )

The InitializeBinding concrete method of a [global Environment Record](https://262.ecma-international.org/12.0/#sec-global-environment-records) envRec takes arguments N (a String) and V (an [ECMAScript language value](https://262.ecma-international.org/12.0/#sec-ecmascript-language-types)). It is used to set the bound value of the current binding of the identifier whose name is the value of the argument N to the value of argument V. An uninitialized binding for N must already exist. It performs the following steps when called:

1.  Let DclRec be envRec.\[\[DeclarativeRecord\]\].
2.  If DclRec.HasBinding(N) is true, then
    1.  Return DclRec.InitializeBinding(N, V).
3.  [Assert](https://262.ecma-international.org/12.0/#assert): If the binding exists, it must be in the [object Environment Record](https://262.ecma-international.org/12.0/#sec-object-environment-records).
4.  Let ObjRec be envRec.\[\[ObjectRecord\]\].
5.  Return ? ObjRec.InitializeBinding(N, V).

## 9.1.1.4.5 SetMutableBinding ( N, V, S )

The SetMutableBinding concrete method of a [global Environment Record](https://262.ecma-international.org/12.0/#sec-global-environment-records) envRec takes arguments N (a String), V (an [ECMAScript language value](https://262.ecma-international.org/12.0/#sec-ecmascript-language-types)), and S (a Boolean). It attempts to change the bound value of the current binding of the identifier whose name is the value of the argument N to the value of argument V. If the binding is an immutable binding, a TypeError is thrown if S is true. A property named N normally already exists but if it does not or is not currently writable, error handling is determined by S. It performs the following steps when called:

1.  Let DclRec be envRec.\[\[DeclarativeRecord\]\].
2.  If DclRec.HasBinding(N) is true, then
    1.  Return DclRec.SetMutableBinding(N, V, S).
3.  Let ObjRec be envRec.\[\[ObjectRecord\]\].
4.  Return ? ObjRec.SetMutableBinding(N, V, S).

## 9.1.1.4.6 GetBindingValue ( N, S )

The GetBindingValue concrete method of a [global Environment Record](https://262.ecma-international.org/12.0/#sec-global-environment-records) envRec takes arguments N (a String) and S (a Boolean). It returns the value of its bound identifier whose name is the value of the argument N. If the binding is an uninitialized binding throw a ReferenceError exception. A property named N normally already exists but if it does not or is not currently writable, error handling is determined by S. It performs the following steps when called:

1.  Let DclRec be envRec.\[\[DeclarativeRecord\]\].
2.  If DclRec.HasBinding(N) is true, then
    1.  Return DclRec.GetBindingValue(N, S).
3.  Let ObjRec be envRec.\[\[ObjectRecord\]\].
4.  Return ? ObjRec.GetBindingValue(N, S).

## 9.1.1.4.7 DeleteBinding ( N )

The DeleteBinding concrete method of a [global Environment Record](https://262.ecma-international.org/12.0/#sec-global-environment-records) envRec takes argument N (a String). It can only delete bindings that have been explicitly designated as being subject to deletion. It performs the following steps when called:

1.  Let DclRec be envRec.\[\[DeclarativeRecord\]\].
2.  If DclRec.HasBinding(N) is true, then
    1.  Return DclRec.DeleteBinding(N).
3.  Let ObjRec be envRec.\[\[ObjectRecord\]\].
4.  Let globalObject be the binding object for ObjRec.
5.  Let existingProp be ? [HasOwnProperty](https://262.ecma-international.org/12.0/#sec-hasownproperty)(globalObject, N).
6.  If existingProp is true, then
    1.  Let status be ? ObjRec.DeleteBinding(N).
    2.  If status is true, then
        1.  Let varNames be envRec.\[\[VarNames\]\].
        2.  If N is an element of varNames, remove that element from the varNames.
    3.  Return status.
7.  Return true.

## 9.1.1.4.8 HasThisBinding ( )

The HasThisBinding concrete method of a [global Environment Record](https://262.ecma-international.org/12.0/#sec-global-environment-records) envRec takes no arguments. It performs the following steps when called:

1.  Return true.

Note

Global Environment Records always provide a `this` binding.

## 9.1.1.4.9 HasSuperBinding ( )

The HasSuperBinding concrete method of a [global Environment Record](https://262.ecma-international.org/12.0/#sec-global-environment-records) envRec takes no arguments. It performs the following steps when called:

1.  Return false.

Note

Global Environment Records do not provide a `super` binding.

## 9.1.1.4.10 WithBaseObject ( )

The WithBaseObject concrete method of a [global Environment Record](https://262.ecma-international.org/12.0/#sec-global-environment-records) envRec takes no arguments. It performs the following steps when called:

1.  Return undefined.

## 9.1.1.4.11 GetThisBinding ( )

The GetThisBinding concrete method of a [global Environment Record](https://262.ecma-international.org/12.0/#sec-global-environment-records) envRec takes no arguments. It performs the following steps when called:

1.  Return envRec.\[\[GlobalThisValue\]\].

## 9.1.1.4.12 HasVarDeclaration ( N )

The HasVarDeclaration concrete method of a [global Environment Record](https://262.ecma-international.org/12.0/#sec-global-environment-records) envRec takes argument N (a String). It determines if the argument identifier has a binding in this record that was created using a [VariableStatement](https://262.ecma-international.org/12.0/#prod-VariableStatement) or a [FunctionDeclaration](https://262.ecma-international.org/12.0/#prod-FunctionDeclaration). It performs the following steps when called:

1.  Let varDeclaredNames be envRec.\[\[VarNames\]\].
2.  If varDeclaredNames contains N, return true.
3.  Return false.

## 9.1.1.4.13 HasLexicalDeclaration ( N )

The HasLexicalDeclaration concrete method of a [global Environment Record](https://262.ecma-international.org/12.0/#sec-global-environment-records) envRec takes argument N (a String). It determines if the argument identifier has a binding in this record that was created using a lexical declaration such as a [LexicalDeclaration](https://262.ecma-international.org/12.0/#prod-LexicalDeclaration) or a [ClassDeclaration](https://262.ecma-international.org/12.0/#prod-ClassDeclaration). It performs the following steps when called:

1.  Let DclRec be envRec.\[\[DeclarativeRecord\]\].
2.  Return DclRec.HasBinding(N).

## 9.1.1.4.14 HasRestrictedGlobalProperty ( N )

The HasRestrictedGlobalProperty concrete method of a [global Environment Record](https://262.ecma-international.org/12.0/#sec-global-environment-records) envRec takes argument N (a String). It determines if the argument identifier is the name of a property of the [global object](https://262.ecma-international.org/12.0/#sec-global-object) that must not be shadowed by a global lexical binding. It performs the following steps when called:

1.  Let ObjRec be envRec.\[\[ObjectRecord\]\].
2.  Let globalObject be the binding object for ObjRec.
3.  Let existingProp be ? globalObject.\[\[GetOwnProperty\]\](N).
4.  If existingProp is undefined, return false.
5.  If existingProp.\[\[Configurable\]\] is true, return false.
6.  Return true.

Note

Properties may exist upon a [global object](https://262.ecma-international.org/12.0/#sec-global-object) that were directly created rather than being declared using a var or function declaration. A global lexical binding may not be created that has the same name as a non-configurable property of the [global object](https://262.ecma-international.org/12.0/#sec-global-object). The global property "undefined" is an example of such a property.

## 9.1.1.4.15 CanDeclareGlobalVar ( N )

The CanDeclareGlobalVar concrete method of a [global Environment Record](https://262.ecma-international.org/12.0/#sec-global-environment-records) envRec takes argument N (a String). It determines if a corresponding CreateGlobalVarBinding call would succeed if called for the same argument N. Redundant var declarations and var declarations for pre-existing [global object](https://262.ecma-international.org/12.0/#sec-global-object) properties are allowed. It performs the following steps when called:

1.  Let ObjRec be envRec.\[\[ObjectRecord\]\].
2.  Let globalObject be the binding object for ObjRec.
3.  Let hasProperty be ? [HasOwnProperty](https://262.ecma-international.org/12.0/#sec-hasownproperty)(globalObject, N).
4.  If hasProperty is true, return true.
5.  Return ? [IsExtensible](https://262.ecma-international.org/12.0/#sec-isextensible-o)(globalObject).

## 9.1.1.4.16 CanDeclareGlobalFunction ( N )

The CanDeclareGlobalFunction concrete method of a [global Environment Record](https://262.ecma-international.org/12.0/#sec-global-environment-records) envRec takes argument N (a String). It determines if a corresponding CreateGlobalFunctionBinding call would succeed if called for the same argument N. It performs the following steps when called:

1.  Let ObjRec be envRec.\[\[ObjectRecord\]\].
2.  Let globalObject be the binding object for ObjRec.
3.  Let existingProp be ? globalObject.\[\[GetOwnProperty\]\](N).
4.  If existingProp is undefined, return ? [IsExtensible](https://262.ecma-international.org/12.0/#sec-isextensible-o)(globalObject).
5.  If existingProp.\[\[Configurable\]\] is true, return true.
6.  If [IsDataDescriptor](https://262.ecma-international.org/12.0/#sec-isdatadescriptor)(existingProp) is true and existingProp has attribute values { \[\[Writable\]\]: true, \[\[Enumerable\]\]: true }, return true.
7.  Return false.

## 9.1.1.4.17 CreateGlobalVarBinding ( N, D )

The CreateGlobalVarBinding concrete method of a [global Environment Record](https://262.ecma-international.org/12.0/#sec-global-environment-records) envRec takes arguments N (a String) and D (a Boolean). It creates and initializes a mutable binding in the associated [object Environment Record](https://262.ecma-international.org/12.0/#sec-object-environment-records) and records the bound name in the associated \[\[VarNames\]\] [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type). If a binding already exists, it is reused and assumed to be initialized. It performs the following steps when called:

1.  Let ObjRec be envRec.\[\[ObjectRecord\]\].
2.  Let globalObject be the binding object for ObjRec.
3.  Let hasProperty be ? [HasOwnProperty](https://262.ecma-international.org/12.0/#sec-hasownproperty)(globalObject, N).
4.  Let extensible be ? [IsExtensible](https://262.ecma-international.org/12.0/#sec-isextensible-o)(globalObject).
5.  If hasProperty is false and extensible is true, then
    1.  Perform ? ObjRec.CreateMutableBinding(N, D).
    2.  Perform ? ObjRec.InitializeBinding(N, undefined).
6.  Let varDeclaredNames be envRec.\[\[VarNames\]\].
7.  If varDeclaredNames does not contain N, then
    1.  Append N to varDeclaredNames.
8.  Return [NormalCompletion](https://262.ecma-international.org/12.0/#sec-normalcompletion)(empty).

## 9.1.1.4.18 CreateGlobalFunctionBinding ( N, V, D )

The CreateGlobalFunctionBinding concrete method of a [global Environment Record](https://262.ecma-international.org/12.0/#sec-global-environment-records) envRec takes arguments N (a String), V (an [ECMAScript language value](https://262.ecma-international.org/12.0/#sec-ecmascript-language-types)), and D (a Boolean). It creates and initializes a mutable binding in the associated [object Environment Record](https://262.ecma-international.org/12.0/#sec-object-environment-records) and records the bound name in the associated \[\[VarNames\]\] [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type). If a binding already exists, it is replaced. It performs the following steps when called:

1.  Let ObjRec be envRec.\[\[ObjectRecord\]\].
2.  Let globalObject be the binding object for ObjRec.
3.  Let existingProp be ? globalObject.\[\[GetOwnProperty\]\](N).
4.  If existingProp is undefined or existingProp.\[\[Configurable\]\] is true, then
    1.  Let desc be the PropertyDescriptor { \[\[Value\]\]: V, \[\[Writable\]\]: true, \[\[Enumerable\]\]: true, \[\[Configurable\]\]: D }.
5.  Else,
    1.  Let desc be the PropertyDescriptor { \[\[Value\]\]: V }.
6.  Perform ? [DefinePropertyOrThrow](https://262.ecma-international.org/12.0/#sec-definepropertyorthrow)(globalObject, N, desc).
7.  Perform ? [Set](https://262.ecma-international.org/12.0/#sec-set-o-p-v-throw)(globalObject, N, V, false).
8.  Let varDeclaredNames be envRec.\[\[VarNames\]\].
9.  If varDeclaredNames does not contain N, then
    1.  Append N to varDeclaredNames.
10.  Return [NormalCompletion](https://262.ecma-international.org/12.0/#sec-normalcompletion)(empty).

Note

Global function declarations are always represented as own properties of the [global object](https://262.ecma-international.org/12.0/#sec-global-object). If possible, an existing own property is reconfigured to have a standard set of attribute values. Step [7](https://262.ecma-international.org/12.0/#step-createglobalfunctionbinding-set) is equivalent to what calling the InitializeBinding concrete method would do and if globalObject is a Proxy will produce the same sequence of Proxy trap calls.

## 9.1.1.5 Module Environment Records

A module Environment Record is a [declarative Environment Record](https://262.ecma-international.org/12.0/#sec-declarative-environment-records) that is used to represent the outer scope of an ECMAScript [Module](https://262.ecma-international.org/12.0/#prod-Module). In additional to normal mutable and immutable bindings, module Environment Records also provide immutable import bindings which are bindings that provide indirect access to a target binding that exists in another [Environment Record](https://262.ecma-international.org/12.0/#sec-environment-records).

Module Environment Records support all of the [declarative Environment Record](https://262.ecma-international.org/12.0/#sec-declarative-environment-records) methods listed in [Table 17](https://262.ecma-international.org/12.0/#table-abstract-methods-of-environment-records) and share the same specifications for all of those methods except for GetBindingValue, DeleteBinding, HasThisBinding and GetThisBinding. In addition, module Environment Records support the methods listed in [Table 22](https://262.ecma-international.org/12.0/#table-additional-methods-of-module-environment-records):

Table 22: Additional Methods of Module Environment Records

| Method | Purpose |
| --- | --- |
| CreateImportBinding(N, M, N2) | Create an immutable indirect binding in a [module Environment Record](https://262.ecma-international.org/12.0/#sec-module-environment-records). The String value N is the text of the bound name. M is a [Module Record](https://262.ecma-international.org/12.0/#sec-abstract-module-records), and N2 is a binding that exists in M's [module Environment Record](https://262.ecma-international.org/12.0/#sec-module-environment-records). |
| GetThisBinding() | Return the value of this [Environment Record](https://262.ecma-international.org/12.0/#sec-environment-records)'s `this` binding. |

The behaviour of the additional concrete specification methods for module Environment Records are defined by the following algorithms:

## 9.1.1.5.1 GetBindingValue ( N, S )

The GetBindingValue concrete method of a [module Environment Record](https://262.ecma-international.org/12.0/#sec-module-environment-records) envRec takes arguments N (a String) and S (a Boolean). It returns the value of its bound identifier whose name is the value of the argument N. However, if the binding is an indirect binding the value of the target binding is returned. If the binding exists but is uninitialized a ReferenceError is thrown. It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): S is true.
2.  [Assert](https://262.ecma-international.org/12.0/#assert): envRec has a binding for N.
3.  If the binding for N is an indirect binding, then
    1.  Let M and N2 be the indirection values provided when this binding for N was created.
    2.  Let targetEnv be M.\[\[Environment\]\].
    3.  If targetEnv is undefined, throw a ReferenceError exception.
    4.  Return ? targetEnv.GetBindingValue(N2, true).
4.  If the binding for N in envRec is an uninitialized binding, throw a ReferenceError exception.
5.  Return the value currently bound to N in envRec.

Note

S will always be true because a [Module](https://262.ecma-international.org/12.0/#prod-Module) is always [strict mode code](https://262.ecma-international.org/12.0/#sec-strict-mode-code).

## 9.1.1.5.2 DeleteBinding ( N )

The DeleteBinding concrete method of a [module Environment Record](https://262.ecma-international.org/12.0/#sec-module-environment-records) is never used within this specification.

Note

Module Environment Records are only used within strict code and an [early error](https://262.ecma-international.org/12.0/#early-error) rule prevents the delete operator, in strict code, from being applied to a [Reference Record](https://262.ecma-international.org/12.0/#sec-reference-record-specification-type) that would resolve to a [module Environment Record](https://262.ecma-international.org/12.0/#sec-module-environment-records) binding. See [13.5.1.1](https://262.ecma-international.org/12.0/#sec-delete-operator-static-semantics-early-errors).

## 9.1.1.5.3 HasThisBinding ( )

The HasThisBinding concrete method of a [module Environment Record](https://262.ecma-international.org/12.0/#sec-module-environment-records) envRec takes no arguments. It performs the following steps when called:

1.  Return true.

Note

Module Environment Records always provide a `this` binding.

## 9.1.1.5.4 GetThisBinding ( )

The GetThisBinding concrete method of a [module Environment Record](https://262.ecma-international.org/12.0/#sec-module-environment-records) envRec takes no arguments. It performs the following steps when called:

1.  Return undefined.

## 9.1.1.5.5 CreateImportBinding ( N, M, N2 )

The CreateImportBinding concrete method of a [module Environment Record](https://262.ecma-international.org/12.0/#sec-module-environment-records) envRec takes arguments N (a String), M (a [Module Record](https://262.ecma-international.org/12.0/#sec-abstract-module-records)), and N2 (a String). It creates a new initialized immutable indirect binding for the name N. A binding must not already exist in this [Environment Record](https://262.ecma-international.org/12.0/#sec-environment-records) for N. N2 is the name of a binding that exists in M's [module Environment Record](https://262.ecma-international.org/12.0/#sec-module-environment-records). Accesses to the value of the new binding will indirectly access the bound value of the target binding. It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): envRec does not already have a binding for N.
2.  [Assert](https://262.ecma-international.org/12.0/#assert): M is a [Module Record](https://262.ecma-international.org/12.0/#sec-abstract-module-records).
3.  [Assert](https://262.ecma-international.org/12.0/#assert): When M.\[\[Environment\]\] is instantiated it will have a direct binding for N2.
4.  Create an immutable indirect binding in envRec for N that references M and N2 as its target binding and record that the binding is initialized.
5.  Return [NormalCompletion](https://262.ecma-international.org/12.0/#sec-normalcompletion)(empty).

## 9.1.2 Environment Record Operations

The following [abstract operations](https://262.ecma-international.org/12.0/#sec-algorithm-conventions-abstract-operations) are used in this specification to operate upon Environment Records:

## 9.1.2.1 GetIdentifierReference ( env, name, strict )

The abstract operation GetIdentifierReference takes arguments env (an [Environment Record](https://262.ecma-international.org/12.0/#sec-environment-records) or null), name (a String), and strict (a Boolean). It performs the following steps when called:

1.  If env is the value null, then
    1.  Return the [Reference Record](https://262.ecma-international.org/12.0/#sec-reference-record-specification-type) { \[\[Base\]\]: unresolvable, \[\[ReferencedName\]\]: name, \[\[Strict\]\]: strict, \[\[ThisValue\]\]: empty }.
2.  Let exists be ? env.HasBinding(name).
3.  If exists is true, then
    1.  Return the [Reference Record](https://262.ecma-international.org/12.0/#sec-reference-record-specification-type) { \[\[Base\]\]: env, \[\[ReferencedName\]\]: name, \[\[Strict\]\]: strict, \[\[ThisValue\]\]: empty }.
4.  Else,
    1.  Let outer be env.\[\[OuterEnv\]\].
    2.  Return ? [GetIdentifierReference](https://262.ecma-international.org/12.0/#sec-getidentifierreference)(outer, name, strict).

## 9.1.2.2 NewDeclarativeEnvironment ( E )

The abstract operation NewDeclarativeEnvironment takes argument E (an [Environment Record](https://262.ecma-international.org/12.0/#sec-environment-records)). It performs the following steps when called:

1.  Let env be a new [declarative Environment Record](https://262.ecma-international.org/12.0/#sec-declarative-environment-records) containing no bindings.
2.  Set env.\[\[OuterEnv\]\] to E.
3.  Return env.

## 9.1.2.3 NewObjectEnvironment ( O, E )

The abstract operation NewObjectEnvironment takes arguments O (an Object) and E (an [Environment Record](https://262.ecma-international.org/12.0/#sec-environment-records)). It performs the following steps when called:

1.  Let env be a new [object Environment Record](https://262.ecma-international.org/12.0/#sec-object-environment-records) containing O as the binding object.
2.  Set env.\[\[OuterEnv\]\] to E.
3.  Return env.

## 9.1.2.4 NewFunctionEnvironment ( F, newTarget )

The abstract operation NewFunctionEnvironment takes arguments F and newTarget. It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): F is an ECMAScript function.
2.  [Assert](https://262.ecma-international.org/12.0/#assert): [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(newTarget) is Undefined or Object.
3.  Let env be a new [function Environment Record](https://262.ecma-international.org/12.0/#sec-function-environment-records) containing no bindings.
4.  Set env.\[\[FunctionObject\]\] to F.
5.  If F.\[\[ThisMode\]\] is lexical, set env.\[\[ThisBindingStatus\]\] to lexical.
6.  Else, set env.\[\[ThisBindingStatus\]\] to uninitialized.
7.  Set env.\[\[NewTarget\]\] to newTarget.
8.  Set env.\[\[OuterEnv\]\] to F.\[\[Environment\]\].
9.  Return env.

## 9.1.2.5 NewGlobalEnvironment ( G, thisValue )

The abstract operation NewGlobalEnvironment takes arguments G and thisValue. It performs the following steps when called:

1.  Let objRec be a new [object Environment Record](https://262.ecma-international.org/12.0/#sec-object-environment-records) containing G as the binding object.
2.  Let dclRec be a new [declarative Environment Record](https://262.ecma-international.org/12.0/#sec-declarative-environment-records) containing no bindings.
3.  Let env be a new [global Environment Record](https://262.ecma-international.org/12.0/#sec-global-environment-records).
4.  Set env.\[\[ObjectRecord\]\] to objRec.
5.  Set env.\[\[GlobalThisValue\]\] to thisValue.
6.  Set env.\[\[DeclarativeRecord\]\] to dclRec.
7.  Set env.\[\[VarNames\]\] to a new empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).
8.  Set env.\[\[OuterEnv\]\] to null.
9.  Return env.

## 9.1.2.6 NewModuleEnvironment ( E )

The abstract operation NewModuleEnvironment takes argument E (an [Environment Record](https://262.ecma-international.org/12.0/#sec-environment-records)). It performs the following steps when called:

1.  Let env be a new [module Environment Record](https://262.ecma-international.org/12.0/#sec-module-environment-records) containing no bindings.
2.  Set env.\[\[OuterEnv\]\] to E.
3.  Return env.

## 9.2 Realms

Before it is evaluated, all ECMAScript code must be associated with a realm. Conceptually, a [realm](https://262.ecma-international.org/12.0/#realm) consists of a set of intrinsic objects, an ECMAScript [global environment](https://tc39.es/ecma262/#global-environment), all of the ECMAScript code that is loaded within the scope of that [global environment](https://tc39.es/ecma262/#global-environment), and other associated state and resources.

A [realm](https://262.ecma-international.org/12.0/#realm) is represented in this specification as a Realm Record with the fields specified in [Table 23](https://262.ecma-international.org/12.0/#table-realm-record-fields):

Table 23: [Realm Record](https://262.ecma-international.org/12.0/#realm-record) Fields

| Field Name | Value | Meaning |
| --- | --- | --- |
| \[\[Intrinsics\]\] | [Record](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) whose field names are intrinsic keys and whose values are objects | The intrinsic values used by code associated with this [realm](https://262.ecma-international.org/12.0/#realm) |
| \[\[GlobalObject\]\] | Object | The [global object](https://262.ecma-international.org/12.0/#sec-global-object) for this [realm](https://262.ecma-international.org/12.0/#realm) |
| \[\[GlobalEnv\]\] | [global Environment Record](https://262.ecma-international.org/12.0/#sec-global-environment-records) | The [global environment](https://tc39.es/ecma262/#global-environment) for this [realm](https://262.ecma-international.org/12.0/#realm) |
| \[\[TemplateMap\]\] | A [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) of [Record](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) { \[\[Site\]\]: [Parse Node](https://262.ecma-international.org/12.0/#sec-syntactic-grammar), \[\[Array\]\]: Object }. | 
Template objects are canonicalized separately for each [realm](https://262.ecma-international.org/12.0/#realm) using its [Realm Record](https://262.ecma-international.org/12.0/#realm-record)'s \[\[TemplateMap\]\]. Each \[\[Site\]\] value is a [Parse Node](https://262.ecma-international.org/12.0/#sec-syntactic-grammar) that is a [TemplateLiteral](https://262.ecma-international.org/12.0/#prod-TemplateLiteral). The associated \[\[Array\]\] value is the corresponding template object that is passed to a tag function.

Note

Once a

[Parse Node](https://262.ecma-international.org/12.0/#sec-syntactic-grammar)

becomes unreachable, the corresponding \[\[Array\]\] is also unreachable, and it would be unobservable if an implementation removed the pair from the \[\[TemplateMap\]\] list.



 |
| \[\[HostDefined\]\] | Any, default value is undefined. | Field reserved for use by hosts that need to associate additional information with a [Realm Record](https://262.ecma-international.org/12.0/#realm-record). |

## 9.2.1 CreateRealm ( )

The abstract operation CreateRealm takes no arguments. It performs the following steps when called:

1.  Let realmRec be a new [Realm Record](https://262.ecma-international.org/12.0/#realm-record).
2.  Perform [CreateIntrinsics](https://262.ecma-international.org/12.0/#sec-createintrinsics)(realmRec).
3.  Set realmRec.\[\[GlobalObject\]\] to undefined.
4.  Set realmRec.\[\[GlobalEnv\]\] to undefined.
5.  Set realmRec.\[\[TemplateMap\]\] to a new empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).
6.  Return realmRec.

## 9.2.2 CreateIntrinsics ( realmRec )

The abstract operation CreateIntrinsics takes argument realmRec. It performs the following steps when called:

1.  Let intrinsics be a new [Record](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).
2.  Set realmRec.\[\[Intrinsics\]\] to intrinsics.
3.  Set fields of intrinsics with the values listed in [Table 8](https://262.ecma-international.org/12.0/#table-well-known-intrinsic-objects). The field names are the names listed in column one of the table. The value of each field is a new object value fully and recursively populated with property values as defined by the specification of each object in clauses [19](https://262.ecma-international.org/12.0/#sec-global-object) through [28](https://262.ecma-international.org/12.0/#sec-reflection). All object property values are newly created object values. All values that are built-in function objects are created by performing [CreateBuiltinFunction](https://262.ecma-international.org/12.0/#sec-createbuiltinfunction)(steps, length, name, slots, realmRec, prototype) where steps is the definition of that function provided by this specification, name is the initial value of the function's `name` property, length is the initial value of the function's `length` property, slots is a list of the names, if any, of the function's specified internal slots, and prototype is the specified value of the function's \[\[Prototype\]\] internal slot. The creation of the intrinsics and their properties must be ordered to avoid any dependencies upon objects that have not yet been created.
4.  Perform [AddRestrictedFunctionProperties](https://262.ecma-international.org/12.0/#sec-addrestrictedfunctionproperties)(intrinsics.\[\[[%Function.prototype%](https://262.ecma-international.org/12.0/#sec-properties-of-the-function-prototype-object)\]\], realmRec).
5.  Return intrinsics.

## 9.2.3 SetRealmGlobalObject ( realmRec, globalObj, thisValue )

The abstract operation SetRealmGlobalObject takes arguments realmRec, globalObj, and thisValue. It performs the following steps when called:

1.  If globalObj is undefined, then
    1.  Let intrinsics be realmRec.\[\[Intrinsics\]\].
    2.  Set globalObj to ! [OrdinaryObjectCreate](https://262.ecma-international.org/12.0/#sec-ordinaryobjectcreate)(intrinsics.\[\[[%Object.prototype%](https://262.ecma-international.org/12.0/#sec-properties-of-the-object-prototype-object)\]\]).
2.  [Assert](https://262.ecma-international.org/12.0/#assert): [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(globalObj) is Object.
3.  If thisValue is undefined, set thisValue to globalObj.
4.  Set realmRec.\[\[GlobalObject\]\] to globalObj.
5.  Let newGlobalEnv be [NewGlobalEnvironment](https://262.ecma-international.org/12.0/#sec-newglobalenvironment)(globalObj, thisValue).
6.  Set realmRec.\[\[GlobalEnv\]\] to newGlobalEnv.
7.  Return realmRec.

## 9.2.4 SetDefaultGlobalBindings ( realmRec )

The abstract operation SetDefaultGlobalBindings takes argument realmRec. It performs the following steps when called:

1.  Let global be realmRec.\[\[GlobalObject\]\].
2.  For each property of the Global Object specified in clause [19](https://262.ecma-international.org/12.0/#sec-global-object), do
    1.  Let name be the String value of the [property name](https://262.ecma-international.org/12.0/#property-name).
    2.  Let desc be the fully populated data [Property Descriptor](https://262.ecma-international.org/12.0/#sec-property-descriptor-specification-type) for the property, containing the specified attributes for the property. For properties listed in [19.2](https://262.ecma-international.org/12.0/#sec-function-properties-of-the-global-object), [19.3](https://262.ecma-international.org/12.0/#sec-constructor-properties-of-the-global-object), or [19.4](https://262.ecma-international.org/12.0/#sec-other-properties-of-the-global-object) the value of the \[\[Value\]\] attribute is the corresponding intrinsic object from realmRec.
    3.  Perform ? [DefinePropertyOrThrow](https://262.ecma-international.org/12.0/#sec-definepropertyorthrow)(global, name, desc).
3.  Return global.

## 9.3 Execution Contexts

An execution context is a specification device that is used to track the runtime evaluation of code by an ECMAScript implementation. At any point in time, there is at most one execution context per [agent](https://262.ecma-international.org/12.0/#agent) that is actually executing code. This is known as the [agent](https://262.ecma-international.org/12.0/#agent)'s running execution context. All references to the [running execution context](https://262.ecma-international.org/12.0/#running-execution-context) in this specification denote the [running execution context](https://262.ecma-international.org/12.0/#running-execution-context) of the [surrounding agent](https://262.ecma-international.org/12.0/#surrounding-agent).

The execution context stack is used to track execution contexts. The [running execution context](https://262.ecma-international.org/12.0/#running-execution-context) is always the top element of this stack. A new execution context is created whenever control is transferred from the executable code associated with the currently [running execution context](https://262.ecma-international.org/12.0/#running-execution-context) to executable code that is not associated with that execution context. The newly created execution context is pushed onto the stack and becomes the [running execution context](https://262.ecma-international.org/12.0/#running-execution-context).

An execution context contains whatever implementation specific state is necessary to track the execution progress of its associated code. Each execution context has at least the state components listed in [Table 24](https://262.ecma-international.org/12.0/#table-state-components-for-all-execution-contexts).

Table 24: State Components for All Execution Contexts

| Component | Purpose |
| --- | --- |
| code evaluation state | Any state needed to perform, suspend, and resume evaluation of the code associated with this [execution context](https://262.ecma-international.org/12.0/#sec-execution-contexts). |
| Function | If this [execution context](https://262.ecma-international.org/12.0/#sec-execution-contexts) is evaluating the code of a [function object](https://262.ecma-international.org/12.0/#function-object), then the value of this component is that [function object](https://262.ecma-international.org/12.0/#function-object). If the context is evaluating the code of a [Script](https://262.ecma-international.org/12.0/#prod-Script) or [Module](https://262.ecma-international.org/12.0/#prod-Module), the value is null. |
| [Realm](https://262.ecma-international.org/12.0/#realm) | The [Realm Record](https://262.ecma-international.org/12.0/#realm-record) from which associated code accesses ECMAScript resources. |
| ScriptOrModule | The [Module Record](https://262.ecma-international.org/12.0/#sec-abstract-module-records) or [Script Record](https://262.ecma-international.org/12.0/#script-record) from which associated code originates. If there is no originating script or module, as is the case for the original [execution context](https://262.ecma-international.org/12.0/#sec-execution-contexts) created in [InitializeHostDefinedRealm](https://262.ecma-international.org/12.0/#sec-initializehostdefinedrealm), the value is null. |

Evaluation of code by the [running execution context](https://262.ecma-international.org/12.0/#running-execution-context) may be suspended at various points defined within this specification. Once the [running execution context](https://262.ecma-international.org/12.0/#running-execution-context) has been suspended a different execution context may become the [running execution context](https://262.ecma-international.org/12.0/#running-execution-context) and commence evaluating its code. At some later time a suspended execution context may again become the [running execution context](https://262.ecma-international.org/12.0/#running-execution-context) and continue evaluating its code at the point where it had previously been suspended. Transition of the [running execution context](https://262.ecma-international.org/12.0/#running-execution-context) status among execution contexts usually occurs in stack-like last-in/first-out manner. However, some ECMAScript features require non-LIFO transitions of the [running execution context](https://262.ecma-international.org/12.0/#running-execution-context).

The value of the [Realm](https://262.ecma-international.org/12.0/#realm) component of the [running execution context](https://262.ecma-international.org/12.0/#running-execution-context) is also called the current Realm Record. The value of the Function component of the [running execution context](https://262.ecma-international.org/12.0/#running-execution-context) is also called the active function object.

Execution contexts for ECMAScript code have the additional state components listed in [Table 25](https://262.ecma-international.org/12.0/#table-additional-state-components-for-ecmascript-code-execution-contexts).

Table 25: Additional State Components for ECMAScript Code Execution Contexts

| Component | Purpose |
| --- | --- |
| LexicalEnvironment | Identifies the [Environment Record](https://262.ecma-international.org/12.0/#sec-environment-records) used to resolve identifier references made by code within this [execution context](https://262.ecma-international.org/12.0/#sec-execution-contexts). |
| VariableEnvironment | Identifies the [Environment Record](https://262.ecma-international.org/12.0/#sec-environment-records) that holds bindings created by [VariableStatement](https://262.ecma-international.org/12.0/#prod-VariableStatement)s within this [execution context](https://262.ecma-international.org/12.0/#sec-execution-contexts). |

The LexicalEnvironment and VariableEnvironment components of an execution context are always Environment Records.

Execution contexts representing the evaluation of generator objects have the additional state components listed in [Table 26](https://262.ecma-international.org/12.0/#table-additional-state-components-for-generator-execution-contexts).

Table 26: Additional State Components for Generator Execution Contexts

| Component | Purpose |
| --- | --- |
| Generator | The generator object that this [execution context](https://262.ecma-international.org/12.0/#sec-execution-contexts) is evaluating. |

In most situations only the [running execution context](https://262.ecma-international.org/12.0/#running-execution-context) (the top of the [execution context stack](https://262.ecma-international.org/12.0/#execution-context-stack)) is directly manipulated by algorithms within this specification. Hence when the terms “LexicalEnvironment”, and “VariableEnvironment” are used without qualification they are in reference to those components of the [running execution context](https://262.ecma-international.org/12.0/#running-execution-context).

An execution context is purely a specification mechanism and need not correspond to any particular artefact of an ECMAScript implementation. It is impossible for ECMAScript code to directly access or observe an execution context.

## 9.3.1 GetActiveScriptOrModule ( )

The abstract operation GetActiveScriptOrModule takes no arguments. It is used to determine the running script or module, based on the [running execution context](https://262.ecma-international.org/12.0/#running-execution-context). It performs the following steps when called:

1.  If the [execution context stack](https://262.ecma-international.org/12.0/#execution-context-stack) is empty, return null.
2.  Let ec be the topmost [execution context](https://262.ecma-international.org/12.0/#sec-execution-contexts) on the [execution context stack](https://262.ecma-international.org/12.0/#execution-context-stack) whose ScriptOrModule component is not null.
3.  If no such [execution context](https://262.ecma-international.org/12.0/#sec-execution-contexts) exists, return null. Otherwise, return ec's ScriptOrModule.

## 9.3.2 ResolveBinding ( name \[ , env \] )

The abstract operation ResolveBinding takes argument name (a String) and optional argument env (an [Environment Record](https://262.ecma-international.org/12.0/#sec-environment-records)). It is used to determine the binding of name. env can be used to explicitly provide the [Environment Record](https://262.ecma-international.org/12.0/#sec-environment-records) that is to be searched for the binding. It performs the following steps when called:

1.  If env is not present or if env is undefined, then
    1.  Set env to the [running execution context](https://262.ecma-international.org/12.0/#running-execution-context)'s LexicalEnvironment.
2.  [Assert](https://262.ecma-international.org/12.0/#assert): env is an [Environment Record](https://262.ecma-international.org/12.0/#sec-environment-records).
3.  If the code matching the syntactic production that is being evaluated is contained in [strict mode code](https://262.ecma-international.org/12.0/#sec-strict-mode-code), let strict be true; else let strict be false.
4.  Return ? [GetIdentifierReference](https://262.ecma-international.org/12.0/#sec-getidentifierreference)(env, name, strict).

Note

The result of ResolveBinding is always a [Reference Record](https://262.ecma-international.org/12.0/#sec-reference-record-specification-type) whose \[\[ReferencedName\]\] field is name.

## 9.3.3 GetThisEnvironment ( )

The abstract operation GetThisEnvironment takes no arguments. It finds the [Environment Record](https://262.ecma-international.org/12.0/#sec-environment-records) that currently supplies the binding of the [keyword](https://262.ecma-international.org/12.0/#sec-keywords-and-reserved-words) `this`. It performs the following steps when called:

1.  Let env be the [running execution context](https://262.ecma-international.org/12.0/#running-execution-context)'s LexicalEnvironment.
2.  Repeat,
    1.  Let exists be env.HasThisBinding().
    2.  If exists is true, return env.
    3.  Let outer be env.\[\[OuterEnv\]\].
    4.  [Assert](https://262.ecma-international.org/12.0/#assert): outer is not null.
    5.  Set env to outer.

Note

The loop in step [2](https://262.ecma-international.org/12.0/#step-getthisenvironment-loop) will always terminate because the list of environments always ends with the [global environment](https://tc39.es/ecma262/#global-environment) which has a `this` binding.

## 9.3.4 ResolveThisBinding ( )

The abstract operation ResolveThisBinding takes no arguments. It determines the binding of the [keyword](https://262.ecma-international.org/12.0/#sec-keywords-and-reserved-words) `this` using the LexicalEnvironment of the [running execution context](https://262.ecma-international.org/12.0/#running-execution-context). It performs the following steps when called:

1.  Let envRec be [GetThisEnvironment](https://262.ecma-international.org/12.0/#sec-getthisenvironment)().
2.  Return ? envRec.GetThisBinding().

## 9.3.5 GetNewTarget ( )

The abstract operation GetNewTarget takes no arguments. It determines the NewTarget value using the LexicalEnvironment of the [running execution context](https://262.ecma-international.org/12.0/#running-execution-context). It performs the following steps when called:

1.  Let envRec be [GetThisEnvironment](https://262.ecma-international.org/12.0/#sec-getthisenvironment)().
2.  [Assert](https://262.ecma-international.org/12.0/#assert): envRec has a \[\[NewTarget\]\] field.
3.  Return envRec.\[\[NewTarget\]\].

## 9.3.6 GetGlobalObject ( )

The abstract operation GetGlobalObject takes no arguments. It returns the [global object](https://262.ecma-international.org/12.0/#sec-global-object) used by the currently [running execution context](https://262.ecma-international.org/12.0/#running-execution-context). It performs the following steps when called:

1.  Let currentRealm be [the current Realm Record](https://262.ecma-international.org/12.0/#current-realm).
2.  Return currentRealm.\[\[GlobalObject\]\].

## 9.4 Jobs and Host Operations to Enqueue Jobs

A Job is an [Abstract Closure](https://262.ecma-international.org/12.0/#sec-abstract-closure) with no parameters that initiates an ECMAScript computation when no other ECMAScript computation is currently in progress.

Jobs are scheduled for execution by ECMAScript [host](https://262.ecma-international.org/12.0/#host) environments. This specification describes the [host hook](https://262.ecma-international.org/12.0/#host-hook) [HostEnqueuePromiseJob](https://262.ecma-international.org/12.0/#sec-hostenqueuepromisejob) to schedule one kind of job; hosts may define additional [abstract operations](https://262.ecma-international.org/12.0/#sec-algorithm-conventions-abstract-operations) which schedule jobs. Such operations accept a [Job](https://262.ecma-international.org/12.0/#job) [Abstract Closure](https://262.ecma-international.org/12.0/#sec-abstract-closure) as the parameter and schedule it to be performed at some future time. Their implementations must conform to the following requirements:

-   At some future point in time, when there is no [running execution context](https://262.ecma-international.org/12.0/#running-execution-context) and the [execution context stack](https://262.ecma-international.org/12.0/#execution-context-stack) is empty, the implementation must:
    1.  Perform any [host-defined](https://262.ecma-international.org/12.0/#host-defined) preparation steps.
    2.  [Invoke](https://262.ecma-international.org/12.0/#sec-invoke) the [Job](https://262.ecma-international.org/12.0/#job) [Abstract Closure](https://262.ecma-international.org/12.0/#sec-abstract-closure).
    3.  Perform any [host-defined](https://262.ecma-international.org/12.0/#host-defined) cleanup steps, after which the [execution context stack](https://262.ecma-international.org/12.0/#execution-context-stack) must be empty.
-   Only one [Job](https://262.ecma-international.org/12.0/#job) may be actively undergoing evaluation at any point in time.
-   Once evaluation of a [Job](https://262.ecma-international.org/12.0/#job) starts, it must run to completion before evaluation of any other [Job](https://262.ecma-international.org/12.0/#job) starts.
-   The [Abstract Closure](https://262.ecma-international.org/12.0/#sec-abstract-closure) must return a normal completion, implementing its own handling of errors.

Note 1

[Host](https://262.ecma-international.org/12.0/#host)

environments are not required to treat Jobs uniformly with respect to scheduling. For example, web browsers and Node.js treat Promise-handling Jobs as a higher priority than other work; future features may add Jobs that are not treated at such a high priority.

At any particular time, scriptOrModule (a [Script Record](https://262.ecma-international.org/12.0/#script-record), a [Module Record](https://262.ecma-international.org/12.0/#sec-abstract-module-records), or null) is the active script or module if all of the following conditions are true:

-   [GetActiveScriptOrModule](https://262.ecma-international.org/12.0/#sec-getactivescriptormodule)() is scriptOrModule.
-   If scriptOrModule is a [Script Record](https://262.ecma-international.org/12.0/#script-record) or [Module Record](https://262.ecma-international.org/12.0/#sec-abstract-module-records), let ec be the topmost [execution context](https://262.ecma-international.org/12.0/#sec-execution-contexts) on the [execution context stack](https://262.ecma-international.org/12.0/#execution-context-stack) whose ScriptOrModule component is scriptOrModule. The [Realm](https://262.ecma-international.org/12.0/#realm) component of ec is scriptOrModule.\[\[Realm\]\].

At any particular time, an execution is prepared to evaluate ECMAScript code if all of the following conditions are true:

-   The [execution context stack](https://262.ecma-international.org/12.0/#execution-context-stack) is not empty.
-   The [Realm](https://262.ecma-international.org/12.0/#realm) component of the topmost [execution context](https://262.ecma-international.org/12.0/#sec-execution-contexts) on the [execution context stack](https://262.ecma-international.org/12.0/#execution-context-stack) is a [Realm Record](https://262.ecma-international.org/12.0/#realm-record).

Note 2

[Host](https://262.ecma-international.org/12.0/#host) environments may prepare an execution to evaluate code by pushing execution contexts onto the [execution context stack](https://262.ecma-international.org/12.0/#execution-context-stack). The specific steps are [implementation-defined](https://262.ecma-international.org/12.0/#implementation-defined).

The specific choice of [Realm](https://262.ecma-international.org/12.0/#realm) is up to the [host environment](https://262.ecma-international.org/12.0/#host-environment). This initial [execution context](https://262.ecma-international.org/12.0/#sec-execution-contexts) and [Realm](https://262.ecma-international.org/12.0/#realm) is only in use before any callback function is invoked. When a callback function related to a [Job](https://262.ecma-international.org/12.0/#job), like a Promise handler, is invoked, the invocation pushes its own [execution context](https://262.ecma-international.org/12.0/#sec-execution-contexts) and [Realm](https://262.ecma-international.org/12.0/#realm).

Particular kinds of Jobs have additional conformance requirements.

## 9.4.1 JobCallback Records

A JobCallback Record is a [Record](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) value used to store a [function object](https://262.ecma-international.org/12.0/#function-object) and a [host-defined](https://262.ecma-international.org/12.0/#host-defined) value. Function objects that are invoked via a [Job](https://262.ecma-international.org/12.0/#job) enqueued by the [host](https://262.ecma-international.org/12.0/#host) may have additional [host-defined](https://262.ecma-international.org/12.0/#host-defined) context. To propagate the state, [Job](https://262.ecma-international.org/12.0/#job) Abstract Closures should not capture and call function objects directly. Instead, use [HostMakeJobCallback](https://262.ecma-international.org/12.0/#sec-hostmakejobcallback) and [HostCallJobCallback](https://262.ecma-international.org/12.0/#sec-hostcalljobcallback).

Note

The WHATWG HTML specification ([https://html.spec.whatwg.org/](https://html.spec.whatwg.org/)), for example, uses the [host-defined](https://262.ecma-international.org/12.0/#host-defined) value to propagate the incumbent settings object for Promise callbacks.

JobCallback Records have the fields listed in [Table 27](https://262.ecma-international.org/12.0/#table-jobcallback-records).

Table 27: [JobCallback Record](https://262.ecma-international.org/12.0/#sec-jobcallback-records) Fields

| Field Name | Value | Meaning |
| --- | --- | --- |
| \[\[Callback\]\] | A [function object](https://262.ecma-international.org/12.0/#function-object) | The function to invoke when the [Job](https://262.ecma-international.org/12.0/#job) is invoked. |
| \[\[HostDefined\]\] | Any, default value is empty. | Field reserved for use by hosts. |

## 9.4.2 HostMakeJobCallback ( callback )

The [host-defined](https://262.ecma-international.org/12.0/#host-defined) abstract operation HostMakeJobCallback takes argument callback (a [function object](https://262.ecma-international.org/12.0/#function-object)).

The implementation of HostMakeJobCallback must conform to the following requirements:

-   It must always complete normally (i.e., not return an [abrupt completion](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type)).
-   It must always return a [JobCallback Record](https://262.ecma-international.org/12.0/#sec-jobcallback-records) whose \[\[Callback\]\] field is callback.

The default implementation of HostMakeJobCallback performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): [IsCallable](https://262.ecma-international.org/12.0/#sec-iscallable)(callback) is true.
2.  Return the [JobCallback Record](https://262.ecma-international.org/12.0/#sec-jobcallback-records) { \[\[Callback\]\]: callback, \[\[HostDefined\]\]: empty }.

ECMAScript hosts that are not web browsers must use the default implementation of HostMakeJobCallback.

Note

This is called at the time that the callback is passed to the function that is responsible for its being eventually scheduled and run. For example, `promise.then(thenAction)` calls MakeJobCallback on `thenAction` at the time of invoking `Promise.prototype.then`, not at the time of scheduling the reaction [Job](https://262.ecma-international.org/12.0/#job).

## 9.4.3 HostCallJobCallback ( jobCallback, V, argumentsList )

The [host-defined](https://262.ecma-international.org/12.0/#host-defined) abstract operation HostCallJobCallback takes arguments jobCallback (a [JobCallback Record](https://262.ecma-international.org/12.0/#sec-jobcallback-records)), V (an [ECMAScript language value](https://262.ecma-international.org/12.0/#sec-ecmascript-language-types)), and argumentsList (a [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) of ECMAScript language values).

The implementation of HostCallJobCallback must conform to the following requirements:

-   It must always perform and return the result of [Call](https://262.ecma-international.org/12.0/#sec-call)(jobCallback.\[\[Callback\]\], V, argumentsList).

Note

This requirement means that hosts cannot change the \[\[Call\]\] behaviour of function objects defined in this specification.

The default implementation of HostCallJobCallback performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): [IsCallable](https://262.ecma-international.org/12.0/#sec-iscallable)(jobCallback.\[\[Callback\]\]) is true.
2.  Return ? [Call](https://262.ecma-international.org/12.0/#sec-call)(jobCallback.\[\[Callback\]\], V, argumentsList).

ECMAScript hosts that are not web browsers must use the default implementation of HostCallJobCallback.

## 9.4.4 HostEnqueuePromiseJob ( job, realm )

The [host-defined](https://262.ecma-international.org/12.0/#host-defined) abstract operation HostEnqueuePromiseJob takes arguments job (a [Job](https://262.ecma-international.org/12.0/#job) [Abstract Closure](https://262.ecma-international.org/12.0/#sec-abstract-closure)) and realm (a [Realm Record](https://262.ecma-international.org/12.0/#realm-record) or null). It schedules job to be performed at some future time. The Abstract Closures used with this algorithm are intended to be related to the handling of Promises, or otherwise, to be scheduled with equal priority to Promise handling operations.

The implementation of HostEnqueuePromiseJob must conform to the requirements in [9.4](https://262.ecma-international.org/12.0/#sec-jobs) as well as the following:

-   If realm is not null, each time job is invoked the implementation must perform [implementation-defined](https://262.ecma-international.org/12.0/#implementation-defined) steps such that execution is [prepared to evaluate ECMAScript code](https://262.ecma-international.org/12.0/#job-preparedtoevaluatecode) at the time of job's invocation.
-   Let scriptOrModule be [GetActiveScriptOrModule](https://262.ecma-international.org/12.0/#sec-getactivescriptormodule)() at the time HostEnqueuePromiseJob is invoked. If realm is not null, each time job is invoked the implementation must perform [implementation-defined](https://262.ecma-international.org/12.0/#implementation-defined) steps such that scriptOrModule is the [active script or module](https://262.ecma-international.org/12.0/#job-activescriptormodule) at the time of job's invocation.
-   Jobs must run in the same order as the HostEnqueuePromiseJob invocations that scheduled them.

Note

The realm for Jobs returned by [NewPromiseResolveThenableJob](https://262.ecma-international.org/12.0/#sec-newpromiseresolvethenablejob) is usually the result of calling [GetFunctionRealm](https://262.ecma-international.org/12.0/#sec-getfunctionrealm) on the then [function object](https://262.ecma-international.org/12.0/#function-object). The realm for Jobs returned by [NewPromiseReactionJob](https://262.ecma-international.org/12.0/#sec-newpromisereactionjob) is usually the result of calling [GetFunctionRealm](https://262.ecma-international.org/12.0/#sec-getfunctionrealm) on the handler if the handler is not undefined. If the handler is undefined, realm is null. For both kinds of Jobs, when [GetFunctionRealm](https://262.ecma-international.org/12.0/#sec-getfunctionrealm) completes abnormally (i.e. called on a revoked Proxy), realm is the current [Realm](https://262.ecma-international.org/12.0/#realm) at the time of the [GetFunctionRealm](https://262.ecma-international.org/12.0/#sec-getfunctionrealm) call. When the realm is null, no user ECMAScript code will be evaluated and no new ECMAScript objects (e.g. Error objects) will be created. The WHATWG HTML specification ([https://html.spec.whatwg.org/](https://html.spec.whatwg.org/)), for example, uses realm to check for the ability to run script and for the [entry](https://html.spec.whatwg.org/#entry) concept.

## 9.5 InitializeHostDefinedRealm ( )

The abstract operation InitializeHostDefinedRealm takes no arguments. It performs the following steps when called:

1.  Let realm be [CreateRealm](https://262.ecma-international.org/12.0/#sec-createrealm)().
2.  Let newContext be a new [execution context](https://262.ecma-international.org/12.0/#sec-execution-contexts).
3.  Set the Function of newContext to null.
4.  Set the [Realm](https://262.ecma-international.org/12.0/#realm) of newContext to realm.
5.  Set the ScriptOrModule of newContext to null.
6.  Push newContext onto the [execution context stack](https://262.ecma-international.org/12.0/#execution-context-stack); newContext is now the [running execution context](https://262.ecma-international.org/12.0/#running-execution-context).
7.  If the [host](https://262.ecma-international.org/12.0/#host) requires use of an [exotic object](https://262.ecma-international.org/12.0/#exotic-object) to serve as realm's [global object](https://262.ecma-international.org/12.0/#sec-global-object), let global be such an object created in a [host-defined](https://262.ecma-international.org/12.0/#host-defined) manner. Otherwise, let global be undefined, indicating that an [ordinary object](https://262.ecma-international.org/12.0/#ordinary-object) should be created as the [global object](https://262.ecma-international.org/12.0/#sec-global-object).
8.  If the [host](https://262.ecma-international.org/12.0/#host) requires that the `this` binding in realm's global scope return an object other than the [global object](https://262.ecma-international.org/12.0/#sec-global-object), let thisValue be such an object created in a [host-defined](https://262.ecma-international.org/12.0/#host-defined) manner. Otherwise, let thisValue be undefined, indicating that realm's global `this` binding should be the [global object](https://262.ecma-international.org/12.0/#sec-global-object).
9.  Perform [SetRealmGlobalObject](https://262.ecma-international.org/12.0/#sec-setrealmglobalobject)(realm, global, thisValue).
10.  Let globalObj be ? [SetDefaultGlobalBindings](https://262.ecma-international.org/12.0/#sec-setdefaultglobalbindings)(realm).
11.  Create any [host-defined](https://262.ecma-international.org/12.0/#host-defined) [global object](https://262.ecma-international.org/12.0/#sec-global-object) properties on globalObj.
12.  Return [NormalCompletion](https://262.ecma-international.org/12.0/#sec-normalcompletion)(empty).

## 9.6 Agents

An agent comprises a set of ECMAScript execution contexts, an [execution context stack](https://262.ecma-international.org/12.0/#execution-context-stack), a [running execution context](https://262.ecma-international.org/12.0/#running-execution-context), an Agent Record, and an executing thread. Except for the [executing thread](https://262.ecma-international.org/12.0/#executing-thread), the constituents of an [agent](https://262.ecma-international.org/12.0/#agent) belong exclusively to that [agent](https://262.ecma-international.org/12.0/#agent).

An [agent](https://262.ecma-international.org/12.0/#agent)'s [executing thread](https://262.ecma-international.org/12.0/#executing-thread) executes a job on the [agent](https://262.ecma-international.org/12.0/#agent)'s execution contexts independently of other agents, except that an [executing thread](https://262.ecma-international.org/12.0/#executing-thread) may be used as the [executing thread](https://262.ecma-international.org/12.0/#executing-thread) by multiple agents, provided none of the agents sharing the thread have an [Agent Record](https://262.ecma-international.org/12.0/#agent-record) whose \[\[CanBlock\]\] property is true.

Note 1

Some web browsers share a single [executing thread](https://262.ecma-international.org/12.0/#executing-thread) across multiple unrelated tabs of a browser window, for example.

While an [agent](https://262.ecma-international.org/12.0/#agent)'s [executing thread](https://262.ecma-international.org/12.0/#executing-thread) executes jobs, the [agent](https://262.ecma-international.org/12.0/#agent) is the surrounding agent for the code in those jobs. The code uses the [surrounding agent](https://262.ecma-international.org/12.0/#surrounding-agent) to access the specification level execution objects held within the [agent](https://262.ecma-international.org/12.0/#agent): the [running execution context](https://262.ecma-international.org/12.0/#running-execution-context), the [execution context stack](https://262.ecma-international.org/12.0/#execution-context-stack), and the [Agent Record](https://262.ecma-international.org/12.0/#agent-record)'s fields.

Table 28: [Agent Record](https://262.ecma-international.org/12.0/#agent-record) Fields

| Field Name | Value | Meaning |
| --- | --- | --- |
| \[\[LittleEndian\]\] | Boolean | The default value computed for the _isLittleEndian_ parameter when it is needed by the algorithms [GetValueFromBuffer](https://262.ecma-international.org/12.0/#sec-getvaluefrombuffer) and [SetValueInBuffer](https://262.ecma-international.org/12.0/#sec-setvalueinbuffer). The choice is [implementation-defined](https://262.ecma-international.org/12.0/#implementation-defined) and should be the alternative that is most efficient for the implementation. Once the value has been observed it cannot change. |
| \[\[CanBlock\]\] | Boolean | Determines whether the [agent](https://262.ecma-international.org/12.0/#agent) can block or not. |
| \[\[Signifier\]\] | Any globally-unique value | Uniquely identifies the [agent](https://262.ecma-international.org/12.0/#agent) within its [agent cluster](https://262.ecma-international.org/12.0/#sec-agent-clusters). |
| \[\[IsLockFree1\]\] | Boolean | true if atomic operations on one-byte values are lock-free, false otherwise. |
| \[\[IsLockFree2\]\] | Boolean | true if atomic operations on two-byte values are lock-free, false otherwise. |
| \[\[IsLockFree8\]\] | Boolean | true if atomic operations on eight-byte values are lock-free, false otherwise. |
| \[\[CandidateExecution\]\] | A [candidate execution](https://262.ecma-international.org/12.0/#sec-candidate-executions) [Record](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) | See the [memory model](https://262.ecma-international.org/12.0/#sec-memory-model). |
| \[\[KeptAlive\]\] | [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) of objects | Initially a new empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type), representing the list of objects to be kept alive until the end of the current [Job](https://262.ecma-international.org/12.0/#job) |

Once the values of \[\[Signifier\]\], \[\[IsLockFree1\]\], and \[\[IsLockFree2\]\] have been observed by any [agent](https://262.ecma-international.org/12.0/#agent) in the [agent cluster](https://262.ecma-international.org/12.0/#sec-agent-clusters) they cannot change.

Note 2

The values of \[\[IsLockFree1\]\] and \[\[IsLockFree2\]\] are not necessarily determined by the hardware, but may also reflect implementation choices that can vary over time and between ECMAScript implementations.

There is no \[\[IsLockFree4\]\] property: 4-byte atomic operations are always lock-free.

In practice, if an atomic operation is implemented with any type of lock the operation is not lock-free. Lock-free does not imply wait-free: there is no upper bound on how many machine steps may be required to complete a lock-free atomic operation.

That an atomic access of size _n_ is lock-free does not imply anything about the (perceived) atomicity of non-atomic accesses of size _n_, specifically, non-atomic accesses may still be performed as a sequence of several separate memory accesses. See [ReadSharedMemory](https://262.ecma-international.org/12.0/#sec-memory-model-fundamentals) and [WriteSharedMemory](https://262.ecma-international.org/12.0/#sec-memory-model-fundamentals) for details.

Note 3

An [agent](https://262.ecma-international.org/12.0/#agent) is a specification mechanism and need not correspond to any particular artefact of an ECMAScript implementation.

## 9.6.1 AgentSignifier ( )

The abstract operation AgentSignifier takes no arguments. It performs the following steps when called:

1.  Let AR be the [Agent Record](https://262.ecma-international.org/12.0/#agent-record) of the [surrounding agent](https://262.ecma-international.org/12.0/#surrounding-agent).
2.  Return AR.\[\[Signifier\]\].

## 9.6.2 AgentCanSuspend ( )

The abstract operation AgentCanSuspend takes no arguments. It performs the following steps when called:

1.  Let AR be the [Agent Record](https://262.ecma-international.org/12.0/#agent-record) of the [surrounding agent](https://262.ecma-international.org/12.0/#surrounding-agent).
2.  Return AR.\[\[CanBlock\]\].

Note

In some environments it may not be reasonable for a given [agent](https://262.ecma-international.org/12.0/#agent) to suspend. For example, in a web browser environment, it may be reasonable to disallow suspending a document's main event handling thread, while still allowing workers' event handling threads to suspend.

## 9.7 Agent Clusters

An agent cluster is a maximal set of agents that can communicate by operating on shared memory.

Note 1

Programs within different agents may share memory by unspecified means. At a minimum, the backing memory for SharedArrayBuffer objects can be shared among the agents in the cluster.

There may be agents that can communicate by message passing that cannot share memory; they are never in the same agent cluster.

Every [agent](https://262.ecma-international.org/12.0/#agent) belongs to exactly one agent cluster.

Note 2

The agents in a cluster need not all be alive at some particular point in time. If [agent](https://262.ecma-international.org/12.0/#agent) **A** creates another [agent](https://262.ecma-international.org/12.0/#agent) **B**, after which **A** terminates and **B** creates [agent](https://262.ecma-international.org/12.0/#agent) **C**, the three agents are in the same cluster if **A** could share some memory with **B** and **B** could share some memory with **C**.

All agents within a cluster must have the same value for the \[\[LittleEndian\]\] property in their respective [Agent](https://262.ecma-international.org/12.0/#agent) Records.

Note 3

If different agents within an agent cluster have different values of \[\[LittleEndian\]\] it becomes hard to use shared memory for multi-byte data.

All agents within a cluster must have the same values for the \[\[IsLockFree1\]\] property in their respective [Agent](https://262.ecma-international.org/12.0/#agent) Records; similarly for the \[\[IsLockFree2\]\] property.

All agents within a cluster must have different values for the \[\[Signifier\]\] property in their respective [Agent](https://262.ecma-international.org/12.0/#agent) Records.

An embedding may deactivate (stop forward progress) or activate (resume forward progress) an [agent](https://262.ecma-international.org/12.0/#agent) without the [agent](https://262.ecma-international.org/12.0/#agent)'s knowledge or cooperation. If the embedding does so, it must not leave some agents in the cluster active while other agents in the cluster are deactivated indefinitely.

Note 4

The purpose of the preceding restriction is to avoid a situation where an [agent](https://262.ecma-international.org/12.0/#agent) deadlocks or starves because another [agent](https://262.ecma-international.org/12.0/#agent) has been deactivated. For example, if an HTML shared worker that has a lifetime independent of documents in any windows were allowed to share memory with the dedicated worker of such an independent document, and the document and its dedicated worker were to be deactivated while the dedicated worker holds a lock (say, the document is pushed into its window's history), and the shared worker then tries to acquire the lock, then the shared worker will be blocked until the dedicated worker is activated again, if ever. Meanwhile other workers trying to access the shared worker from other windows will starve.

The implication of the restriction is that it will not be possible to share memory between agents that don't belong to the same suspend/wake collective within the embedding.

An embedding may terminate an [agent](https://262.ecma-international.org/12.0/#agent) without any of the [agent](https://262.ecma-international.org/12.0/#agent)'s cluster's other agents' prior knowledge or cooperation. If an [agent](https://262.ecma-international.org/12.0/#agent) is terminated not by programmatic action of its own or of another [agent](https://262.ecma-international.org/12.0/#agent) in the cluster but by forces external to the cluster, then the embedding must choose one of two strategies: Either terminate all the agents in the cluster, or provide reliable APIs that allow the agents in the cluster to coordinate so that at least one remaining member of the cluster will be able to detect the termination, with the termination data containing enough information to identify the [agent](https://262.ecma-international.org/12.0/#agent) that was terminated.

Note 5

Examples of that type of termination are: operating systems or users terminating agents that are running in separate processes; the embedding itself terminating an [agent](https://262.ecma-international.org/12.0/#agent) that is running in-process with the other agents when per-[agent](https://262.ecma-international.org/12.0/#agent) resource accounting indicates that the [agent](https://262.ecma-international.org/12.0/#agent) is runaway.

Prior to any evaluation of any ECMAScript code by any [agent](https://262.ecma-international.org/12.0/#agent) in a cluster, the \[\[CandidateExecution\]\] field of the [Agent Record](https://262.ecma-international.org/12.0/#agent-record) for all agents in the cluster is set to the initial [candidate execution](https://262.ecma-international.org/12.0/#sec-candidate-executions). The initial [candidate execution](https://262.ecma-international.org/12.0/#sec-candidate-executions) is an [empty candidate execution](https://262.ecma-international.org/12.0/#sec-candidate-executions) whose \[\[EventsRecords\]\] field is a [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) containing, for each [agent](https://262.ecma-international.org/12.0/#agent), an [Agent Events Record](https://262.ecma-international.org/12.0/#sec-agent-event-records) whose \[\[AgentSignifier\]\] field is that [agent](https://262.ecma-international.org/12.0/#agent)'s signifier, and whose \[\[EventList\]\] and \[\[AgentSynchronizesWith\]\] fields are empty Lists.

Note 6

All agents in an agent cluster share the same [candidate execution](https://262.ecma-international.org/12.0/#sec-candidate-executions) in its [Agent Record](https://262.ecma-international.org/12.0/#agent-record)'s \[\[CandidateExecution\]\] field. The [candidate execution](https://262.ecma-international.org/12.0/#sec-candidate-executions) is a specification mechanism used by the [memory model](https://262.ecma-international.org/12.0/#sec-memory-model).

Note 7

An agent cluster is a specification mechanism and need not correspond to any particular artefact of an ECMAScript implementation.

## 9.8 Forward Progress

For an [agent](https://262.ecma-international.org/12.0/#agent) to _make forward progress_ is for it to perform an evaluation step according to this specification.

An [agent](https://262.ecma-international.org/12.0/#agent) becomes _blocked_ when its [running execution context](https://262.ecma-international.org/12.0/#running-execution-context) waits synchronously and indefinitely for an external event. Only agents whose [Agent Record](https://262.ecma-international.org/12.0/#agent-record)'s \[\[CanBlock\]\] property is true can become blocked in this sense. An _unblocked_ [agent](https://262.ecma-international.org/12.0/#agent) is one that is not blocked.

Implementations must ensure that:

-   every unblocked [agent](https://262.ecma-international.org/12.0/#agent) with a dedicated [executing thread](https://262.ecma-international.org/12.0/#executing-thread) eventually makes forward progress
-   in a set of agents that share an [executing thread](https://262.ecma-international.org/12.0/#executing-thread), one [agent](https://262.ecma-international.org/12.0/#agent) eventually makes forward progress
-   an [agent](https://262.ecma-international.org/12.0/#agent) does not cause another [agent](https://262.ecma-international.org/12.0/#agent) to become blocked except via explicit APIs that provide blocking.

Note

This, along with the liveness guarantee in the [memory model](https://262.ecma-international.org/12.0/#sec-memory-model), ensures that all SeqCst writes eventually become observable to all agents.

## 9.9 Processing Model of WeakRef and FinalizationRegistry Objects

## 9.9.1 Objectives

This specification does not make any guarantees that any object will be garbage collected. Objects which are not [live](https://262.ecma-international.org/12.0/#sec-liveness) may be released after long periods of time, or never at all. For this reason, this specification uses the term "may" when describing behaviour triggered by garbage collection.

The semantics of [WeakRef](https://262.ecma-international.org/12.0/#sec-weak-ref-constructor) and [FinalizationRegistry](https://262.ecma-international.org/12.0/#sec-finalization-registry-constructor) objects is based on two operations which happen at particular points in time:

-   When `WeakRef.prototype.deref` is called, the referent (if undefined is not returned) is kept alive so that subsequent, synchronous accesses also return the object. This list is reset when synchronous work is done using the [ClearKeptObjects](https://262.ecma-international.org/12.0/#sec-clear-kept-objects) abstract operation.
-   When an object which is registered with a [FinalizationRegistry](https://262.ecma-international.org/12.0/#sec-finalization-registry-constructor) becomes unreachable, a call of the [FinalizationRegistry](https://262.ecma-international.org/12.0/#sec-finalization-registry-constructor)'s cleanup callback may eventually be made, after synchronous ECMAScript execution completes. The [FinalizationRegistry](https://262.ecma-international.org/12.0/#sec-finalization-registry-constructor) cleanup is performed with the [CleanupFinalizationRegistry](https://262.ecma-international.org/12.0/#sec-cleanup-finalization-registry) abstract operation.

Neither of these actions ([ClearKeptObjects](https://262.ecma-international.org/12.0/#sec-clear-kept-objects) or [CleanupFinalizationRegistry](https://262.ecma-international.org/12.0/#sec-cleanup-finalization-registry)) may interrupt synchronous ECMAScript execution. Because hosts may assemble longer, synchronous ECMAScript execution runs, this specification defers the scheduling of [ClearKeptObjects](https://262.ecma-international.org/12.0/#sec-clear-kept-objects) and [CleanupFinalizationRegistry](https://262.ecma-international.org/12.0/#sec-cleanup-finalization-registry) to the [host environment](https://262.ecma-international.org/12.0/#host-environment).

Some ECMAScript implementations include garbage collector implementations which run in the background, including when ECMAScript is idle. Letting the [host environment](https://262.ecma-international.org/12.0/#host-environment) schedule [CleanupFinalizationRegistry](https://262.ecma-international.org/12.0/#sec-cleanup-finalization-registry) allows it to resume ECMAScript execution in order to run finalizer work, which may free up held values, reducing overall memory usage.

## 9.9.2 Liveness

For some set of objects S, a hypothetical WeakRef-oblivious execution with respect to S is an execution whereby the abstract operation [WeakRefDeref](https://262.ecma-international.org/12.0/#sec-weakrefderef) of a [WeakRef](https://262.ecma-international.org/12.0/#sec-weak-ref-constructor) whose referent is an element of S always returns undefined.

Note 1

[WeakRef](https://262.ecma-international.org/12.0/#sec-weak-ref-constructor)

\-obliviousness, together with liveness, capture two notions. One, that a

[WeakRef](https://262.ecma-international.org/12.0/#sec-weak-ref-constructor)

itself does not keep an object alive. Two, that cycles in liveness does not imply that an object is live. To be concrete, if determining obj's liveness depends on determining the liveness of another

[WeakRef](https://262.ecma-international.org/12.0/#sec-weak-ref-constructor)

referent, obj2, obj2's liveness cannot assume obj's liveness, which would be circular reasoning.

Note 2

[WeakRef](https://262.ecma-international.org/12.0/#sec-weak-ref-constructor)

\-obliviousness is defined on sets of objects instead of individual objects to account for cycles. If it were defined on individual objects, then an object in a cycle will be considered live even though its Object value is only observed via WeakRefs of other objects in the cycle.

Note 3

Colloquially, we say that an individual object is live if every set of objects containing it is live.

At any point during evaluation, a set of objects S is considered live if either of the following conditions is met:

-   Any element in S is included in any [agent](https://262.ecma-international.org/12.0/#agent)'s \[\[KeptAlive\]\] [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).
-   There exists a valid future hypothetical WeakRef-oblivious execution with respect to S that observes the Object value of any object in S.

Note 4

The intuition the second condition above intends to capture is that an object is live if its identity is observable via non-

[WeakRef](https://262.ecma-international.org/12.0/#sec-weak-ref-constructor)

means. An object's identity may be observed by observing a strict equality comparison between objects or observing the object being used as key in a Map.

Note 5

Presence of an object in a field, an internal slot, or a property does not imply that the object is live. For example if the object in question is never passed back to the program, then it cannot be observed.

This is the case for keys in a WeakMap, members of a WeakSet, as well as the \[\[WeakRefTarget\]\] and \[\[UnregisterToken\]\] fields of a [FinalizationRegistry](https://262.ecma-international.org/12.0/#sec-finalization-registry-constructor) Cell record.

The above definition implies that, if a key in a WeakMap is not live, then its corresponding value is not necessarily live either.

Note 6

Liveness is the lower bound for guaranteeing which WeakRefs engines must not empty. Liveness as defined here is undecidable. In practice, engines use conservative approximations such as reachability. There is expected to be significant implementation leeway.

## 9.9.3 Execution

At any time, if a set of objects S is not [live](https://262.ecma-international.org/12.0/#sec-liveness), an ECMAScript implementation may perform the following steps atomically:

1.  For each element obj of S, do
    1.  For each [WeakRef](https://262.ecma-international.org/12.0/#sec-weak-ref-constructor) ref such that ref.\[\[WeakRefTarget\]\] is obj, do
        1.  Set ref.\[\[WeakRefTarget\]\] to empty.
    2.  For each [FinalizationRegistry](https://262.ecma-international.org/12.0/#sec-finalization-registry-constructor) fg such that fg.\[\[Cells\]\] contains a [Record](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) cell such that cell.\[\[WeakRefTarget\]\] is obj, do
        1.  Set cell.\[\[WeakRefTarget\]\] to empty.
        2.  Optionally, perform ! [HostEnqueueFinalizationRegistryCleanupJob](https://262.ecma-international.org/12.0/#sec-host-cleanup-finalization-registry)(fg).
    3.  For each WeakMap map such that map.\[\[WeakMapData\]\] contains a [Record](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) r such that r.\[\[Key\]\] is obj, do
        1.  Set r.\[\[Key\]\] to empty.
        2.  Set r.\[\[Value\]\] to empty.
    4.  For each WeakSet set such that set.\[\[WeakSetData\]\] contains obj, do
        1.  Replace the element of set.\[\[WeakSetData\]\] whose value is obj with an element whose value is empty.

Note 1

Together with the definition of liveness, this clause prescribes legal optimizations that an implementation may apply regarding WeakRefs.

It is possible to access an object without observing its identity. Optimizations such as dead variable elimination and scalar replacement on properties of non-escaping objects whose identity is not observed are allowed. These optimizations are thus allowed to observably empty WeakRefs that point to such objects.

On the other hand, if an object's identity is observable, and that object is in the \[\[WeakRefTarget\]\] internal slot of a [WeakRef](https://262.ecma-international.org/12.0/#sec-weak-ref-constructor), optimizations such as rematerialization that observably empty the [WeakRef](https://262.ecma-international.org/12.0/#sec-weak-ref-constructor) are prohibited.

Because calling [HostEnqueueFinalizationRegistryCleanupJob](https://262.ecma-international.org/12.0/#sec-host-cleanup-finalization-registry) is optional, registered objects in a [FinalizationRegistry](https://262.ecma-international.org/12.0/#sec-finalization-registry-constructor) do not necessarily hold that [FinalizationRegistry](https://262.ecma-international.org/12.0/#sec-finalization-registry-constructor) [live](https://262.ecma-international.org/12.0/#sec-liveness). Implementations may omit [FinalizationRegistry](https://262.ecma-international.org/12.0/#sec-finalization-registry-constructor) callbacks for any reason, e.g., if the [FinalizationRegistry](https://262.ecma-international.org/12.0/#sec-finalization-registry-constructor) itself becomes dead, or if the application is shutting down.

Note 2

Implementations are not obligated to empty WeakRefs for maximal sets of non-[live](https://262.ecma-international.org/12.0/#sec-liveness) objects.

If an implementation chooses a non-[live](https://262.ecma-international.org/12.0/#sec-liveness) set S in which to empty WeakRefs, it must empty WeakRefs for all objects in S simultaneously. In other words, an implementation must not empty a [WeakRef](https://262.ecma-international.org/12.0/#sec-weak-ref-constructor) pointing to an object obj without emptying out other WeakRefs that, if not emptied, could result in an execution that observes the Object value of obj.

## 9.9.4 Host Hooks

## 9.9.4.1 HostEnqueueFinalizationRegistryCleanupJob ( finalizationRegistry )

The abstract operation HostEnqueueFinalizationRegistryCleanupJob takes argument finalizationRegistry (a [FinalizationRegistry](https://262.ecma-international.org/12.0/#sec-finalization-registry-constructor)). HostEnqueueFinalizationRegistryCleanupJob is an [implementation-defined](https://262.ecma-international.org/12.0/#implementation-defined) abstract operation that is expected to call [CleanupFinalizationRegistry](https://262.ecma-international.org/12.0/#sec-cleanup-finalization-registry)(finalizationRegistry) at some point in the future, if possible. The [host](https://262.ecma-international.org/12.0/#host)'s responsibility is to make this call at a time which does not interrupt synchronous ECMAScript code execution.

## 9.10 ClearKeptObjects ( )

The abstract operation ClearKeptObjects takes no arguments. ECMAScript implementations are expected to call ClearKeptObjects when a synchronous sequence of ECMAScript executions completes. It performs the following steps when called:

1.  Let agentRecord be the [surrounding agent](https://262.ecma-international.org/12.0/#surrounding-agent)'s [Agent Record](https://262.ecma-international.org/12.0/#agent-record).
2.  Set agentRecord.\[\[KeptAlive\]\] to a new empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).

## 9.11 AddToKeptObjects ( object )

The abstract operation AddToKeptObjects takes argument object (an Object). It performs the following steps when called:

1.  Let agentRecord be the [surrounding agent](https://262.ecma-international.org/12.0/#surrounding-agent)'s [Agent Record](https://262.ecma-international.org/12.0/#agent-record).
2.  Append object to agentRecord.\[\[KeptAlive\]\].

Note

When the abstract operation AddToKeptObjects is called with a target object reference, it adds the target to a list that will point strongly at the target until

[ClearKeptObjects](https://262.ecma-international.org/12.0/#sec-clear-kept-objects)

is called.

## 9.12 CleanupFinalizationRegistry ( finalizationRegistry )

The abstract operation CleanupFinalizationRegistry takes argument finalizationRegistry (a [FinalizationRegistry](https://262.ecma-international.org/12.0/#sec-finalization-registry-constructor)). It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): finalizationRegistry has \[\[Cells\]\] and \[\[CleanupCallback\]\] internal slots.
2.  Let callback be finalizationRegistry.\[\[CleanupCallback\]\].
3.  While finalizationRegistry.\[\[Cells\]\] contains a [Record](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) cell such that cell.\[\[WeakRefTarget\]\] is empty, an implementation may perform the following steps:
    1.  Choose any such cell.
    2.  Remove cell from finalizationRegistry.\[\[Cells\]\].
    3.  Perform ? [Call](https://262.ecma-international.org/12.0/#sec-call)(callback, undefined, « cell.\[\[HeldValue\]\] »).
4.  Return [NormalCompletion](https://262.ecma-international.org/12.0/#sec-normalcompletion)(undefined).

## 10 Ordinary and Exotic Objects Behaviours

## 10.1 Ordinary Object Internal Methods and Internal Slots

All ordinary objects have an internal slot called \[\[Prototype\]\]. The value of this internal slot is either null or an object and is used for implementing inheritance. Data properties of the \[\[Prototype\]\] object are inherited (and visible as properties of the child object) for the purposes of get access, but not for set access. Accessor properties are inherited for both get access and set access.

Every [ordinary object](https://262.ecma-international.org/12.0/#ordinary-object) has a Boolean-valued \[\[Extensible\]\] internal slot which is used to fulfill the extensibility-related internal method invariants specified in [6.1.7.3](https://262.ecma-international.org/12.0/#sec-invariants-of-the-essential-internal-methods). Namely, once the value of an object's \[\[Extensible\]\] internal slot has been set to false, it is no longer possible to add properties to the object, to modify the value of the object's \[\[Prototype\]\] internal slot, or to subsequently change the value of \[\[Extensible\]\] to true.

In the following algorithm descriptions, assume O is an [ordinary object](https://262.ecma-international.org/12.0/#ordinary-object), P is a property key value, V is any [ECMAScript language value](https://262.ecma-international.org/12.0/#sec-ecmascript-language-types), and Desc is a [Property Descriptor](https://262.ecma-international.org/12.0/#sec-property-descriptor-specification-type) record.

Each [ordinary object](https://262.ecma-international.org/12.0/#ordinary-object) internal method delegates to a similarly-named abstract operation. If such an abstract operation depends on another internal method, then the internal method is invoked on O rather than calling the similarly-named abstract operation directly. These semantics ensure that exotic objects have their overridden internal methods invoked when [ordinary object](https://262.ecma-international.org/12.0/#ordinary-object) internal methods are applied to them.

## 10.1.1 \[\[GetPrototypeOf\]\] ( )

The \[\[GetPrototypeOf\]\] internal method of an [ordinary object](https://262.ecma-international.org/12.0/#ordinary-object) O takes no arguments. It performs the following steps when called:

1.  Return ! [OrdinaryGetPrototypeOf](https://262.ecma-international.org/12.0/#sec-ordinarygetprototypeof)(O).

## 10.1.1.1 OrdinaryGetPrototypeOf ( O )

The abstract operation OrdinaryGetPrototypeOf takes argument O (an Object). It performs the following steps when called:

1.  Return O.\[\[Prototype\]\].

## 10.1.2 \[\[SetPrototypeOf\]\] ( V )

The \[\[SetPrototypeOf\]\] internal method of an [ordinary object](https://262.ecma-international.org/12.0/#ordinary-object) O takes argument V (an Object or null). It performs the following steps when called:

1.  Return ! [OrdinarySetPrototypeOf](https://262.ecma-international.org/12.0/#sec-ordinarysetprototypeof)(O, V).

## 10.1.2.1 OrdinarySetPrototypeOf ( O, V )

The abstract operation OrdinarySetPrototypeOf takes arguments O (an Object) and V (an [ECMAScript language value](https://262.ecma-international.org/12.0/#sec-ecmascript-language-types)). It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): Either [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(V) is Object or [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(V) is Null.
2.  Let current be O.\[\[Prototype\]\].
3.  If [SameValue](https://262.ecma-international.org/12.0/#sec-samevalue)(V, current) is true, return true.
4.  Let extensible be O.\[\[Extensible\]\].
5.  If extensible is false, return false.
6.  Let p be V.
7.  Let done be false.
8.  Repeat, while done is false,
    1.  If p is null, set done to true.
    2.  Else if [SameValue](https://262.ecma-international.org/12.0/#sec-samevalue)(p, O) is true, return false.
    3.  Else,
        1.  If p.\[\[GetPrototypeOf\]\] is not the [ordinary object](https://262.ecma-international.org/12.0/#ordinary-object) internal method defined in [10.1.1](https://262.ecma-international.org/12.0/#sec-ordinary-object-internal-methods-and-internal-slots-getprototypeof), set done to true.
        2.  Else, set p to p.\[\[Prototype\]\].
9.  Set O.\[\[Prototype\]\] to V.
10.  Return true.

Note

The loop in step [8](https://262.ecma-international.org/12.0/#step-ordinarysetprototypeof-loop) guarantees that there will be no circularities in any prototype chain that only includes objects that use the [ordinary object](https://262.ecma-international.org/12.0/#ordinary-object) definitions for \[\[GetPrototypeOf\]\] and \[\[SetPrototypeOf\]\].

## 10.1.3 \[\[IsExtensible\]\] ( )

The \[\[IsExtensible\]\] internal method of an [ordinary object](https://262.ecma-international.org/12.0/#ordinary-object) O takes no arguments. It performs the following steps when called:

1.  Return ! [OrdinaryIsExtensible](https://262.ecma-international.org/12.0/#sec-ordinaryisextensible)(O).

## 10.1.3.1 OrdinaryIsExtensible ( O )

The abstract operation OrdinaryIsExtensible takes argument O (an Object). It performs the following steps when called:

1.  Return O.\[\[Extensible\]\].

## 10.1.4 \[\[PreventExtensions\]\] ( )

The \[\[PreventExtensions\]\] internal method of an [ordinary object](https://262.ecma-international.org/12.0/#ordinary-object) O takes no arguments. It performs the following steps when called:

1.  Return ! [OrdinaryPreventExtensions](https://262.ecma-international.org/12.0/#sec-ordinarypreventextensions)(O).

## 10.1.4.1 OrdinaryPreventExtensions ( O )

The abstract operation OrdinaryPreventExtensions takes argument O (an Object). It performs the following steps when called:

1.  Set O.\[\[Extensible\]\] to false.
2.  Return true.

## 10.1.5 \[\[GetOwnProperty\]\] ( P )

The \[\[GetOwnProperty\]\] internal method of an [ordinary object](https://262.ecma-international.org/12.0/#ordinary-object) O takes argument P (a property key). It performs the following steps when called:

1.  Return ! [OrdinaryGetOwnProperty](https://262.ecma-international.org/12.0/#sec-ordinarygetownproperty)(O, P).

## 10.1.5.1 OrdinaryGetOwnProperty ( O, P )

The abstract operation OrdinaryGetOwnProperty takes arguments O (an Object) and P (a property key). It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): [IsPropertyKey](https://262.ecma-international.org/12.0/#sec-ispropertykey)(P) is true.
2.  If O does not have an own property with key P, return undefined.
3.  Let D be a newly created [Property Descriptor](https://262.ecma-international.org/12.0/#sec-property-descriptor-specification-type) with no fields.
4.  Let X be O's own property whose key is P.
5.  If X is a [data property](https://262.ecma-international.org/12.0/#sec-object-type), then
    1.  Set D.\[\[Value\]\] to the value of X's \[\[Value\]\] attribute.
    2.  Set D.\[\[Writable\]\] to the value of X's \[\[Writable\]\] attribute.
6.  Else,
    1.  [Assert](https://262.ecma-international.org/12.0/#assert): X is an [accessor property](https://262.ecma-international.org/12.0/#sec-object-type).
    2.  Set D.\[\[Get\]\] to the value of X's \[\[Get\]\] attribute.
    3.  Set D.\[\[Set\]\] to the value of X's \[\[Set\]\] attribute.
7.  Set D.\[\[Enumerable\]\] to the value of X's \[\[Enumerable\]\] attribute.
8.  Set D.\[\[Configurable\]\] to the value of X's \[\[Configurable\]\] attribute.
9.  Return D.

## 10.1.6 \[\[DefineOwnProperty\]\] ( P, Desc )

The \[\[DefineOwnProperty\]\] internal method of an [ordinary object](https://262.ecma-international.org/12.0/#ordinary-object) O takes arguments P (a property key) and Desc (a [Property Descriptor](https://262.ecma-international.org/12.0/#sec-property-descriptor-specification-type)). It performs the following steps when called:

1.  Return ? [OrdinaryDefineOwnProperty](https://262.ecma-international.org/12.0/#sec-ordinarydefineownproperty)(O, P, Desc).

## 10.1.6.1 OrdinaryDefineOwnProperty ( O, P, Desc )

The abstract operation OrdinaryDefineOwnProperty takes arguments O (an Object), P (a property key), and Desc (a [Property Descriptor](https://262.ecma-international.org/12.0/#sec-property-descriptor-specification-type)). It performs the following steps when called:

1.  Let current be ? O.\[\[GetOwnProperty\]\](P).
2.  Let extensible be ? [IsExtensible](https://262.ecma-international.org/12.0/#sec-isextensible-o)(O).
3.  Return [ValidateAndApplyPropertyDescriptor](https://262.ecma-international.org/12.0/#sec-validateandapplypropertydescriptor)(O, P, extensible, Desc, current).

## 10.1.6.2 IsCompatiblePropertyDescriptor ( Extensible, Desc, Current )

The abstract operation IsCompatiblePropertyDescriptor takes arguments Extensible (a Boolean), Desc (a [Property Descriptor](https://262.ecma-international.org/12.0/#sec-property-descriptor-specification-type)), and Current (a [Property Descriptor](https://262.ecma-international.org/12.0/#sec-property-descriptor-specification-type)). It performs the following steps when called:

1.  Return [ValidateAndApplyPropertyDescriptor](https://262.ecma-international.org/12.0/#sec-validateandapplypropertydescriptor)(undefined, undefined, Extensible, Desc, Current).

## 10.1.6.3 ValidateAndApplyPropertyDescriptor ( O, P, extensible, Desc, current )

The abstract operation ValidateAndApplyPropertyDescriptor takes arguments O (an Object or undefined), P (a property key), extensible (a Boolean), Desc (a [Property Descriptor](https://262.ecma-international.org/12.0/#sec-property-descriptor-specification-type)), and current (a [Property Descriptor](https://262.ecma-international.org/12.0/#sec-property-descriptor-specification-type)). It performs the following steps when called:

Note

If undefined is passed as O, only validation is performed and no object updates are performed.

1.  [Assert](https://262.ecma-international.org/12.0/#assert): If O is not undefined, then [IsPropertyKey](https://262.ecma-international.org/12.0/#sec-ispropertykey)(P) is true.
2.  If current is undefined, then
    1.  If extensible is false, return false.
    2.  [Assert](https://262.ecma-international.org/12.0/#assert): extensible is true.
    3.  If [IsGenericDescriptor](https://262.ecma-international.org/12.0/#sec-isgenericdescriptor)(Desc) is true or [IsDataDescriptor](https://262.ecma-international.org/12.0/#sec-isdatadescriptor)(Desc) is true, then
        1.  If O is not undefined, create an own [data property](https://262.ecma-international.org/12.0/#sec-object-type) named P of object O whose \[\[Value\]\], \[\[Writable\]\], \[\[Enumerable\]\], and \[\[Configurable\]\] attribute values are described by Desc. If the value of an attribute field of Desc is absent, the attribute of the newly created property is set to its [default value](https://262.ecma-international.org/12.0/#table-default-attribute-values).
    4.  Else,
        1.  [Assert](https://262.ecma-international.org/12.0/#assert): ! [IsAccessorDescriptor](https://262.ecma-international.org/12.0/#sec-isaccessordescriptor)(Desc) is true.
        2.  If O is not undefined, create an own [accessor property](https://262.ecma-international.org/12.0/#sec-object-type) named P of object O whose \[\[Get\]\], \[\[Set\]\], \[\[Enumerable\]\], and \[\[Configurable\]\] attribute values are described by Desc. If the value of an attribute field of Desc is absent, the attribute of the newly created property is set to its [default value](https://262.ecma-international.org/12.0/#table-default-attribute-values).
    5.  Return true.
3.  If every field in Desc is absent, return true.
4.  If current.\[\[Configurable\]\] is false, then
    1.  If Desc.\[\[Configurable\]\] is present and its value is true, return false.
    2.  If Desc.\[\[Enumerable\]\] is present and ! [SameValue](https://262.ecma-international.org/12.0/#sec-samevalue)(Desc.\[\[Enumerable\]\], current.\[\[Enumerable\]\]) is false, return false.
5.  If ! [IsGenericDescriptor](https://262.ecma-international.org/12.0/#sec-isgenericdescriptor)(Desc) is true, then
    1.  NOTE: No further validation is required.
6.  Else if ! [SameValue](https://262.ecma-international.org/12.0/#sec-samevalue)(! [IsDataDescriptor](https://262.ecma-international.org/12.0/#sec-isdatadescriptor)(current), ! [IsDataDescriptor](https://262.ecma-international.org/12.0/#sec-isdatadescriptor)(Desc)) is false, then
    1.  If current.\[\[Configurable\]\] is false, return false.
    2.  If [IsDataDescriptor](https://262.ecma-international.org/12.0/#sec-isdatadescriptor)(current) is true, then
        1.  If O is not undefined, convert the property named P of object O from a [data property](https://262.ecma-international.org/12.0/#sec-object-type) to an [accessor property](https://262.ecma-international.org/12.0/#sec-object-type). Preserve the existing values of the converted property's \[\[Configurable\]\] and \[\[Enumerable\]\] attributes and set the rest of the property's attributes to their [default values](https://262.ecma-international.org/12.0/#table-default-attribute-values).
    3.  Else,
        1.  If O is not undefined, convert the property named P of object O from an [accessor property](https://262.ecma-international.org/12.0/#sec-object-type) to a [data property](https://262.ecma-international.org/12.0/#sec-object-type). Preserve the existing values of the converted property's \[\[Configurable\]\] and \[\[Enumerable\]\] attributes and set the rest of the property's attributes to their [default values](https://262.ecma-international.org/12.0/#table-default-attribute-values).
7.  Else if [IsDataDescriptor](https://262.ecma-international.org/12.0/#sec-isdatadescriptor)(current) and [IsDataDescriptor](https://262.ecma-international.org/12.0/#sec-isdatadescriptor)(Desc) are both true, then
    1.  If current.\[\[Configurable\]\] is false and current.\[\[Writable\]\] is false, then
        1.  If Desc.\[\[Writable\]\] is present and Desc.\[\[Writable\]\] is true, return false.
        2.  If Desc.\[\[Value\]\] is present and [SameValue](https://262.ecma-international.org/12.0/#sec-samevalue)(Desc.\[\[Value\]\], current.\[\[Value\]\]) is false, return false.
        3.  Return true.
8.  Else,
    1.  [Assert](https://262.ecma-international.org/12.0/#assert): ! [IsAccessorDescriptor](https://262.ecma-international.org/12.0/#sec-isaccessordescriptor)(current) and ! [IsAccessorDescriptor](https://262.ecma-international.org/12.0/#sec-isaccessordescriptor)(Desc) are both true.
    2.  If current.\[\[Configurable\]\] is false, then
        1.  If Desc.\[\[Set\]\] is present and [SameValue](https://262.ecma-international.org/12.0/#sec-samevalue)(Desc.\[\[Set\]\], current.\[\[Set\]\]) is false, return false.
        2.  If Desc.\[\[Get\]\] is present and [SameValue](https://262.ecma-international.org/12.0/#sec-samevalue)(Desc.\[\[Get\]\], current.\[\[Get\]\]) is false, return false.
        3.  Return true.
9.  If O is not undefined, then
    1.  For each field of Desc that is present, set the corresponding attribute of the property named P of object O to the value of the field.
10.  Return true.

## 10.1.7 \[\[HasProperty\]\] ( P )

The \[\[HasProperty\]\] internal method of an [ordinary object](https://262.ecma-international.org/12.0/#ordinary-object) O takes argument P (a property key). It performs the following steps when called:

1.  Return ? [OrdinaryHasProperty](https://262.ecma-international.org/12.0/#sec-ordinaryhasproperty)(O, P).

## 10.1.7.1 OrdinaryHasProperty ( O, P )

The abstract operation OrdinaryHasProperty takes arguments O (an Object) and P (a property key). It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): [IsPropertyKey](https://262.ecma-international.org/12.0/#sec-ispropertykey)(P) is true.
2.  Let hasOwn be ? O.\[\[GetOwnProperty\]\](P).
3.  If hasOwn is not undefined, return true.
4.  Let parent be ? O.\[\[GetPrototypeOf\]\]().
5.  If parent is not null, then
    1.  Return ? parent.\[\[HasProperty\]\](P).
6.  Return false.

## 10.1.8 \[\[Get\]\] ( P, Receiver )

The \[\[Get\]\] internal method of an [ordinary object](https://262.ecma-international.org/12.0/#ordinary-object) O takes arguments P (a property key) and Receiver (an [ECMAScript language value](https://262.ecma-international.org/12.0/#sec-ecmascript-language-types)). It performs the following steps when called:

1.  Return ? [OrdinaryGet](https://262.ecma-international.org/12.0/#sec-ordinaryget)(O, P, Receiver).

## 10.1.8.1 OrdinaryGet ( O, P, Receiver )

The abstract operation OrdinaryGet takes arguments O (an Object), P (a property key), and Receiver (an [ECMAScript language value](https://262.ecma-international.org/12.0/#sec-ecmascript-language-types)). It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): [IsPropertyKey](https://262.ecma-international.org/12.0/#sec-ispropertykey)(P) is true.
2.  Let desc be ? O.\[\[GetOwnProperty\]\](P).
3.  If desc is undefined, then
    1.  Let parent be ? O.\[\[GetPrototypeOf\]\]().
    2.  If parent is null, return undefined.
    3.  Return ? parent.\[\[Get\]\](P, Receiver).
4.  If [IsDataDescriptor](https://262.ecma-international.org/12.0/#sec-isdatadescriptor)(desc) is true, return desc.\[\[Value\]\].
5.  [Assert](https://262.ecma-international.org/12.0/#assert): [IsAccessorDescriptor](https://262.ecma-international.org/12.0/#sec-isaccessordescriptor)(desc) is true.
6.  Let getter be desc.\[\[Get\]\].
7.  If getter is undefined, return undefined.
8.  Return ? [Call](https://262.ecma-international.org/12.0/#sec-call)(getter, Receiver).

## 10.1.9 \[\[Set\]\] ( P, V, Receiver )

The \[\[Set\]\] internal method of an [ordinary object](https://262.ecma-international.org/12.0/#ordinary-object) O takes arguments P (a property key), V (an [ECMAScript language value](https://262.ecma-international.org/12.0/#sec-ecmascript-language-types)), and Receiver (an [ECMAScript language value](https://262.ecma-international.org/12.0/#sec-ecmascript-language-types)). It performs the following steps when called:

1.  Return ? [OrdinarySet](https://262.ecma-international.org/12.0/#sec-ordinaryset)(O, P, V, Receiver).

## 10.1.9.1 OrdinarySet ( O, P, V, Receiver )

The abstract operation OrdinarySet takes arguments O (an Object), P (a property key), V (an [ECMAScript language value](https://262.ecma-international.org/12.0/#sec-ecmascript-language-types)), and Receiver (an [ECMAScript language value](https://262.ecma-international.org/12.0/#sec-ecmascript-language-types)). It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): [IsPropertyKey](https://262.ecma-international.org/12.0/#sec-ispropertykey)(P) is true.
2.  Let ownDesc be ? O.\[\[GetOwnProperty\]\](P).
3.  Return [OrdinarySetWithOwnDescriptor](https://262.ecma-international.org/12.0/#sec-ordinarysetwithowndescriptor)(O, P, V, Receiver, ownDesc).

## 10.1.9.2 OrdinarySetWithOwnDescriptor ( O, P, V, Receiver, ownDesc )

The abstract operation OrdinarySetWithOwnDescriptor takes arguments O (an Object), P (a property key), V (an [ECMAScript language value](https://262.ecma-international.org/12.0/#sec-ecmascript-language-types)), Receiver (an [ECMAScript language value](https://262.ecma-international.org/12.0/#sec-ecmascript-language-types)), and ownDesc (a [Property Descriptor](https://262.ecma-international.org/12.0/#sec-property-descriptor-specification-type) or undefined). It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): [IsPropertyKey](https://262.ecma-international.org/12.0/#sec-ispropertykey)(P) is true.
2.  If ownDesc is undefined, then
    1.  Let parent be ? O.\[\[GetPrototypeOf\]\]().
    2.  If parent is not null, then
        1.  Return ? parent.\[\[Set\]\](P, V, Receiver).
    3.  Else,
        1.  Set ownDesc to the PropertyDescriptor { \[\[Value\]\]: undefined, \[\[Writable\]\]: true, \[\[Enumerable\]\]: true, \[\[Configurable\]\]: true }.
3.  If [IsDataDescriptor](https://262.ecma-international.org/12.0/#sec-isdatadescriptor)(ownDesc) is true, then
    1.  If ownDesc.\[\[Writable\]\] is false, return false.
    2.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(Receiver) is not Object, return false.
    3.  Let existingDescriptor be ? Receiver.\[\[GetOwnProperty\]\](P).
    4.  If existingDescriptor is not undefined, then
        1.  If [IsAccessorDescriptor](https://262.ecma-international.org/12.0/#sec-isaccessordescriptor)(existingDescriptor) is true, return false.
        2.  If existingDescriptor.\[\[Writable\]\] is false, return false.
        3.  Let valueDesc be the PropertyDescriptor { \[\[Value\]\]: V }.
        4.  Return ? Receiver.\[\[DefineOwnProperty\]\](P, valueDesc).
    5.  Else,
        1.  [Assert](https://262.ecma-international.org/12.0/#assert): Receiver does not currently have a property P.
        2.  Return ? [CreateDataProperty](https://262.ecma-international.org/12.0/#sec-createdataproperty)(Receiver, P, V).
4.  [Assert](https://262.ecma-international.org/12.0/#assert): [IsAccessorDescriptor](https://262.ecma-international.org/12.0/#sec-isaccessordescriptor)(ownDesc) is true.
5.  Let setter be ownDesc.\[\[Set\]\].
6.  If setter is undefined, return false.
7.  Perform ? [Call](https://262.ecma-international.org/12.0/#sec-call)(setter, Receiver, « V »).
8.  Return true.

## 10.1.10 \[\[Delete\]\] ( P )

The \[\[Delete\]\] internal method of an [ordinary object](https://262.ecma-international.org/12.0/#ordinary-object) O takes argument P (a property key). It performs the following steps when called:

1.  Return ? [OrdinaryDelete](https://262.ecma-international.org/12.0/#sec-ordinarydelete)(O, P).

## 10.1.10.1 OrdinaryDelete ( O, P )

The abstract operation OrdinaryDelete takes arguments O (an Object) and P (a property key). It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): [IsPropertyKey](https://262.ecma-international.org/12.0/#sec-ispropertykey)(P) is true.
2.  Let desc be ? O.\[\[GetOwnProperty\]\](P).
3.  If desc is undefined, return true.
4.  If desc.\[\[Configurable\]\] is true, then
    1.  Remove the own property with name P from O.
    2.  Return true.
5.  Return false.

## 10.1.11 \[\[OwnPropertyKeys\]\] ( )

The \[\[OwnPropertyKeys\]\] internal method of an [ordinary object](https://262.ecma-international.org/12.0/#ordinary-object) O takes no arguments. It performs the following steps when called:

1.  Return ! [OrdinaryOwnPropertyKeys](https://262.ecma-international.org/12.0/#sec-ordinaryownpropertykeys)(O).

## 10.1.11.1 OrdinaryOwnPropertyKeys ( O )

The abstract operation OrdinaryOwnPropertyKeys takes argument O (an Object). It performs the following steps when called:

1.  Let keys be a new empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).
2.  For each own property key P of O such that P is an [array index](https://262.ecma-international.org/12.0/#array-index), in ascending numeric index order, do
    1.  Add P as the last element of keys.
3.  For each own property key P of O such that [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(P) is String and P is not an [array index](https://262.ecma-international.org/12.0/#array-index), in ascending chronological order of property creation, do
    1.  Add P as the last element of keys.
4.  For each own property key P of O such that [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(P) is Symbol, in ascending chronological order of property creation, do
    1.  Add P as the last element of keys.
5.  Return keys.

## 10.1.12 OrdinaryObjectCreate ( proto \[ , additionalInternalSlotsList \] )

The abstract operation OrdinaryObjectCreate takes argument proto (an Object or null) and optional argument additionalInternalSlotsList (a [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) of names of internal slots). It is used to specify the runtime creation of new ordinary objects. additionalInternalSlotsList contains the names of additional internal slots that must be defined as part of the object, beyond \[\[Prototype\]\] and \[\[Extensible\]\]. If additionalInternalSlotsList is not provided, a new empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) is used. It performs the following steps when called:

1.  Let internalSlotsList be « \[\[Prototype\]\], \[\[Extensible\]\] ».
2.  If additionalInternalSlotsList is present, append each of its elements to internalSlotsList.
3.  Let O be ! [MakeBasicObject](https://262.ecma-international.org/12.0/#sec-makebasicobject)(internalSlotsList).
4.  Set O.\[\[Prototype\]\] to proto.
5.  Return O.

Note

Although OrdinaryObjectCreate does little more than call [MakeBasicObject](https://262.ecma-international.org/12.0/#sec-makebasicobject), its use communicates the intention to create an [ordinary object](https://262.ecma-international.org/12.0/#ordinary-object), and not an exotic one. Thus, within this specification, it is not called by any algorithm that subsequently modifies the internal methods of the object in ways that would make the result non-ordinary. Operations that create exotic objects invoke [MakeBasicObject](https://262.ecma-international.org/12.0/#sec-makebasicobject) directly.

## 10.1.13 OrdinaryCreateFromConstructor ( constructor, intrinsicDefaultProto \[ , internalSlotsList \] )

The abstract operation OrdinaryCreateFromConstructor takes arguments constructor and intrinsicDefaultProto and optional argument internalSlotsList (a [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) of names of internal slots). It creates an [ordinary object](https://262.ecma-international.org/12.0/#ordinary-object) whose \[\[Prototype\]\] value is retrieved from a [constructor](https://262.ecma-international.org/12.0/#constructor)'s "prototype" property, if it exists. Otherwise the intrinsic named by intrinsicDefaultProto is used for \[\[Prototype\]\]. internalSlotsList contains the names of additional internal slots that must be defined as part of the object. If internalSlotsList is not provided, a new empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) is used. It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): intrinsicDefaultProto is a String value that is this specification's name of an intrinsic object. The corresponding object must be an intrinsic that is intended to be used as the \[\[Prototype\]\] value of an object.
2.  Let proto be ? [GetPrototypeFromConstructor](https://262.ecma-international.org/12.0/#sec-getprototypefromconstructor)(constructor, intrinsicDefaultProto).
3.  Return ! [OrdinaryObjectCreate](https://262.ecma-international.org/12.0/#sec-ordinaryobjectcreate)(proto, internalSlotsList).

## 10.1.14 GetPrototypeFromConstructor ( constructor, intrinsicDefaultProto )

The abstract operation GetPrototypeFromConstructor takes arguments constructor and intrinsicDefaultProto. It determines the \[\[Prototype\]\] value that should be used to create an object corresponding to a specific [constructor](https://262.ecma-international.org/12.0/#constructor). The value is retrieved from the [constructor](https://262.ecma-international.org/12.0/#constructor)'s "prototype" property, if it exists. Otherwise the intrinsic named by intrinsicDefaultProto is used for \[\[Prototype\]\]. It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): intrinsicDefaultProto is a String value that is this specification's name of an intrinsic object. The corresponding object must be an intrinsic that is intended to be used as the \[\[Prototype\]\] value of an object.
2.  [Assert](https://262.ecma-international.org/12.0/#assert): [IsCallable](https://262.ecma-international.org/12.0/#sec-iscallable)(constructor) is true.
3.  Let proto be ? [Get](https://262.ecma-international.org/12.0/#sec-get-o-p)(constructor, "prototype").
4.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(proto) is not Object, then
    1.  Let realm be ? [GetFunctionRealm](https://262.ecma-international.org/12.0/#sec-getfunctionrealm)(constructor).
    2.  Set proto to realm's intrinsic object named intrinsicDefaultProto.
5.  Return proto.

Note

If constructor does not supply a \[\[Prototype\]\] value, the default value that is used is obtained from the [realm](https://262.ecma-international.org/12.0/#realm) of the constructor function rather than from the [running execution context](https://262.ecma-international.org/12.0/#running-execution-context).

## 10.1.15 RequireInternalSlot ( O, internalSlot )

The abstract operation RequireInternalSlot takes arguments O and internalSlot. It throws an exception unless O is an Object and has the given internal slot. It performs the following steps when called:

1.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(O) is not Object, throw a TypeError exception.
2.  If O does not have an internalSlot internal slot, throw a TypeError exception.

## 10.2 ECMAScript Function Objects

ECMAScript function objects encapsulate parameterized ECMAScript code closed over a lexical environment and support the dynamic evaluation of that code. An ECMAScript [function object](https://262.ecma-international.org/12.0/#function-object) is an [ordinary object](https://262.ecma-international.org/12.0/#ordinary-object) and has the same internal slots and the same internal methods as other ordinary objects. The code of an ECMAScript [function object](https://262.ecma-international.org/12.0/#function-object) may be either [strict mode code](https://262.ecma-international.org/12.0/#sec-strict-mode-code) ([11.2.2](https://262.ecma-international.org/12.0/#sec-strict-mode-code)) or [non-strict code](https://262.ecma-international.org/12.0/#non-strict-code). An ECMAScript [function object](https://262.ecma-international.org/12.0/#function-object) whose code is [strict mode code](https://262.ecma-international.org/12.0/#sec-strict-mode-code) is called a strict function. One whose code is not [strict mode code](https://262.ecma-international.org/12.0/#sec-strict-mode-code) is called a non-strict function.

In addition to \[\[Extensible\]\] and \[\[Prototype\]\], ECMAScript function objects also have the internal slots listed in [Table 29](https://262.ecma-international.org/12.0/#table-internal-slots-of-ecmascript-function-objects).

Table 29: Internal Slots of ECMAScript Function Objects

| Internal Slot | Type | Description |
| --- | --- | --- |
| \[\[Environment\]\] | [Environment Record](https://262.ecma-international.org/12.0/#sec-environment-records) | The [Environment Record](https://262.ecma-international.org/12.0/#sec-environment-records) that the function was closed over. Used as the outer environment when evaluating the code of the function. |
| \[\[FormalParameters\]\] | [Parse Node](https://262.ecma-international.org/12.0/#sec-syntactic-grammar) | The root parse node of the source text that defines the function's formal parameter list. |
| \[\[ECMAScriptCode\]\] | [Parse Node](https://262.ecma-international.org/12.0/#sec-syntactic-grammar) | The root parse node of the source text that defines the function's body. |
| \[\[ConstructorKind\]\] | base | derived | Whether or not the function is a derived class [constructor](https://262.ecma-international.org/12.0/#constructor). |
| \[\[Realm\]\] | [Realm Record](https://262.ecma-international.org/12.0/#realm-record) | The [realm](https://262.ecma-international.org/12.0/#realm) in which the function was created and which provides any intrinsic objects that are accessed when evaluating the function. |
| \[\[ScriptOrModule\]\] | [Script Record](https://262.ecma-international.org/12.0/#script-record) or [Module Record](https://262.ecma-international.org/12.0/#sec-abstract-module-records) | The script or module in which the function was created. |
| \[\[ThisMode\]\] | lexical | strict | global | Defines how `this` references are interpreted within the formal parameters and code body of the function. lexical means that `this` refers to the this value of a lexically enclosing function. strict means that the this value is used exactly as provided by an invocation of the function. global means that a this value of undefined or null is interpreted as a reference to the [global object](https://262.ecma-international.org/12.0/#sec-global-object), and any other this value is first passed to [ToObject](https://262.ecma-international.org/12.0/#sec-toobject). |
| \[\[Strict\]\] | Boolean | true if this is a [strict function](https://262.ecma-international.org/12.0/#strict-function), false if this is a [non-strict function](https://262.ecma-international.org/12.0/#non-strict-function). |
| \[\[HomeObject\]\] | Object | If the function uses `super`, this is the object whose \[\[GetPrototypeOf\]\] provides the object where `super` property lookups begin. |
| \[\[SourceText\]\] | sequence of Unicode code points | The [source text](https://262.ecma-international.org/12.0/#sec-source-text) that defines the function. |
| \[\[IsClassConstructor\]\] | Boolean | Indicates whether the function is a class [constructor](https://262.ecma-international.org/12.0/#constructor). (If true, invoking the function's \[\[Call\]\] will immediately throw a TypeError exception.) |

All ECMAScript function objects have the \[\[Call\]\] internal method defined here. ECMAScript functions that are also constructors in addition have the \[\[Construct\]\] internal method.

## 10.2.1 \[\[Call\]\] ( thisArgument, argumentsList )

The \[\[Call\]\] internal method of an ECMAScript [function object](https://262.ecma-international.org/12.0/#function-object) F takes arguments thisArgument (an [ECMAScript language value](https://262.ecma-international.org/12.0/#sec-ecmascript-language-types)) and argumentsList (a [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) of ECMAScript language values). It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): F is an ECMAScript [function object](https://262.ecma-international.org/12.0/#function-object).
2.  Let callerContext be the [running execution context](https://262.ecma-international.org/12.0/#running-execution-context).
3.  Let calleeContext be [PrepareForOrdinaryCall](https://262.ecma-international.org/12.0/#sec-prepareforordinarycall)(F, undefined).
4.  [Assert](https://262.ecma-international.org/12.0/#assert): calleeContext is now the [running execution context](https://262.ecma-international.org/12.0/#running-execution-context).
5.  If F.\[\[IsClassConstructor\]\] is true, then
    1.  Let error be a newly created TypeError object.
    2.  NOTE: error is created in calleeContext with F's associated [Realm Record](https://262.ecma-international.org/12.0/#realm-record).
    3.  Remove calleeContext from the [execution context stack](https://262.ecma-international.org/12.0/#execution-context-stack) and restore callerContext as the [running execution context](https://262.ecma-international.org/12.0/#running-execution-context).
    4.  Return [ThrowCompletion](https://262.ecma-international.org/12.0/#sec-throwcompletion)(error).
6.  Perform [OrdinaryCallBindThis](https://262.ecma-international.org/12.0/#sec-ordinarycallbindthis)(F, calleeContext, thisArgument).
7.  Let result be [OrdinaryCallEvaluateBody](https://262.ecma-international.org/12.0/#sec-ordinarycallevaluatebody)(F, argumentsList).
8.  Remove calleeContext from the [execution context stack](https://262.ecma-international.org/12.0/#execution-context-stack) and restore callerContext as the [running execution context](https://262.ecma-international.org/12.0/#running-execution-context).
9.  If result.\[\[Type\]\] is return, return [NormalCompletion](https://262.ecma-international.org/12.0/#sec-normalcompletion)(result.\[\[Value\]\]).
10.  [ReturnIfAbrupt](https://262.ecma-international.org/12.0/#sec-returnifabrupt)(result).
11.  Return [NormalCompletion](https://262.ecma-international.org/12.0/#sec-normalcompletion)(undefined).

Note

When calleeContext is removed from the [execution context stack](https://262.ecma-international.org/12.0/#execution-context-stack) in step [8](https://262.ecma-international.org/12.0/#step-call-pop-context-stack) it must not be destroyed if it is suspended and retained for later resumption by an accessible generator object.

## 10.2.1.1 PrepareForOrdinaryCall ( F, newTarget )

The abstract operation PrepareForOrdinaryCall takes arguments F (a [function object](https://262.ecma-international.org/12.0/#function-object)) and newTarget (an [ECMAScript language value](https://262.ecma-international.org/12.0/#sec-ecmascript-language-types)). It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(newTarget) is Undefined or Object.
2.  Let callerContext be the [running execution context](https://262.ecma-international.org/12.0/#running-execution-context).
3.  Let calleeContext be a new ECMAScript code [execution context](https://262.ecma-international.org/12.0/#sec-execution-contexts).
4.  Set the Function of calleeContext to F.
5.  Let calleeRealm be F.\[\[Realm\]\].
6.  Set the [Realm](https://262.ecma-international.org/12.0/#realm) of calleeContext to calleeRealm.
7.  Set the ScriptOrModule of calleeContext to F.\[\[ScriptOrModule\]\].
8.  Let localEnv be [NewFunctionEnvironment](https://262.ecma-international.org/12.0/#sec-newfunctionenvironment)(F, newTarget).
9.  Set the LexicalEnvironment of calleeContext to localEnv.
10.  Set the VariableEnvironment of calleeContext to localEnv.
11.  If callerContext is not already suspended, suspend callerContext.
12.  Push calleeContext onto the [execution context stack](https://262.ecma-international.org/12.0/#execution-context-stack); calleeContext is now the [running execution context](https://262.ecma-international.org/12.0/#running-execution-context).
13.  NOTE: Any exception objects produced after this point are associated with calleeRealm.
14.  Return calleeContext.

## 10.2.1.2 OrdinaryCallBindThis ( F, calleeContext, thisArgument )

The abstract operation OrdinaryCallBindThis takes arguments F (a [function object](https://262.ecma-international.org/12.0/#function-object)), calleeContext (an [execution context](https://262.ecma-international.org/12.0/#sec-execution-contexts)), and thisArgument (an [ECMAScript language value](https://262.ecma-international.org/12.0/#sec-ecmascript-language-types)). It performs the following steps when called:

1.  Let thisMode be F.\[\[ThisMode\]\].
2.  If thisMode is lexical, return [NormalCompletion](https://262.ecma-international.org/12.0/#sec-normalcompletion)(undefined).
3.  Let calleeRealm be F.\[\[Realm\]\].
4.  Let localEnv be the LexicalEnvironment of calleeContext.
5.  If thisMode is strict, let thisValue be thisArgument.
6.  Else,
    1.  If thisArgument is undefined or null, then
        1.  Let globalEnv be calleeRealm.\[\[GlobalEnv\]\].
        2.  [Assert](https://262.ecma-international.org/12.0/#assert): globalEnv is a [global Environment Record](https://262.ecma-international.org/12.0/#sec-global-environment-records).
        3.  Let thisValue be globalEnv.\[\[GlobalThisValue\]\].
    2.  Else,
        1.  Let thisValue be ! [ToObject](https://262.ecma-international.org/12.0/#sec-toobject)(thisArgument).
        2.  NOTE: [ToObject](https://262.ecma-international.org/12.0/#sec-toobject) produces wrapper objects using calleeRealm.
7.  [Assert](https://262.ecma-international.org/12.0/#assert): localEnv is a [function Environment Record](https://262.ecma-international.org/12.0/#sec-function-environment-records).
8.  [Assert](https://262.ecma-international.org/12.0/#assert): The next step never returns an [abrupt completion](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type) because localEnv.\[\[ThisBindingStatus\]\] is not initialized.
9.  Return localEnv.BindThisValue(thisValue).

## 10.2.1.3 Runtime Semantics: EvaluateBody

With parameters functionObject and argumentsList (a [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type)).

[FunctionBody](https://262.ecma-international.org/12.0/#prod-FunctionBody) : [FunctionStatementList](https://262.ecma-international.org/12.0/#prod-FunctionStatementList)

1.  Return ? [EvaluateFunctionBody](https://262.ecma-international.org/12.0/#sec-runtime-semantics-evaluatefunctionbody) of [FunctionBody](https://262.ecma-international.org/12.0/#prod-FunctionBody) with arguments functionObject and argumentsList.

[ConciseBody](https://262.ecma-international.org/12.0/#prod-ConciseBody) : [ExpressionBody](https://262.ecma-international.org/12.0/#prod-ExpressionBody)

1.  Return ? [EvaluateConciseBody](https://262.ecma-international.org/12.0/#sec-runtime-semantics-evaluateconcisebody) of [ConciseBody](https://262.ecma-international.org/12.0/#prod-ConciseBody) with arguments functionObject and argumentsList.

[GeneratorBody](https://262.ecma-international.org/12.0/#prod-GeneratorBody) : [FunctionBody](https://262.ecma-international.org/12.0/#prod-FunctionBody)

1.  Return ? [EvaluateGeneratorBody](https://262.ecma-international.org/12.0/#sec-runtime-semantics-evaluategeneratorbody) of [GeneratorBody](https://262.ecma-international.org/12.0/#prod-GeneratorBody) with arguments functionObject and argumentsList.

[AsyncGeneratorBody](https://262.ecma-international.org/12.0/#prod-AsyncGeneratorBody) : [FunctionBody](https://262.ecma-international.org/12.0/#prod-FunctionBody)

1.  Return ? [EvaluateAsyncGeneratorBody](https://262.ecma-international.org/12.0/#sec-runtime-semantics-evaluateasyncgeneratorbody) of [AsyncGeneratorBody](https://262.ecma-international.org/12.0/#prod-AsyncGeneratorBody) with arguments functionObject and argumentsList.

[AsyncFunctionBody](https://262.ecma-international.org/12.0/#prod-AsyncFunctionBody) : [FunctionBody](https://262.ecma-international.org/12.0/#prod-FunctionBody)

1.  Return ? [EvaluateAsyncFunctionBody](https://262.ecma-international.org/12.0/#sec-runtime-semantics-evaluateasyncfunctionbody) of [AsyncFunctionBody](https://262.ecma-international.org/12.0/#prod-AsyncFunctionBody) with arguments functionObject and argumentsList.

[AsyncConciseBody](https://262.ecma-international.org/12.0/#prod-AsyncConciseBody) : [ExpressionBody](https://262.ecma-international.org/12.0/#prod-ExpressionBody)

1.  Return ? [EvaluateAsyncConciseBody](https://262.ecma-international.org/12.0/#sec-runtime-semantics-evaluateasyncconcisebody) of [AsyncConciseBody](https://262.ecma-international.org/12.0/#prod-AsyncConciseBody) with arguments functionObject and argumentsList.

## 10.2.1.4 OrdinaryCallEvaluateBody ( F, argumentsList )

The abstract operation OrdinaryCallEvaluateBody takes arguments F (a [function object](https://262.ecma-international.org/12.0/#function-object)) and argumentsList (a [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type)). It performs the following steps when called:

1.  Return the result of [EvaluateBody](https://262.ecma-international.org/12.0/#sec-runtime-semantics-evaluatebody) of the parsed code that is F.\[\[ECMAScriptCode\]\] passing F and argumentsList as the arguments.

## 10.2.2 \[\[Construct\]\] ( argumentsList, newTarget )

The \[\[Construct\]\] internal method of an ECMAScript [function object](https://262.ecma-international.org/12.0/#function-object) F takes arguments argumentsList (a [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) of ECMAScript language values) and newTarget (a [constructor](https://262.ecma-international.org/12.0/#constructor)). It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): F is an ECMAScript [function object](https://262.ecma-international.org/12.0/#function-object).
2.  [Assert](https://262.ecma-international.org/12.0/#assert): [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(newTarget) is Object.
3.  Let callerContext be the [running execution context](https://262.ecma-international.org/12.0/#running-execution-context).
4.  Let kind be F.\[\[ConstructorKind\]\].
5.  If kind is base, then
    1.  Let thisArgument be ? [OrdinaryCreateFromConstructor](https://262.ecma-international.org/12.0/#sec-ordinarycreatefromconstructor)(newTarget, "%Object.prototype%").
6.  Let calleeContext be [PrepareForOrdinaryCall](https://262.ecma-international.org/12.0/#sec-prepareforordinarycall)(F, newTarget).
7.  [Assert](https://262.ecma-international.org/12.0/#assert): calleeContext is now the [running execution context](https://262.ecma-international.org/12.0/#running-execution-context).
8.  If kind is base, perform [OrdinaryCallBindThis](https://262.ecma-international.org/12.0/#sec-ordinarycallbindthis)(F, calleeContext, thisArgument).
9.  Let constructorEnv be the LexicalEnvironment of calleeContext.
10.  Let result be [OrdinaryCallEvaluateBody](https://262.ecma-international.org/12.0/#sec-ordinarycallevaluatebody)(F, argumentsList).
11.  Remove calleeContext from the [execution context stack](https://262.ecma-international.org/12.0/#execution-context-stack) and restore callerContext as the [running execution context](https://262.ecma-international.org/12.0/#running-execution-context).
12.  If result.\[\[Type\]\] is return, then
    1.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(result.\[\[Value\]\]) is Object, return [NormalCompletion](https://262.ecma-international.org/12.0/#sec-normalcompletion)(result.\[\[Value\]\]).
    2.  If kind is base, return [NormalCompletion](https://262.ecma-international.org/12.0/#sec-normalcompletion)(thisArgument).
    3.  If result.\[\[Value\]\] is not undefined, throw a TypeError exception.
13.  Else, [ReturnIfAbrupt](https://262.ecma-international.org/12.0/#sec-returnifabrupt)(result).
14.  Return ? constructorEnv.GetThisBinding().

## 10.2.3 OrdinaryFunctionCreate ( functionPrototype, sourceText, ParameterList, Body, thisMode, Scope )

The abstract operation OrdinaryFunctionCreate takes arguments functionPrototype (an Object), sourceText (a sequence of Unicode code points), ParameterList (a [Parse Node](https://262.ecma-international.org/12.0/#sec-syntactic-grammar)), Body (a [Parse Node](https://262.ecma-international.org/12.0/#sec-syntactic-grammar)), thisMode (either lexical-this or non-lexical-this), and Scope (an [Environment Record](https://262.ecma-international.org/12.0/#sec-environment-records)). sourceText is the source text of the syntactic definition of the function to be created. It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(functionPrototype) is Object.
2.  Let internalSlotsList be the internal slots listed in [Table 29](https://262.ecma-international.org/12.0/#table-internal-slots-of-ecmascript-function-objects).
3.  Let F be ! [OrdinaryObjectCreate](https://262.ecma-international.org/12.0/#sec-ordinaryobjectcreate)(functionPrototype, internalSlotsList).
4.  Set F.\[\[Call\]\] to the definition specified in [10.2.1](https://262.ecma-international.org/12.0/#sec-ecmascript-function-objects-call-thisargument-argumentslist).
5.  Set F.\[\[SourceText\]\] to sourceText.
6.  Set F.\[\[FormalParameters\]\] to ParameterList.
7.  Set F.\[\[ECMAScriptCode\]\] to Body.
8.  If the source text matching Body is [strict mode code](https://262.ecma-international.org/12.0/#sec-strict-mode-code), let Strict be true; else let Strict be false.
9.  Set F.\[\[Strict\]\] to Strict.
10.  If thisMode is lexical-this, set F.\[\[ThisMode\]\] to lexical.
11.  Else if Strict is true, set F.\[\[ThisMode\]\] to strict.
12.  Else, set F.\[\[ThisMode\]\] to global.
13.  Set F.\[\[IsClassConstructor\]\] to false.
14.  Set F.\[\[Environment\]\] to Scope.
15.  Set F.\[\[ScriptOrModule\]\] to [GetActiveScriptOrModule](https://262.ecma-international.org/12.0/#sec-getactivescriptormodule)().
16.  Set F.\[\[Realm\]\] to [the current Realm Record](https://262.ecma-international.org/12.0/#current-realm).
17.  Set F.\[\[HomeObject\]\] to undefined.
18.  Let len be the [ExpectedArgumentCount](https://262.ecma-international.org/12.0/#sec-static-semantics-expectedargumentcount) of ParameterList.
19.  Perform ! [SetFunctionLength](https://262.ecma-international.org/12.0/#sec-setfunctionlength)(F, len).
20.  Return F.

## 10.2.4 AddRestrictedFunctionProperties ( F, realm )

The abstract operation AddRestrictedFunctionProperties takes arguments F (a [function object](https://262.ecma-international.org/12.0/#function-object)) and realm (a [Realm Record](https://262.ecma-international.org/12.0/#realm-record)). It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): realm.\[\[Intrinsics\]\].\[\[[%ThrowTypeError%](https://262.ecma-international.org/12.0/#sec-%throwtypeerror%)\]\] exists and has been initialized.
2.  Let thrower be realm.\[\[Intrinsics\]\].\[\[[%ThrowTypeError%](https://262.ecma-international.org/12.0/#sec-%throwtypeerror%)\]\].
3.  Perform ! [DefinePropertyOrThrow](https://262.ecma-international.org/12.0/#sec-definepropertyorthrow)(F, "caller", PropertyDescriptor { \[\[Get\]\]: thrower, \[\[Set\]\]: thrower, \[\[Enumerable\]\]: false, \[\[Configurable\]\]: true }).
4.  Return ! [DefinePropertyOrThrow](https://262.ecma-international.org/12.0/#sec-definepropertyorthrow)(F, "arguments", PropertyDescriptor { \[\[Get\]\]: thrower, \[\[Set\]\]: thrower, \[\[Enumerable\]\]: false, \[\[Configurable\]\]: true }).

## 10.2.4.1 %ThrowTypeError% ( )

The %ThrowTypeError% intrinsic is an anonymous built-in [function object](https://262.ecma-international.org/12.0/#function-object) that is defined once for each [realm](https://262.ecma-international.org/12.0/#realm). When %ThrowTypeError% is called it performs the following steps:

1.  Throw a TypeError exception.

The value of the \[\[Extensible\]\] internal slot of a %ThrowTypeError% function is false.

The "length" property of a %ThrowTypeError% function has the attributes { \[\[Writable\]\]: false, \[\[Enumerable\]\]: false, \[\[Configurable\]\]: false }.

The "name" property of a %ThrowTypeError% function has the attributes { \[\[Writable\]\]: false, \[\[Enumerable\]\]: false, \[\[Configurable\]\]: false }.

## 10.2.5 MakeConstructor ( F \[ , writablePrototype \[ , prototype \] \] )

The abstract operation MakeConstructor takes argument F (a [function object](https://262.ecma-international.org/12.0/#function-object)) and optional arguments writablePrototype (a Boolean) and prototype (an Object). It converts F into a [constructor](https://262.ecma-international.org/12.0/#constructor). It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): F is an ECMAScript [function object](https://262.ecma-international.org/12.0/#function-object) or a built-in [function object](https://262.ecma-international.org/12.0/#function-object).
2.  If F is an ECMAScript [function object](https://262.ecma-international.org/12.0/#function-object), then
    1.  [Assert](https://262.ecma-international.org/12.0/#assert): [IsConstructor](https://262.ecma-international.org/12.0/#sec-isconstructor)(F) is false.
    2.  [Assert](https://262.ecma-international.org/12.0/#assert): F is an extensible object that does not have a "prototype" own property.
    3.  Set F.\[\[Construct\]\] to the definition specified in [10.2.2](https://262.ecma-international.org/12.0/#sec-ecmascript-function-objects-construct-argumentslist-newtarget).
3.  Set F.\[\[ConstructorKind\]\] to base.
4.  If writablePrototype is not present, set writablePrototype to true.
5.  If prototype is not present, then
    1.  Set prototype to ! [OrdinaryObjectCreate](https://262.ecma-international.org/12.0/#sec-ordinaryobjectcreate)([%Object.prototype%](https://262.ecma-international.org/12.0/#sec-properties-of-the-object-prototype-object)).
    2.  Perform ! [DefinePropertyOrThrow](https://262.ecma-international.org/12.0/#sec-definepropertyorthrow)(prototype, "constructor", PropertyDescriptor { \[\[Value\]\]: F, \[\[Writable\]\]: writablePrototype, \[\[Enumerable\]\]: false, \[\[Configurable\]\]: true }).
6.  Perform ! [DefinePropertyOrThrow](https://262.ecma-international.org/12.0/#sec-definepropertyorthrow)(F, "prototype", PropertyDescriptor { \[\[Value\]\]: prototype, \[\[Writable\]\]: writablePrototype, \[\[Enumerable\]\]: false, \[\[Configurable\]\]: false }).
7.  Return [NormalCompletion](https://262.ecma-international.org/12.0/#sec-normalcompletion)(undefined).

## 10.2.6 MakeClassConstructor ( F )

The abstract operation MakeClassConstructor takes argument F. It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): F is an ECMAScript [function object](https://262.ecma-international.org/12.0/#function-object).
2.  [Assert](https://262.ecma-international.org/12.0/#assert): F.\[\[IsClassConstructor\]\] is false.
3.  Set F.\[\[IsClassConstructor\]\] to true.
4.  Return [NormalCompletion](https://262.ecma-international.org/12.0/#sec-normalcompletion)(undefined).

## 10.2.7 MakeMethod ( F, homeObject )

The abstract operation MakeMethod takes arguments F and homeObject. It configures F as a method. It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): F is an ECMAScript [function object](https://262.ecma-international.org/12.0/#function-object).
2.  [Assert](https://262.ecma-international.org/12.0/#assert): [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(homeObject) is Object.
3.  Set F.\[\[HomeObject\]\] to homeObject.
4.  Return [NormalCompletion](https://262.ecma-international.org/12.0/#sec-normalcompletion)(undefined).

## 10.2.8 SetFunctionName ( F, name \[ , prefix \] )

The abstract operation SetFunctionName takes arguments F (a [function object](https://262.ecma-international.org/12.0/#function-object)) and name (a property key) and optional argument prefix (a String). It adds a "name" property to F. It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): F is an extensible object that does not have a "name" own property.
2.  [Assert](https://262.ecma-international.org/12.0/#assert): [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(name) is either Symbol or String.
3.  [Assert](https://262.ecma-international.org/12.0/#assert): If prefix is present, then [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(prefix) is String.
4.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(name) is Symbol, then
    1.  Let description be name's \[\[Description\]\] value.
    2.  If description is undefined, set name to the empty String.
    3.  Else, set name to the [string-concatenation](https://262.ecma-international.org/12.0/#string-concatenation) of "\[", description, and "\]".
5.  If F has an \[\[InitialName\]\] internal slot, then
    1.  Set F.\[\[InitialName\]\] to name.
6.  If prefix is present, then
    1.  Set name to the [string-concatenation](https://262.ecma-international.org/12.0/#string-concatenation) of prefix, the code unit 0x0020 (SPACE), and name.
    2.  If F has an \[\[InitialName\]\] internal slot, then
        1.  Optionally, set F.\[\[InitialName\]\] to name.
7.  Return ! [DefinePropertyOrThrow](https://262.ecma-international.org/12.0/#sec-definepropertyorthrow)(F, "name", PropertyDescriptor { \[\[Value\]\]: name, \[\[Writable\]\]: false, \[\[Enumerable\]\]: false, \[\[Configurable\]\]: true }).

## 10.2.9 SetFunctionLength ( F, length )

The abstract operation SetFunctionLength takes arguments F (a [function object](https://262.ecma-international.org/12.0/#function-object)) and length (a non-negative [integer](https://262.ecma-international.org/12.0/#integer) or +∞). It adds a "length" property to F. It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): F is an extensible object that does not have a "length" own property.
2.  Return ! [DefinePropertyOrThrow](https://262.ecma-international.org/12.0/#sec-definepropertyorthrow)(F, "length", PropertyDescriptor { \[\[Value\]\]: [𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(length), \[\[Writable\]\]: false, \[\[Enumerable\]\]: false, \[\[Configurable\]\]: true }).

## 10.2.10 FunctionDeclarationInstantiation ( func, argumentsList )

Note 1

When an [execution context](https://262.ecma-international.org/12.0/#sec-execution-contexts) is established for evaluating an ECMAScript function a new [function Environment Record](https://262.ecma-international.org/12.0/#sec-function-environment-records) is created and bindings for each formal parameter are instantiated in that [Environment Record](https://262.ecma-international.org/12.0/#sec-environment-records). Each declaration in the function body is also instantiated. If the function's formal parameters do not include any default value initializers then the body declarations are instantiated in the same [Environment Record](https://262.ecma-international.org/12.0/#sec-environment-records) as the parameters. If default value parameter initializers exist, a second [Environment Record](https://262.ecma-international.org/12.0/#sec-environment-records) is created for the body declarations. Formal parameters and functions are initialized as part of FunctionDeclarationInstantiation. All other bindings are initialized during evaluation of the function body.

The abstract operation FunctionDeclarationInstantiation takes arguments func (a [function object](https://262.ecma-international.org/12.0/#function-object)) and argumentsList. func is the [function object](https://262.ecma-international.org/12.0/#function-object) for which the [execution context](https://262.ecma-international.org/12.0/#sec-execution-contexts) is being established. It performs the following steps when called:

1.  Let calleeContext be the [running execution context](https://262.ecma-international.org/12.0/#running-execution-context).
2.  Let code be func.\[\[ECMAScriptCode\]\].
3.  Let strict be func.\[\[Strict\]\].
4.  Let formals be func.\[\[FormalParameters\]\].
5.  Let parameterNames be the [BoundNames](https://262.ecma-international.org/12.0/#sec-static-semantics-boundnames) of formals.
6.  If parameterNames has any duplicate entries, let hasDuplicates be true. Otherwise, let hasDuplicates be false.
7.  Let simpleParameterList be [IsSimpleParameterList](https://262.ecma-international.org/12.0/#sec-static-semantics-issimpleparameterlist) of formals.
8.  Let hasParameterExpressions be [ContainsExpression](https://262.ecma-international.org/12.0/#sec-static-semantics-containsexpression) of formals.
9.  Let varNames be the [VarDeclaredNames](https://262.ecma-international.org/12.0/#sec-static-semantics-vardeclarednames) of code.
10.  Let varDeclarations be the [VarScopedDeclarations](https://262.ecma-international.org/12.0/#sec-static-semantics-varscopeddeclarations) of code.
11.  Let lexicalNames be the [LexicallyDeclaredNames](https://262.ecma-international.org/12.0/#sec-static-semantics-lexicallydeclarednames) of code.
12.  Let functionNames be a new empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).
13.  Let functionsToInitialize be a new empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).
14.  For each element d of varDeclarations, in reverse [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) order, do
    1.  If d is neither a [VariableDeclaration](https://262.ecma-international.org/12.0/#prod-VariableDeclaration) nor a [ForBinding](https://262.ecma-international.org/12.0/#prod-ForBinding) nor a [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier), then
        1.  [Assert](https://262.ecma-international.org/12.0/#assert): d is either a [FunctionDeclaration](https://262.ecma-international.org/12.0/#prod-FunctionDeclaration), a [GeneratorDeclaration](https://262.ecma-international.org/12.0/#prod-GeneratorDeclaration), an [AsyncFunctionDeclaration](https://262.ecma-international.org/12.0/#prod-AsyncFunctionDeclaration), or an [AsyncGeneratorDeclaration](https://262.ecma-international.org/12.0/#prod-AsyncGeneratorDeclaration).
        2.  Let fn be the sole element of the [BoundNames](https://262.ecma-international.org/12.0/#sec-static-semantics-boundnames) of d.
        3.  If fn is not an element of functionNames, then
            1.  Insert fn as the first element of functionNames.
            2.  NOTE: If there are multiple function declarations for the same name, the last declaration is used.
            3.  Insert d as the first element of functionsToInitialize.
15.  Let argumentsObjectNeeded be true.
16.  If func.\[\[ThisMode\]\] is lexical, then
    1.  NOTE: Arrow functions never have an arguments objects.
    2.  Set argumentsObjectNeeded to false.
17.  Else if "arguments" is an element of parameterNames, then
    1.  Set argumentsObjectNeeded to false.
18.  Else if hasParameterExpressions is false, then
    1.  If "arguments" is an element of functionNames or if "arguments" is an element of lexicalNames, then
        1.  Set argumentsObjectNeeded to false.
19.  If strict is true or if hasParameterExpressions is false, then
    1.  NOTE: Only a single [Environment Record](https://262.ecma-international.org/12.0/#sec-environment-records) is needed for the parameters and top-level vars.
    2.  Let env be the LexicalEnvironment of calleeContext.
20.  Else,
    1.  NOTE: A separate [Environment Record](https://262.ecma-international.org/12.0/#sec-environment-records) is needed to ensure that bindings created by [direct eval](https://262.ecma-international.org/12.0/#sec-function-calls-runtime-semantics-evaluation) calls in the formal parameter list are outside the environment where parameters are declared.
    2.  Let calleeEnv be the LexicalEnvironment of calleeContext.
    3.  Let env be [NewDeclarativeEnvironment](https://262.ecma-international.org/12.0/#sec-newdeclarativeenvironment)(calleeEnv).
    4.  [Assert](https://262.ecma-international.org/12.0/#assert): The VariableEnvironment of calleeContext is calleeEnv.
    5.  Set the LexicalEnvironment of calleeContext to env.
21.  For each String paramName of parameterNames, do
    1.  Let alreadyDeclared be env.HasBinding(paramName).
    2.  NOTE: Early errors ensure that duplicate parameter names can only occur in non-strict functions that do not have parameter default values or rest parameters.
    3.  If alreadyDeclared is false, then
        1.  Perform ! env.CreateMutableBinding(paramName, false).
        2.  If hasDuplicates is true, then
            1.  Perform ! env.InitializeBinding(paramName, undefined).
22.  If argumentsObjectNeeded is true, then
    1.  If strict is true or if simpleParameterList is false, then
        1.  Let ao be [CreateUnmappedArgumentsObject](https://262.ecma-international.org/12.0/#sec-createunmappedargumentsobject)(argumentsList).
    2.  Else,
        1.  NOTE: A mapped argument object is only provided for non-strict functions that don't have a rest parameter, any parameter default value initializers, or any destructured parameters.
        2.  Let ao be [CreateMappedArgumentsObject](https://262.ecma-international.org/12.0/#sec-createmappedargumentsobject)(func, formals, argumentsList, env).
    3.  If strict is true, then
        1.  Perform ! env.CreateImmutableBinding("arguments", false).
    4.  Else,
        1.  Perform ! env.CreateMutableBinding("arguments", false).
    5.  Call env.InitializeBinding("arguments", ao).
    6.  Let parameterBindings be a [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) whose elements are the elements of parameterNames, followed by "arguments".
23.  Else,
    1.  Let parameterBindings be parameterNames.
24.  Let iteratorRecord be [CreateListIteratorRecord](https://262.ecma-international.org/12.0/#sec-createlistiteratorRecord)(argumentsList).
25.  If hasDuplicates is true, then
    1.  Perform ? [IteratorBindingInitialization](https://262.ecma-international.org/12.0/#sec-runtime-semantics-iteratorbindinginitialization) for formals with iteratorRecord and undefined as arguments.
26.  Else,
    1.  Perform ? [IteratorBindingInitialization](https://262.ecma-international.org/12.0/#sec-runtime-semantics-iteratorbindinginitialization) for formals with iteratorRecord and env as arguments.
27.  If hasParameterExpressions is false, then
    1.  NOTE: Only a single [Environment Record](https://262.ecma-international.org/12.0/#sec-environment-records) is needed for the parameters and top-level vars.
    2.  Let instantiatedVarNames be a copy of the [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) parameterBindings.
    3.  For each element n of varNames, do
        1.  If n is not an element of instantiatedVarNames, then
            1.  Append n to instantiatedVarNames.
            2.  Perform ! env.CreateMutableBinding(n, false).
            3.  Call env.InitializeBinding(n, undefined).
    4.  Let varEnv be env.
28.  Else,
    1.  NOTE: A separate [Environment Record](https://262.ecma-international.org/12.0/#sec-environment-records) is needed to ensure that closures created by expressions in the formal parameter list do not have visibility of declarations in the function body.
    2.  Let varEnv be [NewDeclarativeEnvironment](https://262.ecma-international.org/12.0/#sec-newdeclarativeenvironment)(env).
    3.  Set the VariableEnvironment of calleeContext to varEnv.
    4.  Let instantiatedVarNames be a new empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).
    5.  For each element n of varNames, do
        1.  If n is not an element of instantiatedVarNames, then
            1.  Append n to instantiatedVarNames.
            2.  Perform ! varEnv.CreateMutableBinding(n, false).
            3.  If n is not an element of parameterBindings or if n is an element of functionNames, let initialValue be undefined.
            4.  Else,
                1.  Let initialValue be ! env.GetBindingValue(n, false).
            5.  Call varEnv.InitializeBinding(n, initialValue).
            6.  NOTE: A var with the same name as a formal parameter initially has the same value as the corresponding initialized parameter.
29.  NOTE: Annex [B.3.3.1](https://262.ecma-international.org/12.0/#sec-web-compat-functiondeclarationinstantiation) adds additional steps at this point.
30.  If strict is false, then
    1.  Let lexEnv be [NewDeclarativeEnvironment](https://262.ecma-international.org/12.0/#sec-newdeclarativeenvironment)(varEnv).
    2.  NOTE: Non-strict functions use a separate [Environment Record](https://262.ecma-international.org/12.0/#sec-environment-records) for top-level lexical declarations so that a [direct eval](https://262.ecma-international.org/12.0/#sec-function-calls-runtime-semantics-evaluation) can determine whether any var scoped declarations introduced by the eval code conflict with pre-existing top-level lexically scoped declarations. This is not needed for strict functions because a strict [direct eval](https://262.ecma-international.org/12.0/#sec-function-calls-runtime-semantics-evaluation) always places all declarations into a new [Environment Record](https://262.ecma-international.org/12.0/#sec-environment-records).
31.  Else, let lexEnv be varEnv.
32.  Set the LexicalEnvironment of calleeContext to lexEnv.
33.  Let lexDeclarations be the [LexicallyScopedDeclarations](https://262.ecma-international.org/12.0/#sec-static-semantics-lexicallyscopeddeclarations) of code.
34.  For each element d of lexDeclarations, do
    1.  NOTE: A lexically declared name cannot be the same as a function/generator declaration, formal parameter, or a var name. Lexically declared names are only instantiated here but not initialized.
    2.  For each element dn of the [BoundNames](https://262.ecma-international.org/12.0/#sec-static-semantics-boundnames) of d, do
        1.  If [IsConstantDeclaration](https://262.ecma-international.org/12.0/#sec-static-semantics-isconstantdeclaration) of d is true, then
            1.  Perform ! lexEnv.CreateImmutableBinding(dn, true).
        2.  Else,
            1.  Perform ! lexEnv.CreateMutableBinding(dn, false).
35.  For each [Parse Node](https://262.ecma-international.org/12.0/#sec-syntactic-grammar) f of functionsToInitialize, do
    1.  Let fn be the sole element of the [BoundNames](https://262.ecma-international.org/12.0/#sec-static-semantics-boundnames) of f.
    2.  Let fo be [InstantiateFunctionObject](https://262.ecma-international.org/12.0/#sec-runtime-semantics-instantiatefunctionobject) of f with argument lexEnv.
    3.  Perform ! varEnv.SetMutableBinding(fn, fo, false).
36.  Return [NormalCompletion](https://262.ecma-international.org/12.0/#sec-normalcompletion)(empty).

Note 2

[B.3.3](https://262.ecma-international.org/12.0/#sec-block-level-function-declarations-web-legacy-compatibility-semantics) provides an extension to the above algorithm that is necessary for backwards compatibility with web browser implementations of ECMAScript that predate ECMAScript 2015.

Note 3

Parameter [Initializer](https://262.ecma-international.org/12.0/#prod-Initializer)s may contain [direct eval](https://262.ecma-international.org/12.0/#sec-function-calls-runtime-semantics-evaluation) expressions. Any top level declarations of such evals are only visible to the eval code ([11.2](https://262.ecma-international.org/12.0/#sec-types-of-source-code)). The creation of the environment for such declarations is described in [8.5.3](https://262.ecma-international.org/12.0/#sec-runtime-semantics-iteratorbindinginitialization).

## 10.3 Built-in Function Objects

The built-in function objects defined in this specification may be implemented as either ECMAScript function objects ([10.2](https://262.ecma-international.org/12.0/#sec-ecmascript-function-objects)) whose behaviour is provided using ECMAScript code or as implementation provided function exotic objects whose behaviour is provided in some other manner. In either case, the effect of calling such functions must conform to their specifications. An implementation may also provide additional built-in function objects that are not defined in this specification.

If a built-in [function object](https://262.ecma-international.org/12.0/#function-object) is implemented as an [exotic object](https://262.ecma-international.org/12.0/#exotic-object) it must have the [ordinary object](https://262.ecma-international.org/12.0/#ordinary-object) behaviour specified in [10.1](https://262.ecma-international.org/12.0/#sec-ordinary-object-internal-methods-and-internal-slots). All such function exotic objects also have \[\[Prototype\]\], \[\[Extensible\]\], and \[\[Realm\]\] internal slots.

Unless otherwise specified every built-in [function object](https://262.ecma-international.org/12.0/#function-object) has the [%Function.prototype%](https://262.ecma-international.org/12.0/#sec-properties-of-the-function-prototype-object) object as the initial value of its \[\[Prototype\]\] internal slot.

The behaviour specified for each built-in function via algorithm steps or other means is the specification of the function body behaviour for both \[\[Call\]\] and \[\[Construct\]\] invocations of the function. However, \[\[Construct\]\] invocation is not supported by all built-in functions. For each built-in function, when invoked with \[\[Call\]\], the \[\[Call\]\] thisArgument provides the this value, the \[\[Call\]\] argumentsList provides the named parameters, and the NewTarget value is undefined. When invoked with \[\[Construct\]\], the this value is uninitialized, the \[\[Construct\]\] argumentsList provides the named parameters, and the \[\[Construct\]\] newTarget parameter provides the NewTarget value. If the built-in function is implemented as an ECMAScript [function object](https://262.ecma-international.org/12.0/#function-object) then this specified behaviour must be implemented by the ECMAScript code that is the body of the function. Built-in functions that are ECMAScript function objects must be strict functions. If a built-in [constructor](https://262.ecma-international.org/12.0/#constructor) has any \[\[Call\]\] behaviour other than throwing a TypeError exception, an ECMAScript implementation of the function must be done in a manner that does not cause the function's \[\[IsClassConstructor\]\] internal slot to have the value true.

Built-in function objects that are not identified as constructors do not implement the \[\[Construct\]\] internal method unless otherwise specified in the description of a particular function. When a built-in [constructor](https://262.ecma-international.org/12.0/#constructor) is called as part of a `new` expression the argumentsList parameter of the invoked \[\[Construct\]\] internal method provides the values for the built-in [constructor](https://262.ecma-international.org/12.0/#constructor)'s named parameters.

Built-in functions that are not constructors do not have a "prototype" property unless otherwise specified in the description of a particular function.

Built-in functions have an \[\[InitialName\]\] internal slot.

If a built-in [function object](https://262.ecma-international.org/12.0/#function-object) is not implemented as an ECMAScript function it must provide \[\[Call\]\] and \[\[Construct\]\] internal methods that conform to the following definitions:

## 10.3.1 \[\[Call\]\] ( thisArgument, argumentsList )

The \[\[Call\]\] internal method of a built-in [function object](https://262.ecma-international.org/12.0/#function-object) F takes arguments thisArgument (an [ECMAScript language value](https://262.ecma-international.org/12.0/#sec-ecmascript-language-types)) and argumentsList (a [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) of ECMAScript language values). It performs the following steps when called:

1.  Let callerContext be the [running execution context](https://262.ecma-international.org/12.0/#running-execution-context).
2.  If callerContext is not already suspended, suspend callerContext.
3.  Let calleeContext be a new [execution context](https://262.ecma-international.org/12.0/#sec-execution-contexts).
4.  Set the Function of calleeContext to F.
5.  Let calleeRealm be F.\[\[Realm\]\].
6.  Set the [Realm](https://262.ecma-international.org/12.0/#realm) of calleeContext to calleeRealm.
7.  Set the ScriptOrModule of calleeContext to null.
8.  Perform any necessary [implementation-defined](https://262.ecma-international.org/12.0/#implementation-defined) initialization of calleeContext.
9.  Push calleeContext onto the [execution context stack](https://262.ecma-international.org/12.0/#execution-context-stack); calleeContext is now the [running execution context](https://262.ecma-international.org/12.0/#running-execution-context).
10.  Let result be the [Completion Record](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type) that is the result of evaluating F in a manner that conforms to the specification of F. thisArgument is the this value, argumentsList provides the named parameters, and the NewTarget value is undefined.
11.  Remove calleeContext from the [execution context stack](https://262.ecma-international.org/12.0/#execution-context-stack) and restore callerContext as the [running execution context](https://262.ecma-international.org/12.0/#running-execution-context).
12.  Return result.

Note

When calleeContext is removed from the [execution context stack](https://262.ecma-international.org/12.0/#execution-context-stack) it must not be destroyed if it has been suspended and retained by an accessible generator object for later resumption.

## 10.3.2 \[\[Construct\]\] ( argumentsList, newTarget )

The \[\[Construct\]\] internal method of a built-in [function object](https://262.ecma-international.org/12.0/#function-object) F takes arguments argumentsList (a [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) of ECMAScript language values) and newTarget (a [constructor](https://262.ecma-international.org/12.0/#constructor)). The steps performed are the same as \[\[Call\]\] (see [10.3.1](https://262.ecma-international.org/12.0/#sec-built-in-function-objects-call-thisargument-argumentslist)) except that step [10](https://262.ecma-international.org/12.0/#step-call-builtin-function-result) is replaced by:

10.  Let result be the [Completion Record](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type) that is the result of evaluating F in a manner that conforms to the specification of F. The this value is uninitialized, argumentsList provides the named parameters, and newTarget provides the NewTarget value.

## 10.3.3 CreateBuiltinFunction ( steps, length, name, internalSlotsList \[ , realm \[ , prototype \[ , prefix \] \] \] )

The abstract operation CreateBuiltinFunction takes arguments steps, length, name, and internalSlotsList (a [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) of names of internal slots) and optional arguments realm, prototype, and prefix. internalSlotsList contains the names of additional internal slots that must be defined as part of the object. This operation creates a built-in [function object](https://262.ecma-international.org/12.0/#function-object). It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): steps is either a set of algorithm steps or other definition of a function's behaviour provided in this specification.
2.  If realm is not present or realm is empty, set realm to [the current Realm Record](https://262.ecma-international.org/12.0/#current-realm).
3.  [Assert](https://262.ecma-international.org/12.0/#assert): realm is a [Realm Record](https://262.ecma-international.org/12.0/#realm-record).
4.  If prototype is not present, set prototype to realm.\[\[Intrinsics\]\].\[\[[%Function.prototype%](https://262.ecma-international.org/12.0/#sec-properties-of-the-function-prototype-object)\]\].
5.  Let func be a new built-in [function object](https://262.ecma-international.org/12.0/#function-object) that when called performs the action described by steps. The new [function object](https://262.ecma-international.org/12.0/#function-object) has internal slots whose names are the elements of internalSlotsList, and an \[\[InitialName\]\] internal slot.
6.  Set func.\[\[Realm\]\] to realm.
7.  Set func.\[\[Prototype\]\] to prototype.
8.  Set func.\[\[Extensible\]\] to true.
9.  Set func.\[\[InitialName\]\] to null.
10.  Perform ! [SetFunctionLength](https://262.ecma-international.org/12.0/#sec-setfunctionlength)(func, length).
11.  If prefix is not present, then
    1.  Perform ! [SetFunctionName](https://262.ecma-international.org/12.0/#sec-setfunctionname)(func, name).
12.  Else,
    1.  Perform ! [SetFunctionName](https://262.ecma-international.org/12.0/#sec-setfunctionname)(func, name, prefix).
13.  Return func.

Each built-in function defined in this specification is created by calling the CreateBuiltinFunction abstract operation.

## 10.4 Built-in Exotic Object Internal Methods and Slots

This specification defines several kinds of built-in exotic objects. These objects generally behave similar to ordinary objects except for a few specific situations. The following exotic objects use the [ordinary object](https://262.ecma-international.org/12.0/#ordinary-object) internal methods except where it is explicitly specified otherwise below:

## 10.4.1 Bound Function Exotic Objects

A [bound function exotic object](https://262.ecma-international.org/12.0/#bound-function-exotic-object) is an [exotic object](https://262.ecma-international.org/12.0/#exotic-object) that wraps another [function object](https://262.ecma-international.org/12.0/#function-object). A [bound function exotic object](https://262.ecma-international.org/12.0/#bound-function-exotic-object) is callable (it has a \[\[Call\]\] internal method and may have a \[\[Construct\]\] internal method). Calling a [bound function exotic object](https://262.ecma-international.org/12.0/#bound-function-exotic-object) generally results in a call of its wrapped function.

An object is a bound function exotic object if its \[\[Call\]\] and (if applicable) \[\[Construct\]\] internal methods use the following implementations, and its other essential internal methods use the definitions found in [10.1](https://262.ecma-international.org/12.0/#sec-ordinary-object-internal-methods-and-internal-slots). These methods are installed in [BoundFunctionCreate](https://262.ecma-international.org/12.0/#sec-boundfunctioncreate).

Bound function exotic objects do not have the internal slots of ECMAScript function objects listed in [Table 29](https://262.ecma-international.org/12.0/#table-internal-slots-of-ecmascript-function-objects). Instead they have the internal slots listed in [Table 30](https://262.ecma-international.org/12.0/#table-internal-slots-of-bound-function-exotic-objects), in addition to \[\[Prototype\]\] and \[\[Extensible\]\].

Table 30: Internal Slots of Bound Function Exotic Objects

| Internal Slot | Type | Description |
| --- | --- | --- |
| \[\[BoundTargetFunction\]\] | Callable Object | The wrapped [function object](https://262.ecma-international.org/12.0/#function-object). |
| \[\[BoundThis\]\] | Any | The value that is always passed as the this value when calling the wrapped function. |
| \[\[BoundArguments\]\] | [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) of Any | A list of values whose elements are used as the first arguments to any call to the wrapped function. |

## 10.4.1.1 \[\[Call\]\] ( thisArgument, argumentsList )

The \[\[Call\]\] internal method of a [bound function exotic object](https://262.ecma-international.org/12.0/#bound-function-exotic-object) F takes arguments thisArgument (an [ECMAScript language value](https://262.ecma-international.org/12.0/#sec-ecmascript-language-types)) and argumentsList (a [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) of ECMAScript language values). It performs the following steps when called:

1.  Let target be F.\[\[BoundTargetFunction\]\].
2.  Let boundThis be F.\[\[BoundThis\]\].
3.  Let boundArgs be F.\[\[BoundArguments\]\].
4.  Let args be a [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) whose elements are the elements of boundArgs, followed by the elements of argumentsList.
5.  Return ? [Call](https://262.ecma-international.org/12.0/#sec-call)(target, boundThis, args).

## 10.4.1.2 \[\[Construct\]\] ( argumentsList, newTarget )

The \[\[Construct\]\] internal method of a [bound function exotic object](https://262.ecma-international.org/12.0/#bound-function-exotic-object) F takes arguments argumentsList (a [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) of ECMAScript language values) and newTarget (a [constructor](https://262.ecma-international.org/12.0/#constructor)). It performs the following steps when called:

1.  Let target be F.\[\[BoundTargetFunction\]\].
2.  [Assert](https://262.ecma-international.org/12.0/#assert): [IsConstructor](https://262.ecma-international.org/12.0/#sec-isconstructor)(target) is true.
3.  Let boundArgs be F.\[\[BoundArguments\]\].
4.  Let args be a [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) whose elements are the elements of boundArgs, followed by the elements of argumentsList.
5.  If [SameValue](https://262.ecma-international.org/12.0/#sec-samevalue)(F, newTarget) is true, set newTarget to target.
6.  Return ? [Construct](https://262.ecma-international.org/12.0/#sec-construct)(target, args, newTarget).

## 10.4.1.3 BoundFunctionCreate ( targetFunction, boundThis, boundArgs )

The abstract operation BoundFunctionCreate takes arguments targetFunction, boundThis, and boundArgs. It is used to specify the creation of new [bound function](https://262.ecma-international.org/12.0/#sec-bound-function-exotic-objects) exotic objects. It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(targetFunction) is Object.
2.  Let proto be ? targetFunction.\[\[GetPrototypeOf\]\]().
3.  Let internalSlotsList be the internal slots listed in [Table 30](https://262.ecma-international.org/12.0/#table-internal-slots-of-bound-function-exotic-objects), plus \[\[Prototype\]\] and \[\[Extensible\]\].
4.  Let obj be ! [MakeBasicObject](https://262.ecma-international.org/12.0/#sec-makebasicobject)(internalSlotsList).
5.  Set obj.\[\[Prototype\]\] to proto.
6.  Set obj.\[\[Call\]\] as described in [10.4.1.1](https://262.ecma-international.org/12.0/#sec-bound-function-exotic-objects-call-thisargument-argumentslist).
7.  If [IsConstructor](https://262.ecma-international.org/12.0/#sec-isconstructor)(targetFunction) is true, then
    1.  Set obj.\[\[Construct\]\] as described in [10.4.1.2](https://262.ecma-international.org/12.0/#sec-bound-function-exotic-objects-construct-argumentslist-newtarget).
8.  Set obj.\[\[BoundTargetFunction\]\] to targetFunction.
9.  Set obj.\[\[BoundThis\]\] to boundThis.
10.  Set obj.\[\[BoundArguments\]\] to boundArgs.
11.  Return obj.

## 10.4.2 Array Exotic Objects

An Array object is an [exotic object](https://262.ecma-international.org/12.0/#exotic-object) that gives special treatment to [array index](https://262.ecma-international.org/12.0/#array-index) property keys (see [6.1.7](https://262.ecma-international.org/12.0/#sec-object-type)). A property whose [property name](https://262.ecma-international.org/12.0/#property-name) is an [array index](https://262.ecma-international.org/12.0/#array-index) is also called an _element_. Every Array object has a non-configurable "length" property whose value is always a non-negative [integral Number](https://262.ecma-international.org/12.0/#integral-number) whose [mathematical value](https://262.ecma-international.org/12.0/#mathematical-value) is less than 232. The value of the "length" property is numerically greater than the name of every own property whose name is an [array index](https://262.ecma-international.org/12.0/#array-index); whenever an own property of an Array object is created or changed, other properties are adjusted as necessary to maintain this invariant. Specifically, whenever an own property is added whose name is an [array index](https://262.ecma-international.org/12.0/#array-index), the value of the "length" property is changed, if necessary, to be one more than the numeric value of that [array index](https://262.ecma-international.org/12.0/#array-index); and whenever the value of the "length" property is changed, every own property whose name is an [array index](https://262.ecma-international.org/12.0/#array-index) whose value is not smaller than the new length is deleted. This constraint applies only to own properties of an Array object and is unaffected by "length" or [array index](https://262.ecma-international.org/12.0/#array-index) properties that may be inherited from its prototypes.

Note

A String [property name](https://262.ecma-international.org/12.0/#property-name) P is an _[array index](https://262.ecma-international.org/12.0/#array-index)_ if and only if [ToString](https://262.ecma-international.org/12.0/#sec-tostring)([ToUint32](https://262.ecma-international.org/12.0/#sec-touint32)(P)) equals P and [ToUint32](https://262.ecma-international.org/12.0/#sec-touint32)(P) is not the same value as [𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(232 - 1).

An object is an Array exotic object (or simply, an Array object) if its \[\[DefineOwnProperty\]\] internal method uses the following implementation, and its other essential internal methods use the definitions found in [10.1](https://262.ecma-international.org/12.0/#sec-ordinary-object-internal-methods-and-internal-slots). These methods are installed in [ArrayCreate](https://262.ecma-international.org/12.0/#sec-arraycreate).

## 10.4.2.1 \[\[DefineOwnProperty\]\] ( P, Desc )

The \[\[DefineOwnProperty\]\] internal method of an [Array exotic object](https://262.ecma-international.org/12.0/#array-exotic-object) A takes arguments P (a property key) and Desc (a [Property Descriptor](https://262.ecma-international.org/12.0/#sec-property-descriptor-specification-type)). It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): [IsPropertyKey](https://262.ecma-international.org/12.0/#sec-ispropertykey)(P) is true.
2.  If P is "length", then
    1.  Return ? [ArraySetLength](https://262.ecma-international.org/12.0/#sec-arraysetlength)(A, Desc).
3.  Else if P is an [array index](https://262.ecma-international.org/12.0/#array-index), then
    1.  Let oldLenDesc be [OrdinaryGetOwnProperty](https://262.ecma-international.org/12.0/#sec-ordinarygetownproperty)(A, "length").
    2.  [Assert](https://262.ecma-international.org/12.0/#assert): ! [IsDataDescriptor](https://262.ecma-international.org/12.0/#sec-isdatadescriptor)(oldLenDesc) is true.
    3.  [Assert](https://262.ecma-international.org/12.0/#assert): oldLenDesc.\[\[Configurable\]\] is false.
    4.  Let oldLen be oldLenDesc.\[\[Value\]\].
    5.  [Assert](https://262.ecma-international.org/12.0/#assert): oldLen is a non-negative [integral Number](https://262.ecma-international.org/12.0/#integral-number).
    6.  Let index be ! [ToUint32](https://262.ecma-international.org/12.0/#sec-touint32)(P).
    7.  If index ≥ oldLen and oldLenDesc.\[\[Writable\]\] is false, return false.
    8.  Let succeeded be ! [OrdinaryDefineOwnProperty](https://262.ecma-international.org/12.0/#sec-ordinarydefineownproperty)(A, P, Desc).
    9.  If succeeded is false, return false.
    10.  If index ≥ oldLen, then
        1.  Set oldLenDesc.\[\[Value\]\] to index + 1𝔽.
        2.  Let succeeded be [OrdinaryDefineOwnProperty](https://262.ecma-international.org/12.0/#sec-ordinarydefineownproperty)(A, "length", oldLenDesc).
        3.  [Assert](https://262.ecma-international.org/12.0/#assert): succeeded is true.
    11.  Return true.
4.  Return [OrdinaryDefineOwnProperty](https://262.ecma-international.org/12.0/#sec-ordinarydefineownproperty)(A, P, Desc).

## 10.4.2.2 ArrayCreate ( length \[ , proto \] )

The abstract operation ArrayCreate takes argument length (a non-negative [integer](https://262.ecma-international.org/12.0/#integer)) and optional argument proto. It is used to specify the creation of new Array exotic objects. It performs the following steps when called:

1.  If length > 232 - 1, throw a RangeError exception.
2.  If proto is not present, set proto to [%Array.prototype%](https://262.ecma-international.org/12.0/#sec-properties-of-the-array-prototype-object).
3.  Let A be ! [MakeBasicObject](https://262.ecma-international.org/12.0/#sec-makebasicobject)(« \[\[Prototype\]\], \[\[Extensible\]\] »).
4.  Set A.\[\[Prototype\]\] to proto.
5.  Set A.\[\[DefineOwnProperty\]\] as specified in [10.4.2.1](https://262.ecma-international.org/12.0/#sec-array-exotic-objects-defineownproperty-p-desc).
6.  Perform ! [OrdinaryDefineOwnProperty](https://262.ecma-international.org/12.0/#sec-ordinarydefineownproperty)(A, "length", PropertyDescriptor { \[\[Value\]\]: [𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(length), \[\[Writable\]\]: true, \[\[Enumerable\]\]: false, \[\[Configurable\]\]: false }).
7.  Return A.

## 10.4.2.3 ArraySpeciesCreate ( originalArray, length )

The abstract operation ArraySpeciesCreate takes arguments originalArray and length (a non-negative [integer](https://262.ecma-international.org/12.0/#integer)). It is used to specify the creation of a new Array object using a [constructor](https://262.ecma-international.org/12.0/#constructor) function that is derived from originalArray. It performs the following steps when called:

1.  Let isArray be ? [IsArray](https://262.ecma-international.org/12.0/#sec-isarray)(originalArray).
2.  If isArray is false, return ? [ArrayCreate](https://262.ecma-international.org/12.0/#sec-arraycreate)(length).
3.  Let C be ? [Get](https://262.ecma-international.org/12.0/#sec-get-o-p)(originalArray, "constructor").
4.  If [IsConstructor](https://262.ecma-international.org/12.0/#sec-isconstructor)(C) is true, then
    1.  Let thisRealm be [the current Realm Record](https://262.ecma-international.org/12.0/#current-realm).
    2.  Let realmC be ? [GetFunctionRealm](https://262.ecma-international.org/12.0/#sec-getfunctionrealm)(C).
    3.  If thisRealm and realmC are not the same [Realm Record](https://262.ecma-international.org/12.0/#realm-record), then
        1.  If [SameValue](https://262.ecma-international.org/12.0/#sec-samevalue)(C, realmC.\[\[Intrinsics\]\].\[\[[%Array%](https://262.ecma-international.org/12.0/#sec-array-constructor)\]\]) is true, set C to undefined.
5.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(C) is Object, then
    1.  Set C to ? [Get](https://262.ecma-international.org/12.0/#sec-get-o-p)(C, [@@species](https://262.ecma-international.org/12.0/#sec-well-known-symbols)).
    2.  If C is null, set C to undefined.
6.  If C is undefined, return ? [ArrayCreate](https://262.ecma-international.org/12.0/#sec-arraycreate)(length).
7.  If [IsConstructor](https://262.ecma-international.org/12.0/#sec-isconstructor)(C) is false, throw a TypeError exception.
8.  Return ? [Construct](https://262.ecma-international.org/12.0/#sec-construct)(C, « [𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(length) »).

Note

If originalArray was created using the standard built-in Array [constructor](https://262.ecma-international.org/12.0/#constructor) for a [realm](https://262.ecma-international.org/12.0/#realm) that is not the [realm](https://262.ecma-international.org/12.0/#realm) of the [running execution context](https://262.ecma-international.org/12.0/#running-execution-context), then a new Array is created using the [realm](https://262.ecma-international.org/12.0/#realm) of the [running execution context](https://262.ecma-international.org/12.0/#running-execution-context). This maintains compatibility with Web browsers that have historically had that behaviour for the `Array.prototype` methods that now are defined using ArraySpeciesCreate.

## 10.4.2.4 ArraySetLength ( A, Desc )

The abstract operation ArraySetLength takes arguments A (an Array object) and Desc (a [Property Descriptor](https://262.ecma-international.org/12.0/#sec-property-descriptor-specification-type)). It performs the following steps when called:

1.  If Desc.\[\[Value\]\] is absent, then
    1.  Return [OrdinaryDefineOwnProperty](https://262.ecma-international.org/12.0/#sec-ordinarydefineownproperty)(A, "length", Desc).
2.  Let newLenDesc be a copy of Desc.
3.  Let newLen be ? [ToUint32](https://262.ecma-international.org/12.0/#sec-touint32)(Desc.\[\[Value\]\]).
4.  Let numberLen be ? [ToNumber](https://262.ecma-international.org/12.0/#sec-tonumber)(Desc.\[\[Value\]\]).
5.  If newLen is not the same value as numberLen, throw a RangeError exception.
6.  Set newLenDesc.\[\[Value\]\] to newLen.
7.  Let oldLenDesc be [OrdinaryGetOwnProperty](https://262.ecma-international.org/12.0/#sec-ordinarygetownproperty)(A, "length").
8.  [Assert](https://262.ecma-international.org/12.0/#assert): ! [IsDataDescriptor](https://262.ecma-international.org/12.0/#sec-isdatadescriptor)(oldLenDesc) is true.
9.  [Assert](https://262.ecma-international.org/12.0/#assert): oldLenDesc.\[\[Configurable\]\] is false.
10.  Let oldLen be oldLenDesc.\[\[Value\]\].
11.  If newLen ≥ oldLen, then
    1.  Return [OrdinaryDefineOwnProperty](https://262.ecma-international.org/12.0/#sec-ordinarydefineownproperty)(A, "length", newLenDesc).
12.  If oldLenDesc.\[\[Writable\]\] is false, return false.
13.  If newLenDesc.\[\[Writable\]\] is absent or has the value true, let newWritable be true.
14.  Else,
    1.  NOTE: Setting the \[\[Writable\]\] attribute to false is deferred in case any elements cannot be deleted.
    2.  Let newWritable be false.
    3.  Set newLenDesc.\[\[Writable\]\] to true.
15.  Let succeeded be ! [OrdinaryDefineOwnProperty](https://262.ecma-international.org/12.0/#sec-ordinarydefineownproperty)(A, "length", newLenDesc).
16.  If succeeded is false, return false.
17.  For each own property key P of A that is an [array index](https://262.ecma-international.org/12.0/#array-index), whose numeric value is greater than or equal to newLen, in descending numeric index order, do
    1.  Let deleteSucceeded be ! A.\[\[Delete\]\](P).
    2.  If deleteSucceeded is false, then
        1.  Set newLenDesc.\[\[Value\]\] to ! [ToUint32](https://262.ecma-international.org/12.0/#sec-touint32)(P) + 1𝔽.
        2.  If newWritable is false, set newLenDesc.\[\[Writable\]\] to false.
        3.  Perform ! [OrdinaryDefineOwnProperty](https://262.ecma-international.org/12.0/#sec-ordinarydefineownproperty)(A, "length", newLenDesc).
        4.  Return false.
18.  If newWritable is false, then
    1.  Let succeeded be ! [OrdinaryDefineOwnProperty](https://262.ecma-international.org/12.0/#sec-ordinarydefineownproperty)(A, "length", PropertyDescriptor { \[\[Writable\]\]: false }).
    2.  [Assert](https://262.ecma-international.org/12.0/#assert): succeeded is true.
19.  Return true.

Note

In steps [3](https://262.ecma-international.org/12.0/#step-arraysetlength-newlen) and [4](https://262.ecma-international.org/12.0/#step-arraysetlength-numberlen), if Desc.\[\[Value\]\] is an object then its `valueOf` method is called twice. This is legacy behaviour that was specified with this effect starting with the 2nd Edition of this specification.

## 10.4.3 String Exotic Objects

A String object is an [exotic object](https://262.ecma-international.org/12.0/#exotic-object) that encapsulates a String value and exposes virtual [integer](https://262.ecma-international.org/12.0/#integer)\-indexed data properties corresponding to the individual code unit elements of the String value. String exotic objects always have a [data property](https://262.ecma-international.org/12.0/#sec-object-type) named "length" whose value is the number of code unit elements in the encapsulated String value. Both the code unit data properties and the "length" property are non-writable and non-configurable.

An object is a String exotic object (or simply, a String object) if its \[\[GetOwnProperty\]\], \[\[DefineOwnProperty\]\], and \[\[OwnPropertyKeys\]\] internal methods use the following implementations, and its other essential internal methods use the definitions found in [10.1](https://262.ecma-international.org/12.0/#sec-ordinary-object-internal-methods-and-internal-slots). These methods are installed in [StringCreate](https://262.ecma-international.org/12.0/#sec-stringcreate).

String exotic objects have the same internal slots as ordinary objects. They also have a \[\[StringData\]\] internal slot.

## 10.4.3.1 \[\[GetOwnProperty\]\] ( P )

The \[\[GetOwnProperty\]\] internal method of a [String exotic object](https://262.ecma-international.org/12.0/#string-exotic-object) S takes argument P (a property key). It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): [IsPropertyKey](https://262.ecma-international.org/12.0/#sec-ispropertykey)(P) is true.
2.  Let desc be [OrdinaryGetOwnProperty](https://262.ecma-international.org/12.0/#sec-ordinarygetownproperty)(S, P).
3.  If desc is not undefined, return desc.
4.  Return ! [StringGetOwnProperty](https://262.ecma-international.org/12.0/#sec-stringgetownproperty)(S, P).

## 10.4.3.2 \[\[DefineOwnProperty\]\] ( P, Desc )

The \[\[DefineOwnProperty\]\] internal method of a [String exotic object](https://262.ecma-international.org/12.0/#string-exotic-object) S takes arguments P (a property key) and Desc (a [Property Descriptor](https://262.ecma-international.org/12.0/#sec-property-descriptor-specification-type)). It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): [IsPropertyKey](https://262.ecma-international.org/12.0/#sec-ispropertykey)(P) is true.
2.  Let stringDesc be ! [StringGetOwnProperty](https://262.ecma-international.org/12.0/#sec-stringgetownproperty)(S, P).
3.  If stringDesc is not undefined, then
    1.  Let extensible be S.\[\[Extensible\]\].
    2.  Return ! [IsCompatiblePropertyDescriptor](https://262.ecma-international.org/12.0/#sec-iscompatiblepropertydescriptor)(extensible, Desc, stringDesc).
4.  Return ! [OrdinaryDefineOwnProperty](https://262.ecma-international.org/12.0/#sec-ordinarydefineownproperty)(S, P, Desc).

## 10.4.3.3 \[\[OwnPropertyKeys\]\] ( )

The \[\[OwnPropertyKeys\]\] internal method of a [String exotic object](https://262.ecma-international.org/12.0/#string-exotic-object) O takes no arguments. It performs the following steps when called:

1.  Let keys be a new empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).
2.  Let str be O.\[\[StringData\]\].
3.  [Assert](https://262.ecma-international.org/12.0/#assert): [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(str) is String.
4.  Let len be the length of str.
5.  For each [integer](https://262.ecma-international.org/12.0/#integer) i starting with 0 such that i < len, in ascending order, do
    1.  Add ! [ToString](https://262.ecma-international.org/12.0/#sec-tostring)([𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(i)) as the last element of keys.
6.  For each own property key P of O such that P is an [array index](https://262.ecma-international.org/12.0/#array-index) and ! [ToIntegerOrInfinity](https://262.ecma-international.org/12.0/#sec-tointegerorinfinity)(P) ≥ len, in ascending numeric index order, do
    1.  Add P as the last element of keys.
7.  For each own property key P of O such that [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(P) is String and P is not an [array index](https://262.ecma-international.org/12.0/#array-index), in ascending chronological order of property creation, do
    1.  Add P as the last element of keys.
8.  For each own property key P of O such that [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(P) is Symbol, in ascending chronological order of property creation, do
    1.  Add P as the last element of keys.
9.  Return keys.

## 10.4.3.4 StringCreate ( value, prototype )

The abstract operation StringCreate takes arguments value (a String) and prototype. It is used to specify the creation of new String exotic objects. It performs the following steps when called:

1.  Let S be ! [MakeBasicObject](https://262.ecma-international.org/12.0/#sec-makebasicobject)(« \[\[Prototype\]\], \[\[Extensible\]\], \[\[StringData\]\] »).
2.  Set S.\[\[Prototype\]\] to prototype.
3.  Set S.\[\[StringData\]\] to value.
4.  Set S.\[\[GetOwnProperty\]\] as specified in [10.4.3.1](https://262.ecma-international.org/12.0/#sec-string-exotic-objects-getownproperty-p).
5.  Set S.\[\[DefineOwnProperty\]\] as specified in [10.4.3.2](https://262.ecma-international.org/12.0/#sec-string-exotic-objects-defineownproperty-p-desc).
6.  Set S.\[\[OwnPropertyKeys\]\] as specified in [10.4.3.3](https://262.ecma-international.org/12.0/#sec-string-exotic-objects-ownpropertykeys).
7.  Let length be the number of code unit elements in value.
8.  Perform ! [DefinePropertyOrThrow](https://262.ecma-international.org/12.0/#sec-definepropertyorthrow)(S, "length", PropertyDescriptor { \[\[Value\]\]: [𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(length), \[\[Writable\]\]: false, \[\[Enumerable\]\]: false, \[\[Configurable\]\]: false }).
9.  Return S.

## 10.4.3.5 StringGetOwnProperty ( S, P )

The abstract operation StringGetOwnProperty takes arguments S and P. It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): S is an Object that has a \[\[StringData\]\] internal slot.
2.  [Assert](https://262.ecma-international.org/12.0/#assert): [IsPropertyKey](https://262.ecma-international.org/12.0/#sec-ispropertykey)(P) is true.
3.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(P) is not String, return undefined.
4.  Let index be ! [CanonicalNumericIndexString](https://262.ecma-international.org/12.0/#sec-canonicalnumericindexstring)(P).
5.  If index is undefined, return undefined.
6.  If [IsIntegralNumber](https://262.ecma-international.org/12.0/#sec-isintegralnumber)(index) is false, return undefined.
7.  If index is \-0𝔽, return undefined.
8.  Let str be S.\[\[StringData\]\].
9.  [Assert](https://262.ecma-international.org/12.0/#assert): [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(str) is String.
10.  Let len be the length of str.
11.  If [ℝ](https://262.ecma-international.org/12.0/#%E2%84%9D)(index) < 0 or len ≤ [ℝ](https://262.ecma-international.org/12.0/#%E2%84%9D)(index), return undefined.
12.  Let resultStr be the String value of length 1, containing one code unit from str, specifically the code unit at index [ℝ](https://262.ecma-international.org/12.0/#%E2%84%9D)(index).
13.  Return the PropertyDescriptor { \[\[Value\]\]: resultStr, \[\[Writable\]\]: false, \[\[Enumerable\]\]: true, \[\[Configurable\]\]: false }.

## 10.4.4 Arguments Exotic Objects

Most ECMAScript functions make an arguments object available to their code. Depending upon the characteristics of the function definition, its arguments object is either an [ordinary object](https://262.ecma-international.org/12.0/#ordinary-object) or an [arguments exotic object](https://262.ecma-international.org/12.0/#arguments-exotic-object). An [arguments exotic object](https://262.ecma-international.org/12.0/#arguments-exotic-object) is an [exotic object](https://262.ecma-international.org/12.0/#exotic-object) whose [array index](https://262.ecma-international.org/12.0/#array-index) properties map to the formal parameters bindings of an invocation of its associated ECMAScript function.

An object is an arguments exotic object if its internal methods use the following implementations, with the ones not specified here using those found in [10.1](https://262.ecma-international.org/12.0/#sec-ordinary-object-internal-methods-and-internal-slots). These methods are installed in [CreateMappedArgumentsObject](https://262.ecma-international.org/12.0/#sec-createmappedargumentsobject).

Note 1

While [CreateUnmappedArgumentsObject](https://262.ecma-international.org/12.0/#sec-createunmappedargumentsobject) is grouped into this clause, it creates an [ordinary object](https://262.ecma-international.org/12.0/#ordinary-object), not an [arguments exotic object](https://262.ecma-international.org/12.0/#arguments-exotic-object).

Arguments exotic objects have the same internal slots as ordinary objects. They also have a \[\[ParameterMap\]\] internal slot. Ordinary arguments objects also have a \[\[ParameterMap\]\] internal slot whose value is always undefined. For ordinary argument objects the \[\[ParameterMap\]\] internal slot is only used by `Object.prototype.toString` ([20.1.3.6](https://262.ecma-international.org/12.0/#sec-object.prototype.tostring)) to identify them as such.

Note 2

The [integer](https://262.ecma-international.org/12.0/#integer)\-indexed data properties of an [arguments exotic object](https://262.ecma-international.org/12.0/#arguments-exotic-object) whose numeric name values are less than the number of formal parameters of the corresponding [function object](https://262.ecma-international.org/12.0/#function-object) initially share their values with the corresponding argument bindings in the function's [execution context](https://262.ecma-international.org/12.0/#sec-execution-contexts). This means that changing the property changes the corresponding value of the argument binding and vice-versa. This correspondence is broken if such a property is deleted and then redefined or if the property is changed into an [accessor property](https://262.ecma-international.org/12.0/#sec-object-type). If the arguments object is an [ordinary object](https://262.ecma-international.org/12.0/#ordinary-object), the values of its properties are simply a copy of the arguments passed to the function and there is no dynamic linkage between the property values and the formal parameter values.

Note 3

The ParameterMap object and its property values are used as a device for specifying the arguments object correspondence to argument bindings. The ParameterMap object and the objects that are the values of its properties are not directly observable from ECMAScript code. An ECMAScript implementation does not need to actually create or use such objects to implement the specified semantics.

Note 4

Ordinary arguments objects define a non-configurable [accessor property](https://262.ecma-international.org/12.0/#sec-object-type) named "callee" which throws a TypeError exception on access. The "callee" property has a more specific meaning for arguments exotic objects, which are created only for some class of non-strict functions. The definition of this property in the ordinary variant exists to ensure that it is not defined in any other manner by conforming ECMAScript implementations.

Note 5

ECMAScript implementations of arguments exotic objects have historically contained an [accessor property](https://262.ecma-international.org/12.0/#sec-object-type) named "caller". Prior to ECMAScript 2017, this specification included the definition of a throwing "caller" property on ordinary arguments objects. Since implementations do not contain this extension any longer, ECMAScript 2017 dropped the requirement for a throwing "caller" accessor.

## 10.4.4.1 \[\[GetOwnProperty\]\] ( P )

The \[\[GetOwnProperty\]\] internal method of an [arguments exotic object](https://262.ecma-international.org/12.0/#arguments-exotic-object) args takes argument P (a property key). It performs the following steps when called:

1.  Let desc be [OrdinaryGetOwnProperty](https://262.ecma-international.org/12.0/#sec-ordinarygetownproperty)(args, P).
2.  If desc is undefined, return desc.
3.  Let map be args.\[\[ParameterMap\]\].
4.  Let isMapped be ! [HasOwnProperty](https://262.ecma-international.org/12.0/#sec-hasownproperty)(map, P).
5.  If isMapped is true, then
    1.  Set desc.\[\[Value\]\] to [Get](https://262.ecma-international.org/12.0/#sec-get-o-p)(map, P).
6.  Return desc.

## 10.4.4.2 \[\[DefineOwnProperty\]\] ( P, Desc )

The \[\[DefineOwnProperty\]\] internal method of an [arguments exotic object](https://262.ecma-international.org/12.0/#arguments-exotic-object) args takes arguments P (a property key) and Desc (a [Property Descriptor](https://262.ecma-international.org/12.0/#sec-property-descriptor-specification-type)). It performs the following steps when called:

1.  Let map be args.\[\[ParameterMap\]\].
2.  Let isMapped be [HasOwnProperty](https://262.ecma-international.org/12.0/#sec-hasownproperty)(map, P).
3.  Let newArgDesc be Desc.
4.  If isMapped is true and [IsDataDescriptor](https://262.ecma-international.org/12.0/#sec-isdatadescriptor)(Desc) is true, then
    1.  If Desc.\[\[Value\]\] is not present and Desc.\[\[Writable\]\] is present and its value is false, then
        1.  Set newArgDesc to a copy of Desc.
        2.  Set newArgDesc.\[\[Value\]\] to [Get](https://262.ecma-international.org/12.0/#sec-get-o-p)(map, P).
5.  Let allowed be ? [OrdinaryDefineOwnProperty](https://262.ecma-international.org/12.0/#sec-ordinarydefineownproperty)(args, P, newArgDesc).
6.  If allowed is false, return false.
7.  If isMapped is true, then
    1.  If [IsAccessorDescriptor](https://262.ecma-international.org/12.0/#sec-isaccessordescriptor)(Desc) is true, then
        1.  Call map.\[\[Delete\]\](P).
    2.  Else,
        1.  If Desc.\[\[Value\]\] is present, then
            1.  Let setStatus be [Set](https://262.ecma-international.org/12.0/#sec-set-o-p-v-throw)(map, P, Desc.\[\[Value\]\], false).
            2.  [Assert](https://262.ecma-international.org/12.0/#assert): setStatus is true because formal parameters mapped by argument objects are always writable.
        2.  If Desc.\[\[Writable\]\] is present and its value is false, then
            1.  Call map.\[\[Delete\]\](P).
8.  Return true.

## 10.4.4.3 \[\[Get\]\] ( P, Receiver )

The \[\[Get\]\] internal method of an [arguments exotic object](https://262.ecma-international.org/12.0/#arguments-exotic-object) args takes arguments P (a property key) and Receiver (an [ECMAScript language value](https://262.ecma-international.org/12.0/#sec-ecmascript-language-types)). It performs the following steps when called:

1.  Let map be args.\[\[ParameterMap\]\].
2.  Let isMapped be ! [HasOwnProperty](https://262.ecma-international.org/12.0/#sec-hasownproperty)(map, P).
3.  If isMapped is false, then
    1.  Return ? [OrdinaryGet](https://262.ecma-international.org/12.0/#sec-ordinaryget)(args, P, Receiver).
4.  Else,
    1.  [Assert](https://262.ecma-international.org/12.0/#assert): map contains a formal parameter mapping for P.
    2.  Return [Get](https://262.ecma-international.org/12.0/#sec-get-o-p)(map, P).

## 10.4.4.4 \[\[Set\]\] ( P, V, Receiver )

The \[\[Set\]\] internal method of an [arguments exotic object](https://262.ecma-international.org/12.0/#arguments-exotic-object) args takes arguments P (a property key), V (an [ECMAScript language value](https://262.ecma-international.org/12.0/#sec-ecmascript-language-types)), and Receiver (an [ECMAScript language value](https://262.ecma-international.org/12.0/#sec-ecmascript-language-types)). It performs the following steps when called:

1.  If [SameValue](https://262.ecma-international.org/12.0/#sec-samevalue)(args, Receiver) is false, then
    1.  Let isMapped be false.
2.  Else,
    1.  Let map be args.\[\[ParameterMap\]\].
    2.  Let isMapped be ! [HasOwnProperty](https://262.ecma-international.org/12.0/#sec-hasownproperty)(map, P).
3.  If isMapped is true, then
    1.  Let setStatus be [Set](https://262.ecma-international.org/12.0/#sec-set-o-p-v-throw)(map, P, V, false).
    2.  [Assert](https://262.ecma-international.org/12.0/#assert): setStatus is true because formal parameters mapped by argument objects are always writable.
4.  Return ? [OrdinarySet](https://262.ecma-international.org/12.0/#sec-ordinaryset)(args, P, V, Receiver).

## 10.4.4.5 \[\[Delete\]\] ( P )

The \[\[Delete\]\] internal method of an [arguments exotic object](https://262.ecma-international.org/12.0/#arguments-exotic-object) args takes argument P (a property key). It performs the following steps when called:

1.  Let map be args.\[\[ParameterMap\]\].
2.  Let isMapped be ! [HasOwnProperty](https://262.ecma-international.org/12.0/#sec-hasownproperty)(map, P).
3.  Let result be ? [OrdinaryDelete](https://262.ecma-international.org/12.0/#sec-ordinarydelete)(args, P).
4.  If result is true and isMapped is true, then
    1.  Call map.\[\[Delete\]\](P).
5.  Return result.

## 10.4.4.6 CreateUnmappedArgumentsObject ( argumentsList )

The abstract operation CreateUnmappedArgumentsObject takes argument argumentsList. It performs the following steps when called:

1.  Let len be the number of elements in argumentsList.
2.  Let obj be ! [OrdinaryObjectCreate](https://262.ecma-international.org/12.0/#sec-ordinaryobjectcreate)([%Object.prototype%](https://262.ecma-international.org/12.0/#sec-properties-of-the-object-prototype-object), « \[\[ParameterMap\]\] »).
3.  Set obj.\[\[ParameterMap\]\] to undefined.
4.  Perform [DefinePropertyOrThrow](https://262.ecma-international.org/12.0/#sec-definepropertyorthrow)(obj, "length", PropertyDescriptor { \[\[Value\]\]: [𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(len), \[\[Writable\]\]: true, \[\[Enumerable\]\]: false, \[\[Configurable\]\]: true }).
5.  Let index be 0.
6.  Repeat, while index < len,
    1.  Let val be argumentsList\[index\].
    2.  Perform ! [CreateDataPropertyOrThrow](https://262.ecma-international.org/12.0/#sec-createdatapropertyorthrow)(obj, ! [ToString](https://262.ecma-international.org/12.0/#sec-tostring)([𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(index)), val).
    3.  Set index to index + 1.
7.  Perform ! [DefinePropertyOrThrow](https://262.ecma-international.org/12.0/#sec-definepropertyorthrow)(obj, [@@iterator](https://262.ecma-international.org/12.0/#sec-well-known-symbols), PropertyDescriptor { \[\[Value\]\]: %Array.prototype.values%, \[\[Writable\]\]: true, \[\[Enumerable\]\]: false, \[\[Configurable\]\]: true }).
8.  Perform ! [DefinePropertyOrThrow](https://262.ecma-international.org/12.0/#sec-definepropertyorthrow)(obj, "callee", PropertyDescriptor { \[\[Get\]\]: [%ThrowTypeError%](https://262.ecma-international.org/12.0/#sec-%throwtypeerror%), \[\[Set\]\]: [%ThrowTypeError%](https://262.ecma-international.org/12.0/#sec-%throwtypeerror%), \[\[Enumerable\]\]: false, \[\[Configurable\]\]: false }).
9.  Return obj.

## 10.4.4.7 CreateMappedArgumentsObject ( func, formals, argumentsList, env )

The abstract operation CreateMappedArgumentsObject takes arguments func (an Object), formals (a [Parse Node](https://262.ecma-international.org/12.0/#sec-syntactic-grammar)), argumentsList (a [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type)), and env (an [Environment Record](https://262.ecma-international.org/12.0/#sec-environment-records)). It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): formals does not contain a rest parameter, any binding patterns, or any initializers. It may contain duplicate identifiers.
2.  Let len be the number of elements in argumentsList.
3.  Let obj be ! [MakeBasicObject](https://262.ecma-international.org/12.0/#sec-makebasicobject)(« \[\[Prototype\]\], \[\[Extensible\]\], \[\[ParameterMap\]\] »).
4.  Set obj.\[\[GetOwnProperty\]\] as specified in [10.4.4.1](https://262.ecma-international.org/12.0/#sec-arguments-exotic-objects-getownproperty-p).
5.  Set obj.\[\[DefineOwnProperty\]\] as specified in [10.4.4.2](https://262.ecma-international.org/12.0/#sec-arguments-exotic-objects-defineownproperty-p-desc).
6.  Set obj.\[\[Get\]\] as specified in [10.4.4.3](https://262.ecma-international.org/12.0/#sec-arguments-exotic-objects-get-p-receiver).
7.  Set obj.\[\[Set\]\] as specified in [10.4.4.4](https://262.ecma-international.org/12.0/#sec-arguments-exotic-objects-set-p-v-receiver).
8.  Set obj.\[\[Delete\]\] as specified in [10.4.4.5](https://262.ecma-international.org/12.0/#sec-arguments-exotic-objects-delete-p).
9.  Set obj.\[\[Prototype\]\] to [%Object.prototype%](https://262.ecma-international.org/12.0/#sec-properties-of-the-object-prototype-object).
10.  Let map be ! [OrdinaryObjectCreate](https://262.ecma-international.org/12.0/#sec-ordinaryobjectcreate)(null).
11.  Set obj.\[\[ParameterMap\]\] to map.
12.  Let parameterNames be the [BoundNames](https://262.ecma-international.org/12.0/#sec-static-semantics-boundnames) of formals.
13.  Let numberOfParameters be the number of elements in parameterNames.
14.  Let index be 0.
15.  Repeat, while index < len,
    1.  Let val be argumentsList\[index\].
    2.  Perform ! [CreateDataPropertyOrThrow](https://262.ecma-international.org/12.0/#sec-createdatapropertyorthrow)(obj, ! [ToString](https://262.ecma-international.org/12.0/#sec-tostring)([𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(index)), val).
    3.  Set index to index + 1.
16.  Perform ! [DefinePropertyOrThrow](https://262.ecma-international.org/12.0/#sec-definepropertyorthrow)(obj, "length", PropertyDescriptor { \[\[Value\]\]: [𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(len), \[\[Writable\]\]: true, \[\[Enumerable\]\]: false, \[\[Configurable\]\]: true }).
17.  Let mappedNames be a new empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).
18.  Let index be numberOfParameters - 1.
19.  Repeat, while index ≥ 0,
    1.  Let name be parameterNames\[index\].
    2.  If name is not an element of mappedNames, then
        1.  Add name as an element of the list mappedNames.
        2.  If index < len, then
            1.  Let g be [MakeArgGetter](https://262.ecma-international.org/12.0/#sec-makearggetter)(name, env).
            2.  Let p be [MakeArgSetter](https://262.ecma-international.org/12.0/#sec-makeargsetter)(name, env).
            3.  Perform map.\[\[DefineOwnProperty\]\](! [ToString](https://262.ecma-international.org/12.0/#sec-tostring)([𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(index)), PropertyDescriptor { \[\[Set\]\]: p, \[\[Get\]\]: g, \[\[Enumerable\]\]: false, \[\[Configurable\]\]: true }).
    3.  Set index to index - 1.
20.  Perform ! [DefinePropertyOrThrow](https://262.ecma-international.org/12.0/#sec-definepropertyorthrow)(obj, [@@iterator](https://262.ecma-international.org/12.0/#sec-well-known-symbols), PropertyDescriptor { \[\[Value\]\]: %Array.prototype.values%, \[\[Writable\]\]: true, \[\[Enumerable\]\]: false, \[\[Configurable\]\]: true }).
21.  Perform ! [DefinePropertyOrThrow](https://262.ecma-international.org/12.0/#sec-definepropertyorthrow)(obj, "callee", PropertyDescriptor { \[\[Value\]\]: func, \[\[Writable\]\]: true, \[\[Enumerable\]\]: false, \[\[Configurable\]\]: true }).
22.  Return obj.

## 10.4.4.7.1 MakeArgGetter ( name, env )

The abstract operation MakeArgGetter takes arguments name (a String) and env (an [Environment Record](https://262.ecma-international.org/12.0/#sec-environment-records)). It creates a built-in [function object](https://262.ecma-international.org/12.0/#function-object) that when executed returns the value bound for name in env. It performs the following steps when called:

1.  Let steps be the steps of an ArgGetter function as specified below.
2.  Let length be the number of non-optional parameters of an ArgGetter function as specified below.
3.  Let getter be ! [CreateBuiltinFunction](https://262.ecma-international.org/12.0/#sec-createbuiltinfunction)(steps, length, "", « \[\[Name\]\], \[\[Env\]\] »).
4.  Set getter.\[\[Name\]\] to name.
5.  Set getter.\[\[Env\]\] to env.
6.  Return getter.

An ArgGetter function is an anonymous built-in function with \[\[Name\]\] and \[\[Env\]\] internal slots. When an ArgGetter function that expects no arguments is called it performs the following steps:

1.  Let f be the [active function object](https://262.ecma-international.org/12.0/#active-function-object).
2.  Let name be f.\[\[Name\]\].
3.  Let env be f.\[\[Env\]\].
4.  Return env.GetBindingValue(name, false).

Note

ArgGetter functions are never directly accessible to ECMAScript code.

## 10.4.4.7.2 MakeArgSetter ( name, env )

The abstract operation MakeArgSetter takes arguments name (a String) and env (an [Environment Record](https://262.ecma-international.org/12.0/#sec-environment-records)). It creates a built-in [function object](https://262.ecma-international.org/12.0/#function-object) that when executed sets the value bound for name in env. It performs the following steps when called:

1.  Let steps be the steps of an ArgSetter function as specified below.
2.  Let length be the number of non-optional parameters of an ArgSetter function as specified below.
3.  Let setter be ! [CreateBuiltinFunction](https://262.ecma-international.org/12.0/#sec-createbuiltinfunction)(steps, length, "", « \[\[Name\]\], \[\[Env\]\] »).
4.  Set setter.\[\[Name\]\] to name.
5.  Set setter.\[\[Env\]\] to env.
6.  Return setter.

An ArgSetter function is an anonymous built-in function with \[\[Name\]\] and \[\[Env\]\] internal slots. When an ArgSetter function is called with argument value it performs the following steps:

1.  Let f be the [active function object](https://262.ecma-international.org/12.0/#active-function-object).
2.  Let name be f.\[\[Name\]\].
3.  Let env be f.\[\[Env\]\].
4.  Return env.SetMutableBinding(name, value, false).

Note

ArgSetter functions are never directly accessible to ECMAScript code.

## 10.4.5 Integer-Indexed Exotic Objects

An [Integer-Indexed exotic object](https://262.ecma-international.org/12.0/#integer-indexed-exotic-object) is an [exotic object](https://262.ecma-international.org/12.0/#exotic-object) that performs special handling of [integer index](https://262.ecma-international.org/12.0/#integer-index) property keys.

[Integer-Indexed exotic objects](https://262.ecma-international.org/12.0/#integer-indexed-exotic-object) have the same internal slots as ordinary objects and additionally \[\[ViewedArrayBuffer\]\], \[\[ArrayLength\]\], \[\[ByteOffset\]\], \[\[ContentType\]\], and \[\[TypedArrayName\]\] internal slots.

An object is an Integer-Indexed exotic object if its \[\[GetOwnProperty\]\], \[\[HasProperty\]\], \[\[DefineOwnProperty\]\], \[\[Get\]\], \[\[Set\]\], \[\[Delete\]\], and \[\[OwnPropertyKeys\]\] internal methods use the definitions in this section, and its other essential internal methods use the definitions found in [10.1](https://262.ecma-international.org/12.0/#sec-ordinary-object-internal-methods-and-internal-slots). These methods are installed by [IntegerIndexedObjectCreate](https://262.ecma-international.org/12.0/#sec-integerindexedobjectcreate).

## 10.4.5.1 \[\[GetOwnProperty\]\] ( P )

The \[\[GetOwnProperty\]\] internal method of an [Integer-Indexed exotic object](https://262.ecma-international.org/12.0/#integer-indexed-exotic-object) O takes argument P (a property key). It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): [IsPropertyKey](https://262.ecma-international.org/12.0/#sec-ispropertykey)(P) is true.
2.  [Assert](https://262.ecma-international.org/12.0/#assert): O is an [Integer-Indexed exotic object](https://262.ecma-international.org/12.0/#integer-indexed-exotic-object).
3.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(P) is String, then
    1.  Let numericIndex be ! [CanonicalNumericIndexString](https://262.ecma-international.org/12.0/#sec-canonicalnumericindexstring)(P).
    2.  If numericIndex is not undefined, then
        1.  Let value be ! [IntegerIndexedElementGet](https://262.ecma-international.org/12.0/#sec-integerindexedelementget)(O, numericIndex).
        2.  If value is undefined, return undefined.
        3.  Return the PropertyDescriptor { \[\[Value\]\]: value, \[\[Writable\]\]: true, \[\[Enumerable\]\]: true, \[\[Configurable\]\]: true }.
4.  Return [OrdinaryGetOwnProperty](https://262.ecma-international.org/12.0/#sec-ordinarygetownproperty)(O, P).

## 10.4.5.2 \[\[HasProperty\]\] ( P )

The \[\[HasProperty\]\] internal method of an [Integer-Indexed exotic object](https://262.ecma-international.org/12.0/#integer-indexed-exotic-object) O takes argument P (a property key). It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): [IsPropertyKey](https://262.ecma-international.org/12.0/#sec-ispropertykey)(P) is true.
2.  [Assert](https://262.ecma-international.org/12.0/#assert): O is an [Integer-Indexed exotic object](https://262.ecma-international.org/12.0/#integer-indexed-exotic-object).
3.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(P) is String, then
    1.  Let numericIndex be ! [CanonicalNumericIndexString](https://262.ecma-international.org/12.0/#sec-canonicalnumericindexstring)(P).
    2.  If numericIndex is not undefined, return ! [IsValidIntegerIndex](https://262.ecma-international.org/12.0/#sec-isvalidintegerindex)(O, numericIndex).
4.  Return ? [OrdinaryHasProperty](https://262.ecma-international.org/12.0/#sec-ordinaryhasproperty)(O, P).

## 10.4.5.3 \[\[DefineOwnProperty\]\] ( P, Desc )

The \[\[DefineOwnProperty\]\] internal method of an [Integer-Indexed exotic object](https://262.ecma-international.org/12.0/#integer-indexed-exotic-object) O takes arguments P (a property key) and Desc (a [Property Descriptor](https://262.ecma-international.org/12.0/#sec-property-descriptor-specification-type)). It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): [IsPropertyKey](https://262.ecma-international.org/12.0/#sec-ispropertykey)(P) is true.
2.  [Assert](https://262.ecma-international.org/12.0/#assert): O is an [Integer-Indexed exotic object](https://262.ecma-international.org/12.0/#integer-indexed-exotic-object).
3.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(P) is String, then
    1.  Let numericIndex be ! [CanonicalNumericIndexString](https://262.ecma-international.org/12.0/#sec-canonicalnumericindexstring)(P).
    2.  If numericIndex is not undefined, then
        1.  If ! [IsValidIntegerIndex](https://262.ecma-international.org/12.0/#sec-isvalidintegerindex)(O, numericIndex) is false, return false.
        2.  If Desc has a \[\[Configurable\]\] field and if Desc.\[\[Configurable\]\] is false, return false.
        3.  If Desc has an \[\[Enumerable\]\] field and if Desc.\[\[Enumerable\]\] is false, return false.
        4.  If ! [IsAccessorDescriptor](https://262.ecma-international.org/12.0/#sec-isaccessordescriptor)(Desc) is true, return false.
        5.  If Desc has a \[\[Writable\]\] field and if Desc.\[\[Writable\]\] is false, return false.
        6.  If Desc has a \[\[Value\]\] field, perform ? [IntegerIndexedElementSet](https://262.ecma-international.org/12.0/#sec-integerindexedelementset)(O, numericIndex, Desc.\[\[Value\]\]).
        7.  Return true.
4.  Return ! [OrdinaryDefineOwnProperty](https://262.ecma-international.org/12.0/#sec-ordinarydefineownproperty)(O, P, Desc).

## 10.4.5.4 \[\[Get\]\] ( P, Receiver )

The \[\[Get\]\] internal method of an [Integer-Indexed exotic object](https://262.ecma-international.org/12.0/#integer-indexed-exotic-object) O takes arguments P (a property key) and Receiver (an [ECMAScript language value](https://262.ecma-international.org/12.0/#sec-ecmascript-language-types)). It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): [IsPropertyKey](https://262.ecma-international.org/12.0/#sec-ispropertykey)(P) is true.
2.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(P) is String, then
    1.  Let numericIndex be ! [CanonicalNumericIndexString](https://262.ecma-international.org/12.0/#sec-canonicalnumericindexstring)(P).
    2.  If numericIndex is not undefined, then
        1.  Return ! [IntegerIndexedElementGet](https://262.ecma-international.org/12.0/#sec-integerindexedelementget)(O, numericIndex).
3.  Return ? [OrdinaryGet](https://262.ecma-international.org/12.0/#sec-ordinaryget)(O, P, Receiver).

## 10.4.5.5 \[\[Set\]\] ( P, V, Receiver )

The \[\[Set\]\] internal method of an [Integer-Indexed exotic object](https://262.ecma-international.org/12.0/#integer-indexed-exotic-object) O takes arguments P (a property key), V (an [ECMAScript language value](https://262.ecma-international.org/12.0/#sec-ecmascript-language-types)), and Receiver (an [ECMAScript language value](https://262.ecma-international.org/12.0/#sec-ecmascript-language-types)). It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): [IsPropertyKey](https://262.ecma-international.org/12.0/#sec-ispropertykey)(P) is true.
2.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(P) is String, then
    1.  Let numericIndex be ! [CanonicalNumericIndexString](https://262.ecma-international.org/12.0/#sec-canonicalnumericindexstring)(P).
    2.  If numericIndex is not undefined, then
        1.  Perform ? [IntegerIndexedElementSet](https://262.ecma-international.org/12.0/#sec-integerindexedelementset)(O, numericIndex, V).
        2.  Return true.
3.  Return ? [OrdinarySet](https://262.ecma-international.org/12.0/#sec-ordinaryset)(O, P, V, Receiver).

## 10.4.5.6 \[\[Delete\]\] ( P )

The \[\[Delete\]\] internal method of an [Integer-Indexed exotic object](https://262.ecma-international.org/12.0/#integer-indexed-exotic-object) O takes arguments P (a property key). It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): [IsPropertyKey](https://262.ecma-international.org/12.0/#sec-ispropertykey)(P) is true.
2.  [Assert](https://262.ecma-international.org/12.0/#assert): O is an [Integer-Indexed exotic object](https://262.ecma-international.org/12.0/#integer-indexed-exotic-object).
3.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(P) is String, then
    1.  Let numericIndex be ! [CanonicalNumericIndexString](https://262.ecma-international.org/12.0/#sec-canonicalnumericindexstring)(P).
    2.  If numericIndex is not undefined, then
        1.  If ! [IsValidIntegerIndex](https://262.ecma-international.org/12.0/#sec-isvalidintegerindex)(O, numericIndex) is false, return true; else return false.
4.  Return ? [OrdinaryDelete](https://262.ecma-international.org/12.0/#sec-ordinarydelete)(O, P).

## 10.4.5.7 \[\[OwnPropertyKeys\]\] ( )

The \[\[OwnPropertyKeys\]\] internal method of an [Integer-Indexed exotic object](https://262.ecma-international.org/12.0/#integer-indexed-exotic-object) O takes no arguments. It performs the following steps when called:

1.  Let keys be a new empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).
2.  [Assert](https://262.ecma-international.org/12.0/#assert): O is an [Integer-Indexed exotic object](https://262.ecma-international.org/12.0/#integer-indexed-exotic-object).
3.  If [IsDetachedBuffer](https://262.ecma-international.org/12.0/#sec-isdetachedbuffer)(O.\[\[ViewedArrayBuffer\]\]) is false, then
    1.  For each [integer](https://262.ecma-international.org/12.0/#integer) i starting with 0 such that i < O.\[\[ArrayLength\]\], in ascending order, do
        1.  Add ! [ToString](https://262.ecma-international.org/12.0/#sec-tostring)([𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(i)) as the last element of keys.
4.  For each own property key P of O such that [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(P) is String and P is not an [integer index](https://262.ecma-international.org/12.0/#integer-index), in ascending chronological order of property creation, do
    1.  Add P as the last element of keys.
5.  For each own property key P of O such that [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(P) is Symbol, in ascending chronological order of property creation, do
    1.  Add P as the last element of keys.
6.  Return keys.

## 10.4.5.8 IntegerIndexedObjectCreate ( prototype )

The abstract operation IntegerIndexedObjectCreate takes argument prototype. It is used to specify the creation of new [Integer-Indexed exotic objects](https://262.ecma-international.org/12.0/#integer-indexed-exotic-object). It performs the following steps when called:

1.  Let internalSlotsList be « \[\[Prototype\]\], \[\[Extensible\]\], \[\[ViewedArrayBuffer\]\], \[\[TypedArrayName\]\], \[\[ContentType\]\], \[\[ByteLength\]\], \[\[ByteOffset\]\], \[\[ArrayLength\]\] ».
2.  Let A be ! [MakeBasicObject](https://262.ecma-international.org/12.0/#sec-makebasicobject)(internalSlotsList).
3.  Set A.\[\[GetOwnProperty\]\] as specified in [10.4.5.1](https://262.ecma-international.org/12.0/#sec-integer-indexed-exotic-objects-getownproperty-p).
4.  Set A.\[\[HasProperty\]\] as specified in [10.4.5.2](https://262.ecma-international.org/12.0/#sec-integer-indexed-exotic-objects-hasproperty-p).
5.  Set A.\[\[DefineOwnProperty\]\] as specified in [10.4.5.3](https://262.ecma-international.org/12.0/#sec-integer-indexed-exotic-objects-defineownproperty-p-desc).
6.  Set A.\[\[Get\]\] as specified in [10.4.5.4](https://262.ecma-international.org/12.0/#sec-integer-indexed-exotic-objects-get-p-receiver).
7.  Set A.\[\[Set\]\] as specified in [10.4.5.5](https://262.ecma-international.org/12.0/#sec-integer-indexed-exotic-objects-set-p-v-receiver).
8.  Set A.\[\[Delete\]\] as specified in [10.4.5.6](https://262.ecma-international.org/12.0/#sec-integer-indexed-exotic-objects-delete-p).
9.  Set A.\[\[OwnPropertyKeys\]\] as specified in [10.4.5.7](https://262.ecma-international.org/12.0/#sec-integer-indexed-exotic-objects-ownpropertykeys).
10.  Set A.\[\[Prototype\]\] to prototype.
11.  Return A.

## 10.4.5.9 IsValidIntegerIndex ( O, index )

The abstract operation IsValidIntegerIndex takes arguments O and index (a Number). It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): O is an [Integer-Indexed exotic object](https://262.ecma-international.org/12.0/#integer-indexed-exotic-object).
2.  If [IsDetachedBuffer](https://262.ecma-international.org/12.0/#sec-isdetachedbuffer)(O.\[\[ViewedArrayBuffer\]\]) is true, return false.
3.  If ! [IsIntegralNumber](https://262.ecma-international.org/12.0/#sec-isintegralnumber)(index) is false, return false.
4.  If index is \-0𝔽, return false.
5.  If [ℝ](https://262.ecma-international.org/12.0/#%E2%84%9D)(index) < 0 or [ℝ](https://262.ecma-international.org/12.0/#%E2%84%9D)(index) ≥ O.\[\[ArrayLength\]\], return false.
6.  Return true.

## 10.4.5.10 IntegerIndexedElementGet ( O, index )

The abstract operation IntegerIndexedElementGet takes arguments O and index (a Number). It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): O is an [Integer-Indexed exotic object](https://262.ecma-international.org/12.0/#integer-indexed-exotic-object).
2.  If ! [IsValidIntegerIndex](https://262.ecma-international.org/12.0/#sec-isvalidintegerindex)(O, index) is false, return undefined.
3.  Let offset be O.\[\[ByteOffset\]\].
4.  Let arrayTypeName be the String value of O.\[\[TypedArrayName\]\].
5.  Let elementSize be the Element Size value specified in [Table 60](https://262.ecma-international.org/12.0/#table-the-typedarray-constructors) for arrayTypeName.
6.  Let indexedPosition be ([ℝ](https://262.ecma-international.org/12.0/#%E2%84%9D)(index) × elementSize) + offset.
7.  Let elementType be the Element Type value in [Table 60](https://262.ecma-international.org/12.0/#table-the-typedarray-constructors) for arrayTypeName.
8.  Return [GetValueFromBuffer](https://262.ecma-international.org/12.0/#sec-getvaluefrombuffer)(O.\[\[ViewedArrayBuffer\]\], indexedPosition, elementType, true, Unordered).

## 10.4.5.11 IntegerIndexedElementSet ( O, index, value )

The abstract operation IntegerIndexedElementSet takes arguments O, index (a Number), and value. It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): O is an [Integer-Indexed exotic object](https://262.ecma-international.org/12.0/#integer-indexed-exotic-object).
2.  If O.\[\[ContentType\]\] is BigInt, let numValue be ? [ToBigInt](https://262.ecma-international.org/12.0/#sec-tobigint)(value).
3.  Otherwise, let numValue be ? [ToNumber](https://262.ecma-international.org/12.0/#sec-tonumber)(value).
4.  If ! [IsValidIntegerIndex](https://262.ecma-international.org/12.0/#sec-isvalidintegerindex)(O, index) is true, then
    1.  Let offset be O.\[\[ByteOffset\]\].
    2.  Let arrayTypeName be the String value of O.\[\[TypedArrayName\]\].
    3.  Let elementSize be the Element Size value specified in [Table 60](https://262.ecma-international.org/12.0/#table-the-typedarray-constructors) for arrayTypeName.
    4.  Let indexedPosition be ([ℝ](https://262.ecma-international.org/12.0/#%E2%84%9D)(index) × elementSize) + offset.
    5.  Let elementType be the Element Type value in [Table 60](https://262.ecma-international.org/12.0/#table-the-typedarray-constructors) for arrayTypeName.
    6.  Perform [SetValueInBuffer](https://262.ecma-international.org/12.0/#sec-setvalueinbuffer)(O.\[\[ViewedArrayBuffer\]\], indexedPosition, elementType, numValue, true, Unordered).
5.  Return [NormalCompletion](https://262.ecma-international.org/12.0/#sec-normalcompletion)(undefined).

Note

This operation always appears to succeed, but it has no effect when attempting to write past the end of a TypedArray or to a TypedArray which is backed by a detached ArrayBuffer.

## 10.4.6 Module Namespace Exotic Objects

A [module namespace exotic object](https://262.ecma-international.org/12.0/#module-namespace-exotic-object) is an [exotic object](https://262.ecma-international.org/12.0/#exotic-object) that exposes the bindings exported from an ECMAScript [Module](https://262.ecma-international.org/12.0/#prod-Module) (See [16.2.3](https://262.ecma-international.org/12.0/#sec-exports)). There is a one-to-one correspondence between the String-keyed own properties of a [module namespace exotic object](https://262.ecma-international.org/12.0/#module-namespace-exotic-object) and the binding names exported by the [Module](https://262.ecma-international.org/12.0/#prod-Module). The exported bindings include any bindings that are indirectly exported using `export *` export items. Each String-valued own property key is the [StringValue](https://262.ecma-international.org/12.0/#sec-static-semantics-stringvalue) of the corresponding exported binding name. These are the only String-keyed properties of a [module namespace exotic object](https://262.ecma-international.org/12.0/#module-namespace-exotic-object). Each such property has the attributes { \[\[Writable\]\]: true, \[\[Enumerable\]\]: true, \[\[Configurable\]\]: false }. Module namespace exotic objects are not extensible.

An object is a module namespace exotic object if its \[\[SetPrototypeOf\]\], \[\[IsExtensible\]\], \[\[PreventExtensions\]\], \[\[GetOwnProperty\]\], \[\[DefineOwnProperty\]\], \[\[HasProperty\]\], \[\[Get\]\], \[\[Set\]\], \[\[Delete\]\], and \[\[OwnPropertyKeys\]\] internal methods use the definitions in this section, and its other essential internal methods use the definitions found in [10.1](https://262.ecma-international.org/12.0/#sec-ordinary-object-internal-methods-and-internal-slots). These methods are installed by [ModuleNamespaceCreate](https://262.ecma-international.org/12.0/#sec-modulenamespacecreate).

Module namespace exotic objects have the internal slots defined in [Table 31](https://262.ecma-international.org/12.0/#table-internal-slots-of-module-namespace-exotic-objects).

Table 31: Internal Slots of Module Namespace Exotic Objects

| Internal Slot | Type | Description |
| --- | --- | --- |
| \[\[Module\]\] | [Module Record](https://262.ecma-international.org/12.0/#sec-abstract-module-records) | The [Module Record](https://262.ecma-international.org/12.0/#sec-abstract-module-records) whose exports this namespace exposes. |
| \[\[Exports\]\] | [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) of String | A [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) whose elements are the String values of the exported names exposed as own properties of this object. The list is ordered as if an Array of those String values had been sorted using %Array.prototype.sort% using undefined as comparefn. |
| \[\[Prototype\]\] | Null | This slot always contains the value null (see [10.4.6.1](https://262.ecma-international.org/12.0/#sec-module-namespace-exotic-objects-setprototypeof-v)). |

Module namespace exotic objects provide alternative definitions for all of the internal methods except \[\[GetPrototypeOf\]\], which behaves as defined in [10.1.1](https://262.ecma-international.org/12.0/#sec-ordinary-object-internal-methods-and-internal-slots-getprototypeof).

## 10.4.6.1 \[\[SetPrototypeOf\]\] ( V )

The \[\[SetPrototypeOf\]\] internal method of a [module namespace exotic object](https://262.ecma-international.org/12.0/#module-namespace-exotic-object) O takes argument V (an Object or null). It performs the following steps when called:

1.  Return ? [SetImmutablePrototype](https://262.ecma-international.org/12.0/#sec-set-immutable-prototype)(O, V).

## 10.4.6.2 \[\[IsExtensible\]\] ( )

The \[\[IsExtensible\]\] internal method of a [module namespace exotic object](https://262.ecma-international.org/12.0/#module-namespace-exotic-object) takes no arguments. It performs the following steps when called:

1.  Return false.

## 10.4.6.3 \[\[PreventExtensions\]\] ( )

The \[\[PreventExtensions\]\] internal method of a [module namespace exotic object](https://262.ecma-international.org/12.0/#module-namespace-exotic-object) takes no arguments. It performs the following steps when called:

1.  Return true.

## 10.4.6.4 \[\[GetOwnProperty\]\] ( P )

The \[\[GetOwnProperty\]\] internal method of a [module namespace exotic object](https://262.ecma-international.org/12.0/#module-namespace-exotic-object) O takes argument P (a property key). It performs the following steps when called:

1.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(P) is Symbol, return [OrdinaryGetOwnProperty](https://262.ecma-international.org/12.0/#sec-ordinarygetownproperty)(O, P).
2.  Let exports be O.\[\[Exports\]\].
3.  If P is not an element of exports, return undefined.
4.  Let value be ? O.\[\[Get\]\](P, O).
5.  Return PropertyDescriptor { \[\[Value\]\]: value, \[\[Writable\]\]: true, \[\[Enumerable\]\]: true, \[\[Configurable\]\]: false }.

## 10.4.6.5 \[\[DefineOwnProperty\]\] ( P, Desc )

The \[\[DefineOwnProperty\]\] internal method of a [module namespace exotic object](https://262.ecma-international.org/12.0/#module-namespace-exotic-object) O takes arguments P (a property key) and Desc (a [Property Descriptor](https://262.ecma-international.org/12.0/#sec-property-descriptor-specification-type)). It performs the following steps when called:

1.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(P) is Symbol, return [OrdinaryDefineOwnProperty](https://262.ecma-international.org/12.0/#sec-ordinarydefineownproperty)(O, P, Desc).
2.  Let current be ? O.\[\[GetOwnProperty\]\](P).
3.  If current is undefined, return false.
4.  If Desc.\[\[Configurable\]\] is present and has value true, return false.
5.  If Desc.\[\[Enumerable\]\] is present and has value false, return false.
6.  If ! [IsAccessorDescriptor](https://262.ecma-international.org/12.0/#sec-isaccessordescriptor)(Desc) is true, return false.
7.  If Desc.\[\[Writable\]\] is present and has value false, return false.
8.  If Desc.\[\[Value\]\] is present, return [SameValue](https://262.ecma-international.org/12.0/#sec-samevalue)(Desc.\[\[Value\]\], current.\[\[Value\]\]).
9.  Return true.

## 10.4.6.6 \[\[HasProperty\]\] ( P )

The \[\[HasProperty\]\] internal method of a [module namespace exotic object](https://262.ecma-international.org/12.0/#module-namespace-exotic-object) O takes argument P (a property key). It performs the following steps when called:

1.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(P) is Symbol, return [OrdinaryHasProperty](https://262.ecma-international.org/12.0/#sec-ordinaryhasproperty)(O, P).
2.  Let exports be O.\[\[Exports\]\].
3.  If P is an element of exports, return true.
4.  Return false.

## 10.4.6.7 \[\[Get\]\] ( P, Receiver )

The \[\[Get\]\] internal method of a [module namespace exotic object](https://262.ecma-international.org/12.0/#module-namespace-exotic-object) O takes arguments P (a property key) and Receiver (an [ECMAScript language value](https://262.ecma-international.org/12.0/#sec-ecmascript-language-types)). It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): [IsPropertyKey](https://262.ecma-international.org/12.0/#sec-ispropertykey)(P) is true.
2.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(P) is Symbol, then
    1.  Return ? [OrdinaryGet](https://262.ecma-international.org/12.0/#sec-ordinaryget)(O, P, Receiver).
3.  Let exports be O.\[\[Exports\]\].
4.  If P is not an element of exports, return undefined.
5.  Let m be O.\[\[Module\]\].
6.  Let binding be ! m.ResolveExport(P).
7.  [Assert](https://262.ecma-international.org/12.0/#assert): binding is a [ResolvedBinding Record](https://262.ecma-international.org/12.0/#resolvedbinding-record).
8.  Let targetModule be binding.\[\[Module\]\].
9.  [Assert](https://262.ecma-international.org/12.0/#assert): targetModule is not undefined.
10.  If binding.\[\[BindingName\]\] is "\*namespace\*", then
    1.  Return ? [GetModuleNamespace](https://262.ecma-international.org/12.0/#sec-getmodulenamespace)(targetModule).
11.  Let targetEnv be targetModule.\[\[Environment\]\].
12.  If targetEnv is undefined, throw a ReferenceError exception.
13.  Return ? targetEnv.GetBindingValue(binding.\[\[BindingName\]\], true).

Note

ResolveExport is side-effect free. Each time this operation is called with a specific exportName, resolveSet pair as arguments it must return the same result. An implementation might choose to pre-compute or cache the ResolveExport results for the \[\[Exports\]\] of each [module namespace exotic object](https://262.ecma-international.org/12.0/#module-namespace-exotic-object).

## 10.4.6.8 \[\[Set\]\] ( P, V, Receiver )

The \[\[Set\]\] internal method of a [module namespace exotic object](https://262.ecma-international.org/12.0/#module-namespace-exotic-object) takes arguments P (a property key), V (an [ECMAScript language value](https://262.ecma-international.org/12.0/#sec-ecmascript-language-types)), and Receiver (an [ECMAScript language value](https://262.ecma-international.org/12.0/#sec-ecmascript-language-types)). It performs the following steps when called:

1.  Return false.

## 10.4.6.9 \[\[Delete\]\] ( P )

The \[\[Delete\]\] internal method of a [module namespace exotic object](https://262.ecma-international.org/12.0/#module-namespace-exotic-object) O takes argument P (a property key). It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): [IsPropertyKey](https://262.ecma-international.org/12.0/#sec-ispropertykey)(P) is true.
2.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(P) is Symbol, then
    1.  Return ? [OrdinaryDelete](https://262.ecma-international.org/12.0/#sec-ordinarydelete)(O, P).
3.  Let exports be O.\[\[Exports\]\].
4.  If P is an element of exports, return false.
5.  Return true.

## 10.4.6.10 \[\[OwnPropertyKeys\]\] ( )

The \[\[OwnPropertyKeys\]\] internal method of a [module namespace exotic object](https://262.ecma-international.org/12.0/#module-namespace-exotic-object) O takes no arguments. It performs the following steps when called:

1.  Let exports be a copy of O.\[\[Exports\]\].
2.  Let symbolKeys be ! [OrdinaryOwnPropertyKeys](https://262.ecma-international.org/12.0/#sec-ordinaryownpropertykeys)(O).
3.  Append all the entries of symbolKeys to the end of exports.
4.  Return exports.

## 10.4.6.11 ModuleNamespaceCreate ( module, exports )

The abstract operation ModuleNamespaceCreate takes arguments module and exports. It is used to specify the creation of new module namespace exotic objects. It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): module is a [Module Record](https://262.ecma-international.org/12.0/#sec-abstract-module-records).
2.  [Assert](https://262.ecma-international.org/12.0/#assert): module.\[\[Namespace\]\] is undefined.
3.  [Assert](https://262.ecma-international.org/12.0/#assert): exports is a [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) of String values.
4.  Let internalSlotsList be the internal slots listed in [Table 31](https://262.ecma-international.org/12.0/#table-internal-slots-of-module-namespace-exotic-objects).
5.  Let M be ! [MakeBasicObject](https://262.ecma-international.org/12.0/#sec-makebasicobject)(internalSlotsList).
6.  Set M's essential internal methods to the definitions specified in [10.4.6](https://262.ecma-international.org/12.0/#sec-module-namespace-exotic-objects).
7.  Set M.\[\[Prototype\]\] to null.
8.  Set M.\[\[Module\]\] to module.
9.  Let sortedExports be a [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) whose elements are the elements of exports ordered as if an Array of the same values had been sorted using %Array.prototype.sort% using undefined as comparefn.
10.  Set M.\[\[Exports\]\] to sortedExports.
11.  Create own properties of M corresponding to the definitions in [28.3](https://262.ecma-international.org/12.0/#sec-module-namespace-objects).
12.  Set module.\[\[Namespace\]\] to M.
13.  Return M.

## 10.4.7 Immutable Prototype Exotic Objects

An [immutable prototype exotic object](https://262.ecma-international.org/12.0/#immutable-prototype-exotic-object) is an [exotic object](https://262.ecma-international.org/12.0/#exotic-object) that has a \[\[Prototype\]\] internal slot that will not change once it is initialized.

An object is an immutable prototype exotic object if its \[\[SetPrototypeOf\]\] internal method uses the following implementation. (Its other essential internal methods may use any implementation, depending on the specific [immutable prototype exotic object](https://262.ecma-international.org/12.0/#immutable-prototype-exotic-object) in question.)

Note

Unlike other exotic objects, there is not a dedicated creation abstract operation provided for immutable prototype exotic objects. This is because they are only used by [%Object.prototype%](https://262.ecma-international.org/12.0/#sec-properties-of-the-object-prototype-object) and by [host](https://262.ecma-international.org/12.0/#host) environments, and in [host](https://262.ecma-international.org/12.0/#host) environments, the relevant objects are potentially exotic in other ways and thus need their own dedicated creation operation.

## 10.4.7.1 \[\[SetPrototypeOf\]\] ( V )

The \[\[SetPrototypeOf\]\] internal method of an [immutable prototype exotic object](https://262.ecma-international.org/12.0/#immutable-prototype-exotic-object) O takes argument V (an Object or null). It performs the following steps when called:

1.  Return ? [SetImmutablePrototype](https://262.ecma-international.org/12.0/#sec-set-immutable-prototype)(O, V).

## 10.4.7.2 SetImmutablePrototype ( O, V )

The abstract operation SetImmutablePrototype takes arguments O and V. It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): Either [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(V) is Object or [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(V) is Null.
2.  Let current be ? O.\[\[GetPrototypeOf\]\]().
3.  If [SameValue](https://262.ecma-international.org/12.0/#sec-samevalue)(V, current) is true, return true.
4.  Return false.

## 10.5 Proxy Object Internal Methods and Internal Slots

A proxy object is an [exotic object](https://262.ecma-international.org/12.0/#exotic-object) whose essential internal methods are partially implemented using ECMAScript code. Every proxy object has an internal slot called \[\[ProxyHandler\]\]. The value of \[\[ProxyHandler\]\] is an object, called the proxy's _handler object_, or null. Methods (see [Table 32](https://262.ecma-international.org/12.0/#table-proxy-handler-methods)) of a handler object may be used to augment the implementation for one or more of the proxy object's internal methods. Every proxy object also has an internal slot called \[\[ProxyTarget\]\] whose value is either an object or the null value. This object is called the proxy's _target object_.

An object is a Proxy exotic object if its essential internal methods (including \[\[Call\]\] and \[\[Construct\]\], if applicable) use the definitions in this section. These internal methods are installed in [ProxyCreate](https://262.ecma-international.org/12.0/#sec-proxycreate).

Table 32: Proxy Handler Methods

| Internal Method | Handler Method |
| --- | --- |
| \[\[GetPrototypeOf\]\] | `getPrototypeOf` |
| \[\[SetPrototypeOf\]\] | `setPrototypeOf` |
| \[\[IsExtensible\]\] | `isExtensible` |
| \[\[PreventExtensions\]\] | `preventExtensions` |
| \[\[GetOwnProperty\]\] | `getOwnPropertyDescriptor` |
| \[\[DefineOwnProperty\]\] | `defineProperty` |
| \[\[HasProperty\]\] | `has` |
| \[\[Get\]\] | `get` |
| \[\[Set\]\] | `set` |
| \[\[Delete\]\] | `deleteProperty` |
| \[\[OwnPropertyKeys\]\] | `ownKeys` |
| \[\[Call\]\] | `apply` |
| \[\[Construct\]\] | `construct` |

When a handler method is called to provide the implementation of a proxy object internal method, the handler method is passed the proxy's target object as a parameter. A proxy's handler object does not necessarily have a method corresponding to every essential internal method. Invoking an internal method on the proxy results in the invocation of the corresponding internal method on the proxy's target object if the handler object does not have a method corresponding to the internal trap.

The \[\[ProxyHandler\]\] and \[\[ProxyTarget\]\] internal slots of a proxy object are always initialized when the object is created and typically may not be modified. Some proxy objects are created in a manner that permits them to be subsequently _revoked_. When a proxy is revoked, its \[\[ProxyHandler\]\] and \[\[ProxyTarget\]\] internal slots are set to null causing subsequent invocations of internal methods on that proxy object to throw a TypeError exception.

Because proxy objects permit the implementation of internal methods to be provided by arbitrary ECMAScript code, it is possible to define a proxy object whose handler methods violates the invariants defined in [6.1.7.3](https://262.ecma-international.org/12.0/#sec-invariants-of-the-essential-internal-methods). Some of the internal method invariants defined in [6.1.7.3](https://262.ecma-international.org/12.0/#sec-invariants-of-the-essential-internal-methods) are essential integrity invariants. These invariants are explicitly enforced by the proxy object internal methods specified in this section. An ECMAScript implementation must be robust in the presence of all possible invariant violations.

In the following algorithm descriptions, assume O is an ECMAScript proxy object, P is a property key value, V is any [ECMAScript language value](https://262.ecma-international.org/12.0/#sec-ecmascript-language-types) and Desc is a [Property Descriptor](https://262.ecma-international.org/12.0/#sec-property-descriptor-specification-type) record.

## 10.5.1 \[\[GetPrototypeOf\]\] ( )

The \[\[GetPrototypeOf\]\] internal method of a [Proxy exotic object](https://262.ecma-international.org/12.0/#proxy-exotic-object) O takes no arguments. It performs the following steps when called:

1.  Let handler be O.\[\[ProxyHandler\]\].
2.  If handler is null, throw a TypeError exception.
3.  [Assert](https://262.ecma-international.org/12.0/#assert): [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(handler) is Object.
4.  Let target be O.\[\[ProxyTarget\]\].
5.  Let trap be ? [GetMethod](https://262.ecma-international.org/12.0/#sec-getmethod)(handler, "getPrototypeOf").
6.  If trap is undefined, then
    1.  Return ? target.\[\[GetPrototypeOf\]\]().
7.  Let handlerProto be ? [Call](https://262.ecma-international.org/12.0/#sec-call)(trap, handler, « target »).
8.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(handlerProto) is neither Object nor Null, throw a TypeError exception.
9.  Let extensibleTarget be ? [IsExtensible](https://262.ecma-international.org/12.0/#sec-isextensible-o)(target).
10.  If extensibleTarget is true, return handlerProto.
11.  Let targetProto be ? target.\[\[GetPrototypeOf\]\]().
12.  If [SameValue](https://262.ecma-international.org/12.0/#sec-samevalue)(handlerProto, targetProto) is false, throw a TypeError exception.
13.  Return handlerProto.

Note

\[\[GetPrototypeOf\]\] for proxy objects enforces the following invariants:

-   The result of \[\[GetPrototypeOf\]\] must be either an Object or null.
-   If the target object is not extensible, \[\[GetPrototypeOf\]\] applied to the proxy object must return the same value as \[\[GetPrototypeOf\]\] applied to the proxy object's target object.

## 10.5.2 \[\[SetPrototypeOf\]\] ( V )

The \[\[SetPrototypeOf\]\] internal method of a [Proxy exotic object](https://262.ecma-international.org/12.0/#proxy-exotic-object) O takes argument V (an Object or null). It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): Either [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(V) is Object or [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(V) is Null.
2.  Let handler be O.\[\[ProxyHandler\]\].
3.  If handler is null, throw a TypeError exception.
4.  [Assert](https://262.ecma-international.org/12.0/#assert): [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(handler) is Object.
5.  Let target be O.\[\[ProxyTarget\]\].
6.  Let trap be ? [GetMethod](https://262.ecma-international.org/12.0/#sec-getmethod)(handler, "setPrototypeOf").
7.  If trap is undefined, then
    1.  Return ? target.\[\[SetPrototypeOf\]\](V).
8.  Let booleanTrapResult be ! [ToBoolean](https://262.ecma-international.org/12.0/#sec-toboolean)(? [Call](https://262.ecma-international.org/12.0/#sec-call)(trap, handler, « target, V »)).
9.  If booleanTrapResult is false, return false.
10.  Let extensibleTarget be ? [IsExtensible](https://262.ecma-international.org/12.0/#sec-isextensible-o)(target).
11.  If extensibleTarget is true, return true.
12.  Let targetProto be ? target.\[\[GetPrototypeOf\]\]().
13.  If [SameValue](https://262.ecma-international.org/12.0/#sec-samevalue)(V, targetProto) is false, throw a TypeError exception.
14.  Return true.

Note

\[\[SetPrototypeOf\]\] for proxy objects enforces the following invariants:

-   The result of \[\[SetPrototypeOf\]\] is a Boolean value.
-   If the target object is not extensible, the argument value must be the same as the result of \[\[GetPrototypeOf\]\] applied to target object.

## 10.5.3 \[\[IsExtensible\]\] ( )

The \[\[IsExtensible\]\] internal method of a [Proxy exotic object](https://262.ecma-international.org/12.0/#proxy-exotic-object) O takes no arguments. It performs the following steps when called:

1.  Let handler be O.\[\[ProxyHandler\]\].
2.  If handler is null, throw a TypeError exception.
3.  [Assert](https://262.ecma-international.org/12.0/#assert): [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(handler) is Object.
4.  Let target be O.\[\[ProxyTarget\]\].
5.  Let trap be ? [GetMethod](https://262.ecma-international.org/12.0/#sec-getmethod)(handler, "isExtensible").
6.  If trap is undefined, then
    1.  Return ? [IsExtensible](https://262.ecma-international.org/12.0/#sec-isextensible-o)(target).
7.  Let booleanTrapResult be ! [ToBoolean](https://262.ecma-international.org/12.0/#sec-toboolean)(? [Call](https://262.ecma-international.org/12.0/#sec-call)(trap, handler, « target »)).
8.  Let targetResult be ? [IsExtensible](https://262.ecma-international.org/12.0/#sec-isextensible-o)(target).
9.  If [SameValue](https://262.ecma-international.org/12.0/#sec-samevalue)(booleanTrapResult, targetResult) is false, throw a TypeError exception.
10.  Return booleanTrapResult.

Note

\[\[IsExtensible\]\] for proxy objects enforces the following invariants:

-   The result of \[\[IsExtensible\]\] is a Boolean value.
-   \[\[IsExtensible\]\] applied to the proxy object must return the same value as \[\[IsExtensible\]\] applied to the proxy object's target object with the same argument.

## 10.5.4 \[\[PreventExtensions\]\] ( )

The \[\[PreventExtensions\]\] internal method of a [Proxy exotic object](https://262.ecma-international.org/12.0/#proxy-exotic-object) O takes no arguments. It performs the following steps when called:

1.  Let handler be O.\[\[ProxyHandler\]\].
2.  If handler is null, throw a TypeError exception.
3.  [Assert](https://262.ecma-international.org/12.0/#assert): [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(handler) is Object.
4.  Let target be O.\[\[ProxyTarget\]\].
5.  Let trap be ? [GetMethod](https://262.ecma-international.org/12.0/#sec-getmethod)(handler, "preventExtensions").
6.  If trap is undefined, then
    1.  Return ? target.\[\[PreventExtensions\]\]().
7.  Let booleanTrapResult be ! [ToBoolean](https://262.ecma-international.org/12.0/#sec-toboolean)(? [Call](https://262.ecma-international.org/12.0/#sec-call)(trap, handler, « target »)).
8.  If booleanTrapResult is true, then
    1.  Let extensibleTarget be ? [IsExtensible](https://262.ecma-international.org/12.0/#sec-isextensible-o)(target).
    2.  If extensibleTarget is true, throw a TypeError exception.
9.  Return booleanTrapResult.

Note

\[\[PreventExtensions\]\] for proxy objects enforces the following invariants:

-   The result of \[\[PreventExtensions\]\] is a Boolean value.
-   \[\[PreventExtensions\]\] applied to the proxy object only returns true if \[\[IsExtensible\]\] applied to the proxy object's target object is false.

## 10.5.5 \[\[GetOwnProperty\]\] ( P )

The \[\[GetOwnProperty\]\] internal method of a [Proxy exotic object](https://262.ecma-international.org/12.0/#proxy-exotic-object) O takes argument P (a property key). It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): [IsPropertyKey](https://262.ecma-international.org/12.0/#sec-ispropertykey)(P) is true.
2.  Let handler be O.\[\[ProxyHandler\]\].
3.  If handler is null, throw a TypeError exception.
4.  [Assert](https://262.ecma-international.org/12.0/#assert): [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(handler) is Object.
5.  Let target be O.\[\[ProxyTarget\]\].
6.  Let trap be ? [GetMethod](https://262.ecma-international.org/12.0/#sec-getmethod)(handler, "getOwnPropertyDescriptor").
7.  If trap is undefined, then
    1.  Return ? target.\[\[GetOwnProperty\]\](P).
8.  Let trapResultObj be ? [Call](https://262.ecma-international.org/12.0/#sec-call)(trap, handler, « target, P »).
9.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(trapResultObj) is neither Object nor Undefined, throw a TypeError exception.
10.  Let targetDesc be ? target.\[\[GetOwnProperty\]\](P).
11.  If trapResultObj is undefined, then
    1.  If targetDesc is undefined, return undefined.
    2.  If targetDesc.\[\[Configurable\]\] is false, throw a TypeError exception.
    3.  Let extensibleTarget be ? [IsExtensible](https://262.ecma-international.org/12.0/#sec-isextensible-o)(target).
    4.  If extensibleTarget is false, throw a TypeError exception.
    5.  Return undefined.
12.  Let extensibleTarget be ? [IsExtensible](https://262.ecma-international.org/12.0/#sec-isextensible-o)(target).
13.  Let resultDesc be ? [ToPropertyDescriptor](https://262.ecma-international.org/12.0/#sec-topropertydescriptor)(trapResultObj).
14.  Call [CompletePropertyDescriptor](https://262.ecma-international.org/12.0/#sec-completepropertydescriptor)(resultDesc).
15.  Let valid be [IsCompatiblePropertyDescriptor](https://262.ecma-international.org/12.0/#sec-iscompatiblepropertydescriptor)(extensibleTarget, resultDesc, targetDesc).
16.  If valid is false, throw a TypeError exception.
17.  If resultDesc.\[\[Configurable\]\] is false, then
    1.  If targetDesc is undefined or targetDesc.\[\[Configurable\]\] is true, then
        1.  Throw a TypeError exception.
    2.  If resultDesc has a \[\[Writable\]\] field and resultDesc.\[\[Writable\]\] is false, then
        1.  If targetDesc.\[\[Writable\]\] is true, throw a TypeError exception.
18.  Return resultDesc.

Note

\[\[GetOwnProperty\]\] for proxy objects enforces the following invariants:

-   The result of \[\[GetOwnProperty\]\] must be either an Object or undefined.
-   A property cannot be reported as non-existent, if it exists as a non-configurable own property of the target object.
-   A property cannot be reported as non-existent, if the target object is not extensible, unless it does not exist as an own property of the target object.
-   A property cannot be reported as existent, if the target object is not extensible, unless it exists as an own property of the target object.
-   A property cannot be reported as non-configurable, unless it exists as a non-configurable own property of the target object.
-   A property cannot be reported as both non-configurable and non-writable, unless it exists as a non-configurable, non-writable own property of the target object.

## 10.5.6 \[\[DefineOwnProperty\]\] ( P, Desc )

The \[\[DefineOwnProperty\]\] internal method of a [Proxy exotic object](https://262.ecma-international.org/12.0/#proxy-exotic-object) O takes arguments P (a property key) and Desc (a [Property Descriptor](https://262.ecma-international.org/12.0/#sec-property-descriptor-specification-type)). It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): [IsPropertyKey](https://262.ecma-international.org/12.0/#sec-ispropertykey)(P) is true.
2.  Let handler be O.\[\[ProxyHandler\]\].
3.  If handler is null, throw a TypeError exception.
4.  [Assert](https://262.ecma-international.org/12.0/#assert): [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(handler) is Object.
5.  Let target be O.\[\[ProxyTarget\]\].
6.  Let trap be ? [GetMethod](https://262.ecma-international.org/12.0/#sec-getmethod)(handler, "defineProperty").
7.  If trap is undefined, then
    1.  Return ? target.\[\[DefineOwnProperty\]\](P, Desc).
8.  Let descObj be [FromPropertyDescriptor](https://262.ecma-international.org/12.0/#sec-frompropertydescriptor)(Desc).
9.  Let booleanTrapResult be ! [ToBoolean](https://262.ecma-international.org/12.0/#sec-toboolean)(? [Call](https://262.ecma-international.org/12.0/#sec-call)(trap, handler, « target, P, descObj »)).
10.  If booleanTrapResult is false, return false.
11.  Let targetDesc be ? target.\[\[GetOwnProperty\]\](P).
12.  Let extensibleTarget be ? [IsExtensible](https://262.ecma-international.org/12.0/#sec-isextensible-o)(target).
13.  If Desc has a \[\[Configurable\]\] field and if Desc.\[\[Configurable\]\] is false, then
    1.  Let settingConfigFalse be true.
14.  Else, let settingConfigFalse be false.
15.  If targetDesc is undefined, then
    1.  If extensibleTarget is false, throw a TypeError exception.
    2.  If settingConfigFalse is true, throw a TypeError exception.
16.  Else,
    1.  If [IsCompatiblePropertyDescriptor](https://262.ecma-international.org/12.0/#sec-iscompatiblepropertydescriptor)(extensibleTarget, Desc, targetDesc) is false, throw a TypeError exception.
    2.  If settingConfigFalse is true and targetDesc.\[\[Configurable\]\] is true, throw a TypeError exception.
    3.  If [IsDataDescriptor](https://262.ecma-international.org/12.0/#sec-isdatadescriptor)(targetDesc) is true, targetDesc.\[\[Configurable\]\] is false, and targetDesc.\[\[Writable\]\] is true, then
        1.  If Desc has a \[\[Writable\]\] field and Desc.\[\[Writable\]\] is false, throw a TypeError exception.
17.  Return true.

Note

\[\[DefineOwnProperty\]\] for proxy objects enforces the following invariants:

-   The result of \[\[DefineOwnProperty\]\] is a Boolean value.
-   A property cannot be added, if the target object is not extensible.
-   A property cannot be non-configurable, unless there exists a corresponding non-configurable own property of the target object.
-   A non-configurable property cannot be non-writable, unless there exists a corresponding non-configurable, non-writable own property of the target object.
-   If a property has a corresponding target object property then applying the [Property Descriptor](https://262.ecma-international.org/12.0/#sec-property-descriptor-specification-type) of the property to the target object using \[\[DefineOwnProperty\]\] will not throw an exception.

## 10.5.7 \[\[HasProperty\]\] ( P )

The \[\[HasProperty\]\] internal method of a [Proxy exotic object](https://262.ecma-international.org/12.0/#proxy-exotic-object) O takes argument P (a property key). It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): [IsPropertyKey](https://262.ecma-international.org/12.0/#sec-ispropertykey)(P) is true.
2.  Let handler be O.\[\[ProxyHandler\]\].
3.  If handler is null, throw a TypeError exception.
4.  [Assert](https://262.ecma-international.org/12.0/#assert): [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(handler) is Object.
5.  Let target be O.\[\[ProxyTarget\]\].
6.  Let trap be ? [GetMethod](https://262.ecma-international.org/12.0/#sec-getmethod)(handler, "has").
7.  If trap is undefined, then
    1.  Return ? target.\[\[HasProperty\]\](P).
8.  Let booleanTrapResult be ! [ToBoolean](https://262.ecma-international.org/12.0/#sec-toboolean)(? [Call](https://262.ecma-international.org/12.0/#sec-call)(trap, handler, « target, P »)).
9.  If booleanTrapResult is false, then
    1.  Let targetDesc be ? target.\[\[GetOwnProperty\]\](P).
    2.  If targetDesc is not undefined, then
        1.  If targetDesc.\[\[Configurable\]\] is false, throw a TypeError exception.
        2.  Let extensibleTarget be ? [IsExtensible](https://262.ecma-international.org/12.0/#sec-isextensible-o)(target).
        3.  If extensibleTarget is false, throw a TypeError exception.
10.  Return booleanTrapResult.

Note

\[\[HasProperty\]\] for proxy objects enforces the following invariants:

-   The result of \[\[HasProperty\]\] is a Boolean value.
-   A property cannot be reported as non-existent, if it exists as a non-configurable own property of the target object.
-   A property cannot be reported as non-existent, if it exists as an own property of the target object and the target object is not extensible.

## 10.5.8 \[\[Get\]\] ( P, Receiver )

The \[\[Get\]\] internal method of a [Proxy exotic object](https://262.ecma-international.org/12.0/#proxy-exotic-object) O takes arguments P (a property key) and Receiver (an [ECMAScript language value](https://262.ecma-international.org/12.0/#sec-ecmascript-language-types)). It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): [IsPropertyKey](https://262.ecma-international.org/12.0/#sec-ispropertykey)(P) is true.
2.  Let handler be O.\[\[ProxyHandler\]\].
3.  If handler is null, throw a TypeError exception.
4.  [Assert](https://262.ecma-international.org/12.0/#assert): [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(handler) is Object.
5.  Let target be O.\[\[ProxyTarget\]\].
6.  Let trap be ? [GetMethod](https://262.ecma-international.org/12.0/#sec-getmethod)(handler, "get").
7.  If trap is undefined, then
    1.  Return ? target.\[\[Get\]\](P, Receiver).
8.  Let trapResult be ? [Call](https://262.ecma-international.org/12.0/#sec-call)(trap, handler, « target, P, Receiver »).
9.  Let targetDesc be ? target.\[\[GetOwnProperty\]\](P).
10.  If targetDesc is not undefined and targetDesc.\[\[Configurable\]\] is false, then
    1.  If [IsDataDescriptor](https://262.ecma-international.org/12.0/#sec-isdatadescriptor)(targetDesc) is true and targetDesc.\[\[Writable\]\] is false, then
        1.  If [SameValue](https://262.ecma-international.org/12.0/#sec-samevalue)(trapResult, targetDesc.\[\[Value\]\]) is false, throw a TypeError exception.
    2.  If [IsAccessorDescriptor](https://262.ecma-international.org/12.0/#sec-isaccessordescriptor)(targetDesc) is true and targetDesc.\[\[Get\]\] is undefined, then
        1.  If trapResult is not undefined, throw a TypeError exception.
11.  Return trapResult.

Note

\[\[Get\]\] for proxy objects enforces the following invariants:

-   The value reported for a property must be the same as the value of the corresponding target object property if the target object property is a non-writable, non-configurable own [data property](https://262.ecma-international.org/12.0/#sec-object-type).
-   The value reported for a property must be undefined if the corresponding target object property is a non-configurable own [accessor property](https://262.ecma-international.org/12.0/#sec-object-type) that has undefined as its \[\[Get\]\] attribute.

## 10.5.9 \[\[Set\]\] ( P, V, Receiver )

The \[\[Set\]\] internal method of a [Proxy exotic object](https://262.ecma-international.org/12.0/#proxy-exotic-object) O takes arguments P (a property key), V (an [ECMAScript language value](https://262.ecma-international.org/12.0/#sec-ecmascript-language-types)), and Receiver (an [ECMAScript language value](https://262.ecma-international.org/12.0/#sec-ecmascript-language-types)). It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): [IsPropertyKey](https://262.ecma-international.org/12.0/#sec-ispropertykey)(P) is true.
2.  Let handler be O.\[\[ProxyHandler\]\].
3.  If handler is null, throw a TypeError exception.
4.  [Assert](https://262.ecma-international.org/12.0/#assert): [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(handler) is Object.
5.  Let target be O.\[\[ProxyTarget\]\].
6.  Let trap be ? [GetMethod](https://262.ecma-international.org/12.0/#sec-getmethod)(handler, "set").
7.  If trap is undefined, then
    1.  Return ? target.\[\[Set\]\](P, V, Receiver).
8.  Let booleanTrapResult be ! [ToBoolean](https://262.ecma-international.org/12.0/#sec-toboolean)(? [Call](https://262.ecma-international.org/12.0/#sec-call)(trap, handler, « target, P, V, Receiver »)).
9.  If booleanTrapResult is false, return false.
10.  Let targetDesc be ? target.\[\[GetOwnProperty\]\](P).
11.  If targetDesc is not undefined and targetDesc.\[\[Configurable\]\] is false, then
    1.  If [IsDataDescriptor](https://262.ecma-international.org/12.0/#sec-isdatadescriptor)(targetDesc) is true and targetDesc.\[\[Writable\]\] is false, then
        1.  If [SameValue](https://262.ecma-international.org/12.0/#sec-samevalue)(V, targetDesc.\[\[Value\]\]) is false, throw a TypeError exception.
    2.  If [IsAccessorDescriptor](https://262.ecma-international.org/12.0/#sec-isaccessordescriptor)(targetDesc) is true, then
        1.  If targetDesc.\[\[Set\]\] is undefined, throw a TypeError exception.
12.  Return true.

Note

\[\[Set\]\] for proxy objects enforces the following invariants:

-   The result of \[\[Set\]\] is a Boolean value.
-   Cannot change the value of a property to be different from the value of the corresponding target object property if the corresponding target object property is a non-writable, non-configurable own [data property](https://262.ecma-international.org/12.0/#sec-object-type).
-   Cannot set the value of a property if the corresponding target object property is a non-configurable own [accessor property](https://262.ecma-international.org/12.0/#sec-object-type) that has undefined as its \[\[Set\]\] attribute.

## 10.5.10 \[\[Delete\]\] ( P )

The \[\[Delete\]\] internal method of a [Proxy exotic object](https://262.ecma-international.org/12.0/#proxy-exotic-object) O takes argument P (a property key). It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): [IsPropertyKey](https://262.ecma-international.org/12.0/#sec-ispropertykey)(P) is true.
2.  Let handler be O.\[\[ProxyHandler\]\].
3.  If handler is null, throw a TypeError exception.
4.  [Assert](https://262.ecma-international.org/12.0/#assert): [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(handler) is Object.
5.  Let target be O.\[\[ProxyTarget\]\].
6.  Let trap be ? [GetMethod](https://262.ecma-international.org/12.0/#sec-getmethod)(handler, "deleteProperty").
7.  If trap is undefined, then
    1.  Return ? target.\[\[Delete\]\](P).
8.  Let booleanTrapResult be ! [ToBoolean](https://262.ecma-international.org/12.0/#sec-toboolean)(? [Call](https://262.ecma-international.org/12.0/#sec-call)(trap, handler, « target, P »)).
9.  If booleanTrapResult is false, return false.
10.  Let targetDesc be ? target.\[\[GetOwnProperty\]\](P).
11.  If targetDesc is undefined, return true.
12.  If targetDesc.\[\[Configurable\]\] is false, throw a TypeError exception.
13.  Let extensibleTarget be ? [IsExtensible](https://262.ecma-international.org/12.0/#sec-isextensible-o)(target).
14.  If extensibleTarget is false, throw a TypeError exception.
15.  Return true.

Note

\[\[Delete\]\] for proxy objects enforces the following invariants:

-   The result of \[\[Delete\]\] is a Boolean value.
-   A property cannot be reported as deleted, if it exists as a non-configurable own property of the target object.
-   A property cannot be reported as deleted, if it exists as an own property of the target object and the target object is non-extensible.

## 10.5.11 \[\[OwnPropertyKeys\]\] ( )

The \[\[OwnPropertyKeys\]\] internal method of a [Proxy exotic object](https://262.ecma-international.org/12.0/#proxy-exotic-object) O takes no arguments. It performs the following steps when called:

1.  Let handler be O.\[\[ProxyHandler\]\].
2.  If handler is null, throw a TypeError exception.
3.  [Assert](https://262.ecma-international.org/12.0/#assert): [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(handler) is Object.
4.  Let target be O.\[\[ProxyTarget\]\].
5.  Let trap be ? [GetMethod](https://262.ecma-international.org/12.0/#sec-getmethod)(handler, "ownKeys").
6.  If trap is undefined, then
    1.  Return ? target.\[\[OwnPropertyKeys\]\]().
7.  Let trapResultArray be ? [Call](https://262.ecma-international.org/12.0/#sec-call)(trap, handler, « target »).
8.  Let trapResult be ? [CreateListFromArrayLike](https://262.ecma-international.org/12.0/#sec-createlistfromarraylike)(trapResultArray, « String, Symbol »).
9.  If trapResult contains any duplicate entries, throw a TypeError exception.
10.  Let extensibleTarget be ? [IsExtensible](https://262.ecma-international.org/12.0/#sec-isextensible-o)(target).
11.  Let targetKeys be ? target.\[\[OwnPropertyKeys\]\]().
12.  [Assert](https://262.ecma-international.org/12.0/#assert): targetKeys is a [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) whose elements are only String and Symbol values.
13.  [Assert](https://262.ecma-international.org/12.0/#assert): targetKeys contains no duplicate entries.
14.  Let targetConfigurableKeys be a new empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).
15.  Let targetNonconfigurableKeys be a new empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).
16.  For each element key of targetKeys, do
    1.  Let desc be ? target.\[\[GetOwnProperty\]\](key).
    2.  If desc is not undefined and desc.\[\[Configurable\]\] is false, then
        1.  Append key as an element of targetNonconfigurableKeys.
    3.  Else,
        1.  Append key as an element of targetConfigurableKeys.
17.  If extensibleTarget is true and targetNonconfigurableKeys is empty, then
    1.  Return trapResult.
18.  Let uncheckedResultKeys be a [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) whose elements are the elements of trapResult.
19.  For each element key of targetNonconfigurableKeys, do
    1.  If key is not an element of uncheckedResultKeys, throw a TypeError exception.
    2.  Remove key from uncheckedResultKeys.
20.  If extensibleTarget is true, return trapResult.
21.  For each element key of targetConfigurableKeys, do
    1.  If key is not an element of uncheckedResultKeys, throw a TypeError exception.
    2.  Remove key from uncheckedResultKeys.
22.  If uncheckedResultKeys is not empty, throw a TypeError exception.
23.  Return trapResult.

Note

\[\[OwnPropertyKeys\]\] for proxy objects enforces the following invariants:

-   The result of \[\[OwnPropertyKeys\]\] is a [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).
-   The returned [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) contains no duplicate entries.
-   The Type of each result [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) element is either String or Symbol.
-   The result [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) must contain the keys of all non-configurable own properties of the target object.
-   If the target object is not extensible, then the result [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) must contain all the keys of the own properties of the target object and no other values.

## 10.5.12 \[\[Call\]\] ( thisArgument, argumentsList )

The \[\[Call\]\] internal method of a [Proxy exotic object](https://262.ecma-international.org/12.0/#proxy-exotic-object) O takes arguments thisArgument (an [ECMAScript language value](https://262.ecma-international.org/12.0/#sec-ecmascript-language-types)) and argumentsList (a [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) of ECMAScript language values). It performs the following steps when called:

1.  Let handler be O.\[\[ProxyHandler\]\].
2.  If handler is null, throw a TypeError exception.
3.  [Assert](https://262.ecma-international.org/12.0/#assert): [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(handler) is Object.
4.  Let target be O.\[\[ProxyTarget\]\].
5.  Let trap be ? [GetMethod](https://262.ecma-international.org/12.0/#sec-getmethod)(handler, "apply").
6.  If trap is undefined, then
    1.  Return ? [Call](https://262.ecma-international.org/12.0/#sec-call)(target, thisArgument, argumentsList).
7.  Let argArray be ! [CreateArrayFromList](https://262.ecma-international.org/12.0/#sec-createarrayfromlist)(argumentsList).
8.  Return ? [Call](https://262.ecma-international.org/12.0/#sec-call)(trap, handler, « target, thisArgument, argArray »).

Note

A [Proxy exotic object](https://262.ecma-international.org/12.0/#proxy-exotic-object) only has a \[\[Call\]\] internal method if the initial value of its \[\[ProxyTarget\]\] internal slot is an object that has a \[\[Call\]\] internal method.

## 10.5.13 \[\[Construct\]\] ( argumentsList, newTarget )

The \[\[Construct\]\] internal method of a [Proxy exotic object](https://262.ecma-international.org/12.0/#proxy-exotic-object) O takes arguments argumentsList (a [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) of ECMAScript language values) and newTarget (a [constructor](https://262.ecma-international.org/12.0/#constructor)). It performs the following steps when called:

1.  Let handler be O.\[\[ProxyHandler\]\].
2.  If handler is null, throw a TypeError exception.
3.  [Assert](https://262.ecma-international.org/12.0/#assert): [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(handler) is Object.
4.  Let target be O.\[\[ProxyTarget\]\].
5.  [Assert](https://262.ecma-international.org/12.0/#assert): [IsConstructor](https://262.ecma-international.org/12.0/#sec-isconstructor)(target) is true.
6.  Let trap be ? [GetMethod](https://262.ecma-international.org/12.0/#sec-getmethod)(handler, "construct").
7.  If trap is undefined, then
    1.  Return ? [Construct](https://262.ecma-international.org/12.0/#sec-construct)(target, argumentsList, newTarget).
8.  Let argArray be ! [CreateArrayFromList](https://262.ecma-international.org/12.0/#sec-createarrayfromlist)(argumentsList).
9.  Let newObj be ? [Call](https://262.ecma-international.org/12.0/#sec-call)(trap, handler, « target, argArray, newTarget »).
10.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(newObj) is not Object, throw a TypeError exception.
11.  Return newObj.

Note 1

A [Proxy exotic object](https://262.ecma-international.org/12.0/#proxy-exotic-object) only has a \[\[Construct\]\] internal method if the initial value of its \[\[ProxyTarget\]\] internal slot is an object that has a \[\[Construct\]\] internal method.

Note 2

\[\[Construct\]\] for proxy objects enforces the following invariants:

-   The result of \[\[Construct\]\] must be an Object.

## 10.5.14 ProxyCreate ( target, handler )

The abstract operation ProxyCreate takes arguments target and handler. It is used to specify the creation of new Proxy exotic objects. It performs the following steps when called:

1.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(target) is not Object, throw a TypeError exception.
2.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(handler) is not Object, throw a TypeError exception.
3.  Let P be ! [MakeBasicObject](https://262.ecma-international.org/12.0/#sec-makebasicobject)(« \[\[ProxyHandler\]\], \[\[ProxyTarget\]\] »).
4.  Set P's essential internal methods, except for \[\[Call\]\] and \[\[Construct\]\], to the definitions specified in [10.5](https://262.ecma-international.org/12.0/#sec-proxy-object-internal-methods-and-internal-slots).
5.  If [IsCallable](https://262.ecma-international.org/12.0/#sec-iscallable)(target) is true, then
    1.  Set P.\[\[Call\]\] as specified in [10.5.12](https://262.ecma-international.org/12.0/#sec-proxy-object-internal-methods-and-internal-slots-call-thisargument-argumentslist).
    2.  If [IsConstructor](https://262.ecma-international.org/12.0/#sec-isconstructor)(target) is true, then
        1.  Set P.\[\[Construct\]\] as specified in [10.5.13](https://262.ecma-international.org/12.0/#sec-proxy-object-internal-methods-and-internal-slots-construct-argumentslist-newtarget).
6.  Set P.\[\[ProxyTarget\]\] to target.
7.  Set P.\[\[ProxyHandler\]\] to handler.
8.  Return P.

## 11 ECMAScript Language: Source Code

## 11.1 Source Text

## Syntax

[SourceCharacter](https://262.ecma-international.org/12.0/#prod-SourceCharacter) :: any Unicode code point

ECMAScript code is expressed using Unicode. ECMAScript source text is a sequence of code points. All Unicode code point values from U+0000 to U+10FFFF, including surrogate code points, may occur in source text where permitted by the ECMAScript grammars. The actual encodings used to store and interchange ECMAScript source text is not relevant to this specification. Regardless of the external source text encoding, a conforming ECMAScript implementation processes the source text as if it was an equivalent sequence of [SourceCharacter](https://262.ecma-international.org/12.0/#prod-SourceCharacter) values, each [SourceCharacter](https://262.ecma-international.org/12.0/#prod-SourceCharacter) being a Unicode code point. Conforming ECMAScript implementations are not required to perform any normalization of source text, or behave as though they were performing normalization of source text.

The components of a combining character sequence are treated as individual Unicode code points even though a user might think of the whole sequence as a single character.

Note

In string literals, regular expression literals, template literals and identifiers, any Unicode code point may also be expressed using Unicode escape sequences that explicitly express a code point's numeric value. Within a comment, such an escape sequence is effectively ignored as part of the comment.

ECMAScript differs from the Java programming language in the behaviour of Unicode escape sequences. In a Java program, if the Unicode escape sequence `\u000A`, for example, occurs within a single-line comment, it is interpreted as a line terminator (Unicode code point U+000A is LINE FEED (LF)) and therefore the next code point is not part of the comment. Similarly, if the Unicode escape sequence `\u000A` occurs within a string literal in a Java program, it is likewise interpreted as a line terminator, which is not allowed within a string literal—one must write `\n` instead of `\u000A` to cause a LINE FEED (LF) to be part of the String value of a string literal. In an ECMAScript program, a Unicode escape sequence occurring within a comment is never interpreted and therefore cannot contribute to termination of the comment. Similarly, a Unicode escape sequence occurring within a string literal in an ECMAScript program always contributes to the literal and is never interpreted as a line terminator or as a code point that might terminate the string literal.

## 11.1.1 Static Semantics: UTF16EncodeCodePoint ( cp )

The abstract operation UTF16EncodeCodePoint takes argument cp (a Unicode code point). It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): 0 ≤ cp ≤ 0x10FFFF.
2.  If cp ≤ 0xFFFF, return the String value consisting of the code unit whose value is cp.
3.  Let cu1 be the code unit whose value is [floor](https://262.ecma-international.org/12.0/#eqn-floor)((cp - 0x10000) / 0x400) + 0xD800.
4.  Let cu2 be the code unit whose value is ((cp - 0x10000) [modulo](https://262.ecma-international.org/12.0/#eqn-modulo) 0x400) + 0xDC00.
5.  Return the [string-concatenation](https://262.ecma-international.org/12.0/#string-concatenation) of cu1 and cu2.

## 11.1.2 Static Semantics: CodePointsToString ( text )

The abstract operation CodePointsToString takes argument text (a sequence of Unicode code points). It converts text into a String value, as described in [6.1.4](https://262.ecma-international.org/12.0/#sec-ecmascript-language-types-string-type). It performs the following steps when called:

1.  Let result be the empty String.
2.  For each code point cp of text, do
    1.  Set result to the [string-concatenation](https://262.ecma-international.org/12.0/#string-concatenation) of result and ! [UTF16EncodeCodePoint](https://262.ecma-international.org/12.0/#sec-utf16encodecodepoint)(cp).
3.  Return result.

## 11.1.3 Static Semantics: UTF16SurrogatePairToCodePoint ( lead, trail )

The abstract operation UTF16SurrogatePairToCodePoint takes arguments lead (a code unit) and trail (a code unit). Two code units that form a UTF-16 [surrogate pair](https://262.ecma-international.org/12.0/#surrogate-pair) are converted to a code point. It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): lead is a [leading surrogate](https://262.ecma-international.org/12.0/#leading-surrogate) and trail is a [trailing surrogate](https://262.ecma-international.org/12.0/#trailing-surrogate).
2.  Let cp be (lead - 0xD800) × 0x400 + (trail - 0xDC00) + 0x10000.
3.  Return the code point cp.

## 11.1.4 Static Semantics: CodePointAt ( string, position )

The abstract operation CodePointAt takes arguments string (a String) and position (a non-negative [integer](https://262.ecma-international.org/12.0/#integer)). It interprets string as a sequence of UTF-16 encoded code points, as described in [6.1.4](https://262.ecma-international.org/12.0/#sec-ecmascript-language-types-string-type), and reads from it a single code point starting with the code unit at index position. It performs the following steps when called:

1.  Let size be the length of string.
2.  [Assert](https://262.ecma-international.org/12.0/#assert): position ≥ 0 and position < size.
3.  Let first be the code unit at index position within string.
4.  Let cp be the code point whose numeric value is that of first.
5.  If first is not a [leading surrogate](https://262.ecma-international.org/12.0/#leading-surrogate) or [trailing surrogate](https://262.ecma-international.org/12.0/#trailing-surrogate), then
    1.  Return the [Record](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) { \[\[CodePoint\]\]: cp, \[\[CodeUnitCount\]\]: 1, \[\[IsUnpairedSurrogate\]\]: false }.
6.  If first is a [trailing surrogate](https://262.ecma-international.org/12.0/#trailing-surrogate) or position + 1 = size, then
    1.  Return the [Record](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) { \[\[CodePoint\]\]: cp, \[\[CodeUnitCount\]\]: 1, \[\[IsUnpairedSurrogate\]\]: true }.
7.  Let second be the code unit at index position + 1 within string.
8.  If second is not a [trailing surrogate](https://262.ecma-international.org/12.0/#trailing-surrogate), then
    1.  Return the [Record](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) { \[\[CodePoint\]\]: cp, \[\[CodeUnitCount\]\]: 1, \[\[IsUnpairedSurrogate\]\]: true }.
9.  Set cp to ! [UTF16SurrogatePairToCodePoint](https://262.ecma-international.org/12.0/#sec-utf16decodesurrogatepair)(first, second).
10.  Return the [Record](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) { \[\[CodePoint\]\]: cp, \[\[CodeUnitCount\]\]: 2, \[\[IsUnpairedSurrogate\]\]: false }.

## 11.1.5 Static Semantics: StringToCodePoints ( string )

The abstract operation StringToCodePoints takes argument string (a String). It returns the sequence of Unicode code points that results from interpreting string as UTF-16 encoded Unicode text as described in [6.1.4](https://262.ecma-international.org/12.0/#sec-ecmascript-language-types-string-type). It performs the following steps when called:

1.  Let codePoints be a new empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).
2.  Let size be the length of string.
3.  Let position be 0.
4.  Repeat, while position < size,
    1.  Let cp be ! [CodePointAt](https://262.ecma-international.org/12.0/#sec-codepointat)(string, position).
    2.  Append cp.\[\[CodePoint\]\] to codePoints.
    3.  Set position to position + cp.\[\[CodeUnitCount\]\].
5.  Return codePoints.

## 11.1.6 Static Semantics: ParseText ( sourceText, goalSymbol )

The abstract operation ParseText takes arguments sourceText (a sequence of Unicode code points) and goalSymbol (a nonterminal in one of the ECMAScript grammars). It performs the following steps when called:

1.  Attempt to parse sourceText using goalSymbol as the [goal symbol](https://262.ecma-international.org/12.0/#sec-context-free-grammars), and analyse the parse result for any [early error](https://262.ecma-international.org/12.0/#early-error) conditions. Parsing and [early error](https://262.ecma-international.org/12.0/#early-error) detection may be interleaved in an [implementation-defined](https://262.ecma-international.org/12.0/#implementation-defined) manner.
2.  If the parse succeeded and no early errors were found, return the [Parse Node](https://262.ecma-international.org/12.0/#sec-syntactic-grammar) (an instance of goalSymbol) at the root of the parse tree resulting from the parse.
3.  Otherwise, return a [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) of one or more SyntaxError objects representing the parsing errors and/or early errors. If more than one parsing error or [early error](https://262.ecma-international.org/12.0/#early-error) is present, the number and ordering of error objects in the list is [implementation-defined](https://262.ecma-international.org/12.0/#implementation-defined), but at least one must be present.

Note 1

Consider a text that has an [early error](https://262.ecma-international.org/12.0/#early-error) at a particular point, and also a syntax error at a later point. An implementation that does a parse pass followed by an early errors pass might report the syntax error and not proceed to the early errors pass. An implementation that interleaves the two activities might report the [early error](https://262.ecma-international.org/12.0/#early-error) and not proceed to find the syntax error. A third implementation might report both errors. All of these behaviours are conformant.

Note 2

See also clause [17](https://262.ecma-international.org/12.0/#sec-error-handling-and-language-extensions).

## 11.2 Types of Source Code

There are four types of ECMAScript code:

-   _Global code_ is source text that is treated as an ECMAScript [Script](https://262.ecma-international.org/12.0/#prod-Script). The global code of a particular [Script](https://262.ecma-international.org/12.0/#prod-Script) does not include any source text that is parsed as part of a [FunctionDeclaration](https://262.ecma-international.org/12.0/#prod-FunctionDeclaration), [FunctionExpression](https://262.ecma-international.org/12.0/#prod-FunctionExpression), [GeneratorDeclaration](https://262.ecma-international.org/12.0/#prod-GeneratorDeclaration), [GeneratorExpression](https://262.ecma-international.org/12.0/#prod-GeneratorExpression), [AsyncFunctionDeclaration](https://262.ecma-international.org/12.0/#prod-AsyncFunctionDeclaration), [AsyncFunctionExpression](https://262.ecma-international.org/12.0/#prod-AsyncFunctionExpression), [AsyncGeneratorDeclaration](https://262.ecma-international.org/12.0/#prod-AsyncGeneratorDeclaration), [AsyncGeneratorExpression](https://262.ecma-international.org/12.0/#prod-AsyncGeneratorExpression), [MethodDefinition](https://262.ecma-international.org/12.0/#prod-MethodDefinition), [ArrowFunction](https://262.ecma-international.org/12.0/#prod-ArrowFunction), [AsyncArrowFunction](https://262.ecma-international.org/12.0/#prod-AsyncArrowFunction), [ClassDeclaration](https://262.ecma-international.org/12.0/#prod-ClassDeclaration), or [ClassExpression](https://262.ecma-international.org/12.0/#prod-ClassExpression).
-   _Eval code_ is the source text supplied to the built-in `eval` function. More precisely, if the parameter to the built-in `eval` function is a String, it is treated as an ECMAScript [Script](https://262.ecma-international.org/12.0/#prod-Script). The eval code for a particular invocation of `eval` is the global code portion of that [Script](https://262.ecma-international.org/12.0/#prod-Script).
-   _Function code_ is source text that is parsed to supply the value of the \[\[ECMAScriptCode\]\] and \[\[FormalParameters\]\] internal slots (see [10.2](https://262.ecma-international.org/12.0/#sec-ecmascript-function-objects)) of an ECMAScript [function object](https://262.ecma-international.org/12.0/#function-object). The function code of a particular ECMAScript function does not include any source text that is parsed as the function code of a nested [FunctionDeclaration](https://262.ecma-international.org/12.0/#prod-FunctionDeclaration), [FunctionExpression](https://262.ecma-international.org/12.0/#prod-FunctionExpression), [GeneratorDeclaration](https://262.ecma-international.org/12.0/#prod-GeneratorDeclaration), [GeneratorExpression](https://262.ecma-international.org/12.0/#prod-GeneratorExpression), [AsyncFunctionDeclaration](https://262.ecma-international.org/12.0/#prod-AsyncFunctionDeclaration), [AsyncFunctionExpression](https://262.ecma-international.org/12.0/#prod-AsyncFunctionExpression), [AsyncGeneratorDeclaration](https://262.ecma-international.org/12.0/#prod-AsyncGeneratorDeclaration), [AsyncGeneratorExpression](https://262.ecma-international.org/12.0/#prod-AsyncGeneratorExpression), [MethodDefinition](https://262.ecma-international.org/12.0/#prod-MethodDefinition), [ArrowFunction](https://262.ecma-international.org/12.0/#prod-ArrowFunction), [AsyncArrowFunction](https://262.ecma-international.org/12.0/#prod-AsyncArrowFunction), [ClassDeclaration](https://262.ecma-international.org/12.0/#prod-ClassDeclaration), or [ClassExpression](https://262.ecma-international.org/12.0/#prod-ClassExpression).
    
    In addition, if the source text referred to above is parsed as:
    
    -   the [FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters) and [FunctionBody](https://262.ecma-international.org/12.0/#prod-FunctionBody) of a [FunctionDeclaration](https://262.ecma-international.org/12.0/#prod-FunctionDeclaration) or [FunctionExpression](https://262.ecma-international.org/12.0/#prod-FunctionExpression),
    -   the [FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters) and [GeneratorBody](https://262.ecma-international.org/12.0/#prod-GeneratorBody) of a [GeneratorDeclaration](https://262.ecma-international.org/12.0/#prod-GeneratorDeclaration) or [GeneratorExpression](https://262.ecma-international.org/12.0/#prod-GeneratorExpression),
    -   the [FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters) and [AsyncFunctionBody](https://262.ecma-international.org/12.0/#prod-AsyncFunctionBody) of an [AsyncFunctionDeclaration](https://262.ecma-international.org/12.0/#prod-AsyncFunctionDeclaration) or [AsyncFunctionExpression](https://262.ecma-international.org/12.0/#prod-AsyncFunctionExpression), or
    -   the [FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters) and [AsyncGeneratorBody](https://262.ecma-international.org/12.0/#prod-AsyncGeneratorBody) of an [AsyncGeneratorDeclaration](https://262.ecma-international.org/12.0/#prod-AsyncGeneratorDeclaration) or [AsyncGeneratorExpression](https://262.ecma-international.org/12.0/#prod-AsyncGeneratorExpression),
    
    then the source text matching the [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier) (if any) of that declaration or expression is also included in the function code of the corresponding function.
    
-   _Module code_ is source text that is code that is provided as a [ModuleBody](https://262.ecma-international.org/12.0/#prod-ModuleBody). It is the code that is directly evaluated when a module is initialized. The module code of a particular module does not include any source text that is parsed as part of a nested [FunctionDeclaration](https://262.ecma-international.org/12.0/#prod-FunctionDeclaration), [FunctionExpression](https://262.ecma-international.org/12.0/#prod-FunctionExpression), [GeneratorDeclaration](https://262.ecma-international.org/12.0/#prod-GeneratorDeclaration), [GeneratorExpression](https://262.ecma-international.org/12.0/#prod-GeneratorExpression), [AsyncFunctionDeclaration](https://262.ecma-international.org/12.0/#prod-AsyncFunctionDeclaration), [AsyncFunctionExpression](https://262.ecma-international.org/12.0/#prod-AsyncFunctionExpression), [AsyncGeneratorDeclaration](https://262.ecma-international.org/12.0/#prod-AsyncGeneratorDeclaration), [AsyncGeneratorExpression](https://262.ecma-international.org/12.0/#prod-AsyncGeneratorExpression), [MethodDefinition](https://262.ecma-international.org/12.0/#prod-MethodDefinition), [ArrowFunction](https://262.ecma-international.org/12.0/#prod-ArrowFunction), [AsyncArrowFunction](https://262.ecma-international.org/12.0/#prod-AsyncArrowFunction), [ClassDeclaration](https://262.ecma-international.org/12.0/#prod-ClassDeclaration), or [ClassExpression](https://262.ecma-international.org/12.0/#prod-ClassExpression).

Note 1

Function code is generally provided as the bodies of Function Definitions ([15.2](https://262.ecma-international.org/12.0/#sec-function-definitions)), Arrow Function Definitions ([15.3](https://262.ecma-international.org/12.0/#sec-arrow-function-definitions)), Method Definitions ([15.4](https://262.ecma-international.org/12.0/#sec-method-definitions)), Generator Function Definitions ([15.5](https://262.ecma-international.org/12.0/#sec-generator-function-definitions)), Async Function Definitions ([15.8](https://262.ecma-international.org/12.0/#sec-async-function-definitions)), Async Generator Function Definitions ([15.6](https://262.ecma-international.org/12.0/#sec-async-generator-function-definitions)), and Async Arrow Functions ([15.9](https://262.ecma-international.org/12.0/#sec-async-arrow-function-definitions)). Function code is also derived from the arguments to the Function [constructor](https://262.ecma-international.org/12.0/#constructor) ([20.2.1.1](https://262.ecma-international.org/12.0/#sec-function-p1-p2-pn-body)), the GeneratorFunction [constructor](https://262.ecma-international.org/12.0/#constructor) ([27.3.1.1](https://262.ecma-international.org/12.0/#sec-generatorfunction)), and the AsyncFunction [constructor](https://262.ecma-international.org/12.0/#constructor) ([27.7.1.1](https://262.ecma-international.org/12.0/#sec-async-function-constructor-arguments)).

Note 2

The practical effect of including the [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier) in function code is that the Early Errors for [strict mode code](https://262.ecma-international.org/12.0/#sec-strict-mode-code) are applied to a [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier) that is the name of a function whose body contains a "use strict" directive, even if the surrounding code is not [strict mode code](https://262.ecma-international.org/12.0/#sec-strict-mode-code).

## 11.2.1 Directive Prologues and the Use Strict Directive

A Directive Prologue is the longest sequence of [ExpressionStatement](https://262.ecma-international.org/12.0/#prod-ExpressionStatement)s occurring as the initial [StatementListItem](https://262.ecma-international.org/12.0/#prod-StatementListItem)s or [ModuleItem](https://262.ecma-international.org/12.0/#prod-ModuleItem)s of a [FunctionBody](https://262.ecma-international.org/12.0/#prod-FunctionBody), a [ScriptBody](https://262.ecma-international.org/12.0/#prod-ScriptBody), or a [ModuleBody](https://262.ecma-international.org/12.0/#prod-ModuleBody) and where each [ExpressionStatement](https://262.ecma-international.org/12.0/#prod-ExpressionStatement) in the sequence consists entirely of a [StringLiteral](https://262.ecma-international.org/12.0/#prod-StringLiteral) token followed by a semicolon. The semicolon may appear explicitly or may be inserted by automatic semicolon insertion ([12.9](https://262.ecma-international.org/12.0/#sec-automatic-semicolon-insertion)). A [Directive Prologue](https://262.ecma-international.org/12.0/#directive-prologue) may be an empty sequence.

A Use Strict Directive is an [ExpressionStatement](https://262.ecma-international.org/12.0/#prod-ExpressionStatement) in a [Directive Prologue](https://262.ecma-international.org/12.0/#directive-prologue) whose [StringLiteral](https://262.ecma-international.org/12.0/#prod-StringLiteral) is either of the exact code point sequences `"use strict"` or `'use strict'`. A [Use Strict Directive](https://262.ecma-international.org/12.0/#use-strict-directive) may not contain an [EscapeSequence](https://262.ecma-international.org/12.0/#prod-EscapeSequence) or [LineContinuation](https://262.ecma-international.org/12.0/#prod-LineContinuation).

A [Directive Prologue](https://262.ecma-international.org/12.0/#directive-prologue) may contain more than one [Use Strict Directive](https://262.ecma-international.org/12.0/#use-strict-directive). However, an implementation may issue a warning if this occurs.

Note

The [ExpressionStatement](https://262.ecma-international.org/12.0/#prod-ExpressionStatement)s of a [Directive Prologue](https://262.ecma-international.org/12.0/#directive-prologue) are evaluated normally during evaluation of the containing production. Implementations may define implementation specific meanings for [ExpressionStatement](https://262.ecma-international.org/12.0/#prod-ExpressionStatement)s which are not a [Use Strict Directive](https://262.ecma-international.org/12.0/#use-strict-directive) and which occur in a [Directive Prologue](https://262.ecma-international.org/12.0/#directive-prologue). If an appropriate notification mechanism exists, an implementation should issue a warning if it encounters in a [Directive Prologue](https://262.ecma-international.org/12.0/#directive-prologue) an [ExpressionStatement](https://262.ecma-international.org/12.0/#prod-ExpressionStatement) that is not a [Use Strict Directive](https://262.ecma-international.org/12.0/#use-strict-directive) and which does not have a meaning defined by the implementation.

## 11.2.2 Strict Mode Code

An ECMAScript syntactic unit may be processed using either unrestricted or strict mode syntax and semantics ([4.3.2](https://262.ecma-international.org/12.0/#sec-strict-variant-of-ecmascript)). Code is interpreted as strict mode code in the following situations:

-   Global code is strict mode code if it begins with a [Directive Prologue](https://262.ecma-international.org/12.0/#directive-prologue) that contains a [Use Strict Directive](https://262.ecma-international.org/12.0/#use-strict-directive).
-   Module code is always strict mode code.
-   All parts of a [ClassDeclaration](https://262.ecma-international.org/12.0/#prod-ClassDeclaration) or a [ClassExpression](https://262.ecma-international.org/12.0/#prod-ClassExpression) are strict mode code.
-   Eval code is strict mode code if it begins with a [Directive Prologue](https://262.ecma-international.org/12.0/#directive-prologue) that contains a [Use Strict Directive](https://262.ecma-international.org/12.0/#use-strict-directive) or if the call to `eval` is a [direct eval](https://262.ecma-international.org/12.0/#sec-function-calls-runtime-semantics-evaluation) that is contained in strict mode code.
-   Function code is strict mode code if the associated [FunctionDeclaration](https://262.ecma-international.org/12.0/#prod-FunctionDeclaration), [FunctionExpression](https://262.ecma-international.org/12.0/#prod-FunctionExpression), [GeneratorDeclaration](https://262.ecma-international.org/12.0/#prod-GeneratorDeclaration), [GeneratorExpression](https://262.ecma-international.org/12.0/#prod-GeneratorExpression), [AsyncFunctionDeclaration](https://262.ecma-international.org/12.0/#prod-AsyncFunctionDeclaration), [AsyncFunctionExpression](https://262.ecma-international.org/12.0/#prod-AsyncFunctionExpression), [AsyncGeneratorDeclaration](https://262.ecma-international.org/12.0/#prod-AsyncGeneratorDeclaration), [AsyncGeneratorExpression](https://262.ecma-international.org/12.0/#prod-AsyncGeneratorExpression), [MethodDefinition](https://262.ecma-international.org/12.0/#prod-MethodDefinition), [ArrowFunction](https://262.ecma-international.org/12.0/#prod-ArrowFunction), or [AsyncArrowFunction](https://262.ecma-international.org/12.0/#prod-AsyncArrowFunction) is contained in strict mode code or if the code that produces the value of the function's \[\[ECMAScriptCode\]\] internal slot begins with a [Directive Prologue](https://262.ecma-international.org/12.0/#directive-prologue) that contains a [Use Strict Directive](https://262.ecma-international.org/12.0/#use-strict-directive).
-   Function code that is supplied as the arguments to the built-in Function, Generator, AsyncFunction, and AsyncGenerator constructors is strict mode code if the last argument is a String that when processed is a [FunctionBody](https://262.ecma-international.org/12.0/#prod-FunctionBody) that begins with a [Directive Prologue](https://262.ecma-international.org/12.0/#directive-prologue) that contains a [Use Strict Directive](https://262.ecma-international.org/12.0/#use-strict-directive).

ECMAScript code that is not strict mode code is called non-strict code.

## 11.2.3 Non-ECMAScript Functions

An ECMAScript implementation may support the evaluation of function exotic objects whose evaluative behaviour is expressed in some [host-defined](https://262.ecma-international.org/12.0/#host-defined) form of executable code other than via ECMAScript code. Whether a [function object](https://262.ecma-international.org/12.0/#function-object) is an ECMAScript code function or a non-ECMAScript function is not semantically observable from the perspective of an ECMAScript code function that calls or is called by such a non-ECMAScript function.

## 12 ECMAScript Language: Lexical Grammar

The source text of an ECMAScript [Script](https://262.ecma-international.org/12.0/#prod-Script) or [Module](https://262.ecma-international.org/12.0/#prod-Module) is first converted into a sequence of input elements, which are tokens, line terminators, comments, or white space. The source text is scanned from left to right, repeatedly taking the longest possible sequence of code points as the next input element.

There are several situations where the identification of lexical input elements is sensitive to the syntactic grammar context that is consuming the input elements. This requires multiple goal symbols for the lexical grammar. The [InputElementRegExpOrTemplateTail](https://262.ecma-international.org/12.0/#prod-InputElementRegExpOrTemplateTail) goal is used in syntactic grammar contexts where a [RegularExpressionLiteral](https://262.ecma-international.org/12.0/#prod-RegularExpressionLiteral), a [TemplateMiddle](https://262.ecma-international.org/12.0/#prod-TemplateMiddle), or a [TemplateTail](https://262.ecma-international.org/12.0/#prod-TemplateTail) is permitted. The [InputElementRegExp](https://262.ecma-international.org/12.0/#prod-InputElementRegExp) [goal symbol](https://262.ecma-international.org/12.0/#sec-context-free-grammars) is used in all syntactic grammar contexts where a [RegularExpressionLiteral](https://262.ecma-international.org/12.0/#prod-RegularExpressionLiteral) is permitted but neither a [TemplateMiddle](https://262.ecma-international.org/12.0/#prod-TemplateMiddle), nor a [TemplateTail](https://262.ecma-international.org/12.0/#prod-TemplateTail) is permitted. The [InputElementTemplateTail](https://262.ecma-international.org/12.0/#prod-InputElementTemplateTail) goal is used in all syntactic grammar contexts where a [TemplateMiddle](https://262.ecma-international.org/12.0/#prod-TemplateMiddle) or a [TemplateTail](https://262.ecma-international.org/12.0/#prod-TemplateTail) is permitted but a [RegularExpressionLiteral](https://262.ecma-international.org/12.0/#prod-RegularExpressionLiteral) is not permitted. In all other contexts, [InputElementDiv](https://262.ecma-international.org/12.0/#prod-InputElementDiv) is used as the lexical [goal symbol](https://262.ecma-international.org/12.0/#sec-context-free-grammars).

Note

The use of multiple lexical goals ensures that there are no lexical ambiguities that would affect automatic semicolon insertion. For example, there are no syntactic grammar contexts where both a leading division or division-assignment, and a leading [RegularExpressionLiteral](https://262.ecma-international.org/12.0/#prod-RegularExpressionLiteral) are permitted. This is not affected by semicolon insertion (see [12.9](https://262.ecma-international.org/12.0/#sec-automatic-semicolon-insertion)); in examples such as the following:

```
a = b
/hi/g.exec(c).map(d);
```

where the first non-whitespace, non-comment code point after a [LineTerminator](https://262.ecma-international.org/12.0/#prod-LineTerminator) is U+002F (SOLIDUS) and the syntactic context allows division or division-assignment, no semicolon is inserted at the [LineTerminator](https://262.ecma-international.org/12.0/#prod-LineTerminator). That is, the above example is interpreted in the same way as:

```
a = b / hi / g.exec(c).map(d);
```

## Syntax

[InputElementDiv](https://262.ecma-international.org/12.0/#prod-InputElementDiv) :: [WhiteSpace](https://262.ecma-international.org/12.0/#prod-WhiteSpace) [LineTerminator](https://262.ecma-international.org/12.0/#prod-LineTerminator) [Comment](https://262.ecma-international.org/12.0/#prod-Comment) [CommonToken](https://262.ecma-international.org/12.0/#prod-CommonToken) [DivPunctuator](https://262.ecma-international.org/12.0/#prod-DivPunctuator) [RightBracePunctuator](https://262.ecma-international.org/12.0/#prod-RightBracePunctuator) [InputElementRegExp](https://262.ecma-international.org/12.0/#prod-InputElementRegExp) :: [WhiteSpace](https://262.ecma-international.org/12.0/#prod-WhiteSpace) [LineTerminator](https://262.ecma-international.org/12.0/#prod-LineTerminator) [Comment](https://262.ecma-international.org/12.0/#prod-Comment) [CommonToken](https://262.ecma-international.org/12.0/#prod-CommonToken) [RightBracePunctuator](https://262.ecma-international.org/12.0/#prod-RightBracePunctuator) [RegularExpressionLiteral](https://262.ecma-international.org/12.0/#prod-RegularExpressionLiteral) [InputElementRegExpOrTemplateTail](https://262.ecma-international.org/12.0/#prod-InputElementRegExpOrTemplateTail) :: [WhiteSpace](https://262.ecma-international.org/12.0/#prod-WhiteSpace) [LineTerminator](https://262.ecma-international.org/12.0/#prod-LineTerminator) [Comment](https://262.ecma-international.org/12.0/#prod-Comment) [CommonToken](https://262.ecma-international.org/12.0/#prod-CommonToken) [RegularExpressionLiteral](https://262.ecma-international.org/12.0/#prod-RegularExpressionLiteral) [TemplateSubstitutionTail](https://262.ecma-international.org/12.0/#prod-TemplateSubstitutionTail) [InputElementTemplateTail](https://262.ecma-international.org/12.0/#prod-InputElementTemplateTail) :: [WhiteSpace](https://262.ecma-international.org/12.0/#prod-WhiteSpace) [LineTerminator](https://262.ecma-international.org/12.0/#prod-LineTerminator) [Comment](https://262.ecma-international.org/12.0/#prod-Comment) [CommonToken](https://262.ecma-international.org/12.0/#prod-CommonToken) [DivPunctuator](https://262.ecma-international.org/12.0/#prod-DivPunctuator) [TemplateSubstitutionTail](https://262.ecma-international.org/12.0/#prod-TemplateSubstitutionTail)

## 12.1 Unicode Format-Control Characters

The Unicode format-control characters (i.e., the characters in category “Cf” in the Unicode Character Database such as LEFT-TO-RIGHT MARK or RIGHT-TO-LEFT MARK) are control codes used to control the formatting of a range of text in the absence of higher-level protocols for this (such as mark-up languages).

It is useful to allow format-control characters in source text to facilitate editing and display. All format control characters may be used within comments, and within string literals, template literals, and regular expression literals.

U+200C (ZERO WIDTH NON-JOINER) and U+200D (ZERO WIDTH JOINER) are format-control characters that are used to make necessary distinctions when forming words or phrases in certain languages. In ECMAScript source text these code points may also be used in an [IdentifierName](https://262.ecma-international.org/12.0/#prod-IdentifierName) after the first character.

U+FEFF (ZERO WIDTH NO-BREAK SPACE) is a format-control character used primarily at the start of a text to mark it as Unicode and to allow detection of the text's encoding and byte order. <ZWNBSP> characters intended for this purpose can sometimes also appear after the start of a text, for example as a result of concatenating files. In ECMAScript source text <ZWNBSP> code points are treated as white space characters (see [12.2](https://262.ecma-international.org/12.0/#sec-white-space)).

The special treatment of certain format-control characters outside of comments, string literals, and regular expression literals is summarized in [Table 33](https://262.ecma-international.org/12.0/#table-format-control-code-point-usage).

Table 33: Format-Control Code Point Usage

| Code Point | Name | Abbreviation | Usage |
| --- | --- | --- | --- |
| `U+200C` | ZERO WIDTH NON-JOINER | <ZWNJ> | [IdentifierPart](https://262.ecma-international.org/12.0/#prod-IdentifierPart) |
| `U+200D` | ZERO WIDTH JOINER | <ZWJ> | [IdentifierPart](https://262.ecma-international.org/12.0/#prod-IdentifierPart) |
| `U+FEFF` | ZERO WIDTH NO-BREAK SPACE | <ZWNBSP> | [WhiteSpace](https://262.ecma-international.org/12.0/#prod-WhiteSpace) |

## 12.2 White Space

White space code points are used to improve source text readability and to separate tokens (indivisible lexical units) from each other, but are otherwise insignificant. White space code points may occur between any two tokens and at the start or end of input. White space code points may occur within a [StringLiteral](https://262.ecma-international.org/12.0/#prod-StringLiteral), a [RegularExpressionLiteral](https://262.ecma-international.org/12.0/#prod-RegularExpressionLiteral), a [Template](https://262.ecma-international.org/12.0/#prod-Template), or a [TemplateSubstitutionTail](https://262.ecma-international.org/12.0/#prod-TemplateSubstitutionTail) where they are considered significant code points forming part of a literal value. They may also occur within a [Comment](https://262.ecma-international.org/12.0/#prod-Comment), but cannot appear within any other kind of token.

The ECMAScript white space code points are listed in [Table 34](https://262.ecma-international.org/12.0/#table-white-space-code-points).

Table 34: White Space Code Points

| Code Point | Name | Abbreviation |
| --- | --- | --- |
| `U+0009` | CHARACTER TABULATION | <TAB> |
| `U+000B` | LINE TABULATION | <VT> |
| `U+000C` | FORM FEED (FF) | <FF> |
| `U+0020` | SPACE | <SP> |
| `U+00A0` | NO-BREAK SPACE | <NBSP> |
| `U+FEFF` | ZERO WIDTH NO-BREAK SPACE | <ZWNBSP> |
| Other category “Zs” | Any other Unicode “Space\_Separator” code point | <USP> |

ECMAScript implementations must recognize as [WhiteSpace](https://262.ecma-international.org/12.0/#prod-WhiteSpace) code points listed in the “Space\_Separator” (“Zs”) category.

Note

Other than for the code points listed in [Table 34](https://262.ecma-international.org/12.0/#table-white-space-code-points), ECMAScript [WhiteSpace](https://262.ecma-international.org/12.0/#prod-WhiteSpace) intentionally excludes all code points that have the Unicode “White\_Space” property but which are not classified in category “Space\_Separator” (“Zs”).

## Syntax

[WhiteSpace](https://262.ecma-international.org/12.0/#prod-WhiteSpace) :: <TAB> <VT> <FF> <SP> <NBSP> <ZWNBSP> <USP>

## 12.3 Line Terminators

Like white space code points, line terminator code points are used to improve source text readability and to separate tokens (indivisible lexical units) from each other. However, unlike white space code points, line terminators have some influence over the behaviour of the syntactic grammar. In general, line terminators may occur between any two tokens, but there are a few places where they are forbidden by the syntactic grammar. Line terminators also affect the process of automatic semicolon insertion ([12.9](https://262.ecma-international.org/12.0/#sec-automatic-semicolon-insertion)). A line terminator cannot occur within any token except a [StringLiteral](https://262.ecma-international.org/12.0/#prod-StringLiteral), [Template](https://262.ecma-international.org/12.0/#prod-Template), or [TemplateSubstitutionTail](https://262.ecma-international.org/12.0/#prod-TemplateSubstitutionTail). <LF> and <CR> line terminators cannot occur within a [StringLiteral](https://262.ecma-international.org/12.0/#prod-StringLiteral) token except as part of a [LineContinuation](https://262.ecma-international.org/12.0/#prod-LineContinuation).

A line terminator can occur within a [MultiLineComment](https://262.ecma-international.org/12.0/#prod-MultiLineComment) but cannot occur within a [SingleLineComment](https://262.ecma-international.org/12.0/#prod-SingleLineComment).

Line terminators are included in the set of white space code points that are matched by the `\s` class in regular expressions.

The ECMAScript line terminator code points are listed in [Table 35](https://262.ecma-international.org/12.0/#table-line-terminator-code-points).

Table 35: Line Terminator Code Points

| Code Point | Unicode Name | Abbreviation |
| --- | --- | --- |
| `U+000A` | LINE FEED (LF) | <LF> |
| `U+000D` | CARRIAGE RETURN (CR) | <CR> |
| `U+2028` | LINE SEPARATOR | <LS> |
| `U+2029` | PARAGRAPH SEPARATOR | <PS> |

Only the Unicode code points in [Table 35](https://262.ecma-international.org/12.0/#table-line-terminator-code-points) are treated as line terminators. Other new line or line breaking Unicode code points are not treated as line terminators but are treated as white space if they meet the requirements listed in [Table 34](https://262.ecma-international.org/12.0/#table-white-space-code-points). The sequence <CR><LF> is commonly used as a line terminator. It should be considered a single [SourceCharacter](https://262.ecma-international.org/12.0/#prod-SourceCharacter) for the purpose of reporting line numbers.

## Syntax

[LineTerminator](https://262.ecma-international.org/12.0/#prod-LineTerminator) :: <LF> <CR> <LS> <PS> [LineTerminatorSequence](https://262.ecma-international.org/12.0/#prod-LineTerminatorSequence) :: <LF> <CR> \[lookahead ≠ <LF>\] <LS> <PS> <CR> <LF>

## 12.5 Tokens

## Syntax

[CommonToken](https://262.ecma-international.org/12.0/#prod-CommonToken) :: [IdentifierName](https://262.ecma-international.org/12.0/#prod-IdentifierName) [Punctuator](https://262.ecma-international.org/12.0/#prod-Punctuator) [NumericLiteral](https://262.ecma-international.org/12.0/#prod-NumericLiteral) [StringLiteral](https://262.ecma-international.org/12.0/#prod-StringLiteral) [Template](https://262.ecma-international.org/12.0/#prod-Template) Note

The [DivPunctuator](https://262.ecma-international.org/12.0/#prod-DivPunctuator), [RegularExpressionLiteral](https://262.ecma-international.org/12.0/#prod-RegularExpressionLiteral), [RightBracePunctuator](https://262.ecma-international.org/12.0/#prod-RightBracePunctuator), and [TemplateSubstitutionTail](https://262.ecma-international.org/12.0/#prod-TemplateSubstitutionTail) productions derive additional tokens that are not included in the [CommonToken](https://262.ecma-international.org/12.0/#prod-CommonToken) production.

## 12.6 Names and Keywords

[IdentifierName](https://262.ecma-international.org/12.0/#prod-IdentifierName) and [ReservedWord](https://262.ecma-international.org/12.0/#prod-ReservedWord) are tokens that are interpreted according to the Default Identifier Syntax given in Unicode Standard Annex #31, Identifier and Pattern Syntax, with some small modifications. [ReservedWord](https://262.ecma-international.org/12.0/#prod-ReservedWord) is an enumerated subset of [IdentifierName](https://262.ecma-international.org/12.0/#prod-IdentifierName). The syntactic grammar defines [Identifier](https://262.ecma-international.org/12.0/#prod-Identifier) as an [IdentifierName](https://262.ecma-international.org/12.0/#prod-IdentifierName) that is not a [ReservedWord](https://262.ecma-international.org/12.0/#prod-ReservedWord). The Unicode identifier grammar is based on character properties specified by the Unicode Standard. The Unicode code points in the specified categories in the latest version of the Unicode standard must be treated as in those categories by all conforming ECMAScript implementations. ECMAScript implementations may recognize identifier code points defined in later editions of the Unicode Standard.

Note 1

This standard specifies specific code point additions: U+0024 (DOLLAR SIGN) and U+005F (LOW LINE) are permitted anywhere in an [IdentifierName](https://262.ecma-international.org/12.0/#prod-IdentifierName), and the code points U+200C (ZERO WIDTH NON-JOINER) and U+200D (ZERO WIDTH JOINER) are permitted anywhere after the first code point of an [IdentifierName](https://262.ecma-international.org/12.0/#prod-IdentifierName).

Unicode escape sequences are permitted in an [IdentifierName](https://262.ecma-international.org/12.0/#prod-IdentifierName), where they contribute a single Unicode code point to the [IdentifierName](https://262.ecma-international.org/12.0/#prod-IdentifierName). The code point is expressed by the [CodePoint](https://262.ecma-international.org/12.0/#prod-CodePoint) of the [UnicodeEscapeSequence](https://262.ecma-international.org/12.0/#prod-UnicodeEscapeSequence) (see [12.8.4](https://262.ecma-international.org/12.0/#sec-literals-string-literals)). The `\` preceding the [UnicodeEscapeSequence](https://262.ecma-international.org/12.0/#prod-UnicodeEscapeSequence) and the `u` and `{ }` code units, if they appear, do not contribute code points to the [IdentifierName](https://262.ecma-international.org/12.0/#prod-IdentifierName). A [UnicodeEscapeSequence](https://262.ecma-international.org/12.0/#prod-UnicodeEscapeSequence) cannot be used to put a code point into an [IdentifierName](https://262.ecma-international.org/12.0/#prod-IdentifierName) that would otherwise be illegal. In other words, if a `\` [UnicodeEscapeSequence](https://262.ecma-international.org/12.0/#prod-UnicodeEscapeSequence) sequence were replaced by the [SourceCharacter](https://262.ecma-international.org/12.0/#prod-SourceCharacter) it contributes, the result must still be a valid [IdentifierName](https://262.ecma-international.org/12.0/#prod-IdentifierName) that has the exact same sequence of [SourceCharacter](https://262.ecma-international.org/12.0/#prod-SourceCharacter) elements as the original [IdentifierName](https://262.ecma-international.org/12.0/#prod-IdentifierName). All interpretations of [IdentifierName](https://262.ecma-international.org/12.0/#prod-IdentifierName) within this specification are based upon their actual code points regardless of whether or not an escape sequence was used to contribute any particular code point.

Two [IdentifierName](https://262.ecma-international.org/12.0/#prod-IdentifierName)s that are canonically equivalent according to the Unicode standard are _not_ equal unless, after replacement of each [UnicodeEscapeSequence](https://262.ecma-international.org/12.0/#prod-UnicodeEscapeSequence), they are represented by the exact same sequence of code points.

## Syntax

[IdentifierName](https://262.ecma-international.org/12.0/#prod-IdentifierName) :: [IdentifierStart](https://262.ecma-international.org/12.0/#prod-IdentifierStart) [IdentifierName](https://262.ecma-international.org/12.0/#prod-IdentifierName) [IdentifierPart](https://262.ecma-international.org/12.0/#prod-IdentifierPart) [IdentifierStart](https://262.ecma-international.org/12.0/#prod-IdentifierStart) :: [UnicodeIDStart](https://262.ecma-international.org/12.0/#prod-UnicodeIDStart) $ \_ \\ [UnicodeEscapeSequence](https://262.ecma-international.org/12.0/#prod-UnicodeEscapeSequence) [IdentifierPart](https://262.ecma-international.org/12.0/#prod-IdentifierPart) :: [UnicodeIDContinue](https://262.ecma-international.org/12.0/#prod-UnicodeIDContinue) $ \\ [UnicodeEscapeSequence](https://262.ecma-international.org/12.0/#prod-UnicodeEscapeSequence) <ZWNJ> <ZWJ> [UnicodeIDStart](https://262.ecma-international.org/12.0/#prod-UnicodeIDStart) :: any Unicode code point with the Unicode property “ID\_Start” [UnicodeIDContinue](https://262.ecma-international.org/12.0/#prod-UnicodeIDContinue) :: any Unicode code point with the Unicode property “ID\_Continue”

The definitions of the nonterminal [UnicodeEscapeSequence](https://262.ecma-international.org/12.0/#prod-UnicodeEscapeSequence) is given in [12.8.4](https://262.ecma-international.org/12.0/#sec-literals-string-literals).

Note 2

The nonterminal [IdentifierPart](https://262.ecma-international.org/12.0/#prod-IdentifierPart) derives `_` via [UnicodeIDContinue](https://262.ecma-international.org/12.0/#prod-UnicodeIDContinue).

Note 3

The sets of code points with Unicode properties “ID\_Start” and “ID\_Continue” include, respectively, the code points with Unicode properties “Other\_ID\_Start” and “Other\_ID\_Continue”.

## 12.6.1 Identifier Names

## 12.6.1.1 Static Semantics: Early Errors

[IdentifierStart](https://262.ecma-international.org/12.0/#prod-IdentifierStart) :: \\ [UnicodeEscapeSequence](https://262.ecma-international.org/12.0/#prod-UnicodeEscapeSequence)

-   It is a Syntax Error if the [SV](https://262.ecma-international.org/12.0/#sec-static-semantics-sv) of [UnicodeEscapeSequence](https://262.ecma-international.org/12.0/#prod-UnicodeEscapeSequence) is none of "$", or "\_", or ! [UTF16EncodeCodePoint](https://262.ecma-international.org/12.0/#sec-utf16encodecodepoint)(cp) for some Unicode code point cp matched by the [UnicodeIDStart](https://262.ecma-international.org/12.0/#prod-UnicodeIDStart) lexical grammar production.

[IdentifierPart](https://262.ecma-international.org/12.0/#prod-IdentifierPart) :: \\ [UnicodeEscapeSequence](https://262.ecma-international.org/12.0/#prod-UnicodeEscapeSequence)

-   It is a Syntax Error if the [SV](https://262.ecma-international.org/12.0/#sec-static-semantics-sv) of [UnicodeEscapeSequence](https://262.ecma-international.org/12.0/#prod-UnicodeEscapeSequence) is none of "$", "\_", ! [UTF16EncodeCodePoint](https://262.ecma-international.org/12.0/#sec-utf16encodecodepoint)(<ZWNJ>), ! [UTF16EncodeCodePoint](https://262.ecma-international.org/12.0/#sec-utf16encodecodepoint)(<ZWJ>), or ! [UTF16EncodeCodePoint](https://262.ecma-international.org/12.0/#sec-utf16encodecodepoint)(cp) for some Unicode code point cp that would be matched by the [UnicodeIDContinue](https://262.ecma-international.org/12.0/#prod-UnicodeIDContinue) lexical grammar production.

## 12.6.2 Keywords and Reserved Words

A keyword is a token that matches [IdentifierName](https://262.ecma-international.org/12.0/#prod-IdentifierName), but also has a syntactic use; that is, it appears literally, in a `fixed width` font, in some syntactic production. The keywords of ECMAScript include `if`, `while`, `async`, `await`, and many others.

A reserved word is an [IdentifierName](https://262.ecma-international.org/12.0/#prod-IdentifierName) that cannot be used as an identifier. Many keywords are reserved words, but some are not, and some are reserved only in certain contexts. `if` and `while` are reserved words. `await` is reserved only inside async functions and modules. `async` is not reserved; it can be used as a variable name or statement label without restriction.

This specification uses a combination of grammatical productions and [early error](https://262.ecma-international.org/12.0/#early-error) rules to specify which names are valid identifiers and which are reserved words. All tokens in the [ReservedWord](https://262.ecma-international.org/12.0/#prod-ReservedWord) list below, except for `await` and `yield`, are unconditionally reserved. Exceptions for `await` and `yield` are specified in [13.1](https://262.ecma-international.org/12.0/#sec-identifiers), using parameterized syntactic productions. Lastly, several [early error](https://262.ecma-international.org/12.0/#early-error) rules restrict the set of valid identifiers. See [13.1.1](https://262.ecma-international.org/12.0/#sec-identifiers-static-semantics-early-errors), [14.3.1.1](https://262.ecma-international.org/12.0/#sec-let-and-const-declarations-static-semantics-early-errors), [14.7.5.1](https://262.ecma-international.org/12.0/#sec-for-in-and-for-of-statements-static-semantics-early-errors), and [15.7.1](https://262.ecma-international.org/12.0/#sec-class-definitions-static-semantics-early-errors). In summary, there are five categories of identifier names:

-   Those that are always allowed as identifiers, and are not keywords, such as `Math`, `window`, `toString`, and `_`;
    
-   Those that are never allowed as identifiers, namely the [ReservedWord](https://262.ecma-international.org/12.0/#prod-ReservedWord)s listed below except `await` and `yield`;
    
-   Those that are contextually allowed as identifiers, namely `await` and `yield`;
    
-   Those that are contextually disallowed as identifiers, in [strict mode code](https://262.ecma-international.org/12.0/#sec-strict-mode-code): `let`, `static`, `implements`, `interface`, `package`, `private`, `protected`, and `public`;
    
-   Those that are always allowed as identifiers, but also appear as keywords within certain syntactic productions, at places where [Identifier](https://262.ecma-international.org/12.0/#prod-Identifier) is not allowed: `as`, `async`, `from`, `get`, `of`, `set`, and `target`.
    

The term conditional keyword, or contextual keyword, is sometimes used to refer to the keywords that fall in the last three categories, and thus can be used as identifiers in some contexts and as keywords in others.

## Syntax

[ReservedWord](https://262.ecma-international.org/12.0/#prod-ReservedWord) :: one of await break case catch class const continue debugger default delete do else enum export extends false finally for function if import in instanceof new null return super switch this throw true try typeof var void while with yield Note 1

Per [5.1.5](https://262.ecma-international.org/12.0/#sec-grammar-notation), keywords in the grammar match literal sequences of specific [SourceCharacter](https://262.ecma-international.org/12.0/#prod-SourceCharacter) elements. A code point in a keyword cannot be expressed by a `\` [UnicodeEscapeSequence](https://262.ecma-international.org/12.0/#prod-UnicodeEscapeSequence).

An [IdentifierName](https://262.ecma-international.org/12.0/#prod-IdentifierName) can contain `\` [UnicodeEscapeSequence](https://262.ecma-international.org/12.0/#prod-UnicodeEscapeSequence)s, but it is not possible to declare a variable named "else" by spelling it `els\u{65}`. The [early error](https://262.ecma-international.org/12.0/#early-error) rules in [13.1.1](https://262.ecma-international.org/12.0/#sec-identifiers-static-semantics-early-errors) rule out identifiers with the same [StringValue](https://262.ecma-international.org/12.0/#sec-static-semantics-stringvalue) as a reserved word.

Note 2

`enum` is not currently used as a keyword in this specification. It is a _future reserved word_, set aside for use as a keyword in future language extensions.

Similarly, `implements`, `interface`, `package`, `private`, `protected`, and `public` are future reserved words in [strict mode code](https://262.ecma-international.org/12.0/#sec-strict-mode-code).

Note 3

The names `arguments` and `eval` are not keywords, but they are subject to some restrictions in [strict mode code](https://262.ecma-international.org/12.0/#sec-strict-mode-code). See [13.1.1](https://262.ecma-international.org/12.0/#sec-identifiers-static-semantics-early-errors), [8.5.4](https://262.ecma-international.org/12.0/#sec-static-semantics-assignmenttargettype), [15.2.1](https://262.ecma-international.org/12.0/#sec-function-definitions-static-semantics-early-errors), [15.5.1](https://262.ecma-international.org/12.0/#sec-generator-function-definitions-static-semantics-early-errors), [15.6.1](https://262.ecma-international.org/12.0/#sec-async-generator-function-definitions-static-semantics-early-errors), and [15.8.1](https://262.ecma-international.org/12.0/#sec-async-function-definitions-static-semantics-early-errors).

## 12.7 Punctuators

## Syntax

[Punctuator](https://262.ecma-international.org/12.0/#prod-Punctuator) :: [OptionalChainingPunctuator](https://262.ecma-international.org/12.0/#prod-OptionalChainingPunctuator) [OtherPunctuator](https://262.ecma-international.org/12.0/#prod-OtherPunctuator) [OptionalChainingPunctuator](https://262.ecma-international.org/12.0/#prod-OptionalChainingPunctuator) :: ?. \[lookahead ∉ [DecimalDigit](https://262.ecma-international.org/12.0/#prod-DecimalDigit)\] [OtherPunctuator](https://262.ecma-international.org/12.0/#prod-OtherPunctuator) :: one of { ( ) \[ \] . ... ; , < \> <= \>= \== != \=== !== + \- \* % \*\* ++ \-- << \>> \>>> & | ^ ! ~ && || ?? ? : \= += \-= \*= %= \*\*= <<= \>>= \>>>= &= |= ^= &&= ||= ??= \=> [DivPunctuator](https://262.ecma-international.org/12.0/#prod-DivPunctuator) :: / /= [RightBracePunctuator](https://262.ecma-international.org/12.0/#prod-RightBracePunctuator) :: }

## 12.8 Literals

## 12.8.1 Null Literals

## Syntax

[NullLiteral](https://262.ecma-international.org/12.0/#prod-NullLiteral) :: null

## 12.8.2 Boolean Literals

## Syntax

[BooleanLiteral](https://262.ecma-international.org/12.0/#prod-BooleanLiteral) :: true false

## 12.8.3 Numeric Literals

## Syntax

[NumericLiteralSeparator](https://262.ecma-international.org/12.0/#prod-NumericLiteralSeparator) :: \_ [NumericLiteral](https://262.ecma-international.org/12.0/#prod-NumericLiteral) :: [DecimalLiteral](https://262.ecma-international.org/12.0/#prod-DecimalLiteral) [DecimalBigIntegerLiteral](https://262.ecma-international.org/12.0/#prod-DecimalBigIntegerLiteral) [NonDecimalIntegerLiteral](https://262.ecma-international.org/12.0/#prod-NonDecimalIntegerLiteral)\[+Sep\] [NonDecimalIntegerLiteral](https://262.ecma-international.org/12.0/#prod-NonDecimalIntegerLiteral)\[+Sep\] [BigIntLiteralSuffix](https://262.ecma-international.org/12.0/#prod-BigIntLiteralSuffix) [DecimalBigIntegerLiteral](https://262.ecma-international.org/12.0/#prod-DecimalBigIntegerLiteral) :: 0 [BigIntLiteralSuffix](https://262.ecma-international.org/12.0/#prod-BigIntLiteralSuffix) [NonZeroDigit](https://262.ecma-international.org/12.0/#prod-NonZeroDigit) [DecimalDigits](https://262.ecma-international.org/12.0/#prod-DecimalDigits)\[+Sep\]opt [BigIntLiteralSuffix](https://262.ecma-international.org/12.0/#prod-BigIntLiteralSuffix) [NonZeroDigit](https://262.ecma-international.org/12.0/#prod-NonZeroDigit) [NumericLiteralSeparator](https://262.ecma-international.org/12.0/#prod-NumericLiteralSeparator) [DecimalDigits](https://262.ecma-international.org/12.0/#prod-DecimalDigits)\[+Sep\] [BigIntLiteralSuffix](https://262.ecma-international.org/12.0/#prod-BigIntLiteralSuffix) [NonDecimalIntegerLiteral](https://262.ecma-international.org/12.0/#prod-NonDecimalIntegerLiteral)\[Sep\] :: [BinaryIntegerLiteral](https://262.ecma-international.org/12.0/#prod-BinaryIntegerLiteral)\[?Sep\] [OctalIntegerLiteral](https://262.ecma-international.org/12.0/#prod-OctalIntegerLiteral)\[?Sep\] [HexIntegerLiteral](https://262.ecma-international.org/12.0/#prod-HexIntegerLiteral)\[?Sep\] [BigIntLiteralSuffix](https://262.ecma-international.org/12.0/#prod-BigIntLiteralSuffix) :: n [DecimalLiteral](https://262.ecma-international.org/12.0/#prod-DecimalLiteral) :: [DecimalIntegerLiteral](https://262.ecma-international.org/12.0/#prod-DecimalIntegerLiteral) . [DecimalDigits](https://262.ecma-international.org/12.0/#prod-DecimalDigits)\[+Sep\]opt [ExponentPart](https://262.ecma-international.org/12.0/#prod-ExponentPart)\[+Sep\]opt . [DecimalDigits](https://262.ecma-international.org/12.0/#prod-DecimalDigits)\[+Sep\] [ExponentPart](https://262.ecma-international.org/12.0/#prod-ExponentPart)\[+Sep\]opt [DecimalIntegerLiteral](https://262.ecma-international.org/12.0/#prod-DecimalIntegerLiteral) [ExponentPart](https://262.ecma-international.org/12.0/#prod-ExponentPart)\[+Sep\]opt [DecimalIntegerLiteral](https://262.ecma-international.org/12.0/#prod-DecimalIntegerLiteral) :: 0 [NonZeroDigit](https://262.ecma-international.org/12.0/#prod-NonZeroDigit) [NonZeroDigit](https://262.ecma-international.org/12.0/#prod-NonZeroDigit) [NumericLiteralSeparator](https://262.ecma-international.org/12.0/#prod-NumericLiteralSeparator)opt [DecimalDigits](https://262.ecma-international.org/12.0/#prod-DecimalDigits)\[+Sep\] [DecimalDigits](https://262.ecma-international.org/12.0/#prod-DecimalDigits)\[Sep\] :: [DecimalDigit](https://262.ecma-international.org/12.0/#prod-DecimalDigit) [DecimalDigits](https://262.ecma-international.org/12.0/#prod-DecimalDigits)\[?Sep\] [DecimalDigit](https://262.ecma-international.org/12.0/#prod-DecimalDigit) \[+Sep\] [DecimalDigits](https://262.ecma-international.org/12.0/#prod-DecimalDigits)\[+Sep\] [NumericLiteralSeparator](https://262.ecma-international.org/12.0/#prod-NumericLiteralSeparator) [DecimalDigit](https://262.ecma-international.org/12.0/#prod-DecimalDigit) [DecimalDigit](https://262.ecma-international.org/12.0/#prod-DecimalDigit) :: one of 0 1 2 3 4 5 6 7 8 9 [NonZeroDigit](https://262.ecma-international.org/12.0/#prod-NonZeroDigit) :: one of 1 2 3 4 5 6 7 8 9 [ExponentPart](https://262.ecma-international.org/12.0/#prod-ExponentPart)\[Sep\] :: [ExponentIndicator](https://262.ecma-international.org/12.0/#prod-ExponentIndicator) [SignedInteger](https://262.ecma-international.org/12.0/#prod-SignedInteger)\[?Sep\] [ExponentIndicator](https://262.ecma-international.org/12.0/#prod-ExponentIndicator) :: one of e E [SignedInteger](https://262.ecma-international.org/12.0/#prod-SignedInteger)\[Sep\] :: [DecimalDigits](https://262.ecma-international.org/12.0/#prod-DecimalDigits)\[?Sep\] + [DecimalDigits](https://262.ecma-international.org/12.0/#prod-DecimalDigits)\[?Sep\] \- [DecimalDigits](https://262.ecma-international.org/12.0/#prod-DecimalDigits)\[?Sep\] [BinaryIntegerLiteral](https://262.ecma-international.org/12.0/#prod-BinaryIntegerLiteral)\[Sep\] :: 0b [BinaryDigits](https://262.ecma-international.org/12.0/#prod-BinaryDigits)\[?Sep\] 0B [BinaryDigits](https://262.ecma-international.org/12.0/#prod-BinaryDigits)\[?Sep\] [BinaryDigits](https://262.ecma-international.org/12.0/#prod-BinaryDigits)\[Sep\] :: [BinaryDigit](https://262.ecma-international.org/12.0/#prod-BinaryDigit) [BinaryDigits](https://262.ecma-international.org/12.0/#prod-BinaryDigits)\[?Sep\] [BinaryDigit](https://262.ecma-international.org/12.0/#prod-BinaryDigit) \[+Sep\] [BinaryDigits](https://262.ecma-international.org/12.0/#prod-BinaryDigits)\[+Sep\] [NumericLiteralSeparator](https://262.ecma-international.org/12.0/#prod-NumericLiteralSeparator) [BinaryDigit](https://262.ecma-international.org/12.0/#prod-BinaryDigit) [BinaryDigit](https://262.ecma-international.org/12.0/#prod-BinaryDigit) :: one of 0 1 [OctalIntegerLiteral](https://262.ecma-international.org/12.0/#prod-OctalIntegerLiteral)\[Sep\] :: 0o [OctalDigits](https://262.ecma-international.org/12.0/#prod-OctalDigits)\[?Sep\] 0O [OctalDigits](https://262.ecma-international.org/12.0/#prod-OctalDigits)\[?Sep\] [OctalDigits](https://262.ecma-international.org/12.0/#prod-OctalDigits)\[Sep\] :: [OctalDigit](https://262.ecma-international.org/12.0/#prod-OctalDigit) [OctalDigits](https://262.ecma-international.org/12.0/#prod-OctalDigits)\[?Sep\] [OctalDigit](https://262.ecma-international.org/12.0/#prod-OctalDigit) \[+Sep\] [OctalDigits](https://262.ecma-international.org/12.0/#prod-OctalDigits)\[+Sep\] [NumericLiteralSeparator](https://262.ecma-international.org/12.0/#prod-NumericLiteralSeparator) [OctalDigit](https://262.ecma-international.org/12.0/#prod-OctalDigit) [OctalDigit](https://262.ecma-international.org/12.0/#prod-OctalDigit) :: one of 0 1 2 3 4 5 6 7 [HexIntegerLiteral](https://262.ecma-international.org/12.0/#prod-HexIntegerLiteral)\[Sep\] :: 0x [HexDigits](https://262.ecma-international.org/12.0/#prod-HexDigits)\[?Sep\] 0X [HexDigits](https://262.ecma-international.org/12.0/#prod-HexDigits)\[?Sep\] [HexDigits](https://262.ecma-international.org/12.0/#prod-HexDigits)\[Sep\] :: [HexDigit](https://262.ecma-international.org/12.0/#prod-HexDigit) [HexDigits](https://262.ecma-international.org/12.0/#prod-HexDigits)\[?Sep\] [HexDigit](https://262.ecma-international.org/12.0/#prod-HexDigit) \[+Sep\] [HexDigits](https://262.ecma-international.org/12.0/#prod-HexDigits)\[+Sep\] [NumericLiteralSeparator](https://262.ecma-international.org/12.0/#prod-NumericLiteralSeparator) [HexDigit](https://262.ecma-international.org/12.0/#prod-HexDigit) [HexDigit](https://262.ecma-international.org/12.0/#prod-HexDigit) :: one of 0 1 2 3 4 5 6 7 8 9 a b c d e f A B C D E F

The [SourceCharacter](https://262.ecma-international.org/12.0/#prod-SourceCharacter) immediately following a [NumericLiteral](https://262.ecma-international.org/12.0/#prod-NumericLiteral) must not be an [IdentifierStart](https://262.ecma-international.org/12.0/#prod-IdentifierStart) or [DecimalDigit](https://262.ecma-international.org/12.0/#prod-DecimalDigit).

Note

For example: `3in` is an error and not the two input elements `3` and `in`.

A conforming implementation, when processing [strict mode code](https://262.ecma-international.org/12.0/#sec-strict-mode-code), must not extend, as described in [B.1.1](https://262.ecma-international.org/12.0/#sec-additional-syntax-numeric-literals), the syntax of [NumericLiteral](https://262.ecma-international.org/12.0/#prod-NumericLiteral) to include [LegacyOctalIntegerLiteral](https://262.ecma-international.org/12.0/#prod-annexB-LegacyOctalIntegerLiteral), nor extend the syntax of [DecimalIntegerLiteral](https://262.ecma-international.org/12.0/#prod-DecimalIntegerLiteral) to include [NonOctalDecimalIntegerLiteral](https://262.ecma-international.org/12.0/#prod-annexB-NonOctalDecimalIntegerLiteral).

## 12.8.3.1 Static Semantics: MV

A numeric literal stands for a value of the Number type or the BigInt type.

-   The MV of [NumericLiteral](https://262.ecma-international.org/12.0/#prod-NumericLiteral) :: [DecimalLiteral](https://262.ecma-international.org/12.0/#prod-DecimalLiteral) is the MV of [DecimalLiteral](https://262.ecma-international.org/12.0/#prod-DecimalLiteral).
-   The MV of [NonDecimalIntegerLiteral](https://262.ecma-international.org/12.0/#prod-NonDecimalIntegerLiteral) :: [BinaryIntegerLiteral](https://262.ecma-international.org/12.0/#prod-BinaryIntegerLiteral) is the MV of [BinaryIntegerLiteral](https://262.ecma-international.org/12.0/#prod-BinaryIntegerLiteral).
-   The MV of [NonDecimalIntegerLiteral](https://262.ecma-international.org/12.0/#prod-NonDecimalIntegerLiteral) :: [OctalIntegerLiteral](https://262.ecma-international.org/12.0/#prod-OctalIntegerLiteral) is the MV of [OctalIntegerLiteral](https://262.ecma-international.org/12.0/#prod-OctalIntegerLiteral).
-   The MV of [NonDecimalIntegerLiteral](https://262.ecma-international.org/12.0/#prod-NonDecimalIntegerLiteral) :: [HexIntegerLiteral](https://262.ecma-international.org/12.0/#prod-HexIntegerLiteral) is the MV of [HexIntegerLiteral](https://262.ecma-international.org/12.0/#prod-HexIntegerLiteral).
-   The MV of [DecimalLiteral](https://262.ecma-international.org/12.0/#prod-DecimalLiteral) :: [DecimalIntegerLiteral](https://262.ecma-international.org/12.0/#prod-DecimalIntegerLiteral) . is the MV of [DecimalIntegerLiteral](https://262.ecma-international.org/12.0/#prod-DecimalIntegerLiteral).
-   The MV of [DecimalLiteral](https://262.ecma-international.org/12.0/#prod-DecimalLiteral) :: [DecimalIntegerLiteral](https://262.ecma-international.org/12.0/#prod-DecimalIntegerLiteral) . [DecimalDigits](https://262.ecma-international.org/12.0/#prod-DecimalDigits) is the MV of [DecimalIntegerLiteral](https://262.ecma-international.org/12.0/#prod-DecimalIntegerLiteral) plus (the MV of [DecimalDigits](https://262.ecma-international.org/12.0/#prod-DecimalDigits) × 10\-n), where n is the number of code points in [DecimalDigits](https://262.ecma-international.org/12.0/#prod-DecimalDigits), excluding all occurrences of [NumericLiteralSeparator](https://262.ecma-international.org/12.0/#prod-NumericLiteralSeparator).
-   The MV of [DecimalLiteral](https://262.ecma-international.org/12.0/#prod-DecimalLiteral) :: [DecimalIntegerLiteral](https://262.ecma-international.org/12.0/#prod-DecimalIntegerLiteral) . [ExponentPart](https://262.ecma-international.org/12.0/#prod-ExponentPart) is the MV of [DecimalIntegerLiteral](https://262.ecma-international.org/12.0/#prod-DecimalIntegerLiteral) × 10e, where e is the MV of [ExponentPart](https://262.ecma-international.org/12.0/#prod-ExponentPart).
-   The MV of [DecimalLiteral](https://262.ecma-international.org/12.0/#prod-DecimalLiteral) :: [DecimalIntegerLiteral](https://262.ecma-international.org/12.0/#prod-DecimalIntegerLiteral) . [DecimalDigits](https://262.ecma-international.org/12.0/#prod-DecimalDigits) [ExponentPart](https://262.ecma-international.org/12.0/#prod-ExponentPart) is (the MV of [DecimalIntegerLiteral](https://262.ecma-international.org/12.0/#prod-DecimalIntegerLiteral) plus (the MV of [DecimalDigits](https://262.ecma-international.org/12.0/#prod-DecimalDigits) × 10\-n)) × 10e, where n is the number of code points in [DecimalDigits](https://262.ecma-international.org/12.0/#prod-DecimalDigits), excluding all occurrences of [NumericLiteralSeparator](https://262.ecma-international.org/12.0/#prod-NumericLiteralSeparator) and e is the MV of [ExponentPart](https://262.ecma-international.org/12.0/#prod-ExponentPart).
-   The MV of [DecimalLiteral](https://262.ecma-international.org/12.0/#prod-DecimalLiteral) :: . [DecimalDigits](https://262.ecma-international.org/12.0/#prod-DecimalDigits) is the MV of [DecimalDigits](https://262.ecma-international.org/12.0/#prod-DecimalDigits) × 10\-n, where n is the number of code points in [DecimalDigits](https://262.ecma-international.org/12.0/#prod-DecimalDigits), excluding all occurrences of [NumericLiteralSeparator](https://262.ecma-international.org/12.0/#prod-NumericLiteralSeparator).
-   The MV of [DecimalLiteral](https://262.ecma-international.org/12.0/#prod-DecimalLiteral) :: . [DecimalDigits](https://262.ecma-international.org/12.0/#prod-DecimalDigits) [ExponentPart](https://262.ecma-international.org/12.0/#prod-ExponentPart) is the MV of [DecimalDigits](https://262.ecma-international.org/12.0/#prod-DecimalDigits) × 10e - n, where n is the number of code points in [DecimalDigits](https://262.ecma-international.org/12.0/#prod-DecimalDigits), excluding all occurrences of [NumericLiteralSeparator](https://262.ecma-international.org/12.0/#prod-NumericLiteralSeparator), and e is the MV of [ExponentPart](https://262.ecma-international.org/12.0/#prod-ExponentPart).
-   The MV of [DecimalLiteral](https://262.ecma-international.org/12.0/#prod-DecimalLiteral) :: [DecimalIntegerLiteral](https://262.ecma-international.org/12.0/#prod-DecimalIntegerLiteral) is the MV of [DecimalIntegerLiteral](https://262.ecma-international.org/12.0/#prod-DecimalIntegerLiteral).
-   The MV of [DecimalLiteral](https://262.ecma-international.org/12.0/#prod-DecimalLiteral) :: [DecimalIntegerLiteral](https://262.ecma-international.org/12.0/#prod-DecimalIntegerLiteral) [ExponentPart](https://262.ecma-international.org/12.0/#prod-ExponentPart) is the MV of [DecimalIntegerLiteral](https://262.ecma-international.org/12.0/#prod-DecimalIntegerLiteral) × 10e, where e is the MV of [ExponentPart](https://262.ecma-international.org/12.0/#prod-ExponentPart).
-   The MV of [DecimalIntegerLiteral](https://262.ecma-international.org/12.0/#prod-DecimalIntegerLiteral) :: 0 is 0.
-   The MV of [DecimalIntegerLiteral](https://262.ecma-international.org/12.0/#prod-DecimalIntegerLiteral) :: [NonZeroDigit](https://262.ecma-international.org/12.0/#prod-NonZeroDigit) is the MV of [NonZeroDigit](https://262.ecma-international.org/12.0/#prod-NonZeroDigit).
-   The MV of [DecimalIntegerLiteral](https://262.ecma-international.org/12.0/#prod-DecimalIntegerLiteral) :: [NonZeroDigit](https://262.ecma-international.org/12.0/#prod-NonZeroDigit) [NumericLiteralSeparator](https://262.ecma-international.org/12.0/#prod-NumericLiteralSeparator)opt [DecimalDigits](https://262.ecma-international.org/12.0/#prod-DecimalDigits) is (the MV of [NonZeroDigit](https://262.ecma-international.org/12.0/#prod-NonZeroDigit) × 10n) plus the MV of [DecimalDigits](https://262.ecma-international.org/12.0/#prod-DecimalDigits), where n is the number of code points in [DecimalDigits](https://262.ecma-international.org/12.0/#prod-DecimalDigits), excluding all occurrences of [NumericLiteralSeparator](https://262.ecma-international.org/12.0/#prod-NumericLiteralSeparator).
-   The MV of [DecimalDigits](https://262.ecma-international.org/12.0/#prod-DecimalDigits) :: [DecimalDigit](https://262.ecma-international.org/12.0/#prod-DecimalDigit) is the MV of [DecimalDigit](https://262.ecma-international.org/12.0/#prod-DecimalDigit).
-   The MV of [DecimalDigits](https://262.ecma-international.org/12.0/#prod-DecimalDigits) :: [DecimalDigits](https://262.ecma-international.org/12.0/#prod-DecimalDigits) [DecimalDigit](https://262.ecma-international.org/12.0/#prod-DecimalDigit) is (the MV of [DecimalDigits](https://262.ecma-international.org/12.0/#prod-DecimalDigits) × 10) plus the MV of [DecimalDigit](https://262.ecma-international.org/12.0/#prod-DecimalDigit).
-   The MV of [DecimalDigits](https://262.ecma-international.org/12.0/#prod-DecimalDigits) :: [DecimalDigits](https://262.ecma-international.org/12.0/#prod-DecimalDigits) [NumericLiteralSeparator](https://262.ecma-international.org/12.0/#prod-NumericLiteralSeparator) [DecimalDigit](https://262.ecma-international.org/12.0/#prod-DecimalDigit) is (the MV of [DecimalDigits](https://262.ecma-international.org/12.0/#prod-DecimalDigits) × 10) plus the MV of [DecimalDigit](https://262.ecma-international.org/12.0/#prod-DecimalDigit).
-   The MV of [ExponentPart](https://262.ecma-international.org/12.0/#prod-ExponentPart) :: [ExponentIndicator](https://262.ecma-international.org/12.0/#prod-ExponentIndicator) [SignedInteger](https://262.ecma-international.org/12.0/#prod-SignedInteger) is the MV of [SignedInteger](https://262.ecma-international.org/12.0/#prod-SignedInteger).
-   The MV of [SignedInteger](https://262.ecma-international.org/12.0/#prod-SignedInteger) :: [DecimalDigits](https://262.ecma-international.org/12.0/#prod-DecimalDigits) is the MV of [DecimalDigits](https://262.ecma-international.org/12.0/#prod-DecimalDigits).
-   The MV of [SignedInteger](https://262.ecma-international.org/12.0/#prod-SignedInteger) :: + [DecimalDigits](https://262.ecma-international.org/12.0/#prod-DecimalDigits) is the MV of [DecimalDigits](https://262.ecma-international.org/12.0/#prod-DecimalDigits).
-   The MV of [SignedInteger](https://262.ecma-international.org/12.0/#prod-SignedInteger) :: \- [DecimalDigits](https://262.ecma-international.org/12.0/#prod-DecimalDigits) is the negative of the MV of [DecimalDigits](https://262.ecma-international.org/12.0/#prod-DecimalDigits).
-   The MV of [DecimalDigit](https://262.ecma-international.org/12.0/#prod-DecimalDigit) :: 0 or of [HexDigit](https://262.ecma-international.org/12.0/#prod-HexDigit) :: 0 or of [OctalDigit](https://262.ecma-international.org/12.0/#prod-OctalDigit) :: 0 or of [BinaryDigit](https://262.ecma-international.org/12.0/#prod-BinaryDigit) :: 0 is 0.
-   The MV of [DecimalDigit](https://262.ecma-international.org/12.0/#prod-DecimalDigit) :: 1 or of [NonZeroDigit](https://262.ecma-international.org/12.0/#prod-NonZeroDigit) :: 1 or of [HexDigit](https://262.ecma-international.org/12.0/#prod-HexDigit) :: 1 or of [OctalDigit](https://262.ecma-international.org/12.0/#prod-OctalDigit) :: 1 or of [BinaryDigit](https://262.ecma-international.org/12.0/#prod-BinaryDigit) :: 1 is 1.
-   The MV of [DecimalDigit](https://262.ecma-international.org/12.0/#prod-DecimalDigit) :: 2 or of [NonZeroDigit](https://262.ecma-international.org/12.0/#prod-NonZeroDigit) :: 2 or of [HexDigit](https://262.ecma-international.org/12.0/#prod-HexDigit) :: 2 or of [OctalDigit](https://262.ecma-international.org/12.0/#prod-OctalDigit) :: 2 is 2.
-   The MV of [DecimalDigit](https://262.ecma-international.org/12.0/#prod-DecimalDigit) :: 3 or of [NonZeroDigit](https://262.ecma-international.org/12.0/#prod-NonZeroDigit) :: 3 or of [HexDigit](https://262.ecma-international.org/12.0/#prod-HexDigit) :: 3 or of [OctalDigit](https://262.ecma-international.org/12.0/#prod-OctalDigit) :: 3 is 3.
-   The MV of [DecimalDigit](https://262.ecma-international.org/12.0/#prod-DecimalDigit) :: 4 or of [NonZeroDigit](https://262.ecma-international.org/12.0/#prod-NonZeroDigit) :: 4 or of [HexDigit](https://262.ecma-international.org/12.0/#prod-HexDigit) :: 4 or of [OctalDigit](https://262.ecma-international.org/12.0/#prod-OctalDigit) :: 4 is 4.
-   The MV of [DecimalDigit](https://262.ecma-international.org/12.0/#prod-DecimalDigit) :: 5 or of [NonZeroDigit](https://262.ecma-international.org/12.0/#prod-NonZeroDigit) :: 5 or of [HexDigit](https://262.ecma-international.org/12.0/#prod-HexDigit) :: 5 or of [OctalDigit](https://262.ecma-international.org/12.0/#prod-OctalDigit) :: 5 is 5.
-   The MV of [DecimalDigit](https://262.ecma-international.org/12.0/#prod-DecimalDigit) :: 6 or of [NonZeroDigit](https://262.ecma-international.org/12.0/#prod-NonZeroDigit) :: 6 or of [HexDigit](https://262.ecma-international.org/12.0/#prod-HexDigit) :: 6 or of [OctalDigit](https://262.ecma-international.org/12.0/#prod-OctalDigit) :: 6 is 6.
-   The MV of [DecimalDigit](https://262.ecma-international.org/12.0/#prod-DecimalDigit) :: 7 or of [NonZeroDigit](https://262.ecma-international.org/12.0/#prod-NonZeroDigit) :: 7 or of [HexDigit](https://262.ecma-international.org/12.0/#prod-HexDigit) :: 7 or of [OctalDigit](https://262.ecma-international.org/12.0/#prod-OctalDigit) :: 7 is 7.
-   The MV of [DecimalDigit](https://262.ecma-international.org/12.0/#prod-DecimalDigit) :: 8 or of [NonZeroDigit](https://262.ecma-international.org/12.0/#prod-NonZeroDigit) :: 8 or of [HexDigit](https://262.ecma-international.org/12.0/#prod-HexDigit) :: 8 is 8.
-   The MV of [DecimalDigit](https://262.ecma-international.org/12.0/#prod-DecimalDigit) :: 9 or of [NonZeroDigit](https://262.ecma-international.org/12.0/#prod-NonZeroDigit) :: 9 or of [HexDigit](https://262.ecma-international.org/12.0/#prod-HexDigit) :: 9 is 9.
-   The MV of [HexDigit](https://262.ecma-international.org/12.0/#prod-HexDigit) :: a or of [HexDigit](https://262.ecma-international.org/12.0/#prod-HexDigit) :: A is 10.
-   The MV of [HexDigit](https://262.ecma-international.org/12.0/#prod-HexDigit) :: b or of [HexDigit](https://262.ecma-international.org/12.0/#prod-HexDigit) :: B is 11.
-   The MV of [HexDigit](https://262.ecma-international.org/12.0/#prod-HexDigit) :: c or of [HexDigit](https://262.ecma-international.org/12.0/#prod-HexDigit) :: C is 12.
-   The MV of [HexDigit](https://262.ecma-international.org/12.0/#prod-HexDigit) :: d or of [HexDigit](https://262.ecma-international.org/12.0/#prod-HexDigit) :: D is 13.
-   The MV of [HexDigit](https://262.ecma-international.org/12.0/#prod-HexDigit) :: e or of [HexDigit](https://262.ecma-international.org/12.0/#prod-HexDigit) :: E is 14.
-   The MV of [HexDigit](https://262.ecma-international.org/12.0/#prod-HexDigit) :: f or of [HexDigit](https://262.ecma-international.org/12.0/#prod-HexDigit) :: F is 15.
-   The MV of [BinaryIntegerLiteral](https://262.ecma-international.org/12.0/#prod-BinaryIntegerLiteral) :: 0b [BinaryDigits](https://262.ecma-international.org/12.0/#prod-BinaryDigits) is the MV of [BinaryDigits](https://262.ecma-international.org/12.0/#prod-BinaryDigits).
-   The MV of [BinaryIntegerLiteral](https://262.ecma-international.org/12.0/#prod-BinaryIntegerLiteral) :: 0B [BinaryDigits](https://262.ecma-international.org/12.0/#prod-BinaryDigits) is the MV of [BinaryDigits](https://262.ecma-international.org/12.0/#prod-BinaryDigits).
-   The MV of [BinaryDigits](https://262.ecma-international.org/12.0/#prod-BinaryDigits) :: [BinaryDigit](https://262.ecma-international.org/12.0/#prod-BinaryDigit) is the MV of [BinaryDigit](https://262.ecma-international.org/12.0/#prod-BinaryDigit).
-   The MV of [BinaryDigits](https://262.ecma-international.org/12.0/#prod-BinaryDigits) :: [BinaryDigits](https://262.ecma-international.org/12.0/#prod-BinaryDigits) [BinaryDigit](https://262.ecma-international.org/12.0/#prod-BinaryDigit) is (the MV of [BinaryDigits](https://262.ecma-international.org/12.0/#prod-BinaryDigits) × 2) plus the MV of [BinaryDigit](https://262.ecma-international.org/12.0/#prod-BinaryDigit).
-   The MV of [BinaryDigits](https://262.ecma-international.org/12.0/#prod-BinaryDigits) :: [BinaryDigits](https://262.ecma-international.org/12.0/#prod-BinaryDigits) [NumericLiteralSeparator](https://262.ecma-international.org/12.0/#prod-NumericLiteralSeparator) [BinaryDigit](https://262.ecma-international.org/12.0/#prod-BinaryDigit) is (the MV of [BinaryDigits](https://262.ecma-international.org/12.0/#prod-BinaryDigits) × 2) plus the MV of [BinaryDigit](https://262.ecma-international.org/12.0/#prod-BinaryDigit).
-   The MV of [OctalIntegerLiteral](https://262.ecma-international.org/12.0/#prod-OctalIntegerLiteral) :: 0o [OctalDigits](https://262.ecma-international.org/12.0/#prod-OctalDigits) is the MV of [OctalDigits](https://262.ecma-international.org/12.0/#prod-OctalDigits).
-   The MV of [OctalIntegerLiteral](https://262.ecma-international.org/12.0/#prod-OctalIntegerLiteral) :: 0O [OctalDigits](https://262.ecma-international.org/12.0/#prod-OctalDigits) is the MV of [OctalDigits](https://262.ecma-international.org/12.0/#prod-OctalDigits).
-   The MV of [OctalDigits](https://262.ecma-international.org/12.0/#prod-OctalDigits) :: [OctalDigit](https://262.ecma-international.org/12.0/#prod-OctalDigit) is the MV of [OctalDigit](https://262.ecma-international.org/12.0/#prod-OctalDigit).
-   The MV of [OctalDigits](https://262.ecma-international.org/12.0/#prod-OctalDigits) :: [OctalDigits](https://262.ecma-international.org/12.0/#prod-OctalDigits) [OctalDigit](https://262.ecma-international.org/12.0/#prod-OctalDigit) is (the MV of [OctalDigits](https://262.ecma-international.org/12.0/#prod-OctalDigits) × 8) plus the MV of [OctalDigit](https://262.ecma-international.org/12.0/#prod-OctalDigit).
-   The MV of [OctalDigits](https://262.ecma-international.org/12.0/#prod-OctalDigits) :: [OctalDigits](https://262.ecma-international.org/12.0/#prod-OctalDigits) [NumericLiteralSeparator](https://262.ecma-international.org/12.0/#prod-NumericLiteralSeparator) [OctalDigit](https://262.ecma-international.org/12.0/#prod-OctalDigit) is (the MV of [OctalDigits](https://262.ecma-international.org/12.0/#prod-OctalDigits) × 8) plus the MV of [OctalDigit](https://262.ecma-international.org/12.0/#prod-OctalDigit).
-   The MV of [HexIntegerLiteral](https://262.ecma-international.org/12.0/#prod-HexIntegerLiteral) :: 0x [HexDigits](https://262.ecma-international.org/12.0/#prod-HexDigits) is the MV of [HexDigits](https://262.ecma-international.org/12.0/#prod-HexDigits).
-   The MV of [HexIntegerLiteral](https://262.ecma-international.org/12.0/#prod-HexIntegerLiteral) :: 0X [HexDigits](https://262.ecma-international.org/12.0/#prod-HexDigits) is the MV of [HexDigits](https://262.ecma-international.org/12.0/#prod-HexDigits).
-   The MV of [HexDigits](https://262.ecma-international.org/12.0/#prod-HexDigits) :: [HexDigit](https://262.ecma-international.org/12.0/#prod-HexDigit) is the MV of [HexDigit](https://262.ecma-international.org/12.0/#prod-HexDigit).
-   The MV of [HexDigits](https://262.ecma-international.org/12.0/#prod-HexDigits) :: [HexDigits](https://262.ecma-international.org/12.0/#prod-HexDigits) [HexDigit](https://262.ecma-international.org/12.0/#prod-HexDigit) is (the MV of [HexDigits](https://262.ecma-international.org/12.0/#prod-HexDigits) × 16) plus the MV of [HexDigit](https://262.ecma-international.org/12.0/#prod-HexDigit).
-   The MV of [HexDigits](https://262.ecma-international.org/12.0/#prod-HexDigits) :: [HexDigits](https://262.ecma-international.org/12.0/#prod-HexDigits) [NumericLiteralSeparator](https://262.ecma-international.org/12.0/#prod-NumericLiteralSeparator) [HexDigit](https://262.ecma-international.org/12.0/#prod-HexDigit) is (the MV of [HexDigits](https://262.ecma-international.org/12.0/#prod-HexDigits) × 16) plus the MV of [HexDigit](https://262.ecma-international.org/12.0/#prod-HexDigit).

## 12.8.3.2 Static Semantics: NumericValue

[NumericLiteral](https://262.ecma-international.org/12.0/#prod-NumericLiteral) :: [DecimalLiteral](https://262.ecma-international.org/12.0/#prod-DecimalLiteral)

1.  Return the [Number value](https://262.ecma-international.org/12.0/#number-value) that results from rounding the MV of [DecimalLiteral](https://262.ecma-international.org/12.0/#prod-DecimalLiteral) as described below.

[NumericLiteral](https://262.ecma-international.org/12.0/#prod-NumericLiteral) :: [NonDecimalIntegerLiteral](https://262.ecma-international.org/12.0/#prod-NonDecimalIntegerLiteral)

1.  Return the [Number value](https://262.ecma-international.org/12.0/#number-value) that results from rounding the MV of [NonDecimalIntegerLiteral](https://262.ecma-international.org/12.0/#prod-NonDecimalIntegerLiteral) as described below.

Once the exact MV for a numeric literal has been determined, it is then rounded to a value of the Number type. If the MV is 0, then the rounded value is +0𝔽; otherwise, the rounded value must be the [Number value](https://262.ecma-international.org/12.0/#number-value) for the MV (as specified in [6.1.6.1](https://262.ecma-international.org/12.0/#sec-ecmascript-language-types-number-type)), unless the literal is a [DecimalLiteral](https://262.ecma-international.org/12.0/#prod-DecimalLiteral) and the literal has more than 20 significant digits, in which case the [Number value](https://262.ecma-international.org/12.0/#number-value) may be either the [Number value](https://262.ecma-international.org/12.0/#number-value) for the MV of a literal produced by replacing each significant digit after the 20th with a `0` digit or the [Number value](https://262.ecma-international.org/12.0/#number-value) for the MV of a literal produced by replacing each significant digit after the 20th with a `0` digit and then incrementing the literal at the 20th significant digit position. A digit is _significant_ if it is not part of an [ExponentPart](https://262.ecma-international.org/12.0/#prod-ExponentPart) and

-   it is not `0`; or
-   there is a non-zero digit to its left and there is a non-zero digit, not in the [ExponentPart](https://262.ecma-international.org/12.0/#prod-ExponentPart), to its right.

[NumericLiteral](https://262.ecma-international.org/12.0/#prod-NumericLiteral) :: [NonDecimalIntegerLiteral](https://262.ecma-international.org/12.0/#prod-NonDecimalIntegerLiteral) [BigIntLiteralSuffix](https://262.ecma-international.org/12.0/#prod-BigIntLiteralSuffix)

1.  Return the BigInt value that represents the MV of [NonDecimalIntegerLiteral](https://262.ecma-international.org/12.0/#prod-NonDecimalIntegerLiteral).

[DecimalBigIntegerLiteral](https://262.ecma-international.org/12.0/#prod-DecimalBigIntegerLiteral) :: 0 [BigIntLiteralSuffix](https://262.ecma-international.org/12.0/#prod-BigIntLiteralSuffix)

1.  Return 0ℤ.

[DecimalBigIntegerLiteral](https://262.ecma-international.org/12.0/#prod-DecimalBigIntegerLiteral) :: [NonZeroDigit](https://262.ecma-international.org/12.0/#prod-NonZeroDigit) [BigIntLiteralSuffix](https://262.ecma-international.org/12.0/#prod-BigIntLiteralSuffix)

1.  Return the BigInt value that represents the MV of [NonZeroDigit](https://262.ecma-international.org/12.0/#prod-NonZeroDigit).

[DecimalBigIntegerLiteral](https://262.ecma-international.org/12.0/#prod-DecimalBigIntegerLiteral) :: [NonZeroDigit](https://262.ecma-international.org/12.0/#prod-NonZeroDigit) [DecimalDigits](https://262.ecma-international.org/12.0/#prod-DecimalDigits) [BigIntLiteralSuffix](https://262.ecma-international.org/12.0/#prod-BigIntLiteralSuffix) [NonZeroDigit](https://262.ecma-international.org/12.0/#prod-NonZeroDigit) [NumericLiteralSeparator](https://262.ecma-international.org/12.0/#prod-NumericLiteralSeparator) [DecimalDigits](https://262.ecma-international.org/12.0/#prod-DecimalDigits) [BigIntLiteralSuffix](https://262.ecma-international.org/12.0/#prod-BigIntLiteralSuffix)

1.  Let n be the number of code points in [DecimalDigits](https://262.ecma-international.org/12.0/#prod-DecimalDigits), excluding all occurrences of [NumericLiteralSeparator](https://262.ecma-international.org/12.0/#prod-NumericLiteralSeparator).
2.  Let mv be (the MV of [NonZeroDigit](https://262.ecma-international.org/12.0/#prod-NonZeroDigit) × 10) plus the MV of [DecimalDigits](https://262.ecma-international.org/12.0/#prod-DecimalDigits).
3.  Return [ℤ](https://262.ecma-international.org/12.0/#%E2%84%A4)(mv).

## 12.8.4 String Literals

Note 1

A string literal is 0 or more Unicode code points enclosed in single or double quotes. Unicode code points may also be represented by an escape sequence. All code points may appear literally in a string literal except for the closing quote code points, U+005C (REVERSE SOLIDUS), U+000D (CARRIAGE RETURN), and U+000A (LINE FEED). Any code points may appear in the form of an escape sequence. String literals evaluate to ECMAScript String values. When generating these String values Unicode code points are UTF-16 encoded as defined in [11.1.1](https://262.ecma-international.org/12.0/#sec-utf16encodecodepoint). Code points belonging to the Basic Multilingual Plane are encoded as a single code unit element of the string. All other code points are encoded as two code unit elements of the string.

## Syntax

[StringLiteral](https://262.ecma-international.org/12.0/#prod-StringLiteral) :: " [DoubleStringCharacters](https://262.ecma-international.org/12.0/#prod-DoubleStringCharacters)opt " ' [SingleStringCharacters](https://262.ecma-international.org/12.0/#prod-SingleStringCharacters)opt ' [DoubleStringCharacters](https://262.ecma-international.org/12.0/#prod-DoubleStringCharacters) :: [DoubleStringCharacter](https://262.ecma-international.org/12.0/#prod-DoubleStringCharacter) [DoubleStringCharacters](https://262.ecma-international.org/12.0/#prod-DoubleStringCharacters)opt [SingleStringCharacters](https://262.ecma-international.org/12.0/#prod-SingleStringCharacters) :: [SingleStringCharacter](https://262.ecma-international.org/12.0/#prod-SingleStringCharacter) [SingleStringCharacters](https://262.ecma-international.org/12.0/#prod-SingleStringCharacters)opt [DoubleStringCharacter](https://262.ecma-international.org/12.0/#prod-DoubleStringCharacter) :: [SourceCharacter](https://262.ecma-international.org/12.0/#prod-SourceCharacter) but not one of " or \\ or [LineTerminator](https://262.ecma-international.org/12.0/#prod-LineTerminator) <LS> <PS> \\ [EscapeSequence](https://262.ecma-international.org/12.0/#prod-EscapeSequence) [LineContinuation](https://262.ecma-international.org/12.0/#prod-LineContinuation) [SingleStringCharacter](https://262.ecma-international.org/12.0/#prod-SingleStringCharacter) :: [SourceCharacter](https://262.ecma-international.org/12.0/#prod-SourceCharacter) but not one of ' or \\ or [LineTerminator](https://262.ecma-international.org/12.0/#prod-LineTerminator) <LS> <PS> \\ [EscapeSequence](https://262.ecma-international.org/12.0/#prod-EscapeSequence) [LineContinuation](https://262.ecma-international.org/12.0/#prod-LineContinuation) [LineContinuation](https://262.ecma-international.org/12.0/#prod-LineContinuation) :: \\ [LineTerminatorSequence](https://262.ecma-international.org/12.0/#prod-LineTerminatorSequence) [EscapeSequence](https://262.ecma-international.org/12.0/#prod-EscapeSequence) :: [CharacterEscapeSequence](https://262.ecma-international.org/12.0/#prod-CharacterEscapeSequence) 0 \[lookahead ∉ [DecimalDigit](https://262.ecma-international.org/12.0/#prod-DecimalDigit)\] [HexEscapeSequence](https://262.ecma-international.org/12.0/#prod-HexEscapeSequence) [UnicodeEscapeSequence](https://262.ecma-international.org/12.0/#prod-UnicodeEscapeSequence)

A conforming implementation, when processing [strict mode code](https://262.ecma-international.org/12.0/#sec-strict-mode-code), must not extend the syntax of [EscapeSequence](https://262.ecma-international.org/12.0/#prod-EscapeSequence) to include [LegacyOctalEscapeSequence](https://262.ecma-international.org/12.0/#prod-annexB-LegacyOctalEscapeSequence) or [NonOctalDecimalEscapeSequence](https://262.ecma-international.org/12.0/#prod-annexB-NonOctalDecimalEscapeSequence) as described in [B.1.2](https://262.ecma-international.org/12.0/#sec-additional-syntax-string-literals).

[CharacterEscapeSequence](https://262.ecma-international.org/12.0/#prod-CharacterEscapeSequence) :: [SingleEscapeCharacter](https://262.ecma-international.org/12.0/#prod-SingleEscapeCharacter) [NonEscapeCharacter](https://262.ecma-international.org/12.0/#prod-NonEscapeCharacter) [SingleEscapeCharacter](https://262.ecma-international.org/12.0/#prod-SingleEscapeCharacter) :: one of ' " \\ b f n r t v [NonEscapeCharacter](https://262.ecma-international.org/12.0/#prod-NonEscapeCharacter) :: [SourceCharacter](https://262.ecma-international.org/12.0/#prod-SourceCharacter) but not one of [EscapeCharacter](https://262.ecma-international.org/12.0/#prod-EscapeCharacter) or [LineTerminator](https://262.ecma-international.org/12.0/#prod-LineTerminator) [EscapeCharacter](https://262.ecma-international.org/12.0/#prod-EscapeCharacter) :: [SingleEscapeCharacter](https://262.ecma-international.org/12.0/#prod-SingleEscapeCharacter) [DecimalDigit](https://262.ecma-international.org/12.0/#prod-DecimalDigit) x u [HexEscapeSequence](https://262.ecma-international.org/12.0/#prod-HexEscapeSequence) :: x [HexDigit](https://262.ecma-international.org/12.0/#prod-HexDigit) [HexDigit](https://262.ecma-international.org/12.0/#prod-HexDigit) [UnicodeEscapeSequence](https://262.ecma-international.org/12.0/#prod-UnicodeEscapeSequence) :: u [Hex4Digits](https://262.ecma-international.org/12.0/#prod-Hex4Digits) u{ [CodePoint](https://262.ecma-international.org/12.0/#prod-CodePoint) } [Hex4Digits](https://262.ecma-international.org/12.0/#prod-Hex4Digits) :: [HexDigit](https://262.ecma-international.org/12.0/#prod-HexDigit) [HexDigit](https://262.ecma-international.org/12.0/#prod-HexDigit) [HexDigit](https://262.ecma-international.org/12.0/#prod-HexDigit) [HexDigit](https://262.ecma-international.org/12.0/#prod-HexDigit)

The definition of the nonterminal [HexDigit](https://262.ecma-international.org/12.0/#prod-HexDigit) is given in [12.8.3](https://262.ecma-international.org/12.0/#sec-literals-numeric-literals). [SourceCharacter](https://262.ecma-international.org/12.0/#prod-SourceCharacter) is defined in [11.1](https://262.ecma-international.org/12.0/#sec-source-text).

Note 2

<LF> and <CR> cannot appear in a string literal, except as part of a [LineContinuation](https://262.ecma-international.org/12.0/#prod-LineContinuation) to produce the empty code points sequence. The proper way to include either in the String value of a string literal is to use an escape sequence such as `\n` or `\u000A`.

## 12.8.4.1 Static Semantics: SV

A string literal stands for a value of the String type. The String value (SV) of the literal is described in terms of String values contributed by the various parts of the string literal. As part of this process, some Unicode code points within the string literal are interpreted as having a [mathematical value](https://262.ecma-international.org/12.0/#mathematical-value) (MV), as described below or in [12.8.3](https://262.ecma-international.org/12.0/#sec-literals-numeric-literals).

-   The SV of [StringLiteral](https://262.ecma-international.org/12.0/#prod-StringLiteral) :: " " is the empty String.
-   The SV of [StringLiteral](https://262.ecma-international.org/12.0/#prod-StringLiteral) :: ' ' is the empty String.
-   The SV of [DoubleStringCharacters](https://262.ecma-international.org/12.0/#prod-DoubleStringCharacters) :: [DoubleStringCharacter](https://262.ecma-international.org/12.0/#prod-DoubleStringCharacter) [DoubleStringCharacters](https://262.ecma-international.org/12.0/#prod-DoubleStringCharacters) is the [string-concatenation](https://262.ecma-international.org/12.0/#string-concatenation) of the SV of [DoubleStringCharacter](https://262.ecma-international.org/12.0/#prod-DoubleStringCharacter) and the SV of [DoubleStringCharacters](https://262.ecma-international.org/12.0/#prod-DoubleStringCharacters).
-   The SV of [SingleStringCharacters](https://262.ecma-international.org/12.0/#prod-SingleStringCharacters) :: [SingleStringCharacter](https://262.ecma-international.org/12.0/#prod-SingleStringCharacter) [SingleStringCharacters](https://262.ecma-international.org/12.0/#prod-SingleStringCharacters) is the [string-concatenation](https://262.ecma-international.org/12.0/#string-concatenation) of the SV of [SingleStringCharacter](https://262.ecma-international.org/12.0/#prod-SingleStringCharacter) and the SV of [SingleStringCharacters](https://262.ecma-international.org/12.0/#prod-SingleStringCharacters).
-   The SV of [DoubleStringCharacter](https://262.ecma-international.org/12.0/#prod-DoubleStringCharacter) :: [SourceCharacter](https://262.ecma-international.org/12.0/#prod-SourceCharacter) but not one of " or \\ or [LineTerminator](https://262.ecma-international.org/12.0/#prod-LineTerminator) is the result of performing [UTF16EncodeCodePoint](https://262.ecma-international.org/12.0/#sec-utf16encodecodepoint) on the code point value of [SourceCharacter](https://262.ecma-international.org/12.0/#prod-SourceCharacter).
-   The SV of [DoubleStringCharacter](https://262.ecma-international.org/12.0/#prod-DoubleStringCharacter) :: <LS> is the String value consisting of the code unit 0x2028 (LINE SEPARATOR).
-   The SV of [DoubleStringCharacter](https://262.ecma-international.org/12.0/#prod-DoubleStringCharacter) :: <PS> is the String value consisting of the code unit 0x2029 (PARAGRAPH SEPARATOR).
-   The SV of [DoubleStringCharacter](https://262.ecma-international.org/12.0/#prod-DoubleStringCharacter) :: [LineContinuation](https://262.ecma-international.org/12.0/#prod-LineContinuation) is the empty String.
-   The SV of [SingleStringCharacter](https://262.ecma-international.org/12.0/#prod-SingleStringCharacter) :: [SourceCharacter](https://262.ecma-international.org/12.0/#prod-SourceCharacter) but not one of ' or \\ or [LineTerminator](https://262.ecma-international.org/12.0/#prod-LineTerminator) is the result of performing [UTF16EncodeCodePoint](https://262.ecma-international.org/12.0/#sec-utf16encodecodepoint) on the code point value of [SourceCharacter](https://262.ecma-international.org/12.0/#prod-SourceCharacter).
-   The SV of [SingleStringCharacter](https://262.ecma-international.org/12.0/#prod-SingleStringCharacter) :: <LS> is the String value consisting of the code unit 0x2028 (LINE SEPARATOR).
-   The SV of [SingleStringCharacter](https://262.ecma-international.org/12.0/#prod-SingleStringCharacter) :: <PS> is the String value consisting of the code unit 0x2029 (PARAGRAPH SEPARATOR).
-   The SV of [SingleStringCharacter](https://262.ecma-international.org/12.0/#prod-SingleStringCharacter) :: [LineContinuation](https://262.ecma-international.org/12.0/#prod-LineContinuation) is the empty String.
-   The SV of [EscapeSequence](https://262.ecma-international.org/12.0/#prod-EscapeSequence) :: 0 is the String value consisting of the code unit 0x0000 (NULL).
-   The SV of [CharacterEscapeSequence](https://262.ecma-international.org/12.0/#prod-CharacterEscapeSequence) :: [SingleEscapeCharacter](https://262.ecma-international.org/12.0/#prod-SingleEscapeCharacter) is the String value consisting of the code unit whose value is determined by the [SingleEscapeCharacter](https://262.ecma-international.org/12.0/#prod-SingleEscapeCharacter) according to [Table 36](https://262.ecma-international.org/12.0/#table-string-single-character-escape-sequences).

Table 36: String Single Character Escape Sequences

| Escape Sequence | Code Unit Value | Unicode Character Name | Symbol |
| --- | --- | --- | --- |
| `\b` | `0x0008` | BACKSPACE | <BS> |
| `\t` | `0x0009` | CHARACTER TABULATION | <HT> |
| `\n` | `0x000A` | LINE FEED (LF) | <LF> |
| `\v` | `0x000B` | LINE TABULATION | <VT> |
| `\f` | `0x000C` | FORM FEED (FF) | <FF> |
| `\r` | `0x000D` | CARRIAGE RETURN (CR) | <CR> |
| `\"` | `0x0022` | QUOTATION MARK | `"` |
| `\'` | `0x0027` | APOSTROPHE | `'` |
| `\\` | `0x005C` | REVERSE SOLIDUS | `\` |

-   The SV of [NonEscapeCharacter](https://262.ecma-international.org/12.0/#prod-NonEscapeCharacter) :: [SourceCharacter](https://262.ecma-international.org/12.0/#prod-SourceCharacter) but not one of [EscapeCharacter](https://262.ecma-international.org/12.0/#prod-EscapeCharacter) or [LineTerminator](https://262.ecma-international.org/12.0/#prod-LineTerminator) is the result of performing [UTF16EncodeCodePoint](https://262.ecma-international.org/12.0/#sec-utf16encodecodepoint) on the code point value of [SourceCharacter](https://262.ecma-international.org/12.0/#prod-SourceCharacter).
-   The SV of [HexEscapeSequence](https://262.ecma-international.org/12.0/#prod-HexEscapeSequence) :: x [HexDigit](https://262.ecma-international.org/12.0/#prod-HexDigit) [HexDigit](https://262.ecma-international.org/12.0/#prod-HexDigit) is the String value consisting of the code unit whose value is the MV of [HexEscapeSequence](https://262.ecma-international.org/12.0/#prod-HexEscapeSequence).
-   The SV of [Hex4Digits](https://262.ecma-international.org/12.0/#prod-Hex4Digits) :: [HexDigit](https://262.ecma-international.org/12.0/#prod-HexDigit) [HexDigit](https://262.ecma-international.org/12.0/#prod-HexDigit) [HexDigit](https://262.ecma-international.org/12.0/#prod-HexDigit) [HexDigit](https://262.ecma-international.org/12.0/#prod-HexDigit) is the String value consisting of the code unit whose value is the MV of [Hex4Digits](https://262.ecma-international.org/12.0/#prod-Hex4Digits).
-   The SV of [UnicodeEscapeSequence](https://262.ecma-international.org/12.0/#prod-UnicodeEscapeSequence) :: u{ [CodePoint](https://262.ecma-international.org/12.0/#prod-CodePoint) } is the result of performing [UTF16EncodeCodePoint](https://262.ecma-international.org/12.0/#sec-utf16encodecodepoint) on the MV of [CodePoint](https://262.ecma-international.org/12.0/#prod-CodePoint).

## 12.8.4.2 Static Semantics: MV

-   The MV of [HexEscapeSequence](https://262.ecma-international.org/12.0/#prod-HexEscapeSequence) :: x [HexDigit](https://262.ecma-international.org/12.0/#prod-HexDigit) [HexDigit](https://262.ecma-international.org/12.0/#prod-HexDigit) is (16 times the MV of the first [HexDigit](https://262.ecma-international.org/12.0/#prod-HexDigit)) plus the MV of the second [HexDigit](https://262.ecma-international.org/12.0/#prod-HexDigit).
-   The MV of [Hex4Digits](https://262.ecma-international.org/12.0/#prod-Hex4Digits) :: [HexDigit](https://262.ecma-international.org/12.0/#prod-HexDigit) [HexDigit](https://262.ecma-international.org/12.0/#prod-HexDigit) [HexDigit](https://262.ecma-international.org/12.0/#prod-HexDigit) [HexDigit](https://262.ecma-international.org/12.0/#prod-HexDigit) is (0x1000 × the MV of the first [HexDigit](https://262.ecma-international.org/12.0/#prod-HexDigit)) plus (0x100 × the MV of the second [HexDigit](https://262.ecma-international.org/12.0/#prod-HexDigit)) plus (0x10 × the MV of the third [HexDigit](https://262.ecma-international.org/12.0/#prod-HexDigit)) plus the MV of the fourth [HexDigit](https://262.ecma-international.org/12.0/#prod-HexDigit).

## 12.8.5 Regular Expression Literals

Note 1

A regular expression literal is an input element that is converted to a RegExp object (see [22.2](https://262.ecma-international.org/12.0/#sec-regexp-regular-expression-objects)) each time the literal is evaluated. Two regular expression literals in a program evaluate to regular expression objects that never compare as `===` to each other even if the two literals' contents are identical. A RegExp object may also be created at runtime by `new RegExp` or calling the RegExp [constructor](https://262.ecma-international.org/12.0/#constructor) as a function (see [22.2.3](https://262.ecma-international.org/12.0/#sec-regexp-constructor)).

The productions below describe the syntax for a regular expression literal and are used by the input element scanner to find the end of the regular expression literal. The source text comprising the [RegularExpressionBody](https://262.ecma-international.org/12.0/#prod-RegularExpressionBody) and the [RegularExpressionFlags](https://262.ecma-international.org/12.0/#prod-RegularExpressionFlags) are subsequently parsed again using the more stringent ECMAScript Regular Expression grammar ([22.2.1](https://262.ecma-international.org/12.0/#sec-patterns)).

An implementation may extend the ECMAScript Regular Expression grammar defined in [22.2.1](https://262.ecma-international.org/12.0/#sec-patterns), but it must not extend the [RegularExpressionBody](https://262.ecma-international.org/12.0/#prod-RegularExpressionBody) and [RegularExpressionFlags](https://262.ecma-international.org/12.0/#prod-RegularExpressionFlags) productions defined below or the productions used by these productions.

## Syntax

[RegularExpressionLiteral](https://262.ecma-international.org/12.0/#prod-RegularExpressionLiteral) :: / [RegularExpressionBody](https://262.ecma-international.org/12.0/#prod-RegularExpressionBody) / [RegularExpressionFlags](https://262.ecma-international.org/12.0/#prod-RegularExpressionFlags) [RegularExpressionBody](https://262.ecma-international.org/12.0/#prod-RegularExpressionBody) :: [RegularExpressionFirstChar](https://262.ecma-international.org/12.0/#prod-RegularExpressionFirstChar) [RegularExpressionChars](https://262.ecma-international.org/12.0/#prod-RegularExpressionChars) [RegularExpressionChars](https://262.ecma-international.org/12.0/#prod-RegularExpressionChars) :: \[empty\] [RegularExpressionChars](https://262.ecma-international.org/12.0/#prod-RegularExpressionChars) [RegularExpressionChar](https://262.ecma-international.org/12.0/#prod-RegularExpressionChar) [RegularExpressionFirstChar](https://262.ecma-international.org/12.0/#prod-RegularExpressionFirstChar) :: [RegularExpressionNonTerminator](https://262.ecma-international.org/12.0/#prod-RegularExpressionNonTerminator) but not one of \* or \\ or / or \[ [RegularExpressionBackslashSequence](https://262.ecma-international.org/12.0/#prod-RegularExpressionBackslashSequence) [RegularExpressionClass](https://262.ecma-international.org/12.0/#prod-RegularExpressionClass) [RegularExpressionChar](https://262.ecma-international.org/12.0/#prod-RegularExpressionChar) :: [RegularExpressionNonTerminator](https://262.ecma-international.org/12.0/#prod-RegularExpressionNonTerminator) but not one of \\ or / or \[ [RegularExpressionBackslashSequence](https://262.ecma-international.org/12.0/#prod-RegularExpressionBackslashSequence) [RegularExpressionClass](https://262.ecma-international.org/12.0/#prod-RegularExpressionClass) [RegularExpressionBackslashSequence](https://262.ecma-international.org/12.0/#prod-RegularExpressionBackslashSequence) :: \\ [RegularExpressionNonTerminator](https://262.ecma-international.org/12.0/#prod-RegularExpressionNonTerminator) [RegularExpressionNonTerminator](https://262.ecma-international.org/12.0/#prod-RegularExpressionNonTerminator) :: [SourceCharacter](https://262.ecma-international.org/12.0/#prod-SourceCharacter) but not [LineTerminator](https://262.ecma-international.org/12.0/#prod-LineTerminator) [RegularExpressionClass](https://262.ecma-international.org/12.0/#prod-RegularExpressionClass) :: \[ [RegularExpressionClassChars](https://262.ecma-international.org/12.0/#prod-RegularExpressionClassChars) \] [RegularExpressionClassChars](https://262.ecma-international.org/12.0/#prod-RegularExpressionClassChars) :: \[empty\] [RegularExpressionClassChars](https://262.ecma-international.org/12.0/#prod-RegularExpressionClassChars) [RegularExpressionClassChar](https://262.ecma-international.org/12.0/#prod-RegularExpressionClassChar) [RegularExpressionClassChar](https://262.ecma-international.org/12.0/#prod-RegularExpressionClassChar) :: [RegularExpressionNonTerminator](https://262.ecma-international.org/12.0/#prod-RegularExpressionNonTerminator) but not one of \] or \\ [RegularExpressionBackslashSequence](https://262.ecma-international.org/12.0/#prod-RegularExpressionBackslashSequence) [RegularExpressionFlags](https://262.ecma-international.org/12.0/#prod-RegularExpressionFlags) :: \[empty\] [RegularExpressionFlags](https://262.ecma-international.org/12.0/#prod-RegularExpressionFlags) [IdentifierPart](https://262.ecma-international.org/12.0/#prod-IdentifierPart) Note 2

Regular expression literals may not be empty; instead of representing an empty regular expression literal, the code unit sequence `//` starts a single-line comment. To specify an empty regular expression, use: `/(?:)/`.

## 12.8.5.1 Static Semantics: Early Errors

[RegularExpressionFlags](https://262.ecma-international.org/12.0/#prod-RegularExpressionFlags) :: [RegularExpressionFlags](https://262.ecma-international.org/12.0/#prod-RegularExpressionFlags) [IdentifierPart](https://262.ecma-international.org/12.0/#prod-IdentifierPart)

-   It is a Syntax Error if [IdentifierPart](https://262.ecma-international.org/12.0/#prod-IdentifierPart) contains a Unicode escape sequence.

## 12.8.5.2 Static Semantics: BodyText

[RegularExpressionLiteral](https://262.ecma-international.org/12.0/#prod-RegularExpressionLiteral) :: / [RegularExpressionBody](https://262.ecma-international.org/12.0/#prod-RegularExpressionBody) / [RegularExpressionFlags](https://262.ecma-international.org/12.0/#prod-RegularExpressionFlags)

1.  Return the source text that was recognized as [RegularExpressionBody](https://262.ecma-international.org/12.0/#prod-RegularExpressionBody).

## 12.8.5.3 Static Semantics: FlagText

[RegularExpressionLiteral](https://262.ecma-international.org/12.0/#prod-RegularExpressionLiteral) :: / [RegularExpressionBody](https://262.ecma-international.org/12.0/#prod-RegularExpressionBody) / [RegularExpressionFlags](https://262.ecma-international.org/12.0/#prod-RegularExpressionFlags)

1.  Return the source text that was recognized as [RegularExpressionFlags](https://262.ecma-international.org/12.0/#prod-RegularExpressionFlags).

## 12.8.6 Template Literal Lexical Components

## Syntax

[Template](https://262.ecma-international.org/12.0/#prod-Template) :: [NoSubstitutionTemplate](https://262.ecma-international.org/12.0/#prod-NoSubstitutionTemplate) [TemplateHead](https://262.ecma-international.org/12.0/#prod-TemplateHead) [NoSubstitutionTemplate](https://262.ecma-international.org/12.0/#prod-NoSubstitutionTemplate) :: \` [TemplateCharacters](https://262.ecma-international.org/12.0/#prod-TemplateCharacters)opt \` [TemplateHead](https://262.ecma-international.org/12.0/#prod-TemplateHead) :: \` [TemplateCharacters](https://262.ecma-international.org/12.0/#prod-TemplateCharacters)opt ${ [TemplateSubstitutionTail](https://262.ecma-international.org/12.0/#prod-TemplateSubstitutionTail) :: [TemplateMiddle](https://262.ecma-international.org/12.0/#prod-TemplateMiddle) [TemplateTail](https://262.ecma-international.org/12.0/#prod-TemplateTail) [TemplateMiddle](https://262.ecma-international.org/12.0/#prod-TemplateMiddle) :: } [TemplateCharacters](https://262.ecma-international.org/12.0/#prod-TemplateCharacters)opt ${ [TemplateTail](https://262.ecma-international.org/12.0/#prod-TemplateTail) :: } [TemplateCharacters](https://262.ecma-international.org/12.0/#prod-TemplateCharacters)opt \` [TemplateCharacters](https://262.ecma-international.org/12.0/#prod-TemplateCharacters) :: [TemplateCharacter](https://262.ecma-international.org/12.0/#prod-TemplateCharacter) [TemplateCharacters](https://262.ecma-international.org/12.0/#prod-TemplateCharacters)opt [TemplateCharacter](https://262.ecma-international.org/12.0/#prod-TemplateCharacter) :: $ \[lookahead ≠ {\] \\ [EscapeSequence](https://262.ecma-international.org/12.0/#prod-EscapeSequence) \\ [NotEscapeSequence](https://262.ecma-international.org/12.0/#prod-NotEscapeSequence) [LineContinuation](https://262.ecma-international.org/12.0/#prod-LineContinuation) [LineTerminatorSequence](https://262.ecma-international.org/12.0/#prod-LineTerminatorSequence) [SourceCharacter](https://262.ecma-international.org/12.0/#prod-SourceCharacter) but not one of \` or \\ or $ or [LineTerminator](https://262.ecma-international.org/12.0/#prod-LineTerminator) [NotEscapeSequence](https://262.ecma-international.org/12.0/#prod-NotEscapeSequence) :: 0 [DecimalDigit](https://262.ecma-international.org/12.0/#prod-DecimalDigit) [DecimalDigit](https://262.ecma-international.org/12.0/#prod-DecimalDigit) but not 0 x \[lookahead ∉ [HexDigit](https://262.ecma-international.org/12.0/#prod-HexDigit)\] x [HexDigit](https://262.ecma-international.org/12.0/#prod-HexDigit) \[lookahead ∉ [HexDigit](https://262.ecma-international.org/12.0/#prod-HexDigit)\] u \[lookahead ∉ [HexDigit](https://262.ecma-international.org/12.0/#prod-HexDigit)\] \[lookahead ≠ {\] u [HexDigit](https://262.ecma-international.org/12.0/#prod-HexDigit) \[lookahead ∉ [HexDigit](https://262.ecma-international.org/12.0/#prod-HexDigit)\] u [HexDigit](https://262.ecma-international.org/12.0/#prod-HexDigit) [HexDigit](https://262.ecma-international.org/12.0/#prod-HexDigit) \[lookahead ∉ [HexDigit](https://262.ecma-international.org/12.0/#prod-HexDigit)\] u [HexDigit](https://262.ecma-international.org/12.0/#prod-HexDigit) [HexDigit](https://262.ecma-international.org/12.0/#prod-HexDigit) [HexDigit](https://262.ecma-international.org/12.0/#prod-HexDigit) \[lookahead ∉ [HexDigit](https://262.ecma-international.org/12.0/#prod-HexDigit)\] u { \[lookahead ∉ [HexDigit](https://262.ecma-international.org/12.0/#prod-HexDigit)\] u { [NotCodePoint](https://262.ecma-international.org/12.0/#prod-NotCodePoint) \[lookahead ∉ [HexDigit](https://262.ecma-international.org/12.0/#prod-HexDigit)\] u { [CodePoint](https://262.ecma-international.org/12.0/#prod-CodePoint) \[lookahead ∉ [HexDigit](https://262.ecma-international.org/12.0/#prod-HexDigit)\] \[lookahead ≠ }\] [NotCodePoint](https://262.ecma-international.org/12.0/#prod-NotCodePoint) :: [HexDigits](https://262.ecma-international.org/12.0/#prod-HexDigits)\[~Sep\] but only if MV of [HexDigits](https://262.ecma-international.org/12.0/#prod-HexDigits) > 0x10FFFF [CodePoint](https://262.ecma-international.org/12.0/#prod-CodePoint) :: [HexDigits](https://262.ecma-international.org/12.0/#prod-HexDigits)\[~Sep\] but only if MV of [HexDigits](https://262.ecma-international.org/12.0/#prod-HexDigits) ≤ 0x10FFFF

A conforming implementation must not use the extended definition of [EscapeSequence](https://262.ecma-international.org/12.0/#prod-EscapeSequence) described in [B.1.2](https://262.ecma-international.org/12.0/#sec-additional-syntax-string-literals) when parsing a [TemplateCharacter](https://262.ecma-international.org/12.0/#prod-TemplateCharacter).

Note

[TemplateSubstitutionTail](https://262.ecma-international.org/12.0/#prod-TemplateSubstitutionTail) is used by the [InputElementTemplateTail](https://262.ecma-international.org/12.0/#prod-InputElementTemplateTail) alternative lexical goal.

## 12.8.6.1 Static Semantics: TV and TRV

A template literal component is interpreted as a sequence of Unicode code points. The Template Value (TV) of a literal component is described in terms of String values ([SV](https://262.ecma-international.org/12.0/#sec-static-semantics-sv), [12.8.4](https://262.ecma-international.org/12.0/#sec-literals-string-literals)) contributed by the various parts of the template literal component. As part of this process, some Unicode code points within the template component are interpreted as having a [mathematical value](https://262.ecma-international.org/12.0/#mathematical-value) (MV, [12.8.3](https://262.ecma-international.org/12.0/#sec-literals-numeric-literals)). In determining a TV, escape sequences are replaced by the UTF-16 code unit(s) of the Unicode code point represented by the escape sequence. The Template Raw Value (TRV) is similar to a Template Value with the difference that in TRVs escape sequences are interpreted literally.

-   The TV and TRV of [NoSubstitutionTemplate](https://262.ecma-international.org/12.0/#prod-NoSubstitutionTemplate) :: \` \` is the empty String.
-   The TV and TRV of [TemplateHead](https://262.ecma-international.org/12.0/#prod-TemplateHead) :: \` ${ is the empty String.
-   The TV and TRV of [TemplateMiddle](https://262.ecma-international.org/12.0/#prod-TemplateMiddle) :: } ${ is the empty String.
-   The TV and TRV of [TemplateTail](https://262.ecma-international.org/12.0/#prod-TemplateTail) :: } \` is the empty String.
-   The TV of [TemplateCharacters](https://262.ecma-international.org/12.0/#prod-TemplateCharacters) :: [TemplateCharacter](https://262.ecma-international.org/12.0/#prod-TemplateCharacter) [TemplateCharacters](https://262.ecma-international.org/12.0/#prod-TemplateCharacters) is undefined if either the TV of [TemplateCharacter](https://262.ecma-international.org/12.0/#prod-TemplateCharacter) is undefined or the TV of [TemplateCharacters](https://262.ecma-international.org/12.0/#prod-TemplateCharacters) is undefined. Otherwise, it is the [string-concatenation](https://262.ecma-international.org/12.0/#string-concatenation) of the TV of [TemplateCharacter](https://262.ecma-international.org/12.0/#prod-TemplateCharacter) and the TV of [TemplateCharacters](https://262.ecma-international.org/12.0/#prod-TemplateCharacters).
-   The TV of [TemplateCharacter](https://262.ecma-international.org/12.0/#prod-TemplateCharacter) :: [SourceCharacter](https://262.ecma-international.org/12.0/#prod-SourceCharacter) but not one of \` or \\ or $ or [LineTerminator](https://262.ecma-international.org/12.0/#prod-LineTerminator) is the result of performing [UTF16EncodeCodePoint](https://262.ecma-international.org/12.0/#sec-utf16encodecodepoint) on the code point value of [SourceCharacter](https://262.ecma-international.org/12.0/#prod-SourceCharacter).
-   The TV of [TemplateCharacter](https://262.ecma-international.org/12.0/#prod-TemplateCharacter) :: $ is the String value consisting of the code unit 0x0024 (DOLLAR SIGN).
-   The TV of [TemplateCharacter](https://262.ecma-international.org/12.0/#prod-TemplateCharacter) :: \\ [EscapeSequence](https://262.ecma-international.org/12.0/#prod-EscapeSequence) is the [SV](https://262.ecma-international.org/12.0/#sec-static-semantics-sv) of [EscapeSequence](https://262.ecma-international.org/12.0/#prod-EscapeSequence).
-   The TV of [TemplateCharacter](https://262.ecma-international.org/12.0/#prod-TemplateCharacter) :: \\ [NotEscapeSequence](https://262.ecma-international.org/12.0/#prod-NotEscapeSequence) is undefined.
-   The TV of [TemplateCharacter](https://262.ecma-international.org/12.0/#prod-TemplateCharacter) :: [LineTerminatorSequence](https://262.ecma-international.org/12.0/#prod-LineTerminatorSequence) is the TRV of [LineTerminatorSequence](https://262.ecma-international.org/12.0/#prod-LineTerminatorSequence).
-   The TV of [LineContinuation](https://262.ecma-international.org/12.0/#prod-LineContinuation) :: \\ [LineTerminatorSequence](https://262.ecma-international.org/12.0/#prod-LineTerminatorSequence) is the empty String.
-   The TRV of [TemplateCharacters](https://262.ecma-international.org/12.0/#prod-TemplateCharacters) :: [TemplateCharacter](https://262.ecma-international.org/12.0/#prod-TemplateCharacter) [TemplateCharacters](https://262.ecma-international.org/12.0/#prod-TemplateCharacters) is the [string-concatenation](https://262.ecma-international.org/12.0/#string-concatenation) of the TRV of [TemplateCharacter](https://262.ecma-international.org/12.0/#prod-TemplateCharacter) and the TRV of [TemplateCharacters](https://262.ecma-international.org/12.0/#prod-TemplateCharacters).
-   The TRV of [TemplateCharacter](https://262.ecma-international.org/12.0/#prod-TemplateCharacter) :: [SourceCharacter](https://262.ecma-international.org/12.0/#prod-SourceCharacter) but not one of \` or \\ or $ or [LineTerminator](https://262.ecma-international.org/12.0/#prod-LineTerminator) is the result of performing [UTF16EncodeCodePoint](https://262.ecma-international.org/12.0/#sec-utf16encodecodepoint) on the code point value of [SourceCharacter](https://262.ecma-international.org/12.0/#prod-SourceCharacter).
-   The TRV of [TemplateCharacter](https://262.ecma-international.org/12.0/#prod-TemplateCharacter) :: $ is the String value consisting of the code unit 0x0024 (DOLLAR SIGN).
-   The TRV of [TemplateCharacter](https://262.ecma-international.org/12.0/#prod-TemplateCharacter) :: \\ [EscapeSequence](https://262.ecma-international.org/12.0/#prod-EscapeSequence) is the [string-concatenation](https://262.ecma-international.org/12.0/#string-concatenation) of the code unit 0x005C (REVERSE SOLIDUS) and the TRV of [EscapeSequence](https://262.ecma-international.org/12.0/#prod-EscapeSequence).
-   The TRV of [TemplateCharacter](https://262.ecma-international.org/12.0/#prod-TemplateCharacter) :: \\ [NotEscapeSequence](https://262.ecma-international.org/12.0/#prod-NotEscapeSequence) is the [string-concatenation](https://262.ecma-international.org/12.0/#string-concatenation) of the code unit 0x005C (REVERSE SOLIDUS) and the TRV of [NotEscapeSequence](https://262.ecma-international.org/12.0/#prod-NotEscapeSequence).
-   The TRV of [EscapeSequence](https://262.ecma-international.org/12.0/#prod-EscapeSequence) :: 0 is the String value consisting of the code unit 0x0030 (DIGIT ZERO).
-   The TRV of [NotEscapeSequence](https://262.ecma-international.org/12.0/#prod-NotEscapeSequence) :: 0 [DecimalDigit](https://262.ecma-international.org/12.0/#prod-DecimalDigit) is the [string-concatenation](https://262.ecma-international.org/12.0/#string-concatenation) of the code unit 0x0030 (DIGIT ZERO) and the TRV of [DecimalDigit](https://262.ecma-international.org/12.0/#prod-DecimalDigit).
-   The TRV of [NotEscapeSequence](https://262.ecma-international.org/12.0/#prod-NotEscapeSequence) :: x \[lookahead ∉ [HexDigit](https://262.ecma-international.org/12.0/#prod-HexDigit)\] is the String value consisting of the code unit 0x0078 (LATIN SMALL LETTER X).
-   The TRV of [NotEscapeSequence](https://262.ecma-international.org/12.0/#prod-NotEscapeSequence) :: x [HexDigit](https://262.ecma-international.org/12.0/#prod-HexDigit) \[lookahead ∉ [HexDigit](https://262.ecma-international.org/12.0/#prod-HexDigit)\] is the [string-concatenation](https://262.ecma-international.org/12.0/#string-concatenation) of the code unit 0x0078 (LATIN SMALL LETTER X) and the TRV of [HexDigit](https://262.ecma-international.org/12.0/#prod-HexDigit).
-   The TRV of [NotEscapeSequence](https://262.ecma-international.org/12.0/#prod-NotEscapeSequence) :: u \[lookahead ∉ [HexDigit](https://262.ecma-international.org/12.0/#prod-HexDigit)\] \[lookahead ≠ {\] is the String value consisting of the code unit 0x0075 (LATIN SMALL LETTER U).
-   The TRV of [NotEscapeSequence](https://262.ecma-international.org/12.0/#prod-NotEscapeSequence) :: u [HexDigit](https://262.ecma-international.org/12.0/#prod-HexDigit) \[lookahead ∉ [HexDigit](https://262.ecma-international.org/12.0/#prod-HexDigit)\] is the [string-concatenation](https://262.ecma-international.org/12.0/#string-concatenation) of the code unit 0x0075 (LATIN SMALL LETTER U) and the TRV of [HexDigit](https://262.ecma-international.org/12.0/#prod-HexDigit).
-   The TRV of [NotEscapeSequence](https://262.ecma-international.org/12.0/#prod-NotEscapeSequence) :: u [HexDigit](https://262.ecma-international.org/12.0/#prod-HexDigit) [HexDigit](https://262.ecma-international.org/12.0/#prod-HexDigit) \[lookahead ∉ [HexDigit](https://262.ecma-international.org/12.0/#prod-HexDigit)\] is the [string-concatenation](https://262.ecma-international.org/12.0/#string-concatenation) of the code unit 0x0075 (LATIN SMALL LETTER U), the TRV of the first [HexDigit](https://262.ecma-international.org/12.0/#prod-HexDigit), and the TRV of the second [HexDigit](https://262.ecma-international.org/12.0/#prod-HexDigit).
-   The TRV of [NotEscapeSequence](https://262.ecma-international.org/12.0/#prod-NotEscapeSequence) :: u [HexDigit](https://262.ecma-international.org/12.0/#prod-HexDigit) [HexDigit](https://262.ecma-international.org/12.0/#prod-HexDigit) [HexDigit](https://262.ecma-international.org/12.0/#prod-HexDigit) \[lookahead ∉ [HexDigit](https://262.ecma-international.org/12.0/#prod-HexDigit)\] is the [string-concatenation](https://262.ecma-international.org/12.0/#string-concatenation) of the code unit 0x0075 (LATIN SMALL LETTER U), the TRV of the first [HexDigit](https://262.ecma-international.org/12.0/#prod-HexDigit), the TRV of the second [HexDigit](https://262.ecma-international.org/12.0/#prod-HexDigit), and the TRV of the third [HexDigit](https://262.ecma-international.org/12.0/#prod-HexDigit).
-   The TRV of [NotEscapeSequence](https://262.ecma-international.org/12.0/#prod-NotEscapeSequence) :: u { \[lookahead ∉ [HexDigit](https://262.ecma-international.org/12.0/#prod-HexDigit)\] is the [string-concatenation](https://262.ecma-international.org/12.0/#string-concatenation) of the code unit 0x0075 (LATIN SMALL LETTER U) and the code unit 0x007B (LEFT CURLY BRACKET).
-   The TRV of [NotEscapeSequence](https://262.ecma-international.org/12.0/#prod-NotEscapeSequence) :: u { [NotCodePoint](https://262.ecma-international.org/12.0/#prod-NotCodePoint) \[lookahead ∉ [HexDigit](https://262.ecma-international.org/12.0/#prod-HexDigit)\] is the [string-concatenation](https://262.ecma-international.org/12.0/#string-concatenation) of the code unit 0x0075 (LATIN SMALL LETTER U), the code unit 0x007B (LEFT CURLY BRACKET), and the TRV of [NotCodePoint](https://262.ecma-international.org/12.0/#prod-NotCodePoint).
-   The TRV of [NotEscapeSequence](https://262.ecma-international.org/12.0/#prod-NotEscapeSequence) :: u { [CodePoint](https://262.ecma-international.org/12.0/#prod-CodePoint) \[lookahead ∉ [HexDigit](https://262.ecma-international.org/12.0/#prod-HexDigit)\] \[lookahead ≠ }\] is the [string-concatenation](https://262.ecma-international.org/12.0/#string-concatenation) of the code unit 0x0075 (LATIN SMALL LETTER U), the code unit 0x007B (LEFT CURLY BRACKET), and the TRV of [CodePoint](https://262.ecma-international.org/12.0/#prod-CodePoint).
-   The TRV of [DecimalDigit](https://262.ecma-international.org/12.0/#prod-DecimalDigit) :: one of 0 1 2 3 4 5 6 7 8 9 is the result of performing [UTF16EncodeCodePoint](https://262.ecma-international.org/12.0/#sec-utf16encodecodepoint) on the single code point matched by this production.
-   The TRV of [CharacterEscapeSequence](https://262.ecma-international.org/12.0/#prod-CharacterEscapeSequence) :: [NonEscapeCharacter](https://262.ecma-international.org/12.0/#prod-NonEscapeCharacter) is the [SV](https://262.ecma-international.org/12.0/#sec-static-semantics-sv) of [NonEscapeCharacter](https://262.ecma-international.org/12.0/#prod-NonEscapeCharacter).
-   The TRV of [SingleEscapeCharacter](https://262.ecma-international.org/12.0/#prod-SingleEscapeCharacter) :: one of ' " \\ b f n r t v is the result of performing [UTF16EncodeCodePoint](https://262.ecma-international.org/12.0/#sec-utf16encodecodepoint) on the single code point matched by this production.
-   The TRV of [HexEscapeSequence](https://262.ecma-international.org/12.0/#prod-HexEscapeSequence) :: x [HexDigit](https://262.ecma-international.org/12.0/#prod-HexDigit) [HexDigit](https://262.ecma-international.org/12.0/#prod-HexDigit) is the [string-concatenation](https://262.ecma-international.org/12.0/#string-concatenation) of the code unit 0x0078 (LATIN SMALL LETTER X), the TRV of the first [HexDigit](https://262.ecma-international.org/12.0/#prod-HexDigit), and the TRV of the second [HexDigit](https://262.ecma-international.org/12.0/#prod-HexDigit).
-   The TRV of [UnicodeEscapeSequence](https://262.ecma-international.org/12.0/#prod-UnicodeEscapeSequence) :: u [Hex4Digits](https://262.ecma-international.org/12.0/#prod-Hex4Digits) is the [string-concatenation](https://262.ecma-international.org/12.0/#string-concatenation) of the code unit 0x0075 (LATIN SMALL LETTER U) and the TRV of [Hex4Digits](https://262.ecma-international.org/12.0/#prod-Hex4Digits).
-   The TRV of [UnicodeEscapeSequence](https://262.ecma-international.org/12.0/#prod-UnicodeEscapeSequence) :: u{ [CodePoint](https://262.ecma-international.org/12.0/#prod-CodePoint) } is the [string-concatenation](https://262.ecma-international.org/12.0/#string-concatenation) of the code unit 0x0075 (LATIN SMALL LETTER U), the code unit 0x007B (LEFT CURLY BRACKET), the TRV of [CodePoint](https://262.ecma-international.org/12.0/#prod-CodePoint), and the code unit 0x007D (RIGHT CURLY BRACKET).
-   The TRV of [Hex4Digits](https://262.ecma-international.org/12.0/#prod-Hex4Digits) :: [HexDigit](https://262.ecma-international.org/12.0/#prod-HexDigit) [HexDigit](https://262.ecma-international.org/12.0/#prod-HexDigit) [HexDigit](https://262.ecma-international.org/12.0/#prod-HexDigit) [HexDigit](https://262.ecma-international.org/12.0/#prod-HexDigit) is the [string-concatenation](https://262.ecma-international.org/12.0/#string-concatenation) of the TRV of the first [HexDigit](https://262.ecma-international.org/12.0/#prod-HexDigit), the TRV of the second [HexDigit](https://262.ecma-international.org/12.0/#prod-HexDigit), the TRV of the third [HexDigit](https://262.ecma-international.org/12.0/#prod-HexDigit), and the TRV of the fourth [HexDigit](https://262.ecma-international.org/12.0/#prod-HexDigit).
-   The TRV of [HexDigits](https://262.ecma-international.org/12.0/#prod-HexDigits) :: [HexDigits](https://262.ecma-international.org/12.0/#prod-HexDigits) [HexDigit](https://262.ecma-international.org/12.0/#prod-HexDigit) is the [string-concatenation](https://262.ecma-international.org/12.0/#string-concatenation) of the TRV of [HexDigits](https://262.ecma-international.org/12.0/#prod-HexDigits) and the TRV of [HexDigit](https://262.ecma-international.org/12.0/#prod-HexDigit).
-   The TRV of [HexDigit](https://262.ecma-international.org/12.0/#prod-HexDigit) :: one of 0 1 2 3 4 5 6 7 8 9 a b c d e f A B C D E F is the result of performing [UTF16EncodeCodePoint](https://262.ecma-international.org/12.0/#sec-utf16encodecodepoint) on the single code point matched by this production.
-   The TRV of [LineContinuation](https://262.ecma-international.org/12.0/#prod-LineContinuation) :: \\ [LineTerminatorSequence](https://262.ecma-international.org/12.0/#prod-LineTerminatorSequence) is the [string-concatenation](https://262.ecma-international.org/12.0/#string-concatenation) of the code unit 0x005C (REVERSE SOLIDUS) and the TRV of [LineTerminatorSequence](https://262.ecma-international.org/12.0/#prod-LineTerminatorSequence).
-   The TRV of [LineTerminatorSequence](https://262.ecma-international.org/12.0/#prod-LineTerminatorSequence) :: <LF> is the String value consisting of the code unit 0x000A (LINE FEED).
-   The TRV of [LineTerminatorSequence](https://262.ecma-international.org/12.0/#prod-LineTerminatorSequence) :: <CR> is the String value consisting of the code unit 0x000A (LINE FEED).
-   The TRV of [LineTerminatorSequence](https://262.ecma-international.org/12.0/#prod-LineTerminatorSequence) :: <LS> is the String value consisting of the code unit 0x2028 (LINE SEPARATOR).
-   The TRV of [LineTerminatorSequence](https://262.ecma-international.org/12.0/#prod-LineTerminatorSequence) :: <PS> is the String value consisting of the code unit 0x2029 (PARAGRAPH SEPARATOR).
-   The TRV of [LineTerminatorSequence](https://262.ecma-international.org/12.0/#prod-LineTerminatorSequence) :: <CR> <LF> is the String value consisting of the code unit 0x000A (LINE FEED).

Note

TV excludes the code units of [LineContinuation](https://262.ecma-international.org/12.0/#prod-LineContinuation) while TRV includes them. <CR><LF> and <CR> [LineTerminatorSequence](https://262.ecma-international.org/12.0/#prod-LineTerminatorSequence)s are normalized to <LF> for both TV and TRV. An explicit [EscapeSequence](https://262.ecma-international.org/12.0/#prod-EscapeSequence) is needed to include a <CR> or <CR><LF> sequence.

## 12.9 Automatic Semicolon Insertion

Most ECMAScript statements and declarations must be terminated with a semicolon. Such semicolons may always appear explicitly in the source text. For convenience, however, such semicolons may be omitted from the source text in certain situations. These situations are described by saying that semicolons are automatically inserted into the source code token stream in those situations.

## 12.9.1 Rules of Automatic Semicolon Insertion

In the following rules, “token” means the actual recognized lexical token determined using the current lexical [goal symbol](https://262.ecma-international.org/12.0/#sec-context-free-grammars) as described in clause [12](https://262.ecma-international.org/12.0/#sec-ecmascript-language-lexical-grammar).

There are three basic rules of semicolon insertion:

1.  When, as the source text is parsed from left to right, a token (called the _offending token_) is encountered that is not allowed by any production of the grammar, then a semicolon is automatically inserted before the offending token if one or more of the following conditions is true:
    
    -   The offending token is separated from the previous token by at least one [LineTerminator](https://262.ecma-international.org/12.0/#prod-LineTerminator).
    -   The offending token is `}`.
    -   The previous token is `)` and the inserted semicolon would then be parsed as the terminating semicolon of a do-while statement ([14.7.2](https://262.ecma-international.org/12.0/#sec-do-while-statement)).
2.  When, as the source text is parsed from left to right, the end of the input stream of tokens is encountered and the parser is unable to parse the input token stream as a single instance of the goal nonterminal, then a semicolon is automatically inserted at the end of the input stream.
3.  When, as the source text is parsed from left to right, a token is encountered that is allowed by some production of the grammar, but the production is a _restricted production_ and the token would be the first token for a terminal or nonterminal immediately following the annotation “\[no [LineTerminator](https://262.ecma-international.org/12.0/#prod-LineTerminator) here\]” within the restricted production (and therefore such a token is called a restricted token), and the restricted token is separated from the previous token by at least one [LineTerminator](https://262.ecma-international.org/12.0/#prod-LineTerminator), then a semicolon is automatically inserted before the restricted token.

However, there is an additional overriding condition on the preceding rules: a semicolon is never inserted automatically if the semicolon would then be parsed as an empty statement or if that semicolon would become one of the two semicolons in the header of a `for` statement (see [14.7.4](https://262.ecma-international.org/12.0/#sec-for-statement)).

Note

The following are the only restricted productions in the grammar:

[UpdateExpression](https://262.ecma-international.org/12.0/#prod-UpdateExpression)\[Yield, Await\] : [LeftHandSideExpression](https://262.ecma-international.org/12.0/#prod-LeftHandSideExpression)\[?Yield, ?Await\] \[no [LineTerminator](https://262.ecma-international.org/12.0/#prod-LineTerminator) here\] ++ [LeftHandSideExpression](https://262.ecma-international.org/12.0/#prod-LeftHandSideExpression)\[?Yield, ?Await\] \[no [LineTerminator](https://262.ecma-international.org/12.0/#prod-LineTerminator) here\] \-- [ContinueStatement](https://262.ecma-international.org/12.0/#prod-ContinueStatement)\[Yield, Await\] : continue ; continue \[no [LineTerminator](https://262.ecma-international.org/12.0/#prod-LineTerminator) here\] [LabelIdentifier](https://262.ecma-international.org/12.0/#prod-LabelIdentifier)\[?Yield, ?Await\] ; [BreakStatement](https://262.ecma-international.org/12.0/#prod-BreakStatement)\[Yield, Await\] : break ; break \[no [LineTerminator](https://262.ecma-international.org/12.0/#prod-LineTerminator) here\] [LabelIdentifier](https://262.ecma-international.org/12.0/#prod-LabelIdentifier)\[?Yield, ?Await\] ; [ReturnStatement](https://262.ecma-international.org/12.0/#prod-ReturnStatement)\[Yield, Await\] : return ; return \[no [LineTerminator](https://262.ecma-international.org/12.0/#prod-LineTerminator) here\] [Expression](https://262.ecma-international.org/12.0/#prod-Expression)\[+In, ?Yield, ?Await\] ; [ThrowStatement](https://262.ecma-international.org/12.0/#prod-ThrowStatement)\[Yield, Await\] : throw \[no [LineTerminator](https://262.ecma-international.org/12.0/#prod-LineTerminator) here\] [Expression](https://262.ecma-international.org/12.0/#prod-Expression)\[+In, ?Yield, ?Await\] ; [ArrowFunction](https://262.ecma-international.org/12.0/#prod-ArrowFunction)\[In, Yield, Await\] : [ArrowParameters](https://262.ecma-international.org/12.0/#prod-ArrowParameters)\[?Yield, ?Await\] \[no [LineTerminator](https://262.ecma-international.org/12.0/#prod-LineTerminator) here\] \=> [ConciseBody](https://262.ecma-international.org/12.0/#prod-ConciseBody)\[?In\] [YieldExpression](https://262.ecma-international.org/12.0/#prod-YieldExpression)\[In, Await\] : yield yield \[no [LineTerminator](https://262.ecma-international.org/12.0/#prod-LineTerminator) here\] [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression)\[?In, +Yield, ?Await\] yield \[no [LineTerminator](https://262.ecma-international.org/12.0/#prod-LineTerminator) here\] \* [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression)\[?In, +Yield, ?Await\]

The practical effect of these restricted productions is as follows:

-   When a `++` or `--` token is encountered where the parser would treat it as a postfix operator, and at least one [LineTerminator](https://262.ecma-international.org/12.0/#prod-LineTerminator) occurred between the preceding token and the `++` or `--` token, then a semicolon is automatically inserted before the `++` or `--` token.
-   When a `continue`, `break`, `return`, `throw`, or `yield` token is encountered and a [LineTerminator](https://262.ecma-international.org/12.0/#prod-LineTerminator) is encountered before the next token, a semicolon is automatically inserted after the `continue`, `break`, `return`, `throw`, or `yield` token.

The resulting practical advice to ECMAScript programmers is:

-   A postfix `++` or `--` operator should appear on the same line as its operand.
-   An [Expression](https://262.ecma-international.org/12.0/#prod-Expression) in a `return` or `throw` statement or an [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression) in a `yield` expression should start on the same line as the `return`, `throw`, or `yield` token.
-   A [LabelIdentifier](https://262.ecma-international.org/12.0/#prod-LabelIdentifier) in a `break` or `continue` statement should be on the same line as the `break` or `continue` token.

## 12.9.2 Examples of Automatic Semicolon Insertion

_This section is non-normative._

The source

```
{ 1 2 } 3
```

is not a valid sentence in the ECMAScript grammar, even with the automatic semicolon insertion rules. In contrast, the source

```
{ 1
2 } 3
```

is also not a valid ECMAScript sentence, but is transformed by automatic semicolon insertion into the following:

```
{ 1
;2 ;} 3;
```

which is a valid ECMAScript sentence.

The source

```
for (a; b
)
```

is not a valid ECMAScript sentence and is not altered by automatic semicolon insertion because the semicolon is needed for the header of a `for` statement. Automatic semicolon insertion never inserts one of the two semicolons in the header of a `for` statement.

The source

```
return
a + b
```

is transformed by automatic semicolon insertion into the following:

```
return;
a + b;
```

Note 1

The expression `a + b` is not treated as a value to be returned by the `return` statement, because a [LineTerminator](https://262.ecma-international.org/12.0/#prod-LineTerminator) separates it from the token `return`.

The source

```
a = b
++c
```

is transformed by automatic semicolon insertion into the following:

```
a = b;
++c;
```

Note 2

The token `++` is not treated as a postfix operator applying to the variable `b`, because a [LineTerminator](https://262.ecma-international.org/12.0/#prod-LineTerminator) occurs between `b` and `++`.

The source

```
if (a > b)
else c = d
```

is not a valid ECMAScript sentence and is not altered by automatic semicolon insertion before the `else` token, even though no production of the grammar applies at that point, because an automatically inserted semicolon would then be parsed as an empty statement.

The source

```
a = b + c
(d + e).print()
```

is _not_ transformed by automatic semicolon insertion, because the parenthesized expression that begins the second line can be interpreted as an argument list for a function call:

```
a = b + c(d + e).print()
```

In the circumstance that an assignment statement must begin with a left parenthesis, it is a good idea for the programmer to provide an explicit semicolon at the end of the preceding statement rather than to rely on automatic semicolon insertion.

## 12.9.3 Interesting Cases of Automatic Semicolon Insertion

_This section is non-normative._

ECMAScript programs can be written in a style with very few semicolons by relying on automatic semicolon insertion. As described above, semicolons are not inserted at every newline, and automatic semicolon insertion can depend on multiple tokens across line terminators.

As new syntactic features are added to ECMAScript, additional grammar productions could be added that cause lines relying on automatic semicolon insertion preceding them to change grammar productions when parsed.

For the purposes of this section, a case of automatic semicolon insertion is considered interesting if it is a place where a semicolon may or may not be inserted, depending on the source text which precedes it. The rest of this section describes a number of interesting cases of automatic semicolon insertion in this version of ECMAScript.

## 12.9.3.1 Interesting Cases of Automatic Semicolon Insertion in Statement Lists

In a [StatementList](https://262.ecma-international.org/12.0/#prod-StatementList), many [StatementListItem](https://262.ecma-international.org/12.0/#prod-StatementListItem)s end in semicolons, which may be omitted using automatic semicolon insertion. As a consequence of the rules above, at the end of a line ending an expression, a semicolon is required if the following line begins with any of the following:

-   **An opening parenthesis (`(`)**. Without a semicolon, the two lines together are treated as a [CallExpression](https://262.ecma-international.org/12.0/#prod-CallExpression).
-   **An opening square bracket (`[`)**. Without a semicolon, the two lines together are treated as property access, rather than an [ArrayLiteral](https://262.ecma-international.org/12.0/#prod-ArrayLiteral) or [ArrayAssignmentPattern](https://262.ecma-international.org/12.0/#prod-ArrayAssignmentPattern).
-   **A template literal (`` ` ``)**. Without a semicolon, the two lines together are interpreted as a tagged Template ([13.3.11](https://262.ecma-international.org/12.0/#sec-tagged-templates)), with the previous expression as the [MemberExpression](https://262.ecma-international.org/12.0/#prod-MemberExpression).
-   **Unary `+` or `-`**. Without a semicolon, the two lines together are interpreted as a usage of the corresponding binary operator.
-   **A RegExp literal**. Without a semicolon, the two lines together may be parsed instead as the `/` [MultiplicativeOperator](https://262.ecma-international.org/12.0/#prod-MultiplicativeOperator), for example if the RegExp has flags.

## 12.9.3.2 Cases of Automatic Semicolon Insertion and “\[no [LineTerminator](https://262.ecma-international.org/12.0/#prod-LineTerminator) here\]”

_This section is non-normative._

ECMAScript contains grammar productions which include “\[no [LineTerminator](https://262.ecma-international.org/12.0/#prod-LineTerminator) here\]”. These productions are sometimes a means to have optional operands in the grammar. Introducing a [LineTerminator](https://262.ecma-international.org/12.0/#prod-LineTerminator) in these locations would change the grammar production of a source text by using the grammar production without the optional operand.

The rest of this section describes a number of productions using “\[no [LineTerminator](https://262.ecma-international.org/12.0/#prod-LineTerminator) here\]” in this version of ECMAScript.

## 12.9.3.2.1 List of Grammar Productions with Optional Operands and “\[no [LineTerminator](https://262.ecma-international.org/12.0/#prod-LineTerminator) here\]”

-   [UpdateExpression](https://262.ecma-international.org/12.0/#prod-UpdateExpression).
-   [ContinueStatement](https://262.ecma-international.org/12.0/#prod-ContinueStatement).
-   [BreakStatement](https://262.ecma-international.org/12.0/#prod-BreakStatement).
-   [ReturnStatement](https://262.ecma-international.org/12.0/#prod-ReturnStatement).
-   [YieldExpression](https://262.ecma-international.org/12.0/#prod-YieldExpression).
-   Async Function Definitions ([15.8](https://262.ecma-international.org/12.0/#sec-async-function-definitions)) with relation to Function Definitions ([15.2](https://262.ecma-international.org/12.0/#sec-function-definitions))

## 13 ECMAScript Language: Expressions

## 13.1 Identifiers

## Syntax

[IdentifierReference](https://262.ecma-international.org/12.0/#prod-IdentifierReference)\[Yield, Await\] : [Identifier](https://262.ecma-international.org/12.0/#prod-Identifier) \[~Yield\]yield \[~Await\]await [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier)\[Yield, Await\] : [Identifier](https://262.ecma-international.org/12.0/#prod-Identifier) yield await [LabelIdentifier](https://262.ecma-international.org/12.0/#prod-LabelIdentifier)\[Yield, Await\] : [Identifier](https://262.ecma-international.org/12.0/#prod-Identifier) \[~Yield\]yield \[~Await\]await [Identifier](https://262.ecma-international.org/12.0/#prod-Identifier) : [IdentifierName](https://262.ecma-international.org/12.0/#prod-IdentifierName) but not [ReservedWord](https://262.ecma-international.org/12.0/#prod-ReservedWord) Note

`yield` and `await` are permitted as [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier) in the grammar, and prohibited with [static semantics](https://262.ecma-international.org/12.0/#sec-static-semantic-rules) below, to prohibit automatic semicolon insertion in cases such as

```
let
await 0;
```

## 13.1.1 Static Semantics: Early Errors

[BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier) : [Identifier](https://262.ecma-international.org/12.0/#prod-Identifier)

-   It is a Syntax Error if the code matched by this production is contained in [strict mode code](https://262.ecma-international.org/12.0/#sec-strict-mode-code) and the [StringValue](https://262.ecma-international.org/12.0/#sec-static-semantics-stringvalue) of [Identifier](https://262.ecma-international.org/12.0/#prod-Identifier) is "arguments" or "eval".

[IdentifierReference](https://262.ecma-international.org/12.0/#prod-IdentifierReference) : yield [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier) : yield [LabelIdentifier](https://262.ecma-international.org/12.0/#prod-LabelIdentifier) : yield

-   It is a Syntax Error if the code matched by this production is contained in [strict mode code](https://262.ecma-international.org/12.0/#sec-strict-mode-code).

[IdentifierReference](https://262.ecma-international.org/12.0/#prod-IdentifierReference) : await [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier) : await [LabelIdentifier](https://262.ecma-international.org/12.0/#prod-LabelIdentifier) : await

-   It is a Syntax Error if the [goal symbol](https://262.ecma-international.org/12.0/#sec-context-free-grammars) of the syntactic grammar is [Module](https://262.ecma-international.org/12.0/#prod-Module).

[BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier)\[Yield, Await\] : yield

-   It is a Syntax Error if this production has a \[Yield\] parameter.

[BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier)\[Yield, Await\] : await

-   It is a Syntax Error if this production has an \[Await\] parameter.

[IdentifierReference](https://262.ecma-international.org/12.0/#prod-IdentifierReference)\[Yield, Await\] : [Identifier](https://262.ecma-international.org/12.0/#prod-Identifier) [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier)\[Yield, Await\] : [Identifier](https://262.ecma-international.org/12.0/#prod-Identifier) [LabelIdentifier](https://262.ecma-international.org/12.0/#prod-LabelIdentifier)\[Yield, Await\] : [Identifier](https://262.ecma-international.org/12.0/#prod-Identifier)

-   It is a Syntax Error if this production has a \[Yield\] parameter and [StringValue](https://262.ecma-international.org/12.0/#sec-static-semantics-stringvalue) of [Identifier](https://262.ecma-international.org/12.0/#prod-Identifier) is "yield".
-   It is a Syntax Error if this production has an \[Await\] parameter and [StringValue](https://262.ecma-international.org/12.0/#sec-static-semantics-stringvalue) of [Identifier](https://262.ecma-international.org/12.0/#prod-Identifier) is "await".

[Identifier](https://262.ecma-international.org/12.0/#prod-Identifier) : [IdentifierName](https://262.ecma-international.org/12.0/#prod-IdentifierName) but not [ReservedWord](https://262.ecma-international.org/12.0/#prod-ReservedWord)

-   It is a Syntax Error if this phrase is contained in [strict mode code](https://262.ecma-international.org/12.0/#sec-strict-mode-code) and the [StringValue](https://262.ecma-international.org/12.0/#sec-static-semantics-stringvalue) of [IdentifierName](https://262.ecma-international.org/12.0/#prod-IdentifierName) is: "implements", "interface", "let", "package", "private", "protected", "public", "static", or "yield".
-   It is a Syntax Error if the [goal symbol](https://262.ecma-international.org/12.0/#sec-context-free-grammars) of the syntactic grammar is [Module](https://262.ecma-international.org/12.0/#prod-Module) and the [StringValue](https://262.ecma-international.org/12.0/#sec-static-semantics-stringvalue) of [IdentifierName](https://262.ecma-international.org/12.0/#prod-IdentifierName) is "await".
-   It is a Syntax Error if [StringValue](https://262.ecma-international.org/12.0/#sec-static-semantics-stringvalue) of [IdentifierName](https://262.ecma-international.org/12.0/#prod-IdentifierName) is the same String value as the [StringValue](https://262.ecma-international.org/12.0/#sec-static-semantics-stringvalue) of any [ReservedWord](https://262.ecma-international.org/12.0/#prod-ReservedWord) except for `yield` or `await`.

Note

[StringValue](https://262.ecma-international.org/12.0/#sec-static-semantics-stringvalue) of [IdentifierName](https://262.ecma-international.org/12.0/#prod-IdentifierName) normalizes any Unicode escape sequences in [IdentifierName](https://262.ecma-international.org/12.0/#prod-IdentifierName) hence such escapes cannot be used to write an [Identifier](https://262.ecma-international.org/12.0/#prod-Identifier) whose code point sequence is the same as a [ReservedWord](https://262.ecma-international.org/12.0/#prod-ReservedWord).

## 13.1.2 Static Semantics: StringValue

[IdentifierName](https://262.ecma-international.org/12.0/#prod-IdentifierName) :: [IdentifierStart](https://262.ecma-international.org/12.0/#prod-IdentifierStart) [IdentifierName](https://262.ecma-international.org/12.0/#prod-IdentifierName) [IdentifierPart](https://262.ecma-international.org/12.0/#prod-IdentifierPart)

1.  Let idText be the [source text matched by](https://262.ecma-international.org/12.0/#sec-algorithm-conventions-syntax-directed-operations) [IdentifierName](https://262.ecma-international.org/12.0/#prod-IdentifierName).
2.  Let idTextUnescaped be the result of replacing any occurrences of `\` [UnicodeEscapeSequence](https://262.ecma-international.org/12.0/#prod-UnicodeEscapeSequence) in idText with the code point represented by the [UnicodeEscapeSequence](https://262.ecma-international.org/12.0/#prod-UnicodeEscapeSequence).
3.  Return ! [CodePointsToString](https://262.ecma-international.org/12.0/#sec-codepointstostring)(idTextUnescaped).

[IdentifierReference](https://262.ecma-international.org/12.0/#prod-IdentifierReference) : yield [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier) : yield [LabelIdentifier](https://262.ecma-international.org/12.0/#prod-LabelIdentifier) : yield

1.  Return "yield".

[IdentifierReference](https://262.ecma-international.org/12.0/#prod-IdentifierReference) : await [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier) : await [LabelIdentifier](https://262.ecma-international.org/12.0/#prod-LabelIdentifier) : await

1.  Return "await".

[Identifier](https://262.ecma-international.org/12.0/#prod-Identifier) : [IdentifierName](https://262.ecma-international.org/12.0/#prod-IdentifierName) but not [ReservedWord](https://262.ecma-international.org/12.0/#prod-ReservedWord)

1.  Return the [StringValue](https://262.ecma-international.org/12.0/#sec-static-semantics-stringvalue) of [IdentifierName](https://262.ecma-international.org/12.0/#prod-IdentifierName).

## 13.1.3 Runtime Semantics: Evaluation

[IdentifierReference](https://262.ecma-international.org/12.0/#prod-IdentifierReference) : [Identifier](https://262.ecma-international.org/12.0/#prod-Identifier)

1.  Return ? [ResolveBinding](https://262.ecma-international.org/12.0/#sec-resolvebinding)([StringValue](https://262.ecma-international.org/12.0/#sec-static-semantics-stringvalue) of [Identifier](https://262.ecma-international.org/12.0/#prod-Identifier)).

[IdentifierReference](https://262.ecma-international.org/12.0/#prod-IdentifierReference) : yield

1.  Return ? [ResolveBinding](https://262.ecma-international.org/12.0/#sec-resolvebinding)("yield").

[IdentifierReference](https://262.ecma-international.org/12.0/#prod-IdentifierReference) : await

1.  Return ? [ResolveBinding](https://262.ecma-international.org/12.0/#sec-resolvebinding)("await").

Note 1

The result of evaluating an [IdentifierReference](https://262.ecma-international.org/12.0/#prod-IdentifierReference) is always a value of type [Reference](https://tc39.es/ecma262/#sec-reference-specification-type).

Note 2

In [non-strict code](https://262.ecma-international.org/12.0/#non-strict-code), the [keyword](https://262.ecma-international.org/12.0/#sec-keywords-and-reserved-words) `yield` may be used as an identifier. Evaluating the [IdentifierReference](https://262.ecma-international.org/12.0/#prod-IdentifierReference) resolves the binding of `yield` as if it was an [Identifier](https://262.ecma-international.org/12.0/#prod-Identifier). Early Error restriction ensures that such an evaluation only can occur for [non-strict code](https://262.ecma-international.org/12.0/#non-strict-code).

## 13.2 Primary Expression

## Syntax

[PrimaryExpression](https://262.ecma-international.org/12.0/#prod-PrimaryExpression)\[Yield, Await\] : this [IdentifierReference](https://262.ecma-international.org/12.0/#prod-IdentifierReference)\[?Yield, ?Await\] [Literal](https://262.ecma-international.org/12.0/#prod-Literal) [ArrayLiteral](https://262.ecma-international.org/12.0/#prod-ArrayLiteral)\[?Yield, ?Await\] [ObjectLiteral](https://262.ecma-international.org/12.0/#prod-ObjectLiteral)\[?Yield, ?Await\] [FunctionExpression](https://262.ecma-international.org/12.0/#prod-FunctionExpression) [ClassExpression](https://262.ecma-international.org/12.0/#prod-ClassExpression)\[?Yield, ?Await\] [GeneratorExpression](https://262.ecma-international.org/12.0/#prod-GeneratorExpression) [AsyncFunctionExpression](https://262.ecma-international.org/12.0/#prod-AsyncFunctionExpression) [AsyncGeneratorExpression](https://262.ecma-international.org/12.0/#prod-AsyncGeneratorExpression) [RegularExpressionLiteral](https://262.ecma-international.org/12.0/#prod-RegularExpressionLiteral) [TemplateLiteral](https://262.ecma-international.org/12.0/#prod-TemplateLiteral)\[?Yield, ?Await, ~Tagged\] [CoverParenthesizedExpressionAndArrowParameterList](https://262.ecma-international.org/12.0/#prod-CoverParenthesizedExpressionAndArrowParameterList)\[?Yield, ?Await\] [CoverParenthesizedExpressionAndArrowParameterList](https://262.ecma-international.org/12.0/#prod-CoverParenthesizedExpressionAndArrowParameterList)\[Yield, Await\] : ( [Expression](https://262.ecma-international.org/12.0/#prod-Expression)\[+In, ?Yield, ?Await\] ) ( [Expression](https://262.ecma-international.org/12.0/#prod-Expression)\[+In, ?Yield, ?Await\] , ) ( ) ( ... [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier)\[?Yield, ?Await\] ) ( ... [BindingPattern](https://262.ecma-international.org/12.0/#prod-BindingPattern)\[?Yield, ?Await\] ) ( [Expression](https://262.ecma-international.org/12.0/#prod-Expression)\[+In, ?Yield, ?Await\] , ... [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier)\[?Yield, ?Await\] ) ( [Expression](https://262.ecma-international.org/12.0/#prod-Expression)\[+In, ?Yield, ?Await\] , ... [BindingPattern](https://262.ecma-international.org/12.0/#prod-BindingPattern)\[?Yield, ?Await\] )

## Supplemental Syntax

When processing an instance of the production  
[PrimaryExpression](https://262.ecma-international.org/12.0/#prod-PrimaryExpression)\[Yield, Await\] : [CoverParenthesizedExpressionAndArrowParameterList](https://262.ecma-international.org/12.0/#prod-CoverParenthesizedExpressionAndArrowParameterList)\[?Yield, ?Await\]  
the interpretation of [CoverParenthesizedExpressionAndArrowParameterList](https://262.ecma-international.org/12.0/#prod-CoverParenthesizedExpressionAndArrowParameterList) is refined using the following grammar:

[ParenthesizedExpression](https://262.ecma-international.org/12.0/#prod-ParenthesizedExpression)\[Yield, Await\] : ( [Expression](https://262.ecma-international.org/12.0/#prod-Expression)\[+In, ?Yield, ?Await\] )

## 13.2.1 Semantics

## 13.2.1.1 Static Semantics: CoveredParenthesizedExpression

[CoverParenthesizedExpressionAndArrowParameterList](https://262.ecma-international.org/12.0/#prod-CoverParenthesizedExpressionAndArrowParameterList) : ( [Expression](https://262.ecma-international.org/12.0/#prod-Expression) )

1.  Return the [ParenthesizedExpression](https://262.ecma-international.org/12.0/#prod-ParenthesizedExpression) that is [covered](https://262.ecma-international.org/12.0/#sec-syntactic-grammar) by [CoverParenthesizedExpressionAndArrowParameterList](https://262.ecma-international.org/12.0/#prod-CoverParenthesizedExpressionAndArrowParameterList).

## 13.2.2 The `this` Keyword

## 13.2.2.1 Runtime Semantics: Evaluation

[PrimaryExpression](https://262.ecma-international.org/12.0/#prod-PrimaryExpression) : this

1.  Return ? [ResolveThisBinding](https://262.ecma-international.org/12.0/#sec-resolvethisbinding)().

## 13.2.3 Identifier Reference

See [13.1](https://262.ecma-international.org/12.0/#sec-identifiers) for [IdentifierReference](https://262.ecma-international.org/12.0/#prod-IdentifierReference).

## 13.2.4 Literals

## Syntax

[Literal](https://262.ecma-international.org/12.0/#prod-Literal) : [NullLiteral](https://262.ecma-international.org/12.0/#prod-NullLiteral) [BooleanLiteral](https://262.ecma-international.org/12.0/#prod-BooleanLiteral) [NumericLiteral](https://262.ecma-international.org/12.0/#prod-NumericLiteral) [StringLiteral](https://262.ecma-international.org/12.0/#prod-StringLiteral)

## 13.2.4.1 Runtime Semantics: Evaluation

[Literal](https://262.ecma-international.org/12.0/#prod-Literal) : [NullLiteral](https://262.ecma-international.org/12.0/#prod-NullLiteral)

1.  Return null.

[Literal](https://262.ecma-international.org/12.0/#prod-Literal) : [BooleanLiteral](https://262.ecma-international.org/12.0/#prod-BooleanLiteral)

1.  If [BooleanLiteral](https://262.ecma-international.org/12.0/#prod-BooleanLiteral) is the token `false`, return false.
2.  If [BooleanLiteral](https://262.ecma-international.org/12.0/#prod-BooleanLiteral) is the token `true`, return true.

[Literal](https://262.ecma-international.org/12.0/#prod-Literal) : [NumericLiteral](https://262.ecma-international.org/12.0/#prod-NumericLiteral)

1.  Return the [NumericValue](https://262.ecma-international.org/12.0/#sec-numericvalue) of [NumericLiteral](https://262.ecma-international.org/12.0/#prod-NumericLiteral) as defined in [12.8.3](https://262.ecma-international.org/12.0/#sec-literals-numeric-literals).

[Literal](https://262.ecma-international.org/12.0/#prod-Literal) : [StringLiteral](https://262.ecma-international.org/12.0/#prod-StringLiteral)

1.  Return the [SV](https://262.ecma-international.org/12.0/#sec-static-semantics-sv) of [StringLiteral](https://262.ecma-international.org/12.0/#prod-StringLiteral) as defined in [12.8.4.1](https://262.ecma-international.org/12.0/#sec-static-semantics-sv).

## 13.2.5 Array Initializer

Note

An [ArrayLiteral](https://262.ecma-international.org/12.0/#prod-ArrayLiteral) is an expression describing the initialization of an Array object, using a list, of zero or more expressions each of which represents an array element, enclosed in square brackets. The elements need not be literals; they are evaluated each time the array initializer is evaluated.

Array elements may be elided at the beginning, middle or end of the element list. Whenever a comma in the element list is not preceded by an [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression) (i.e., a comma at the beginning or after another comma), the missing array element contributes to the length of the Array and increases the index of subsequent elements. Elided array elements are not defined. If an element is elided at the end of an array, that element does not contribute to the length of the Array.

## Syntax

[ArrayLiteral](https://262.ecma-international.org/12.0/#prod-ArrayLiteral)\[Yield, Await\] : \[ [Elision](https://262.ecma-international.org/12.0/#prod-Elision)opt \] \[ [ElementList](https://262.ecma-international.org/12.0/#prod-ElementList)\[?Yield, ?Await\] \] \[ [ElementList](https://262.ecma-international.org/12.0/#prod-ElementList)\[?Yield, ?Await\] , [Elision](https://262.ecma-international.org/12.0/#prod-Elision)opt \] [ElementList](https://262.ecma-international.org/12.0/#prod-ElementList)\[Yield, Await\] : [Elision](https://262.ecma-international.org/12.0/#prod-Elision)opt [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression)\[+In, ?Yield, ?Await\] [Elision](https://262.ecma-international.org/12.0/#prod-Elision)opt [SpreadElement](https://262.ecma-international.org/12.0/#prod-SpreadElement)\[?Yield, ?Await\] [ElementList](https://262.ecma-international.org/12.0/#prod-ElementList)\[?Yield, ?Await\] , [Elision](https://262.ecma-international.org/12.0/#prod-Elision)opt [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression)\[+In, ?Yield, ?Await\] [ElementList](https://262.ecma-international.org/12.0/#prod-ElementList)\[?Yield, ?Await\] , [Elision](https://262.ecma-international.org/12.0/#prod-Elision)opt [SpreadElement](https://262.ecma-international.org/12.0/#prod-SpreadElement)\[?Yield, ?Await\] [Elision](https://262.ecma-international.org/12.0/#prod-Elision) : , [Elision](https://262.ecma-international.org/12.0/#prod-Elision) , [SpreadElement](https://262.ecma-international.org/12.0/#prod-SpreadElement)\[Yield, Await\] : ... [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression)\[+In, ?Yield, ?Await\]

## 13.2.5.1 Runtime Semantics: ArrayAccumulation

With parameters array and nextIndex.

[Elision](https://262.ecma-international.org/12.0/#prod-Elision) : ,

1.  Let len be nextIndex + 1.
2.  Perform ? [Set](https://262.ecma-international.org/12.0/#sec-set-o-p-v-throw)(array, "length", [𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(len), true).
3.  NOTE: The above Set throws if len exceeds 232\-1.
4.  Return len.

[Elision](https://262.ecma-international.org/12.0/#prod-Elision) : [Elision](https://262.ecma-international.org/12.0/#prod-Elision) ,

1.  Return the result of performing [ArrayAccumulation](https://262.ecma-international.org/12.0/#sec-runtime-semantics-arrayaccumulation) for [Elision](https://262.ecma-international.org/12.0/#prod-Elision) with arguments array and nextIndex + 1.

[ElementList](https://262.ecma-international.org/12.0/#prod-ElementList) : [Elision](https://262.ecma-international.org/12.0/#prod-Elision)opt [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression)

1.  If [Elision](https://262.ecma-international.org/12.0/#prod-Elision) is present, then
    1.  Set nextIndex to the result of performing [ArrayAccumulation](https://262.ecma-international.org/12.0/#sec-runtime-semantics-arrayaccumulation) for [Elision](https://262.ecma-international.org/12.0/#prod-Elision) with arguments array and nextIndex.
    2.  [ReturnIfAbrupt](https://262.ecma-international.org/12.0/#sec-returnifabrupt)(nextIndex).
2.  Let initResult be the result of evaluating [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression).
3.  Let initValue be ? [GetValue](https://262.ecma-international.org/12.0/#sec-getvalue)(initResult).
4.  Let created be ! [CreateDataPropertyOrThrow](https://262.ecma-international.org/12.0/#sec-createdatapropertyorthrow)(array, ! [ToString](https://262.ecma-international.org/12.0/#sec-tostring)([𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(nextIndex)), initValue).
5.  Return nextIndex + 1.

[ElementList](https://262.ecma-international.org/12.0/#prod-ElementList) : [Elision](https://262.ecma-international.org/12.0/#prod-Elision)opt [SpreadElement](https://262.ecma-international.org/12.0/#prod-SpreadElement)

1.  If [Elision](https://262.ecma-international.org/12.0/#prod-Elision) is present, then
    1.  Set nextIndex to the result of performing [ArrayAccumulation](https://262.ecma-international.org/12.0/#sec-runtime-semantics-arrayaccumulation) for [Elision](https://262.ecma-international.org/12.0/#prod-Elision) with arguments array and nextIndex.
    2.  [ReturnIfAbrupt](https://262.ecma-international.org/12.0/#sec-returnifabrupt)(nextIndex).
2.  Return the result of performing [ArrayAccumulation](https://262.ecma-international.org/12.0/#sec-runtime-semantics-arrayaccumulation) for [SpreadElement](https://262.ecma-international.org/12.0/#prod-SpreadElement) with arguments array and nextIndex.

[ElementList](https://262.ecma-international.org/12.0/#prod-ElementList) : [ElementList](https://262.ecma-international.org/12.0/#prod-ElementList) , [Elision](https://262.ecma-international.org/12.0/#prod-Elision)opt [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression)

1.  Set nextIndex to the result of performing [ArrayAccumulation](https://262.ecma-international.org/12.0/#sec-runtime-semantics-arrayaccumulation) for [ElementList](https://262.ecma-international.org/12.0/#prod-ElementList) with arguments array and nextIndex.
2.  [ReturnIfAbrupt](https://262.ecma-international.org/12.0/#sec-returnifabrupt)(nextIndex).
3.  If [Elision](https://262.ecma-international.org/12.0/#prod-Elision) is present, then
    1.  Set nextIndex to the result of performing [ArrayAccumulation](https://262.ecma-international.org/12.0/#sec-runtime-semantics-arrayaccumulation) for [Elision](https://262.ecma-international.org/12.0/#prod-Elision) with arguments array and nextIndex.
    2.  [ReturnIfAbrupt](https://262.ecma-international.org/12.0/#sec-returnifabrupt)(nextIndex).
4.  Let initResult be the result of evaluating [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression).
5.  Let initValue be ? [GetValue](https://262.ecma-international.org/12.0/#sec-getvalue)(initResult).
6.  Let created be ! [CreateDataPropertyOrThrow](https://262.ecma-international.org/12.0/#sec-createdatapropertyorthrow)(array, ! [ToString](https://262.ecma-international.org/12.0/#sec-tostring)([𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(nextIndex)), initValue).
7.  Return nextIndex + 1.

[ElementList](https://262.ecma-international.org/12.0/#prod-ElementList) : [ElementList](https://262.ecma-international.org/12.0/#prod-ElementList) , [Elision](https://262.ecma-international.org/12.0/#prod-Elision)opt [SpreadElement](https://262.ecma-international.org/12.0/#prod-SpreadElement)

1.  Set nextIndex to the result of performing [ArrayAccumulation](https://262.ecma-international.org/12.0/#sec-runtime-semantics-arrayaccumulation) for [ElementList](https://262.ecma-international.org/12.0/#prod-ElementList) with arguments array and nextIndex.
2.  [ReturnIfAbrupt](https://262.ecma-international.org/12.0/#sec-returnifabrupt)(nextIndex).
3.  If [Elision](https://262.ecma-international.org/12.0/#prod-Elision) is present, then
    1.  Set nextIndex to the result of performing [ArrayAccumulation](https://262.ecma-international.org/12.0/#sec-runtime-semantics-arrayaccumulation) for [Elision](https://262.ecma-international.org/12.0/#prod-Elision) with arguments array and nextIndex.
    2.  [ReturnIfAbrupt](https://262.ecma-international.org/12.0/#sec-returnifabrupt)(nextIndex).
4.  Return the result of performing [ArrayAccumulation](https://262.ecma-international.org/12.0/#sec-runtime-semantics-arrayaccumulation) for [SpreadElement](https://262.ecma-international.org/12.0/#prod-SpreadElement) with arguments array and nextIndex.

[SpreadElement](https://262.ecma-international.org/12.0/#prod-SpreadElement) : ... [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression)

1.  Let spreadRef be the result of evaluating [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression).
2.  Let spreadObj be ? [GetValue](https://262.ecma-international.org/12.0/#sec-getvalue)(spreadRef).
3.  Let iteratorRecord be ? [GetIterator](https://262.ecma-international.org/12.0/#sec-getiterator)(spreadObj).
4.  Repeat,
    1.  Let next be ? [IteratorStep](https://262.ecma-international.org/12.0/#sec-iteratorstep)(iteratorRecord).
    2.  If next is false, return nextIndex.
    3.  Let nextValue be ? [IteratorValue](https://262.ecma-international.org/12.0/#sec-iteratorvalue)(next).
    4.  Perform ! [CreateDataPropertyOrThrow](https://262.ecma-international.org/12.0/#sec-createdatapropertyorthrow)(array, ! [ToString](https://262.ecma-international.org/12.0/#sec-tostring)([𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(nextIndex)), nextValue).
    5.  Set nextIndex to nextIndex + 1.

Note

[CreateDataPropertyOrThrow](https://262.ecma-international.org/12.0/#sec-createdatapropertyorthrow) is used to ensure that own properties are defined for the array even if the standard built-in [Array prototype object](https://262.ecma-international.org/12.0/#sec-properties-of-the-array-prototype-object) has been modified in a manner that would preclude the creation of new own properties using \[\[Set\]\].

## 13.2.5.2 Runtime Semantics: Evaluation

[ArrayLiteral](https://262.ecma-international.org/12.0/#prod-ArrayLiteral) : \[ [Elision](https://262.ecma-international.org/12.0/#prod-Elision)opt \]

1.  Let array be ! [ArrayCreate](https://262.ecma-international.org/12.0/#sec-arraycreate)(0).
2.  If [Elision](https://262.ecma-international.org/12.0/#prod-Elision) is present, then
    1.  Let len be the result of performing [ArrayAccumulation](https://262.ecma-international.org/12.0/#sec-runtime-semantics-arrayaccumulation) for [Elision](https://262.ecma-international.org/12.0/#prod-Elision) with arguments array and 0.
    2.  [ReturnIfAbrupt](https://262.ecma-international.org/12.0/#sec-returnifabrupt)(len).
3.  Return array.

[ArrayLiteral](https://262.ecma-international.org/12.0/#prod-ArrayLiteral) : \[ [ElementList](https://262.ecma-international.org/12.0/#prod-ElementList) \]

1.  Let array be ! [ArrayCreate](https://262.ecma-international.org/12.0/#sec-arraycreate)(0).
2.  Let len be the result of performing [ArrayAccumulation](https://262.ecma-international.org/12.0/#sec-runtime-semantics-arrayaccumulation) for [ElementList](https://262.ecma-international.org/12.0/#prod-ElementList) with arguments array and 0.
3.  [ReturnIfAbrupt](https://262.ecma-international.org/12.0/#sec-returnifabrupt)(len).
4.  Return array.

[ArrayLiteral](https://262.ecma-international.org/12.0/#prod-ArrayLiteral) : \[ [ElementList](https://262.ecma-international.org/12.0/#prod-ElementList) , [Elision](https://262.ecma-international.org/12.0/#prod-Elision)opt \]

1.  Let array be ! [ArrayCreate](https://262.ecma-international.org/12.0/#sec-arraycreate)(0).
2.  Let nextIndex be the result of performing [ArrayAccumulation](https://262.ecma-international.org/12.0/#sec-runtime-semantics-arrayaccumulation) for [ElementList](https://262.ecma-international.org/12.0/#prod-ElementList) with arguments array and 0.
3.  [ReturnIfAbrupt](https://262.ecma-international.org/12.0/#sec-returnifabrupt)(nextIndex).
4.  If [Elision](https://262.ecma-international.org/12.0/#prod-Elision) is present, then
    1.  Let len be the result of performing [ArrayAccumulation](https://262.ecma-international.org/12.0/#sec-runtime-semantics-arrayaccumulation) for [Elision](https://262.ecma-international.org/12.0/#prod-Elision) with arguments array and nextIndex.
    2.  [ReturnIfAbrupt](https://262.ecma-international.org/12.0/#sec-returnifabrupt)(len).
5.  Return array.

## 13.2.6 Object Initializer

Note 1

An object initializer is an expression describing the initialization of an Object, written in a form resembling a literal. It is a list of zero or more pairs of property keys and associated values, enclosed in curly brackets. The values need not be literals; they are evaluated each time the object initializer is evaluated.

## Syntax

[ObjectLiteral](https://262.ecma-international.org/12.0/#prod-ObjectLiteral)\[Yield, Await\] : { } { [PropertyDefinitionList](https://262.ecma-international.org/12.0/#prod-PropertyDefinitionList)\[?Yield, ?Await\] } { [PropertyDefinitionList](https://262.ecma-international.org/12.0/#prod-PropertyDefinitionList)\[?Yield, ?Await\] , } [PropertyDefinitionList](https://262.ecma-international.org/12.0/#prod-PropertyDefinitionList)\[Yield, Await\] : [PropertyDefinition](https://262.ecma-international.org/12.0/#prod-PropertyDefinition)\[?Yield, ?Await\] [PropertyDefinitionList](https://262.ecma-international.org/12.0/#prod-PropertyDefinitionList)\[?Yield, ?Await\] , [PropertyDefinition](https://262.ecma-international.org/12.0/#prod-PropertyDefinition)\[?Yield, ?Await\] [PropertyDefinition](https://262.ecma-international.org/12.0/#prod-PropertyDefinition)\[Yield, Await\] : [IdentifierReference](https://262.ecma-international.org/12.0/#prod-IdentifierReference)\[?Yield, ?Await\] [CoverInitializedName](https://262.ecma-international.org/12.0/#prod-CoverInitializedName)\[?Yield, ?Await\] [PropertyName](https://262.ecma-international.org/12.0/#prod-PropertyName)\[?Yield, ?Await\] : [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression)\[+In, ?Yield, ?Await\] [MethodDefinition](https://262.ecma-international.org/12.0/#prod-MethodDefinition)\[?Yield, ?Await\] ... [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression)\[+In, ?Yield, ?Await\] [PropertyName](https://262.ecma-international.org/12.0/#prod-PropertyName)\[Yield, Await\] : [LiteralPropertyName](https://262.ecma-international.org/12.0/#prod-LiteralPropertyName) [ComputedPropertyName](https://262.ecma-international.org/12.0/#prod-ComputedPropertyName)\[?Yield, ?Await\] [LiteralPropertyName](https://262.ecma-international.org/12.0/#prod-LiteralPropertyName) : [IdentifierName](https://262.ecma-international.org/12.0/#prod-IdentifierName) [StringLiteral](https://262.ecma-international.org/12.0/#prod-StringLiteral) [NumericLiteral](https://262.ecma-international.org/12.0/#prod-NumericLiteral) [ComputedPropertyName](https://262.ecma-international.org/12.0/#prod-ComputedPropertyName)\[Yield, Await\] : \[ [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression)\[+In, ?Yield, ?Await\] \] [CoverInitializedName](https://262.ecma-international.org/12.0/#prod-CoverInitializedName)\[Yield, Await\] : [IdentifierReference](https://262.ecma-international.org/12.0/#prod-IdentifierReference)\[?Yield, ?Await\] [Initializer](https://262.ecma-international.org/12.0/#prod-Initializer)\[+In, ?Yield, ?Await\] [Initializer](https://262.ecma-international.org/12.0/#prod-Initializer)\[In, Yield, Await\] : \= [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression)\[?In, ?Yield, ?Await\] Note 2

[MethodDefinition](https://262.ecma-international.org/12.0/#prod-MethodDefinition) is defined in [15.4](https://262.ecma-international.org/12.0/#sec-method-definitions).

Note 3

In certain contexts, [ObjectLiteral](https://262.ecma-international.org/12.0/#prod-ObjectLiteral) is used as a cover grammar for a more restricted secondary grammar. The [CoverInitializedName](https://262.ecma-international.org/12.0/#prod-CoverInitializedName) production is necessary to fully cover these secondary grammars. However, use of this production results in an early Syntax Error in normal contexts where an actual [ObjectLiteral](https://262.ecma-international.org/12.0/#prod-ObjectLiteral) is expected.

## 13.2.6.1 Static Semantics: Early Errors

[PropertyDefinition](https://262.ecma-international.org/12.0/#prod-PropertyDefinition) : [MethodDefinition](https://262.ecma-international.org/12.0/#prod-MethodDefinition)

-   It is a Syntax Error if [HasDirectSuper](https://262.ecma-international.org/12.0/#sec-static-semantics-hasdirectsuper) of [MethodDefinition](https://262.ecma-international.org/12.0/#prod-MethodDefinition) is true.

In addition to describing an actual object initializer the [ObjectLiteral](https://262.ecma-international.org/12.0/#prod-ObjectLiteral) productions are also used as a cover grammar for [ObjectAssignmentPattern](https://262.ecma-international.org/12.0/#prod-ObjectAssignmentPattern) and may be recognized as part of a [CoverParenthesizedExpressionAndArrowParameterList](https://262.ecma-international.org/12.0/#prod-CoverParenthesizedExpressionAndArrowParameterList). When [ObjectLiteral](https://262.ecma-international.org/12.0/#prod-ObjectLiteral) appears in a context where [ObjectAssignmentPattern](https://262.ecma-international.org/12.0/#prod-ObjectAssignmentPattern) is required the following Early Error rules are **not** applied. In addition, they are not applied when initially parsing a [CoverParenthesizedExpressionAndArrowParameterList](https://262.ecma-international.org/12.0/#prod-CoverParenthesizedExpressionAndArrowParameterList) or [CoverCallExpressionAndAsyncArrowHead](https://262.ecma-international.org/12.0/#prod-CoverCallExpressionAndAsyncArrowHead).

[PropertyDefinition](https://262.ecma-international.org/12.0/#prod-PropertyDefinition) : [CoverInitializedName](https://262.ecma-international.org/12.0/#prod-CoverInitializedName)

-   Always throw a Syntax Error if code matches this production.

Note

This production exists so that [ObjectLiteral](https://262.ecma-international.org/12.0/#prod-ObjectLiteral) can serve as a cover grammar for [ObjectAssignmentPattern](https://262.ecma-international.org/12.0/#prod-ObjectAssignmentPattern). It cannot occur in an actual object initializer.

## 13.2.6.2 Static Semantics: IsComputedPropertyKey

[PropertyName](https://262.ecma-international.org/12.0/#prod-PropertyName) : [LiteralPropertyName](https://262.ecma-international.org/12.0/#prod-LiteralPropertyName)

1.  Return false.

[PropertyName](https://262.ecma-international.org/12.0/#prod-PropertyName) : [ComputedPropertyName](https://262.ecma-international.org/12.0/#prod-ComputedPropertyName)

1.  Return true.

## 13.2.6.3 Static Semantics: PropertyNameList

[PropertyDefinitionList](https://262.ecma-international.org/12.0/#prod-PropertyDefinitionList) : [PropertyDefinition](https://262.ecma-international.org/12.0/#prod-PropertyDefinition)

1.  If [PropName](https://262.ecma-international.org/12.0/#sec-static-semantics-propname) of [PropertyDefinition](https://262.ecma-international.org/12.0/#prod-PropertyDefinition) is empty, return a new empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).
2.  Return a [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) whose sole element is [PropName](https://262.ecma-international.org/12.0/#sec-static-semantics-propname) of [PropertyDefinition](https://262.ecma-international.org/12.0/#prod-PropertyDefinition).

[PropertyDefinitionList](https://262.ecma-international.org/12.0/#prod-PropertyDefinitionList) : [PropertyDefinitionList](https://262.ecma-international.org/12.0/#prod-PropertyDefinitionList) , [PropertyDefinition](https://262.ecma-international.org/12.0/#prod-PropertyDefinition)

1.  Let list be [PropertyNameList](https://262.ecma-international.org/12.0/#sec-static-semantics-propertynamelist) of [PropertyDefinitionList](https://262.ecma-international.org/12.0/#prod-PropertyDefinitionList).
2.  If [PropName](https://262.ecma-international.org/12.0/#sec-static-semantics-propname) of [PropertyDefinition](https://262.ecma-international.org/12.0/#prod-PropertyDefinition) is empty, return list.
3.  Append [PropName](https://262.ecma-international.org/12.0/#sec-static-semantics-propname) of [PropertyDefinition](https://262.ecma-international.org/12.0/#prod-PropertyDefinition) to the end of list.
4.  Return list.

## 13.2.6.4 Runtime Semantics: Evaluation

[ObjectLiteral](https://262.ecma-international.org/12.0/#prod-ObjectLiteral) : { }

1.  Return ! [OrdinaryObjectCreate](https://262.ecma-international.org/12.0/#sec-ordinaryobjectcreate)([%Object.prototype%](https://262.ecma-international.org/12.0/#sec-properties-of-the-object-prototype-object)).

[ObjectLiteral](https://262.ecma-international.org/12.0/#prod-ObjectLiteral) : { [PropertyDefinitionList](https://262.ecma-international.org/12.0/#prod-PropertyDefinitionList) } { [PropertyDefinitionList](https://262.ecma-international.org/12.0/#prod-PropertyDefinitionList) , }

1.  Let obj be ! [OrdinaryObjectCreate](https://262.ecma-international.org/12.0/#sec-ordinaryobjectcreate)([%Object.prototype%](https://262.ecma-international.org/12.0/#sec-properties-of-the-object-prototype-object)).
2.  Perform ? [PropertyDefinitionEvaluation](https://262.ecma-international.org/12.0/#sec-runtime-semantics-propertydefinitionevaluation) of [PropertyDefinitionList](https://262.ecma-international.org/12.0/#prod-PropertyDefinitionList) with arguments obj and true.
3.  Return obj.

[LiteralPropertyName](https://262.ecma-international.org/12.0/#prod-LiteralPropertyName) : [IdentifierName](https://262.ecma-international.org/12.0/#prod-IdentifierName)

1.  Return [StringValue](https://262.ecma-international.org/12.0/#sec-static-semantics-stringvalue) of [IdentifierName](https://262.ecma-international.org/12.0/#prod-IdentifierName).

[LiteralPropertyName](https://262.ecma-international.org/12.0/#prod-LiteralPropertyName) : [StringLiteral](https://262.ecma-international.org/12.0/#prod-StringLiteral)

1.  Return the [SV](https://262.ecma-international.org/12.0/#sec-static-semantics-sv) of [StringLiteral](https://262.ecma-international.org/12.0/#prod-StringLiteral).

[LiteralPropertyName](https://262.ecma-international.org/12.0/#prod-LiteralPropertyName) : [NumericLiteral](https://262.ecma-international.org/12.0/#prod-NumericLiteral)

1.  Let nbr be the [NumericValue](https://262.ecma-international.org/12.0/#sec-numericvalue) of [NumericLiteral](https://262.ecma-international.org/12.0/#prod-NumericLiteral).
2.  Return ! [ToString](https://262.ecma-international.org/12.0/#sec-tostring)(nbr).

[ComputedPropertyName](https://262.ecma-international.org/12.0/#prod-ComputedPropertyName) : \[ [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression) \]

1.  Let exprValue be the result of evaluating [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression).
2.  Let propName be ? [GetValue](https://262.ecma-international.org/12.0/#sec-getvalue)(exprValue).
3.  Return ? [ToPropertyKey](https://262.ecma-international.org/12.0/#sec-topropertykey)(propName).

## 13.2.6.5 Runtime Semantics: PropertyDefinitionEvaluation

With parameters object and enumerable.

[PropertyDefinitionList](https://262.ecma-international.org/12.0/#prod-PropertyDefinitionList) : [PropertyDefinitionList](https://262.ecma-international.org/12.0/#prod-PropertyDefinitionList) , [PropertyDefinition](https://262.ecma-international.org/12.0/#prod-PropertyDefinition)

1.  Perform ? [PropertyDefinitionEvaluation](https://262.ecma-international.org/12.0/#sec-runtime-semantics-propertydefinitionevaluation) of [PropertyDefinitionList](https://262.ecma-international.org/12.0/#prod-PropertyDefinitionList) with arguments object and enumerable.
2.  Return the result of performing [PropertyDefinitionEvaluation](https://262.ecma-international.org/12.0/#sec-runtime-semantics-propertydefinitionevaluation) of [PropertyDefinition](https://262.ecma-international.org/12.0/#prod-PropertyDefinition) with arguments object and enumerable.

[PropertyDefinition](https://262.ecma-international.org/12.0/#prod-PropertyDefinition) : ... [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression)

1.  Let exprValue be the result of evaluating [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression).
2.  Let fromValue be ? [GetValue](https://262.ecma-international.org/12.0/#sec-getvalue)(exprValue).
3.  Let excludedNames be a new empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).
4.  Return ? [CopyDataProperties](https://262.ecma-international.org/12.0/#sec-copydataproperties)(object, fromValue, excludedNames).

[PropertyDefinition](https://262.ecma-international.org/12.0/#prod-PropertyDefinition) : [IdentifierReference](https://262.ecma-international.org/12.0/#prod-IdentifierReference)

1.  Let propName be [StringValue](https://262.ecma-international.org/12.0/#sec-static-semantics-stringvalue) of [IdentifierReference](https://262.ecma-international.org/12.0/#prod-IdentifierReference).
2.  Let exprValue be the result of evaluating [IdentifierReference](https://262.ecma-international.org/12.0/#prod-IdentifierReference).
3.  Let propValue be ? [GetValue](https://262.ecma-international.org/12.0/#sec-getvalue)(exprValue).
4.  [Assert](https://262.ecma-international.org/12.0/#assert): enumerable is true.
5.  [Assert](https://262.ecma-international.org/12.0/#assert): object is an ordinary, extensible object with no non-configurable properties.
6.  Return ! [CreateDataPropertyOrThrow](https://262.ecma-international.org/12.0/#sec-createdatapropertyorthrow)(object, propName, propValue).

[PropertyDefinition](https://262.ecma-international.org/12.0/#prod-PropertyDefinition) : [PropertyName](https://262.ecma-international.org/12.0/#prod-PropertyName) : [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression)

1.  Let propKey be the result of evaluating [PropertyName](https://262.ecma-international.org/12.0/#prod-PropertyName).
2.  [ReturnIfAbrupt](https://262.ecma-international.org/12.0/#sec-returnifabrupt)(propKey).
3.  If [IsAnonymousFunctionDefinition](https://262.ecma-international.org/12.0/#sec-isanonymousfunctiondefinition)([AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression)) is true, then
    1.  Let propValue be ? [NamedEvaluation](https://262.ecma-international.org/12.0/#sec-runtime-semantics-namedevaluation) of [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression) with argument propKey.
4.  Else,
    1.  Let exprValueRef be the result of evaluating [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression).
    2.  Let propValue be ? [GetValue](https://262.ecma-international.org/12.0/#sec-getvalue)(exprValueRef).
5.  [Assert](https://262.ecma-international.org/12.0/#assert): enumerable is true.
6.  [Assert](https://262.ecma-international.org/12.0/#assert): object is an ordinary, extensible object with no non-configurable properties.
7.  Return ! [CreateDataPropertyOrThrow](https://262.ecma-international.org/12.0/#sec-createdatapropertyorthrow)(object, propKey, propValue).

Note

An alternative semantics for this production is given in [B.3.1](https://262.ecma-international.org/12.0/#sec-__proto__-property-names-in-object-initializers).

[MethodDefinition](https://262.ecma-international.org/12.0/#prod-MethodDefinition) : [PropertyName](https://262.ecma-international.org/12.0/#prod-PropertyName) ( [UniqueFormalParameters](https://262.ecma-international.org/12.0/#prod-UniqueFormalParameters) ) { [FunctionBody](https://262.ecma-international.org/12.0/#prod-FunctionBody) } get [PropertyName](https://262.ecma-international.org/12.0/#prod-PropertyName) ( ) { [FunctionBody](https://262.ecma-international.org/12.0/#prod-FunctionBody) } set [PropertyName](https://262.ecma-international.org/12.0/#prod-PropertyName) ( [PropertySetParameterList](https://262.ecma-international.org/12.0/#prod-PropertySetParameterList) ) { [FunctionBody](https://262.ecma-international.org/12.0/#prod-FunctionBody) }

1.  Return ? [MethodDefinitionEvaluation](https://262.ecma-international.org/12.0/#sec-runtime-semantics-methoddefinitionevaluation) of [MethodDefinition](https://262.ecma-international.org/12.0/#prod-MethodDefinition) with arguments object and enumerable.

[GeneratorMethod](https://262.ecma-international.org/12.0/#prod-GeneratorMethod) : \* [PropertyName](https://262.ecma-international.org/12.0/#prod-PropertyName) ( [UniqueFormalParameters](https://262.ecma-international.org/12.0/#prod-UniqueFormalParameters) ) { [GeneratorBody](https://262.ecma-international.org/12.0/#prod-GeneratorBody) }

1.  Return ? [MethodDefinitionEvaluation](https://262.ecma-international.org/12.0/#sec-runtime-semantics-methoddefinitionevaluation) of [GeneratorMethod](https://262.ecma-international.org/12.0/#prod-GeneratorMethod) with arguments object and enumerable.

[AsyncGeneratorMethod](https://262.ecma-international.org/12.0/#prod-AsyncGeneratorMethod) : async \* [PropertyName](https://262.ecma-international.org/12.0/#prod-PropertyName) ( [UniqueFormalParameters](https://262.ecma-international.org/12.0/#prod-UniqueFormalParameters) ) { [AsyncGeneratorBody](https://262.ecma-international.org/12.0/#prod-AsyncGeneratorBody) }

1.  Return ? [MethodDefinitionEvaluation](https://262.ecma-international.org/12.0/#sec-runtime-semantics-methoddefinitionevaluation) of [AsyncGeneratorMethod](https://262.ecma-international.org/12.0/#prod-AsyncGeneratorMethod) with arguments object and enumerable.

[AsyncMethod](https://262.ecma-international.org/12.0/#prod-AsyncMethod) : async [PropertyName](https://262.ecma-international.org/12.0/#prod-PropertyName) ( [UniqueFormalParameters](https://262.ecma-international.org/12.0/#prod-UniqueFormalParameters) ) { [AsyncFunctionBody](https://262.ecma-international.org/12.0/#prod-AsyncFunctionBody) }

1.  Return ? [MethodDefinitionEvaluation](https://262.ecma-international.org/12.0/#sec-runtime-semantics-methoddefinitionevaluation) of [AsyncMethod](https://262.ecma-international.org/12.0/#prod-AsyncMethod) with arguments object and enumerable.

## 13.2.7 Function Defining Expressions

See [15.2](https://262.ecma-international.org/12.0/#sec-function-definitions) for [PrimaryExpression](https://262.ecma-international.org/12.0/#prod-PrimaryExpression) : [FunctionExpression](https://262.ecma-international.org/12.0/#prod-FunctionExpression) .

See [15.5](https://262.ecma-international.org/12.0/#sec-generator-function-definitions) for [PrimaryExpression](https://262.ecma-international.org/12.0/#prod-PrimaryExpression) : [GeneratorExpression](https://262.ecma-international.org/12.0/#prod-GeneratorExpression) .

See [15.7](https://262.ecma-international.org/12.0/#sec-class-definitions) for [PrimaryExpression](https://262.ecma-international.org/12.0/#prod-PrimaryExpression) : [ClassExpression](https://262.ecma-international.org/12.0/#prod-ClassExpression) .

See [15.8](https://262.ecma-international.org/12.0/#sec-async-function-definitions) for [PrimaryExpression](https://262.ecma-international.org/12.0/#prod-PrimaryExpression) : [AsyncFunctionExpression](https://262.ecma-international.org/12.0/#prod-AsyncFunctionExpression) .

See [15.6](https://262.ecma-international.org/12.0/#sec-async-generator-function-definitions) for [PrimaryExpression](https://262.ecma-international.org/12.0/#prod-PrimaryExpression) : [AsyncGeneratorExpression](https://262.ecma-international.org/12.0/#prod-AsyncGeneratorExpression) .

## 13.2.8 Regular Expression Literals

## Syntax

See [12.8.5](https://262.ecma-international.org/12.0/#sec-literals-regular-expression-literals).

## 13.2.8.1 Static Semantics: Early Errors

[PrimaryExpression](https://262.ecma-international.org/12.0/#prod-PrimaryExpression) : [RegularExpressionLiteral](https://262.ecma-international.org/12.0/#prod-RegularExpressionLiteral)

-   It is a Syntax Error if [IsValidRegularExpressionLiteral](https://262.ecma-international.org/12.0/#sec-isvalidregularexpressionliteral)([RegularExpressionLiteral](https://262.ecma-international.org/12.0/#prod-RegularExpressionLiteral)) is false.

## 13.2.8.2 Static Semantics: IsValidRegularExpressionLiteral ( literal )

The abstract operation IsValidRegularExpressionLiteral takes argument literal. It determines if its argument is a valid regular expression literal. It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): literal is a [RegularExpressionLiteral](https://262.ecma-international.org/12.0/#prod-RegularExpressionLiteral).
2.  If [FlagText](https://262.ecma-international.org/12.0/#sec-static-semantics-flagtext) of literal contains any code points other than `g`, `i`, `m`, `s`, `u`, or `y`, or if it contains the same code point more than once, return false.
3.  Let patternText be [BodyText](https://262.ecma-international.org/12.0/#sec-static-semantics-bodytext) of literal.
4.  If [FlagText](https://262.ecma-international.org/12.0/#sec-static-semantics-flagtext) of literal contains `u`, let u be true; else let u be false.
5.  If u is false, then
    1.  Let stringValue be [CodePointsToString](https://262.ecma-international.org/12.0/#sec-codepointstostring)(patternText).
    2.  Set patternText to the sequence of code points resulting from interpreting each of the 16-bit elements of stringValue as a Unicode BMP code point. UTF-16 decoding is not applied to the elements.
6.  Let parseResult be [ParsePattern](https://262.ecma-international.org/12.0/#sec-parsepattern)(patternText, u).
7.  If parseResult is a [Parse Node](https://262.ecma-international.org/12.0/#sec-syntactic-grammar), return true; else return false.

## 13.2.8.3 Runtime Semantics: Evaluation

[PrimaryExpression](https://262.ecma-international.org/12.0/#prod-PrimaryExpression) : [RegularExpressionLiteral](https://262.ecma-international.org/12.0/#prod-RegularExpressionLiteral)

1.  Let pattern be ! [CodePointsToString](https://262.ecma-international.org/12.0/#sec-codepointstostring)([BodyText](https://262.ecma-international.org/12.0/#sec-static-semantics-bodytext) of [RegularExpressionLiteral](https://262.ecma-international.org/12.0/#prod-RegularExpressionLiteral)).
2.  Let flags be ! [CodePointsToString](https://262.ecma-international.org/12.0/#sec-codepointstostring)([FlagText](https://262.ecma-international.org/12.0/#sec-static-semantics-flagtext) of [RegularExpressionLiteral](https://262.ecma-international.org/12.0/#prod-RegularExpressionLiteral)).
3.  Return [RegExpCreate](https://262.ecma-international.org/12.0/#sec-regexpcreate)(pattern, flags).

## 13.2.9 Template Literals

## Syntax

[TemplateLiteral](https://262.ecma-international.org/12.0/#prod-TemplateLiteral)\[Yield, Await, Tagged\] : [NoSubstitutionTemplate](https://262.ecma-international.org/12.0/#prod-NoSubstitutionTemplate) [SubstitutionTemplate](https://262.ecma-international.org/12.0/#prod-SubstitutionTemplate)\[?Yield, ?Await, ?Tagged\] [SubstitutionTemplate](https://262.ecma-international.org/12.0/#prod-SubstitutionTemplate)\[Yield, Await, Tagged\] : [TemplateHead](https://262.ecma-international.org/12.0/#prod-TemplateHead) [Expression](https://262.ecma-international.org/12.0/#prod-Expression)\[+In, ?Yield, ?Await\] [TemplateSpans](https://262.ecma-international.org/12.0/#prod-TemplateSpans)\[?Yield, ?Await, ?Tagged\] [TemplateSpans](https://262.ecma-international.org/12.0/#prod-TemplateSpans)\[Yield, Await, Tagged\] : [TemplateTail](https://262.ecma-international.org/12.0/#prod-TemplateTail) [TemplateMiddleList](https://262.ecma-international.org/12.0/#prod-TemplateMiddleList)\[?Yield, ?Await, ?Tagged\] [TemplateTail](https://262.ecma-international.org/12.0/#prod-TemplateTail) [TemplateMiddleList](https://262.ecma-international.org/12.0/#prod-TemplateMiddleList)\[Yield, Await, Tagged\] : [TemplateMiddle](https://262.ecma-international.org/12.0/#prod-TemplateMiddle) [Expression](https://262.ecma-international.org/12.0/#prod-Expression)\[+In, ?Yield, ?Await\] [TemplateMiddleList](https://262.ecma-international.org/12.0/#prod-TemplateMiddleList)\[?Yield, ?Await, ?Tagged\] [TemplateMiddle](https://262.ecma-international.org/12.0/#prod-TemplateMiddle) [Expression](https://262.ecma-international.org/12.0/#prod-Expression)\[+In, ?Yield, ?Await\]

## 13.2.9.1 Static Semantics: Early Errors

[TemplateLiteral](https://262.ecma-international.org/12.0/#prod-TemplateLiteral)\[Yield, Await, Tagged\] : [NoSubstitutionTemplate](https://262.ecma-international.org/12.0/#prod-NoSubstitutionTemplate)

-   It is a Syntax Error if the \[Tagged\] parameter was not set and [NoSubstitutionTemplate](https://262.ecma-international.org/12.0/#prod-NoSubstitutionTemplate) [Contains](https://262.ecma-international.org/12.0/#sec-static-semantics-contains) [NotEscapeSequence](https://262.ecma-international.org/12.0/#prod-NotEscapeSequence).

[TemplateLiteral](https://262.ecma-international.org/12.0/#prod-TemplateLiteral)\[Yield, Await, Tagged\] : [SubstitutionTemplate](https://262.ecma-international.org/12.0/#prod-SubstitutionTemplate)\[?Yield, ?Await, ?Tagged\]

-   It is a Syntax Error if the number of elements in the result of [TemplateStrings](https://262.ecma-international.org/12.0/#sec-static-semantics-templatestrings) of [TemplateLiteral](https://262.ecma-international.org/12.0/#prod-TemplateLiteral) with argument false is greater than 232 - 1.

[SubstitutionTemplate](https://262.ecma-international.org/12.0/#prod-SubstitutionTemplate)\[Yield, Await, Tagged\] : [TemplateHead](https://262.ecma-international.org/12.0/#prod-TemplateHead) [Expression](https://262.ecma-international.org/12.0/#prod-Expression)\[+In, ?Yield, ?Await\] [TemplateSpans](https://262.ecma-international.org/12.0/#prod-TemplateSpans)\[?Yield, ?Await, ?Tagged\]

-   It is a Syntax Error if the \[Tagged\] parameter was not set and [TemplateHead](https://262.ecma-international.org/12.0/#prod-TemplateHead) [Contains](https://262.ecma-international.org/12.0/#sec-static-semantics-contains) [NotEscapeSequence](https://262.ecma-international.org/12.0/#prod-NotEscapeSequence).

[TemplateSpans](https://262.ecma-international.org/12.0/#prod-TemplateSpans)\[Yield, Await, Tagged\] : [TemplateTail](https://262.ecma-international.org/12.0/#prod-TemplateTail)

-   It is a Syntax Error if the \[Tagged\] parameter was not set and [TemplateTail](https://262.ecma-international.org/12.0/#prod-TemplateTail) [Contains](https://262.ecma-international.org/12.0/#sec-static-semantics-contains) [NotEscapeSequence](https://262.ecma-international.org/12.0/#prod-NotEscapeSequence).

[TemplateMiddleList](https://262.ecma-international.org/12.0/#prod-TemplateMiddleList)\[Yield, Await, Tagged\] : [TemplateMiddle](https://262.ecma-international.org/12.0/#prod-TemplateMiddle) [Expression](https://262.ecma-international.org/12.0/#prod-Expression)\[+In, ?Yield, ?Await\] [TemplateMiddleList](https://262.ecma-international.org/12.0/#prod-TemplateMiddleList)\[?Yield, ?Await, ?Tagged\] [TemplateMiddle](https://262.ecma-international.org/12.0/#prod-TemplateMiddle) [Expression](https://262.ecma-international.org/12.0/#prod-Expression)\[+In, ?Yield, ?Await\]

-   It is a Syntax Error if the \[Tagged\] parameter was not set and [TemplateMiddle](https://262.ecma-international.org/12.0/#prod-TemplateMiddle) [Contains](https://262.ecma-international.org/12.0/#sec-static-semantics-contains) [NotEscapeSequence](https://262.ecma-international.org/12.0/#prod-NotEscapeSequence).

## 13.2.9.2 Static Semantics: TemplateStrings

With parameter raw.

[TemplateLiteral](https://262.ecma-international.org/12.0/#prod-TemplateLiteral) : [NoSubstitutionTemplate](https://262.ecma-international.org/12.0/#prod-NoSubstitutionTemplate)

1.  If raw is false, then
    1.  Let string be the TV of [NoSubstitutionTemplate](https://262.ecma-international.org/12.0/#prod-NoSubstitutionTemplate).
2.  Else,
    1.  Let string be the TRV of [NoSubstitutionTemplate](https://262.ecma-international.org/12.0/#prod-NoSubstitutionTemplate).
3.  Return a [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) whose sole element is string.

[SubstitutionTemplate](https://262.ecma-international.org/12.0/#prod-SubstitutionTemplate) : [TemplateHead](https://262.ecma-international.org/12.0/#prod-TemplateHead) [Expression](https://262.ecma-international.org/12.0/#prod-Expression) [TemplateSpans](https://262.ecma-international.org/12.0/#prod-TemplateSpans)

1.  If raw is false, then
    1.  Let head be the TV of [TemplateHead](https://262.ecma-international.org/12.0/#prod-TemplateHead).
2.  Else,
    1.  Let head be the TRV of [TemplateHead](https://262.ecma-international.org/12.0/#prod-TemplateHead).
3.  Let tail be [TemplateStrings](https://262.ecma-international.org/12.0/#sec-static-semantics-templatestrings) of [TemplateSpans](https://262.ecma-international.org/12.0/#prod-TemplateSpans) with argument raw.
4.  Return a [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) whose elements are head followed by the elements of tail.

[TemplateSpans](https://262.ecma-international.org/12.0/#prod-TemplateSpans) : [TemplateTail](https://262.ecma-international.org/12.0/#prod-TemplateTail)

1.  If raw is false, then
    1.  Let tail be the TV of [TemplateTail](https://262.ecma-international.org/12.0/#prod-TemplateTail).
2.  Else,
    1.  Let tail be the TRV of [TemplateTail](https://262.ecma-international.org/12.0/#prod-TemplateTail).
3.  Return a [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) whose sole element is tail.

[TemplateSpans](https://262.ecma-international.org/12.0/#prod-TemplateSpans) : [TemplateMiddleList](https://262.ecma-international.org/12.0/#prod-TemplateMiddleList) [TemplateTail](https://262.ecma-international.org/12.0/#prod-TemplateTail)

1.  Let middle be [TemplateStrings](https://262.ecma-international.org/12.0/#sec-static-semantics-templatestrings) of [TemplateMiddleList](https://262.ecma-international.org/12.0/#prod-TemplateMiddleList) with argument raw.
2.  If raw is false, then
    1.  Let tail be the TV of [TemplateTail](https://262.ecma-international.org/12.0/#prod-TemplateTail).
3.  Else,
    1.  Let tail be the TRV of [TemplateTail](https://262.ecma-international.org/12.0/#prod-TemplateTail).
4.  Return a [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) whose elements are the elements of middle followed by tail.

[TemplateMiddleList](https://262.ecma-international.org/12.0/#prod-TemplateMiddleList) : [TemplateMiddle](https://262.ecma-international.org/12.0/#prod-TemplateMiddle) [Expression](https://262.ecma-international.org/12.0/#prod-Expression)

1.  If raw is false, then
    1.  Let string be the TV of [TemplateMiddle](https://262.ecma-international.org/12.0/#prod-TemplateMiddle).
2.  Else,
    1.  Let string be the TRV of [TemplateMiddle](https://262.ecma-international.org/12.0/#prod-TemplateMiddle).
3.  Return a [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) whose sole element is string.

[TemplateMiddleList](https://262.ecma-international.org/12.0/#prod-TemplateMiddleList) : [TemplateMiddleList](https://262.ecma-international.org/12.0/#prod-TemplateMiddleList) [TemplateMiddle](https://262.ecma-international.org/12.0/#prod-TemplateMiddle) [Expression](https://262.ecma-international.org/12.0/#prod-Expression)

1.  Let front be [TemplateStrings](https://262.ecma-international.org/12.0/#sec-static-semantics-templatestrings) of [TemplateMiddleList](https://262.ecma-international.org/12.0/#prod-TemplateMiddleList) with argument raw.
2.  If raw is false, then
    1.  Let last be the TV of [TemplateMiddle](https://262.ecma-international.org/12.0/#prod-TemplateMiddle).
3.  Else,
    1.  Let last be the TRV of [TemplateMiddle](https://262.ecma-international.org/12.0/#prod-TemplateMiddle).
4.  Append last as the last element of the [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) front.
5.  Return front.

## 13.2.9.3 GetTemplateObject ( templateLiteral )

The abstract operation GetTemplateObject takes argument templateLiteral (a [Parse Node](https://262.ecma-international.org/12.0/#sec-syntactic-grammar)). It performs the following steps when called:

1.  Let realm be [the current Realm Record](https://262.ecma-international.org/12.0/#current-realm).
2.  Let templateRegistry be realm.\[\[TemplateMap\]\].
3.  For each element e of templateRegistry, do
    1.  If e.\[\[Site\]\] is [the same Parse Node](https://262.ecma-international.org/12.0/#sec-syntactic-grammar) as templateLiteral, then
        1.  Return e.\[\[Array\]\].
4.  Let rawStrings be [TemplateStrings](https://262.ecma-international.org/12.0/#sec-static-semantics-templatestrings) of templateLiteral with argument true.
5.  Let cookedStrings be [TemplateStrings](https://262.ecma-international.org/12.0/#sec-static-semantics-templatestrings) of templateLiteral with argument false.
6.  Let count be the number of elements in the [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) cookedStrings.
7.  [Assert](https://262.ecma-international.org/12.0/#assert): count ≤ 232 - 1.
8.  Let template be ! [ArrayCreate](https://262.ecma-international.org/12.0/#sec-arraycreate)(count).
9.  Let rawObj be ! [ArrayCreate](https://262.ecma-international.org/12.0/#sec-arraycreate)(count).
10.  Let index be 0.
11.  Repeat, while index < count,
    1.  Let prop be ! [ToString](https://262.ecma-international.org/12.0/#sec-tostring)([𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(index)).
    2.  Let cookedValue be cookedStrings\[index\].
    3.  Perform ! [DefinePropertyOrThrow](https://262.ecma-international.org/12.0/#sec-definepropertyorthrow)(template, prop, PropertyDescriptor { \[\[Value\]\]: cookedValue, \[\[Writable\]\]: false, \[\[Enumerable\]\]: true, \[\[Configurable\]\]: false }).
    4.  Let rawValue be the String value rawStrings\[index\].
    5.  Perform ! [DefinePropertyOrThrow](https://262.ecma-international.org/12.0/#sec-definepropertyorthrow)(rawObj, prop, PropertyDescriptor { \[\[Value\]\]: rawValue, \[\[Writable\]\]: false, \[\[Enumerable\]\]: true, \[\[Configurable\]\]: false }).
    6.  Set index to index + 1.
12.  Perform ! [SetIntegrityLevel](https://262.ecma-international.org/12.0/#sec-setintegritylevel)(rawObj, frozen).
13.  Perform ! [DefinePropertyOrThrow](https://262.ecma-international.org/12.0/#sec-definepropertyorthrow)(template, "raw", PropertyDescriptor { \[\[Value\]\]: rawObj, \[\[Writable\]\]: false, \[\[Enumerable\]\]: false, \[\[Configurable\]\]: false }).
14.  Perform ! [SetIntegrityLevel](https://262.ecma-international.org/12.0/#sec-setintegritylevel)(template, frozen).
15.  Append the [Record](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) { \[\[Site\]\]: templateLiteral, \[\[Array\]\]: template } to templateRegistry.
16.  Return template.

Note 1

The creation of a template object cannot result in an [abrupt completion](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type).

Note 2

Each [TemplateLiteral](https://262.ecma-international.org/12.0/#prod-TemplateLiteral) in the program code of a [realm](https://262.ecma-international.org/12.0/#realm) is associated with a unique template object that is used in the evaluation of tagged Templates ([13.2.9.5](https://262.ecma-international.org/12.0/#sec-template-literals-runtime-semantics-evaluation)). The template objects are frozen and the same template object is used each time a specific tagged Template is evaluated. Whether template objects are created lazily upon first evaluation of the [TemplateLiteral](https://262.ecma-international.org/12.0/#prod-TemplateLiteral) or eagerly prior to first evaluation is an implementation choice that is not observable to ECMAScript code.

Note 3

Future editions of this specification may define additional non-enumerable properties of template objects.

## 13.2.9.4 Runtime Semantics: SubstitutionEvaluation

[TemplateSpans](https://262.ecma-international.org/12.0/#prod-TemplateSpans) : [TemplateTail](https://262.ecma-international.org/12.0/#prod-TemplateTail)

1.  Return a new empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).

[TemplateSpans](https://262.ecma-international.org/12.0/#prod-TemplateSpans) : [TemplateMiddleList](https://262.ecma-international.org/12.0/#prod-TemplateMiddleList) [TemplateTail](https://262.ecma-international.org/12.0/#prod-TemplateTail)

1.  Return the result of [SubstitutionEvaluation](https://262.ecma-international.org/12.0/#sec-runtime-semantics-substitutionevaluation) of [TemplateMiddleList](https://262.ecma-international.org/12.0/#prod-TemplateMiddleList).

[TemplateMiddleList](https://262.ecma-international.org/12.0/#prod-TemplateMiddleList) : [TemplateMiddle](https://262.ecma-international.org/12.0/#prod-TemplateMiddle) [Expression](https://262.ecma-international.org/12.0/#prod-Expression)

1.  Let subRef be the result of evaluating [Expression](https://262.ecma-international.org/12.0/#prod-Expression).
2.  Let sub be ? [GetValue](https://262.ecma-international.org/12.0/#sec-getvalue)(subRef).
3.  Return a [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) whose sole element is sub.

[TemplateMiddleList](https://262.ecma-international.org/12.0/#prod-TemplateMiddleList) : [TemplateMiddleList](https://262.ecma-international.org/12.0/#prod-TemplateMiddleList) [TemplateMiddle](https://262.ecma-international.org/12.0/#prod-TemplateMiddle) [Expression](https://262.ecma-international.org/12.0/#prod-Expression)

1.  Let preceding be ? [SubstitutionEvaluation](https://262.ecma-international.org/12.0/#sec-runtime-semantics-substitutionevaluation) of [TemplateMiddleList](https://262.ecma-international.org/12.0/#prod-TemplateMiddleList).
2.  Let nextRef be the result of evaluating [Expression](https://262.ecma-international.org/12.0/#prod-Expression).
3.  Let next be ? [GetValue](https://262.ecma-international.org/12.0/#sec-getvalue)(nextRef).
4.  Append next as the last element of the [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) preceding.
5.  Return preceding.

## 13.2.9.5 Runtime Semantics: Evaluation

[TemplateLiteral](https://262.ecma-international.org/12.0/#prod-TemplateLiteral) : [NoSubstitutionTemplate](https://262.ecma-international.org/12.0/#prod-NoSubstitutionTemplate)

1.  Return the TV of [NoSubstitutionTemplate](https://262.ecma-international.org/12.0/#prod-NoSubstitutionTemplate) as defined in [12.8.6](https://262.ecma-international.org/12.0/#sec-template-literal-lexical-components).

[SubstitutionTemplate](https://262.ecma-international.org/12.0/#prod-SubstitutionTemplate) : [TemplateHead](https://262.ecma-international.org/12.0/#prod-TemplateHead) [Expression](https://262.ecma-international.org/12.0/#prod-Expression) [TemplateSpans](https://262.ecma-international.org/12.0/#prod-TemplateSpans)

1.  Let head be the TV of [TemplateHead](https://262.ecma-international.org/12.0/#prod-TemplateHead) as defined in [12.8.6](https://262.ecma-international.org/12.0/#sec-template-literal-lexical-components).
2.  Let subRef be the result of evaluating [Expression](https://262.ecma-international.org/12.0/#prod-Expression).
3.  Let sub be ? [GetValue](https://262.ecma-international.org/12.0/#sec-getvalue)(subRef).
4.  Let middle be ? [ToString](https://262.ecma-international.org/12.0/#sec-tostring)(sub).
5.  Let tail be the result of evaluating [TemplateSpans](https://262.ecma-international.org/12.0/#prod-TemplateSpans).
6.  [ReturnIfAbrupt](https://262.ecma-international.org/12.0/#sec-returnifabrupt)(tail).
7.  Return the [string-concatenation](https://262.ecma-international.org/12.0/#string-concatenation) of head, middle, and tail.

Note 1

The string conversion semantics applied to the [Expression](https://262.ecma-international.org/12.0/#prod-Expression) value are like `String.prototype.concat` rather than the `+` operator.

[TemplateSpans](https://262.ecma-international.org/12.0/#prod-TemplateSpans) : [TemplateTail](https://262.ecma-international.org/12.0/#prod-TemplateTail)

1.  Return the TV of [TemplateTail](https://262.ecma-international.org/12.0/#prod-TemplateTail) as defined in [12.8.6](https://262.ecma-international.org/12.0/#sec-template-literal-lexical-components).

[TemplateSpans](https://262.ecma-international.org/12.0/#prod-TemplateSpans) : [TemplateMiddleList](https://262.ecma-international.org/12.0/#prod-TemplateMiddleList) [TemplateTail](https://262.ecma-international.org/12.0/#prod-TemplateTail)

1.  Let head be the result of evaluating [TemplateMiddleList](https://262.ecma-international.org/12.0/#prod-TemplateMiddleList).
2.  [ReturnIfAbrupt](https://262.ecma-international.org/12.0/#sec-returnifabrupt)(head).
3.  Let tail be the TV of [TemplateTail](https://262.ecma-international.org/12.0/#prod-TemplateTail) as defined in [12.8.6](https://262.ecma-international.org/12.0/#sec-template-literal-lexical-components).
4.  Return the [string-concatenation](https://262.ecma-international.org/12.0/#string-concatenation) of head and tail.

[TemplateMiddleList](https://262.ecma-international.org/12.0/#prod-TemplateMiddleList) : [TemplateMiddle](https://262.ecma-international.org/12.0/#prod-TemplateMiddle) [Expression](https://262.ecma-international.org/12.0/#prod-Expression)

1.  Let head be the TV of [TemplateMiddle](https://262.ecma-international.org/12.0/#prod-TemplateMiddle) as defined in [12.8.6](https://262.ecma-international.org/12.0/#sec-template-literal-lexical-components).
2.  Let subRef be the result of evaluating [Expression](https://262.ecma-international.org/12.0/#prod-Expression).
3.  Let sub be ? [GetValue](https://262.ecma-international.org/12.0/#sec-getvalue)(subRef).
4.  Let middle be ? [ToString](https://262.ecma-international.org/12.0/#sec-tostring)(sub).
5.  Return the [string-concatenation](https://262.ecma-international.org/12.0/#string-concatenation) of head and middle.

Note 2

The string conversion semantics applied to the [Expression](https://262.ecma-international.org/12.0/#prod-Expression) value are like `String.prototype.concat` rather than the `+` operator.

[TemplateMiddleList](https://262.ecma-international.org/12.0/#prod-TemplateMiddleList) : [TemplateMiddleList](https://262.ecma-international.org/12.0/#prod-TemplateMiddleList) [TemplateMiddle](https://262.ecma-international.org/12.0/#prod-TemplateMiddle) [Expression](https://262.ecma-international.org/12.0/#prod-Expression)

1.  Let rest be the result of evaluating [TemplateMiddleList](https://262.ecma-international.org/12.0/#prod-TemplateMiddleList).
2.  [ReturnIfAbrupt](https://262.ecma-international.org/12.0/#sec-returnifabrupt)(rest).
3.  Let middle be the TV of [TemplateMiddle](https://262.ecma-international.org/12.0/#prod-TemplateMiddle) as defined in [12.8.6](https://262.ecma-international.org/12.0/#sec-template-literal-lexical-components).
4.  Let subRef be the result of evaluating [Expression](https://262.ecma-international.org/12.0/#prod-Expression).
5.  Let sub be ? [GetValue](https://262.ecma-international.org/12.0/#sec-getvalue)(subRef).
6.  Let last be ? [ToString](https://262.ecma-international.org/12.0/#sec-tostring)(sub).
7.  Return the [string-concatenation](https://262.ecma-international.org/12.0/#string-concatenation) of rest, middle, and last.

Note 3

The string conversion semantics applied to the [Expression](https://262.ecma-international.org/12.0/#prod-Expression) value are like `String.prototype.concat` rather than the `+` operator.

## 13.2.10 The Grouping Operator

## 13.2.10.1 Static Semantics: Early Errors

[PrimaryExpression](https://262.ecma-international.org/12.0/#prod-PrimaryExpression) : [CoverParenthesizedExpressionAndArrowParameterList](https://262.ecma-international.org/12.0/#prod-CoverParenthesizedExpressionAndArrowParameterList)

-   It is a Syntax Error if [CoverParenthesizedExpressionAndArrowParameterList](https://262.ecma-international.org/12.0/#prod-CoverParenthesizedExpressionAndArrowParameterList) is not [covering](https://262.ecma-international.org/12.0/#sec-syntactic-grammar) a [ParenthesizedExpression](https://262.ecma-international.org/12.0/#prod-ParenthesizedExpression).
-   All Early Error rules for [ParenthesizedExpression](https://262.ecma-international.org/12.0/#prod-ParenthesizedExpression) and its derived productions also apply to [CoveredParenthesizedExpression](https://262.ecma-international.org/12.0/#sec-static-semantics-coveredparenthesizedexpression) of [CoverParenthesizedExpressionAndArrowParameterList](https://262.ecma-international.org/12.0/#prod-CoverParenthesizedExpressionAndArrowParameterList).

## 13.2.10.2 Runtime Semantics: Evaluation

[PrimaryExpression](https://262.ecma-international.org/12.0/#prod-PrimaryExpression) : [CoverParenthesizedExpressionAndArrowParameterList](https://262.ecma-international.org/12.0/#prod-CoverParenthesizedExpressionAndArrowParameterList)

1.  Let expr be [CoveredParenthesizedExpression](https://262.ecma-international.org/12.0/#sec-static-semantics-coveredparenthesizedexpression) of [CoverParenthesizedExpressionAndArrowParameterList](https://262.ecma-international.org/12.0/#prod-CoverParenthesizedExpressionAndArrowParameterList).
2.  Return the result of evaluating expr.

[ParenthesizedExpression](https://262.ecma-international.org/12.0/#prod-ParenthesizedExpression) : ( [Expression](https://262.ecma-international.org/12.0/#prod-Expression) )

1.  Return the result of evaluating [Expression](https://262.ecma-international.org/12.0/#prod-Expression). This may be of type [Reference](https://tc39.es/ecma262/#sec-reference-specification-type).

Note

This algorithm does not apply [GetValue](https://262.ecma-international.org/12.0/#sec-getvalue) to the result of evaluating [Expression](https://262.ecma-international.org/12.0/#prod-Expression). The principal motivation for this is so that operators such as `delete` and `typeof` may be applied to parenthesized expressions.

## 13.3 Left-Hand-Side Expressions

## Syntax

[MemberExpression](https://262.ecma-international.org/12.0/#prod-MemberExpression)\[Yield, Await\] : [PrimaryExpression](https://262.ecma-international.org/12.0/#prod-PrimaryExpression)\[?Yield, ?Await\] [MemberExpression](https://262.ecma-international.org/12.0/#prod-MemberExpression)\[?Yield, ?Await\] \[ [Expression](https://262.ecma-international.org/12.0/#prod-Expression)\[+In, ?Yield, ?Await\] \] [MemberExpression](https://262.ecma-international.org/12.0/#prod-MemberExpression)\[?Yield, ?Await\] . [IdentifierName](https://262.ecma-international.org/12.0/#prod-IdentifierName) [MemberExpression](https://262.ecma-international.org/12.0/#prod-MemberExpression)\[?Yield, ?Await\] [TemplateLiteral](https://262.ecma-international.org/12.0/#prod-TemplateLiteral)\[?Yield, ?Await, +Tagged\] [SuperProperty](https://262.ecma-international.org/12.0/#prod-SuperProperty)\[?Yield, ?Await\] [MetaProperty](https://262.ecma-international.org/12.0/#prod-MetaProperty) new [MemberExpression](https://262.ecma-international.org/12.0/#prod-MemberExpression)\[?Yield, ?Await\] [Arguments](https://262.ecma-international.org/12.0/#prod-Arguments)\[?Yield, ?Await\] [SuperProperty](https://262.ecma-international.org/12.0/#prod-SuperProperty)\[Yield, Await\] : super \[ [Expression](https://262.ecma-international.org/12.0/#prod-Expression)\[+In, ?Yield, ?Await\] \] super . [IdentifierName](https://262.ecma-international.org/12.0/#prod-IdentifierName) [MetaProperty](https://262.ecma-international.org/12.0/#prod-MetaProperty) : [NewTarget](https://262.ecma-international.org/12.0/#prod-NewTarget) [ImportMeta](https://262.ecma-international.org/12.0/#prod-ImportMeta) [NewTarget](https://262.ecma-international.org/12.0/#prod-NewTarget) : new . target [ImportMeta](https://262.ecma-international.org/12.0/#prod-ImportMeta) : import . meta [NewExpression](https://262.ecma-international.org/12.0/#prod-NewExpression)\[Yield, Await\] : [MemberExpression](https://262.ecma-international.org/12.0/#prod-MemberExpression)\[?Yield, ?Await\] new [NewExpression](https://262.ecma-international.org/12.0/#prod-NewExpression)\[?Yield, ?Await\] [CallExpression](https://262.ecma-international.org/12.0/#prod-CallExpression)\[Yield, Await\] : [CoverCallExpressionAndAsyncArrowHead](https://262.ecma-international.org/12.0/#prod-CoverCallExpressionAndAsyncArrowHead)\[?Yield, ?Await\] [SuperCall](https://262.ecma-international.org/12.0/#prod-SuperCall)\[?Yield, ?Await\] [ImportCall](https://262.ecma-international.org/12.0/#prod-ImportCall)\[?Yield, ?Await\] [CallExpression](https://262.ecma-international.org/12.0/#prod-CallExpression)\[?Yield, ?Await\] [Arguments](https://262.ecma-international.org/12.0/#prod-Arguments)\[?Yield, ?Await\] [CallExpression](https://262.ecma-international.org/12.0/#prod-CallExpression)\[?Yield, ?Await\] \[ [Expression](https://262.ecma-international.org/12.0/#prod-Expression)\[+In, ?Yield, ?Await\] \] [CallExpression](https://262.ecma-international.org/12.0/#prod-CallExpression)\[?Yield, ?Await\] . [IdentifierName](https://262.ecma-international.org/12.0/#prod-IdentifierName) [CallExpression](https://262.ecma-international.org/12.0/#prod-CallExpression)\[?Yield, ?Await\] [TemplateLiteral](https://262.ecma-international.org/12.0/#prod-TemplateLiteral)\[?Yield, ?Await, +Tagged\] [SuperCall](https://262.ecma-international.org/12.0/#prod-SuperCall)\[Yield, Await\] : super [Arguments](https://262.ecma-international.org/12.0/#prod-Arguments)\[?Yield, ?Await\] [ImportCall](https://262.ecma-international.org/12.0/#prod-ImportCall)\[Yield, Await\] : import ( [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression)\[+In, ?Yield, ?Await\] ) [Arguments](https://262.ecma-international.org/12.0/#prod-Arguments)\[Yield, Await\] : ( ) ( [ArgumentList](https://262.ecma-international.org/12.0/#prod-ArgumentList)\[?Yield, ?Await\] ) ( [ArgumentList](https://262.ecma-international.org/12.0/#prod-ArgumentList)\[?Yield, ?Await\] , ) [ArgumentList](https://262.ecma-international.org/12.0/#prod-ArgumentList)\[Yield, Await\] : [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression)\[+In, ?Yield, ?Await\] ... [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression)\[+In, ?Yield, ?Await\] [ArgumentList](https://262.ecma-international.org/12.0/#prod-ArgumentList)\[?Yield, ?Await\] , [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression)\[+In, ?Yield, ?Await\] [ArgumentList](https://262.ecma-international.org/12.0/#prod-ArgumentList)\[?Yield, ?Await\] , ... [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression)\[+In, ?Yield, ?Await\] [OptionalExpression](https://262.ecma-international.org/12.0/#prod-OptionalExpression)\[Yield, Await\] : [MemberExpression](https://262.ecma-international.org/12.0/#prod-MemberExpression)\[?Yield, ?Await\] [OptionalChain](https://262.ecma-international.org/12.0/#prod-OptionalChain)\[?Yield, ?Await\] [CallExpression](https://262.ecma-international.org/12.0/#prod-CallExpression)\[?Yield, ?Await\] [OptionalChain](https://262.ecma-international.org/12.0/#prod-OptionalChain)\[?Yield, ?Await\] [OptionalExpression](https://262.ecma-international.org/12.0/#prod-OptionalExpression)\[?Yield, ?Await\] [OptionalChain](https://262.ecma-international.org/12.0/#prod-OptionalChain)\[?Yield, ?Await\] [OptionalChain](https://262.ecma-international.org/12.0/#prod-OptionalChain)\[Yield, Await\] : ?. [Arguments](https://262.ecma-international.org/12.0/#prod-Arguments)\[?Yield, ?Await\] ?. \[ [Expression](https://262.ecma-international.org/12.0/#prod-Expression)\[+In, ?Yield, ?Await\] \] ?. [IdentifierName](https://262.ecma-international.org/12.0/#prod-IdentifierName) ?. [TemplateLiteral](https://262.ecma-international.org/12.0/#prod-TemplateLiteral)\[?Yield, ?Await, +Tagged\] [OptionalChain](https://262.ecma-international.org/12.0/#prod-OptionalChain)\[?Yield, ?Await\] [Arguments](https://262.ecma-international.org/12.0/#prod-Arguments)\[?Yield, ?Await\] [OptionalChain](https://262.ecma-international.org/12.0/#prod-OptionalChain)\[?Yield, ?Await\] \[ [Expression](https://262.ecma-international.org/12.0/#prod-Expression)\[+In, ?Yield, ?Await\] \] [OptionalChain](https://262.ecma-international.org/12.0/#prod-OptionalChain)\[?Yield, ?Await\] . [IdentifierName](https://262.ecma-international.org/12.0/#prod-IdentifierName) [OptionalChain](https://262.ecma-international.org/12.0/#prod-OptionalChain)\[?Yield, ?Await\] [TemplateLiteral](https://262.ecma-international.org/12.0/#prod-TemplateLiteral)\[?Yield, ?Await, +Tagged\] [LeftHandSideExpression](https://262.ecma-international.org/12.0/#prod-LeftHandSideExpression)\[Yield, Await\] : [NewExpression](https://262.ecma-international.org/12.0/#prod-NewExpression)\[?Yield, ?Await\] [CallExpression](https://262.ecma-international.org/12.0/#prod-CallExpression)\[?Yield, ?Await\] [OptionalExpression](https://262.ecma-international.org/12.0/#prod-OptionalExpression)\[?Yield, ?Await\]

## Supplemental Syntax

When processing an instance of the production  
[CallExpression](https://262.ecma-international.org/12.0/#prod-CallExpression) : [CoverCallExpressionAndAsyncArrowHead](https://262.ecma-international.org/12.0/#prod-CoverCallExpressionAndAsyncArrowHead)  
the interpretation of [CoverCallExpressionAndAsyncArrowHead](https://262.ecma-international.org/12.0/#prod-CoverCallExpressionAndAsyncArrowHead) is refined using the following grammar:

[CallMemberExpression](https://262.ecma-international.org/12.0/#prod-CallMemberExpression)\[Yield, Await\] : [MemberExpression](https://262.ecma-international.org/12.0/#prod-MemberExpression)\[?Yield, ?Await\] [Arguments](https://262.ecma-international.org/12.0/#prod-Arguments)\[?Yield, ?Await\]

## 13.3.1 Static Semantics

## 13.3.1.1 Static Semantics: Early Errors

[OptionalChain](https://262.ecma-international.org/12.0/#prod-OptionalChain) : ?. [TemplateLiteral](https://262.ecma-international.org/12.0/#prod-TemplateLiteral) [OptionalChain](https://262.ecma-international.org/12.0/#prod-OptionalChain) [TemplateLiteral](https://262.ecma-international.org/12.0/#prod-TemplateLiteral)

-   It is a Syntax Error if any code matches this production.

Note

This production exists in order to prevent automatic semicolon insertion rules ([12.9](https://262.ecma-international.org/12.0/#sec-automatic-semicolon-insertion)) from being applied to the following code:

```
a?.b
`c`
```

so that it would be interpreted as two valid statements. The purpose is to maintain consistency with similar code without optional chaining:

```
a.b
`c`
```

which is a valid statement and where automatic semicolon insertion does not apply.

[ImportMeta](https://262.ecma-international.org/12.0/#prod-ImportMeta) : import . meta

-   It is a Syntax Error if the syntactic [goal symbol](https://262.ecma-international.org/12.0/#sec-context-free-grammars) is not [Module](https://262.ecma-international.org/12.0/#prod-Module).

## 13.3.1.2 Static Semantics: CoveredCallExpression

[CoverCallExpressionAndAsyncArrowHead](https://262.ecma-international.org/12.0/#prod-CoverCallExpressionAndAsyncArrowHead) : [MemberExpression](https://262.ecma-international.org/12.0/#prod-MemberExpression) [Arguments](https://262.ecma-international.org/12.0/#prod-Arguments)

1.  Return the [CallMemberExpression](https://262.ecma-international.org/12.0/#prod-CallMemberExpression) that is [covered](https://262.ecma-international.org/12.0/#sec-syntactic-grammar) by [CoverCallExpressionAndAsyncArrowHead](https://262.ecma-international.org/12.0/#prod-CoverCallExpressionAndAsyncArrowHead).

## 13.3.2 Property Accessors

Note

Properties are accessed by name, using either the dot notation:

or the bracket notation:

The dot notation is explained by the following syntactic conversion:

is identical in its behaviour to

[MemberExpression](https://262.ecma-international.org/12.0/#prod-MemberExpression)

`[` <_identifier-name-string_\> `]`

and similarly

is identical in its behaviour to

[CallExpression](https://262.ecma-international.org/12.0/#prod-CallExpression)

`[` <_identifier-name-string_\> `]`

where <_identifier-name-string_\> is the result of evaluating [StringValue](https://262.ecma-international.org/12.0/#sec-static-semantics-stringvalue) of [IdentifierName](https://262.ecma-international.org/12.0/#prod-IdentifierName).

## 13.3.2.1 Runtime Semantics: Evaluation

[MemberExpression](https://262.ecma-international.org/12.0/#prod-MemberExpression) : [MemberExpression](https://262.ecma-international.org/12.0/#prod-MemberExpression) \[ [Expression](https://262.ecma-international.org/12.0/#prod-Expression) \]

1.  Let baseReference be the result of evaluating [MemberExpression](https://262.ecma-international.org/12.0/#prod-MemberExpression).
2.  Let baseValue be ? [GetValue](https://262.ecma-international.org/12.0/#sec-getvalue)(baseReference).
3.  If the code matched by this [MemberExpression](https://262.ecma-international.org/12.0/#prod-MemberExpression) is [strict mode code](https://262.ecma-international.org/12.0/#sec-strict-mode-code), let strict be true; else let strict be false.
4.  Return ? [EvaluatePropertyAccessWithExpressionKey](https://262.ecma-international.org/12.0/#sec-evaluate-property-access-with-expression-key)(baseValue, [Expression](https://262.ecma-international.org/12.0/#prod-Expression), strict).

[MemberExpression](https://262.ecma-international.org/12.0/#prod-MemberExpression) : [MemberExpression](https://262.ecma-international.org/12.0/#prod-MemberExpression) . [IdentifierName](https://262.ecma-international.org/12.0/#prod-IdentifierName)

1.  Let baseReference be the result of evaluating [MemberExpression](https://262.ecma-international.org/12.0/#prod-MemberExpression).
2.  Let baseValue be ? [GetValue](https://262.ecma-international.org/12.0/#sec-getvalue)(baseReference).
3.  If the code matched by this [MemberExpression](https://262.ecma-international.org/12.0/#prod-MemberExpression) is [strict mode code](https://262.ecma-international.org/12.0/#sec-strict-mode-code), let strict be true; else let strict be false.
4.  Return ? [EvaluatePropertyAccessWithIdentifierKey](https://262.ecma-international.org/12.0/#sec-evaluate-property-access-with-identifier-key)(baseValue, [IdentifierName](https://262.ecma-international.org/12.0/#prod-IdentifierName), strict).

[CallExpression](https://262.ecma-international.org/12.0/#prod-CallExpression) : [CallExpression](https://262.ecma-international.org/12.0/#prod-CallExpression) \[ [Expression](https://262.ecma-international.org/12.0/#prod-Expression) \]

1.  Let baseReference be the result of evaluating [CallExpression](https://262.ecma-international.org/12.0/#prod-CallExpression).
2.  Let baseValue be ? [GetValue](https://262.ecma-international.org/12.0/#sec-getvalue)(baseReference).
3.  If the code matched by this [CallExpression](https://262.ecma-international.org/12.0/#prod-CallExpression) is [strict mode code](https://262.ecma-international.org/12.0/#sec-strict-mode-code), let strict be true; else let strict be false.
4.  Return ? [EvaluatePropertyAccessWithExpressionKey](https://262.ecma-international.org/12.0/#sec-evaluate-property-access-with-expression-key)(baseValue, [Expression](https://262.ecma-international.org/12.0/#prod-Expression), strict).

[CallExpression](https://262.ecma-international.org/12.0/#prod-CallExpression) : [CallExpression](https://262.ecma-international.org/12.0/#prod-CallExpression) . [IdentifierName](https://262.ecma-international.org/12.0/#prod-IdentifierName)

1.  Let baseReference be the result of evaluating [CallExpression](https://262.ecma-international.org/12.0/#prod-CallExpression).
2.  Let baseValue be ? [GetValue](https://262.ecma-international.org/12.0/#sec-getvalue)(baseReference).
3.  If the code matched by this [CallExpression](https://262.ecma-international.org/12.0/#prod-CallExpression) is [strict mode code](https://262.ecma-international.org/12.0/#sec-strict-mode-code), let strict be true; else let strict be false.
4.  Return ? [EvaluatePropertyAccessWithIdentifierKey](https://262.ecma-international.org/12.0/#sec-evaluate-property-access-with-identifier-key)(baseValue, [IdentifierName](https://262.ecma-international.org/12.0/#prod-IdentifierName), strict).

## 13.3.3 EvaluatePropertyAccessWithExpressionKey ( baseValue, expression, strict )

The abstract operation EvaluatePropertyAccessWithExpressionKey takes arguments baseValue (an [ECMAScript language value](https://262.ecma-international.org/12.0/#sec-ecmascript-language-types)), expression (a [Parse Node](https://262.ecma-international.org/12.0/#sec-syntactic-grammar)), and strict (a Boolean). It performs the following steps when called:

1.  Let propertyNameReference be the result of evaluating expression.
2.  Let propertyNameValue be ? [GetValue](https://262.ecma-international.org/12.0/#sec-getvalue)(propertyNameReference).
3.  Let bv be ? [RequireObjectCoercible](https://262.ecma-international.org/12.0/#sec-requireobjectcoercible)(baseValue).
4.  Let propertyKey be ? [ToPropertyKey](https://262.ecma-international.org/12.0/#sec-topropertykey)(propertyNameValue).
5.  Return the [Reference Record](https://262.ecma-international.org/12.0/#sec-reference-record-specification-type) { \[\[Base\]\]: bv, \[\[ReferencedName\]\]: propertyKey, \[\[Strict\]\]: strict, \[\[ThisValue\]\]: empty }.

## 13.3.4 EvaluatePropertyAccessWithIdentifierKey ( baseValue, identifierName, strict )

The abstract operation EvaluatePropertyAccessWithIdentifierKey takes arguments baseValue (an [ECMAScript language value](https://262.ecma-international.org/12.0/#sec-ecmascript-language-types)), identifierName (a [Parse Node](https://262.ecma-international.org/12.0/#sec-syntactic-grammar)), and strict (a Boolean). It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): identifierName is an [IdentifierName](https://262.ecma-international.org/12.0/#prod-IdentifierName).
2.  Let bv be ? [RequireObjectCoercible](https://262.ecma-international.org/12.0/#sec-requireobjectcoercible)(baseValue).
3.  Let propertyNameString be [StringValue](https://262.ecma-international.org/12.0/#sec-static-semantics-stringvalue) of identifierName.
4.  Return the [Reference Record](https://262.ecma-international.org/12.0/#sec-reference-record-specification-type) { \[\[Base\]\]: bv, \[\[ReferencedName\]\]: propertyNameString, \[\[Strict\]\]: strict, \[\[ThisValue\]\]: empty }.

## 13.3.5 The `new` Operator

## 13.3.5.1 Runtime Semantics: Evaluation

[NewExpression](https://262.ecma-international.org/12.0/#prod-NewExpression) : new [NewExpression](https://262.ecma-international.org/12.0/#prod-NewExpression)

1.  Return ? [EvaluateNew](https://262.ecma-international.org/12.0/#sec-evaluatenew)([NewExpression](https://262.ecma-international.org/12.0/#prod-NewExpression), empty).

[MemberExpression](https://262.ecma-international.org/12.0/#prod-MemberExpression) : new [MemberExpression](https://262.ecma-international.org/12.0/#prod-MemberExpression) [Arguments](https://262.ecma-international.org/12.0/#prod-Arguments)

1.  Return ? [EvaluateNew](https://262.ecma-international.org/12.0/#sec-evaluatenew)([MemberExpression](https://262.ecma-international.org/12.0/#prod-MemberExpression), [Arguments](https://262.ecma-international.org/12.0/#prod-Arguments)).

## 13.3.5.1.1 EvaluateNew ( constructExpr, arguments )

The abstract operation EvaluateNew takes arguments constructExpr and arguments. It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): constructExpr is either a [NewExpression](https://262.ecma-international.org/12.0/#prod-NewExpression) or a [MemberExpression](https://262.ecma-international.org/12.0/#prod-MemberExpression).
2.  [Assert](https://262.ecma-international.org/12.0/#assert): arguments is either empty or an [Arguments](https://262.ecma-international.org/12.0/#prod-Arguments).
3.  Let ref be the result of evaluating constructExpr.
4.  Let constructor be ? [GetValue](https://262.ecma-international.org/12.0/#sec-getvalue)(ref).
5.  If arguments is empty, let argList be a new empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).
6.  Else,
    1.  Let argList be ? [ArgumentListEvaluation](https://262.ecma-international.org/12.0/#sec-runtime-semantics-argumentlistevaluation) of arguments.
7.  If [IsConstructor](https://262.ecma-international.org/12.0/#sec-isconstructor)(constructor) is false, throw a TypeError exception.
8.  Return ? [Construct](https://262.ecma-international.org/12.0/#sec-construct)(constructor, argList).

## 13.3.6 Function Calls

## 13.3.6.1 Runtime Semantics: Evaluation

[CallExpression](https://262.ecma-international.org/12.0/#prod-CallExpression) : [CoverCallExpressionAndAsyncArrowHead](https://262.ecma-international.org/12.0/#prod-CoverCallExpressionAndAsyncArrowHead)

1.  Let expr be [CoveredCallExpression](https://262.ecma-international.org/12.0/#sec-left-hand-side-expressions-static-semantics-coveredcallexpression) of [CoverCallExpressionAndAsyncArrowHead](https://262.ecma-international.org/12.0/#prod-CoverCallExpressionAndAsyncArrowHead).
2.  Let memberExpr be the [MemberExpression](https://262.ecma-international.org/12.0/#prod-MemberExpression) of expr.
3.  Let arguments be the [Arguments](https://262.ecma-international.org/12.0/#prod-Arguments) of expr.
4.  Let ref be the result of evaluating memberExpr.
5.  Let func be ? [GetValue](https://262.ecma-international.org/12.0/#sec-getvalue)(ref).
6.  If ref is a [Reference Record](https://262.ecma-international.org/12.0/#sec-reference-record-specification-type), [IsPropertyReference](https://262.ecma-international.org/12.0/#sec-ispropertyreference)(ref) is false, and ref.\[\[ReferencedName\]\] is "eval", then
    1.  If [SameValue](https://262.ecma-international.org/12.0/#sec-samevalue)(func, [%eval%](https://262.ecma-international.org/12.0/#sec-eval-x)) is true, then
        1.  Let argList be ? [ArgumentListEvaluation](https://262.ecma-international.org/12.0/#sec-runtime-semantics-argumentlistevaluation) of arguments.
        2.  If argList has no elements, return undefined.
        3.  Let evalArg be the first element of argList.
        4.  If the source code matching this [CallExpression](https://262.ecma-international.org/12.0/#prod-CallExpression) is [strict mode code](https://262.ecma-international.org/12.0/#sec-strict-mode-code), let strictCaller be true. Otherwise let strictCaller be false.
        5.  Let evalRealm be [the current Realm Record](https://262.ecma-international.org/12.0/#current-realm).
        6.  Return ? [PerformEval](https://262.ecma-international.org/12.0/#sec-performeval)(evalArg, evalRealm, strictCaller, true).
7.  Let thisCall be this [CallExpression](https://262.ecma-international.org/12.0/#prod-CallExpression).
8.  Let tailCall be [IsInTailPosition](https://262.ecma-international.org/12.0/#sec-isintailposition)(thisCall).
9.  Return ? [EvaluateCall](https://262.ecma-international.org/12.0/#sec-evaluatecall)(func, ref, arguments, tailCall).

A [CallExpression](https://262.ecma-international.org/12.0/#prod-CallExpression) evaluation that executes step [6.a.vi](https://262.ecma-international.org/12.0/#step-callexpression-evaluation-direct-eval) is a direct eval.

[CallExpression](https://262.ecma-international.org/12.0/#prod-CallExpression) : [CallExpression](https://262.ecma-international.org/12.0/#prod-CallExpression) [Arguments](https://262.ecma-international.org/12.0/#prod-Arguments)

1.  Let ref be the result of evaluating [CallExpression](https://262.ecma-international.org/12.0/#prod-CallExpression).
2.  Let func be ? [GetValue](https://262.ecma-international.org/12.0/#sec-getvalue)(ref).
3.  Let thisCall be this [CallExpression](https://262.ecma-international.org/12.0/#prod-CallExpression).
4.  Let tailCall be [IsInTailPosition](https://262.ecma-international.org/12.0/#sec-isintailposition)(thisCall).
5.  Return ? [EvaluateCall](https://262.ecma-international.org/12.0/#sec-evaluatecall)(func, ref, [Arguments](https://262.ecma-international.org/12.0/#prod-Arguments), tailCall).

## 13.3.6.2 EvaluateCall ( func, ref, arguments, tailPosition )

The abstract operation EvaluateCall takes arguments func (an [ECMAScript language value](https://262.ecma-international.org/12.0/#sec-ecmascript-language-types)), ref (an [ECMAScript language value](https://262.ecma-international.org/12.0/#sec-ecmascript-language-types) or a [Reference Record](https://262.ecma-international.org/12.0/#sec-reference-record-specification-type)), arguments (a [Parse Node](https://262.ecma-international.org/12.0/#sec-syntactic-grammar)), and tailPosition (a Boolean). It performs the following steps when called:

1.  If ref is a [Reference Record](https://262.ecma-international.org/12.0/#sec-reference-record-specification-type), then
    1.  If [IsPropertyReference](https://262.ecma-international.org/12.0/#sec-ispropertyreference)(ref) is true, then
        1.  Let thisValue be [GetThisValue](https://262.ecma-international.org/12.0/#sec-getthisvalue)(ref).
    2.  Else,
        1.  Let refEnv be ref.\[\[Base\]\].
        2.  [Assert](https://262.ecma-international.org/12.0/#assert): refEnv is an [Environment Record](https://262.ecma-international.org/12.0/#sec-environment-records).
        3.  Let thisValue be refEnv.WithBaseObject().
2.  Else,
    1.  Let thisValue be undefined.
3.  Let argList be ? [ArgumentListEvaluation](https://262.ecma-international.org/12.0/#sec-runtime-semantics-argumentlistevaluation) of arguments.
4.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(func) is not Object, throw a TypeError exception.
5.  If [IsCallable](https://262.ecma-international.org/12.0/#sec-iscallable)(func) is false, throw a TypeError exception.
6.  If tailPosition is true, perform [PrepareForTailCall](https://262.ecma-international.org/12.0/#sec-preparefortailcall)().
7.  Let result be [Call](https://262.ecma-international.org/12.0/#sec-call)(func, thisValue, argList).
8.  [Assert](https://262.ecma-international.org/12.0/#assert): If tailPosition is true, the above call will not return here, but instead evaluation will continue as if the following return has already occurred.
9.  [Assert](https://262.ecma-international.org/12.0/#assert): If result is not an [abrupt completion](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type), then [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(result) is an [ECMAScript language type](https://262.ecma-international.org/12.0/#sec-ecmascript-language-types).
10.  Return result.

## 13.3.7 The `super` Keyword

## 13.3.7.1 Runtime Semantics: Evaluation

[SuperProperty](https://262.ecma-international.org/12.0/#prod-SuperProperty) : super \[ [Expression](https://262.ecma-international.org/12.0/#prod-Expression) \]

1.  Let env be [GetThisEnvironment](https://262.ecma-international.org/12.0/#sec-getthisenvironment)().
2.  Let actualThis be ? env.GetThisBinding().
3.  Let propertyNameReference be the result of evaluating [Expression](https://262.ecma-international.org/12.0/#prod-Expression).
4.  Let propertyNameValue be ? [GetValue](https://262.ecma-international.org/12.0/#sec-getvalue)(propertyNameReference).
5.  Let propertyKey be ? [ToPropertyKey](https://262.ecma-international.org/12.0/#sec-topropertykey)(propertyNameValue).
6.  If the code matched by this [SuperProperty](https://262.ecma-international.org/12.0/#prod-SuperProperty) is [strict mode code](https://262.ecma-international.org/12.0/#sec-strict-mode-code), let strict be true; else let strict be false.
7.  Return ? [MakeSuperPropertyReference](https://262.ecma-international.org/12.0/#sec-makesuperpropertyreference)(actualThis, propertyKey, strict).

[SuperProperty](https://262.ecma-international.org/12.0/#prod-SuperProperty) : super . [IdentifierName](https://262.ecma-international.org/12.0/#prod-IdentifierName)

1.  Let env be [GetThisEnvironment](https://262.ecma-international.org/12.0/#sec-getthisenvironment)().
2.  Let actualThis be ? env.GetThisBinding().
3.  Let propertyKey be [StringValue](https://262.ecma-international.org/12.0/#sec-static-semantics-stringvalue) of [IdentifierName](https://262.ecma-international.org/12.0/#prod-IdentifierName).
4.  If the code matched by this [SuperProperty](https://262.ecma-international.org/12.0/#prod-SuperProperty) is [strict mode code](https://262.ecma-international.org/12.0/#sec-strict-mode-code), let strict be true; else let strict be false.
5.  Return ? [MakeSuperPropertyReference](https://262.ecma-international.org/12.0/#sec-makesuperpropertyreference)(actualThis, propertyKey, strict).

[SuperCall](https://262.ecma-international.org/12.0/#prod-SuperCall) : super [Arguments](https://262.ecma-international.org/12.0/#prod-Arguments)

1.  Let newTarget be [GetNewTarget](https://262.ecma-international.org/12.0/#sec-getnewtarget)().
2.  [Assert](https://262.ecma-international.org/12.0/#assert): [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(newTarget) is Object.
3.  Let func be ! [GetSuperConstructor](https://262.ecma-international.org/12.0/#sec-getsuperconstructor)().
4.  Let argList be ? [ArgumentListEvaluation](https://262.ecma-international.org/12.0/#sec-runtime-semantics-argumentlistevaluation) of [Arguments](https://262.ecma-international.org/12.0/#prod-Arguments).
5.  If [IsConstructor](https://262.ecma-international.org/12.0/#sec-isconstructor)(func) is false, throw a TypeError exception.
6.  Let result be ? [Construct](https://262.ecma-international.org/12.0/#sec-construct)(func, argList, newTarget).
7.  Let thisER be [GetThisEnvironment](https://262.ecma-international.org/12.0/#sec-getthisenvironment)().
8.  Return ? thisER.BindThisValue(result).

## 13.3.7.2 GetSuperConstructor ( )

The abstract operation GetSuperConstructor takes no arguments. It performs the following steps when called:

1.  Let envRec be [GetThisEnvironment](https://262.ecma-international.org/12.0/#sec-getthisenvironment)().
2.  [Assert](https://262.ecma-international.org/12.0/#assert): envRec is a [function Environment Record](https://262.ecma-international.org/12.0/#sec-function-environment-records).
3.  Let activeFunction be envRec.\[\[FunctionObject\]\].
4.  [Assert](https://262.ecma-international.org/12.0/#assert): activeFunction is an ECMAScript [function object](https://262.ecma-international.org/12.0/#function-object).
5.  Let superConstructor be ! activeFunction.\[\[GetPrototypeOf\]\]().
6.  Return superConstructor.

## 13.3.7.3 MakeSuperPropertyReference ( actualThis, propertyKey, strict )

The abstract operation MakeSuperPropertyReference takes arguments actualThis, propertyKey, and strict. It performs the following steps when called:

1.  Let env be [GetThisEnvironment](https://262.ecma-international.org/12.0/#sec-getthisenvironment)().
2.  [Assert](https://262.ecma-international.org/12.0/#assert): env.HasSuperBinding() is true.
3.  Let baseValue be ? env.GetSuperBase().
4.  Let bv be ? [RequireObjectCoercible](https://262.ecma-international.org/12.0/#sec-requireobjectcoercible)(baseValue).
5.  Return the [Reference Record](https://262.ecma-international.org/12.0/#sec-reference-record-specification-type) { \[\[Base\]\]: bv, \[\[ReferencedName\]\]: propertyKey, \[\[Strict\]\]: strict, \[\[ThisValue\]\]: actualThis }.
6.  NOTE: This returns a [Super Reference Record](https://262.ecma-international.org/12.0/#super-reference-record).

## 13.3.8 Argument Lists

Note

The evaluation of an argument list produces a [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) of values.

## 13.3.8.1 Runtime Semantics: ArgumentListEvaluation

[Arguments](https://262.ecma-international.org/12.0/#prod-Arguments) : ( )

1.  Return a new empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).

[ArgumentList](https://262.ecma-international.org/12.0/#prod-ArgumentList) : [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression)

1.  Let ref be the result of evaluating [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression).
2.  Let arg be ? [GetValue](https://262.ecma-international.org/12.0/#sec-getvalue)(ref).
3.  Return a [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) whose sole element is arg.

[ArgumentList](https://262.ecma-international.org/12.0/#prod-ArgumentList) : ... [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression)

1.  Let list be a new empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).
2.  Let spreadRef be the result of evaluating [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression).
3.  Let spreadObj be ? [GetValue](https://262.ecma-international.org/12.0/#sec-getvalue)(spreadRef).
4.  Let iteratorRecord be ? [GetIterator](https://262.ecma-international.org/12.0/#sec-getiterator)(spreadObj).
5.  Repeat,
    1.  Let next be ? [IteratorStep](https://262.ecma-international.org/12.0/#sec-iteratorstep)(iteratorRecord).
    2.  If next is false, return list.
    3.  Let nextArg be ? [IteratorValue](https://262.ecma-international.org/12.0/#sec-iteratorvalue)(next).
    4.  Append nextArg as the last element of list.

[ArgumentList](https://262.ecma-international.org/12.0/#prod-ArgumentList) : [ArgumentList](https://262.ecma-international.org/12.0/#prod-ArgumentList) , [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression)

1.  Let precedingArgs be ? [ArgumentListEvaluation](https://262.ecma-international.org/12.0/#sec-runtime-semantics-argumentlistevaluation) of [ArgumentList](https://262.ecma-international.org/12.0/#prod-ArgumentList).
2.  Let ref be the result of evaluating [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression).
3.  Let arg be ? [GetValue](https://262.ecma-international.org/12.0/#sec-getvalue)(ref).
4.  Append arg to the end of precedingArgs.
5.  Return precedingArgs.

[ArgumentList](https://262.ecma-international.org/12.0/#prod-ArgumentList) : [ArgumentList](https://262.ecma-international.org/12.0/#prod-ArgumentList) , ... [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression)

1.  Let precedingArgs be ? [ArgumentListEvaluation](https://262.ecma-international.org/12.0/#sec-runtime-semantics-argumentlistevaluation) of [ArgumentList](https://262.ecma-international.org/12.0/#prod-ArgumentList).
2.  Let spreadRef be the result of evaluating [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression).
3.  Let iteratorRecord be ? [GetIterator](https://262.ecma-international.org/12.0/#sec-getiterator)(? [GetValue](https://262.ecma-international.org/12.0/#sec-getvalue)(spreadRef)).
4.  Repeat,
    1.  Let next be ? [IteratorStep](https://262.ecma-international.org/12.0/#sec-iteratorstep)(iteratorRecord).
    2.  If next is false, return precedingArgs.
    3.  Let nextArg be ? [IteratorValue](https://262.ecma-international.org/12.0/#sec-iteratorvalue)(next).
    4.  Append nextArg as the last element of precedingArgs.

[TemplateLiteral](https://262.ecma-international.org/12.0/#prod-TemplateLiteral) : [NoSubstitutionTemplate](https://262.ecma-international.org/12.0/#prod-NoSubstitutionTemplate)

1.  Let templateLiteral be this [TemplateLiteral](https://262.ecma-international.org/12.0/#prod-TemplateLiteral).
2.  Let siteObj be [GetTemplateObject](https://262.ecma-international.org/12.0/#sec-gettemplateobject)(templateLiteral).
3.  Return a [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) whose sole element is siteObj.

[TemplateLiteral](https://262.ecma-international.org/12.0/#prod-TemplateLiteral) : [SubstitutionTemplate](https://262.ecma-international.org/12.0/#prod-SubstitutionTemplate)

1.  Let templateLiteral be this [TemplateLiteral](https://262.ecma-international.org/12.0/#prod-TemplateLiteral).
2.  Let siteObj be [GetTemplateObject](https://262.ecma-international.org/12.0/#sec-gettemplateobject)(templateLiteral).
3.  Let remaining be ? [ArgumentListEvaluation](https://262.ecma-international.org/12.0/#sec-runtime-semantics-argumentlistevaluation) of [SubstitutionTemplate](https://262.ecma-international.org/12.0/#prod-SubstitutionTemplate).
4.  Return a [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) whose first element is siteObj and whose subsequent elements are the elements of remaining.

[SubstitutionTemplate](https://262.ecma-international.org/12.0/#prod-SubstitutionTemplate) : [TemplateHead](https://262.ecma-international.org/12.0/#prod-TemplateHead) [Expression](https://262.ecma-international.org/12.0/#prod-Expression) [TemplateSpans](https://262.ecma-international.org/12.0/#prod-TemplateSpans)

1.  Let firstSubRef be the result of evaluating [Expression](https://262.ecma-international.org/12.0/#prod-Expression).
2.  Let firstSub be ? [GetValue](https://262.ecma-international.org/12.0/#sec-getvalue)(firstSubRef).
3.  Let restSub be ? [SubstitutionEvaluation](https://262.ecma-international.org/12.0/#sec-runtime-semantics-substitutionevaluation) of [TemplateSpans](https://262.ecma-international.org/12.0/#prod-TemplateSpans).
4.  [Assert](https://262.ecma-international.org/12.0/#assert): restSub is a [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).
5.  Return a [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) whose first element is firstSub and whose subsequent elements are the elements of restSub. restSub may contain no elements.

## 13.3.9 Optional Chains

Note

An optional chain is a chain of one or more property accesses and function calls, the first of which begins with the token `?.`.

## 13.3.9.1 Runtime Semantics: Evaluation

[OptionalExpression](https://262.ecma-international.org/12.0/#prod-OptionalExpression) : [MemberExpression](https://262.ecma-international.org/12.0/#prod-MemberExpression) [OptionalChain](https://262.ecma-international.org/12.0/#prod-OptionalChain)

1.  Let baseReference be the result of evaluating [MemberExpression](https://262.ecma-international.org/12.0/#prod-MemberExpression).
2.  Let baseValue be ? [GetValue](https://262.ecma-international.org/12.0/#sec-getvalue)(baseReference).
3.  If baseValue is undefined or null, then
    1.  Return undefined.
4.  Return the result of performing [ChainEvaluation](https://262.ecma-international.org/12.0/#sec-optional-chaining-chain-evaluation) of [OptionalChain](https://262.ecma-international.org/12.0/#prod-OptionalChain) with arguments baseValue and baseReference.

[OptionalExpression](https://262.ecma-international.org/12.0/#prod-OptionalExpression) : [CallExpression](https://262.ecma-international.org/12.0/#prod-CallExpression) [OptionalChain](https://262.ecma-international.org/12.0/#prod-OptionalChain)

1.  Let baseReference be the result of evaluating [CallExpression](https://262.ecma-international.org/12.0/#prod-CallExpression).
2.  Let baseValue be ? [GetValue](https://262.ecma-international.org/12.0/#sec-getvalue)(baseReference).
3.  If baseValue is undefined or null, then
    1.  Return undefined.
4.  Return the result of performing [ChainEvaluation](https://262.ecma-international.org/12.0/#sec-optional-chaining-chain-evaluation) of [OptionalChain](https://262.ecma-international.org/12.0/#prod-OptionalChain) with arguments baseValue and baseReference.

[OptionalExpression](https://262.ecma-international.org/12.0/#prod-OptionalExpression) : [OptionalExpression](https://262.ecma-international.org/12.0/#prod-OptionalExpression) [OptionalChain](https://262.ecma-international.org/12.0/#prod-OptionalChain)

1.  Let baseReference be the result of evaluating [OptionalExpression](https://262.ecma-international.org/12.0/#prod-OptionalExpression).
2.  Let baseValue be ? [GetValue](https://262.ecma-international.org/12.0/#sec-getvalue)(baseReference).
3.  If baseValue is undefined or null, then
    1.  Return undefined.
4.  Return the result of performing [ChainEvaluation](https://262.ecma-international.org/12.0/#sec-optional-chaining-chain-evaluation) of [OptionalChain](https://262.ecma-international.org/12.0/#prod-OptionalChain) with arguments baseValue and baseReference.

## 13.3.9.2 Runtime Semantics: ChainEvaluation

With parameters baseValue and baseReference.

[OptionalChain](https://262.ecma-international.org/12.0/#prod-OptionalChain) : ?. [Arguments](https://262.ecma-international.org/12.0/#prod-Arguments)

1.  Let thisChain be this [OptionalChain](https://262.ecma-international.org/12.0/#prod-OptionalChain).
2.  Let tailCall be [IsInTailPosition](https://262.ecma-international.org/12.0/#sec-isintailposition)(thisChain).
3.  Return ? [EvaluateCall](https://262.ecma-international.org/12.0/#sec-evaluatecall)(baseValue, baseReference, [Arguments](https://262.ecma-international.org/12.0/#prod-Arguments), tailCall).

[OptionalChain](https://262.ecma-international.org/12.0/#prod-OptionalChain) : ?. \[ [Expression](https://262.ecma-international.org/12.0/#prod-Expression) \]

1.  If the code matched by this [OptionalChain](https://262.ecma-international.org/12.0/#prod-OptionalChain) is [strict mode code](https://262.ecma-international.org/12.0/#sec-strict-mode-code), let strict be true; else let strict be false.
2.  Return ? [EvaluatePropertyAccessWithExpressionKey](https://262.ecma-international.org/12.0/#sec-evaluate-property-access-with-expression-key)(baseValue, [Expression](https://262.ecma-international.org/12.0/#prod-Expression), strict).

[OptionalChain](https://262.ecma-international.org/12.0/#prod-OptionalChain) : ?. [IdentifierName](https://262.ecma-international.org/12.0/#prod-IdentifierName)

1.  If the code matched by this [OptionalChain](https://262.ecma-international.org/12.0/#prod-OptionalChain) is [strict mode code](https://262.ecma-international.org/12.0/#sec-strict-mode-code), let strict be true; else let strict be false.
2.  Return ? [EvaluatePropertyAccessWithIdentifierKey](https://262.ecma-international.org/12.0/#sec-evaluate-property-access-with-identifier-key)(baseValue, [IdentifierName](https://262.ecma-international.org/12.0/#prod-IdentifierName), strict).

[OptionalChain](https://262.ecma-international.org/12.0/#prod-OptionalChain) : [OptionalChain](https://262.ecma-international.org/12.0/#prod-OptionalChain) [Arguments](https://262.ecma-international.org/12.0/#prod-Arguments)

1.  Let optionalChain be [OptionalChain](https://262.ecma-international.org/12.0/#prod-OptionalChain).
2.  Let newReference be ? [ChainEvaluation](https://262.ecma-international.org/12.0/#sec-optional-chaining-chain-evaluation) of optionalChain with arguments baseValue and baseReference.
3.  Let newValue be ? [GetValue](https://262.ecma-international.org/12.0/#sec-getvalue)(newReference).
4.  Let thisChain be this [OptionalChain](https://262.ecma-international.org/12.0/#prod-OptionalChain).
5.  Let tailCall be [IsInTailPosition](https://262.ecma-international.org/12.0/#sec-isintailposition)(thisChain).
6.  Return ? [EvaluateCall](https://262.ecma-international.org/12.0/#sec-evaluatecall)(newValue, newReference, [Arguments](https://262.ecma-international.org/12.0/#prod-Arguments), tailCall).

[OptionalChain](https://262.ecma-international.org/12.0/#prod-OptionalChain) : [OptionalChain](https://262.ecma-international.org/12.0/#prod-OptionalChain) \[ [Expression](https://262.ecma-international.org/12.0/#prod-Expression) \]

1.  Let optionalChain be [OptionalChain](https://262.ecma-international.org/12.0/#prod-OptionalChain).
2.  Let newReference be ? [ChainEvaluation](https://262.ecma-international.org/12.0/#sec-optional-chaining-chain-evaluation) of optionalChain with arguments baseValue and baseReference.
3.  Let newValue be ? [GetValue](https://262.ecma-international.org/12.0/#sec-getvalue)(newReference).
4.  If the code matched by this [OptionalChain](https://262.ecma-international.org/12.0/#prod-OptionalChain) is [strict mode code](https://262.ecma-international.org/12.0/#sec-strict-mode-code), let strict be true; else let strict be false.
5.  Return ? [EvaluatePropertyAccessWithExpressionKey](https://262.ecma-international.org/12.0/#sec-evaluate-property-access-with-expression-key)(newValue, [Expression](https://262.ecma-international.org/12.0/#prod-Expression), strict).

[OptionalChain](https://262.ecma-international.org/12.0/#prod-OptionalChain) : [OptionalChain](https://262.ecma-international.org/12.0/#prod-OptionalChain) . [IdentifierName](https://262.ecma-international.org/12.0/#prod-IdentifierName)

1.  Let optionalChain be [OptionalChain](https://262.ecma-international.org/12.0/#prod-OptionalChain).
2.  Let newReference be ? [ChainEvaluation](https://262.ecma-international.org/12.0/#sec-optional-chaining-chain-evaluation) of optionalChain with arguments baseValue and baseReference.
3.  Let newValue be ? [GetValue](https://262.ecma-international.org/12.0/#sec-getvalue)(newReference).
4.  If the code matched by this [OptionalChain](https://262.ecma-international.org/12.0/#prod-OptionalChain) is [strict mode code](https://262.ecma-international.org/12.0/#sec-strict-mode-code), let strict be true; else let strict be false.
5.  Return ? [EvaluatePropertyAccessWithIdentifierKey](https://262.ecma-international.org/12.0/#sec-evaluate-property-access-with-identifier-key)(newValue, [IdentifierName](https://262.ecma-international.org/12.0/#prod-IdentifierName), strict).

## 13.3.10 Import Calls

## 13.3.10.1 Runtime Semantics: Evaluation

[ImportCall](https://262.ecma-international.org/12.0/#prod-ImportCall) : import ( [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression) )

1.  Let referencingScriptOrModule be ! [GetActiveScriptOrModule](https://262.ecma-international.org/12.0/#sec-getactivescriptormodule)().
2.  Let argRef be the result of evaluating [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression).
3.  Let specifier be ? [GetValue](https://262.ecma-international.org/12.0/#sec-getvalue)(argRef).
4.  Let promiseCapability be ! [NewPromiseCapability](https://262.ecma-international.org/12.0/#sec-newpromisecapability)([%Promise%](https://262.ecma-international.org/12.0/#sec-promise-constructor)).
5.  Let specifierString be [ToString](https://262.ecma-international.org/12.0/#sec-tostring)(specifier).
6.  [IfAbruptRejectPromise](https://262.ecma-international.org/12.0/#sec-ifabruptrejectpromise)(specifierString, promiseCapability).
7.  Perform ! [HostImportModuleDynamically](https://262.ecma-international.org/12.0/#sec-hostimportmoduledynamically)(referencingScriptOrModule, specifierString, promiseCapability).
8.  Return promiseCapability.\[\[Promise\]\].

## 13.3.11 Tagged Templates

Note

A tagged template is a function call where the arguments of the call are derived from a [TemplateLiteral](https://262.ecma-international.org/12.0/#prod-TemplateLiteral) ([13.2.9](https://262.ecma-international.org/12.0/#sec-template-literals)). The actual arguments include a template object ([13.2.9.3](https://262.ecma-international.org/12.0/#sec-gettemplateobject)) and the values produced by evaluating the expressions embedded within the [TemplateLiteral](https://262.ecma-international.org/12.0/#prod-TemplateLiteral).

## 13.3.11.1 Runtime Semantics: Evaluation

[MemberExpression](https://262.ecma-international.org/12.0/#prod-MemberExpression) : [MemberExpression](https://262.ecma-international.org/12.0/#prod-MemberExpression) [TemplateLiteral](https://262.ecma-international.org/12.0/#prod-TemplateLiteral)

1.  Let tagRef be the result of evaluating [MemberExpression](https://262.ecma-international.org/12.0/#prod-MemberExpression).
2.  Let tagFunc be ? [GetValue](https://262.ecma-international.org/12.0/#sec-getvalue)(tagRef).
3.  Let thisCall be this [MemberExpression](https://262.ecma-international.org/12.0/#prod-MemberExpression).
4.  Let tailCall be [IsInTailPosition](https://262.ecma-international.org/12.0/#sec-isintailposition)(thisCall).
5.  Return ? [EvaluateCall](https://262.ecma-international.org/12.0/#sec-evaluatecall)(tagFunc, tagRef, [TemplateLiteral](https://262.ecma-international.org/12.0/#prod-TemplateLiteral), tailCall).

[CallExpression](https://262.ecma-international.org/12.0/#prod-CallExpression) : [CallExpression](https://262.ecma-international.org/12.0/#prod-CallExpression) [TemplateLiteral](https://262.ecma-international.org/12.0/#prod-TemplateLiteral)

1.  Let tagRef be the result of evaluating [CallExpression](https://262.ecma-international.org/12.0/#prod-CallExpression).
2.  Let tagFunc be ? [GetValue](https://262.ecma-international.org/12.0/#sec-getvalue)(tagRef).
3.  Let thisCall be this [CallExpression](https://262.ecma-international.org/12.0/#prod-CallExpression).
4.  Let tailCall be [IsInTailPosition](https://262.ecma-international.org/12.0/#sec-isintailposition)(thisCall).
5.  Return ? [EvaluateCall](https://262.ecma-international.org/12.0/#sec-evaluatecall)(tagFunc, tagRef, [TemplateLiteral](https://262.ecma-international.org/12.0/#prod-TemplateLiteral), tailCall).

## 13.3.12 Meta Properties

## 13.3.12.1 Runtime Semantics: Evaluation

[NewTarget](https://262.ecma-international.org/12.0/#prod-NewTarget) : new . target

1.  Return [GetNewTarget](https://262.ecma-international.org/12.0/#sec-getnewtarget)().

[ImportMeta](https://262.ecma-international.org/12.0/#prod-ImportMeta) : import . meta

1.  Let module be ! [GetActiveScriptOrModule](https://262.ecma-international.org/12.0/#sec-getactivescriptormodule)().
2.  [Assert](https://262.ecma-international.org/12.0/#assert): module is a [Source Text Module Record](https://262.ecma-international.org/12.0/#sourctextmodule-record).
3.  Let importMeta be module.\[\[ImportMeta\]\].
4.  If importMeta is empty, then
    1.  Set importMeta to ! [OrdinaryObjectCreate](https://262.ecma-international.org/12.0/#sec-ordinaryobjectcreate)(null).
    2.  Let importMetaValues be ! [HostGetImportMetaProperties](https://262.ecma-international.org/12.0/#sec-hostgetimportmetaproperties)(module).
    3.  For each [Record](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) { \[\[Key\]\], \[\[Value\]\] } p of importMetaValues, do
        1.  Perform ! [CreateDataPropertyOrThrow](https://262.ecma-international.org/12.0/#sec-createdatapropertyorthrow)(importMeta, p.\[\[Key\]\], p.\[\[Value\]\]).
    4.  Perform ! [HostFinalizeImportMeta](https://262.ecma-international.org/12.0/#sec-hostfinalizeimportmeta)(importMeta, module).
    5.  Set module.\[\[ImportMeta\]\] to importMeta.
    6.  Return importMeta.
5.  Else,
    1.  [Assert](https://262.ecma-international.org/12.0/#assert): [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(importMeta) is Object.
    2.  Return importMeta.

## 13.3.12.1.1 HostGetImportMetaProperties ( moduleRecord )

The [host-defined](https://262.ecma-international.org/12.0/#host-defined) abstract operation HostGetImportMetaProperties takes argument moduleRecord (a [Module Record](https://262.ecma-international.org/12.0/#sec-abstract-module-records)). It allows hosts to provide property keys and values for the object returned from `import.meta`.

The implementation of HostGetImportMetaProperties must conform to the following requirements:

-   It must return a [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type), whose values are all Records with two fields, \[\[Key\]\] and \[\[Value\]\].
-   Each such [Record](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type)'s \[\[Key\]\] field must be a property key, i.e., [IsPropertyKey](https://262.ecma-international.org/12.0/#sec-ispropertykey) must return true when applied to it.
-   Each such [Record](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type)'s \[\[Value\]\] field must be an ECMAScript value.
-   It must always complete normally (i.e., not return an [abrupt completion](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type)).

The default implementation of HostGetImportMetaProperties is to return a new empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).

## 13.3.12.1.2 HostFinalizeImportMeta ( importMeta, moduleRecord )

The [host-defined](https://262.ecma-international.org/12.0/#host-defined) abstract operation HostFinalizeImportMeta takes arguments importMeta (an Object) and moduleRecord (a [Module Record](https://262.ecma-international.org/12.0/#sec-abstract-module-records)). It allows hosts to perform any extraordinary operations to prepare the object returned from `import.meta`.

Most hosts will be able to simply define [HostGetImportMetaProperties](https://262.ecma-international.org/12.0/#sec-hostgetimportmetaproperties), and leave HostFinalizeImportMeta with its default behaviour. However, HostFinalizeImportMeta provides an "escape hatch" for hosts which need to directly manipulate the object before it is exposed to ECMAScript code.

The implementation of HostFinalizeImportMeta must conform to the following requirements:

-   It must always complete normally (i.e., not return an [abrupt completion](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type)).

The default implementation of HostFinalizeImportMeta is to return [NormalCompletion](https://262.ecma-international.org/12.0/#sec-normalcompletion)(empty).

## 13.4 Update Expressions

## Syntax

[UpdateExpression](https://262.ecma-international.org/12.0/#prod-UpdateExpression)\[Yield, Await\] : [LeftHandSideExpression](https://262.ecma-international.org/12.0/#prod-LeftHandSideExpression)\[?Yield, ?Await\] [LeftHandSideExpression](https://262.ecma-international.org/12.0/#prod-LeftHandSideExpression)\[?Yield, ?Await\] \[no [LineTerminator](https://262.ecma-international.org/12.0/#prod-LineTerminator) here\] ++ [LeftHandSideExpression](https://262.ecma-international.org/12.0/#prod-LeftHandSideExpression)\[?Yield, ?Await\] \[no [LineTerminator](https://262.ecma-international.org/12.0/#prod-LineTerminator) here\] \-- ++ [UnaryExpression](https://262.ecma-international.org/12.0/#prod-UnaryExpression)\[?Yield, ?Await\] \-- [UnaryExpression](https://262.ecma-international.org/12.0/#prod-UnaryExpression)\[?Yield, ?Await\]

## 13.4.1 Static Semantics: Early Errors

[UpdateExpression](https://262.ecma-international.org/12.0/#prod-UpdateExpression) : [LeftHandSideExpression](https://262.ecma-international.org/12.0/#prod-LeftHandSideExpression) ++ [LeftHandSideExpression](https://262.ecma-international.org/12.0/#prod-LeftHandSideExpression) \--

-   It is an early Syntax Error if [AssignmentTargetType](https://262.ecma-international.org/12.0/#sec-static-semantics-assignmenttargettype) of [LeftHandSideExpression](https://262.ecma-international.org/12.0/#prod-LeftHandSideExpression) is not simple.

[UpdateExpression](https://262.ecma-international.org/12.0/#prod-UpdateExpression) : ++ [UnaryExpression](https://262.ecma-international.org/12.0/#prod-UnaryExpression) \-- [UnaryExpression](https://262.ecma-international.org/12.0/#prod-UnaryExpression)

-   It is an early Syntax Error if [AssignmentTargetType](https://262.ecma-international.org/12.0/#sec-static-semantics-assignmenttargettype) of [UnaryExpression](https://262.ecma-international.org/12.0/#prod-UnaryExpression) is not simple.

## 13.4.2 Postfix Increment Operator

## 13.4.2.1 Runtime Semantics: Evaluation

[UpdateExpression](https://262.ecma-international.org/12.0/#prod-UpdateExpression) : [LeftHandSideExpression](https://262.ecma-international.org/12.0/#prod-LeftHandSideExpression) ++

1.  Let lhs be the result of evaluating [LeftHandSideExpression](https://262.ecma-international.org/12.0/#prod-LeftHandSideExpression).
2.  Let oldValue be ? [ToNumeric](https://262.ecma-international.org/12.0/#sec-tonumeric)(? [GetValue](https://262.ecma-international.org/12.0/#sec-getvalue)(lhs)).
3.  Let newValue be ! [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(oldValue)::add(oldValue, [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(oldValue)::unit).
4.  Perform ? [PutValue](https://262.ecma-international.org/12.0/#sec-putvalue)(lhs, newValue).
5.  Return oldValue.

## 13.4.3 Postfix Decrement Operator

## 13.4.3.1 Runtime Semantics: Evaluation

[UpdateExpression](https://262.ecma-international.org/12.0/#prod-UpdateExpression) : [LeftHandSideExpression](https://262.ecma-international.org/12.0/#prod-LeftHandSideExpression) \--

1.  Let lhs be the result of evaluating [LeftHandSideExpression](https://262.ecma-international.org/12.0/#prod-LeftHandSideExpression).
2.  Let oldValue be ? [ToNumeric](https://262.ecma-international.org/12.0/#sec-tonumeric)(? [GetValue](https://262.ecma-international.org/12.0/#sec-getvalue)(lhs)).
3.  Let newValue be ! [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(oldValue)::subtract(oldValue, [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(oldValue)::unit).
4.  Perform ? [PutValue](https://262.ecma-international.org/12.0/#sec-putvalue)(lhs, newValue).
5.  Return oldValue.

## 13.4.4 Prefix Increment Operator

## 13.4.4.1 Runtime Semantics: Evaluation

[UpdateExpression](https://262.ecma-international.org/12.0/#prod-UpdateExpression) : ++ [UnaryExpression](https://262.ecma-international.org/12.0/#prod-UnaryExpression)

1.  Let expr be the result of evaluating [UnaryExpression](https://262.ecma-international.org/12.0/#prod-UnaryExpression).
2.  Let oldValue be ? [ToNumeric](https://262.ecma-international.org/12.0/#sec-tonumeric)(? [GetValue](https://262.ecma-international.org/12.0/#sec-getvalue)(expr)).
3.  Let newValue be ! [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(oldValue)::add(oldValue, [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(oldValue)::unit).
4.  Perform ? [PutValue](https://262.ecma-international.org/12.0/#sec-putvalue)(expr, newValue).
5.  Return newValue.

## 13.4.5 Prefix Decrement Operator

## 13.4.5.1 Runtime Semantics: Evaluation

[UpdateExpression](https://262.ecma-international.org/12.0/#prod-UpdateExpression) : \-- [UnaryExpression](https://262.ecma-international.org/12.0/#prod-UnaryExpression)

1.  Let expr be the result of evaluating [UnaryExpression](https://262.ecma-international.org/12.0/#prod-UnaryExpression).
2.  Let oldValue be ? [ToNumeric](https://262.ecma-international.org/12.0/#sec-tonumeric)(? [GetValue](https://262.ecma-international.org/12.0/#sec-getvalue)(expr)).
3.  Let newValue be ! [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(oldValue)::subtract(oldValue, [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(oldValue)::unit).
4.  Perform ? [PutValue](https://262.ecma-international.org/12.0/#sec-putvalue)(expr, newValue).
5.  Return newValue.

## 13.5 Unary Operators

## Syntax

[UnaryExpression](https://262.ecma-international.org/12.0/#prod-UnaryExpression)\[Yield, Await\] : [UpdateExpression](https://262.ecma-international.org/12.0/#prod-UpdateExpression)\[?Yield, ?Await\] delete [UnaryExpression](https://262.ecma-international.org/12.0/#prod-UnaryExpression)\[?Yield, ?Await\] void [UnaryExpression](https://262.ecma-international.org/12.0/#prod-UnaryExpression)\[?Yield, ?Await\] typeof [UnaryExpression](https://262.ecma-international.org/12.0/#prod-UnaryExpression)\[?Yield, ?Await\] + [UnaryExpression](https://262.ecma-international.org/12.0/#prod-UnaryExpression)\[?Yield, ?Await\] \- [UnaryExpression](https://262.ecma-international.org/12.0/#prod-UnaryExpression)\[?Yield, ?Await\] ~ [UnaryExpression](https://262.ecma-international.org/12.0/#prod-UnaryExpression)\[?Yield, ?Await\] ! [UnaryExpression](https://262.ecma-international.org/12.0/#prod-UnaryExpression)\[?Yield, ?Await\] \[+Await\][AwaitExpression](https://262.ecma-international.org/12.0/#prod-AwaitExpression)\[?Yield\]

## 13.5.1 The `delete` Operator

## 13.5.1.1 Static Semantics: Early Errors

[UnaryExpression](https://262.ecma-international.org/12.0/#prod-UnaryExpression) : delete [UnaryExpression](https://262.ecma-international.org/12.0/#prod-UnaryExpression)

-   It is a Syntax Error if the [UnaryExpression](https://262.ecma-international.org/12.0/#prod-UnaryExpression) is contained in [strict mode code](https://262.ecma-international.org/12.0/#sec-strict-mode-code) and the derived [UnaryExpression](https://262.ecma-international.org/12.0/#prod-UnaryExpression) is [PrimaryExpression](https://262.ecma-international.org/12.0/#prod-PrimaryExpression) : [IdentifierReference](https://262.ecma-international.org/12.0/#prod-IdentifierReference) .
-   It is a Syntax Error if the derived [UnaryExpression](https://262.ecma-international.org/12.0/#prod-UnaryExpression) is  
    [PrimaryExpression](https://262.ecma-international.org/12.0/#prod-PrimaryExpression) : [CoverParenthesizedExpressionAndArrowParameterList](https://262.ecma-international.org/12.0/#prod-CoverParenthesizedExpressionAndArrowParameterList)  
    and [CoverParenthesizedExpressionAndArrowParameterList](https://262.ecma-international.org/12.0/#prod-CoverParenthesizedExpressionAndArrowParameterList) ultimately derives a phrase that, if used in place of [UnaryExpression](https://262.ecma-international.org/12.0/#prod-UnaryExpression), would produce a Syntax Error according to these rules. This rule is recursively applied.
    

Note

The last rule means that expressions such as `delete (((foo)))` produce early errors because of recursive application of the first rule.

## 13.5.1.2 Runtime Semantics: Evaluation

[UnaryExpression](https://262.ecma-international.org/12.0/#prod-UnaryExpression) : delete [UnaryExpression](https://262.ecma-international.org/12.0/#prod-UnaryExpression)

1.  Let ref be the result of evaluating [UnaryExpression](https://262.ecma-international.org/12.0/#prod-UnaryExpression).
2.  [ReturnIfAbrupt](https://262.ecma-international.org/12.0/#sec-returnifabrupt)(ref).
3.  If ref is not a [Reference Record](https://262.ecma-international.org/12.0/#sec-reference-record-specification-type), return true.
4.  If [IsUnresolvableReference](https://262.ecma-international.org/12.0/#sec-isunresolvablereference)(ref) is true, then
    1.  [Assert](https://262.ecma-international.org/12.0/#assert): ref.\[\[Strict\]\] is false.
    2.  Return true.
5.  If [IsPropertyReference](https://262.ecma-international.org/12.0/#sec-ispropertyreference)(ref) is true, then
    1.  If [IsSuperReference](https://262.ecma-international.org/12.0/#sec-issuperreference)(ref) is true, throw a ReferenceError exception.
    2.  Let baseObj be ! [ToObject](https://262.ecma-international.org/12.0/#sec-toobject)(ref.\[\[Base\]\]).
    3.  Let deleteStatus be ? baseObj.\[\[Delete\]\](ref.\[\[ReferencedName\]\]).
    4.  If deleteStatus is false and ref.\[\[Strict\]\] is true, throw a TypeError exception.
    5.  Return deleteStatus.
6.  Else,
    1.  Let base be ref.\[\[Base\]\].
    2.  [Assert](https://262.ecma-international.org/12.0/#assert): base is an [Environment Record](https://262.ecma-international.org/12.0/#sec-environment-records).
    3.  Return ? base.DeleteBinding(ref.\[\[ReferencedName\]\]).

Note 1

When a `delete` operator occurs within [strict mode code](https://262.ecma-international.org/12.0/#sec-strict-mode-code), a SyntaxError exception is thrown if its [UnaryExpression](https://262.ecma-international.org/12.0/#prod-UnaryExpression) is a direct reference to a variable, function argument, or function name. In addition, if a `delete` operator occurs within [strict mode code](https://262.ecma-international.org/12.0/#sec-strict-mode-code) and the property to be deleted has the attribute { \[\[Configurable\]\]: false } (or otherwise cannot be deleted), a TypeError exception is thrown.

Note 2

The object that may be created in step [5.b](https://262.ecma-international.org/12.0/#step-delete-operator-toobject) is not accessible outside of the above abstract operation and the [ordinary object](https://262.ecma-international.org/12.0/#ordinary-object) \[\[Delete\]\] internal method. An implementation might choose to avoid the actual creation of that object.

## 13.5.2 The `void` Operator

## 13.5.2.1 Runtime Semantics: Evaluation

[UnaryExpression](https://262.ecma-international.org/12.0/#prod-UnaryExpression) : void [UnaryExpression](https://262.ecma-international.org/12.0/#prod-UnaryExpression)

1.  Let expr be the result of evaluating [UnaryExpression](https://262.ecma-international.org/12.0/#prod-UnaryExpression).
2.  Perform ? [GetValue](https://262.ecma-international.org/12.0/#sec-getvalue)(expr).
3.  Return undefined.

Note

[GetValue](https://262.ecma-international.org/12.0/#sec-getvalue) must be called even though its value is not used because it may have observable side-effects.

## 13.5.3 The `typeof` Operator

## 13.5.3.1 Runtime Semantics: Evaluation

[UnaryExpression](https://262.ecma-international.org/12.0/#prod-UnaryExpression) : typeof [UnaryExpression](https://262.ecma-international.org/12.0/#prod-UnaryExpression)

1.  Let val be the result of evaluating [UnaryExpression](https://262.ecma-international.org/12.0/#prod-UnaryExpression).
2.  If val is a [Reference Record](https://262.ecma-international.org/12.0/#sec-reference-record-specification-type), then
    1.  If [IsUnresolvableReference](https://262.ecma-international.org/12.0/#sec-isunresolvablereference)(val) is true, return "undefined".
3.  Set val to ? [GetValue](https://262.ecma-international.org/12.0/#sec-getvalue)(val).
4.  Return a String according to [Table 37](https://262.ecma-international.org/12.0/#table-typeof-operator-results).

Table 37: typeof Operator Results

| Type of val | Result |
| --- | --- |
| Undefined | "undefined" |
| Null | "object" |
| Boolean | "boolean" |
| Number | "number" |
| String | "string" |
| Symbol | "symbol" |
| BigInt | "bigint" |
| Object (does not implement \[\[Call\]\]) | "object" |
| Object (implements \[\[Call\]\]) | "function" |

Note

An additional entry related to \[\[IsHTMLDDA\]\] Internal Slot can be found in [B.3.7.3](https://262.ecma-international.org/12.0/#sec-IsHTMLDDA-internal-slot-typeof).

## 13.5.4 Unary `+` Operator

Note

The unary + operator converts its operand to Number type.

## 13.5.4.1 Runtime Semantics: Evaluation

[UnaryExpression](https://262.ecma-international.org/12.0/#prod-UnaryExpression) : + [UnaryExpression](https://262.ecma-international.org/12.0/#prod-UnaryExpression)

1.  Let expr be the result of evaluating [UnaryExpression](https://262.ecma-international.org/12.0/#prod-UnaryExpression).
2.  Return ? [ToNumber](https://262.ecma-international.org/12.0/#sec-tonumber)(? [GetValue](https://262.ecma-international.org/12.0/#sec-getvalue)(expr)).

## 13.5.5 Unary `-` Operator

Note

The unary `-` operator converts its operand to Number type and then negates it. Negating +0𝔽 produces \-0𝔽, and negating \-0𝔽 produces +0𝔽.

## 13.5.5.1 Runtime Semantics: Evaluation

[UnaryExpression](https://262.ecma-international.org/12.0/#prod-UnaryExpression) : \- [UnaryExpression](https://262.ecma-international.org/12.0/#prod-UnaryExpression)

1.  Let expr be the result of evaluating [UnaryExpression](https://262.ecma-international.org/12.0/#prod-UnaryExpression).
2.  Let oldValue be ? [ToNumeric](https://262.ecma-international.org/12.0/#sec-tonumeric)(? [GetValue](https://262.ecma-international.org/12.0/#sec-getvalue)(expr)).
3.  Let T be [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(oldValue).
4.  Return ! T::unaryMinus(oldValue).

## 13.5.6 Bitwise NOT Operator ( `~` )

## 13.5.6.1 Runtime Semantics: Evaluation

[UnaryExpression](https://262.ecma-international.org/12.0/#prod-UnaryExpression) : ~ [UnaryExpression](https://262.ecma-international.org/12.0/#prod-UnaryExpression)

1.  Let expr be the result of evaluating [UnaryExpression](https://262.ecma-international.org/12.0/#prod-UnaryExpression).
2.  Let oldValue be ? [ToNumeric](https://262.ecma-international.org/12.0/#sec-tonumeric)(? [GetValue](https://262.ecma-international.org/12.0/#sec-getvalue)(expr)).
3.  Let T be [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(oldValue).
4.  Return ! T::bitwiseNOT(oldValue).

## 13.5.7 Logical NOT Operator ( `!` )

## 13.5.7.1 Runtime Semantics: Evaluation

[UnaryExpression](https://262.ecma-international.org/12.0/#prod-UnaryExpression) : ! [UnaryExpression](https://262.ecma-international.org/12.0/#prod-UnaryExpression)

1.  Let expr be the result of evaluating [UnaryExpression](https://262.ecma-international.org/12.0/#prod-UnaryExpression).
2.  Let oldValue be ! [ToBoolean](https://262.ecma-international.org/12.0/#sec-toboolean)(? [GetValue](https://262.ecma-international.org/12.0/#sec-getvalue)(expr)).
3.  If oldValue is true, return false.
4.  Return true.

## 13.6 Exponentiation Operator

## Syntax

[ExponentiationExpression](https://262.ecma-international.org/12.0/#prod-ExponentiationExpression)\[Yield, Await\] : [UnaryExpression](https://262.ecma-international.org/12.0/#prod-UnaryExpression)\[?Yield, ?Await\] [UpdateExpression](https://262.ecma-international.org/12.0/#prod-UpdateExpression)\[?Yield, ?Await\] \*\* [ExponentiationExpression](https://262.ecma-international.org/12.0/#prod-ExponentiationExpression)\[?Yield, ?Await\]

## 13.6.1 Runtime Semantics: Evaluation

[ExponentiationExpression](https://262.ecma-international.org/12.0/#prod-ExponentiationExpression) : [UpdateExpression](https://262.ecma-international.org/12.0/#prod-UpdateExpression) \*\* [ExponentiationExpression](https://262.ecma-international.org/12.0/#prod-ExponentiationExpression)

1.  Return ? [EvaluateStringOrNumericBinaryExpression](https://262.ecma-international.org/12.0/#sec-evaluatestringornumericbinaryexpression)([UpdateExpression](https://262.ecma-international.org/12.0/#prod-UpdateExpression), `**`, [ExponentiationExpression](https://262.ecma-international.org/12.0/#prod-ExponentiationExpression)).

## 13.7 Multiplicative Operators

## Syntax

[MultiplicativeExpression](https://262.ecma-international.org/12.0/#prod-MultiplicativeExpression)\[Yield, Await\] : [ExponentiationExpression](https://262.ecma-international.org/12.0/#prod-ExponentiationExpression)\[?Yield, ?Await\] [MultiplicativeExpression](https://262.ecma-international.org/12.0/#prod-MultiplicativeExpression)\[?Yield, ?Await\] [MultiplicativeOperator](https://262.ecma-international.org/12.0/#prod-MultiplicativeOperator) [ExponentiationExpression](https://262.ecma-international.org/12.0/#prod-ExponentiationExpression)\[?Yield, ?Await\] [MultiplicativeOperator](https://262.ecma-international.org/12.0/#prod-MultiplicativeOperator) : one of \* / % Note

-   The `*` operator performs multiplication, producing the product of its operands.
-   The `/` operator performs division, producing the quotient of its operands.
-   The `%` operator yields the remainder of its operands from an implied division.

## 13.7.1 Runtime Semantics: Evaluation

[MultiplicativeExpression](https://262.ecma-international.org/12.0/#prod-MultiplicativeExpression) : [MultiplicativeExpression](https://262.ecma-international.org/12.0/#prod-MultiplicativeExpression) [MultiplicativeOperator](https://262.ecma-international.org/12.0/#prod-MultiplicativeOperator) [ExponentiationExpression](https://262.ecma-international.org/12.0/#prod-ExponentiationExpression)

1.  Let opText be the [source text matched by](https://262.ecma-international.org/12.0/#sec-algorithm-conventions-syntax-directed-operations) [MultiplicativeOperator](https://262.ecma-international.org/12.0/#prod-MultiplicativeOperator).
2.  Return ? [EvaluateStringOrNumericBinaryExpression](https://262.ecma-international.org/12.0/#sec-evaluatestringornumericbinaryexpression)([MultiplicativeExpression](https://262.ecma-international.org/12.0/#prod-MultiplicativeExpression), opText, [ExponentiationExpression](https://262.ecma-international.org/12.0/#prod-ExponentiationExpression)).

## 13.8 Additive Operators

## Syntax

[AdditiveExpression](https://262.ecma-international.org/12.0/#prod-AdditiveExpression)\[Yield, Await\] : [MultiplicativeExpression](https://262.ecma-international.org/12.0/#prod-MultiplicativeExpression)\[?Yield, ?Await\] [AdditiveExpression](https://262.ecma-international.org/12.0/#prod-AdditiveExpression)\[?Yield, ?Await\] + [MultiplicativeExpression](https://262.ecma-international.org/12.0/#prod-MultiplicativeExpression)\[?Yield, ?Await\] [AdditiveExpression](https://262.ecma-international.org/12.0/#prod-AdditiveExpression)\[?Yield, ?Await\] \- [MultiplicativeExpression](https://262.ecma-international.org/12.0/#prod-MultiplicativeExpression)\[?Yield, ?Await\]

## 13.8.1 The Addition Operator ( `+` )

Note

The addition operator either performs string concatenation or numeric addition.

## 13.8.1.1 Runtime Semantics: Evaluation

[AdditiveExpression](https://262.ecma-international.org/12.0/#prod-AdditiveExpression) : [AdditiveExpression](https://262.ecma-international.org/12.0/#prod-AdditiveExpression) + [MultiplicativeExpression](https://262.ecma-international.org/12.0/#prod-MultiplicativeExpression)

1.  Return ? [EvaluateStringOrNumericBinaryExpression](https://262.ecma-international.org/12.0/#sec-evaluatestringornumericbinaryexpression)([AdditiveExpression](https://262.ecma-international.org/12.0/#prod-AdditiveExpression), `+`, [MultiplicativeExpression](https://262.ecma-international.org/12.0/#prod-MultiplicativeExpression)).

## 13.8.2 The Subtraction Operator ( `-` )

Note

The `-` operator performs subtraction, producing the difference of its operands.

## 13.8.2.1 Runtime Semantics: Evaluation

[AdditiveExpression](https://262.ecma-international.org/12.0/#prod-AdditiveExpression) : [AdditiveExpression](https://262.ecma-international.org/12.0/#prod-AdditiveExpression) \- [MultiplicativeExpression](https://262.ecma-international.org/12.0/#prod-MultiplicativeExpression)

1.  Return ? [EvaluateStringOrNumericBinaryExpression](https://262.ecma-international.org/12.0/#sec-evaluatestringornumericbinaryexpression)([AdditiveExpression](https://262.ecma-international.org/12.0/#prod-AdditiveExpression), `-`, [MultiplicativeExpression](https://262.ecma-international.org/12.0/#prod-MultiplicativeExpression)).

## 13.9 Bitwise Shift Operators

## Syntax

[ShiftExpression](https://262.ecma-international.org/12.0/#prod-ShiftExpression)\[Yield, Await\] : [AdditiveExpression](https://262.ecma-international.org/12.0/#prod-AdditiveExpression)\[?Yield, ?Await\] [ShiftExpression](https://262.ecma-international.org/12.0/#prod-ShiftExpression)\[?Yield, ?Await\] << [AdditiveExpression](https://262.ecma-international.org/12.0/#prod-AdditiveExpression)\[?Yield, ?Await\] [ShiftExpression](https://262.ecma-international.org/12.0/#prod-ShiftExpression)\[?Yield, ?Await\] \>> [AdditiveExpression](https://262.ecma-international.org/12.0/#prod-AdditiveExpression)\[?Yield, ?Await\] [ShiftExpression](https://262.ecma-international.org/12.0/#prod-ShiftExpression)\[?Yield, ?Await\] \>>> [AdditiveExpression](https://262.ecma-international.org/12.0/#prod-AdditiveExpression)\[?Yield, ?Await\]

## 13.9.1 The Left Shift Operator ( `<<` )

Note

Performs a bitwise left shift operation on the left operand by the amount specified by the right operand.

## 13.9.1.1 Runtime Semantics: Evaluation

[ShiftExpression](https://262.ecma-international.org/12.0/#prod-ShiftExpression) : [ShiftExpression](https://262.ecma-international.org/12.0/#prod-ShiftExpression) << [AdditiveExpression](https://262.ecma-international.org/12.0/#prod-AdditiveExpression)

1.  Return ? [EvaluateStringOrNumericBinaryExpression](https://262.ecma-international.org/12.0/#sec-evaluatestringornumericbinaryexpression)([ShiftExpression](https://262.ecma-international.org/12.0/#prod-ShiftExpression), `<<`, [AdditiveExpression](https://262.ecma-international.org/12.0/#prod-AdditiveExpression)).

## 13.9.2 The Signed Right Shift Operator ( `>>` )

Note

Performs a sign-filling bitwise right shift operation on the left operand by the amount specified by the right operand.

## 13.9.2.1 Runtime Semantics: Evaluation

[ShiftExpression](https://262.ecma-international.org/12.0/#prod-ShiftExpression) : [ShiftExpression](https://262.ecma-international.org/12.0/#prod-ShiftExpression) \>> [AdditiveExpression](https://262.ecma-international.org/12.0/#prod-AdditiveExpression)

1.  Return ? [EvaluateStringOrNumericBinaryExpression](https://262.ecma-international.org/12.0/#sec-evaluatestringornumericbinaryexpression)([ShiftExpression](https://262.ecma-international.org/12.0/#prod-ShiftExpression), `>>`, [AdditiveExpression](https://262.ecma-international.org/12.0/#prod-AdditiveExpression)).

## 13.9.3 The Unsigned Right Shift Operator ( `>>>` )

Note

Performs a zero-filling bitwise right shift operation on the left operand by the amount specified by the right operand.

## 13.9.3.1 Runtime Semantics: Evaluation

[ShiftExpression](https://262.ecma-international.org/12.0/#prod-ShiftExpression) : [ShiftExpression](https://262.ecma-international.org/12.0/#prod-ShiftExpression) \>>> [AdditiveExpression](https://262.ecma-international.org/12.0/#prod-AdditiveExpression)

1.  Return ? [EvaluateStringOrNumericBinaryExpression](https://262.ecma-international.org/12.0/#sec-evaluatestringornumericbinaryexpression)([ShiftExpression](https://262.ecma-international.org/12.0/#prod-ShiftExpression), `>>>`, [AdditiveExpression](https://262.ecma-international.org/12.0/#prod-AdditiveExpression)).

## 13.10 Relational Operators

Note 1

The result of evaluating a relational operator is always of type Boolean, reflecting whether the relationship named by the operator holds between its two operands.

## Syntax

[RelationalExpression](https://262.ecma-international.org/12.0/#prod-RelationalExpression)\[In, Yield, Await\] : [ShiftExpression](https://262.ecma-international.org/12.0/#prod-ShiftExpression)\[?Yield, ?Await\] [RelationalExpression](https://262.ecma-international.org/12.0/#prod-RelationalExpression)\[?In, ?Yield, ?Await\] < [ShiftExpression](https://262.ecma-international.org/12.0/#prod-ShiftExpression)\[?Yield, ?Await\] [RelationalExpression](https://262.ecma-international.org/12.0/#prod-RelationalExpression)\[?In, ?Yield, ?Await\] \> [ShiftExpression](https://262.ecma-international.org/12.0/#prod-ShiftExpression)\[?Yield, ?Await\] [RelationalExpression](https://262.ecma-international.org/12.0/#prod-RelationalExpression)\[?In, ?Yield, ?Await\] <= [ShiftExpression](https://262.ecma-international.org/12.0/#prod-ShiftExpression)\[?Yield, ?Await\] [RelationalExpression](https://262.ecma-international.org/12.0/#prod-RelationalExpression)\[?In, ?Yield, ?Await\] \>= [ShiftExpression](https://262.ecma-international.org/12.0/#prod-ShiftExpression)\[?Yield, ?Await\] [RelationalExpression](https://262.ecma-international.org/12.0/#prod-RelationalExpression)\[?In, ?Yield, ?Await\] instanceof [ShiftExpression](https://262.ecma-international.org/12.0/#prod-ShiftExpression)\[?Yield, ?Await\] \[+In\] [RelationalExpression](https://262.ecma-international.org/12.0/#prod-RelationalExpression)\[+In, ?Yield, ?Await\] in [ShiftExpression](https://262.ecma-international.org/12.0/#prod-ShiftExpression)\[?Yield, ?Await\] Note 2

The \[In\] grammar parameter is needed to avoid confusing the `in` operator in a relational expression with the `in` operator in a `for` statement.

## 13.10.1 Runtime Semantics: Evaluation

[RelationalExpression](https://262.ecma-international.org/12.0/#prod-RelationalExpression) : [RelationalExpression](https://262.ecma-international.org/12.0/#prod-RelationalExpression) < [ShiftExpression](https://262.ecma-international.org/12.0/#prod-ShiftExpression)

1.  Let lref be the result of evaluating [RelationalExpression](https://262.ecma-international.org/12.0/#prod-RelationalExpression).
2.  Let lval be ? [GetValue](https://262.ecma-international.org/12.0/#sec-getvalue)(lref).
3.  Let rref be the result of evaluating [ShiftExpression](https://262.ecma-international.org/12.0/#prod-ShiftExpression).
4.  Let rval be ? [GetValue](https://262.ecma-international.org/12.0/#sec-getvalue)(rref).
5.  Let r be the result of performing [Abstract Relational Comparison](https://262.ecma-international.org/12.0/#sec-abstract-relational-comparison) lval < rval.
6.  [ReturnIfAbrupt](https://262.ecma-international.org/12.0/#sec-returnifabrupt)(r).
7.  If r is undefined, return false. Otherwise, return r.

[RelationalExpression](https://262.ecma-international.org/12.0/#prod-RelationalExpression) : [RelationalExpression](https://262.ecma-international.org/12.0/#prod-RelationalExpression) \> [ShiftExpression](https://262.ecma-international.org/12.0/#prod-ShiftExpression)

1.  Let lref be the result of evaluating [RelationalExpression](https://262.ecma-international.org/12.0/#prod-RelationalExpression).
2.  Let lval be ? [GetValue](https://262.ecma-international.org/12.0/#sec-getvalue)(lref).
3.  Let rref be the result of evaluating [ShiftExpression](https://262.ecma-international.org/12.0/#prod-ShiftExpression).
4.  Let rval be ? [GetValue](https://262.ecma-international.org/12.0/#sec-getvalue)(rref).
5.  Let r be the result of performing [Abstract Relational Comparison](https://262.ecma-international.org/12.0/#sec-abstract-relational-comparison) rval < lval with LeftFirst equal to false.
6.  [ReturnIfAbrupt](https://262.ecma-international.org/12.0/#sec-returnifabrupt)(r).
7.  If r is undefined, return false. Otherwise, return r.

[RelationalExpression](https://262.ecma-international.org/12.0/#prod-RelationalExpression) : [RelationalExpression](https://262.ecma-international.org/12.0/#prod-RelationalExpression) <= [ShiftExpression](https://262.ecma-international.org/12.0/#prod-ShiftExpression)

1.  Let lref be the result of evaluating [RelationalExpression](https://262.ecma-international.org/12.0/#prod-RelationalExpression).
2.  Let lval be ? [GetValue](https://262.ecma-international.org/12.0/#sec-getvalue)(lref).
3.  Let rref be the result of evaluating [ShiftExpression](https://262.ecma-international.org/12.0/#prod-ShiftExpression).
4.  Let rval be ? [GetValue](https://262.ecma-international.org/12.0/#sec-getvalue)(rref).
5.  Let r be the result of performing [Abstract Relational Comparison](https://262.ecma-international.org/12.0/#sec-abstract-relational-comparison) rval < lval with LeftFirst equal to false.
6.  [ReturnIfAbrupt](https://262.ecma-international.org/12.0/#sec-returnifabrupt)(r).
7.  If r is true or undefined, return false. Otherwise, return true.

[RelationalExpression](https://262.ecma-international.org/12.0/#prod-RelationalExpression) : [RelationalExpression](https://262.ecma-international.org/12.0/#prod-RelationalExpression) \>= [ShiftExpression](https://262.ecma-international.org/12.0/#prod-ShiftExpression)

1.  Let lref be the result of evaluating [RelationalExpression](https://262.ecma-international.org/12.0/#prod-RelationalExpression).
2.  Let lval be ? [GetValue](https://262.ecma-international.org/12.0/#sec-getvalue)(lref).
3.  Let rref be the result of evaluating [ShiftExpression](https://262.ecma-international.org/12.0/#prod-ShiftExpression).
4.  Let rval be ? [GetValue](https://262.ecma-international.org/12.0/#sec-getvalue)(rref).
5.  Let r be the result of performing [Abstract Relational Comparison](https://262.ecma-international.org/12.0/#sec-abstract-relational-comparison) lval < rval.
6.  [ReturnIfAbrupt](https://262.ecma-international.org/12.0/#sec-returnifabrupt)(r).
7.  If r is true or undefined, return false. Otherwise, return true.

[RelationalExpression](https://262.ecma-international.org/12.0/#prod-RelationalExpression) : [RelationalExpression](https://262.ecma-international.org/12.0/#prod-RelationalExpression) instanceof [ShiftExpression](https://262.ecma-international.org/12.0/#prod-ShiftExpression)

1.  Let lref be the result of evaluating [RelationalExpression](https://262.ecma-international.org/12.0/#prod-RelationalExpression).
2.  Let lval be ? [GetValue](https://262.ecma-international.org/12.0/#sec-getvalue)(lref).
3.  Let rref be the result of evaluating [ShiftExpression](https://262.ecma-international.org/12.0/#prod-ShiftExpression).
4.  Let rval be ? [GetValue](https://262.ecma-international.org/12.0/#sec-getvalue)(rref).
5.  Return ? [InstanceofOperator](https://262.ecma-international.org/12.0/#sec-instanceofoperator)(lval, rval).

[RelationalExpression](https://262.ecma-international.org/12.0/#prod-RelationalExpression) : [RelationalExpression](https://262.ecma-international.org/12.0/#prod-RelationalExpression) in [ShiftExpression](https://262.ecma-international.org/12.0/#prod-ShiftExpression)

1.  Let lref be the result of evaluating [RelationalExpression](https://262.ecma-international.org/12.0/#prod-RelationalExpression).
2.  Let lval be ? [GetValue](https://262.ecma-international.org/12.0/#sec-getvalue)(lref).
3.  Let rref be the result of evaluating [ShiftExpression](https://262.ecma-international.org/12.0/#prod-ShiftExpression).
4.  Let rval be ? [GetValue](https://262.ecma-international.org/12.0/#sec-getvalue)(rref).
5.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(rval) is not Object, throw a TypeError exception.
6.  Return ? [HasProperty](https://262.ecma-international.org/12.0/#sec-hasproperty)(rval, ? [ToPropertyKey](https://262.ecma-international.org/12.0/#sec-topropertykey)(lval)).

## 13.10.2 InstanceofOperator ( V, target )

The abstract operation InstanceofOperator takes arguments V (an [ECMAScript language value](https://262.ecma-international.org/12.0/#sec-ecmascript-language-types)) and target (an [ECMAScript language value](https://262.ecma-international.org/12.0/#sec-ecmascript-language-types)). It implements the generic algorithm for determining if V is an instance of target either by consulting target's [@@hasInstance](https://262.ecma-international.org/12.0/#sec-well-known-symbols) method or, if absent, determining whether the value of target's "prototype" property is present in V's prototype chain. It performs the following steps when called:

1.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(target) is not Object, throw a TypeError exception.
2.  Let instOfHandler be ? [GetMethod](https://262.ecma-international.org/12.0/#sec-getmethod)(target, [@@hasInstance](https://262.ecma-international.org/12.0/#sec-well-known-symbols)).
3.  If instOfHandler is not undefined, then
    1.  Return ! [ToBoolean](https://262.ecma-international.org/12.0/#sec-toboolean)(? [Call](https://262.ecma-international.org/12.0/#sec-call)(instOfHandler, target, « V »)).
4.  If [IsCallable](https://262.ecma-international.org/12.0/#sec-iscallable)(target) is false, throw a TypeError exception.
5.  Return ? [OrdinaryHasInstance](https://262.ecma-international.org/12.0/#sec-ordinaryhasinstance)(target, V).

Note

Steps [4](https://262.ecma-international.org/12.0/#step-instanceof-check-function) and [5](https://262.ecma-international.org/12.0/#step-instanceof-fallback) provide compatibility with previous editions of ECMAScript that did not use a [@@hasInstance](https://262.ecma-international.org/12.0/#sec-well-known-symbols) method to define the `instanceof` operator semantics. If an object does not define or inherit [@@hasInstance](https://262.ecma-international.org/12.0/#sec-well-known-symbols) it uses the default `instanceof` semantics.

## 13.11 Equality Operators

Note

The result of evaluating an equality operator is always of type Boolean, reflecting whether the relationship named by the operator holds between its two operands.

## Syntax

[EqualityExpression](https://262.ecma-international.org/12.0/#prod-EqualityExpression)\[In, Yield, Await\] : [RelationalExpression](https://262.ecma-international.org/12.0/#prod-RelationalExpression)\[?In, ?Yield, ?Await\] [EqualityExpression](https://262.ecma-international.org/12.0/#prod-EqualityExpression)\[?In, ?Yield, ?Await\] \== [RelationalExpression](https://262.ecma-international.org/12.0/#prod-RelationalExpression)\[?In, ?Yield, ?Await\] [EqualityExpression](https://262.ecma-international.org/12.0/#prod-EqualityExpression)\[?In, ?Yield, ?Await\] != [RelationalExpression](https://262.ecma-international.org/12.0/#prod-RelationalExpression)\[?In, ?Yield, ?Await\] [EqualityExpression](https://262.ecma-international.org/12.0/#prod-EqualityExpression)\[?In, ?Yield, ?Await\] \=== [RelationalExpression](https://262.ecma-international.org/12.0/#prod-RelationalExpression)\[?In, ?Yield, ?Await\] [EqualityExpression](https://262.ecma-international.org/12.0/#prod-EqualityExpression)\[?In, ?Yield, ?Await\] !== [RelationalExpression](https://262.ecma-international.org/12.0/#prod-RelationalExpression)\[?In, ?Yield, ?Await\]

## 13.11.1 Runtime Semantics: Evaluation

[EqualityExpression](https://262.ecma-international.org/12.0/#prod-EqualityExpression) : [EqualityExpression](https://262.ecma-international.org/12.0/#prod-EqualityExpression) \== [RelationalExpression](https://262.ecma-international.org/12.0/#prod-RelationalExpression)

1.  Let lref be the result of evaluating [EqualityExpression](https://262.ecma-international.org/12.0/#prod-EqualityExpression).
2.  Let lval be ? [GetValue](https://262.ecma-international.org/12.0/#sec-getvalue)(lref).
3.  Let rref be the result of evaluating [RelationalExpression](https://262.ecma-international.org/12.0/#prod-RelationalExpression).
4.  Let rval be ? [GetValue](https://262.ecma-international.org/12.0/#sec-getvalue)(rref).
5.  Return the result of performing [Abstract Equality Comparison](https://262.ecma-international.org/12.0/#sec-abstract-equality-comparison) rval == lval.

[EqualityExpression](https://262.ecma-international.org/12.0/#prod-EqualityExpression) : [EqualityExpression](https://262.ecma-international.org/12.0/#prod-EqualityExpression) != [RelationalExpression](https://262.ecma-international.org/12.0/#prod-RelationalExpression)

1.  Let lref be the result of evaluating [EqualityExpression](https://262.ecma-international.org/12.0/#prod-EqualityExpression).
2.  Let lval be ? [GetValue](https://262.ecma-international.org/12.0/#sec-getvalue)(lref).
3.  Let rref be the result of evaluating [RelationalExpression](https://262.ecma-international.org/12.0/#prod-RelationalExpression).
4.  Let rval be ? [GetValue](https://262.ecma-international.org/12.0/#sec-getvalue)(rref).
5.  Let r be the result of performing [Abstract Equality Comparison](https://262.ecma-international.org/12.0/#sec-abstract-equality-comparison) rval == lval.
6.  [ReturnIfAbrupt](https://262.ecma-international.org/12.0/#sec-returnifabrupt)(r).
7.  If r is true, return false. Otherwise, return true.

[EqualityExpression](https://262.ecma-international.org/12.0/#prod-EqualityExpression) : [EqualityExpression](https://262.ecma-international.org/12.0/#prod-EqualityExpression) \=== [RelationalExpression](https://262.ecma-international.org/12.0/#prod-RelationalExpression)

1.  Let lref be the result of evaluating [EqualityExpression](https://262.ecma-international.org/12.0/#prod-EqualityExpression).
2.  Let lval be ? [GetValue](https://262.ecma-international.org/12.0/#sec-getvalue)(lref).
3.  Let rref be the result of evaluating [RelationalExpression](https://262.ecma-international.org/12.0/#prod-RelationalExpression).
4.  Let rval be ? [GetValue](https://262.ecma-international.org/12.0/#sec-getvalue)(rref).
5.  Return the result of performing [Strict Equality Comparison](https://262.ecma-international.org/12.0/#sec-strict-equality-comparison) rval === lval.

[EqualityExpression](https://262.ecma-international.org/12.0/#prod-EqualityExpression) : [EqualityExpression](https://262.ecma-international.org/12.0/#prod-EqualityExpression) !== [RelationalExpression](https://262.ecma-international.org/12.0/#prod-RelationalExpression)

1.  Let lref be the result of evaluating [EqualityExpression](https://262.ecma-international.org/12.0/#prod-EqualityExpression).
2.  Let lval be ? [GetValue](https://262.ecma-international.org/12.0/#sec-getvalue)(lref).
3.  Let rref be the result of evaluating [RelationalExpression](https://262.ecma-international.org/12.0/#prod-RelationalExpression).
4.  Let rval be ? [GetValue](https://262.ecma-international.org/12.0/#sec-getvalue)(rref).
5.  Let r be the result of performing [Strict Equality Comparison](https://262.ecma-international.org/12.0/#sec-strict-equality-comparison) rval === lval.
6.  [Assert](https://262.ecma-international.org/12.0/#assert): r is a normal completion.
7.  If r.\[\[Value\]\] is true, return false. Otherwise, return true.

Note 1

Given the above definition of equality:

-   String comparison can be forced by: `` `${a}` == `${b}` ``.
-   Numeric comparison can be forced by: `+a == +b`.
-   Boolean comparison can be forced by: `!a == !b`.

Note 2

The equality operators maintain the following invariants:

-   `A != B` is equivalent to `!(A == B)`.
-   `A == B` is equivalent to `B == A`, except in the order of evaluation of `A` and `B`.

Note 3

The equality operator is not always transitive. For example, there might be two distinct String objects, each representing the same String value; each String object would be considered equal to the String value by the `==` operator, but the two String objects would not be equal to each other. For example:

-   `new String("a") == "a"` and `"a" == new String("a")` are both true.
-   `new String("a") == new String("a")` is false.

Note 4

Comparison of Strings uses a simple equality test on sequences of code unit values. There is no attempt to use the more complex, semantically oriented definitions of character or string equality and collating order defined in the Unicode specification. Therefore Strings values that are canonically equal according to the Unicode standard could test as unequal. In effect this algorithm assumes that both Strings are already in normalized form.

## 13.12 Binary Bitwise Operators

## Syntax

[BitwiseANDExpression](https://262.ecma-international.org/12.0/#prod-BitwiseANDExpression)\[In, Yield, Await\] : [EqualityExpression](https://262.ecma-international.org/12.0/#prod-EqualityExpression)\[?In, ?Yield, ?Await\] [BitwiseANDExpression](https://262.ecma-international.org/12.0/#prod-BitwiseANDExpression)\[?In, ?Yield, ?Await\] & [EqualityExpression](https://262.ecma-international.org/12.0/#prod-EqualityExpression)\[?In, ?Yield, ?Await\] [BitwiseXORExpression](https://262.ecma-international.org/12.0/#prod-BitwiseXORExpression)\[In, Yield, Await\] : [BitwiseANDExpression](https://262.ecma-international.org/12.0/#prod-BitwiseANDExpression)\[?In, ?Yield, ?Await\] [BitwiseXORExpression](https://262.ecma-international.org/12.0/#prod-BitwiseXORExpression)\[?In, ?Yield, ?Await\] ^ [BitwiseANDExpression](https://262.ecma-international.org/12.0/#prod-BitwiseANDExpression)\[?In, ?Yield, ?Await\] [BitwiseORExpression](https://262.ecma-international.org/12.0/#prod-BitwiseORExpression)\[In, Yield, Await\] : [BitwiseXORExpression](https://262.ecma-international.org/12.0/#prod-BitwiseXORExpression)\[?In, ?Yield, ?Await\] [BitwiseORExpression](https://262.ecma-international.org/12.0/#prod-BitwiseORExpression)\[?In, ?Yield, ?Await\] | [BitwiseXORExpression](https://262.ecma-international.org/12.0/#prod-BitwiseXORExpression)\[?In, ?Yield, ?Await\]

## 13.12.1 Runtime Semantics: Evaluation

[BitwiseANDExpression](https://262.ecma-international.org/12.0/#prod-BitwiseANDExpression) : [BitwiseANDExpression](https://262.ecma-international.org/12.0/#prod-BitwiseANDExpression) & [EqualityExpression](https://262.ecma-international.org/12.0/#prod-EqualityExpression)

1.  Return ? [EvaluateStringOrNumericBinaryExpression](https://262.ecma-international.org/12.0/#sec-evaluatestringornumericbinaryexpression)([BitwiseANDExpression](https://262.ecma-international.org/12.0/#prod-BitwiseANDExpression), `&`, [EqualityExpression](https://262.ecma-international.org/12.0/#prod-EqualityExpression)).

[BitwiseXORExpression](https://262.ecma-international.org/12.0/#prod-BitwiseXORExpression) : [BitwiseXORExpression](https://262.ecma-international.org/12.0/#prod-BitwiseXORExpression) ^ [BitwiseANDExpression](https://262.ecma-international.org/12.0/#prod-BitwiseANDExpression)

1.  Return ? [EvaluateStringOrNumericBinaryExpression](https://262.ecma-international.org/12.0/#sec-evaluatestringornumericbinaryexpression)([BitwiseXORExpression](https://262.ecma-international.org/12.0/#prod-BitwiseXORExpression), `^`, [BitwiseANDExpression](https://262.ecma-international.org/12.0/#prod-BitwiseANDExpression)).

[BitwiseORExpression](https://262.ecma-international.org/12.0/#prod-BitwiseORExpression) : [BitwiseORExpression](https://262.ecma-international.org/12.0/#prod-BitwiseORExpression) | [BitwiseXORExpression](https://262.ecma-international.org/12.0/#prod-BitwiseXORExpression)

1.  Return ? [EvaluateStringOrNumericBinaryExpression](https://262.ecma-international.org/12.0/#sec-evaluatestringornumericbinaryexpression)([BitwiseORExpression](https://262.ecma-international.org/12.0/#prod-BitwiseORExpression), `|`, [BitwiseXORExpression](https://262.ecma-international.org/12.0/#prod-BitwiseXORExpression)).

## 13.13 Binary Logical Operators

## Syntax

[LogicalANDExpression](https://262.ecma-international.org/12.0/#prod-LogicalANDExpression)\[In, Yield, Await\] : [BitwiseORExpression](https://262.ecma-international.org/12.0/#prod-BitwiseORExpression)\[?In, ?Yield, ?Await\] [LogicalANDExpression](https://262.ecma-international.org/12.0/#prod-LogicalANDExpression)\[?In, ?Yield, ?Await\] && [BitwiseORExpression](https://262.ecma-international.org/12.0/#prod-BitwiseORExpression)\[?In, ?Yield, ?Await\] [LogicalORExpression](https://262.ecma-international.org/12.0/#prod-LogicalORExpression)\[In, Yield, Await\] : [LogicalANDExpression](https://262.ecma-international.org/12.0/#prod-LogicalANDExpression)\[?In, ?Yield, ?Await\] [LogicalORExpression](https://262.ecma-international.org/12.0/#prod-LogicalORExpression)\[?In, ?Yield, ?Await\] || [LogicalANDExpression](https://262.ecma-international.org/12.0/#prod-LogicalANDExpression)\[?In, ?Yield, ?Await\] [CoalesceExpression](https://262.ecma-international.org/12.0/#prod-CoalesceExpression)\[In, Yield, Await\] : [CoalesceExpressionHead](https://262.ecma-international.org/12.0/#prod-CoalesceExpressionHead)\[?In, ?Yield, ?Await\] ?? [BitwiseORExpression](https://262.ecma-international.org/12.0/#prod-BitwiseORExpression)\[?In, ?Yield, ?Await\] [CoalesceExpressionHead](https://262.ecma-international.org/12.0/#prod-CoalesceExpressionHead)\[In, Yield, Await\] : [CoalesceExpression](https://262.ecma-international.org/12.0/#prod-CoalesceExpression)\[?In, ?Yield, ?Await\] [BitwiseORExpression](https://262.ecma-international.org/12.0/#prod-BitwiseORExpression)\[?In, ?Yield, ?Await\] [ShortCircuitExpression](https://262.ecma-international.org/12.0/#prod-ShortCircuitExpression)\[In, Yield, Await\] : [LogicalORExpression](https://262.ecma-international.org/12.0/#prod-LogicalORExpression)\[?In, ?Yield, ?Await\] [CoalesceExpression](https://262.ecma-international.org/12.0/#prod-CoalesceExpression)\[?In, ?Yield, ?Await\] Note

The value produced by a `&&` or `||` operator is not necessarily of type Boolean. The value produced will always be the value of one of the two operand expressions.

## 13.13.1 Runtime Semantics: Evaluation

[LogicalANDExpression](https://262.ecma-international.org/12.0/#prod-LogicalANDExpression) : [LogicalANDExpression](https://262.ecma-international.org/12.0/#prod-LogicalANDExpression) && [BitwiseORExpression](https://262.ecma-international.org/12.0/#prod-BitwiseORExpression)

1.  Let lref be the result of evaluating [LogicalANDExpression](https://262.ecma-international.org/12.0/#prod-LogicalANDExpression).
2.  Let lval be ? [GetValue](https://262.ecma-international.org/12.0/#sec-getvalue)(lref).
3.  Let lbool be ! [ToBoolean](https://262.ecma-international.org/12.0/#sec-toboolean)(lval).
4.  If lbool is false, return lval.
5.  Let rref be the result of evaluating [BitwiseORExpression](https://262.ecma-international.org/12.0/#prod-BitwiseORExpression).
6.  Return ? [GetValue](https://262.ecma-international.org/12.0/#sec-getvalue)(rref).

[LogicalORExpression](https://262.ecma-international.org/12.0/#prod-LogicalORExpression) : [LogicalORExpression](https://262.ecma-international.org/12.0/#prod-LogicalORExpression) || [LogicalANDExpression](https://262.ecma-international.org/12.0/#prod-LogicalANDExpression)

1.  Let lref be the result of evaluating [LogicalORExpression](https://262.ecma-international.org/12.0/#prod-LogicalORExpression).
2.  Let lval be ? [GetValue](https://262.ecma-international.org/12.0/#sec-getvalue)(lref).
3.  Let lbool be ! [ToBoolean](https://262.ecma-international.org/12.0/#sec-toboolean)(lval).
4.  If lbool is true, return lval.
5.  Let rref be the result of evaluating [LogicalANDExpression](https://262.ecma-international.org/12.0/#prod-LogicalANDExpression).
6.  Return ? [GetValue](https://262.ecma-international.org/12.0/#sec-getvalue)(rref).

[CoalesceExpression](https://262.ecma-international.org/12.0/#prod-CoalesceExpression) : [CoalesceExpressionHead](https://262.ecma-international.org/12.0/#prod-CoalesceExpressionHead) ?? [BitwiseORExpression](https://262.ecma-international.org/12.0/#prod-BitwiseORExpression)

1.  Let lref be the result of evaluating [CoalesceExpressionHead](https://262.ecma-international.org/12.0/#prod-CoalesceExpressionHead).
2.  Let lval be ? [GetValue](https://262.ecma-international.org/12.0/#sec-getvalue)(lref).
3.  If lval is undefined or null, then
    1.  Let rref be the result of evaluating [BitwiseORExpression](https://262.ecma-international.org/12.0/#prod-BitwiseORExpression).
    2.  Return ? [GetValue](https://262.ecma-international.org/12.0/#sec-getvalue)(rref).
4.  Otherwise, return lval.

## 13.14 Conditional Operator ( `? :` )

## Syntax

[ConditionalExpression](https://262.ecma-international.org/12.0/#prod-ConditionalExpression)\[In, Yield, Await\] : [ShortCircuitExpression](https://262.ecma-international.org/12.0/#prod-ShortCircuitExpression)\[?In, ?Yield, ?Await\] [ShortCircuitExpression](https://262.ecma-international.org/12.0/#prod-ShortCircuitExpression)\[?In, ?Yield, ?Await\] ? [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression)\[+In, ?Yield, ?Await\] : [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression)\[?In, ?Yield, ?Await\] Note

The grammar for a [ConditionalExpression](https://262.ecma-international.org/12.0/#prod-ConditionalExpression) in ECMAScript is slightly different from that in C and Java, which each allow the second subexpression to be an [Expression](https://262.ecma-international.org/12.0/#prod-Expression) but restrict the third expression to be a [ConditionalExpression](https://262.ecma-international.org/12.0/#prod-ConditionalExpression). The motivation for this difference in ECMAScript is to allow an assignment expression to be governed by either arm of a conditional and to eliminate the confusing and fairly useless case of a comma expression as the centre expression.

## 13.14.1 Runtime Semantics: Evaluation

[ConditionalExpression](https://262.ecma-international.org/12.0/#prod-ConditionalExpression) : [ShortCircuitExpression](https://262.ecma-international.org/12.0/#prod-ShortCircuitExpression) ? [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression) : [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression)

1.  Let lref be the result of evaluating [ShortCircuitExpression](https://262.ecma-international.org/12.0/#prod-ShortCircuitExpression).
2.  Let lval be ! [ToBoolean](https://262.ecma-international.org/12.0/#sec-toboolean)(? [GetValue](https://262.ecma-international.org/12.0/#sec-getvalue)(lref)).
3.  If lval is true, then
    1.  Let trueRef be the result of evaluating the first [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression).
    2.  Return ? [GetValue](https://262.ecma-international.org/12.0/#sec-getvalue)(trueRef).
4.  Else,
    1.  Let falseRef be the result of evaluating the second [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression).
    2.  Return ? [GetValue](https://262.ecma-international.org/12.0/#sec-getvalue)(falseRef).

## 13.15 Assignment Operators

## Syntax

[AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression)\[In, Yield, Await\] : [ConditionalExpression](https://262.ecma-international.org/12.0/#prod-ConditionalExpression)\[?In, ?Yield, ?Await\] \[+Yield\][YieldExpression](https://262.ecma-international.org/12.0/#prod-YieldExpression)\[?In, ?Await\] [ArrowFunction](https://262.ecma-international.org/12.0/#prod-ArrowFunction)\[?In, ?Yield, ?Await\] [AsyncArrowFunction](https://262.ecma-international.org/12.0/#prod-AsyncArrowFunction)\[?In, ?Yield, ?Await\] [LeftHandSideExpression](https://262.ecma-international.org/12.0/#prod-LeftHandSideExpression)\[?Yield, ?Await\] \= [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression)\[?In, ?Yield, ?Await\] [LeftHandSideExpression](https://262.ecma-international.org/12.0/#prod-LeftHandSideExpression)\[?Yield, ?Await\] [AssignmentOperator](https://262.ecma-international.org/12.0/#prod-AssignmentOperator) [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression)\[?In, ?Yield, ?Await\] [LeftHandSideExpression](https://262.ecma-international.org/12.0/#prod-LeftHandSideExpression)\[?Yield, ?Await\] &&= [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression)\[?In, ?Yield, ?Await\] [LeftHandSideExpression](https://262.ecma-international.org/12.0/#prod-LeftHandSideExpression)\[?Yield, ?Await\] ||= [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression)\[?In, ?Yield, ?Await\] [LeftHandSideExpression](https://262.ecma-international.org/12.0/#prod-LeftHandSideExpression)\[?Yield, ?Await\] ??= [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression)\[?In, ?Yield, ?Await\] [AssignmentOperator](https://262.ecma-international.org/12.0/#prod-AssignmentOperator) : one of \*= /= %= += \-= <<= \>>= \>>>= &= ^= |= \*\*=

## 13.15.1 Static Semantics: Early Errors

[AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression) : [LeftHandSideExpression](https://262.ecma-international.org/12.0/#prod-LeftHandSideExpression) \= [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression)

If [LeftHandSideExpression](https://262.ecma-international.org/12.0/#prod-LeftHandSideExpression) is an [ObjectLiteral](https://262.ecma-international.org/12.0/#prod-ObjectLiteral) or an [ArrayLiteral](https://262.ecma-international.org/12.0/#prod-ArrayLiteral), the following Early Error rules are applied:

-   It is a Syntax Error if [LeftHandSideExpression](https://262.ecma-international.org/12.0/#prod-LeftHandSideExpression) is not [covering](https://262.ecma-international.org/12.0/#sec-syntactic-grammar) an [AssignmentPattern](https://262.ecma-international.org/12.0/#prod-AssignmentPattern).
-   All Early Error rules for [AssignmentPattern](https://262.ecma-international.org/12.0/#prod-AssignmentPattern) and its derived productions also apply to the [AssignmentPattern](https://262.ecma-international.org/12.0/#prod-AssignmentPattern) that is [covered](https://262.ecma-international.org/12.0/#sec-syntactic-grammar) by [LeftHandSideExpression](https://262.ecma-international.org/12.0/#prod-LeftHandSideExpression).

If [LeftHandSideExpression](https://262.ecma-international.org/12.0/#prod-LeftHandSideExpression) is neither an [ObjectLiteral](https://262.ecma-international.org/12.0/#prod-ObjectLiteral) nor an [ArrayLiteral](https://262.ecma-international.org/12.0/#prod-ArrayLiteral), the following Early Error rule is applied:

-   It is a Syntax Error if [AssignmentTargetType](https://262.ecma-international.org/12.0/#sec-static-semantics-assignmenttargettype) of [LeftHandSideExpression](https://262.ecma-international.org/12.0/#prod-LeftHandSideExpression) is not simple.

[AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression) : [LeftHandSideExpression](https://262.ecma-international.org/12.0/#prod-LeftHandSideExpression) [AssignmentOperator](https://262.ecma-international.org/12.0/#prod-AssignmentOperator) [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression) [LeftHandSideExpression](https://262.ecma-international.org/12.0/#prod-LeftHandSideExpression) &&= [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression) [LeftHandSideExpression](https://262.ecma-international.org/12.0/#prod-LeftHandSideExpression) ||= [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression) [LeftHandSideExpression](https://262.ecma-international.org/12.0/#prod-LeftHandSideExpression) ??= [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression)

-   It is a Syntax Error if [AssignmentTargetType](https://262.ecma-international.org/12.0/#sec-static-semantics-assignmenttargettype) of [LeftHandSideExpression](https://262.ecma-international.org/12.0/#prod-LeftHandSideExpression) is not simple.

## 13.15.2 Runtime Semantics: Evaluation

[AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression) : [LeftHandSideExpression](https://262.ecma-international.org/12.0/#prod-LeftHandSideExpression) \= [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression)

1.  If [LeftHandSideExpression](https://262.ecma-international.org/12.0/#prod-LeftHandSideExpression) is neither an [ObjectLiteral](https://262.ecma-international.org/12.0/#prod-ObjectLiteral) nor an [ArrayLiteral](https://262.ecma-international.org/12.0/#prod-ArrayLiteral), then
    1.  Let lref be the result of evaluating [LeftHandSideExpression](https://262.ecma-international.org/12.0/#prod-LeftHandSideExpression).
    2.  [ReturnIfAbrupt](https://262.ecma-international.org/12.0/#sec-returnifabrupt)(lref).
    3.  If [IsAnonymousFunctionDefinition](https://262.ecma-international.org/12.0/#sec-isanonymousfunctiondefinition)([AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression)) and [IsIdentifierRef](https://262.ecma-international.org/12.0/#sec-static-semantics-isidentifierref) of [LeftHandSideExpression](https://262.ecma-international.org/12.0/#prod-LeftHandSideExpression) are both true, then
        1.  Let rval be [NamedEvaluation](https://262.ecma-international.org/12.0/#sec-runtime-semantics-namedevaluation) of [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression) with argument lref.\[\[ReferencedName\]\].
    4.  Else,
        1.  Let rref be the result of evaluating [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression).
        2.  Let rval be ? [GetValue](https://262.ecma-international.org/12.0/#sec-getvalue)(rref).
    5.  Perform ? [PutValue](https://262.ecma-international.org/12.0/#sec-putvalue)(lref, rval).
    6.  Return rval.
2.  Let assignmentPattern be the [AssignmentPattern](https://262.ecma-international.org/12.0/#prod-AssignmentPattern) that is [covered](https://262.ecma-international.org/12.0/#sec-syntactic-grammar) by [LeftHandSideExpression](https://262.ecma-international.org/12.0/#prod-LeftHandSideExpression).
3.  Let rref be the result of evaluating [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression).
4.  Let rval be ? [GetValue](https://262.ecma-international.org/12.0/#sec-getvalue)(rref).
5.  Perform ? [DestructuringAssignmentEvaluation](https://262.ecma-international.org/12.0/#sec-runtime-semantics-destructuringassignmentevaluation) of assignmentPattern using rval as the argument.
6.  Return rval.

[AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression) : [LeftHandSideExpression](https://262.ecma-international.org/12.0/#prod-LeftHandSideExpression) [AssignmentOperator](https://262.ecma-international.org/12.0/#prod-AssignmentOperator) [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression)

1.  Let lref be the result of evaluating [LeftHandSideExpression](https://262.ecma-international.org/12.0/#prod-LeftHandSideExpression).
2.  Let lval be ? [GetValue](https://262.ecma-international.org/12.0/#sec-getvalue)(lref).
3.  Let rref be the result of evaluating [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression).
4.  Let rval be ? [GetValue](https://262.ecma-international.org/12.0/#sec-getvalue)(rref).
5.  Let assignmentOpText be the [source text matched by](https://262.ecma-international.org/12.0/#sec-algorithm-conventions-syntax-directed-operations) [AssignmentOperator](https://262.ecma-international.org/12.0/#prod-AssignmentOperator).
6.  Let opText be the sequence of Unicode code points associated with assignmentOpText in the following table:
    
    | assignmentOpText | opText |
    | --- | --- |
    | `**=` | `**` |
    | `*=` | `*` |
    | `/=` | `/` |
    | `%=` | `%` |
    | `+=` | `+` |
    | `-=` | `-` |
    | `<<=` | `<<` |
    | `>>=` | `>>` |
    | `>>>=` | `>>>` |
    | `&=` | `&` |
    | `^=` | `^` |
    | `|=` | `|` |
    
7.  Let r be [ApplyStringOrNumericBinaryOperator](https://262.ecma-international.org/12.0/#sec-applystringornumericbinaryoperator)(lval, opText, rval).
8.  Perform ? [PutValue](https://262.ecma-international.org/12.0/#sec-putvalue)(lref, r).
9.  Return r.

[AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression) : [LeftHandSideExpression](https://262.ecma-international.org/12.0/#prod-LeftHandSideExpression) &&= [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression)

1.  Let lref be the result of evaluating [LeftHandSideExpression](https://262.ecma-international.org/12.0/#prod-LeftHandSideExpression).
2.  Let lval be ? [GetValue](https://262.ecma-international.org/12.0/#sec-getvalue)(lref).
3.  Let lbool be ! [ToBoolean](https://262.ecma-international.org/12.0/#sec-toboolean)(lval).
4.  If lbool is false, return lval.
5.  If [IsAnonymousFunctionDefinition](https://262.ecma-international.org/12.0/#sec-isanonymousfunctiondefinition)([AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression)) is true and [IsIdentifierRef](https://262.ecma-international.org/12.0/#sec-static-semantics-isidentifierref) of [LeftHandSideExpression](https://262.ecma-international.org/12.0/#prod-LeftHandSideExpression) is true, then
    1.  Let rval be [NamedEvaluation](https://262.ecma-international.org/12.0/#sec-runtime-semantics-namedevaluation) of [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression) with argument lref.\[\[ReferencedName\]\].
6.  Else,
    1.  Let rref be the result of evaluating [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression).
    2.  Let rval be ? [GetValue](https://262.ecma-international.org/12.0/#sec-getvalue)(rref).
7.  Perform ? [PutValue](https://262.ecma-international.org/12.0/#sec-putvalue)(lref, rval).
8.  Return rval.

[AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression) : [LeftHandSideExpression](https://262.ecma-international.org/12.0/#prod-LeftHandSideExpression) ||= [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression)

1.  Let lref be the result of evaluating [LeftHandSideExpression](https://262.ecma-international.org/12.0/#prod-LeftHandSideExpression).
2.  Let lval be ? [GetValue](https://262.ecma-international.org/12.0/#sec-getvalue)(lref).
3.  Let lbool be ! [ToBoolean](https://262.ecma-international.org/12.0/#sec-toboolean)(lval).
4.  If lbool is true, return lval.
5.  If [IsAnonymousFunctionDefinition](https://262.ecma-international.org/12.0/#sec-isanonymousfunctiondefinition)([AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression)) is true and [IsIdentifierRef](https://262.ecma-international.org/12.0/#sec-static-semantics-isidentifierref) of [LeftHandSideExpression](https://262.ecma-international.org/12.0/#prod-LeftHandSideExpression) is true, then
    1.  Let rval be [NamedEvaluation](https://262.ecma-international.org/12.0/#sec-runtime-semantics-namedevaluation) of [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression) with argument lref.\[\[ReferencedName\]\].
6.  Else,
    1.  Let rref be the result of evaluating [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression).
    2.  Let rval be ? [GetValue](https://262.ecma-international.org/12.0/#sec-getvalue)(rref).
7.  Perform ? [PutValue](https://262.ecma-international.org/12.0/#sec-putvalue)(lref, rval).
8.  Return rval.

[AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression) : [LeftHandSideExpression](https://262.ecma-international.org/12.0/#prod-LeftHandSideExpression) ??= [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression)

1.  Let lref be the result of evaluating [LeftHandSideExpression](https://262.ecma-international.org/12.0/#prod-LeftHandSideExpression).
2.  Let lval be ? [GetValue](https://262.ecma-international.org/12.0/#sec-getvalue)(lref).
3.  If lval is neither undefined nor null, return lval.
4.  If [IsAnonymousFunctionDefinition](https://262.ecma-international.org/12.0/#sec-isanonymousfunctiondefinition)([AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression)) is true and [IsIdentifierRef](https://262.ecma-international.org/12.0/#sec-static-semantics-isidentifierref) of [LeftHandSideExpression](https://262.ecma-international.org/12.0/#prod-LeftHandSideExpression) is true, then
    1.  Let rval be [NamedEvaluation](https://262.ecma-international.org/12.0/#sec-runtime-semantics-namedevaluation) of [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression) with argument lref.\[\[ReferencedName\]\].
5.  Else,
    1.  Let rref be the result of evaluating [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression).
    2.  Let rval be ? [GetValue](https://262.ecma-international.org/12.0/#sec-getvalue)(rref).
6.  Perform ? [PutValue](https://262.ecma-international.org/12.0/#sec-putvalue)(lref, rval).
7.  Return rval.

Note

When this expression occurs within [strict mode code](https://262.ecma-international.org/12.0/#sec-strict-mode-code), it is a runtime error if lref in step [1.e](https://262.ecma-international.org/12.0/#step-assignmentexpression-evaluation-simple-putvalue), [2](https://262.ecma-international.org/12.0/#step-assignmentexpression-evaluation-compound-getvalue), [2](https://262.ecma-international.org/12.0/#step-assignmentexpression-evaluation-lgcl-and-getvalue), [2](https://262.ecma-international.org/12.0/#step-assignmentexpression-evaluation-lgcl-or-getvalue), [2](https://262.ecma-international.org/12.0/#step-assignmentexpression-evaluation-lgcl-nullish-getvalue) is an unresolvable reference. If it is, a ReferenceError exception is thrown. Additionally, it is a runtime error if the lref in step [8](https://262.ecma-international.org/12.0/#step-assignmentexpression-evaluation-compound-putvalue), [7](https://262.ecma-international.org/12.0/#step-assignmentexpression-evaluation-lgcl-and-putvalue), [7](https://262.ecma-international.org/12.0/#step-assignmentexpression-evaluation-lgcl-or-putvalue), [6](https://262.ecma-international.org/12.0/#step-assignmentexpression-evaluation-lgcl-nullish-putvalue) is a reference to a [data property](https://262.ecma-international.org/12.0/#sec-object-type) with the attribute value { \[\[Writable\]\]: false }, to an [accessor property](https://262.ecma-international.org/12.0/#sec-object-type) with the attribute value { \[\[Set\]\]: undefined }, or to a non-existent property of an object for which the [IsExtensible](https://262.ecma-international.org/12.0/#sec-isextensible-o) predicate returns the value false. In these cases a TypeError exception is thrown.

## 13.15.3 ApplyStringOrNumericBinaryOperator ( lval, opText, rval )

The abstract operation ApplyStringOrNumericBinaryOperator takes arguments lval (an [ECMAScript language value](https://262.ecma-international.org/12.0/#sec-ecmascript-language-types)), opText (a sequence of Unicode code points), and rval (an [ECMAScript language value](https://262.ecma-international.org/12.0/#sec-ecmascript-language-types)). It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): opText is present in the table in step [8](https://262.ecma-international.org/12.0/#step-applystringornumericbinaryoperator-operations-table).
2.  If opText is `+`, then
    1.  Let lprim be ? [ToPrimitive](https://262.ecma-international.org/12.0/#sec-toprimitive)(lval).
    2.  Let rprim be ? [ToPrimitive](https://262.ecma-international.org/12.0/#sec-toprimitive)(rval).
    3.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(lprim) is String or [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(rprim) is String, then
        1.  Let lstr be ? [ToString](https://262.ecma-international.org/12.0/#sec-tostring)(lprim).
        2.  Let rstr be ? [ToString](https://262.ecma-international.org/12.0/#sec-tostring)(rprim).
        3.  Return the [string-concatenation](https://262.ecma-international.org/12.0/#string-concatenation) of lstr and rstr.
    4.  Set lval to lprim.
    5.  Set rval to rprim.
3.  NOTE: At this point, it must be a numeric operation.
4.  Let lnum be ? [ToNumeric](https://262.ecma-international.org/12.0/#sec-tonumeric)(lval).
5.  Let rnum be ? [ToNumeric](https://262.ecma-international.org/12.0/#sec-tonumeric)(rval).
6.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(lnum) is different from [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(rnum), throw a TypeError exception.
7.  Let T be [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(lnum).
8.  Let operation be the abstract operation associated with opText in the following table:
    
    | opText | operation |
    | --- | --- |
    | `**` | T::exponentiate |
    | `*` | T::multiply |
    | `/` | T::divide |
    | `%` | T::remainder |
    | `+` | T::add |
    | `-` | T::subtract |
    | `<<` | T::leftShift |
    | `>>` | T::signedRightShift |
    | `>>>` | T::unsignedRightShift |
    | `&` | T::bitwiseAND |
    | `^` | T::bitwiseXOR |
    | `|` | T::bitwiseOR |
    
9.  Return ? operation(lnum, rnum).

Note 1

No hint is provided in the calls to [ToPrimitive](https://262.ecma-international.org/12.0/#sec-toprimitive) in steps [2.a](https://262.ecma-international.org/12.0/#step-binary-op-toprimitive-lval) and [2.b](https://262.ecma-international.org/12.0/#step-binary-op-toprimitive-rval). All standard objects except Date objects handle the absence of a hint as if number were given; Date objects handle the absence of a hint as if string were given. Exotic objects may handle the absence of a hint in some other manner.

Note 2

Step [2.c](https://262.ecma-international.org/12.0/#step-binary-op-string-check) differs from step [3](https://262.ecma-international.org/12.0/#step-arc-string-check) of the [Abstract Relational Comparison](https://262.ecma-international.org/12.0/#sec-abstract-relational-comparison) algorithm, by using the logical-or operation instead of the logical-and operation.

## 13.15.4 EvaluateStringOrNumericBinaryExpression ( leftOperand, opText, rightOperand )

The abstract operation EvaluateStringOrNumericBinaryExpression takes arguments leftOperand (a [Parse Node](https://262.ecma-international.org/12.0/#sec-syntactic-grammar)), opText (a sequence of Unicode code points), and rightOperand (a [Parse Node](https://262.ecma-international.org/12.0/#sec-syntactic-grammar)). It performs the following steps when called:

1.  Let lref be the result of evaluating leftOperand.
2.  Let lval be ? [GetValue](https://262.ecma-international.org/12.0/#sec-getvalue)(lref).
3.  Let rref be the result of evaluating rightOperand.
4.  Let rval be ? [GetValue](https://262.ecma-international.org/12.0/#sec-getvalue)(rref).
5.  Return ? [ApplyStringOrNumericBinaryOperator](https://262.ecma-international.org/12.0/#sec-applystringornumericbinaryoperator)(lval, opText, rval).

## 13.15.5 Destructuring Assignment

## Supplemental Syntax

In certain circumstances when processing an instance of the production  
[AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression) : [LeftHandSideExpression](https://262.ecma-international.org/12.0/#prod-LeftHandSideExpression) \= [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression)  
the interpretation of [LeftHandSideExpression](https://262.ecma-international.org/12.0/#prod-LeftHandSideExpression) is refined using the following grammar:

[AssignmentPattern](https://262.ecma-international.org/12.0/#prod-AssignmentPattern)\[Yield, Await\] : [ObjectAssignmentPattern](https://262.ecma-international.org/12.0/#prod-ObjectAssignmentPattern)\[?Yield, ?Await\] [ArrayAssignmentPattern](https://262.ecma-international.org/12.0/#prod-ArrayAssignmentPattern)\[?Yield, ?Await\] [ObjectAssignmentPattern](https://262.ecma-international.org/12.0/#prod-ObjectAssignmentPattern)\[Yield, Await\] : { } { [AssignmentRestProperty](https://262.ecma-international.org/12.0/#prod-AssignmentRestProperty)\[?Yield, ?Await\] } { [AssignmentPropertyList](https://262.ecma-international.org/12.0/#prod-AssignmentPropertyList)\[?Yield, ?Await\] } { [AssignmentPropertyList](https://262.ecma-international.org/12.0/#prod-AssignmentPropertyList)\[?Yield, ?Await\] , [AssignmentRestProperty](https://262.ecma-international.org/12.0/#prod-AssignmentRestProperty)\[?Yield, ?Await\]opt } [ArrayAssignmentPattern](https://262.ecma-international.org/12.0/#prod-ArrayAssignmentPattern)\[Yield, Await\] : \[ [Elision](https://262.ecma-international.org/12.0/#prod-Elision)opt [AssignmentRestElement](https://262.ecma-international.org/12.0/#prod-AssignmentRestElement)\[?Yield, ?Await\]opt \] \[ [AssignmentElementList](https://262.ecma-international.org/12.0/#prod-AssignmentElementList)\[?Yield, ?Await\] \] \[ [AssignmentElementList](https://262.ecma-international.org/12.0/#prod-AssignmentElementList)\[?Yield, ?Await\] , [Elision](https://262.ecma-international.org/12.0/#prod-Elision)opt [AssignmentRestElement](https://262.ecma-international.org/12.0/#prod-AssignmentRestElement)\[?Yield, ?Await\]opt \] [AssignmentRestProperty](https://262.ecma-international.org/12.0/#prod-AssignmentRestProperty)\[Yield, Await\] : ... [DestructuringAssignmentTarget](https://262.ecma-international.org/12.0/#prod-DestructuringAssignmentTarget)\[?Yield, ?Await\] [AssignmentPropertyList](https://262.ecma-international.org/12.0/#prod-AssignmentPropertyList)\[Yield, Await\] : [AssignmentProperty](https://262.ecma-international.org/12.0/#prod-AssignmentProperty)\[?Yield, ?Await\] [AssignmentPropertyList](https://262.ecma-international.org/12.0/#prod-AssignmentPropertyList)\[?Yield, ?Await\] , [AssignmentProperty](https://262.ecma-international.org/12.0/#prod-AssignmentProperty)\[?Yield, ?Await\] [AssignmentElementList](https://262.ecma-international.org/12.0/#prod-AssignmentElementList)\[Yield, Await\] : [AssignmentElisionElement](https://262.ecma-international.org/12.0/#prod-AssignmentElisionElement)\[?Yield, ?Await\] [AssignmentElementList](https://262.ecma-international.org/12.0/#prod-AssignmentElementList)\[?Yield, ?Await\] , [AssignmentElisionElement](https://262.ecma-international.org/12.0/#prod-AssignmentElisionElement)\[?Yield, ?Await\] [AssignmentElisionElement](https://262.ecma-international.org/12.0/#prod-AssignmentElisionElement)\[Yield, Await\] : [Elision](https://262.ecma-international.org/12.0/#prod-Elision)opt [AssignmentElement](https://262.ecma-international.org/12.0/#prod-AssignmentElement)\[?Yield, ?Await\] [AssignmentProperty](https://262.ecma-international.org/12.0/#prod-AssignmentProperty)\[Yield, Await\] : [IdentifierReference](https://262.ecma-international.org/12.0/#prod-IdentifierReference)\[?Yield, ?Await\] [Initializer](https://262.ecma-international.org/12.0/#prod-Initializer)\[+In, ?Yield, ?Await\]opt [PropertyName](https://262.ecma-international.org/12.0/#prod-PropertyName)\[?Yield, ?Await\] : [AssignmentElement](https://262.ecma-international.org/12.0/#prod-AssignmentElement)\[?Yield, ?Await\] [AssignmentElement](https://262.ecma-international.org/12.0/#prod-AssignmentElement)\[Yield, Await\] : [DestructuringAssignmentTarget](https://262.ecma-international.org/12.0/#prod-DestructuringAssignmentTarget)\[?Yield, ?Await\] [Initializer](https://262.ecma-international.org/12.0/#prod-Initializer)\[+In, ?Yield, ?Await\]opt [AssignmentRestElement](https://262.ecma-international.org/12.0/#prod-AssignmentRestElement)\[Yield, Await\] : ... [DestructuringAssignmentTarget](https://262.ecma-international.org/12.0/#prod-DestructuringAssignmentTarget)\[?Yield, ?Await\] [DestructuringAssignmentTarget](https://262.ecma-international.org/12.0/#prod-DestructuringAssignmentTarget)\[Yield, Await\] : [LeftHandSideExpression](https://262.ecma-international.org/12.0/#prod-LeftHandSideExpression)\[?Yield, ?Await\]

## 13.15.5.1 Static Semantics: Early Errors

[AssignmentProperty](https://262.ecma-international.org/12.0/#prod-AssignmentProperty) : [IdentifierReference](https://262.ecma-international.org/12.0/#prod-IdentifierReference) [Initializer](https://262.ecma-international.org/12.0/#prod-Initializer)opt

-   It is a Syntax Error if [AssignmentTargetType](https://262.ecma-international.org/12.0/#sec-static-semantics-assignmenttargettype) of [IdentifierReference](https://262.ecma-international.org/12.0/#prod-IdentifierReference) is not simple.

[AssignmentRestProperty](https://262.ecma-international.org/12.0/#prod-AssignmentRestProperty) : ... [DestructuringAssignmentTarget](https://262.ecma-international.org/12.0/#prod-DestructuringAssignmentTarget)

-   It is a Syntax Error if [DestructuringAssignmentTarget](https://262.ecma-international.org/12.0/#prod-DestructuringAssignmentTarget) is an [ArrayLiteral](https://262.ecma-international.org/12.0/#prod-ArrayLiteral) or an [ObjectLiteral](https://262.ecma-international.org/12.0/#prod-ObjectLiteral).

[DestructuringAssignmentTarget](https://262.ecma-international.org/12.0/#prod-DestructuringAssignmentTarget) : [LeftHandSideExpression](https://262.ecma-international.org/12.0/#prod-LeftHandSideExpression)

If [LeftHandSideExpression](https://262.ecma-international.org/12.0/#prod-LeftHandSideExpression) is an [ObjectLiteral](https://262.ecma-international.org/12.0/#prod-ObjectLiteral) or an [ArrayLiteral](https://262.ecma-international.org/12.0/#prod-ArrayLiteral), the following Early Error rules are applied:

-   It is a Syntax Error if [LeftHandSideExpression](https://262.ecma-international.org/12.0/#prod-LeftHandSideExpression) is not [covering](https://262.ecma-international.org/12.0/#sec-syntactic-grammar) an [AssignmentPattern](https://262.ecma-international.org/12.0/#prod-AssignmentPattern).
-   All Early Error rules for [AssignmentPattern](https://262.ecma-international.org/12.0/#prod-AssignmentPattern) and its derived productions also apply to the [AssignmentPattern](https://262.ecma-international.org/12.0/#prod-AssignmentPattern) that is [covered](https://262.ecma-international.org/12.0/#sec-syntactic-grammar) by [LeftHandSideExpression](https://262.ecma-international.org/12.0/#prod-LeftHandSideExpression).

If [LeftHandSideExpression](https://262.ecma-international.org/12.0/#prod-LeftHandSideExpression) is neither an [ObjectLiteral](https://262.ecma-international.org/12.0/#prod-ObjectLiteral) nor an [ArrayLiteral](https://262.ecma-international.org/12.0/#prod-ArrayLiteral), the following Early Error rule is applied:

-   It is a Syntax Error if [AssignmentTargetType](https://262.ecma-international.org/12.0/#sec-static-semantics-assignmenttargettype) of [LeftHandSideExpression](https://262.ecma-international.org/12.0/#prod-LeftHandSideExpression) is not simple.

## 13.15.5.2 Runtime Semantics: DestructuringAssignmentEvaluation

With parameter value.

[ObjectAssignmentPattern](https://262.ecma-international.org/12.0/#prod-ObjectAssignmentPattern) : { }

1.  Perform ? [RequireObjectCoercible](https://262.ecma-international.org/12.0/#sec-requireobjectcoercible)(value).
2.  Return [NormalCompletion](https://262.ecma-international.org/12.0/#sec-normalcompletion)(empty).

[ObjectAssignmentPattern](https://262.ecma-international.org/12.0/#prod-ObjectAssignmentPattern) : { [AssignmentPropertyList](https://262.ecma-international.org/12.0/#prod-AssignmentPropertyList) } { [AssignmentPropertyList](https://262.ecma-international.org/12.0/#prod-AssignmentPropertyList) , }

1.  Perform ? [RequireObjectCoercible](https://262.ecma-international.org/12.0/#sec-requireobjectcoercible)(value).
2.  Perform ? [PropertyDestructuringAssignmentEvaluation](https://262.ecma-international.org/12.0/#sec-runtime-semantics-propertydestructuringassignmentevaluation) for [AssignmentPropertyList](https://262.ecma-international.org/12.0/#prod-AssignmentPropertyList) using value as the argument.
3.  Return [NormalCompletion](https://262.ecma-international.org/12.0/#sec-normalcompletion)(empty).

[ArrayAssignmentPattern](https://262.ecma-international.org/12.0/#prod-ArrayAssignmentPattern) : \[ \]

1.  Let iteratorRecord be ? [GetIterator](https://262.ecma-international.org/12.0/#sec-getiterator)(value).
2.  Return ? [IteratorClose](https://262.ecma-international.org/12.0/#sec-iteratorclose)(iteratorRecord, [NormalCompletion](https://262.ecma-international.org/12.0/#sec-normalcompletion)(empty)).

[ArrayAssignmentPattern](https://262.ecma-international.org/12.0/#prod-ArrayAssignmentPattern) : \[ [Elision](https://262.ecma-international.org/12.0/#prod-Elision) \]

1.  Let iteratorRecord be ? [GetIterator](https://262.ecma-international.org/12.0/#sec-getiterator)(value).
2.  Let result be [IteratorDestructuringAssignmentEvaluation](https://262.ecma-international.org/12.0/#sec-runtime-semantics-iteratordestructuringassignmentevaluation) of [Elision](https://262.ecma-international.org/12.0/#prod-Elision) with argument iteratorRecord.
3.  If iteratorRecord.\[\[Done\]\] is false, return ? [IteratorClose](https://262.ecma-international.org/12.0/#sec-iteratorclose)(iteratorRecord, result).
4.  Return result.

[ArrayAssignmentPattern](https://262.ecma-international.org/12.0/#prod-ArrayAssignmentPattern) : \[ [Elision](https://262.ecma-international.org/12.0/#prod-Elision)opt [AssignmentRestElement](https://262.ecma-international.org/12.0/#prod-AssignmentRestElement) \]

1.  Let iteratorRecord be ? [GetIterator](https://262.ecma-international.org/12.0/#sec-getiterator)(value).
2.  If [Elision](https://262.ecma-international.org/12.0/#prod-Elision) is present, then
    1.  Let status be [IteratorDestructuringAssignmentEvaluation](https://262.ecma-international.org/12.0/#sec-runtime-semantics-iteratordestructuringassignmentevaluation) of [Elision](https://262.ecma-international.org/12.0/#prod-Elision) with argument iteratorRecord.
    2.  If status is an [abrupt completion](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type), then
        1.  [Assert](https://262.ecma-international.org/12.0/#assert): iteratorRecord.\[\[Done\]\] is true.
        2.  Return [Completion](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type)(status).
3.  Let result be [IteratorDestructuringAssignmentEvaluation](https://262.ecma-international.org/12.0/#sec-runtime-semantics-iteratordestructuringassignmentevaluation) of [AssignmentRestElement](https://262.ecma-international.org/12.0/#prod-AssignmentRestElement) with argument iteratorRecord.
4.  If iteratorRecord.\[\[Done\]\] is false, return ? [IteratorClose](https://262.ecma-international.org/12.0/#sec-iteratorclose)(iteratorRecord, result).
5.  Return result.

[ArrayAssignmentPattern](https://262.ecma-international.org/12.0/#prod-ArrayAssignmentPattern) : \[ [AssignmentElementList](https://262.ecma-international.org/12.0/#prod-AssignmentElementList) \]

1.  Let iteratorRecord be ? [GetIterator](https://262.ecma-international.org/12.0/#sec-getiterator)(value).
2.  Let result be [IteratorDestructuringAssignmentEvaluation](https://262.ecma-international.org/12.0/#sec-runtime-semantics-iteratordestructuringassignmentevaluation) of [AssignmentElementList](https://262.ecma-international.org/12.0/#prod-AssignmentElementList) with argument iteratorRecord.
3.  If iteratorRecord.\[\[Done\]\] is false, return ? [IteratorClose](https://262.ecma-international.org/12.0/#sec-iteratorclose)(iteratorRecord, result).
4.  Return result.

[ArrayAssignmentPattern](https://262.ecma-international.org/12.0/#prod-ArrayAssignmentPattern) : \[ [AssignmentElementList](https://262.ecma-international.org/12.0/#prod-AssignmentElementList) , [Elision](https://262.ecma-international.org/12.0/#prod-Elision)opt [AssignmentRestElement](https://262.ecma-international.org/12.0/#prod-AssignmentRestElement)opt \]

1.  Let iteratorRecord be ? [GetIterator](https://262.ecma-international.org/12.0/#sec-getiterator)(value).
2.  Let status be [IteratorDestructuringAssignmentEvaluation](https://262.ecma-international.org/12.0/#sec-runtime-semantics-iteratordestructuringassignmentevaluation) of [AssignmentElementList](https://262.ecma-international.org/12.0/#prod-AssignmentElementList) with argument iteratorRecord.
3.  If status is an [abrupt completion](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type), then
    1.  If iteratorRecord.\[\[Done\]\] is false, return ? [IteratorClose](https://262.ecma-international.org/12.0/#sec-iteratorclose)(iteratorRecord, status).
    2.  Return [Completion](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type)(status).
4.  If [Elision](https://262.ecma-international.org/12.0/#prod-Elision) is present, then
    1.  Set status to the result of performing [IteratorDestructuringAssignmentEvaluation](https://262.ecma-international.org/12.0/#sec-runtime-semantics-iteratordestructuringassignmentevaluation) of [Elision](https://262.ecma-international.org/12.0/#prod-Elision) with iteratorRecord as the argument.
    2.  If status is an [abrupt completion](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type), then
        1.  [Assert](https://262.ecma-international.org/12.0/#assert): iteratorRecord.\[\[Done\]\] is true.
        2.  Return [Completion](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type)(status).
5.  If [AssignmentRestElement](https://262.ecma-international.org/12.0/#prod-AssignmentRestElement) is present, then
    1.  Set status to the result of performing [IteratorDestructuringAssignmentEvaluation](https://262.ecma-international.org/12.0/#sec-runtime-semantics-iteratordestructuringassignmentevaluation) of [AssignmentRestElement](https://262.ecma-international.org/12.0/#prod-AssignmentRestElement) with iteratorRecord as the argument.
6.  If iteratorRecord.\[\[Done\]\] is false, return ? [IteratorClose](https://262.ecma-international.org/12.0/#sec-iteratorclose)(iteratorRecord, status).
7.  Return [Completion](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type)(status).

[ObjectAssignmentPattern](https://262.ecma-international.org/12.0/#prod-ObjectAssignmentPattern) : { [AssignmentRestProperty](https://262.ecma-international.org/12.0/#prod-AssignmentRestProperty) }

1.  Perform ? [RequireObjectCoercible](https://262.ecma-international.org/12.0/#sec-requireobjectcoercible)(value).
2.  Let excludedNames be a new empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).
3.  Return the result of performing [RestDestructuringAssignmentEvaluation](https://262.ecma-international.org/12.0/#sec-runtime-semantics-restdestructuringassignmentevaluation) of [AssignmentRestProperty](https://262.ecma-international.org/12.0/#prod-AssignmentRestProperty) with value and excludedNames as the arguments.

[ObjectAssignmentPattern](https://262.ecma-international.org/12.0/#prod-ObjectAssignmentPattern) : { [AssignmentPropertyList](https://262.ecma-international.org/12.0/#prod-AssignmentPropertyList) , [AssignmentRestProperty](https://262.ecma-international.org/12.0/#prod-AssignmentRestProperty) }

1.  Perform ? [RequireObjectCoercible](https://262.ecma-international.org/12.0/#sec-requireobjectcoercible)(value).
2.  Let excludedNames be ? [PropertyDestructuringAssignmentEvaluation](https://262.ecma-international.org/12.0/#sec-runtime-semantics-propertydestructuringassignmentevaluation) of [AssignmentPropertyList](https://262.ecma-international.org/12.0/#prod-AssignmentPropertyList) with argument value.
3.  Return the result of performing [RestDestructuringAssignmentEvaluation](https://262.ecma-international.org/12.0/#sec-runtime-semantics-restdestructuringassignmentevaluation) of [AssignmentRestProperty](https://262.ecma-international.org/12.0/#prod-AssignmentRestProperty) with arguments value and excludedNames.

## 13.15.5.3 Runtime Semantics: PropertyDestructuringAssignmentEvaluation

With parameter value.

Note

The following operations collect a list of all destructured property names.

[AssignmentPropertyList](https://262.ecma-international.org/12.0/#prod-AssignmentPropertyList) : [AssignmentPropertyList](https://262.ecma-international.org/12.0/#prod-AssignmentPropertyList) , [AssignmentProperty](https://262.ecma-international.org/12.0/#prod-AssignmentProperty)

1.  Let propertyNames be ? [PropertyDestructuringAssignmentEvaluation](https://262.ecma-international.org/12.0/#sec-runtime-semantics-propertydestructuringassignmentevaluation) of [AssignmentPropertyList](https://262.ecma-international.org/12.0/#prod-AssignmentPropertyList) with argument value.
2.  Let nextNames be ? [PropertyDestructuringAssignmentEvaluation](https://262.ecma-international.org/12.0/#sec-runtime-semantics-propertydestructuringassignmentevaluation) of [AssignmentProperty](https://262.ecma-international.org/12.0/#prod-AssignmentProperty) with argument value.
3.  Append each item in nextNames to the end of propertyNames.
4.  Return propertyNames.

[AssignmentProperty](https://262.ecma-international.org/12.0/#prod-AssignmentProperty) : [IdentifierReference](https://262.ecma-international.org/12.0/#prod-IdentifierReference) [Initializer](https://262.ecma-international.org/12.0/#prod-Initializer)opt

1.  Let P be [StringValue](https://262.ecma-international.org/12.0/#sec-static-semantics-stringvalue) of [IdentifierReference](https://262.ecma-international.org/12.0/#prod-IdentifierReference).
2.  Let lref be ? [ResolveBinding](https://262.ecma-international.org/12.0/#sec-resolvebinding)(P).
3.  Let v be ? [GetV](https://262.ecma-international.org/12.0/#sec-getv)(value, P).
4.  If [Initializer](https://262.ecma-international.org/12.0/#prod-Initializer)opt is present and v is undefined, then
    1.  If [IsAnonymousFunctionDefinition](https://262.ecma-international.org/12.0/#sec-isanonymousfunctiondefinition)([Initializer](https://262.ecma-international.org/12.0/#prod-Initializer)) is true, then
        1.  Set v to the result of performing [NamedEvaluation](https://262.ecma-international.org/12.0/#sec-runtime-semantics-namedevaluation) for [Initializer](https://262.ecma-international.org/12.0/#prod-Initializer) with argument P.
    2.  Else,
        1.  Let defaultValue be the result of evaluating [Initializer](https://262.ecma-international.org/12.0/#prod-Initializer).
        2.  Set v to ? [GetValue](https://262.ecma-international.org/12.0/#sec-getvalue)(defaultValue).
5.  Perform ? [PutValue](https://262.ecma-international.org/12.0/#sec-putvalue)(lref, v).
6.  Return a [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) whose sole element is P.

[AssignmentProperty](https://262.ecma-international.org/12.0/#prod-AssignmentProperty) : [PropertyName](https://262.ecma-international.org/12.0/#prod-PropertyName) : [AssignmentElement](https://262.ecma-international.org/12.0/#prod-AssignmentElement)

1.  Let name be the result of evaluating [PropertyName](https://262.ecma-international.org/12.0/#prod-PropertyName).
2.  [ReturnIfAbrupt](https://262.ecma-international.org/12.0/#sec-returnifabrupt)(name).
3.  Perform ? [KeyedDestructuringAssignmentEvaluation](https://262.ecma-international.org/12.0/#sec-runtime-semantics-keyeddestructuringassignmentevaluation) of [AssignmentElement](https://262.ecma-international.org/12.0/#prod-AssignmentElement) with value and name as the arguments.
4.  Return a [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) whose sole element is name.

## 13.15.5.4 Runtime Semantics: RestDestructuringAssignmentEvaluation

With parameters value and excludedNames.

[AssignmentRestProperty](https://262.ecma-international.org/12.0/#prod-AssignmentRestProperty) : ... [DestructuringAssignmentTarget](https://262.ecma-international.org/12.0/#prod-DestructuringAssignmentTarget)

1.  Let lref be the result of evaluating [DestructuringAssignmentTarget](https://262.ecma-international.org/12.0/#prod-DestructuringAssignmentTarget).
2.  [ReturnIfAbrupt](https://262.ecma-international.org/12.0/#sec-returnifabrupt)(lref).
3.  Let restObj be ! [OrdinaryObjectCreate](https://262.ecma-international.org/12.0/#sec-ordinaryobjectcreate)([%Object.prototype%](https://262.ecma-international.org/12.0/#sec-properties-of-the-object-prototype-object)).
4.  Perform ? [CopyDataProperties](https://262.ecma-international.org/12.0/#sec-copydataproperties)(restObj, value, excludedNames).
5.  Return [PutValue](https://262.ecma-international.org/12.0/#sec-putvalue)(lref, restObj).

## 13.15.5.5 Runtime Semantics: IteratorDestructuringAssignmentEvaluation

With parameter iteratorRecord.

[AssignmentElementList](https://262.ecma-international.org/12.0/#prod-AssignmentElementList) : [AssignmentElisionElement](https://262.ecma-international.org/12.0/#prod-AssignmentElisionElement)

1.  Return the result of performing [IteratorDestructuringAssignmentEvaluation](https://262.ecma-international.org/12.0/#sec-runtime-semantics-iteratordestructuringassignmentevaluation) of [AssignmentElisionElement](https://262.ecma-international.org/12.0/#prod-AssignmentElisionElement) using iteratorRecord as the argument.

[AssignmentElementList](https://262.ecma-international.org/12.0/#prod-AssignmentElementList) : [AssignmentElementList](https://262.ecma-international.org/12.0/#prod-AssignmentElementList) , [AssignmentElisionElement](https://262.ecma-international.org/12.0/#prod-AssignmentElisionElement)

1.  Perform ? [IteratorDestructuringAssignmentEvaluation](https://262.ecma-international.org/12.0/#sec-runtime-semantics-iteratordestructuringassignmentevaluation) of [AssignmentElementList](https://262.ecma-international.org/12.0/#prod-AssignmentElementList) using iteratorRecord as the argument.
2.  Return the result of performing [IteratorDestructuringAssignmentEvaluation](https://262.ecma-international.org/12.0/#sec-runtime-semantics-iteratordestructuringassignmentevaluation) of [AssignmentElisionElement](https://262.ecma-international.org/12.0/#prod-AssignmentElisionElement) using iteratorRecord as the argument.

[AssignmentElisionElement](https://262.ecma-international.org/12.0/#prod-AssignmentElisionElement) : [AssignmentElement](https://262.ecma-international.org/12.0/#prod-AssignmentElement)

1.  Return the result of performing [IteratorDestructuringAssignmentEvaluation](https://262.ecma-international.org/12.0/#sec-runtime-semantics-iteratordestructuringassignmentevaluation) of [AssignmentElement](https://262.ecma-international.org/12.0/#prod-AssignmentElement) with iteratorRecord as the argument.

[AssignmentElisionElement](https://262.ecma-international.org/12.0/#prod-AssignmentElisionElement) : [Elision](https://262.ecma-international.org/12.0/#prod-Elision) [AssignmentElement](https://262.ecma-international.org/12.0/#prod-AssignmentElement)

1.  Perform ? [IteratorDestructuringAssignmentEvaluation](https://262.ecma-international.org/12.0/#sec-runtime-semantics-iteratordestructuringassignmentevaluation) of [Elision](https://262.ecma-international.org/12.0/#prod-Elision) with iteratorRecord as the argument.
2.  Return the result of performing [IteratorDestructuringAssignmentEvaluation](https://262.ecma-international.org/12.0/#sec-runtime-semantics-iteratordestructuringassignmentevaluation) of [AssignmentElement](https://262.ecma-international.org/12.0/#prod-AssignmentElement) with iteratorRecord as the argument.

[Elision](https://262.ecma-international.org/12.0/#prod-Elision) : ,

1.  If iteratorRecord.\[\[Done\]\] is false, then
    1.  Let next be [IteratorStep](https://262.ecma-international.org/12.0/#sec-iteratorstep)(iteratorRecord).
    2.  If next is an [abrupt completion](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type), set iteratorRecord.\[\[Done\]\] to true.
    3.  [ReturnIfAbrupt](https://262.ecma-international.org/12.0/#sec-returnifabrupt)(next).
    4.  If next is false, set iteratorRecord.\[\[Done\]\] to true.
2.  Return [NormalCompletion](https://262.ecma-international.org/12.0/#sec-normalcompletion)(empty).

[Elision](https://262.ecma-international.org/12.0/#prod-Elision) : [Elision](https://262.ecma-international.org/12.0/#prod-Elision) ,

1.  Perform ? [IteratorDestructuringAssignmentEvaluation](https://262.ecma-international.org/12.0/#sec-runtime-semantics-iteratordestructuringassignmentevaluation) of [Elision](https://262.ecma-international.org/12.0/#prod-Elision) with iteratorRecord as the argument.
2.  If iteratorRecord.\[\[Done\]\] is false, then
    1.  Let next be [IteratorStep](https://262.ecma-international.org/12.0/#sec-iteratorstep)(iteratorRecord).
    2.  If next is an [abrupt completion](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type), set iteratorRecord.\[\[Done\]\] to true.
    3.  [ReturnIfAbrupt](https://262.ecma-international.org/12.0/#sec-returnifabrupt)(next).
    4.  If next is false, set iteratorRecord.\[\[Done\]\] to true.
3.  Return [NormalCompletion](https://262.ecma-international.org/12.0/#sec-normalcompletion)(empty).

[AssignmentElement](https://262.ecma-international.org/12.0/#prod-AssignmentElement) : [DestructuringAssignmentTarget](https://262.ecma-international.org/12.0/#prod-DestructuringAssignmentTarget) [Initializer](https://262.ecma-international.org/12.0/#prod-Initializer)opt

1.  If [DestructuringAssignmentTarget](https://262.ecma-international.org/12.0/#prod-DestructuringAssignmentTarget) is neither an [ObjectLiteral](https://262.ecma-international.org/12.0/#prod-ObjectLiteral) nor an [ArrayLiteral](https://262.ecma-international.org/12.0/#prod-ArrayLiteral), then
    1.  Let lref be the result of evaluating [DestructuringAssignmentTarget](https://262.ecma-international.org/12.0/#prod-DestructuringAssignmentTarget).
    2.  [ReturnIfAbrupt](https://262.ecma-international.org/12.0/#sec-returnifabrupt)(lref).
2.  If iteratorRecord.\[\[Done\]\] is false, then
    1.  Let next be [IteratorStep](https://262.ecma-international.org/12.0/#sec-iteratorstep)(iteratorRecord).
    2.  If next is an [abrupt completion](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type), set iteratorRecord.\[\[Done\]\] to true.
    3.  [ReturnIfAbrupt](https://262.ecma-international.org/12.0/#sec-returnifabrupt)(next).
    4.  If next is false, set iteratorRecord.\[\[Done\]\] to true.
    5.  Else,
        1.  Let value be [IteratorValue](https://262.ecma-international.org/12.0/#sec-iteratorvalue)(next).
        2.  If value is an [abrupt completion](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type), set iteratorRecord.\[\[Done\]\] to true.
        3.  [ReturnIfAbrupt](https://262.ecma-international.org/12.0/#sec-returnifabrupt)(value).
3.  If iteratorRecord.\[\[Done\]\] is true, let value be undefined.
4.  If [Initializer](https://262.ecma-international.org/12.0/#prod-Initializer) is present and value is undefined, then
    1.  If [IsAnonymousFunctionDefinition](https://262.ecma-international.org/12.0/#sec-isanonymousfunctiondefinition)([Initializer](https://262.ecma-international.org/12.0/#prod-Initializer)) is true and [IsIdentifierRef](https://262.ecma-international.org/12.0/#sec-static-semantics-isidentifierref) of [DestructuringAssignmentTarget](https://262.ecma-international.org/12.0/#prod-DestructuringAssignmentTarget) is true, then
        1.  Let v be ? [NamedEvaluation](https://262.ecma-international.org/12.0/#sec-runtime-semantics-namedevaluation) of [Initializer](https://262.ecma-international.org/12.0/#prod-Initializer) with argument lref.\[\[ReferencedName\]\].
    2.  Else,
        1.  Let defaultValue be the result of evaluating [Initializer](https://262.ecma-international.org/12.0/#prod-Initializer).
        2.  Let v be ? [GetValue](https://262.ecma-international.org/12.0/#sec-getvalue)(defaultValue).
5.  Else, let v be value.
6.  If [DestructuringAssignmentTarget](https://262.ecma-international.org/12.0/#prod-DestructuringAssignmentTarget) is an [ObjectLiteral](https://262.ecma-international.org/12.0/#prod-ObjectLiteral) or an [ArrayLiteral](https://262.ecma-international.org/12.0/#prod-ArrayLiteral), then
    1.  Let nestedAssignmentPattern be the [AssignmentPattern](https://262.ecma-international.org/12.0/#prod-AssignmentPattern) that is [covered](https://262.ecma-international.org/12.0/#sec-syntactic-grammar) by [DestructuringAssignmentTarget](https://262.ecma-international.org/12.0/#prod-DestructuringAssignmentTarget).
    2.  Return the result of performing [DestructuringAssignmentEvaluation](https://262.ecma-international.org/12.0/#sec-runtime-semantics-destructuringassignmentevaluation) of nestedAssignmentPattern with v as the argument.
7.  Return ? [PutValue](https://262.ecma-international.org/12.0/#sec-putvalue)(lref, v).

Note

Left to right evaluation order is maintained by evaluating a [DestructuringAssignmentTarget](https://262.ecma-international.org/12.0/#prod-DestructuringAssignmentTarget) that is not a destructuring pattern prior to accessing the iterator or evaluating the [Initializer](https://262.ecma-international.org/12.0/#prod-Initializer).

[AssignmentRestElement](https://262.ecma-international.org/12.0/#prod-AssignmentRestElement) : ... [DestructuringAssignmentTarget](https://262.ecma-international.org/12.0/#prod-DestructuringAssignmentTarget)

1.  If [DestructuringAssignmentTarget](https://262.ecma-international.org/12.0/#prod-DestructuringAssignmentTarget) is neither an [ObjectLiteral](https://262.ecma-international.org/12.0/#prod-ObjectLiteral) nor an [ArrayLiteral](https://262.ecma-international.org/12.0/#prod-ArrayLiteral), then
    1.  Let lref be the result of evaluating [DestructuringAssignmentTarget](https://262.ecma-international.org/12.0/#prod-DestructuringAssignmentTarget).
    2.  [ReturnIfAbrupt](https://262.ecma-international.org/12.0/#sec-returnifabrupt)(lref).
2.  Let A be ! [ArrayCreate](https://262.ecma-international.org/12.0/#sec-arraycreate)(0).
3.  Let n be 0.
4.  Repeat, while iteratorRecord.\[\[Done\]\] is false,
    1.  Let next be [IteratorStep](https://262.ecma-international.org/12.0/#sec-iteratorstep)(iteratorRecord).
    2.  If next is an [abrupt completion](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type), set iteratorRecord.\[\[Done\]\] to true.
    3.  [ReturnIfAbrupt](https://262.ecma-international.org/12.0/#sec-returnifabrupt)(next).
    4.  If next is false, set iteratorRecord.\[\[Done\]\] to true.
    5.  Else,
        1.  Let nextValue be [IteratorValue](https://262.ecma-international.org/12.0/#sec-iteratorvalue)(next).
        2.  If nextValue is an [abrupt completion](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type), set iteratorRecord.\[\[Done\]\] to true.
        3.  [ReturnIfAbrupt](https://262.ecma-international.org/12.0/#sec-returnifabrupt)(nextValue).
        4.  Perform ! [CreateDataPropertyOrThrow](https://262.ecma-international.org/12.0/#sec-createdatapropertyorthrow)(A, ! [ToString](https://262.ecma-international.org/12.0/#sec-tostring)([𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(n)), nextValue).
        5.  Set n to n + 1.
5.  If [DestructuringAssignmentTarget](https://262.ecma-international.org/12.0/#prod-DestructuringAssignmentTarget) is neither an [ObjectLiteral](https://262.ecma-international.org/12.0/#prod-ObjectLiteral) nor an [ArrayLiteral](https://262.ecma-international.org/12.0/#prod-ArrayLiteral), then
    1.  Return ? [PutValue](https://262.ecma-international.org/12.0/#sec-putvalue)(lref, A).
6.  Let nestedAssignmentPattern be the [AssignmentPattern](https://262.ecma-international.org/12.0/#prod-AssignmentPattern) that is [covered](https://262.ecma-international.org/12.0/#sec-syntactic-grammar) by [DestructuringAssignmentTarget](https://262.ecma-international.org/12.0/#prod-DestructuringAssignmentTarget).
7.  Return the result of performing [DestructuringAssignmentEvaluation](https://262.ecma-international.org/12.0/#sec-runtime-semantics-destructuringassignmentevaluation) of nestedAssignmentPattern with A as the argument.

## 13.15.5.6 Runtime Semantics: KeyedDestructuringAssignmentEvaluation

With parameters value and propertyName.

[AssignmentElement](https://262.ecma-international.org/12.0/#prod-AssignmentElement) : [DestructuringAssignmentTarget](https://262.ecma-international.org/12.0/#prod-DestructuringAssignmentTarget) [Initializer](https://262.ecma-international.org/12.0/#prod-Initializer)opt

1.  If [DestructuringAssignmentTarget](https://262.ecma-international.org/12.0/#prod-DestructuringAssignmentTarget) is neither an [ObjectLiteral](https://262.ecma-international.org/12.0/#prod-ObjectLiteral) nor an [ArrayLiteral](https://262.ecma-international.org/12.0/#prod-ArrayLiteral), then
    1.  Let lref be the result of evaluating [DestructuringAssignmentTarget](https://262.ecma-international.org/12.0/#prod-DestructuringAssignmentTarget).
    2.  [ReturnIfAbrupt](https://262.ecma-international.org/12.0/#sec-returnifabrupt)(lref).
2.  Let v be ? [GetV](https://262.ecma-international.org/12.0/#sec-getv)(value, propertyName).
3.  If [Initializer](https://262.ecma-international.org/12.0/#prod-Initializer) is present and v is undefined, then
    1.  If [IsAnonymousFunctionDefinition](https://262.ecma-international.org/12.0/#sec-isanonymousfunctiondefinition)([Initializer](https://262.ecma-international.org/12.0/#prod-Initializer)) and [IsIdentifierRef](https://262.ecma-international.org/12.0/#sec-static-semantics-isidentifierref) of [DestructuringAssignmentTarget](https://262.ecma-international.org/12.0/#prod-DestructuringAssignmentTarget) are both true, then
        1.  Let rhsValue be ? [NamedEvaluation](https://262.ecma-international.org/12.0/#sec-runtime-semantics-namedevaluation) of [Initializer](https://262.ecma-international.org/12.0/#prod-Initializer) with argument lref.\[\[ReferencedName\]\].
    2.  Else,
        1.  Let defaultValue be the result of evaluating [Initializer](https://262.ecma-international.org/12.0/#prod-Initializer).
        2.  Let rhsValue be ? [GetValue](https://262.ecma-international.org/12.0/#sec-getvalue)(defaultValue).
4.  Else, let rhsValue be v.
5.  If [DestructuringAssignmentTarget](https://262.ecma-international.org/12.0/#prod-DestructuringAssignmentTarget) is an [ObjectLiteral](https://262.ecma-international.org/12.0/#prod-ObjectLiteral) or an [ArrayLiteral](https://262.ecma-international.org/12.0/#prod-ArrayLiteral), then
    1.  Let assignmentPattern be the [AssignmentPattern](https://262.ecma-international.org/12.0/#prod-AssignmentPattern) that is [covered](https://262.ecma-international.org/12.0/#sec-syntactic-grammar) by [DestructuringAssignmentTarget](https://262.ecma-international.org/12.0/#prod-DestructuringAssignmentTarget).
    2.  Return the result of performing [DestructuringAssignmentEvaluation](https://262.ecma-international.org/12.0/#sec-runtime-semantics-destructuringassignmentevaluation) of assignmentPattern with rhsValue as the argument.
6.  Return ? [PutValue](https://262.ecma-international.org/12.0/#sec-putvalue)(lref, rhsValue).

## 13.16 Comma Operator ( `,` )

## Syntax

[Expression](https://262.ecma-international.org/12.0/#prod-Expression)\[In, Yield, Await\] : [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression)\[?In, ?Yield, ?Await\] [Expression](https://262.ecma-international.org/12.0/#prod-Expression)\[?In, ?Yield, ?Await\] , [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression)\[?In, ?Yield, ?Await\]

## 13.16.1 Runtime Semantics: Evaluation

[Expression](https://262.ecma-international.org/12.0/#prod-Expression) : [Expression](https://262.ecma-international.org/12.0/#prod-Expression) , [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression)

1.  Let lref be the result of evaluating [Expression](https://262.ecma-international.org/12.0/#prod-Expression).
2.  Perform ? [GetValue](https://262.ecma-international.org/12.0/#sec-getvalue)(lref).
3.  Let rref be the result of evaluating [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression).
4.  Return ? [GetValue](https://262.ecma-international.org/12.0/#sec-getvalue)(rref).

Note

[GetValue](https://262.ecma-international.org/12.0/#sec-getvalue) must be called even though its value is not used because it may have observable side-effects.

## 14 ECMAScript Language: Statements and Declarations

## Syntax

[Statement](https://262.ecma-international.org/12.0/#prod-Statement)\[Yield, Await, Return\] : [BlockStatement](https://262.ecma-international.org/12.0/#prod-BlockStatement)\[?Yield, ?Await, ?Return\] [VariableStatement](https://262.ecma-international.org/12.0/#prod-VariableStatement)\[?Yield, ?Await\] [EmptyStatement](https://262.ecma-international.org/12.0/#prod-EmptyStatement) [ExpressionStatement](https://262.ecma-international.org/12.0/#prod-ExpressionStatement)\[?Yield, ?Await\] [IfStatement](https://262.ecma-international.org/12.0/#prod-IfStatement)\[?Yield, ?Await, ?Return\] [BreakableStatement](https://262.ecma-international.org/12.0/#prod-BreakableStatement)\[?Yield, ?Await, ?Return\] [ContinueStatement](https://262.ecma-international.org/12.0/#prod-ContinueStatement)\[?Yield, ?Await\] [BreakStatement](https://262.ecma-international.org/12.0/#prod-BreakStatement)\[?Yield, ?Await\] \[+Return\][ReturnStatement](https://262.ecma-international.org/12.0/#prod-ReturnStatement)\[?Yield, ?Await\] [WithStatement](https://262.ecma-international.org/12.0/#prod-WithStatement)\[?Yield, ?Await, ?Return\] [LabelledStatement](https://262.ecma-international.org/12.0/#prod-LabelledStatement)\[?Yield, ?Await, ?Return\] [ThrowStatement](https://262.ecma-international.org/12.0/#prod-ThrowStatement)\[?Yield, ?Await\] [TryStatement](https://262.ecma-international.org/12.0/#prod-TryStatement)\[?Yield, ?Await, ?Return\] [DebuggerStatement](https://262.ecma-international.org/12.0/#prod-DebuggerStatement) [Declaration](https://262.ecma-international.org/12.0/#prod-Declaration)\[Yield, Await\] : [HoistableDeclaration](https://262.ecma-international.org/12.0/#prod-HoistableDeclaration)\[?Yield, ?Await, ~Default\] [ClassDeclaration](https://262.ecma-international.org/12.0/#prod-ClassDeclaration)\[?Yield, ?Await, ~Default\] [LexicalDeclaration](https://262.ecma-international.org/12.0/#prod-LexicalDeclaration)\[+In, ?Yield, ?Await\] [HoistableDeclaration](https://262.ecma-international.org/12.0/#prod-HoistableDeclaration)\[Yield, Await, Default\] : [FunctionDeclaration](https://262.ecma-international.org/12.0/#prod-FunctionDeclaration)\[?Yield, ?Await, ?Default\] [GeneratorDeclaration](https://262.ecma-international.org/12.0/#prod-GeneratorDeclaration)\[?Yield, ?Await, ?Default\] [AsyncFunctionDeclaration](https://262.ecma-international.org/12.0/#prod-AsyncFunctionDeclaration)\[?Yield, ?Await, ?Default\] [AsyncGeneratorDeclaration](https://262.ecma-international.org/12.0/#prod-AsyncGeneratorDeclaration)\[?Yield, ?Await, ?Default\] [BreakableStatement](https://262.ecma-international.org/12.0/#prod-BreakableStatement)\[Yield, Await, Return\] : [IterationStatement](https://262.ecma-international.org/12.0/#prod-IterationStatement)\[?Yield, ?Await, ?Return\] [SwitchStatement](https://262.ecma-international.org/12.0/#prod-SwitchStatement)\[?Yield, ?Await, ?Return\]

## 14.1 Statement Semantics

## 14.1.1 Runtime Semantics: Evaluation

[HoistableDeclaration](https://262.ecma-international.org/12.0/#prod-HoistableDeclaration) : [GeneratorDeclaration](https://262.ecma-international.org/12.0/#prod-GeneratorDeclaration) [AsyncFunctionDeclaration](https://262.ecma-international.org/12.0/#prod-AsyncFunctionDeclaration) [AsyncGeneratorDeclaration](https://262.ecma-international.org/12.0/#prod-AsyncGeneratorDeclaration)

1.  Return [NormalCompletion](https://262.ecma-international.org/12.0/#sec-normalcompletion)(empty).

[HoistableDeclaration](https://262.ecma-international.org/12.0/#prod-HoistableDeclaration) : [FunctionDeclaration](https://262.ecma-international.org/12.0/#prod-FunctionDeclaration)

1.  Return the result of evaluating [FunctionDeclaration](https://262.ecma-international.org/12.0/#prod-FunctionDeclaration).

[BreakableStatement](https://262.ecma-international.org/12.0/#prod-BreakableStatement) : [IterationStatement](https://262.ecma-international.org/12.0/#prod-IterationStatement) [SwitchStatement](https://262.ecma-international.org/12.0/#prod-SwitchStatement)

1.  Let newLabelSet be a new empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).
2.  Return the result of performing [LabelledEvaluation](https://262.ecma-international.org/12.0/#sec-runtime-semantics-labelledevaluation) of this [BreakableStatement](https://262.ecma-international.org/12.0/#prod-BreakableStatement) with argument newLabelSet.

## 14.2 Block

## Syntax

[BlockStatement](https://262.ecma-international.org/12.0/#prod-BlockStatement)\[Yield, Await, Return\] : [Block](https://262.ecma-international.org/12.0/#prod-Block)\[?Yield, ?Await, ?Return\] [Block](https://262.ecma-international.org/12.0/#prod-Block)\[Yield, Await, Return\] : { [StatementList](https://262.ecma-international.org/12.0/#prod-StatementList)\[?Yield, ?Await, ?Return\]opt } [StatementList](https://262.ecma-international.org/12.0/#prod-StatementList)\[Yield, Await, Return\] : [StatementListItem](https://262.ecma-international.org/12.0/#prod-StatementListItem)\[?Yield, ?Await, ?Return\] [StatementList](https://262.ecma-international.org/12.0/#prod-StatementList)\[?Yield, ?Await, ?Return\] [StatementListItem](https://262.ecma-international.org/12.0/#prod-StatementListItem)\[?Yield, ?Await, ?Return\] [StatementListItem](https://262.ecma-international.org/12.0/#prod-StatementListItem)\[Yield, Await, Return\] : [Statement](https://262.ecma-international.org/12.0/#prod-Statement)\[?Yield, ?Await, ?Return\] [Declaration](https://262.ecma-international.org/12.0/#prod-Declaration)\[?Yield, ?Await\]

## 14.2.1 Static Semantics: Early Errors

[Block](https://262.ecma-international.org/12.0/#prod-Block) : { [StatementList](https://262.ecma-international.org/12.0/#prod-StatementList) }

-   It is a Syntax Error if the [LexicallyDeclaredNames](https://262.ecma-international.org/12.0/#sec-static-semantics-lexicallydeclarednames) of [StatementList](https://262.ecma-international.org/12.0/#prod-StatementList) contains any duplicate entries.
-   It is a Syntax Error if any element of the [LexicallyDeclaredNames](https://262.ecma-international.org/12.0/#sec-static-semantics-lexicallydeclarednames) of [StatementList](https://262.ecma-international.org/12.0/#prod-StatementList) also occurs in the [VarDeclaredNames](https://262.ecma-international.org/12.0/#sec-static-semantics-vardeclarednames) of [StatementList](https://262.ecma-international.org/12.0/#prod-StatementList).

## 14.2.2 Runtime Semantics: Evaluation

[Block](https://262.ecma-international.org/12.0/#prod-Block) : { }

1.  Return [NormalCompletion](https://262.ecma-international.org/12.0/#sec-normalcompletion)(empty).

[Block](https://262.ecma-international.org/12.0/#prod-Block) : { [StatementList](https://262.ecma-international.org/12.0/#prod-StatementList) }

1.  Let oldEnv be the [running execution context](https://262.ecma-international.org/12.0/#running-execution-context)'s LexicalEnvironment.
2.  Let blockEnv be [NewDeclarativeEnvironment](https://262.ecma-international.org/12.0/#sec-newdeclarativeenvironment)(oldEnv).
3.  Perform [BlockDeclarationInstantiation](https://262.ecma-international.org/12.0/#sec-blockdeclarationinstantiation)([StatementList](https://262.ecma-international.org/12.0/#prod-StatementList), blockEnv).
4.  Set the [running execution context](https://262.ecma-international.org/12.0/#running-execution-context)'s LexicalEnvironment to blockEnv.
5.  Let blockValue be the result of evaluating [StatementList](https://262.ecma-international.org/12.0/#prod-StatementList).
6.  Set the [running execution context](https://262.ecma-international.org/12.0/#running-execution-context)'s LexicalEnvironment to oldEnv.
7.  Return blockValue.

Note 1

No matter how control leaves the [Block](https://262.ecma-international.org/12.0/#prod-Block) the LexicalEnvironment is always restored to its former state.

[StatementList](https://262.ecma-international.org/12.0/#prod-StatementList) : [StatementList](https://262.ecma-international.org/12.0/#prod-StatementList) [StatementListItem](https://262.ecma-international.org/12.0/#prod-StatementListItem)

1.  Let sl be the result of evaluating [StatementList](https://262.ecma-international.org/12.0/#prod-StatementList).
2.  [ReturnIfAbrupt](https://262.ecma-international.org/12.0/#sec-returnifabrupt)(sl).
3.  Let s be the result of evaluating [StatementListItem](https://262.ecma-international.org/12.0/#prod-StatementListItem).
4.  Return [Completion](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type)([UpdateEmpty](https://262.ecma-international.org/12.0/#sec-updateempty)(s, sl)).

Note 2

The value of a [StatementList](https://262.ecma-international.org/12.0/#prod-StatementList) is the value of the last value-producing item in the [StatementList](https://262.ecma-international.org/12.0/#prod-StatementList). For example, the following calls to the `eval` function all return the value 1:

```
eval("1;;;;;")
eval("1;{}")
eval("1;var a;")
```

## 14.2.3 BlockDeclarationInstantiation ( code, env )

Note

When a [Block](https://262.ecma-international.org/12.0/#prod-Block) or [CaseBlock](https://262.ecma-international.org/12.0/#prod-CaseBlock) is evaluated a new [declarative Environment Record](https://262.ecma-international.org/12.0/#sec-declarative-environment-records) is created and bindings for each block scoped variable, constant, function, or class declared in the block are instantiated in the [Environment Record](https://262.ecma-international.org/12.0/#sec-environment-records).

The abstract operation BlockDeclarationInstantiation takes arguments code (a [Parse Node](https://262.ecma-international.org/12.0/#sec-syntactic-grammar)) and env (an [Environment Record](https://262.ecma-international.org/12.0/#sec-environment-records)). code is the [Parse Node](https://262.ecma-international.org/12.0/#sec-syntactic-grammar) corresponding to the body of the block. env is the [Environment Record](https://262.ecma-international.org/12.0/#sec-environment-records) in which bindings are to be created. It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): env is a [declarative Environment Record](https://262.ecma-international.org/12.0/#sec-declarative-environment-records).
2.  Let declarations be the [LexicallyScopedDeclarations](https://262.ecma-international.org/12.0/#sec-static-semantics-lexicallyscopeddeclarations) of code.
3.  For each element d of declarations, do
    1.  For each element dn of the [BoundNames](https://262.ecma-international.org/12.0/#sec-static-semantics-boundnames) of d, do
        1.  If [IsConstantDeclaration](https://262.ecma-international.org/12.0/#sec-static-semantics-isconstantdeclaration) of d is true, then
            1.  Perform ! env.CreateImmutableBinding(dn, true).
        2.  Else,
            1.  Perform ! env.CreateMutableBinding(dn, false). NOTE: This step is replaced in section [B.3.3.6](https://262.ecma-international.org/12.0/#sec-web-compat-blockdeclarationinstantiation).
    2.  If d is a [FunctionDeclaration](https://262.ecma-international.org/12.0/#prod-FunctionDeclaration), a [GeneratorDeclaration](https://262.ecma-international.org/12.0/#prod-GeneratorDeclaration), an [AsyncFunctionDeclaration](https://262.ecma-international.org/12.0/#prod-AsyncFunctionDeclaration), or an [AsyncGeneratorDeclaration](https://262.ecma-international.org/12.0/#prod-AsyncGeneratorDeclaration), then
        1.  Let fn be the sole element of the [BoundNames](https://262.ecma-international.org/12.0/#sec-static-semantics-boundnames) of d.
        2.  Let fo be [InstantiateFunctionObject](https://262.ecma-international.org/12.0/#sec-runtime-semantics-instantiatefunctionobject) of d with argument env.
        3.  Perform env.InitializeBinding(fn, fo). NOTE: This step is replaced in section [B.3.3.6](https://262.ecma-international.org/12.0/#sec-web-compat-blockdeclarationinstantiation).

## 14.3 Declarations and the Variable Statement

## 14.3.1 Let and Const Declarations

Note

`let` and `const` declarations define variables that are scoped to the [running execution context](https://262.ecma-international.org/12.0/#running-execution-context)'s LexicalEnvironment. The variables are created when their containing [Environment Record](https://262.ecma-international.org/12.0/#sec-environment-records) is instantiated but may not be accessed in any way until the variable's [LexicalBinding](https://262.ecma-international.org/12.0/#prod-LexicalBinding) is evaluated. A variable defined by a [LexicalBinding](https://262.ecma-international.org/12.0/#prod-LexicalBinding) with an [Initializer](https://262.ecma-international.org/12.0/#prod-Initializer) is assigned the value of its [Initializer](https://262.ecma-international.org/12.0/#prod-Initializer)'s [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression) when the [LexicalBinding](https://262.ecma-international.org/12.0/#prod-LexicalBinding) is evaluated, not when the variable is created. If a [LexicalBinding](https://262.ecma-international.org/12.0/#prod-LexicalBinding) in a `let` declaration does not have an [Initializer](https://262.ecma-international.org/12.0/#prod-Initializer) the variable is assigned the value undefined when the [LexicalBinding](https://262.ecma-international.org/12.0/#prod-LexicalBinding) is evaluated.

## Syntax

[LexicalDeclaration](https://262.ecma-international.org/12.0/#prod-LexicalDeclaration)\[In, Yield, Await\] : [LetOrConst](https://262.ecma-international.org/12.0/#prod-LetOrConst) [BindingList](https://262.ecma-international.org/12.0/#prod-BindingList)\[?In, ?Yield, ?Await\] ; [LetOrConst](https://262.ecma-international.org/12.0/#prod-LetOrConst) : let const [BindingList](https://262.ecma-international.org/12.0/#prod-BindingList)\[In, Yield, Await\] : [LexicalBinding](https://262.ecma-international.org/12.0/#prod-LexicalBinding)\[?In, ?Yield, ?Await\] [BindingList](https://262.ecma-international.org/12.0/#prod-BindingList)\[?In, ?Yield, ?Await\] , [LexicalBinding](https://262.ecma-international.org/12.0/#prod-LexicalBinding)\[?In, ?Yield, ?Await\] [LexicalBinding](https://262.ecma-international.org/12.0/#prod-LexicalBinding)\[In, Yield, Await\] : [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier)\[?Yield, ?Await\] [Initializer](https://262.ecma-international.org/12.0/#prod-Initializer)\[?In, ?Yield, ?Await\]opt [BindingPattern](https://262.ecma-international.org/12.0/#prod-BindingPattern)\[?Yield, ?Await\] [Initializer](https://262.ecma-international.org/12.0/#prod-Initializer)\[?In, ?Yield, ?Await\]

## 14.3.1.1 Static Semantics: Early Errors

[LexicalDeclaration](https://262.ecma-international.org/12.0/#prod-LexicalDeclaration) : [LetOrConst](https://262.ecma-international.org/12.0/#prod-LetOrConst) [BindingList](https://262.ecma-international.org/12.0/#prod-BindingList) ;

-   It is a Syntax Error if the [BoundNames](https://262.ecma-international.org/12.0/#sec-static-semantics-boundnames) of [BindingList](https://262.ecma-international.org/12.0/#prod-BindingList) contains "let".
-   It is a Syntax Error if the [BoundNames](https://262.ecma-international.org/12.0/#sec-static-semantics-boundnames) of [BindingList](https://262.ecma-international.org/12.0/#prod-BindingList) contains any duplicate entries.

[LexicalBinding](https://262.ecma-international.org/12.0/#prod-LexicalBinding) : [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier) [Initializer](https://262.ecma-international.org/12.0/#prod-Initializer)opt

-   It is a Syntax Error if [Initializer](https://262.ecma-international.org/12.0/#prod-Initializer) is not present and [IsConstantDeclaration](https://262.ecma-international.org/12.0/#sec-static-semantics-isconstantdeclaration) of the [LexicalDeclaration](https://262.ecma-international.org/12.0/#prod-LexicalDeclaration) containing this [LexicalBinding](https://262.ecma-international.org/12.0/#prod-LexicalBinding) is true.

## 14.3.1.2 Runtime Semantics: Evaluation

[LexicalDeclaration](https://262.ecma-international.org/12.0/#prod-LexicalDeclaration) : [LetOrConst](https://262.ecma-international.org/12.0/#prod-LetOrConst) [BindingList](https://262.ecma-international.org/12.0/#prod-BindingList) ;

1.  Let next be the result of evaluating [BindingList](https://262.ecma-international.org/12.0/#prod-BindingList).
2.  [ReturnIfAbrupt](https://262.ecma-international.org/12.0/#sec-returnifabrupt)(next).
3.  Return [NormalCompletion](https://262.ecma-international.org/12.0/#sec-normalcompletion)(empty).

[BindingList](https://262.ecma-international.org/12.0/#prod-BindingList) : [BindingList](https://262.ecma-international.org/12.0/#prod-BindingList) , [LexicalBinding](https://262.ecma-international.org/12.0/#prod-LexicalBinding)

1.  Let next be the result of evaluating [BindingList](https://262.ecma-international.org/12.0/#prod-BindingList).
2.  [ReturnIfAbrupt](https://262.ecma-international.org/12.0/#sec-returnifabrupt)(next).
3.  Return the result of evaluating [LexicalBinding](https://262.ecma-international.org/12.0/#prod-LexicalBinding).

[LexicalBinding](https://262.ecma-international.org/12.0/#prod-LexicalBinding) : [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier)

1.  Let lhs be [ResolveBinding](https://262.ecma-international.org/12.0/#sec-resolvebinding)([StringValue](https://262.ecma-international.org/12.0/#sec-static-semantics-stringvalue) of [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier)).
2.  Return [InitializeReferencedBinding](https://262.ecma-international.org/12.0/#sec-initializereferencedbinding)(lhs, undefined).

Note

A [static semantics](https://262.ecma-international.org/12.0/#sec-static-semantic-rules) rule ensures that this form of [LexicalBinding](https://262.ecma-international.org/12.0/#prod-LexicalBinding) never occurs in a `const` declaration.

[LexicalBinding](https://262.ecma-international.org/12.0/#prod-LexicalBinding) : [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier) [Initializer](https://262.ecma-international.org/12.0/#prod-Initializer)

1.  Let bindingId be [StringValue](https://262.ecma-international.org/12.0/#sec-static-semantics-stringvalue) of [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier).
2.  Let lhs be [ResolveBinding](https://262.ecma-international.org/12.0/#sec-resolvebinding)(bindingId).
3.  If [IsAnonymousFunctionDefinition](https://262.ecma-international.org/12.0/#sec-isanonymousfunctiondefinition)([Initializer](https://262.ecma-international.org/12.0/#prod-Initializer)) is true, then
    1.  Let value be [NamedEvaluation](https://262.ecma-international.org/12.0/#sec-runtime-semantics-namedevaluation) of [Initializer](https://262.ecma-international.org/12.0/#prod-Initializer) with argument bindingId.
4.  Else,
    1.  Let rhs be the result of evaluating [Initializer](https://262.ecma-international.org/12.0/#prod-Initializer).
    2.  Let value be ? [GetValue](https://262.ecma-international.org/12.0/#sec-getvalue)(rhs).
5.  Return [InitializeReferencedBinding](https://262.ecma-international.org/12.0/#sec-initializereferencedbinding)(lhs, value).

[LexicalBinding](https://262.ecma-international.org/12.0/#prod-LexicalBinding) : [BindingPattern](https://262.ecma-international.org/12.0/#prod-BindingPattern) [Initializer](https://262.ecma-international.org/12.0/#prod-Initializer)

1.  Let rhs be the result of evaluating [Initializer](https://262.ecma-international.org/12.0/#prod-Initializer).
2.  Let value be ? [GetValue](https://262.ecma-international.org/12.0/#sec-getvalue)(rhs).
3.  Let env be the [running execution context](https://262.ecma-international.org/12.0/#running-execution-context)'s LexicalEnvironment.
4.  Return the result of performing [BindingInitialization](https://262.ecma-international.org/12.0/#sec-runtime-semantics-bindinginitialization) for [BindingPattern](https://262.ecma-international.org/12.0/#prod-BindingPattern) using value and env as the arguments.

## 14.3.2 Variable Statement

Note

A `var` statement declares variables that are scoped to the [running execution context](https://262.ecma-international.org/12.0/#running-execution-context)'s VariableEnvironment. Var variables are created when their containing [Environment Record](https://262.ecma-international.org/12.0/#sec-environment-records) is instantiated and are initialized to undefined when created. Within the scope of any VariableEnvironment a common [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier) may appear in more than one [VariableDeclaration](https://262.ecma-international.org/12.0/#prod-VariableDeclaration) but those declarations collectively define only one variable. A variable defined by a [VariableDeclaration](https://262.ecma-international.org/12.0/#prod-VariableDeclaration) with an [Initializer](https://262.ecma-international.org/12.0/#prod-Initializer) is assigned the value of its [Initializer](https://262.ecma-international.org/12.0/#prod-Initializer)'s [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression) when the [VariableDeclaration](https://262.ecma-international.org/12.0/#prod-VariableDeclaration) is executed, not when the variable is created.

## Syntax

[VariableStatement](https://262.ecma-international.org/12.0/#prod-VariableStatement)\[Yield, Await\] : var [VariableDeclarationList](https://262.ecma-international.org/12.0/#prod-VariableDeclarationList)\[+In, ?Yield, ?Await\] ; [VariableDeclarationList](https://262.ecma-international.org/12.0/#prod-VariableDeclarationList)\[In, Yield, Await\] : [VariableDeclaration](https://262.ecma-international.org/12.0/#prod-VariableDeclaration)\[?In, ?Yield, ?Await\] [VariableDeclarationList](https://262.ecma-international.org/12.0/#prod-VariableDeclarationList)\[?In, ?Yield, ?Await\] , [VariableDeclaration](https://262.ecma-international.org/12.0/#prod-VariableDeclaration)\[?In, ?Yield, ?Await\] [VariableDeclaration](https://262.ecma-international.org/12.0/#prod-VariableDeclaration)\[In, Yield, Await\] : [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier)\[?Yield, ?Await\] [Initializer](https://262.ecma-international.org/12.0/#prod-Initializer)\[?In, ?Yield, ?Await\]opt [BindingPattern](https://262.ecma-international.org/12.0/#prod-BindingPattern)\[?Yield, ?Await\] [Initializer](https://262.ecma-international.org/12.0/#prod-Initializer)\[?In, ?Yield, ?Await\]

## 14.3.2.1 Runtime Semantics: Evaluation

[VariableStatement](https://262.ecma-international.org/12.0/#prod-VariableStatement) : var [VariableDeclarationList](https://262.ecma-international.org/12.0/#prod-VariableDeclarationList) ;

1.  Let next be the result of evaluating [VariableDeclarationList](https://262.ecma-international.org/12.0/#prod-VariableDeclarationList).
2.  [ReturnIfAbrupt](https://262.ecma-international.org/12.0/#sec-returnifabrupt)(next).
3.  Return [NormalCompletion](https://262.ecma-international.org/12.0/#sec-normalcompletion)(empty).

[VariableDeclarationList](https://262.ecma-international.org/12.0/#prod-VariableDeclarationList) : [VariableDeclarationList](https://262.ecma-international.org/12.0/#prod-VariableDeclarationList) , [VariableDeclaration](https://262.ecma-international.org/12.0/#prod-VariableDeclaration)

1.  Let next be the result of evaluating [VariableDeclarationList](https://262.ecma-international.org/12.0/#prod-VariableDeclarationList).
2.  [ReturnIfAbrupt](https://262.ecma-international.org/12.0/#sec-returnifabrupt)(next).
3.  Return the result of evaluating [VariableDeclaration](https://262.ecma-international.org/12.0/#prod-VariableDeclaration).

[VariableDeclaration](https://262.ecma-international.org/12.0/#prod-VariableDeclaration) : [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier)

1.  Return [NormalCompletion](https://262.ecma-international.org/12.0/#sec-normalcompletion)(empty).

[VariableDeclaration](https://262.ecma-international.org/12.0/#prod-VariableDeclaration) : [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier) [Initializer](https://262.ecma-international.org/12.0/#prod-Initializer)

1.  Let bindingId be [StringValue](https://262.ecma-international.org/12.0/#sec-static-semantics-stringvalue) of [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier).
2.  Let lhs be ? [ResolveBinding](https://262.ecma-international.org/12.0/#sec-resolvebinding)(bindingId).
3.  If [IsAnonymousFunctionDefinition](https://262.ecma-international.org/12.0/#sec-isanonymousfunctiondefinition)([Initializer](https://262.ecma-international.org/12.0/#prod-Initializer)) is true, then
    1.  Let value be [NamedEvaluation](https://262.ecma-international.org/12.0/#sec-runtime-semantics-namedevaluation) of [Initializer](https://262.ecma-international.org/12.0/#prod-Initializer) with argument bindingId.
4.  Else,
    1.  Let rhs be the result of evaluating [Initializer](https://262.ecma-international.org/12.0/#prod-Initializer).
    2.  Let value be ? [GetValue](https://262.ecma-international.org/12.0/#sec-getvalue)(rhs).
5.  Return ? [PutValue](https://262.ecma-international.org/12.0/#sec-putvalue)(lhs, value).

Note

If a [VariableDeclaration](https://262.ecma-international.org/12.0/#prod-VariableDeclaration) is nested within a with statement and the [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier) in the [VariableDeclaration](https://262.ecma-international.org/12.0/#prod-VariableDeclaration) is the same as a [property name](https://262.ecma-international.org/12.0/#property-name) of the binding object of the with statement's [object Environment Record](https://262.ecma-international.org/12.0/#sec-object-environment-records), then step [5](https://262.ecma-international.org/12.0/#step-vardecllist-evaluation-putvalue) will assign value to the property instead of assigning to the VariableEnvironment binding of the [Identifier](https://262.ecma-international.org/12.0/#prod-Identifier).

[VariableDeclaration](https://262.ecma-international.org/12.0/#prod-VariableDeclaration) : [BindingPattern](https://262.ecma-international.org/12.0/#prod-BindingPattern) [Initializer](https://262.ecma-international.org/12.0/#prod-Initializer)

1.  Let rhs be the result of evaluating [Initializer](https://262.ecma-international.org/12.0/#prod-Initializer).
2.  Let rval be ? [GetValue](https://262.ecma-international.org/12.0/#sec-getvalue)(rhs).
3.  Return the result of performing [BindingInitialization](https://262.ecma-international.org/12.0/#sec-runtime-semantics-bindinginitialization) for [BindingPattern](https://262.ecma-international.org/12.0/#prod-BindingPattern) passing rval and undefined as arguments.

## 14.3.3 Destructuring Binding Patterns

## Syntax

[BindingPattern](https://262.ecma-international.org/12.0/#prod-BindingPattern)\[Yield, Await\] : [ObjectBindingPattern](https://262.ecma-international.org/12.0/#prod-ObjectBindingPattern)\[?Yield, ?Await\] [ArrayBindingPattern](https://262.ecma-international.org/12.0/#prod-ArrayBindingPattern)\[?Yield, ?Await\] [ObjectBindingPattern](https://262.ecma-international.org/12.0/#prod-ObjectBindingPattern)\[Yield, Await\] : { } { [BindingRestProperty](https://262.ecma-international.org/12.0/#prod-BindingRestProperty)\[?Yield, ?Await\] } { [BindingPropertyList](https://262.ecma-international.org/12.0/#prod-BindingPropertyList)\[?Yield, ?Await\] } { [BindingPropertyList](https://262.ecma-international.org/12.0/#prod-BindingPropertyList)\[?Yield, ?Await\] , [BindingRestProperty](https://262.ecma-international.org/12.0/#prod-BindingRestProperty)\[?Yield, ?Await\]opt } [ArrayBindingPattern](https://262.ecma-international.org/12.0/#prod-ArrayBindingPattern)\[Yield, Await\] : \[ [Elision](https://262.ecma-international.org/12.0/#prod-Elision)opt [BindingRestElement](https://262.ecma-international.org/12.0/#prod-BindingRestElement)\[?Yield, ?Await\]opt \] \[ [BindingElementList](https://262.ecma-international.org/12.0/#prod-BindingElementList)\[?Yield, ?Await\] \] \[ [BindingElementList](https://262.ecma-international.org/12.0/#prod-BindingElementList)\[?Yield, ?Await\] , [Elision](https://262.ecma-international.org/12.0/#prod-Elision)opt [BindingRestElement](https://262.ecma-international.org/12.0/#prod-BindingRestElement)\[?Yield, ?Await\]opt \] [BindingRestProperty](https://262.ecma-international.org/12.0/#prod-BindingRestProperty)\[Yield, Await\] : ... [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier)\[?Yield, ?Await\] [BindingPropertyList](https://262.ecma-international.org/12.0/#prod-BindingPropertyList)\[Yield, Await\] : [BindingProperty](https://262.ecma-international.org/12.0/#prod-BindingProperty)\[?Yield, ?Await\] [BindingPropertyList](https://262.ecma-international.org/12.0/#prod-BindingPropertyList)\[?Yield, ?Await\] , [BindingProperty](https://262.ecma-international.org/12.0/#prod-BindingProperty)\[?Yield, ?Await\] [BindingElementList](https://262.ecma-international.org/12.0/#prod-BindingElementList)\[Yield, Await\] : [BindingElisionElement](https://262.ecma-international.org/12.0/#prod-BindingElisionElement)\[?Yield, ?Await\] [BindingElementList](https://262.ecma-international.org/12.0/#prod-BindingElementList)\[?Yield, ?Await\] , [BindingElisionElement](https://262.ecma-international.org/12.0/#prod-BindingElisionElement)\[?Yield, ?Await\] [BindingElisionElement](https://262.ecma-international.org/12.0/#prod-BindingElisionElement)\[Yield, Await\] : [Elision](https://262.ecma-international.org/12.0/#prod-Elision)opt [BindingElement](https://262.ecma-international.org/12.0/#prod-BindingElement)\[?Yield, ?Await\] [BindingProperty](https://262.ecma-international.org/12.0/#prod-BindingProperty)\[Yield, Await\] : [SingleNameBinding](https://262.ecma-international.org/12.0/#prod-SingleNameBinding)\[?Yield, ?Await\] [PropertyName](https://262.ecma-international.org/12.0/#prod-PropertyName)\[?Yield, ?Await\] : [BindingElement](https://262.ecma-international.org/12.0/#prod-BindingElement)\[?Yield, ?Await\] [BindingElement](https://262.ecma-international.org/12.0/#prod-BindingElement)\[Yield, Await\] : [SingleNameBinding](https://262.ecma-international.org/12.0/#prod-SingleNameBinding)\[?Yield, ?Await\] [BindingPattern](https://262.ecma-international.org/12.0/#prod-BindingPattern)\[?Yield, ?Await\] [Initializer](https://262.ecma-international.org/12.0/#prod-Initializer)\[+In, ?Yield, ?Await\]opt [SingleNameBinding](https://262.ecma-international.org/12.0/#prod-SingleNameBinding)\[Yield, Await\] : [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier)\[?Yield, ?Await\] [Initializer](https://262.ecma-international.org/12.0/#prod-Initializer)\[+In, ?Yield, ?Await\]opt [BindingRestElement](https://262.ecma-international.org/12.0/#prod-BindingRestElement)\[Yield, Await\] : ... [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier)\[?Yield, ?Await\] ... [BindingPattern](https://262.ecma-international.org/12.0/#prod-BindingPattern)\[?Yield, ?Await\]

## 14.3.3.1 Runtime Semantics: PropertyBindingInitialization

With parameters value and environment.

Note

These collect a list of all bound property names rather than just empty completion.

[BindingPropertyList](https://262.ecma-international.org/12.0/#prod-BindingPropertyList) : [BindingPropertyList](https://262.ecma-international.org/12.0/#prod-BindingPropertyList) , [BindingProperty](https://262.ecma-international.org/12.0/#prod-BindingProperty)

1.  Let boundNames be ? [PropertyBindingInitialization](https://262.ecma-international.org/12.0/#sec-destructuring-binding-patterns-runtime-semantics-propertybindinginitialization) of [BindingPropertyList](https://262.ecma-international.org/12.0/#prod-BindingPropertyList) with arguments value and environment.
2.  Let nextNames be ? [PropertyBindingInitialization](https://262.ecma-international.org/12.0/#sec-destructuring-binding-patterns-runtime-semantics-propertybindinginitialization) of [BindingProperty](https://262.ecma-international.org/12.0/#prod-BindingProperty) with arguments value and environment.
3.  Append each item in nextNames to the end of boundNames.
4.  Return boundNames.

[BindingProperty](https://262.ecma-international.org/12.0/#prod-BindingProperty) : [SingleNameBinding](https://262.ecma-international.org/12.0/#prod-SingleNameBinding)

1.  Let name be the string that is the only element of [BoundNames](https://262.ecma-international.org/12.0/#sec-static-semantics-boundnames) of [SingleNameBinding](https://262.ecma-international.org/12.0/#prod-SingleNameBinding).
2.  Perform ? [KeyedBindingInitialization](https://262.ecma-international.org/12.0/#sec-runtime-semantics-keyedbindinginitialization) for [SingleNameBinding](https://262.ecma-international.org/12.0/#prod-SingleNameBinding) using value, environment, and name as the arguments.
3.  Return a [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) whose sole element is name.

[BindingProperty](https://262.ecma-international.org/12.0/#prod-BindingProperty) : [PropertyName](https://262.ecma-international.org/12.0/#prod-PropertyName) : [BindingElement](https://262.ecma-international.org/12.0/#prod-BindingElement)

1.  Let P be the result of evaluating [PropertyName](https://262.ecma-international.org/12.0/#prod-PropertyName).
2.  [ReturnIfAbrupt](https://262.ecma-international.org/12.0/#sec-returnifabrupt)(P).
3.  Perform ? [KeyedBindingInitialization](https://262.ecma-international.org/12.0/#sec-runtime-semantics-keyedbindinginitialization) of [BindingElement](https://262.ecma-international.org/12.0/#prod-BindingElement) with value, environment, and P as the arguments.
4.  Return a [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) whose sole element is P.

## 14.3.3.2 Runtime Semantics: RestBindingInitialization

With parameters value, environment, and excludedNames.

[BindingRestProperty](https://262.ecma-international.org/12.0/#prod-BindingRestProperty) : ... [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier)

1.  Let lhs be ? [ResolveBinding](https://262.ecma-international.org/12.0/#sec-resolvebinding)([StringValue](https://262.ecma-international.org/12.0/#sec-static-semantics-stringvalue) of [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier), environment).
2.  Let restObj be ! [OrdinaryObjectCreate](https://262.ecma-international.org/12.0/#sec-ordinaryobjectcreate)([%Object.prototype%](https://262.ecma-international.org/12.0/#sec-properties-of-the-object-prototype-object)).
3.  Perform ? [CopyDataProperties](https://262.ecma-international.org/12.0/#sec-copydataproperties)(restObj, value, excludedNames).
4.  If environment is undefined, return [PutValue](https://262.ecma-international.org/12.0/#sec-putvalue)(lhs, restObj).
5.  Return [InitializeReferencedBinding](https://262.ecma-international.org/12.0/#sec-initializereferencedbinding)(lhs, restObj).

## 14.3.3.3 Runtime Semantics: KeyedBindingInitialization

With parameters value, environment, and propertyName.

Note

When undefined is passed for environment it indicates that a [PutValue](https://262.ecma-international.org/12.0/#sec-putvalue) operation should be used to assign the initialization value. This is the case for formal parameter lists of non-strict functions. In that case the formal parameter bindings are preinitialized in order to deal with the possibility of multiple parameters with the same name.

[BindingElement](https://262.ecma-international.org/12.0/#prod-BindingElement) : [BindingPattern](https://262.ecma-international.org/12.0/#prod-BindingPattern) [Initializer](https://262.ecma-international.org/12.0/#prod-Initializer)opt

1.  Let v be ? [GetV](https://262.ecma-international.org/12.0/#sec-getv)(value, propertyName).
2.  If [Initializer](https://262.ecma-international.org/12.0/#prod-Initializer) is present and v is undefined, then
    1.  Let defaultValue be the result of evaluating [Initializer](https://262.ecma-international.org/12.0/#prod-Initializer).
    2.  Set v to ? [GetValue](https://262.ecma-international.org/12.0/#sec-getvalue)(defaultValue).
3.  Return the result of performing [BindingInitialization](https://262.ecma-international.org/12.0/#sec-runtime-semantics-bindinginitialization) for [BindingPattern](https://262.ecma-international.org/12.0/#prod-BindingPattern) passing v and environment as arguments.

[SingleNameBinding](https://262.ecma-international.org/12.0/#prod-SingleNameBinding) : [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier) [Initializer](https://262.ecma-international.org/12.0/#prod-Initializer)opt

1.  Let bindingId be [StringValue](https://262.ecma-international.org/12.0/#sec-static-semantics-stringvalue) of [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier).
2.  Let lhs be ? [ResolveBinding](https://262.ecma-international.org/12.0/#sec-resolvebinding)(bindingId, environment).
3.  Let v be ? [GetV](https://262.ecma-international.org/12.0/#sec-getv)(value, propertyName).
4.  If [Initializer](https://262.ecma-international.org/12.0/#prod-Initializer) is present and v is undefined, then
    1.  If [IsAnonymousFunctionDefinition](https://262.ecma-international.org/12.0/#sec-isanonymousfunctiondefinition)([Initializer](https://262.ecma-international.org/12.0/#prod-Initializer)) is true, then
        1.  Set v to the result of performing [NamedEvaluation](https://262.ecma-international.org/12.0/#sec-runtime-semantics-namedevaluation) for [Initializer](https://262.ecma-international.org/12.0/#prod-Initializer) with argument bindingId.
    2.  Else,
        1.  Let defaultValue be the result of evaluating [Initializer](https://262.ecma-international.org/12.0/#prod-Initializer).
        2.  Set v to ? [GetValue](https://262.ecma-international.org/12.0/#sec-getvalue)(defaultValue).
5.  If environment is undefined, return ? [PutValue](https://262.ecma-international.org/12.0/#sec-putvalue)(lhs, v).
6.  Return [InitializeReferencedBinding](https://262.ecma-international.org/12.0/#sec-initializereferencedbinding)(lhs, v).

## 14.4 Empty Statement

## Syntax

[EmptyStatement](https://262.ecma-international.org/12.0/#prod-EmptyStatement) : ;

## 14.4.1 Runtime Semantics: Evaluation

[EmptyStatement](https://262.ecma-international.org/12.0/#prod-EmptyStatement) : ;

1.  Return [NormalCompletion](https://262.ecma-international.org/12.0/#sec-normalcompletion)(empty).

## 14.5 Expression Statement

## Syntax

[ExpressionStatement](https://262.ecma-international.org/12.0/#prod-ExpressionStatement)\[Yield, Await\] : \[lookahead ∉ { {, function, async \[no [LineTerminator](https://262.ecma-international.org/12.0/#prod-LineTerminator) here\] function, class, let \[ }\] [Expression](https://262.ecma-international.org/12.0/#prod-Expression)\[+In, ?Yield, ?Await\] ; Note

An [ExpressionStatement](https://262.ecma-international.org/12.0/#prod-ExpressionStatement) cannot start with a U+007B (LEFT CURLY BRACKET) because that might make it ambiguous with a [Block](https://262.ecma-international.org/12.0/#prod-Block). An [ExpressionStatement](https://262.ecma-international.org/12.0/#prod-ExpressionStatement) cannot start with the `function` or `class` keywords because that would make it ambiguous with a [FunctionDeclaration](https://262.ecma-international.org/12.0/#prod-FunctionDeclaration), a [GeneratorDeclaration](https://262.ecma-international.org/12.0/#prod-GeneratorDeclaration), or a [ClassDeclaration](https://262.ecma-international.org/12.0/#prod-ClassDeclaration). An [ExpressionStatement](https://262.ecma-international.org/12.0/#prod-ExpressionStatement) cannot start with `async function` because that would make it ambiguous with an [AsyncFunctionDeclaration](https://262.ecma-international.org/12.0/#prod-AsyncFunctionDeclaration) or a [AsyncGeneratorDeclaration](https://262.ecma-international.org/12.0/#prod-AsyncGeneratorDeclaration). An [ExpressionStatement](https://262.ecma-international.org/12.0/#prod-ExpressionStatement) cannot start with the two token sequence `let [` because that would make it ambiguous with a `let` [LexicalDeclaration](https://262.ecma-international.org/12.0/#prod-LexicalDeclaration) whose first [LexicalBinding](https://262.ecma-international.org/12.0/#prod-LexicalBinding) was an [ArrayBindingPattern](https://262.ecma-international.org/12.0/#prod-ArrayBindingPattern).

## 14.5.1 Runtime Semantics: Evaluation

[ExpressionStatement](https://262.ecma-international.org/12.0/#prod-ExpressionStatement) : [Expression](https://262.ecma-international.org/12.0/#prod-Expression) ;

1.  Let exprRef be the result of evaluating [Expression](https://262.ecma-international.org/12.0/#prod-Expression).
2.  Return ? [GetValue](https://262.ecma-international.org/12.0/#sec-getvalue)(exprRef).

## 14.6 The `if` Statement

## Syntax

[IfStatement](https://262.ecma-international.org/12.0/#prod-IfStatement)\[Yield, Await, Return\] : if ( [Expression](https://262.ecma-international.org/12.0/#prod-Expression)\[+In, ?Yield, ?Await\] ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement)\[?Yield, ?Await, ?Return\] else [Statement](https://262.ecma-international.org/12.0/#prod-Statement)\[?Yield, ?Await, ?Return\] if ( [Expression](https://262.ecma-international.org/12.0/#prod-Expression)\[+In, ?Yield, ?Await\] ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement)\[?Yield, ?Await, ?Return\] \[lookahead ≠ else\] Note

The lookahead-restriction \[lookahead ≠ `else`\] resolves the classic "dangling else" problem in the usual way. That is, when the choice of associated `if` is otherwise ambiguous, the `else` is associated with the nearest (innermost) of the candidate `if`s

## 14.6.1 Static Semantics: Early Errors

[IfStatement](https://262.ecma-international.org/12.0/#prod-IfStatement) : if ( [Expression](https://262.ecma-international.org/12.0/#prod-Expression) ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement) else [Statement](https://262.ecma-international.org/12.0/#prod-Statement) if ( [Expression](https://262.ecma-international.org/12.0/#prod-Expression) ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement)

-   It is a Syntax Error if [IsLabelledFunction](https://262.ecma-international.org/12.0/#sec-islabelledfunction)([Statement](https://262.ecma-international.org/12.0/#prod-Statement)) is true.

Note

It is only necessary to apply this rule if the extension specified in [B.3.2](https://262.ecma-international.org/12.0/#sec-labelled-function-declarations) is implemented.

## 14.6.2 Runtime Semantics: Evaluation

[IfStatement](https://262.ecma-international.org/12.0/#prod-IfStatement) : if ( [Expression](https://262.ecma-international.org/12.0/#prod-Expression) ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement) else [Statement](https://262.ecma-international.org/12.0/#prod-Statement)

1.  Let exprRef be the result of evaluating [Expression](https://262.ecma-international.org/12.0/#prod-Expression).
2.  Let exprValue be ! [ToBoolean](https://262.ecma-international.org/12.0/#sec-toboolean)(? [GetValue](https://262.ecma-international.org/12.0/#sec-getvalue)(exprRef)).
3.  If exprValue is true, then
    1.  Let stmtCompletion be the result of evaluating the first [Statement](https://262.ecma-international.org/12.0/#prod-Statement).
4.  Else,
    1.  Let stmtCompletion be the result of evaluating the second [Statement](https://262.ecma-international.org/12.0/#prod-Statement).
5.  Return [Completion](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type)([UpdateEmpty](https://262.ecma-international.org/12.0/#sec-updateempty)(stmtCompletion, undefined)).

[IfStatement](https://262.ecma-international.org/12.0/#prod-IfStatement) : if ( [Expression](https://262.ecma-international.org/12.0/#prod-Expression) ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement)

1.  Let exprRef be the result of evaluating [Expression](https://262.ecma-international.org/12.0/#prod-Expression).
2.  Let exprValue be ! [ToBoolean](https://262.ecma-international.org/12.0/#sec-toboolean)(? [GetValue](https://262.ecma-international.org/12.0/#sec-getvalue)(exprRef)).
3.  If exprValue is false, then
    1.  Return [NormalCompletion](https://262.ecma-international.org/12.0/#sec-normalcompletion)(undefined).
4.  Else,
    1.  Let stmtCompletion be the result of evaluating [Statement](https://262.ecma-international.org/12.0/#prod-Statement).
    2.  Return [Completion](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type)([UpdateEmpty](https://262.ecma-international.org/12.0/#sec-updateempty)(stmtCompletion, undefined)).

## 14.7 Iteration Statements

## Syntax

[IterationStatement](https://262.ecma-international.org/12.0/#prod-IterationStatement)\[Yield, Await, Return\] : [DoWhileStatement](https://262.ecma-international.org/12.0/#prod-DoWhileStatement)\[?Yield, ?Await, ?Return\] [WhileStatement](https://262.ecma-international.org/12.0/#prod-WhileStatement)\[?Yield, ?Await, ?Return\] [ForStatement](https://262.ecma-international.org/12.0/#prod-ForStatement)\[?Yield, ?Await, ?Return\] [ForInOfStatement](https://262.ecma-international.org/12.0/#prod-ForInOfStatement)\[?Yield, ?Await, ?Return\]

## 14.7.1 Semantics

## 14.7.1.1 LoopContinues ( completion, labelSet )

The abstract operation LoopContinues takes arguments completion and labelSet. It performs the following steps when called:

1.  If completion.\[\[Type\]\] is normal, return true.
2.  If completion.\[\[Type\]\] is not continue, return false.
3.  If completion.\[\[Target\]\] is empty, return true.
4.  If completion.\[\[Target\]\] is an element of labelSet, return true.
5.  Return false.

Note

Within the [Statement](https://262.ecma-international.org/12.0/#prod-Statement) part of an [IterationStatement](https://262.ecma-international.org/12.0/#prod-IterationStatement) a [ContinueStatement](https://262.ecma-international.org/12.0/#prod-ContinueStatement) may be used to begin a new iteration.

## 14.7.1.2 Runtime Semantics: LoopEvaluation

With parameter labelSet.

[IterationStatement](https://262.ecma-international.org/12.0/#prod-IterationStatement) : [DoWhileStatement](https://262.ecma-international.org/12.0/#prod-DoWhileStatement)

1.  Return ? [DoWhileLoopEvaluation](https://262.ecma-international.org/12.0/#sec-runtime-semantics-dowhileloopevaluation) of [DoWhileStatement](https://262.ecma-international.org/12.0/#prod-DoWhileStatement) with argument labelSet.

[IterationStatement](https://262.ecma-international.org/12.0/#prod-IterationStatement) : [WhileStatement](https://262.ecma-international.org/12.0/#prod-WhileStatement)

1.  Return ? [WhileLoopEvaluation](https://262.ecma-international.org/12.0/#sec-runtime-semantics-whileloopevaluation) of [WhileStatement](https://262.ecma-international.org/12.0/#prod-WhileStatement) with argument labelSet.

[IterationStatement](https://262.ecma-international.org/12.0/#prod-IterationStatement) : [ForStatement](https://262.ecma-international.org/12.0/#prod-ForStatement)

1.  Return ? [ForLoopEvaluation](https://262.ecma-international.org/12.0/#sec-runtime-semantics-forloopevaluation) of [ForStatement](https://262.ecma-international.org/12.0/#prod-ForStatement) with argument labelSet.

[IterationStatement](https://262.ecma-international.org/12.0/#prod-IterationStatement) : [ForInOfStatement](https://262.ecma-international.org/12.0/#prod-ForInOfStatement)

1.  Return ? [ForInOfLoopEvaluation](https://262.ecma-international.org/12.0/#sec-runtime-semantics-forinofloopevaluation) of [ForInOfStatement](https://262.ecma-international.org/12.0/#prod-ForInOfStatement) with argument labelSet.

## 14.7.2 The `do`\-`while` Statement

## Syntax

[DoWhileStatement](https://262.ecma-international.org/12.0/#prod-DoWhileStatement)\[Yield, Await, Return\] : do [Statement](https://262.ecma-international.org/12.0/#prod-Statement)\[?Yield, ?Await, ?Return\] while ( [Expression](https://262.ecma-international.org/12.0/#prod-Expression)\[+In, ?Yield, ?Await\] ) ;

## 14.7.2.1 Static Semantics: Early Errors

[DoWhileStatement](https://262.ecma-international.org/12.0/#prod-DoWhileStatement) : do [Statement](https://262.ecma-international.org/12.0/#prod-Statement) while ( [Expression](https://262.ecma-international.org/12.0/#prod-Expression) ) ;

-   It is a Syntax Error if [IsLabelledFunction](https://262.ecma-international.org/12.0/#sec-islabelledfunction)([Statement](https://262.ecma-international.org/12.0/#prod-Statement)) is true.

Note

It is only necessary to apply this rule if the extension specified in [B.3.2](https://262.ecma-international.org/12.0/#sec-labelled-function-declarations) is implemented.

## 14.7.2.2 Runtime Semantics: DoWhileLoopEvaluation

With parameter labelSet.

[DoWhileStatement](https://262.ecma-international.org/12.0/#prod-DoWhileStatement) : do [Statement](https://262.ecma-international.org/12.0/#prod-Statement) while ( [Expression](https://262.ecma-international.org/12.0/#prod-Expression) ) ;

1.  Let V be undefined.
2.  Repeat,
    1.  Let stmtResult be the result of evaluating [Statement](https://262.ecma-international.org/12.0/#prod-Statement).
    2.  If [LoopContinues](https://262.ecma-international.org/12.0/#sec-loopcontinues)(stmtResult, labelSet) is false, return [Completion](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type)([UpdateEmpty](https://262.ecma-international.org/12.0/#sec-updateempty)(stmtResult, V)).
    3.  If stmtResult.\[\[Value\]\] is not empty, set V to stmtResult.\[\[Value\]\].
    4.  Let exprRef be the result of evaluating [Expression](https://262.ecma-international.org/12.0/#prod-Expression).
    5.  Let exprValue be ? [GetValue](https://262.ecma-international.org/12.0/#sec-getvalue)(exprRef).
    6.  If ! [ToBoolean](https://262.ecma-international.org/12.0/#sec-toboolean)(exprValue) is false, return [NormalCompletion](https://262.ecma-international.org/12.0/#sec-normalcompletion)(V).

## 14.7.3 The `while` Statement

## Syntax

[WhileStatement](https://262.ecma-international.org/12.0/#prod-WhileStatement)\[Yield, Await, Return\] : while ( [Expression](https://262.ecma-international.org/12.0/#prod-Expression)\[+In, ?Yield, ?Await\] ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement)\[?Yield, ?Await, ?Return\]

## 14.7.3.1 Static Semantics: Early Errors

[WhileStatement](https://262.ecma-international.org/12.0/#prod-WhileStatement) : while ( [Expression](https://262.ecma-international.org/12.0/#prod-Expression) ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement)

-   It is a Syntax Error if [IsLabelledFunction](https://262.ecma-international.org/12.0/#sec-islabelledfunction)([Statement](https://262.ecma-international.org/12.0/#prod-Statement)) is true.

Note

It is only necessary to apply this rule if the extension specified in [B.3.2](https://262.ecma-international.org/12.0/#sec-labelled-function-declarations) is implemented.

## 14.7.3.2 Runtime Semantics: WhileLoopEvaluation

With parameter labelSet.

[WhileStatement](https://262.ecma-international.org/12.0/#prod-WhileStatement) : while ( [Expression](https://262.ecma-international.org/12.0/#prod-Expression) ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement)

1.  Let V be undefined.
2.  Repeat,
    1.  Let exprRef be the result of evaluating [Expression](https://262.ecma-international.org/12.0/#prod-Expression).
    2.  Let exprValue be ? [GetValue](https://262.ecma-international.org/12.0/#sec-getvalue)(exprRef).
    3.  If ! [ToBoolean](https://262.ecma-international.org/12.0/#sec-toboolean)(exprValue) is false, return [NormalCompletion](https://262.ecma-international.org/12.0/#sec-normalcompletion)(V).
    4.  Let stmtResult be the result of evaluating [Statement](https://262.ecma-international.org/12.0/#prod-Statement).
    5.  If [LoopContinues](https://262.ecma-international.org/12.0/#sec-loopcontinues)(stmtResult, labelSet) is false, return [Completion](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type)([UpdateEmpty](https://262.ecma-international.org/12.0/#sec-updateempty)(stmtResult, V)).
    6.  If stmtResult.\[\[Value\]\] is not empty, set V to stmtResult.\[\[Value\]\].

## 14.7.4 The `for` Statement

## Syntax

[ForStatement](https://262.ecma-international.org/12.0/#prod-ForStatement)\[Yield, Await, Return\] : for ( \[lookahead ≠ let \[\] [Expression](https://262.ecma-international.org/12.0/#prod-Expression)\[~In, ?Yield, ?Await\]opt ; [Expression](https://262.ecma-international.org/12.0/#prod-Expression)\[+In, ?Yield, ?Await\]opt ; [Expression](https://262.ecma-international.org/12.0/#prod-Expression)\[+In, ?Yield, ?Await\]opt ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement)\[?Yield, ?Await, ?Return\] for ( var [VariableDeclarationList](https://262.ecma-international.org/12.0/#prod-VariableDeclarationList)\[~In, ?Yield, ?Await\] ; [Expression](https://262.ecma-international.org/12.0/#prod-Expression)\[+In, ?Yield, ?Await\]opt ; [Expression](https://262.ecma-international.org/12.0/#prod-Expression)\[+In, ?Yield, ?Await\]opt ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement)\[?Yield, ?Await, ?Return\] for ( [LexicalDeclaration](https://262.ecma-international.org/12.0/#prod-LexicalDeclaration)\[~In, ?Yield, ?Await\] [Expression](https://262.ecma-international.org/12.0/#prod-Expression)\[+In, ?Yield, ?Await\]opt ; [Expression](https://262.ecma-international.org/12.0/#prod-Expression)\[+In, ?Yield, ?Await\]opt ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement)\[?Yield, ?Await, ?Return\]

## 14.7.4.1 Static Semantics: Early Errors

[ForStatement](https://262.ecma-international.org/12.0/#prod-ForStatement) : for ( [Expression](https://262.ecma-international.org/12.0/#prod-Expression)opt ; [Expression](https://262.ecma-international.org/12.0/#prod-Expression)opt ; [Expression](https://262.ecma-international.org/12.0/#prod-Expression)opt ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement) for ( var [VariableDeclarationList](https://262.ecma-international.org/12.0/#prod-VariableDeclarationList) ; [Expression](https://262.ecma-international.org/12.0/#prod-Expression)opt ; [Expression](https://262.ecma-international.org/12.0/#prod-Expression)opt ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement) for ( [LexicalDeclaration](https://262.ecma-international.org/12.0/#prod-LexicalDeclaration) [Expression](https://262.ecma-international.org/12.0/#prod-Expression)opt ; [Expression](https://262.ecma-international.org/12.0/#prod-Expression)opt ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement)

-   It is a Syntax Error if [IsLabelledFunction](https://262.ecma-international.org/12.0/#sec-islabelledfunction)([Statement](https://262.ecma-international.org/12.0/#prod-Statement)) is true.

Note

It is only necessary to apply this rule if the extension specified in [B.3.2](https://262.ecma-international.org/12.0/#sec-labelled-function-declarations) is implemented.

[ForStatement](https://262.ecma-international.org/12.0/#prod-ForStatement) : for ( [LexicalDeclaration](https://262.ecma-international.org/12.0/#prod-LexicalDeclaration) [Expression](https://262.ecma-international.org/12.0/#prod-Expression)opt ; [Expression](https://262.ecma-international.org/12.0/#prod-Expression)opt ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement)

-   It is a Syntax Error if any element of the [BoundNames](https://262.ecma-international.org/12.0/#sec-static-semantics-boundnames) of [LexicalDeclaration](https://262.ecma-international.org/12.0/#prod-LexicalDeclaration) also occurs in the [VarDeclaredNames](https://262.ecma-international.org/12.0/#sec-static-semantics-vardeclarednames) of [Statement](https://262.ecma-international.org/12.0/#prod-Statement).

## 14.7.4.2 Runtime Semantics: ForLoopEvaluation

With parameter labelSet.

[ForStatement](https://262.ecma-international.org/12.0/#prod-ForStatement) : for ( [Expression](https://262.ecma-international.org/12.0/#prod-Expression)opt ; [Expression](https://262.ecma-international.org/12.0/#prod-Expression)opt ; [Expression](https://262.ecma-international.org/12.0/#prod-Expression)opt ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement)

1.  If the first [Expression](https://262.ecma-international.org/12.0/#prod-Expression) is present, then
    1.  Let exprRef be the result of evaluating the first [Expression](https://262.ecma-international.org/12.0/#prod-Expression).
    2.  Perform ? [GetValue](https://262.ecma-international.org/12.0/#sec-getvalue)(exprRef).
2.  Return ? [ForBodyEvaluation](https://262.ecma-international.org/12.0/#sec-forbodyevaluation)(the second [Expression](https://262.ecma-international.org/12.0/#prod-Expression), the third [Expression](https://262.ecma-international.org/12.0/#prod-Expression), [Statement](https://262.ecma-international.org/12.0/#prod-Statement), « », labelSet).

[ForStatement](https://262.ecma-international.org/12.0/#prod-ForStatement) : for ( var [VariableDeclarationList](https://262.ecma-international.org/12.0/#prod-VariableDeclarationList) ; [Expression](https://262.ecma-international.org/12.0/#prod-Expression)opt ; [Expression](https://262.ecma-international.org/12.0/#prod-Expression)opt ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement)

1.  Let varDcl be the result of evaluating [VariableDeclarationList](https://262.ecma-international.org/12.0/#prod-VariableDeclarationList).
2.  [ReturnIfAbrupt](https://262.ecma-international.org/12.0/#sec-returnifabrupt)(varDcl).
3.  Return ? [ForBodyEvaluation](https://262.ecma-international.org/12.0/#sec-forbodyevaluation)(the first [Expression](https://262.ecma-international.org/12.0/#prod-Expression), the second [Expression](https://262.ecma-international.org/12.0/#prod-Expression), [Statement](https://262.ecma-international.org/12.0/#prod-Statement), « », labelSet).

[ForStatement](https://262.ecma-international.org/12.0/#prod-ForStatement) : for ( [LexicalDeclaration](https://262.ecma-international.org/12.0/#prod-LexicalDeclaration) [Expression](https://262.ecma-international.org/12.0/#prod-Expression)opt ; [Expression](https://262.ecma-international.org/12.0/#prod-Expression)opt ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement)

1.  Let oldEnv be the [running execution context](https://262.ecma-international.org/12.0/#running-execution-context)'s LexicalEnvironment.
2.  Let loopEnv be [NewDeclarativeEnvironment](https://262.ecma-international.org/12.0/#sec-newdeclarativeenvironment)(oldEnv).
3.  Let isConst be [IsConstantDeclaration](https://262.ecma-international.org/12.0/#sec-static-semantics-isconstantdeclaration) of [LexicalDeclaration](https://262.ecma-international.org/12.0/#prod-LexicalDeclaration).
4.  Let boundNames be the [BoundNames](https://262.ecma-international.org/12.0/#sec-static-semantics-boundnames) of [LexicalDeclaration](https://262.ecma-international.org/12.0/#prod-LexicalDeclaration).
5.  For each element dn of boundNames, do
    1.  If isConst is true, then
        1.  Perform ! loopEnv.CreateImmutableBinding(dn, true).
    2.  Else,
        1.  Perform ! loopEnv.CreateMutableBinding(dn, false).
6.  Set the [running execution context](https://262.ecma-international.org/12.0/#running-execution-context)'s LexicalEnvironment to loopEnv.
7.  Let forDcl be the result of evaluating [LexicalDeclaration](https://262.ecma-international.org/12.0/#prod-LexicalDeclaration).
8.  If forDcl is an [abrupt completion](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type), then
    1.  Set the [running execution context](https://262.ecma-international.org/12.0/#running-execution-context)'s LexicalEnvironment to oldEnv.
    2.  Return [Completion](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type)(forDcl).
9.  If isConst is false, let perIterationLets be boundNames; otherwise let perIterationLets be « ».
10.  Let bodyResult be [ForBodyEvaluation](https://262.ecma-international.org/12.0/#sec-forbodyevaluation)(the first [Expression](https://262.ecma-international.org/12.0/#prod-Expression), the second [Expression](https://262.ecma-international.org/12.0/#prod-Expression), [Statement](https://262.ecma-international.org/12.0/#prod-Statement), perIterationLets, labelSet).
11.  Set the [running execution context](https://262.ecma-international.org/12.0/#running-execution-context)'s LexicalEnvironment to oldEnv.
12.  Return [Completion](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type)(bodyResult).

## 14.7.4.3 ForBodyEvaluation ( test, increment, stmt, perIterationBindings, labelSet )

The abstract operation ForBodyEvaluation takes arguments test, increment, stmt, perIterationBindings, and labelSet. It performs the following steps when called:

1.  Let V be undefined.
2.  Perform ? [CreatePerIterationEnvironment](https://262.ecma-international.org/12.0/#sec-createperiterationenvironment)(perIterationBindings).
3.  Repeat,
    1.  If test is not \[empty\], then
        1.  Let testRef be the result of evaluating test.
        2.  Let testValue be ? [GetValue](https://262.ecma-international.org/12.0/#sec-getvalue)(testRef).
        3.  If ! [ToBoolean](https://262.ecma-international.org/12.0/#sec-toboolean)(testValue) is false, return [NormalCompletion](https://262.ecma-international.org/12.0/#sec-normalcompletion)(V).
    2.  Let result be the result of evaluating stmt.
    3.  If [LoopContinues](https://262.ecma-international.org/12.0/#sec-loopcontinues)(result, labelSet) is false, return [Completion](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type)([UpdateEmpty](https://262.ecma-international.org/12.0/#sec-updateempty)(result, V)).
    4.  If result.\[\[Value\]\] is not empty, set V to result.\[\[Value\]\].
    5.  Perform ? [CreatePerIterationEnvironment](https://262.ecma-international.org/12.0/#sec-createperiterationenvironment)(perIterationBindings).
    6.  If increment is not \[empty\], then
        1.  Let incRef be the result of evaluating increment.
        2.  Perform ? [GetValue](https://262.ecma-international.org/12.0/#sec-getvalue)(incRef).

## 14.7.4.4 CreatePerIterationEnvironment ( perIterationBindings )

The abstract operation CreatePerIterationEnvironment takes argument perIterationBindings. It performs the following steps when called:

1.  If perIterationBindings has any elements, then
    1.  Let lastIterationEnv be the [running execution context](https://262.ecma-international.org/12.0/#running-execution-context)'s LexicalEnvironment.
    2.  Let outer be lastIterationEnv.\[\[OuterEnv\]\].
    3.  [Assert](https://262.ecma-international.org/12.0/#assert): outer is not null.
    4.  Let thisIterationEnv be [NewDeclarativeEnvironment](https://262.ecma-international.org/12.0/#sec-newdeclarativeenvironment)(outer).
    5.  For each element bn of perIterationBindings, do
        1.  Perform ! thisIterationEnv.CreateMutableBinding(bn, false).
        2.  Let lastValue be ? lastIterationEnv.GetBindingValue(bn, true).
        3.  Perform thisIterationEnv.InitializeBinding(bn, lastValue).
    6.  Set the [running execution context](https://262.ecma-international.org/12.0/#running-execution-context)'s LexicalEnvironment to thisIterationEnv.
2.  Return undefined.

## 14.7.5 The `for`\-`in`, `for`\-`of`, and `for`\-`await`\-`of` Statements

## Syntax

[ForInOfStatement](https://262.ecma-international.org/12.0/#prod-ForInOfStatement)\[Yield, Await, Return\] : for ( \[lookahead ≠ let \[\] [LeftHandSideExpression](https://262.ecma-international.org/12.0/#prod-LeftHandSideExpression)\[?Yield, ?Await\] in [Expression](https://262.ecma-international.org/12.0/#prod-Expression)\[+In, ?Yield, ?Await\] ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement)\[?Yield, ?Await, ?Return\] for ( var [ForBinding](https://262.ecma-international.org/12.0/#prod-ForBinding)\[?Yield, ?Await\] in [Expression](https://262.ecma-international.org/12.0/#prod-Expression)\[+In, ?Yield, ?Await\] ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement)\[?Yield, ?Await, ?Return\] for ( [ForDeclaration](https://262.ecma-international.org/12.0/#prod-ForDeclaration)\[?Yield, ?Await\] in [Expression](https://262.ecma-international.org/12.0/#prod-Expression)\[+In, ?Yield, ?Await\] ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement)\[?Yield, ?Await, ?Return\] for ( \[lookahead ∉ { let, async of }\] [LeftHandSideExpression](https://262.ecma-international.org/12.0/#prod-LeftHandSideExpression)\[?Yield, ?Await\] of [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression)\[+In, ?Yield, ?Await\] ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement)\[?Yield, ?Await, ?Return\] for ( var [ForBinding](https://262.ecma-international.org/12.0/#prod-ForBinding)\[?Yield, ?Await\] of [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression)\[+In, ?Yield, ?Await\] ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement)\[?Yield, ?Await, ?Return\] for ( [ForDeclaration](https://262.ecma-international.org/12.0/#prod-ForDeclaration)\[?Yield, ?Await\] of [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression)\[+In, ?Yield, ?Await\] ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement)\[?Yield, ?Await, ?Return\] \[+Await\] for await ( \[lookahead ≠ let\] [LeftHandSideExpression](https://262.ecma-international.org/12.0/#prod-LeftHandSideExpression)\[?Yield, ?Await\] of [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression)\[+In, ?Yield, ?Await\] ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement)\[?Yield, ?Await, ?Return\] \[+Await\] for await ( var [ForBinding](https://262.ecma-international.org/12.0/#prod-ForBinding)\[?Yield, ?Await\] of [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression)\[+In, ?Yield, ?Await\] ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement)\[?Yield, ?Await, ?Return\] \[+Await\] for await ( [ForDeclaration](https://262.ecma-international.org/12.0/#prod-ForDeclaration)\[?Yield, ?Await\] of [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression)\[+In, ?Yield, ?Await\] ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement)\[?Yield, ?Await, ?Return\] [ForDeclaration](https://262.ecma-international.org/12.0/#prod-ForDeclaration)\[Yield, Await\] : [LetOrConst](https://262.ecma-international.org/12.0/#prod-LetOrConst) [ForBinding](https://262.ecma-international.org/12.0/#prod-ForBinding)\[?Yield, ?Await\] [ForBinding](https://262.ecma-international.org/12.0/#prod-ForBinding)\[Yield, Await\] : [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier)\[?Yield, ?Await\] [BindingPattern](https://262.ecma-international.org/12.0/#prod-BindingPattern)\[?Yield, ?Await\] Note

This section is extended by Annex [B.3.6](https://262.ecma-international.org/12.0/#sec-initializers-in-forin-statement-heads).

## 14.7.5.1 Static Semantics: Early Errors

[ForInOfStatement](https://262.ecma-international.org/12.0/#prod-ForInOfStatement) : for ( [LeftHandSideExpression](https://262.ecma-international.org/12.0/#prod-LeftHandSideExpression) in [Expression](https://262.ecma-international.org/12.0/#prod-Expression) ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement) for ( var [ForBinding](https://262.ecma-international.org/12.0/#prod-ForBinding) in [Expression](https://262.ecma-international.org/12.0/#prod-Expression) ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement) for ( [ForDeclaration](https://262.ecma-international.org/12.0/#prod-ForDeclaration) in [Expression](https://262.ecma-international.org/12.0/#prod-Expression) ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement) for ( [LeftHandSideExpression](https://262.ecma-international.org/12.0/#prod-LeftHandSideExpression) of [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression) ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement) for ( var [ForBinding](https://262.ecma-international.org/12.0/#prod-ForBinding) of [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression) ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement) for ( [ForDeclaration](https://262.ecma-international.org/12.0/#prod-ForDeclaration) of [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression) ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement) for await ( [LeftHandSideExpression](https://262.ecma-international.org/12.0/#prod-LeftHandSideExpression) of [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression) ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement) for await ( var [ForBinding](https://262.ecma-international.org/12.0/#prod-ForBinding) of [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression) ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement) for await ( [ForDeclaration](https://262.ecma-international.org/12.0/#prod-ForDeclaration) of [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression) ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement)

-   It is a Syntax Error if [IsLabelledFunction](https://262.ecma-international.org/12.0/#sec-islabelledfunction)([Statement](https://262.ecma-international.org/12.0/#prod-Statement)) is true.

Note

It is only necessary to apply this rule if the extension specified in [B.3.2](https://262.ecma-international.org/12.0/#sec-labelled-function-declarations) is implemented.

[ForInOfStatement](https://262.ecma-international.org/12.0/#prod-ForInOfStatement) : for ( [LeftHandSideExpression](https://262.ecma-international.org/12.0/#prod-LeftHandSideExpression) in [Expression](https://262.ecma-international.org/12.0/#prod-Expression) ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement) for ( [LeftHandSideExpression](https://262.ecma-international.org/12.0/#prod-LeftHandSideExpression) of [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression) ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement) for await ( [LeftHandSideExpression](https://262.ecma-international.org/12.0/#prod-LeftHandSideExpression) of [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression) ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement)

If [LeftHandSideExpression](https://262.ecma-international.org/12.0/#prod-LeftHandSideExpression) is either an [ObjectLiteral](https://262.ecma-international.org/12.0/#prod-ObjectLiteral) or an [ArrayLiteral](https://262.ecma-international.org/12.0/#prod-ArrayLiteral), the following Early Error rules are applied:

-   It is a Syntax Error if [LeftHandSideExpression](https://262.ecma-international.org/12.0/#prod-LeftHandSideExpression) is not [covering](https://262.ecma-international.org/12.0/#sec-syntactic-grammar) an [AssignmentPattern](https://262.ecma-international.org/12.0/#prod-AssignmentPattern).
-   All Early Error rules for [AssignmentPattern](https://262.ecma-international.org/12.0/#prod-AssignmentPattern) and its derived productions also apply to the [AssignmentPattern](https://262.ecma-international.org/12.0/#prod-AssignmentPattern) that is [covered](https://262.ecma-international.org/12.0/#sec-syntactic-grammar) by [LeftHandSideExpression](https://262.ecma-international.org/12.0/#prod-LeftHandSideExpression).

If [LeftHandSideExpression](https://262.ecma-international.org/12.0/#prod-LeftHandSideExpression) is neither an [ObjectLiteral](https://262.ecma-international.org/12.0/#prod-ObjectLiteral) nor an [ArrayLiteral](https://262.ecma-international.org/12.0/#prod-ArrayLiteral), the following Early Error rule is applied:

-   It is a Syntax Error if [AssignmentTargetType](https://262.ecma-international.org/12.0/#sec-static-semantics-assignmenttargettype) of [LeftHandSideExpression](https://262.ecma-international.org/12.0/#prod-LeftHandSideExpression) is not simple.

[ForInOfStatement](https://262.ecma-international.org/12.0/#prod-ForInOfStatement) : for ( [ForDeclaration](https://262.ecma-international.org/12.0/#prod-ForDeclaration) in [Expression](https://262.ecma-international.org/12.0/#prod-Expression) ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement) for ( [ForDeclaration](https://262.ecma-international.org/12.0/#prod-ForDeclaration) of [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression) ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement) for await ( [ForDeclaration](https://262.ecma-international.org/12.0/#prod-ForDeclaration) of [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression) ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement)

-   It is a Syntax Error if the [BoundNames](https://262.ecma-international.org/12.0/#sec-static-semantics-boundnames) of [ForDeclaration](https://262.ecma-international.org/12.0/#prod-ForDeclaration) contains "let".
-   It is a Syntax Error if any element of the [BoundNames](https://262.ecma-international.org/12.0/#sec-static-semantics-boundnames) of [ForDeclaration](https://262.ecma-international.org/12.0/#prod-ForDeclaration) also occurs in the [VarDeclaredNames](https://262.ecma-international.org/12.0/#sec-static-semantics-vardeclarednames) of [Statement](https://262.ecma-international.org/12.0/#prod-Statement).
-   It is a Syntax Error if the [BoundNames](https://262.ecma-international.org/12.0/#sec-static-semantics-boundnames) of [ForDeclaration](https://262.ecma-international.org/12.0/#prod-ForDeclaration) contains any duplicate entries.

## 14.7.5.2 Static Semantics: IsDestructuring

[MemberExpression](https://262.ecma-international.org/12.0/#prod-MemberExpression) : [PrimaryExpression](https://262.ecma-international.org/12.0/#prod-PrimaryExpression)

1.  If [PrimaryExpression](https://262.ecma-international.org/12.0/#prod-PrimaryExpression) is either an [ObjectLiteral](https://262.ecma-international.org/12.0/#prod-ObjectLiteral) or an [ArrayLiteral](https://262.ecma-international.org/12.0/#prod-ArrayLiteral), return true.
2.  Return false.

[MemberExpression](https://262.ecma-international.org/12.0/#prod-MemberExpression) : [MemberExpression](https://262.ecma-international.org/12.0/#prod-MemberExpression) \[ [Expression](https://262.ecma-international.org/12.0/#prod-Expression) \] [MemberExpression](https://262.ecma-international.org/12.0/#prod-MemberExpression) . [IdentifierName](https://262.ecma-international.org/12.0/#prod-IdentifierName) [MemberExpression](https://262.ecma-international.org/12.0/#prod-MemberExpression) [TemplateLiteral](https://262.ecma-international.org/12.0/#prod-TemplateLiteral) [SuperProperty](https://262.ecma-international.org/12.0/#prod-SuperProperty) [MetaProperty](https://262.ecma-international.org/12.0/#prod-MetaProperty) new [MemberExpression](https://262.ecma-international.org/12.0/#prod-MemberExpression) [Arguments](https://262.ecma-international.org/12.0/#prod-Arguments) [NewExpression](https://262.ecma-international.org/12.0/#prod-NewExpression) : new [NewExpression](https://262.ecma-international.org/12.0/#prod-NewExpression) [LeftHandSideExpression](https://262.ecma-international.org/12.0/#prod-LeftHandSideExpression) : [CallExpression](https://262.ecma-international.org/12.0/#prod-CallExpression) [OptionalExpression](https://262.ecma-international.org/12.0/#prod-OptionalExpression)

1.  Return false.

[ForDeclaration](https://262.ecma-international.org/12.0/#prod-ForDeclaration) : [LetOrConst](https://262.ecma-international.org/12.0/#prod-LetOrConst) [ForBinding](https://262.ecma-international.org/12.0/#prod-ForBinding)

1.  Return [IsDestructuring](https://262.ecma-international.org/12.0/#sec-static-semantics-isdestructuring) of [ForBinding](https://262.ecma-international.org/12.0/#prod-ForBinding).

[ForBinding](https://262.ecma-international.org/12.0/#prod-ForBinding) : [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier)

1.  Return false.

[ForBinding](https://262.ecma-international.org/12.0/#prod-ForBinding) : [BindingPattern](https://262.ecma-international.org/12.0/#prod-BindingPattern)

1.  Return true.

Note

This section is extended by Annex [B.3.6](https://262.ecma-international.org/12.0/#sec-initializers-in-forin-statement-heads).

## 14.7.5.3 Runtime Semantics: ForDeclarationBindingInitialization

With parameters value and environment.

Note

undefined is passed for environment to indicate that a [PutValue](https://262.ecma-international.org/12.0/#sec-putvalue) operation should be used to assign the initialization value. This is the case for `var` statements and the formal parameter lists of some non-strict functions (see [10.2.10](https://262.ecma-international.org/12.0/#sec-functiondeclarationinstantiation)). In those cases a lexical binding is hoisted and preinitialized prior to evaluation of its initializer.

[ForDeclaration](https://262.ecma-international.org/12.0/#prod-ForDeclaration) : [LetOrConst](https://262.ecma-international.org/12.0/#prod-LetOrConst) [ForBinding](https://262.ecma-international.org/12.0/#prod-ForBinding)

1.  Return the result of performing [BindingInitialization](https://262.ecma-international.org/12.0/#sec-runtime-semantics-bindinginitialization) for [ForBinding](https://262.ecma-international.org/12.0/#prod-ForBinding) passing value and environment as the arguments.

## 14.7.5.4 Runtime Semantics: ForDeclarationBindingInstantiation

With parameter environment.

[ForDeclaration](https://262.ecma-international.org/12.0/#prod-ForDeclaration) : [LetOrConst](https://262.ecma-international.org/12.0/#prod-LetOrConst) [ForBinding](https://262.ecma-international.org/12.0/#prod-ForBinding)

1.  [Assert](https://262.ecma-international.org/12.0/#assert): environment is a [declarative Environment Record](https://262.ecma-international.org/12.0/#sec-declarative-environment-records).
2.  For each element name of the [BoundNames](https://262.ecma-international.org/12.0/#sec-static-semantics-boundnames) of [ForBinding](https://262.ecma-international.org/12.0/#prod-ForBinding), do
    1.  If [IsConstantDeclaration](https://262.ecma-international.org/12.0/#sec-static-semantics-isconstantdeclaration) of [LetOrConst](https://262.ecma-international.org/12.0/#prod-LetOrConst) is true, then
        1.  Perform ! environment.CreateImmutableBinding(name, true).
    2.  Else,
        1.  Perform ! environment.CreateMutableBinding(name, false).

## 14.7.5.5 Runtime Semantics: ForInOfLoopEvaluation

With parameter labelSet.

[ForInOfStatement](https://262.ecma-international.org/12.0/#prod-ForInOfStatement) : for ( [LeftHandSideExpression](https://262.ecma-international.org/12.0/#prod-LeftHandSideExpression) in [Expression](https://262.ecma-international.org/12.0/#prod-Expression) ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement)

1.  Let keyResult be ? [ForIn/OfHeadEvaluation](https://262.ecma-international.org/12.0/#sec-runtime-semantics-forinofheadevaluation)(« », [Expression](https://262.ecma-international.org/12.0/#prod-Expression), enumerate).
2.  Return ? [ForIn/OfBodyEvaluation](https://262.ecma-international.org/12.0/#sec-runtime-semantics-forin-div-ofbodyevaluation-lhs-stmt-iterator-lhskind-labelset)([LeftHandSideExpression](https://262.ecma-international.org/12.0/#prod-LeftHandSideExpression), [Statement](https://262.ecma-international.org/12.0/#prod-Statement), keyResult, enumerate, assignment, labelSet).

[ForInOfStatement](https://262.ecma-international.org/12.0/#prod-ForInOfStatement) : for ( var [ForBinding](https://262.ecma-international.org/12.0/#prod-ForBinding) in [Expression](https://262.ecma-international.org/12.0/#prod-Expression) ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement)

1.  Let keyResult be ? [ForIn/OfHeadEvaluation](https://262.ecma-international.org/12.0/#sec-runtime-semantics-forinofheadevaluation)(« », [Expression](https://262.ecma-international.org/12.0/#prod-Expression), enumerate).
2.  Return ? [ForIn/OfBodyEvaluation](https://262.ecma-international.org/12.0/#sec-runtime-semantics-forin-div-ofbodyevaluation-lhs-stmt-iterator-lhskind-labelset)([ForBinding](https://262.ecma-international.org/12.0/#prod-ForBinding), [Statement](https://262.ecma-international.org/12.0/#prod-Statement), keyResult, enumerate, varBinding, labelSet).

[ForInOfStatement](https://262.ecma-international.org/12.0/#prod-ForInOfStatement) : for ( [ForDeclaration](https://262.ecma-international.org/12.0/#prod-ForDeclaration) in [Expression](https://262.ecma-international.org/12.0/#prod-Expression) ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement)

1.  Let keyResult be ? [ForIn/OfHeadEvaluation](https://262.ecma-international.org/12.0/#sec-runtime-semantics-forinofheadevaluation)([BoundNames](https://262.ecma-international.org/12.0/#sec-static-semantics-boundnames) of [ForDeclaration](https://262.ecma-international.org/12.0/#prod-ForDeclaration), [Expression](https://262.ecma-international.org/12.0/#prod-Expression), enumerate).
2.  Return ? [ForIn/OfBodyEvaluation](https://262.ecma-international.org/12.0/#sec-runtime-semantics-forin-div-ofbodyevaluation-lhs-stmt-iterator-lhskind-labelset)([ForDeclaration](https://262.ecma-international.org/12.0/#prod-ForDeclaration), [Statement](https://262.ecma-international.org/12.0/#prod-Statement), keyResult, enumerate, lexicalBinding, labelSet).

[ForInOfStatement](https://262.ecma-international.org/12.0/#prod-ForInOfStatement) : for ( [LeftHandSideExpression](https://262.ecma-international.org/12.0/#prod-LeftHandSideExpression) of [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression) ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement)

1.  Let keyResult be ? [ForIn/OfHeadEvaluation](https://262.ecma-international.org/12.0/#sec-runtime-semantics-forinofheadevaluation)(« », [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression), iterate).
2.  Return ? [ForIn/OfBodyEvaluation](https://262.ecma-international.org/12.0/#sec-runtime-semantics-forin-div-ofbodyevaluation-lhs-stmt-iterator-lhskind-labelset)([LeftHandSideExpression](https://262.ecma-international.org/12.0/#prod-LeftHandSideExpression), [Statement](https://262.ecma-international.org/12.0/#prod-Statement), keyResult, iterate, assignment, labelSet).

[ForInOfStatement](https://262.ecma-international.org/12.0/#prod-ForInOfStatement) : for ( var [ForBinding](https://262.ecma-international.org/12.0/#prod-ForBinding) of [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression) ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement)

1.  Let keyResult be ? [ForIn/OfHeadEvaluation](https://262.ecma-international.org/12.0/#sec-runtime-semantics-forinofheadevaluation)(« », [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression), iterate).
2.  Return ? [ForIn/OfBodyEvaluation](https://262.ecma-international.org/12.0/#sec-runtime-semantics-forin-div-ofbodyevaluation-lhs-stmt-iterator-lhskind-labelset)([ForBinding](https://262.ecma-international.org/12.0/#prod-ForBinding), [Statement](https://262.ecma-international.org/12.0/#prod-Statement), keyResult, iterate, varBinding, labelSet).

[ForInOfStatement](https://262.ecma-international.org/12.0/#prod-ForInOfStatement) : for ( [ForDeclaration](https://262.ecma-international.org/12.0/#prod-ForDeclaration) of [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression) ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement)

1.  Let keyResult be ? [ForIn/OfHeadEvaluation](https://262.ecma-international.org/12.0/#sec-runtime-semantics-forinofheadevaluation)([BoundNames](https://262.ecma-international.org/12.0/#sec-static-semantics-boundnames) of [ForDeclaration](https://262.ecma-international.org/12.0/#prod-ForDeclaration), [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression), iterate).
2.  Return ? [ForIn/OfBodyEvaluation](https://262.ecma-international.org/12.0/#sec-runtime-semantics-forin-div-ofbodyevaluation-lhs-stmt-iterator-lhskind-labelset)([ForDeclaration](https://262.ecma-international.org/12.0/#prod-ForDeclaration), [Statement](https://262.ecma-international.org/12.0/#prod-Statement), keyResult, iterate, lexicalBinding, labelSet).

[ForInOfStatement](https://262.ecma-international.org/12.0/#prod-ForInOfStatement) : for await ( [LeftHandSideExpression](https://262.ecma-international.org/12.0/#prod-LeftHandSideExpression) of [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression) ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement)

1.  Let keyResult be ? [ForIn/OfHeadEvaluation](https://262.ecma-international.org/12.0/#sec-runtime-semantics-forinofheadevaluation)(« », [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression), async-iterate).
2.  Return ? [ForIn/OfBodyEvaluation](https://262.ecma-international.org/12.0/#sec-runtime-semantics-forin-div-ofbodyevaluation-lhs-stmt-iterator-lhskind-labelset)([LeftHandSideExpression](https://262.ecma-international.org/12.0/#prod-LeftHandSideExpression), [Statement](https://262.ecma-international.org/12.0/#prod-Statement), keyResult, iterate, assignment, labelSet, async).

[ForInOfStatement](https://262.ecma-international.org/12.0/#prod-ForInOfStatement) : for await ( var [ForBinding](https://262.ecma-international.org/12.0/#prod-ForBinding) of [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression) ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement)

1.  Let keyResult be ? [ForIn/OfHeadEvaluation](https://262.ecma-international.org/12.0/#sec-runtime-semantics-forinofheadevaluation)(« », [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression), async-iterate).
2.  Return ? [ForIn/OfBodyEvaluation](https://262.ecma-international.org/12.0/#sec-runtime-semantics-forin-div-ofbodyevaluation-lhs-stmt-iterator-lhskind-labelset)([ForBinding](https://262.ecma-international.org/12.0/#prod-ForBinding), [Statement](https://262.ecma-international.org/12.0/#prod-Statement), keyResult, iterate, varBinding, labelSet, async).

[ForInOfStatement](https://262.ecma-international.org/12.0/#prod-ForInOfStatement) : for await ( [ForDeclaration](https://262.ecma-international.org/12.0/#prod-ForDeclaration) of [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression) ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement)

1.  Let keyResult be ? [ForIn/OfHeadEvaluation](https://262.ecma-international.org/12.0/#sec-runtime-semantics-forinofheadevaluation)([BoundNames](https://262.ecma-international.org/12.0/#sec-static-semantics-boundnames) of [ForDeclaration](https://262.ecma-international.org/12.0/#prod-ForDeclaration), [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression), async-iterate).
2.  Return ? [ForIn/OfBodyEvaluation](https://262.ecma-international.org/12.0/#sec-runtime-semantics-forin-div-ofbodyevaluation-lhs-stmt-iterator-lhskind-labelset)([ForDeclaration](https://262.ecma-international.org/12.0/#prod-ForDeclaration), [Statement](https://262.ecma-international.org/12.0/#prod-Statement), keyResult, iterate, lexicalBinding, labelSet, async).

Note

This section is extended by Annex [B.3.6](https://262.ecma-international.org/12.0/#sec-initializers-in-forin-statement-heads).

## 14.7.5.6 ForIn/OfHeadEvaluation ( uninitializedBoundNames, expr, iterationKind )

The abstract operation ForIn/OfHeadEvaluation takes arguments uninitializedBoundNames, expr, and iterationKind (either enumerate, iterate, or async-iterate). It performs the following steps when called:

1.  Let oldEnv be the [running execution context](https://262.ecma-international.org/12.0/#running-execution-context)'s LexicalEnvironment.
2.  If uninitializedBoundNames is not an empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type), then
    1.  [Assert](https://262.ecma-international.org/12.0/#assert): uninitializedBoundNames has no duplicate entries.
    2.  Let newEnv be [NewDeclarativeEnvironment](https://262.ecma-international.org/12.0/#sec-newdeclarativeenvironment)(oldEnv).
    3.  For each String name of uninitializedBoundNames, do
        1.  Perform ! newEnv.CreateMutableBinding(name, false).
    4.  Set the [running execution context](https://262.ecma-international.org/12.0/#running-execution-context)'s LexicalEnvironment to newEnv.
3.  Let exprRef be the result of evaluating expr.
4.  Set the [running execution context](https://262.ecma-international.org/12.0/#running-execution-context)'s LexicalEnvironment to oldEnv.
5.  Let exprValue be ? [GetValue](https://262.ecma-international.org/12.0/#sec-getvalue)(exprRef).
6.  If iterationKind is enumerate, then
    1.  If exprValue is undefined or null, then
        1.  Return [Completion](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type) { \[\[Type\]\]: break, \[\[Value\]\]: empty, \[\[Target\]\]: empty }.
    2.  Let obj be ! [ToObject](https://262.ecma-international.org/12.0/#sec-toobject)(exprValue).
    3.  Let iterator be ? [EnumerateObjectProperties](https://262.ecma-international.org/12.0/#sec-enumerate-object-properties)(obj).
    4.  Let nextMethod be ! [GetV](https://262.ecma-international.org/12.0/#sec-getv)(iterator, "next").
    5.  Return the [Record](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) { \[\[Iterator\]\]: iterator, \[\[NextMethod\]\]: nextMethod, \[\[Done\]\]: false }.
7.  Else,
    1.  [Assert](https://262.ecma-international.org/12.0/#assert): iterationKind is iterate or async-iterate.
    2.  If iterationKind is async-iterate, let iteratorHint be async.
    3.  Else, let iteratorHint be sync.
    4.  Return ? [GetIterator](https://262.ecma-international.org/12.0/#sec-getiterator)(exprValue, iteratorHint).

## 14.7.5.7 ForIn/OfBodyEvaluation ( lhs, stmt, iteratorRecord, iterationKind, lhsKind, labelSet \[ , iteratorKind \] )

The abstract operation ForIn/OfBodyEvaluation takes arguments lhs, stmt, iteratorRecord, iterationKind, lhsKind (either assignment, varBinding or lexicalBinding), and labelSet and optional argument iteratorKind (either sync or async). It performs the following steps when called:

1.  If iteratorKind is not present, set iteratorKind to sync.
2.  Let oldEnv be the [running execution context](https://262.ecma-international.org/12.0/#running-execution-context)'s LexicalEnvironment.
3.  Let V be undefined.
4.  Let destructuring be [IsDestructuring](https://262.ecma-international.org/12.0/#sec-static-semantics-isdestructuring) of lhs.
5.  If destructuring is true and if lhsKind is assignment, then
    1.  [Assert](https://262.ecma-international.org/12.0/#assert): lhs is a [LeftHandSideExpression](https://262.ecma-international.org/12.0/#prod-LeftHandSideExpression).
    2.  Let assignmentPattern be the [AssignmentPattern](https://262.ecma-international.org/12.0/#prod-AssignmentPattern) that is [covered](https://262.ecma-international.org/12.0/#sec-syntactic-grammar) by lhs.
6.  Repeat,
    1.  Let nextResult be ? [Call](https://262.ecma-international.org/12.0/#sec-call)(iteratorRecord.\[\[NextMethod\]\], iteratorRecord.\[\[Iterator\]\]).
    2.  If iteratorKind is async, set nextResult to ? [Await](https://262.ecma-international.org/12.0/#await)(nextResult).
    3.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(nextResult) is not Object, throw a TypeError exception.
    4.  Let done be ? [IteratorComplete](https://262.ecma-international.org/12.0/#sec-iteratorcomplete)(nextResult).
    5.  If done is true, return [NormalCompletion](https://262.ecma-international.org/12.0/#sec-normalcompletion)(V).
    6.  Let nextValue be ? [IteratorValue](https://262.ecma-international.org/12.0/#sec-iteratorvalue)(nextResult).
    7.  If lhsKind is either assignment or varBinding, then
        1.  If destructuring is false, then
            1.  Let lhsRef be the result of evaluating lhs. (It may be evaluated repeatedly.)
    8.  Else,
        1.  [Assert](https://262.ecma-international.org/12.0/#assert): lhsKind is lexicalBinding.
        2.  [Assert](https://262.ecma-international.org/12.0/#assert): lhs is a [ForDeclaration](https://262.ecma-international.org/12.0/#prod-ForDeclaration).
        3.  Let iterationEnv be [NewDeclarativeEnvironment](https://262.ecma-international.org/12.0/#sec-newdeclarativeenvironment)(oldEnv).
        4.  Perform [ForDeclarationBindingInstantiation](https://262.ecma-international.org/12.0/#sec-runtime-semantics-fordeclarationbindinginstantiation) for lhs passing iterationEnv as the argument.
        5.  Set the [running execution context](https://262.ecma-international.org/12.0/#running-execution-context)'s LexicalEnvironment to iterationEnv.
        6.  If destructuring is false, then
            1.  [Assert](https://262.ecma-international.org/12.0/#assert): lhs binds a single name.
            2.  Let lhsName be the sole element of [BoundNames](https://262.ecma-international.org/12.0/#sec-static-semantics-boundnames) of lhs.
            3.  Let lhsRef be ! [ResolveBinding](https://262.ecma-international.org/12.0/#sec-resolvebinding)(lhsName).
    9.  If destructuring is false, then
        1.  If lhsRef is an [abrupt completion](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type), then
            1.  Let status be lhsRef.
        2.  Else if lhsKind is lexicalBinding, then
            1.  Let status be [InitializeReferencedBinding](https://262.ecma-international.org/12.0/#sec-initializereferencedbinding)(lhsRef, nextValue).
        3.  Else,
            1.  Let status be [PutValue](https://262.ecma-international.org/12.0/#sec-putvalue)(lhsRef, nextValue).
    10.  Else,
        1.  If lhsKind is assignment, then
            1.  Let status be [DestructuringAssignmentEvaluation](https://262.ecma-international.org/12.0/#sec-runtime-semantics-destructuringassignmentevaluation) of assignmentPattern with argument nextValue.
        2.  Else if lhsKind is varBinding, then
            1.  [Assert](https://262.ecma-international.org/12.0/#assert): lhs is a [ForBinding](https://262.ecma-international.org/12.0/#prod-ForBinding).
            2.  Let status be [BindingInitialization](https://262.ecma-international.org/12.0/#sec-runtime-semantics-bindinginitialization) of lhs with arguments nextValue and undefined.
        3.  Else,
            1.  [Assert](https://262.ecma-international.org/12.0/#assert): lhsKind is lexicalBinding.
            2.  [Assert](https://262.ecma-international.org/12.0/#assert): lhs is a [ForDeclaration](https://262.ecma-international.org/12.0/#prod-ForDeclaration).
            3.  Let status be [ForDeclarationBindingInitialization](https://262.ecma-international.org/12.0/#sec-runtime-semantics-fordeclarationbindinginitialization) of lhs with arguments nextValue and iterationEnv.
    11.  If status is an [abrupt completion](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type), then
        1.  Set the [running execution context](https://262.ecma-international.org/12.0/#running-execution-context)'s LexicalEnvironment to oldEnv.
        2.  If iteratorKind is async, return ? [AsyncIteratorClose](https://262.ecma-international.org/12.0/#sec-asynciteratorclose)(iteratorRecord, status).
        3.  If iterationKind is enumerate, then
            1.  Return status.
        4.  Else,
            1.  [Assert](https://262.ecma-international.org/12.0/#assert): iterationKind is iterate.
            2.  Return ? [IteratorClose](https://262.ecma-international.org/12.0/#sec-iteratorclose)(iteratorRecord, status).
    12.  Let result be the result of evaluating stmt.
    13.  Set the [running execution context](https://262.ecma-international.org/12.0/#running-execution-context)'s LexicalEnvironment to oldEnv.
    14.  If [LoopContinues](https://262.ecma-international.org/12.0/#sec-loopcontinues)(result, labelSet) is false, then
        1.  If iterationKind is enumerate, then
            1.  Return [Completion](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type)([UpdateEmpty](https://262.ecma-international.org/12.0/#sec-updateempty)(result, V)).
        2.  Else,
            1.  [Assert](https://262.ecma-international.org/12.0/#assert): iterationKind is iterate.
            2.  Set status to [UpdateEmpty](https://262.ecma-international.org/12.0/#sec-updateempty)(result, V).
            3.  If iteratorKind is async, return ? [AsyncIteratorClose](https://262.ecma-international.org/12.0/#sec-asynciteratorclose)(iteratorRecord, status).
            4.  Return ? [IteratorClose](https://262.ecma-international.org/12.0/#sec-iteratorclose)(iteratorRecord, status).
    15.  If result.\[\[Value\]\] is not empty, set V to result.\[\[Value\]\].

## 14.7.5.8 Runtime Semantics: Evaluation

[ForBinding](https://262.ecma-international.org/12.0/#prod-ForBinding) : [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier)

1.  Let bindingId be [StringValue](https://262.ecma-international.org/12.0/#sec-static-semantics-stringvalue) of [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier).
2.  Return ? [ResolveBinding](https://262.ecma-international.org/12.0/#sec-resolvebinding)(bindingId).

## 14.7.5.9 EnumerateObjectProperties ( O )

The abstract operation EnumerateObjectProperties takes argument O. It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(O) is Object.
2.  Return an Iterator object ([27.1.1.2](https://262.ecma-international.org/12.0/#sec-iterator-interface)) whose `next` method iterates over all the String-valued keys of enumerable properties of O. The iterator object is never directly accessible to ECMAScript code. The mechanics and order of enumerating the properties is not specified but must conform to the rules specified below.

The iterator's `throw` and `return` methods are null and are never invoked. The iterator's `next` method processes object properties to determine whether the property key should be returned as an iterator value. Returned property keys do not include keys that are Symbols. Properties of the target object may be deleted during enumeration. A property that is deleted before it is processed by the iterator's `next` method is ignored. If new properties are added to the target object during enumeration, the newly added properties are not guaranteed to be processed in the active enumeration. A [property name](https://262.ecma-international.org/12.0/#property-name) will be returned by the iterator's `next` method at most once in any enumeration.

Enumerating the properties of the target object includes enumerating properties of its prototype, and the prototype of the prototype, and so on, recursively; but a property of a prototype is not processed if it has the same name as a property that has already been processed by the iterator's `next` method. The values of \[\[Enumerable\]\] attributes are not considered when determining if a property of a prototype object has already been processed. The enumerable property names of prototype objects must be obtained by invoking EnumerateObjectProperties passing the prototype object as the argument. EnumerateObjectProperties must obtain the own property keys of the target object by calling its \[\[OwnPropertyKeys\]\] internal method. Property attributes of the target object must be obtained by calling its \[\[GetOwnProperty\]\] internal method.

In addition, if neither O nor any object in its prototype chain is a [Proxy exotic object](https://262.ecma-international.org/12.0/#proxy-exotic-object), [Integer-Indexed exotic object](https://262.ecma-international.org/12.0/#integer-indexed-exotic-object), [module namespace exotic object](https://262.ecma-international.org/12.0/#module-namespace-exotic-object), or implementation provided [exotic object](https://262.ecma-international.org/12.0/#exotic-object), then the iterator must behave as would the iterator given by [CreateForInIterator](https://262.ecma-international.org/12.0/#sec-createforiniterator)(O) until one of the following occurs:

-   the value of the \[\[Prototype\]\] internal slot of O or an object in its prototype chain changes,
-   a property is removed from O or an object in its prototype chain,
-   a property is added to an object in O's prototype chain, or
-   the value of the \[\[Enumerable\]\] attribute of a property of O or an object in its prototype chain changes.

Note 1

ECMAScript implementations are not required to implement the algorithm in [14.7.5.10.2.1](https://262.ecma-international.org/12.0/#sec-%foriniteratorprototype%.next) directly. They may choose any implementation whose behaviour will not deviate from that algorithm unless one of the constraints in the previous paragraph is violated.

The following is an informative definition of an ECMAScript generator function that conforms to these rules:

```
function* EnumerateObjectProperties(obj) {
  const visited = new Set();
  for (const key of Reflect.ownKeys(obj)) {
    if (typeof key === "symbol") continue;
    const desc = Reflect.getOwnPropertyDescriptor(obj, key);
    if (desc) {
      visited.add(key);
      if (desc.enumerable) yield key;
    }
  }
  const proto = Reflect.getPrototypeOf(obj);
  if (proto === null) return;
  for (const protoKey of EnumerateObjectProperties(proto)) {
    if (!visited.has(protoKey)) yield protoKey;
  }
}
```

Note 2

The list of exotic objects for which implementations are not required to match

[CreateForInIterator](https://262.ecma-international.org/12.0/#sec-createforiniterator)

was chosen because implementations historically differed in behaviour for those cases, and agreed in all others.

## 14.7.5.10 For-In Iterator Objects

A For-In Iterator is an object that represents a specific iteration over some specific object. For-In Iterator objects are never directly accessible to ECMAScript code; they exist solely to illustrate the behaviour of [EnumerateObjectProperties](https://262.ecma-international.org/12.0/#sec-enumerate-object-properties).

## 14.7.5.10.1 CreateForInIterator ( object )

The abstract operation CreateForInIterator takes argument object. It is used to create a For-In Iterator object which iterates over the own and inherited enumerable string properties of object in a specific order. It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(object) is Object.
2.  Let iterator be ! [OrdinaryObjectCreate](https://262.ecma-international.org/12.0/#sec-ordinaryobjectcreate)([%ForInIteratorPrototype%](https://262.ecma-international.org/12.0/#sec-%foriniteratorprototype%-object), « \[\[Object\]\], \[\[ObjectWasVisited\]\], \[\[VisitedKeys\]\], \[\[RemainingKeys\]\] »).
3.  Set iterator.\[\[Object\]\] to object.
4.  Set iterator.\[\[ObjectWasVisited\]\] to false.
5.  Set iterator.\[\[VisitedKeys\]\] to a new empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).
6.  Set iterator.\[\[RemainingKeys\]\] to a new empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).
7.  Return iterator.

## 14.7.5.10.2 The %ForInIteratorPrototype% Object

The %ForInIteratorPrototype% object:

-   has properties that are inherited by all For-In Iterator Objects.
-   is an [ordinary object](https://262.ecma-international.org/12.0/#ordinary-object).
-   has a \[\[Prototype\]\] internal slot whose value is [%IteratorPrototype%](https://262.ecma-international.org/12.0/#sec-%iteratorprototype%-object).
-   is never directly accessible to ECMAScript code.
-   has the following properties:

## 14.7.5.10.2.1 %ForInIteratorPrototype%.next ( )

1.  Let O be the this value.
2.  [Assert](https://262.ecma-international.org/12.0/#assert): [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(O) is Object.
3.  [Assert](https://262.ecma-international.org/12.0/#assert): O has all of the internal slots of a For-In Iterator Instance ([14.7.5.10.3](https://262.ecma-international.org/12.0/#sec-properties-of-for-in-iterator-instances)).
4.  Let object be O.\[\[Object\]\].
5.  Let visited be O.\[\[VisitedKeys\]\].
6.  Let remaining be O.\[\[RemainingKeys\]\].
7.  Repeat,
    1.  If O.\[\[ObjectWasVisited\]\] is false, then
        1.  Let keys be ? object.\[\[OwnPropertyKeys\]\]().
        2.  For each element key of keys, do
            1.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(key) is String, then
                1.  Append key to remaining.
        3.  Set O.\[\[ObjectWasVisited\]\] to true.
    2.  Repeat, while remaining is not empty,
        1.  Let r be the first element of remaining.
        2.  Remove the first element from remaining.
        3.  If there does not exist an element v of visited such that [SameValue](https://262.ecma-international.org/12.0/#sec-samevalue)(r, v) is true, then
            1.  Let desc be ? object.\[\[GetOwnProperty\]\](r).
            2.  If desc is not undefined, then
                1.  Append r to visited.
                2.  If desc.\[\[Enumerable\]\] is true, return [CreateIterResultObject](https://262.ecma-international.org/12.0/#sec-createiterresultobject)(r, false).
    3.  Set object to ? object.\[\[GetPrototypeOf\]\]().
    4.  Set O.\[\[Object\]\] to object.
    5.  Set O.\[\[ObjectWasVisited\]\] to false.
    6.  If object is null, return [CreateIterResultObject](https://262.ecma-international.org/12.0/#sec-createiterresultobject)(undefined, true).

## 14.7.5.10.3 Properties of For-In Iterator Instances

For-In Iterator instances are ordinary objects that inherit properties from the [%ForInIteratorPrototype%](https://262.ecma-international.org/12.0/#sec-%foriniteratorprototype%-object) intrinsic object. For-In Iterator instances are initially created with the internal slots listed in [Table 38](https://262.ecma-international.org/12.0/#table-for-in-iterator-instance-slots).

Table 38: Internal Slots of For-In Iterator Instances

| Internal Slot | Description |
| --- | --- |
| \[\[Object\]\] | The Object value whose properties are being iterated. |
| \[\[ObjectWasVisited\]\] | true if the iterator has invoked \[\[OwnPropertyKeys\]\] on \[\[Object\]\], false otherwise. |
| \[\[VisitedKeys\]\] | A list of String values which have been emitted by this iterator thus far. |
| \[\[RemainingKeys\]\] | A list of String values remaining to be emitted for the current object, before iterating the properties of its prototype (if its prototype is not null). |

## 14.8 The `continue` Statement

## Syntax

[ContinueStatement](https://262.ecma-international.org/12.0/#prod-ContinueStatement)\[Yield, Await\] : continue ; continue \[no [LineTerminator](https://262.ecma-international.org/12.0/#prod-LineTerminator) here\] [LabelIdentifier](https://262.ecma-international.org/12.0/#prod-LabelIdentifier)\[?Yield, ?Await\] ;

## 14.8.1 Static Semantics: Early Errors

[ContinueStatement](https://262.ecma-international.org/12.0/#prod-ContinueStatement) : continue ; continue [LabelIdentifier](https://262.ecma-international.org/12.0/#prod-LabelIdentifier) ;

-   It is a Syntax Error if this [ContinueStatement](https://262.ecma-international.org/12.0/#prod-ContinueStatement) is not nested, directly or indirectly (but not crossing function boundaries), within an [IterationStatement](https://262.ecma-international.org/12.0/#prod-IterationStatement).

## 14.8.2 Runtime Semantics: Evaluation

[ContinueStatement](https://262.ecma-international.org/12.0/#prod-ContinueStatement) : continue ;

1.  Return [Completion](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type) { \[\[Type\]\]: continue, \[\[Value\]\]: empty, \[\[Target\]\]: empty }.

[ContinueStatement](https://262.ecma-international.org/12.0/#prod-ContinueStatement) : continue [LabelIdentifier](https://262.ecma-international.org/12.0/#prod-LabelIdentifier) ;

1.  Let label be the [StringValue](https://262.ecma-international.org/12.0/#sec-static-semantics-stringvalue) of [LabelIdentifier](https://262.ecma-international.org/12.0/#prod-LabelIdentifier).
2.  Return [Completion](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type) { \[\[Type\]\]: continue, \[\[Value\]\]: empty, \[\[Target\]\]: label }.

## 14.9 The `break` Statement

## Syntax

[BreakStatement](https://262.ecma-international.org/12.0/#prod-BreakStatement)\[Yield, Await\] : break ; break \[no [LineTerminator](https://262.ecma-international.org/12.0/#prod-LineTerminator) here\] [LabelIdentifier](https://262.ecma-international.org/12.0/#prod-LabelIdentifier)\[?Yield, ?Await\] ;

## 14.9.1 Static Semantics: Early Errors

[BreakStatement](https://262.ecma-international.org/12.0/#prod-BreakStatement) : break ;

-   It is a Syntax Error if this [BreakStatement](https://262.ecma-international.org/12.0/#prod-BreakStatement) is not nested, directly or indirectly (but not crossing function boundaries), within an [IterationStatement](https://262.ecma-international.org/12.0/#prod-IterationStatement) or a [SwitchStatement](https://262.ecma-international.org/12.0/#prod-SwitchStatement).

## 14.9.2 Runtime Semantics: Evaluation

[BreakStatement](https://262.ecma-international.org/12.0/#prod-BreakStatement) : break ;

1.  Return [Completion](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type) { \[\[Type\]\]: break, \[\[Value\]\]: empty, \[\[Target\]\]: empty }.

[BreakStatement](https://262.ecma-international.org/12.0/#prod-BreakStatement) : break [LabelIdentifier](https://262.ecma-international.org/12.0/#prod-LabelIdentifier) ;

1.  Let label be the [StringValue](https://262.ecma-international.org/12.0/#sec-static-semantics-stringvalue) of [LabelIdentifier](https://262.ecma-international.org/12.0/#prod-LabelIdentifier).
2.  Return [Completion](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type) { \[\[Type\]\]: break, \[\[Value\]\]: empty, \[\[Target\]\]: label }.

## 14.10 The `return` Statement

## Syntax

[ReturnStatement](https://262.ecma-international.org/12.0/#prod-ReturnStatement)\[Yield, Await\] : return ; return \[no [LineTerminator](https://262.ecma-international.org/12.0/#prod-LineTerminator) here\] [Expression](https://262.ecma-international.org/12.0/#prod-Expression)\[+In, ?Yield, ?Await\] ; Note

A `return` statement causes a function to cease execution and, in most cases, returns a value to the caller. If [Expression](https://262.ecma-international.org/12.0/#prod-Expression) is omitted, the return value is undefined. Otherwise, the return value is the value of [Expression](https://262.ecma-international.org/12.0/#prod-Expression). A `return` statement may not actually return a value to the caller depending on surrounding context. For example, in a `try` block, a `return` statement's completion record may be replaced with another completion record during evaluation of the `finally` block.

## 14.10.1 Runtime Semantics: Evaluation

[ReturnStatement](https://262.ecma-international.org/12.0/#prod-ReturnStatement) : return ;

1.  Return [Completion](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type) { \[\[Type\]\]: return, \[\[Value\]\]: undefined, \[\[Target\]\]: empty }.

[ReturnStatement](https://262.ecma-international.org/12.0/#prod-ReturnStatement) : return [Expression](https://262.ecma-international.org/12.0/#prod-Expression) ;

1.  Let exprRef be the result of evaluating [Expression](https://262.ecma-international.org/12.0/#prod-Expression).
2.  Let exprValue be ? [GetValue](https://262.ecma-international.org/12.0/#sec-getvalue)(exprRef).
3.  If ! [GetGeneratorKind](https://262.ecma-international.org/12.0/#sec-getgeneratorkind)() is async, set exprValue to ? [Await](https://262.ecma-international.org/12.0/#await)(exprValue).
4.  Return [Completion](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type) { \[\[Type\]\]: return, \[\[Value\]\]: exprValue, \[\[Target\]\]: empty }.

## 14.11 The `with` Statement

## Syntax

[WithStatement](https://262.ecma-international.org/12.0/#prod-WithStatement)\[Yield, Await, Return\] : with ( [Expression](https://262.ecma-international.org/12.0/#prod-Expression)\[+In, ?Yield, ?Await\] ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement)\[?Yield, ?Await, ?Return\] Note

The `with` statement adds an [object Environment Record](https://262.ecma-international.org/12.0/#sec-object-environment-records) for a computed object to the lexical environment of the [running execution context](https://262.ecma-international.org/12.0/#running-execution-context). It then executes a statement using this augmented lexical environment. Finally, it restores the original lexical environment.

## 14.11.1 Static Semantics: Early Errors

[WithStatement](https://262.ecma-international.org/12.0/#prod-WithStatement) : with ( [Expression](https://262.ecma-international.org/12.0/#prod-Expression) ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement)

-   It is a Syntax Error if the code that matches this production is contained in [strict mode code](https://262.ecma-international.org/12.0/#sec-strict-mode-code).
-   It is a Syntax Error if [IsLabelledFunction](https://262.ecma-international.org/12.0/#sec-islabelledfunction)([Statement](https://262.ecma-international.org/12.0/#prod-Statement)) is true.

Note

It is only necessary to apply the second rule if the extension specified in [B.3.2](https://262.ecma-international.org/12.0/#sec-labelled-function-declarations) is implemented.

## 14.11.2 Runtime Semantics: Evaluation

[WithStatement](https://262.ecma-international.org/12.0/#prod-WithStatement) : with ( [Expression](https://262.ecma-international.org/12.0/#prod-Expression) ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement)

1.  Let val be the result of evaluating [Expression](https://262.ecma-international.org/12.0/#prod-Expression).
2.  Let obj be ? [ToObject](https://262.ecma-international.org/12.0/#sec-toobject)(? [GetValue](https://262.ecma-international.org/12.0/#sec-getvalue)(val)).
3.  Let oldEnv be the [running execution context](https://262.ecma-international.org/12.0/#running-execution-context)'s LexicalEnvironment.
4.  Let newEnv be [NewObjectEnvironment](https://262.ecma-international.org/12.0/#sec-newobjectenvironment)(obj, oldEnv).
5.  Set the withEnvironment flag of newEnv to true.
6.  Set the [running execution context](https://262.ecma-international.org/12.0/#running-execution-context)'s LexicalEnvironment to newEnv.
7.  Let C be the result of evaluating [Statement](https://262.ecma-international.org/12.0/#prod-Statement).
8.  Set the [running execution context](https://262.ecma-international.org/12.0/#running-execution-context)'s LexicalEnvironment to oldEnv.
9.  Return [Completion](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type)([UpdateEmpty](https://262.ecma-international.org/12.0/#sec-updateempty)(C, undefined)).

Note

No matter how control leaves the embedded [Statement](https://262.ecma-international.org/12.0/#prod-Statement), whether normally or by some form of [abrupt completion](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type) or exception, the LexicalEnvironment is always restored to its former state.

## 14.12 The `switch` Statement

## Syntax

[SwitchStatement](https://262.ecma-international.org/12.0/#prod-SwitchStatement)\[Yield, Await, Return\] : switch ( [Expression](https://262.ecma-international.org/12.0/#prod-Expression)\[+In, ?Yield, ?Await\] ) [CaseBlock](https://262.ecma-international.org/12.0/#prod-CaseBlock)\[?Yield, ?Await, ?Return\] [CaseBlock](https://262.ecma-international.org/12.0/#prod-CaseBlock)\[Yield, Await, Return\] : { [CaseClauses](https://262.ecma-international.org/12.0/#prod-CaseClauses)\[?Yield, ?Await, ?Return\]opt } { [CaseClauses](https://262.ecma-international.org/12.0/#prod-CaseClauses)\[?Yield, ?Await, ?Return\]opt [DefaultClause](https://262.ecma-international.org/12.0/#prod-DefaultClause)\[?Yield, ?Await, ?Return\] [CaseClauses](https://262.ecma-international.org/12.0/#prod-CaseClauses)\[?Yield, ?Await, ?Return\]opt } [CaseClauses](https://262.ecma-international.org/12.0/#prod-CaseClauses)\[Yield, Await, Return\] : [CaseClause](https://262.ecma-international.org/12.0/#prod-CaseClause)\[?Yield, ?Await, ?Return\] [CaseClauses](https://262.ecma-international.org/12.0/#prod-CaseClauses)\[?Yield, ?Await, ?Return\] [CaseClause](https://262.ecma-international.org/12.0/#prod-CaseClause)\[?Yield, ?Await, ?Return\] [CaseClause](https://262.ecma-international.org/12.0/#prod-CaseClause)\[Yield, Await, Return\] : case [Expression](https://262.ecma-international.org/12.0/#prod-Expression)\[+In, ?Yield, ?Await\] : [StatementList](https://262.ecma-international.org/12.0/#prod-StatementList)\[?Yield, ?Await, ?Return\]opt [DefaultClause](https://262.ecma-international.org/12.0/#prod-DefaultClause)\[Yield, Await, Return\] : default : [StatementList](https://262.ecma-international.org/12.0/#prod-StatementList)\[?Yield, ?Await, ?Return\]opt

## 14.12.1 Static Semantics: Early Errors

[SwitchStatement](https://262.ecma-international.org/12.0/#prod-SwitchStatement) : switch ( [Expression](https://262.ecma-international.org/12.0/#prod-Expression) ) [CaseBlock](https://262.ecma-international.org/12.0/#prod-CaseBlock)

-   It is a Syntax Error if the [LexicallyDeclaredNames](https://262.ecma-international.org/12.0/#sec-static-semantics-lexicallydeclarednames) of [CaseBlock](https://262.ecma-international.org/12.0/#prod-CaseBlock) contains any duplicate entries.
-   It is a Syntax Error if any element of the [LexicallyDeclaredNames](https://262.ecma-international.org/12.0/#sec-static-semantics-lexicallydeclarednames) of [CaseBlock](https://262.ecma-international.org/12.0/#prod-CaseBlock) also occurs in the [VarDeclaredNames](https://262.ecma-international.org/12.0/#sec-static-semantics-vardeclarednames) of [CaseBlock](https://262.ecma-international.org/12.0/#prod-CaseBlock).

## 14.12.2 Runtime Semantics: CaseBlockEvaluation

With parameter input.

[CaseBlock](https://262.ecma-international.org/12.0/#prod-CaseBlock) : { }

1.  Return [NormalCompletion](https://262.ecma-international.org/12.0/#sec-normalcompletion)(undefined).

[CaseBlock](https://262.ecma-international.org/12.0/#prod-CaseBlock) : { [CaseClauses](https://262.ecma-international.org/12.0/#prod-CaseClauses) }

1.  Let V be undefined.
2.  Let A be the [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) of [CaseClause](https://262.ecma-international.org/12.0/#prod-CaseClause) items in [CaseClauses](https://262.ecma-international.org/12.0/#prod-CaseClauses), in source text order.
3.  Let found be false.
4.  For each [CaseClause](https://262.ecma-international.org/12.0/#prod-CaseClause) C of A, do
    1.  If found is false, then
        1.  Set found to ? [CaseClauseIsSelected](https://262.ecma-international.org/12.0/#sec-runtime-semantics-caseclauseisselected)(C, input).
    2.  If found is true, then
        1.  Let R be the result of evaluating C.
        2.  If R.\[\[Value\]\] is not empty, set V to R.\[\[Value\]\].
        3.  If R is an [abrupt completion](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type), return [Completion](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type)([UpdateEmpty](https://262.ecma-international.org/12.0/#sec-updateempty)(R, V)).
5.  Return [NormalCompletion](https://262.ecma-international.org/12.0/#sec-normalcompletion)(V).

[CaseBlock](https://262.ecma-international.org/12.0/#prod-CaseBlock) : { [CaseClauses](https://262.ecma-international.org/12.0/#prod-CaseClauses)opt [DefaultClause](https://262.ecma-international.org/12.0/#prod-DefaultClause) [CaseClauses](https://262.ecma-international.org/12.0/#prod-CaseClauses)opt }

1.  Let V be undefined.
2.  If the first [CaseClauses](https://262.ecma-international.org/12.0/#prod-CaseClauses) is present, then
    1.  Let A be the [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) of [CaseClause](https://262.ecma-international.org/12.0/#prod-CaseClause) items in the first [CaseClauses](https://262.ecma-international.org/12.0/#prod-CaseClauses), in source text order.
3.  Else,
    1.  Let A be « ».
4.  Let found be false.
5.  For each [CaseClause](https://262.ecma-international.org/12.0/#prod-CaseClause) C of A, do
    1.  If found is false, then
        1.  Set found to ? [CaseClauseIsSelected](https://262.ecma-international.org/12.0/#sec-runtime-semantics-caseclauseisselected)(C, input).
    2.  If found is true, then
        1.  Let R be the result of evaluating C.
        2.  If R.\[\[Value\]\] is not empty, set V to R.\[\[Value\]\].
        3.  If R is an [abrupt completion](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type), return [Completion](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type)([UpdateEmpty](https://262.ecma-international.org/12.0/#sec-updateempty)(R, V)).
6.  Let foundInB be false.
7.  If the second [CaseClauses](https://262.ecma-international.org/12.0/#prod-CaseClauses) is present, then
    1.  Let B be the [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) of [CaseClause](https://262.ecma-international.org/12.0/#prod-CaseClause) items in the second [CaseClauses](https://262.ecma-international.org/12.0/#prod-CaseClauses), in source text order.
8.  Else,
    1.  Let B be « ».
9.  If found is false, then
    1.  For each [CaseClause](https://262.ecma-international.org/12.0/#prod-CaseClause) C of B, do
        1.  If foundInB is false, then
            1.  Set foundInB to ? [CaseClauseIsSelected](https://262.ecma-international.org/12.0/#sec-runtime-semantics-caseclauseisselected)(C, input).
        2.  If foundInB is true, then
            1.  Let R be the result of evaluating [CaseClause](https://262.ecma-international.org/12.0/#prod-CaseClause) C.
            2.  If R.\[\[Value\]\] is not empty, set V to R.\[\[Value\]\].
            3.  If R is an [abrupt completion](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type), return [Completion](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type)([UpdateEmpty](https://262.ecma-international.org/12.0/#sec-updateempty)(R, V)).
10.  If foundInB is true, return [NormalCompletion](https://262.ecma-international.org/12.0/#sec-normalcompletion)(V).
11.  Let R be the result of evaluating [DefaultClause](https://262.ecma-international.org/12.0/#prod-DefaultClause).
12.  If R.\[\[Value\]\] is not empty, set V to R.\[\[Value\]\].
13.  If R is an [abrupt completion](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type), return [Completion](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type)([UpdateEmpty](https://262.ecma-international.org/12.0/#sec-updateempty)(R, V)).
14.  NOTE: The following is another complete iteration of the second [CaseClauses](https://262.ecma-international.org/12.0/#prod-CaseClauses).
15.  For each [CaseClause](https://262.ecma-international.org/12.0/#prod-CaseClause) C of B, do
    1.  Let R be the result of evaluating [CaseClause](https://262.ecma-international.org/12.0/#prod-CaseClause) C.
    2.  If R.\[\[Value\]\] is not empty, set V to R.\[\[Value\]\].
    3.  If R is an [abrupt completion](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type), return [Completion](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type)([UpdateEmpty](https://262.ecma-international.org/12.0/#sec-updateempty)(R, V)).
16.  Return [NormalCompletion](https://262.ecma-international.org/12.0/#sec-normalcompletion)(V).

## 14.12.3 CaseClauseIsSelected ( C, input )

The abstract operation CaseClauseIsSelected takes arguments C (a [Parse Node](https://262.ecma-international.org/12.0/#sec-syntactic-grammar) for [CaseClause](https://262.ecma-international.org/12.0/#prod-CaseClause)) and input (an [ECMAScript language value](https://262.ecma-international.org/12.0/#sec-ecmascript-language-types)). It determines whether C matches input. It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): C is an instance of the production [CaseClause](https://262.ecma-international.org/12.0/#prod-CaseClause) : case [Expression](https://262.ecma-international.org/12.0/#prod-Expression) : [StatementList](https://262.ecma-international.org/12.0/#prod-StatementList)opt .
2.  Let exprRef be the result of evaluating the [Expression](https://262.ecma-international.org/12.0/#prod-Expression) of C.
3.  Let clauseSelector be ? [GetValue](https://262.ecma-international.org/12.0/#sec-getvalue)(exprRef).
4.  Return the result of performing [Strict Equality Comparison](https://262.ecma-international.org/12.0/#sec-strict-equality-comparison) input === clauseSelector.

Note

This operation does not execute C's [StatementList](https://262.ecma-international.org/12.0/#prod-StatementList) (if any). The [CaseBlock](https://262.ecma-international.org/12.0/#prod-CaseBlock) algorithm uses its return value to determine which [StatementList](https://262.ecma-international.org/12.0/#prod-StatementList) to start executing.

## 14.12.4 Runtime Semantics: Evaluation

[SwitchStatement](https://262.ecma-international.org/12.0/#prod-SwitchStatement) : switch ( [Expression](https://262.ecma-international.org/12.0/#prod-Expression) ) [CaseBlock](https://262.ecma-international.org/12.0/#prod-CaseBlock)

1.  Let exprRef be the result of evaluating [Expression](https://262.ecma-international.org/12.0/#prod-Expression).
2.  Let switchValue be ? [GetValue](https://262.ecma-international.org/12.0/#sec-getvalue)(exprRef).
3.  Let oldEnv be the [running execution context](https://262.ecma-international.org/12.0/#running-execution-context)'s LexicalEnvironment.
4.  Let blockEnv be [NewDeclarativeEnvironment](https://262.ecma-international.org/12.0/#sec-newdeclarativeenvironment)(oldEnv).
5.  Perform [BlockDeclarationInstantiation](https://262.ecma-international.org/12.0/#sec-blockdeclarationinstantiation)([CaseBlock](https://262.ecma-international.org/12.0/#prod-CaseBlock), blockEnv).
6.  Set the [running execution context](https://262.ecma-international.org/12.0/#running-execution-context)'s LexicalEnvironment to blockEnv.
7.  Let R be [CaseBlockEvaluation](https://262.ecma-international.org/12.0/#sec-runtime-semantics-caseblockevaluation) of [CaseBlock](https://262.ecma-international.org/12.0/#prod-CaseBlock) with argument switchValue.
8.  Set the [running execution context](https://262.ecma-international.org/12.0/#running-execution-context)'s LexicalEnvironment to oldEnv.
9.  Return R.

Note

No matter how control leaves the [SwitchStatement](https://262.ecma-international.org/12.0/#prod-SwitchStatement) the LexicalEnvironment is always restored to its former state.

[CaseClause](https://262.ecma-international.org/12.0/#prod-CaseClause) : case [Expression](https://262.ecma-international.org/12.0/#prod-Expression) :

1.  Return [NormalCompletion](https://262.ecma-international.org/12.0/#sec-normalcompletion)(empty).

[CaseClause](https://262.ecma-international.org/12.0/#prod-CaseClause) : case [Expression](https://262.ecma-international.org/12.0/#prod-Expression) : [StatementList](https://262.ecma-international.org/12.0/#prod-StatementList)

1.  Return the result of evaluating [StatementList](https://262.ecma-international.org/12.0/#prod-StatementList).

[DefaultClause](https://262.ecma-international.org/12.0/#prod-DefaultClause) : default :

1.  Return [NormalCompletion](https://262.ecma-international.org/12.0/#sec-normalcompletion)(empty).

[DefaultClause](https://262.ecma-international.org/12.0/#prod-DefaultClause) : default : [StatementList](https://262.ecma-international.org/12.0/#prod-StatementList)

1.  Return the result of evaluating [StatementList](https://262.ecma-international.org/12.0/#prod-StatementList).

## 14.13 Labelled Statements

## Syntax

[LabelledStatement](https://262.ecma-international.org/12.0/#prod-LabelledStatement)\[Yield, Await, Return\] : [LabelIdentifier](https://262.ecma-international.org/12.0/#prod-LabelIdentifier)\[?Yield, ?Await\] : [LabelledItem](https://262.ecma-international.org/12.0/#prod-LabelledItem)\[?Yield, ?Await, ?Return\] [LabelledItem](https://262.ecma-international.org/12.0/#prod-LabelledItem)\[Yield, Await, Return\] : [Statement](https://262.ecma-international.org/12.0/#prod-Statement)\[?Yield, ?Await, ?Return\] [FunctionDeclaration](https://262.ecma-international.org/12.0/#prod-FunctionDeclaration)\[?Yield, ?Await, ~Default\] Note

A [Statement](https://262.ecma-international.org/12.0/#prod-Statement) may be prefixed by a label. Labelled statements are only used in conjunction with labelled `break` and `continue` statements. ECMAScript has no `goto` statement. A [Statement](https://262.ecma-international.org/12.0/#prod-Statement) can be part of a [LabelledStatement](https://262.ecma-international.org/12.0/#prod-LabelledStatement), which itself can be part of a [LabelledStatement](https://262.ecma-international.org/12.0/#prod-LabelledStatement), and so on. The labels introduced this way are collectively referred to as the “current label set” when describing the semantics of individual statements.

## 14.13.1 Static Semantics: Early Errors

[LabelledItem](https://262.ecma-international.org/12.0/#prod-LabelledItem) : [FunctionDeclaration](https://262.ecma-international.org/12.0/#prod-FunctionDeclaration)

-   It is a Syntax Error if any source text matches this rule.

Note

An alternative definition for this rule is provided in [B.3.2](https://262.ecma-international.org/12.0/#sec-labelled-function-declarations).

## 14.13.2 Static Semantics: IsLabelledFunction ( stmt )

The abstract operation IsLabelledFunction takes argument stmt. It performs the following steps when called:

1.  If stmt is not a [LabelledStatement](https://262.ecma-international.org/12.0/#prod-LabelledStatement), return false.
2.  Let item be the [LabelledItem](https://262.ecma-international.org/12.0/#prod-LabelledItem) of stmt.
3.  If item is [LabelledItem](https://262.ecma-international.org/12.0/#prod-LabelledItem) : [FunctionDeclaration](https://262.ecma-international.org/12.0/#prod-FunctionDeclaration) , return true.
4.  Let subStmt be the [Statement](https://262.ecma-international.org/12.0/#prod-Statement) of item.
5.  Return [IsLabelledFunction](https://262.ecma-international.org/12.0/#sec-islabelledfunction)(subStmt).

## 14.13.3 Runtime Semantics: Evaluation

[LabelledStatement](https://262.ecma-international.org/12.0/#prod-LabelledStatement) : [LabelIdentifier](https://262.ecma-international.org/12.0/#prod-LabelIdentifier) : [LabelledItem](https://262.ecma-international.org/12.0/#prod-LabelledItem)

1.  Let newLabelSet be a new empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).
2.  Return [LabelledEvaluation](https://262.ecma-international.org/12.0/#sec-runtime-semantics-labelledevaluation) of this [LabelledStatement](https://262.ecma-international.org/12.0/#prod-LabelledStatement) with argument newLabelSet.

## 14.13.4 Runtime Semantics: LabelledEvaluation

With parameter labelSet.

[BreakableStatement](https://262.ecma-international.org/12.0/#prod-BreakableStatement) : [IterationStatement](https://262.ecma-international.org/12.0/#prod-IterationStatement)

1.  Let stmtResult be [LoopEvaluation](https://262.ecma-international.org/12.0/#sec-runtime-semantics-loopevaluation) of [IterationStatement](https://262.ecma-international.org/12.0/#prod-IterationStatement) with argument labelSet.
2.  If stmtResult.\[\[Type\]\] is break, then
    1.  If stmtResult.\[\[Target\]\] is empty, then
        1.  If stmtResult.\[\[Value\]\] is empty, set stmtResult to [NormalCompletion](https://262.ecma-international.org/12.0/#sec-normalcompletion)(undefined).
        2.  Else, set stmtResult to [NormalCompletion](https://262.ecma-international.org/12.0/#sec-normalcompletion)(stmtResult.\[\[Value\]\]).
3.  Return [Completion](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type)(stmtResult).

[BreakableStatement](https://262.ecma-international.org/12.0/#prod-BreakableStatement) : [SwitchStatement](https://262.ecma-international.org/12.0/#prod-SwitchStatement)

1.  Let stmtResult be the result of evaluating [SwitchStatement](https://262.ecma-international.org/12.0/#prod-SwitchStatement).
2.  If stmtResult.\[\[Type\]\] is break, then
    1.  If stmtResult.\[\[Target\]\] is empty, then
        1.  If stmtResult.\[\[Value\]\] is empty, set stmtResult to [NormalCompletion](https://262.ecma-international.org/12.0/#sec-normalcompletion)(undefined).
        2.  Else, set stmtResult to [NormalCompletion](https://262.ecma-international.org/12.0/#sec-normalcompletion)(stmtResult.\[\[Value\]\]).
3.  Return [Completion](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type)(stmtResult).

Note 1

A [BreakableStatement](https://262.ecma-international.org/12.0/#prod-BreakableStatement) is one that can be exited via an unlabelled [BreakStatement](https://262.ecma-international.org/12.0/#prod-BreakStatement).

[LabelledStatement](https://262.ecma-international.org/12.0/#prod-LabelledStatement) : [LabelIdentifier](https://262.ecma-international.org/12.0/#prod-LabelIdentifier) : [LabelledItem](https://262.ecma-international.org/12.0/#prod-LabelledItem)

1.  Let label be the [StringValue](https://262.ecma-international.org/12.0/#sec-static-semantics-stringvalue) of [LabelIdentifier](https://262.ecma-international.org/12.0/#prod-LabelIdentifier).
2.  Append label as an element of labelSet.
3.  Let stmtResult be [LabelledEvaluation](https://262.ecma-international.org/12.0/#sec-runtime-semantics-labelledevaluation) of [LabelledItem](https://262.ecma-international.org/12.0/#prod-LabelledItem) with argument labelSet.
4.  If stmtResult.\[\[Type\]\] is break and [SameValue](https://262.ecma-international.org/12.0/#sec-samevalue)(stmtResult.\[\[Target\]\], label) is true, then
    1.  Set stmtResult to [NormalCompletion](https://262.ecma-international.org/12.0/#sec-normalcompletion)(stmtResult.\[\[Value\]\]).
5.  Return [Completion](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type)(stmtResult).

[LabelledItem](https://262.ecma-international.org/12.0/#prod-LabelledItem) : [FunctionDeclaration](https://262.ecma-international.org/12.0/#prod-FunctionDeclaration)

1.  Return the result of evaluating [FunctionDeclaration](https://262.ecma-international.org/12.0/#prod-FunctionDeclaration).

[Statement](https://262.ecma-international.org/12.0/#prod-Statement) : [BlockStatement](https://262.ecma-international.org/12.0/#prod-BlockStatement) [VariableStatement](https://262.ecma-international.org/12.0/#prod-VariableStatement) [EmptyStatement](https://262.ecma-international.org/12.0/#prod-EmptyStatement) [ExpressionStatement](https://262.ecma-international.org/12.0/#prod-ExpressionStatement) [IfStatement](https://262.ecma-international.org/12.0/#prod-IfStatement) [ContinueStatement](https://262.ecma-international.org/12.0/#prod-ContinueStatement) [BreakStatement](https://262.ecma-international.org/12.0/#prod-BreakStatement) [ReturnStatement](https://262.ecma-international.org/12.0/#prod-ReturnStatement) [WithStatement](https://262.ecma-international.org/12.0/#prod-WithStatement) [ThrowStatement](https://262.ecma-international.org/12.0/#prod-ThrowStatement) [TryStatement](https://262.ecma-international.org/12.0/#prod-TryStatement) [DebuggerStatement](https://262.ecma-international.org/12.0/#prod-DebuggerStatement)

1.  Return the result of evaluating [Statement](https://262.ecma-international.org/12.0/#prod-Statement).

Note 2

The only two productions of [Statement](https://262.ecma-international.org/12.0/#prod-Statement) which have special semantics for LabelledEvaluation are [BreakableStatement](https://262.ecma-international.org/12.0/#prod-BreakableStatement) and [LabelledStatement](https://262.ecma-international.org/12.0/#prod-LabelledStatement).

## 14.14 The `throw` Statement

## Syntax

[ThrowStatement](https://262.ecma-international.org/12.0/#prod-ThrowStatement)\[Yield, Await\] : throw \[no [LineTerminator](https://262.ecma-international.org/12.0/#prod-LineTerminator) here\] [Expression](https://262.ecma-international.org/12.0/#prod-Expression)\[+In, ?Yield, ?Await\] ;

## 14.14.1 Runtime Semantics: Evaluation

[ThrowStatement](https://262.ecma-international.org/12.0/#prod-ThrowStatement) : throw [Expression](https://262.ecma-international.org/12.0/#prod-Expression) ;

1.  Let exprRef be the result of evaluating [Expression](https://262.ecma-international.org/12.0/#prod-Expression).
2.  Let exprValue be ? [GetValue](https://262.ecma-international.org/12.0/#sec-getvalue)(exprRef).
3.  Return [ThrowCompletion](https://262.ecma-international.org/12.0/#sec-throwcompletion)(exprValue).

## 14.15 The `try` Statement

## Syntax

[TryStatement](https://262.ecma-international.org/12.0/#prod-TryStatement)\[Yield, Await, Return\] : try [Block](https://262.ecma-international.org/12.0/#prod-Block)\[?Yield, ?Await, ?Return\] [Catch](https://262.ecma-international.org/12.0/#prod-Catch)\[?Yield, ?Await, ?Return\] try [Block](https://262.ecma-international.org/12.0/#prod-Block)\[?Yield, ?Await, ?Return\] [Finally](https://262.ecma-international.org/12.0/#prod-Finally)\[?Yield, ?Await, ?Return\] try [Block](https://262.ecma-international.org/12.0/#prod-Block)\[?Yield, ?Await, ?Return\] [Catch](https://262.ecma-international.org/12.0/#prod-Catch)\[?Yield, ?Await, ?Return\] [Finally](https://262.ecma-international.org/12.0/#prod-Finally)\[?Yield, ?Await, ?Return\] [Catch](https://262.ecma-international.org/12.0/#prod-Catch)\[Yield, Await, Return\] : catch ( [CatchParameter](https://262.ecma-international.org/12.0/#prod-CatchParameter)\[?Yield, ?Await\] ) [Block](https://262.ecma-international.org/12.0/#prod-Block)\[?Yield, ?Await, ?Return\] catch [Block](https://262.ecma-international.org/12.0/#prod-Block)\[?Yield, ?Await, ?Return\] [Finally](https://262.ecma-international.org/12.0/#prod-Finally)\[Yield, Await, Return\] : finally [Block](https://262.ecma-international.org/12.0/#prod-Block)\[?Yield, ?Await, ?Return\] [CatchParameter](https://262.ecma-international.org/12.0/#prod-CatchParameter)\[Yield, Await\] : [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier)\[?Yield, ?Await\] [BindingPattern](https://262.ecma-international.org/12.0/#prod-BindingPattern)\[?Yield, ?Await\] Note

The `try` statement encloses a block of code in which an exceptional condition can occur, such as a runtime error or a `throw` statement. The `catch` clause provides the exception-handling code. When a catch clause catches an exception, its [CatchParameter](https://262.ecma-international.org/12.0/#prod-CatchParameter) is bound to that exception.

## 14.15.1 Static Semantics: Early Errors

[Catch](https://262.ecma-international.org/12.0/#prod-Catch) : catch ( [CatchParameter](https://262.ecma-international.org/12.0/#prod-CatchParameter) ) [Block](https://262.ecma-international.org/12.0/#prod-Block)

-   It is a Syntax Error if [BoundNames](https://262.ecma-international.org/12.0/#sec-static-semantics-boundnames) of [CatchParameter](https://262.ecma-international.org/12.0/#prod-CatchParameter) contains any duplicate elements.
-   It is a Syntax Error if any element of the [BoundNames](https://262.ecma-international.org/12.0/#sec-static-semantics-boundnames) of [CatchParameter](https://262.ecma-international.org/12.0/#prod-CatchParameter) also occurs in the [LexicallyDeclaredNames](https://262.ecma-international.org/12.0/#sec-static-semantics-lexicallydeclarednames) of [Block](https://262.ecma-international.org/12.0/#prod-Block).
-   It is a Syntax Error if any element of the [BoundNames](https://262.ecma-international.org/12.0/#sec-static-semantics-boundnames) of [CatchParameter](https://262.ecma-international.org/12.0/#prod-CatchParameter) also occurs in the [VarDeclaredNames](https://262.ecma-international.org/12.0/#sec-static-semantics-vardeclarednames) of [Block](https://262.ecma-international.org/12.0/#prod-Block).

Note

An alternative [static semantics](https://262.ecma-international.org/12.0/#sec-static-semantic-rules) for this production is given in [B.3.5](https://262.ecma-international.org/12.0/#sec-variablestatements-in-catch-blocks).

## 14.15.2 Runtime Semantics: CatchClauseEvaluation

With parameter thrownValue.

[Catch](https://262.ecma-international.org/12.0/#prod-Catch) : catch ( [CatchParameter](https://262.ecma-international.org/12.0/#prod-CatchParameter) ) [Block](https://262.ecma-international.org/12.0/#prod-Block)

1.  Let oldEnv be the [running execution context](https://262.ecma-international.org/12.0/#running-execution-context)'s LexicalEnvironment.
2.  Let catchEnv be [NewDeclarativeEnvironment](https://262.ecma-international.org/12.0/#sec-newdeclarativeenvironment)(oldEnv).
3.  For each element argName of the [BoundNames](https://262.ecma-international.org/12.0/#sec-static-semantics-boundnames) of [CatchParameter](https://262.ecma-international.org/12.0/#prod-CatchParameter), do
    1.  Perform ! catchEnv.CreateMutableBinding(argName, false).
4.  Set the [running execution context](https://262.ecma-international.org/12.0/#running-execution-context)'s LexicalEnvironment to catchEnv.
5.  Let status be [BindingInitialization](https://262.ecma-international.org/12.0/#sec-runtime-semantics-bindinginitialization) of [CatchParameter](https://262.ecma-international.org/12.0/#prod-CatchParameter) with arguments thrownValue and catchEnv.
6.  If status is an [abrupt completion](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type), then
    1.  Set the [running execution context](https://262.ecma-international.org/12.0/#running-execution-context)'s LexicalEnvironment to oldEnv.
    2.  Return [Completion](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type)(status).
7.  Let B be the result of evaluating [Block](https://262.ecma-international.org/12.0/#prod-Block).
8.  Set the [running execution context](https://262.ecma-international.org/12.0/#running-execution-context)'s LexicalEnvironment to oldEnv.
9.  Return [Completion](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type)(B).

[Catch](https://262.ecma-international.org/12.0/#prod-Catch) : catch [Block](https://262.ecma-international.org/12.0/#prod-Block)

1.  Return the result of evaluating [Block](https://262.ecma-international.org/12.0/#prod-Block).

Note

No matter how control leaves the [Block](https://262.ecma-international.org/12.0/#prod-Block) the LexicalEnvironment is always restored to its former state.

## 14.15.3 Runtime Semantics: Evaluation

[TryStatement](https://262.ecma-international.org/12.0/#prod-TryStatement) : try [Block](https://262.ecma-international.org/12.0/#prod-Block) [Catch](https://262.ecma-international.org/12.0/#prod-Catch)

1.  Let B be the result of evaluating [Block](https://262.ecma-international.org/12.0/#prod-Block).
2.  If B.\[\[Type\]\] is throw, let C be [CatchClauseEvaluation](https://262.ecma-international.org/12.0/#sec-runtime-semantics-catchclauseevaluation) of [Catch](https://262.ecma-international.org/12.0/#prod-Catch) with argument B.\[\[Value\]\].
3.  Else, let C be B.
4.  Return [Completion](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type)([UpdateEmpty](https://262.ecma-international.org/12.0/#sec-updateempty)(C, undefined)).

[TryStatement](https://262.ecma-international.org/12.0/#prod-TryStatement) : try [Block](https://262.ecma-international.org/12.0/#prod-Block) [Finally](https://262.ecma-international.org/12.0/#prod-Finally)

1.  Let B be the result of evaluating [Block](https://262.ecma-international.org/12.0/#prod-Block).
2.  Let F be the result of evaluating [Finally](https://262.ecma-international.org/12.0/#prod-Finally).
3.  If F.\[\[Type\]\] is normal, set F to B.
4.  Return [Completion](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type)([UpdateEmpty](https://262.ecma-international.org/12.0/#sec-updateempty)(F, undefined)).

[TryStatement](https://262.ecma-international.org/12.0/#prod-TryStatement) : try [Block](https://262.ecma-international.org/12.0/#prod-Block) [Catch](https://262.ecma-international.org/12.0/#prod-Catch) [Finally](https://262.ecma-international.org/12.0/#prod-Finally)

1.  Let B be the result of evaluating [Block](https://262.ecma-international.org/12.0/#prod-Block).
2.  If B.\[\[Type\]\] is throw, let C be [CatchClauseEvaluation](https://262.ecma-international.org/12.0/#sec-runtime-semantics-catchclauseevaluation) of [Catch](https://262.ecma-international.org/12.0/#prod-Catch) with argument B.\[\[Value\]\].
3.  Else, let C be B.
4.  Let F be the result of evaluating [Finally](https://262.ecma-international.org/12.0/#prod-Finally).
5.  If F.\[\[Type\]\] is normal, set F to C.
6.  Return [Completion](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type)([UpdateEmpty](https://262.ecma-international.org/12.0/#sec-updateempty)(F, undefined)).

## 14.16 The `debugger` Statement

## Syntax

[DebuggerStatement](https://262.ecma-international.org/12.0/#prod-DebuggerStatement) : debugger ;

## 14.16.1 Runtime Semantics: Evaluation

Note

Evaluating a [DebuggerStatement](https://262.ecma-international.org/12.0/#prod-DebuggerStatement) may allow an implementation to cause a breakpoint when run under a debugger. If a debugger is not present or active this statement has no observable effect.

[DebuggerStatement](https://262.ecma-international.org/12.0/#prod-DebuggerStatement) : debugger ;

1.  If an [implementation-defined](https://262.ecma-international.org/12.0/#implementation-defined) debugging facility is available and enabled, then
    1.  Perform an [implementation-defined](https://262.ecma-international.org/12.0/#implementation-defined) debugging action.
    2.  Let result be an [implementation-defined](https://262.ecma-international.org/12.0/#implementation-defined) [Completion](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type) value.
2.  Else,
    1.  Let result be [NormalCompletion](https://262.ecma-international.org/12.0/#sec-normalcompletion)(empty).
3.  Return result.

## 15 ECMAScript Language: Functions and Classes

Note

Various ECMAScript language elements cause the creation of ECMAScript function objects ([10.2](https://262.ecma-international.org/12.0/#sec-ecmascript-function-objects)). Evaluation of such functions starts with the execution of their \[\[Call\]\] internal method ([10.2.1](https://262.ecma-international.org/12.0/#sec-ecmascript-function-objects-call-thisargument-argumentslist)).

## 15.1 Parameter Lists

## Syntax

[UniqueFormalParameters](https://262.ecma-international.org/12.0/#prod-UniqueFormalParameters)\[Yield, Await\] : [FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters)\[?Yield, ?Await\] [FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters)\[Yield, Await\] : \[empty\] [FunctionRestParameter](https://262.ecma-international.org/12.0/#prod-FunctionRestParameter)\[?Yield, ?Await\] [FormalParameterList](https://262.ecma-international.org/12.0/#prod-FormalParameterList)\[?Yield, ?Await\] [FormalParameterList](https://262.ecma-international.org/12.0/#prod-FormalParameterList)\[?Yield, ?Await\] , [FormalParameterList](https://262.ecma-international.org/12.0/#prod-FormalParameterList)\[?Yield, ?Await\] , [FunctionRestParameter](https://262.ecma-international.org/12.0/#prod-FunctionRestParameter)\[?Yield, ?Await\] [FormalParameterList](https://262.ecma-international.org/12.0/#prod-FormalParameterList)\[Yield, Await\] : [FormalParameter](https://262.ecma-international.org/12.0/#prod-FormalParameter)\[?Yield, ?Await\] [FormalParameterList](https://262.ecma-international.org/12.0/#prod-FormalParameterList)\[?Yield, ?Await\] , [FormalParameter](https://262.ecma-international.org/12.0/#prod-FormalParameter)\[?Yield, ?Await\] [FunctionRestParameter](https://262.ecma-international.org/12.0/#prod-FunctionRestParameter)\[Yield, Await\] : [BindingRestElement](https://262.ecma-international.org/12.0/#prod-BindingRestElement)\[?Yield, ?Await\] [FormalParameter](https://262.ecma-international.org/12.0/#prod-FormalParameter)\[Yield, Await\] : [BindingElement](https://262.ecma-international.org/12.0/#prod-BindingElement)\[?Yield, ?Await\]

## 15.1.1 Static Semantics: Early Errors

[UniqueFormalParameters](https://262.ecma-international.org/12.0/#prod-UniqueFormalParameters) : [FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters)

-   It is a Syntax Error if [BoundNames](https://262.ecma-international.org/12.0/#sec-static-semantics-boundnames) of [FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters) contains any duplicate elements.

[FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters) : [FormalParameterList](https://262.ecma-international.org/12.0/#prod-FormalParameterList)

-   It is a Syntax Error if [IsSimpleParameterList](https://262.ecma-international.org/12.0/#sec-static-semantics-issimpleparameterlist) of [FormalParameterList](https://262.ecma-international.org/12.0/#prod-FormalParameterList) is false and [BoundNames](https://262.ecma-international.org/12.0/#sec-static-semantics-boundnames) of [FormalParameterList](https://262.ecma-international.org/12.0/#prod-FormalParameterList) contains any duplicate elements.

Note

Multiple occurrences of the same [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier) in a [FormalParameterList](https://262.ecma-international.org/12.0/#prod-FormalParameterList) is only allowed for functions which have simple parameter lists and which are not defined in [strict mode code](https://262.ecma-international.org/12.0/#sec-strict-mode-code).

## 15.1.2 Static Semantics: ContainsExpression

[ObjectBindingPattern](https://262.ecma-international.org/12.0/#prod-ObjectBindingPattern) : { } { [BindingRestProperty](https://262.ecma-international.org/12.0/#prod-BindingRestProperty) }

1.  Return false.

[ObjectBindingPattern](https://262.ecma-international.org/12.0/#prod-ObjectBindingPattern) : { [BindingPropertyList](https://262.ecma-international.org/12.0/#prod-BindingPropertyList) , [BindingRestProperty](https://262.ecma-international.org/12.0/#prod-BindingRestProperty) }

1.  Return [ContainsExpression](https://262.ecma-international.org/12.0/#sec-static-semantics-containsexpression) of [BindingPropertyList](https://262.ecma-international.org/12.0/#prod-BindingPropertyList).

[ArrayBindingPattern](https://262.ecma-international.org/12.0/#prod-ArrayBindingPattern) : \[ [Elision](https://262.ecma-international.org/12.0/#prod-Elision)opt \]

1.  Return false.

[ArrayBindingPattern](https://262.ecma-international.org/12.0/#prod-ArrayBindingPattern) : \[ [Elision](https://262.ecma-international.org/12.0/#prod-Elision)opt [BindingRestElement](https://262.ecma-international.org/12.0/#prod-BindingRestElement) \]

1.  Return [ContainsExpression](https://262.ecma-international.org/12.0/#sec-static-semantics-containsexpression) of [BindingRestElement](https://262.ecma-international.org/12.0/#prod-BindingRestElement).

[ArrayBindingPattern](https://262.ecma-international.org/12.0/#prod-ArrayBindingPattern) : \[ [BindingElementList](https://262.ecma-international.org/12.0/#prod-BindingElementList) , [Elision](https://262.ecma-international.org/12.0/#prod-Elision)opt \]

1.  Return [ContainsExpression](https://262.ecma-international.org/12.0/#sec-static-semantics-containsexpression) of [BindingElementList](https://262.ecma-international.org/12.0/#prod-BindingElementList).

[ArrayBindingPattern](https://262.ecma-international.org/12.0/#prod-ArrayBindingPattern) : \[ [BindingElementList](https://262.ecma-international.org/12.0/#prod-BindingElementList) , [Elision](https://262.ecma-international.org/12.0/#prod-Elision)opt [BindingRestElement](https://262.ecma-international.org/12.0/#prod-BindingRestElement) \]

1.  Let has be [ContainsExpression](https://262.ecma-international.org/12.0/#sec-static-semantics-containsexpression) of [BindingElementList](https://262.ecma-international.org/12.0/#prod-BindingElementList).
2.  If has is true, return true.
3.  Return [ContainsExpression](https://262.ecma-international.org/12.0/#sec-static-semantics-containsexpression) of [BindingRestElement](https://262.ecma-international.org/12.0/#prod-BindingRestElement).

[BindingPropertyList](https://262.ecma-international.org/12.0/#prod-BindingPropertyList) : [BindingPropertyList](https://262.ecma-international.org/12.0/#prod-BindingPropertyList) , [BindingProperty](https://262.ecma-international.org/12.0/#prod-BindingProperty)

1.  Let has be [ContainsExpression](https://262.ecma-international.org/12.0/#sec-static-semantics-containsexpression) of [BindingPropertyList](https://262.ecma-international.org/12.0/#prod-BindingPropertyList).
2.  If has is true, return true.
3.  Return [ContainsExpression](https://262.ecma-international.org/12.0/#sec-static-semantics-containsexpression) of [BindingProperty](https://262.ecma-international.org/12.0/#prod-BindingProperty).

[BindingElementList](https://262.ecma-international.org/12.0/#prod-BindingElementList) : [BindingElementList](https://262.ecma-international.org/12.0/#prod-BindingElementList) , [BindingElisionElement](https://262.ecma-international.org/12.0/#prod-BindingElisionElement)

1.  Let has be [ContainsExpression](https://262.ecma-international.org/12.0/#sec-static-semantics-containsexpression) of [BindingElementList](https://262.ecma-international.org/12.0/#prod-BindingElementList).
2.  If has is true, return true.
3.  Return [ContainsExpression](https://262.ecma-international.org/12.0/#sec-static-semantics-containsexpression) of [BindingElisionElement](https://262.ecma-international.org/12.0/#prod-BindingElisionElement).

[BindingElisionElement](https://262.ecma-international.org/12.0/#prod-BindingElisionElement) : [Elision](https://262.ecma-international.org/12.0/#prod-Elision)opt [BindingElement](https://262.ecma-international.org/12.0/#prod-BindingElement)

1.  Return [ContainsExpression](https://262.ecma-international.org/12.0/#sec-static-semantics-containsexpression) of [BindingElement](https://262.ecma-international.org/12.0/#prod-BindingElement).

[BindingProperty](https://262.ecma-international.org/12.0/#prod-BindingProperty) : [PropertyName](https://262.ecma-international.org/12.0/#prod-PropertyName) : [BindingElement](https://262.ecma-international.org/12.0/#prod-BindingElement)

1.  Let has be [IsComputedPropertyKey](https://262.ecma-international.org/12.0/#sec-static-semantics-iscomputedpropertykey) of [PropertyName](https://262.ecma-international.org/12.0/#prod-PropertyName).
2.  If has is true, return true.
3.  Return [ContainsExpression](https://262.ecma-international.org/12.0/#sec-static-semantics-containsexpression) of [BindingElement](https://262.ecma-international.org/12.0/#prod-BindingElement).

[BindingElement](https://262.ecma-international.org/12.0/#prod-BindingElement) : [BindingPattern](https://262.ecma-international.org/12.0/#prod-BindingPattern) [Initializer](https://262.ecma-international.org/12.0/#prod-Initializer)

1.  Return true.

[SingleNameBinding](https://262.ecma-international.org/12.0/#prod-SingleNameBinding) : [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier)

1.  Return false.

[SingleNameBinding](https://262.ecma-international.org/12.0/#prod-SingleNameBinding) : [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier) [Initializer](https://262.ecma-international.org/12.0/#prod-Initializer)

1.  Return true.

[BindingRestElement](https://262.ecma-international.org/12.0/#prod-BindingRestElement) : ... [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier)

1.  Return false.

[BindingRestElement](https://262.ecma-international.org/12.0/#prod-BindingRestElement) : ... [BindingPattern](https://262.ecma-international.org/12.0/#prod-BindingPattern)

1.  Return [ContainsExpression](https://262.ecma-international.org/12.0/#sec-static-semantics-containsexpression) of [BindingPattern](https://262.ecma-international.org/12.0/#prod-BindingPattern).

[FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters) : \[empty\]

1.  Return false.

[FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters) : [FormalParameterList](https://262.ecma-international.org/12.0/#prod-FormalParameterList) , [FunctionRestParameter](https://262.ecma-international.org/12.0/#prod-FunctionRestParameter)

1.  If [ContainsExpression](https://262.ecma-international.org/12.0/#sec-static-semantics-containsexpression) of [FormalParameterList](https://262.ecma-international.org/12.0/#prod-FormalParameterList) is true, return true.
2.  Return [ContainsExpression](https://262.ecma-international.org/12.0/#sec-static-semantics-containsexpression) of [FunctionRestParameter](https://262.ecma-international.org/12.0/#prod-FunctionRestParameter).

[FormalParameterList](https://262.ecma-international.org/12.0/#prod-FormalParameterList) : [FormalParameterList](https://262.ecma-international.org/12.0/#prod-FormalParameterList) , [FormalParameter](https://262.ecma-international.org/12.0/#prod-FormalParameter)

1.  If [ContainsExpression](https://262.ecma-international.org/12.0/#sec-static-semantics-containsexpression) of [FormalParameterList](https://262.ecma-international.org/12.0/#prod-FormalParameterList) is true, return true.
2.  Return [ContainsExpression](https://262.ecma-international.org/12.0/#sec-static-semantics-containsexpression) of [FormalParameter](https://262.ecma-international.org/12.0/#prod-FormalParameter).

[ArrowParameters](https://262.ecma-international.org/12.0/#prod-ArrowParameters) : [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier)

1.  Return false.

[ArrowParameters](https://262.ecma-international.org/12.0/#prod-ArrowParameters) : [CoverParenthesizedExpressionAndArrowParameterList](https://262.ecma-international.org/12.0/#prod-CoverParenthesizedExpressionAndArrowParameterList)

1.  Let formals be [CoveredFormalsList](https://262.ecma-international.org/12.0/#sec-static-semantics-coveredformalslist) of [CoverParenthesizedExpressionAndArrowParameterList](https://262.ecma-international.org/12.0/#prod-CoverParenthesizedExpressionAndArrowParameterList).
2.  Return [ContainsExpression](https://262.ecma-international.org/12.0/#sec-static-semantics-containsexpression) of formals.

[AsyncArrowBindingIdentifier](https://262.ecma-international.org/12.0/#prod-AsyncArrowBindingIdentifier) : [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier)

1.  Return false.

## 15.1.3 Static Semantics: IsSimpleParameterList

[BindingElement](https://262.ecma-international.org/12.0/#prod-BindingElement) : [BindingPattern](https://262.ecma-international.org/12.0/#prod-BindingPattern)

1.  Return false.

[BindingElement](https://262.ecma-international.org/12.0/#prod-BindingElement) : [BindingPattern](https://262.ecma-international.org/12.0/#prod-BindingPattern) [Initializer](https://262.ecma-international.org/12.0/#prod-Initializer)

1.  Return false.

[SingleNameBinding](https://262.ecma-international.org/12.0/#prod-SingleNameBinding) : [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier)

1.  Return true.

[SingleNameBinding](https://262.ecma-international.org/12.0/#prod-SingleNameBinding) : [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier) [Initializer](https://262.ecma-international.org/12.0/#prod-Initializer)

1.  Return false.

[FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters) : \[empty\]

1.  Return true.

[FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters) : [FunctionRestParameter](https://262.ecma-international.org/12.0/#prod-FunctionRestParameter)

1.  Return false.

[FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters) : [FormalParameterList](https://262.ecma-international.org/12.0/#prod-FormalParameterList) , [FunctionRestParameter](https://262.ecma-international.org/12.0/#prod-FunctionRestParameter)

1.  Return false.

[FormalParameterList](https://262.ecma-international.org/12.0/#prod-FormalParameterList) : [FormalParameterList](https://262.ecma-international.org/12.0/#prod-FormalParameterList) , [FormalParameter](https://262.ecma-international.org/12.0/#prod-FormalParameter)

1.  If [IsSimpleParameterList](https://262.ecma-international.org/12.0/#sec-static-semantics-issimpleparameterlist) of [FormalParameterList](https://262.ecma-international.org/12.0/#prod-FormalParameterList) is false, return false.
2.  Return [IsSimpleParameterList](https://262.ecma-international.org/12.0/#sec-static-semantics-issimpleparameterlist) of [FormalParameter](https://262.ecma-international.org/12.0/#prod-FormalParameter).

[FormalParameter](https://262.ecma-international.org/12.0/#prod-FormalParameter) : [BindingElement](https://262.ecma-international.org/12.0/#prod-BindingElement)

1.  Return [IsSimpleParameterList](https://262.ecma-international.org/12.0/#sec-static-semantics-issimpleparameterlist) of [BindingElement](https://262.ecma-international.org/12.0/#prod-BindingElement).

[ArrowParameters](https://262.ecma-international.org/12.0/#prod-ArrowParameters) : [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier)

1.  Return true.

[ArrowParameters](https://262.ecma-international.org/12.0/#prod-ArrowParameters) : [CoverParenthesizedExpressionAndArrowParameterList](https://262.ecma-international.org/12.0/#prod-CoverParenthesizedExpressionAndArrowParameterList)

1.  Let formals be [CoveredFormalsList](https://262.ecma-international.org/12.0/#sec-static-semantics-coveredformalslist) of [CoverParenthesizedExpressionAndArrowParameterList](https://262.ecma-international.org/12.0/#prod-CoverParenthesizedExpressionAndArrowParameterList).
2.  Return [IsSimpleParameterList](https://262.ecma-international.org/12.0/#sec-static-semantics-issimpleparameterlist) of formals.

[AsyncArrowBindingIdentifier](https://262.ecma-international.org/12.0/#prod-AsyncArrowBindingIdentifier)\[Yield\] : [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier)\[?Yield, +Await\]

1.  Return true.

[CoverCallExpressionAndAsyncArrowHead](https://262.ecma-international.org/12.0/#prod-CoverCallExpressionAndAsyncArrowHead) : [MemberExpression](https://262.ecma-international.org/12.0/#prod-MemberExpression) [Arguments](https://262.ecma-international.org/12.0/#prod-Arguments)

1.  Let head be [CoveredAsyncArrowHead](https://262.ecma-international.org/12.0/#sec-async-arrow-function-definitions-static-semantics-CoveredAsyncArrowHead) of [CoverCallExpressionAndAsyncArrowHead](https://262.ecma-international.org/12.0/#prod-CoverCallExpressionAndAsyncArrowHead).
2.  Return [IsSimpleParameterList](https://262.ecma-international.org/12.0/#sec-static-semantics-issimpleparameterlist) of head.

## 15.1.4 Static Semantics: HasInitializer

[BindingElement](https://262.ecma-international.org/12.0/#prod-BindingElement) : [BindingPattern](https://262.ecma-international.org/12.0/#prod-BindingPattern)

1.  Return false.

[BindingElement](https://262.ecma-international.org/12.0/#prod-BindingElement) : [BindingPattern](https://262.ecma-international.org/12.0/#prod-BindingPattern) [Initializer](https://262.ecma-international.org/12.0/#prod-Initializer)

1.  Return true.

[SingleNameBinding](https://262.ecma-international.org/12.0/#prod-SingleNameBinding) : [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier)

1.  Return false.

[SingleNameBinding](https://262.ecma-international.org/12.0/#prod-SingleNameBinding) : [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier) [Initializer](https://262.ecma-international.org/12.0/#prod-Initializer)

1.  Return true.

[FormalParameterList](https://262.ecma-international.org/12.0/#prod-FormalParameterList) : [FormalParameterList](https://262.ecma-international.org/12.0/#prod-FormalParameterList) , [FormalParameter](https://262.ecma-international.org/12.0/#prod-FormalParameter)

1.  If [HasInitializer](https://262.ecma-international.org/12.0/#sec-static-semantics-hasinitializer) of [FormalParameterList](https://262.ecma-international.org/12.0/#prod-FormalParameterList) is true, return true.
2.  Return [HasInitializer](https://262.ecma-international.org/12.0/#sec-static-semantics-hasinitializer) of [FormalParameter](https://262.ecma-international.org/12.0/#prod-FormalParameter).

## 15.1.5 Static Semantics: ExpectedArgumentCount

[FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters) : \[empty\] [FunctionRestParameter](https://262.ecma-international.org/12.0/#prod-FunctionRestParameter)

1.  Return 0.

[FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters) : [FormalParameterList](https://262.ecma-international.org/12.0/#prod-FormalParameterList) , [FunctionRestParameter](https://262.ecma-international.org/12.0/#prod-FunctionRestParameter)

1.  Return [ExpectedArgumentCount](https://262.ecma-international.org/12.0/#sec-static-semantics-expectedargumentcount) of [FormalParameterList](https://262.ecma-international.org/12.0/#prod-FormalParameterList).

Note

The ExpectedArgumentCount of a [FormalParameterList](https://262.ecma-international.org/12.0/#prod-FormalParameterList) is the number of [FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters) to the left of either the rest parameter or the first [FormalParameter](https://262.ecma-international.org/12.0/#prod-FormalParameter) with an Initializer. A [FormalParameter](https://262.ecma-international.org/12.0/#prod-FormalParameter) without an initializer is allowed after the first parameter with an initializer but such parameters are considered to be optional with undefined as their default value.

[FormalParameterList](https://262.ecma-international.org/12.0/#prod-FormalParameterList) : [FormalParameter](https://262.ecma-international.org/12.0/#prod-FormalParameter)

1.  If [HasInitializer](https://262.ecma-international.org/12.0/#sec-static-semantics-hasinitializer) of [FormalParameter](https://262.ecma-international.org/12.0/#prod-FormalParameter) is true, return 0.
2.  Return 1.

[FormalParameterList](https://262.ecma-international.org/12.0/#prod-FormalParameterList) : [FormalParameterList](https://262.ecma-international.org/12.0/#prod-FormalParameterList) , [FormalParameter](https://262.ecma-international.org/12.0/#prod-FormalParameter)

1.  Let count be [ExpectedArgumentCount](https://262.ecma-international.org/12.0/#sec-static-semantics-expectedargumentcount) of [FormalParameterList](https://262.ecma-international.org/12.0/#prod-FormalParameterList).
2.  If [HasInitializer](https://262.ecma-international.org/12.0/#sec-static-semantics-hasinitializer) of [FormalParameterList](https://262.ecma-international.org/12.0/#prod-FormalParameterList) is true or [HasInitializer](https://262.ecma-international.org/12.0/#sec-static-semantics-hasinitializer) of [FormalParameter](https://262.ecma-international.org/12.0/#prod-FormalParameter) is true, return count.
3.  Return count + 1.

[ArrowParameters](https://262.ecma-international.org/12.0/#prod-ArrowParameters) : [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier)

1.  Return 1.

[ArrowParameters](https://262.ecma-international.org/12.0/#prod-ArrowParameters) : [CoverParenthesizedExpressionAndArrowParameterList](https://262.ecma-international.org/12.0/#prod-CoverParenthesizedExpressionAndArrowParameterList)

1.  Let formals be [CoveredFormalsList](https://262.ecma-international.org/12.0/#sec-static-semantics-coveredformalslist) of [CoverParenthesizedExpressionAndArrowParameterList](https://262.ecma-international.org/12.0/#prod-CoverParenthesizedExpressionAndArrowParameterList).
2.  Return [ExpectedArgumentCount](https://262.ecma-international.org/12.0/#sec-static-semantics-expectedargumentcount) of formals.

[PropertySetParameterList](https://262.ecma-international.org/12.0/#prod-PropertySetParameterList) : [FormalParameter](https://262.ecma-international.org/12.0/#prod-FormalParameter)

1.  If [HasInitializer](https://262.ecma-international.org/12.0/#sec-static-semantics-hasinitializer) of [FormalParameter](https://262.ecma-international.org/12.0/#prod-FormalParameter) is true, return 0.
2.  Return 1.

[AsyncArrowBindingIdentifier](https://262.ecma-international.org/12.0/#prod-AsyncArrowBindingIdentifier) : [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier)

1.  Return 1.

## 15.2 Function Definitions

## Syntax

[FunctionDeclaration](https://262.ecma-international.org/12.0/#prod-FunctionDeclaration)\[Yield, Await, Default\] : function [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier)\[?Yield, ?Await\] ( [FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters)\[~Yield, ~Await\] ) { [FunctionBody](https://262.ecma-international.org/12.0/#prod-FunctionBody)\[~Yield, ~Await\] } \[+Default\] function ( [FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters)\[~Yield, ~Await\] ) { [FunctionBody](https://262.ecma-international.org/12.0/#prod-FunctionBody)\[~Yield, ~Await\] } [FunctionExpression](https://262.ecma-international.org/12.0/#prod-FunctionExpression) : function [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier)\[~Yield, ~Await\]opt ( [FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters)\[~Yield, ~Await\] ) { [FunctionBody](https://262.ecma-international.org/12.0/#prod-FunctionBody)\[~Yield, ~Await\] } [FunctionBody](https://262.ecma-international.org/12.0/#prod-FunctionBody)\[Yield, Await\] : [FunctionStatementList](https://262.ecma-international.org/12.0/#prod-FunctionStatementList)\[?Yield, ?Await\] [FunctionStatementList](https://262.ecma-international.org/12.0/#prod-FunctionStatementList)\[Yield, Await\] : [StatementList](https://262.ecma-international.org/12.0/#prod-StatementList)\[?Yield, ?Await, +Return\]opt

## 15.2.1 Static Semantics: Early Errors

[FunctionDeclaration](https://262.ecma-international.org/12.0/#prod-FunctionDeclaration) : function [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier) ( [FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters) ) { [FunctionBody](https://262.ecma-international.org/12.0/#prod-FunctionBody) } function ( [FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters) ) { [FunctionBody](https://262.ecma-international.org/12.0/#prod-FunctionBody) } [FunctionExpression](https://262.ecma-international.org/12.0/#prod-FunctionExpression) : function [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier)opt ( [FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters) ) { [FunctionBody](https://262.ecma-international.org/12.0/#prod-FunctionBody) }

-   If the source code matching [FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters) is [strict mode code](https://262.ecma-international.org/12.0/#sec-strict-mode-code), the Early Error rules for [UniqueFormalParameters](https://262.ecma-international.org/12.0/#prod-UniqueFormalParameters) : [FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters) are applied.
-   If [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier) is present and the source code matching [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier) is [strict mode code](https://262.ecma-international.org/12.0/#sec-strict-mode-code), it is a Syntax Error if the [StringValue](https://262.ecma-international.org/12.0/#sec-static-semantics-stringvalue) of [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier) is "eval" or "arguments".
-   It is a Syntax Error if [FunctionBodyContainsUseStrict](https://262.ecma-international.org/12.0/#sec-static-semantics-functionbodycontainsusestrict) of [FunctionBody](https://262.ecma-international.org/12.0/#prod-FunctionBody) is true and [IsSimpleParameterList](https://262.ecma-international.org/12.0/#sec-static-semantics-issimpleparameterlist) of [FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters) is false.
-   It is a Syntax Error if any element of the [BoundNames](https://262.ecma-international.org/12.0/#sec-static-semantics-boundnames) of [FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters) also occurs in the [LexicallyDeclaredNames](https://262.ecma-international.org/12.0/#sec-static-semantics-lexicallydeclarednames) of [FunctionBody](https://262.ecma-international.org/12.0/#prod-FunctionBody).
-   It is a Syntax Error if [FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters) [Contains](https://262.ecma-international.org/12.0/#sec-static-semantics-contains) [SuperProperty](https://262.ecma-international.org/12.0/#prod-SuperProperty) is true.
-   It is a Syntax Error if [FunctionBody](https://262.ecma-international.org/12.0/#prod-FunctionBody) [Contains](https://262.ecma-international.org/12.0/#sec-static-semantics-contains) [SuperProperty](https://262.ecma-international.org/12.0/#prod-SuperProperty) is true.
-   It is a Syntax Error if [FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters) [Contains](https://262.ecma-international.org/12.0/#sec-static-semantics-contains) [SuperCall](https://262.ecma-international.org/12.0/#prod-SuperCall) is true.
-   It is a Syntax Error if [FunctionBody](https://262.ecma-international.org/12.0/#prod-FunctionBody) [Contains](https://262.ecma-international.org/12.0/#sec-static-semantics-contains) [SuperCall](https://262.ecma-international.org/12.0/#prod-SuperCall) is true.

Note

The [LexicallyDeclaredNames](https://262.ecma-international.org/12.0/#sec-static-semantics-lexicallydeclarednames) of a [FunctionBody](https://262.ecma-international.org/12.0/#prod-FunctionBody) does not include identifiers bound using var or function declarations.

[FunctionBody](https://262.ecma-international.org/12.0/#prod-FunctionBody) : [FunctionStatementList](https://262.ecma-international.org/12.0/#prod-FunctionStatementList)

-   It is a Syntax Error if the [LexicallyDeclaredNames](https://262.ecma-international.org/12.0/#sec-static-semantics-lexicallydeclarednames) of [FunctionStatementList](https://262.ecma-international.org/12.0/#prod-FunctionStatementList) contains any duplicate entries.
-   It is a Syntax Error if any element of the [LexicallyDeclaredNames](https://262.ecma-international.org/12.0/#sec-static-semantics-lexicallydeclarednames) of [FunctionStatementList](https://262.ecma-international.org/12.0/#prod-FunctionStatementList) also occurs in the [VarDeclaredNames](https://262.ecma-international.org/12.0/#sec-static-semantics-vardeclarednames) of [FunctionStatementList](https://262.ecma-international.org/12.0/#prod-FunctionStatementList).
-   It is a Syntax Error if [ContainsDuplicateLabels](https://262.ecma-international.org/12.0/#sec-static-semantics-containsduplicatelabels) of [FunctionStatementList](https://262.ecma-international.org/12.0/#prod-FunctionStatementList) with argument « » is true.
-   It is a Syntax Error if [ContainsUndefinedBreakTarget](https://262.ecma-international.org/12.0/#sec-static-semantics-containsundefinedbreaktarget) of [FunctionStatementList](https://262.ecma-international.org/12.0/#prod-FunctionStatementList) with argument « » is true.
-   It is a Syntax Error if [ContainsUndefinedContinueTarget](https://262.ecma-international.org/12.0/#sec-static-semantics-containsundefinedcontinuetarget) of [FunctionStatementList](https://262.ecma-international.org/12.0/#prod-FunctionStatementList) with arguments « » and « » is true.

## 15.2.2 Static Semantics: FunctionBodyContainsUseStrict

[FunctionBody](https://262.ecma-international.org/12.0/#prod-FunctionBody) : [FunctionStatementList](https://262.ecma-international.org/12.0/#prod-FunctionStatementList)

1.  If the [Directive Prologue](https://262.ecma-international.org/12.0/#directive-prologue) of [FunctionBody](https://262.ecma-international.org/12.0/#prod-FunctionBody) contains a [Use Strict Directive](https://262.ecma-international.org/12.0/#use-strict-directive), return true; otherwise, return false.

## 15.2.3 Runtime Semantics: EvaluateFunctionBody

With parameters functionObject and argumentsList (a [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type)).

[FunctionBody](https://262.ecma-international.org/12.0/#prod-FunctionBody) : [FunctionStatementList](https://262.ecma-international.org/12.0/#prod-FunctionStatementList)

1.  Perform ? [FunctionDeclarationInstantiation](https://262.ecma-international.org/12.0/#sec-functiondeclarationinstantiation)(functionObject, argumentsList).
2.  Return the result of evaluating [FunctionStatementList](https://262.ecma-international.org/12.0/#prod-FunctionStatementList).

## 15.2.4 Runtime Semantics: InstantiateOrdinaryFunctionObject

With parameter scope.

[FunctionDeclaration](https://262.ecma-international.org/12.0/#prod-FunctionDeclaration) : function [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier) ( [FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters) ) { [FunctionBody](https://262.ecma-international.org/12.0/#prod-FunctionBody) }

1.  Let name be [StringValue](https://262.ecma-international.org/12.0/#sec-static-semantics-stringvalue) of [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier).
2.  Let sourceText be the [source text matched by](https://262.ecma-international.org/12.0/#sec-algorithm-conventions-syntax-directed-operations) [FunctionDeclaration](https://262.ecma-international.org/12.0/#prod-FunctionDeclaration).
3.  Let F be [OrdinaryFunctionCreate](https://262.ecma-international.org/12.0/#sec-ordinaryfunctioncreate)([%Function.prototype%](https://262.ecma-international.org/12.0/#sec-properties-of-the-function-prototype-object), sourceText, [FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters), [FunctionBody](https://262.ecma-international.org/12.0/#prod-FunctionBody), non-lexical-this, scope).
4.  Perform [SetFunctionName](https://262.ecma-international.org/12.0/#sec-setfunctionname)(F, name).
5.  Perform [MakeConstructor](https://262.ecma-international.org/12.0/#sec-makeconstructor)(F).
6.  Return F.

[FunctionDeclaration](https://262.ecma-international.org/12.0/#prod-FunctionDeclaration) : function ( [FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters) ) { [FunctionBody](https://262.ecma-international.org/12.0/#prod-FunctionBody) }

1.  Let sourceText be the [source text matched by](https://262.ecma-international.org/12.0/#sec-algorithm-conventions-syntax-directed-operations) [FunctionDeclaration](https://262.ecma-international.org/12.0/#prod-FunctionDeclaration).
2.  Let F be [OrdinaryFunctionCreate](https://262.ecma-international.org/12.0/#sec-ordinaryfunctioncreate)([%Function.prototype%](https://262.ecma-international.org/12.0/#sec-properties-of-the-function-prototype-object), sourceText, [FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters), [FunctionBody](https://262.ecma-international.org/12.0/#prod-FunctionBody), non-lexical-this, scope).
3.  Perform [SetFunctionName](https://262.ecma-international.org/12.0/#sec-setfunctionname)(F, "default").
4.  Perform [MakeConstructor](https://262.ecma-international.org/12.0/#sec-makeconstructor)(F).
5.  Return F.

Note

An anonymous [FunctionDeclaration](https://262.ecma-international.org/12.0/#prod-FunctionDeclaration) can only occur as part of an `export default` declaration, and its function code is therefore always [strict mode code](https://262.ecma-international.org/12.0/#sec-strict-mode-code).

## 15.2.5 Runtime Semantics: InstantiateOrdinaryFunctionExpression

With optional parameter name.

[FunctionExpression](https://262.ecma-international.org/12.0/#prod-FunctionExpression) : function ( [FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters) ) { [FunctionBody](https://262.ecma-international.org/12.0/#prod-FunctionBody) }

1.  If name is not present, set name to "".
2.  Let scope be the LexicalEnvironment of the [running execution context](https://262.ecma-international.org/12.0/#running-execution-context).
3.  Let sourceText be the [source text matched by](https://262.ecma-international.org/12.0/#sec-algorithm-conventions-syntax-directed-operations) [FunctionExpression](https://262.ecma-international.org/12.0/#prod-FunctionExpression).
4.  Let closure be [OrdinaryFunctionCreate](https://262.ecma-international.org/12.0/#sec-ordinaryfunctioncreate)([%Function.prototype%](https://262.ecma-international.org/12.0/#sec-properties-of-the-function-prototype-object), sourceText, [FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters), [FunctionBody](https://262.ecma-international.org/12.0/#prod-FunctionBody), non-lexical-this, scope).
5.  Perform [SetFunctionName](https://262.ecma-international.org/12.0/#sec-setfunctionname)(closure, name).
6.  Perform [MakeConstructor](https://262.ecma-international.org/12.0/#sec-makeconstructor)(closure).
7.  Return closure.

[FunctionExpression](https://262.ecma-international.org/12.0/#prod-FunctionExpression) : function [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier) ( [FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters) ) { [FunctionBody](https://262.ecma-international.org/12.0/#prod-FunctionBody) }

1.  [Assert](https://262.ecma-international.org/12.0/#assert): name is not present.
2.  Set name to [StringValue](https://262.ecma-international.org/12.0/#sec-static-semantics-stringvalue) of [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier).
3.  Let scope be the [running execution context](https://262.ecma-international.org/12.0/#running-execution-context)'s LexicalEnvironment.
4.  Let funcEnv be [NewDeclarativeEnvironment](https://262.ecma-international.org/12.0/#sec-newdeclarativeenvironment)(scope).
5.  Perform funcEnv.CreateImmutableBinding(name, false).
6.  Let sourceText be the [source text matched by](https://262.ecma-international.org/12.0/#sec-algorithm-conventions-syntax-directed-operations) [FunctionExpression](https://262.ecma-international.org/12.0/#prod-FunctionExpression).
7.  Let closure be [OrdinaryFunctionCreate](https://262.ecma-international.org/12.0/#sec-ordinaryfunctioncreate)([%Function.prototype%](https://262.ecma-international.org/12.0/#sec-properties-of-the-function-prototype-object), sourceText, [FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters), [FunctionBody](https://262.ecma-international.org/12.0/#prod-FunctionBody), non-lexical-this, funcEnv).
8.  Perform [SetFunctionName](https://262.ecma-international.org/12.0/#sec-setfunctionname)(closure, name).
9.  Perform [MakeConstructor](https://262.ecma-international.org/12.0/#sec-makeconstructor)(closure).
10.  Perform funcEnv.InitializeBinding(name, closure).
11.  Return closure.

Note

The [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier) in a [FunctionExpression](https://262.ecma-international.org/12.0/#prod-FunctionExpression) can be referenced from inside the [FunctionExpression](https://262.ecma-international.org/12.0/#prod-FunctionExpression)'s [FunctionBody](https://262.ecma-international.org/12.0/#prod-FunctionBody) to allow the function to call itself recursively. However, unlike in a [FunctionDeclaration](https://262.ecma-international.org/12.0/#prod-FunctionDeclaration), the [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier) in a [FunctionExpression](https://262.ecma-international.org/12.0/#prod-FunctionExpression) cannot be referenced from and does not affect the scope enclosing the [FunctionExpression](https://262.ecma-international.org/12.0/#prod-FunctionExpression).

## 15.2.6 Runtime Semantics: Evaluation

[FunctionDeclaration](https://262.ecma-international.org/12.0/#prod-FunctionDeclaration) : function [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier) ( [FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters) ) { [FunctionBody](https://262.ecma-international.org/12.0/#prod-FunctionBody) }

1.  Return [NormalCompletion](https://262.ecma-international.org/12.0/#sec-normalcompletion)(empty).

Note 1

An alternative semantics is provided in [B.3.3](https://262.ecma-international.org/12.0/#sec-block-level-function-declarations-web-legacy-compatibility-semantics).

[FunctionDeclaration](https://262.ecma-international.org/12.0/#prod-FunctionDeclaration) : function ( [FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters) ) { [FunctionBody](https://262.ecma-international.org/12.0/#prod-FunctionBody) }

1.  Return [NormalCompletion](https://262.ecma-international.org/12.0/#sec-normalcompletion)(empty).

[FunctionExpression](https://262.ecma-international.org/12.0/#prod-FunctionExpression) : function [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier)opt ( [FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters) ) { [FunctionBody](https://262.ecma-international.org/12.0/#prod-FunctionBody) }

1.  Return [InstantiateOrdinaryFunctionExpression](https://262.ecma-international.org/12.0/#sec-runtime-semantics-instantiateordinaryfunctionexpression) of [FunctionExpression](https://262.ecma-international.org/12.0/#prod-FunctionExpression).

Note 2

A "prototype" property is automatically created for every function defined using a [FunctionDeclaration](https://262.ecma-international.org/12.0/#prod-FunctionDeclaration) or [FunctionExpression](https://262.ecma-international.org/12.0/#prod-FunctionExpression), to allow for the possibility that the function will be used as a [constructor](https://262.ecma-international.org/12.0/#constructor).

[FunctionStatementList](https://262.ecma-international.org/12.0/#prod-FunctionStatementList) : \[empty\]

1.  Return [NormalCompletion](https://262.ecma-international.org/12.0/#sec-normalcompletion)(undefined).

## 15.3 Arrow Function Definitions

## Syntax

[ArrowFunction](https://262.ecma-international.org/12.0/#prod-ArrowFunction)\[In, Yield, Await\] : [ArrowParameters](https://262.ecma-international.org/12.0/#prod-ArrowParameters)\[?Yield, ?Await\] \[no [LineTerminator](https://262.ecma-international.org/12.0/#prod-LineTerminator) here\] \=> [ConciseBody](https://262.ecma-international.org/12.0/#prod-ConciseBody)\[?In\] [ArrowParameters](https://262.ecma-international.org/12.0/#prod-ArrowParameters)\[Yield, Await\] : [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier)\[?Yield, ?Await\] [CoverParenthesizedExpressionAndArrowParameterList](https://262.ecma-international.org/12.0/#prod-CoverParenthesizedExpressionAndArrowParameterList)\[?Yield, ?Await\] [ConciseBody](https://262.ecma-international.org/12.0/#prod-ConciseBody)\[In\] : \[lookahead ≠ {\] [ExpressionBody](https://262.ecma-international.org/12.0/#prod-ExpressionBody)\[?In, ~Await\] { [FunctionBody](https://262.ecma-international.org/12.0/#prod-FunctionBody)\[~Yield, ~Await\] } [ExpressionBody](https://262.ecma-international.org/12.0/#prod-ExpressionBody)\[In, Await\] : [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression)\[?In, ~Yield, ?Await\]

## Supplemental Syntax

When processing an instance of the production  
[ArrowParameters](https://262.ecma-international.org/12.0/#prod-ArrowParameters)\[Yield, Await\] : [CoverParenthesizedExpressionAndArrowParameterList](https://262.ecma-international.org/12.0/#prod-CoverParenthesizedExpressionAndArrowParameterList)\[?Yield, ?Await\]  
the interpretation of [CoverParenthesizedExpressionAndArrowParameterList](https://262.ecma-international.org/12.0/#prod-CoverParenthesizedExpressionAndArrowParameterList) is refined using the following grammar:

[ArrowFormalParameters](https://262.ecma-international.org/12.0/#prod-ArrowFormalParameters)\[Yield, Await\] : ( [UniqueFormalParameters](https://262.ecma-international.org/12.0/#prod-UniqueFormalParameters)\[?Yield, ?Await\] )

## 15.3.1 Static Semantics: Early Errors

[ArrowFunction](https://262.ecma-international.org/12.0/#prod-ArrowFunction) : [ArrowParameters](https://262.ecma-international.org/12.0/#prod-ArrowParameters) \=> [ConciseBody](https://262.ecma-international.org/12.0/#prod-ConciseBody)

-   It is a Syntax Error if [ArrowParameters](https://262.ecma-international.org/12.0/#prod-ArrowParameters) [Contains](https://262.ecma-international.org/12.0/#sec-static-semantics-contains) [YieldExpression](https://262.ecma-international.org/12.0/#prod-YieldExpression) is true.
-   It is a Syntax Error if [ArrowParameters](https://262.ecma-international.org/12.0/#prod-ArrowParameters) [Contains](https://262.ecma-international.org/12.0/#sec-static-semantics-contains) [AwaitExpression](https://262.ecma-international.org/12.0/#prod-AwaitExpression) is true.
-   It is a Syntax Error if [ConciseBodyContainsUseStrict](https://262.ecma-international.org/12.0/#sec-static-semantics-concisebodycontainsusestrict) of [ConciseBody](https://262.ecma-international.org/12.0/#prod-ConciseBody) is true and [IsSimpleParameterList](https://262.ecma-international.org/12.0/#sec-static-semantics-issimpleparameterlist) of [ArrowParameters](https://262.ecma-international.org/12.0/#prod-ArrowParameters) is false.
-   It is a Syntax Error if any element of the [BoundNames](https://262.ecma-international.org/12.0/#sec-static-semantics-boundnames) of [ArrowParameters](https://262.ecma-international.org/12.0/#prod-ArrowParameters) also occurs in the [LexicallyDeclaredNames](https://262.ecma-international.org/12.0/#sec-static-semantics-lexicallydeclarednames) of [ConciseBody](https://262.ecma-international.org/12.0/#prod-ConciseBody).

[ArrowParameters](https://262.ecma-international.org/12.0/#prod-ArrowParameters) : [CoverParenthesizedExpressionAndArrowParameterList](https://262.ecma-international.org/12.0/#prod-CoverParenthesizedExpressionAndArrowParameterList)

-   It is a Syntax Error if [CoverParenthesizedExpressionAndArrowParameterList](https://262.ecma-international.org/12.0/#prod-CoverParenthesizedExpressionAndArrowParameterList) is not [covering](https://262.ecma-international.org/12.0/#sec-syntactic-grammar) an [ArrowFormalParameters](https://262.ecma-international.org/12.0/#prod-ArrowFormalParameters).
-   All [early error](https://262.ecma-international.org/12.0/#early-error) rules for [ArrowFormalParameters](https://262.ecma-international.org/12.0/#prod-ArrowFormalParameters) and its derived productions also apply to [CoveredFormalsList](https://262.ecma-international.org/12.0/#sec-static-semantics-coveredformalslist) of [CoverParenthesizedExpressionAndArrowParameterList](https://262.ecma-international.org/12.0/#prod-CoverParenthesizedExpressionAndArrowParameterList).

## 15.3.2 Static Semantics: ConciseBodyContainsUseStrict

[ConciseBody](https://262.ecma-international.org/12.0/#prod-ConciseBody) : [ExpressionBody](https://262.ecma-international.org/12.0/#prod-ExpressionBody)

1.  Return false.

[ConciseBody](https://262.ecma-international.org/12.0/#prod-ConciseBody) : { [FunctionBody](https://262.ecma-international.org/12.0/#prod-FunctionBody) }

1.  Return [FunctionBodyContainsUseStrict](https://262.ecma-international.org/12.0/#sec-static-semantics-functionbodycontainsusestrict) of [FunctionBody](https://262.ecma-international.org/12.0/#prod-FunctionBody).

## 15.3.3 Static Semantics: CoveredFormalsList

[ArrowParameters](https://262.ecma-international.org/12.0/#prod-ArrowParameters) : [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier)

1.  Return this [ArrowParameters](https://262.ecma-international.org/12.0/#prod-ArrowParameters).

[CoverParenthesizedExpressionAndArrowParameterList](https://262.ecma-international.org/12.0/#prod-CoverParenthesizedExpressionAndArrowParameterList) : ( [Expression](https://262.ecma-international.org/12.0/#prod-Expression) ) ( [Expression](https://262.ecma-international.org/12.0/#prod-Expression) , ) ( ) ( ... [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier) ) ( ... [BindingPattern](https://262.ecma-international.org/12.0/#prod-BindingPattern) ) ( [Expression](https://262.ecma-international.org/12.0/#prod-Expression) , ... [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier) ) ( [Expression](https://262.ecma-international.org/12.0/#prod-Expression) , ... [BindingPattern](https://262.ecma-international.org/12.0/#prod-BindingPattern) )

1.  Return the [ArrowFormalParameters](https://262.ecma-international.org/12.0/#prod-ArrowFormalParameters) that is [covered](https://262.ecma-international.org/12.0/#sec-syntactic-grammar) by [CoverParenthesizedExpressionAndArrowParameterList](https://262.ecma-international.org/12.0/#prod-CoverParenthesizedExpressionAndArrowParameterList).

## 15.3.4 Runtime Semantics: EvaluateConciseBody

With parameters functionObject and argumentsList (a [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type)).

[ConciseBody](https://262.ecma-international.org/12.0/#prod-ConciseBody) : [ExpressionBody](https://262.ecma-international.org/12.0/#prod-ExpressionBody)

1.  Perform ? [FunctionDeclarationInstantiation](https://262.ecma-international.org/12.0/#sec-functiondeclarationinstantiation)(functionObject, argumentsList).
2.  Return the result of evaluating [ExpressionBody](https://262.ecma-international.org/12.0/#prod-ExpressionBody).

## 15.3.5 Runtime Semantics: InstantiateArrowFunctionExpression

With optional parameter name.

[ArrowFunction](https://262.ecma-international.org/12.0/#prod-ArrowFunction) : [ArrowParameters](https://262.ecma-international.org/12.0/#prod-ArrowParameters) \=> [ConciseBody](https://262.ecma-international.org/12.0/#prod-ConciseBody)

1.  If name is not present, set name to "".
2.  Let scope be the LexicalEnvironment of the [running execution context](https://262.ecma-international.org/12.0/#running-execution-context).
3.  Let sourceText be the [source text matched by](https://262.ecma-international.org/12.0/#sec-algorithm-conventions-syntax-directed-operations) [ArrowFunction](https://262.ecma-international.org/12.0/#prod-ArrowFunction).
4.  Let parameters be [CoveredFormalsList](https://262.ecma-international.org/12.0/#sec-static-semantics-coveredformalslist) of [ArrowParameters](https://262.ecma-international.org/12.0/#prod-ArrowParameters).
5.  Let closure be [OrdinaryFunctionCreate](https://262.ecma-international.org/12.0/#sec-ordinaryfunctioncreate)([%Function.prototype%](https://262.ecma-international.org/12.0/#sec-properties-of-the-function-prototype-object), sourceText, parameters, [ConciseBody](https://262.ecma-international.org/12.0/#prod-ConciseBody), lexical-this, scope).
6.  Perform [SetFunctionName](https://262.ecma-international.org/12.0/#sec-setfunctionname)(closure, name).
7.  Return closure.

Note

An [ArrowFunction](https://262.ecma-international.org/12.0/#prod-ArrowFunction) does not define local bindings for `arguments`, `super`, `this`, or `new.target`. Any reference to `arguments`, `super`, `this`, or `new.target` within an [ArrowFunction](https://262.ecma-international.org/12.0/#prod-ArrowFunction) must resolve to a binding in a lexically enclosing environment. Typically this will be the Function Environment of an immediately enclosing function. Even though an [ArrowFunction](https://262.ecma-international.org/12.0/#prod-ArrowFunction) may contain references to `super`, the [function object](https://262.ecma-international.org/12.0/#function-object) created in step [5](https://262.ecma-international.org/12.0/#step-arrowfunction-evaluation-functioncreate) is not made into a method by performing [MakeMethod](https://262.ecma-international.org/12.0/#sec-makemethod). An [ArrowFunction](https://262.ecma-international.org/12.0/#prod-ArrowFunction) that references `super` is always contained within a non-[ArrowFunction](https://262.ecma-international.org/12.0/#prod-ArrowFunction) and the necessary state to implement `super` is accessible via the scope that is captured by the [function object](https://262.ecma-international.org/12.0/#function-object) of the [ArrowFunction](https://262.ecma-international.org/12.0/#prod-ArrowFunction).

## 15.3.6 Runtime Semantics: Evaluation

[ArrowFunction](https://262.ecma-international.org/12.0/#prod-ArrowFunction) : [ArrowParameters](https://262.ecma-international.org/12.0/#prod-ArrowParameters) \=> [ConciseBody](https://262.ecma-international.org/12.0/#prod-ConciseBody)

1.  Return [InstantiateArrowFunctionExpression](https://262.ecma-international.org/12.0/#sec-runtime-semantics-instantiatearrowfunctionexpression) of [ArrowFunction](https://262.ecma-international.org/12.0/#prod-ArrowFunction).

[ExpressionBody](https://262.ecma-international.org/12.0/#prod-ExpressionBody) : [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression)

1.  Let exprRef be the result of evaluating [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression).
2.  Let exprValue be ? [GetValue](https://262.ecma-international.org/12.0/#sec-getvalue)(exprRef).
3.  Return [Completion](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type) { \[\[Type\]\]: return, \[\[Value\]\]: exprValue, \[\[Target\]\]: empty }.

## 15.4 Method Definitions

## Syntax

[MethodDefinition](https://262.ecma-international.org/12.0/#prod-MethodDefinition)\[Yield, Await\] : [PropertyName](https://262.ecma-international.org/12.0/#prod-PropertyName)\[?Yield, ?Await\] ( [UniqueFormalParameters](https://262.ecma-international.org/12.0/#prod-UniqueFormalParameters)\[~Yield, ~Await\] ) { [FunctionBody](https://262.ecma-international.org/12.0/#prod-FunctionBody)\[~Yield, ~Await\] } [GeneratorMethod](https://262.ecma-international.org/12.0/#prod-GeneratorMethod)\[?Yield, ?Await\] [AsyncMethod](https://262.ecma-international.org/12.0/#prod-AsyncMethod)\[?Yield, ?Await\] [AsyncGeneratorMethod](https://262.ecma-international.org/12.0/#prod-AsyncGeneratorMethod)\[?Yield, ?Await\] get [PropertyName](https://262.ecma-international.org/12.0/#prod-PropertyName)\[?Yield, ?Await\] ( ) { [FunctionBody](https://262.ecma-international.org/12.0/#prod-FunctionBody)\[~Yield, ~Await\] } set [PropertyName](https://262.ecma-international.org/12.0/#prod-PropertyName)\[?Yield, ?Await\] ( [PropertySetParameterList](https://262.ecma-international.org/12.0/#prod-PropertySetParameterList) ) { [FunctionBody](https://262.ecma-international.org/12.0/#prod-FunctionBody)\[~Yield, ~Await\] } [PropertySetParameterList](https://262.ecma-international.org/12.0/#prod-PropertySetParameterList) : [FormalParameter](https://262.ecma-international.org/12.0/#prod-FormalParameter)\[~Yield, ~Await\]

## 15.4.1 Static Semantics: Early Errors

[MethodDefinition](https://262.ecma-international.org/12.0/#prod-MethodDefinition) : [PropertyName](https://262.ecma-international.org/12.0/#prod-PropertyName) ( [UniqueFormalParameters](https://262.ecma-international.org/12.0/#prod-UniqueFormalParameters) ) { [FunctionBody](https://262.ecma-international.org/12.0/#prod-FunctionBody) }

-   It is a Syntax Error if [FunctionBodyContainsUseStrict](https://262.ecma-international.org/12.0/#sec-static-semantics-functionbodycontainsusestrict) of [FunctionBody](https://262.ecma-international.org/12.0/#prod-FunctionBody) is true and [IsSimpleParameterList](https://262.ecma-international.org/12.0/#sec-static-semantics-issimpleparameterlist) of [UniqueFormalParameters](https://262.ecma-international.org/12.0/#prod-UniqueFormalParameters) is false.
-   It is a Syntax Error if any element of the [BoundNames](https://262.ecma-international.org/12.0/#sec-static-semantics-boundnames) of [UniqueFormalParameters](https://262.ecma-international.org/12.0/#prod-UniqueFormalParameters) also occurs in the [LexicallyDeclaredNames](https://262.ecma-international.org/12.0/#sec-static-semantics-lexicallydeclarednames) of [FunctionBody](https://262.ecma-international.org/12.0/#prod-FunctionBody).

[MethodDefinition](https://262.ecma-international.org/12.0/#prod-MethodDefinition) : set [PropertyName](https://262.ecma-international.org/12.0/#prod-PropertyName) ( [PropertySetParameterList](https://262.ecma-international.org/12.0/#prod-PropertySetParameterList) ) { [FunctionBody](https://262.ecma-international.org/12.0/#prod-FunctionBody) }

-   It is a Syntax Error if [BoundNames](https://262.ecma-international.org/12.0/#sec-static-semantics-boundnames) of [PropertySetParameterList](https://262.ecma-international.org/12.0/#prod-PropertySetParameterList) contains any duplicate elements.
-   It is a Syntax Error if [FunctionBodyContainsUseStrict](https://262.ecma-international.org/12.0/#sec-static-semantics-functionbodycontainsusestrict) of [FunctionBody](https://262.ecma-international.org/12.0/#prod-FunctionBody) is true and [IsSimpleParameterList](https://262.ecma-international.org/12.0/#sec-static-semantics-issimpleparameterlist) of [PropertySetParameterList](https://262.ecma-international.org/12.0/#prod-PropertySetParameterList) is false.
-   It is a Syntax Error if any element of the [BoundNames](https://262.ecma-international.org/12.0/#sec-static-semantics-boundnames) of [PropertySetParameterList](https://262.ecma-international.org/12.0/#prod-PropertySetParameterList) also occurs in the [LexicallyDeclaredNames](https://262.ecma-international.org/12.0/#sec-static-semantics-lexicallydeclarednames) of [FunctionBody](https://262.ecma-international.org/12.0/#prod-FunctionBody).

## 15.4.2 Static Semantics: HasDirectSuper

[MethodDefinition](https://262.ecma-international.org/12.0/#prod-MethodDefinition) : [PropertyName](https://262.ecma-international.org/12.0/#prod-PropertyName) ( [UniqueFormalParameters](https://262.ecma-international.org/12.0/#prod-UniqueFormalParameters) ) { [FunctionBody](https://262.ecma-international.org/12.0/#prod-FunctionBody) }

1.  If [UniqueFormalParameters](https://262.ecma-international.org/12.0/#prod-UniqueFormalParameters) [Contains](https://262.ecma-international.org/12.0/#sec-static-semantics-contains) [SuperCall](https://262.ecma-international.org/12.0/#prod-SuperCall) is true, return true.
2.  Return [FunctionBody](https://262.ecma-international.org/12.0/#prod-FunctionBody) [Contains](https://262.ecma-international.org/12.0/#sec-static-semantics-contains) [SuperCall](https://262.ecma-international.org/12.0/#prod-SuperCall).

[MethodDefinition](https://262.ecma-international.org/12.0/#prod-MethodDefinition) : get [PropertyName](https://262.ecma-international.org/12.0/#prod-PropertyName) ( ) { [FunctionBody](https://262.ecma-international.org/12.0/#prod-FunctionBody) }

1.  Return [FunctionBody](https://262.ecma-international.org/12.0/#prod-FunctionBody) [Contains](https://262.ecma-international.org/12.0/#sec-static-semantics-contains) [SuperCall](https://262.ecma-international.org/12.0/#prod-SuperCall).

[MethodDefinition](https://262.ecma-international.org/12.0/#prod-MethodDefinition) : set [PropertyName](https://262.ecma-international.org/12.0/#prod-PropertyName) ( [PropertySetParameterList](https://262.ecma-international.org/12.0/#prod-PropertySetParameterList) ) { [FunctionBody](https://262.ecma-international.org/12.0/#prod-FunctionBody) }

1.  If [PropertySetParameterList](https://262.ecma-international.org/12.0/#prod-PropertySetParameterList) [Contains](https://262.ecma-international.org/12.0/#sec-static-semantics-contains) [SuperCall](https://262.ecma-international.org/12.0/#prod-SuperCall) is true, return true.
2.  Return [FunctionBody](https://262.ecma-international.org/12.0/#prod-FunctionBody) [Contains](https://262.ecma-international.org/12.0/#sec-static-semantics-contains) [SuperCall](https://262.ecma-international.org/12.0/#prod-SuperCall).

[GeneratorMethod](https://262.ecma-international.org/12.0/#prod-GeneratorMethod) : \* [PropertyName](https://262.ecma-international.org/12.0/#prod-PropertyName) ( [UniqueFormalParameters](https://262.ecma-international.org/12.0/#prod-UniqueFormalParameters) ) { [GeneratorBody](https://262.ecma-international.org/12.0/#prod-GeneratorBody) }

1.  If [UniqueFormalParameters](https://262.ecma-international.org/12.0/#prod-UniqueFormalParameters) [Contains](https://262.ecma-international.org/12.0/#sec-static-semantics-contains) [SuperCall](https://262.ecma-international.org/12.0/#prod-SuperCall) is true, return true.
2.  Return [GeneratorBody](https://262.ecma-international.org/12.0/#prod-GeneratorBody) [Contains](https://262.ecma-international.org/12.0/#sec-static-semantics-contains) [SuperCall](https://262.ecma-international.org/12.0/#prod-SuperCall).

[AsyncGeneratorMethod](https://262.ecma-international.org/12.0/#prod-AsyncGeneratorMethod) : async \* [PropertyName](https://262.ecma-international.org/12.0/#prod-PropertyName) ( [UniqueFormalParameters](https://262.ecma-international.org/12.0/#prod-UniqueFormalParameters) ) { [AsyncGeneratorBody](https://262.ecma-international.org/12.0/#prod-AsyncGeneratorBody) }

1.  If [UniqueFormalParameters](https://262.ecma-international.org/12.0/#prod-UniqueFormalParameters) [Contains](https://262.ecma-international.org/12.0/#sec-static-semantics-contains) [SuperCall](https://262.ecma-international.org/12.0/#prod-SuperCall) is true, return true.
2.  Return [AsyncGeneratorBody](https://262.ecma-international.org/12.0/#prod-AsyncGeneratorBody) [Contains](https://262.ecma-international.org/12.0/#sec-static-semantics-contains) [SuperCall](https://262.ecma-international.org/12.0/#prod-SuperCall).

[AsyncMethod](https://262.ecma-international.org/12.0/#prod-AsyncMethod) : async [PropertyName](https://262.ecma-international.org/12.0/#prod-PropertyName) ( [UniqueFormalParameters](https://262.ecma-international.org/12.0/#prod-UniqueFormalParameters) ) { [AsyncFunctionBody](https://262.ecma-international.org/12.0/#prod-AsyncFunctionBody) }

1.  If [UniqueFormalParameters](https://262.ecma-international.org/12.0/#prod-UniqueFormalParameters) [Contains](https://262.ecma-international.org/12.0/#sec-static-semantics-contains) [SuperCall](https://262.ecma-international.org/12.0/#prod-SuperCall) is true, return true.
2.  Return [AsyncFunctionBody](https://262.ecma-international.org/12.0/#prod-AsyncFunctionBody) [Contains](https://262.ecma-international.org/12.0/#sec-static-semantics-contains) [SuperCall](https://262.ecma-international.org/12.0/#prod-SuperCall).

## 15.4.3 Static Semantics: SpecialMethod

[MethodDefinition](https://262.ecma-international.org/12.0/#prod-MethodDefinition) : [PropertyName](https://262.ecma-international.org/12.0/#prod-PropertyName) ( [UniqueFormalParameters](https://262.ecma-international.org/12.0/#prod-UniqueFormalParameters) ) { [FunctionBody](https://262.ecma-international.org/12.0/#prod-FunctionBody) }

1.  Return false.

[MethodDefinition](https://262.ecma-international.org/12.0/#prod-MethodDefinition) : [GeneratorMethod](https://262.ecma-international.org/12.0/#prod-GeneratorMethod) [AsyncMethod](https://262.ecma-international.org/12.0/#prod-AsyncMethod) [AsyncGeneratorMethod](https://262.ecma-international.org/12.0/#prod-AsyncGeneratorMethod) get [PropertyName](https://262.ecma-international.org/12.0/#prod-PropertyName) ( ) { [FunctionBody](https://262.ecma-international.org/12.0/#prod-FunctionBody) } set [PropertyName](https://262.ecma-international.org/12.0/#prod-PropertyName) ( [PropertySetParameterList](https://262.ecma-international.org/12.0/#prod-PropertySetParameterList) ) { [FunctionBody](https://262.ecma-international.org/12.0/#prod-FunctionBody) }

1.  Return true.

## 15.4.4 Runtime Semantics: DefineMethod

With parameter object and optional parameter functionPrototype.

[MethodDefinition](https://262.ecma-international.org/12.0/#prod-MethodDefinition) : [PropertyName](https://262.ecma-international.org/12.0/#prod-PropertyName) ( [UniqueFormalParameters](https://262.ecma-international.org/12.0/#prod-UniqueFormalParameters) ) { [FunctionBody](https://262.ecma-international.org/12.0/#prod-FunctionBody) }

1.  Let propKey be the result of evaluating [PropertyName](https://262.ecma-international.org/12.0/#prod-PropertyName).
2.  [ReturnIfAbrupt](https://262.ecma-international.org/12.0/#sec-returnifabrupt)(propKey).
3.  Let scope be the [running execution context](https://262.ecma-international.org/12.0/#running-execution-context)'s LexicalEnvironment.
4.  If functionPrototype is present, then
    1.  Let prototype be functionPrototype.
5.  Else,
    1.  Let prototype be [%Function.prototype%](https://262.ecma-international.org/12.0/#sec-properties-of-the-function-prototype-object).
6.  Let sourceText be the [source text matched by](https://262.ecma-international.org/12.0/#sec-algorithm-conventions-syntax-directed-operations) [MethodDefinition](https://262.ecma-international.org/12.0/#prod-MethodDefinition).
7.  Let closure be [OrdinaryFunctionCreate](https://262.ecma-international.org/12.0/#sec-ordinaryfunctioncreate)(prototype, sourceText, [UniqueFormalParameters](https://262.ecma-international.org/12.0/#prod-UniqueFormalParameters), [FunctionBody](https://262.ecma-international.org/12.0/#prod-FunctionBody), non-lexical-this, scope).
8.  Perform [MakeMethod](https://262.ecma-international.org/12.0/#sec-makemethod)(closure, object).
9.  Return the [Record](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) { \[\[Key\]\]: propKey, \[\[Closure\]\]: closure }.

## 15.4.5 Runtime Semantics: MethodDefinitionEvaluation

With parameters object and enumerable.

[MethodDefinition](https://262.ecma-international.org/12.0/#prod-MethodDefinition) : [PropertyName](https://262.ecma-international.org/12.0/#prod-PropertyName) ( [UniqueFormalParameters](https://262.ecma-international.org/12.0/#prod-UniqueFormalParameters) ) { [FunctionBody](https://262.ecma-international.org/12.0/#prod-FunctionBody) }

1.  Let methodDef be ? [DefineMethod](https://262.ecma-international.org/12.0/#sec-runtime-semantics-definemethod) of [MethodDefinition](https://262.ecma-international.org/12.0/#prod-MethodDefinition) with argument object.
2.  Perform [SetFunctionName](https://262.ecma-international.org/12.0/#sec-setfunctionname)(methodDef.\[\[Closure\]\], methodDef.\[\[Key\]\]).
3.  Let desc be the PropertyDescriptor { \[\[Value\]\]: methodDef.\[\[Closure\]\], \[\[Writable\]\]: true, \[\[Enumerable\]\]: enumerable, \[\[Configurable\]\]: true }.
4.  Return ? [DefinePropertyOrThrow](https://262.ecma-international.org/12.0/#sec-definepropertyorthrow)(object, methodDef.\[\[Key\]\], desc).

[MethodDefinition](https://262.ecma-international.org/12.0/#prod-MethodDefinition) : get [PropertyName](https://262.ecma-international.org/12.0/#prod-PropertyName) ( ) { [FunctionBody](https://262.ecma-international.org/12.0/#prod-FunctionBody) }

1.  Let propKey be the result of evaluating [PropertyName](https://262.ecma-international.org/12.0/#prod-PropertyName).
2.  [ReturnIfAbrupt](https://262.ecma-international.org/12.0/#sec-returnifabrupt)(propKey).
3.  Let scope be the [running execution context](https://262.ecma-international.org/12.0/#running-execution-context)'s LexicalEnvironment.
4.  Let sourceText be the [source text matched by](https://262.ecma-international.org/12.0/#sec-algorithm-conventions-syntax-directed-operations) [MethodDefinition](https://262.ecma-international.org/12.0/#prod-MethodDefinition).
5.  Let formalParameterList be an instance of the production [FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters) : \[empty\] .
6.  Let closure be [OrdinaryFunctionCreate](https://262.ecma-international.org/12.0/#sec-ordinaryfunctioncreate)([%Function.prototype%](https://262.ecma-international.org/12.0/#sec-properties-of-the-function-prototype-object), sourceText, formalParameterList, [FunctionBody](https://262.ecma-international.org/12.0/#prod-FunctionBody), non-lexical-this, scope).
7.  Perform [MakeMethod](https://262.ecma-international.org/12.0/#sec-makemethod)(closure, object).
8.  Perform [SetFunctionName](https://262.ecma-international.org/12.0/#sec-setfunctionname)(closure, propKey, "get").
9.  Let desc be the PropertyDescriptor { \[\[Get\]\]: closure, \[\[Enumerable\]\]: enumerable, \[\[Configurable\]\]: true }.
10.  Return ? [DefinePropertyOrThrow](https://262.ecma-international.org/12.0/#sec-definepropertyorthrow)(object, propKey, desc).

[MethodDefinition](https://262.ecma-international.org/12.0/#prod-MethodDefinition) : set [PropertyName](https://262.ecma-international.org/12.0/#prod-PropertyName) ( [PropertySetParameterList](https://262.ecma-international.org/12.0/#prod-PropertySetParameterList) ) { [FunctionBody](https://262.ecma-international.org/12.0/#prod-FunctionBody) }

1.  Let propKey be the result of evaluating [PropertyName](https://262.ecma-international.org/12.0/#prod-PropertyName).
2.  [ReturnIfAbrupt](https://262.ecma-international.org/12.0/#sec-returnifabrupt)(propKey).
3.  Let scope be the [running execution context](https://262.ecma-international.org/12.0/#running-execution-context)'s LexicalEnvironment.
4.  Let sourceText be the [source text matched by](https://262.ecma-international.org/12.0/#sec-algorithm-conventions-syntax-directed-operations) [MethodDefinition](https://262.ecma-international.org/12.0/#prod-MethodDefinition).
5.  Let closure be [OrdinaryFunctionCreate](https://262.ecma-international.org/12.0/#sec-ordinaryfunctioncreate)([%Function.prototype%](https://262.ecma-international.org/12.0/#sec-properties-of-the-function-prototype-object), sourceText, [PropertySetParameterList](https://262.ecma-international.org/12.0/#prod-PropertySetParameterList), [FunctionBody](https://262.ecma-international.org/12.0/#prod-FunctionBody), non-lexical-this, scope).
6.  Perform [MakeMethod](https://262.ecma-international.org/12.0/#sec-makemethod)(closure, object).
7.  Perform [SetFunctionName](https://262.ecma-international.org/12.0/#sec-setfunctionname)(closure, propKey, "set").
8.  Let desc be the PropertyDescriptor { \[\[Set\]\]: closure, \[\[Enumerable\]\]: enumerable, \[\[Configurable\]\]: true }.
9.  Return ? [DefinePropertyOrThrow](https://262.ecma-international.org/12.0/#sec-definepropertyorthrow)(object, propKey, desc).

[GeneratorMethod](https://262.ecma-international.org/12.0/#prod-GeneratorMethod) : \* [PropertyName](https://262.ecma-international.org/12.0/#prod-PropertyName) ( [UniqueFormalParameters](https://262.ecma-international.org/12.0/#prod-UniqueFormalParameters) ) { [GeneratorBody](https://262.ecma-international.org/12.0/#prod-GeneratorBody) }

1.  Let propKey be the result of evaluating [PropertyName](https://262.ecma-international.org/12.0/#prod-PropertyName).
2.  [ReturnIfAbrupt](https://262.ecma-international.org/12.0/#sec-returnifabrupt)(propKey).
3.  Let scope be the [running execution context](https://262.ecma-international.org/12.0/#running-execution-context)'s LexicalEnvironment.
4.  Let sourceText be the [source text matched by](https://262.ecma-international.org/12.0/#sec-algorithm-conventions-syntax-directed-operations) [GeneratorMethod](https://262.ecma-international.org/12.0/#prod-GeneratorMethod).
5.  Let closure be [OrdinaryFunctionCreate](https://262.ecma-international.org/12.0/#sec-ordinaryfunctioncreate)([%GeneratorFunction.prototype%](https://262.ecma-international.org/12.0/#sec-properties-of-the-generatorfunction-prototype-object), sourceText, [UniqueFormalParameters](https://262.ecma-international.org/12.0/#prod-UniqueFormalParameters), [GeneratorBody](https://262.ecma-international.org/12.0/#prod-GeneratorBody), non-lexical-this, scope).
6.  Perform [MakeMethod](https://262.ecma-international.org/12.0/#sec-makemethod)(closure, object).
7.  Perform [SetFunctionName](https://262.ecma-international.org/12.0/#sec-setfunctionname)(closure, propKey).
8.  Let prototype be ! [OrdinaryObjectCreate](https://262.ecma-international.org/12.0/#sec-ordinaryobjectcreate)([%GeneratorFunction.prototype.prototype%](https://262.ecma-international.org/12.0/#sec-properties-of-generator-prototype)).
9.  Perform [DefinePropertyOrThrow](https://262.ecma-international.org/12.0/#sec-definepropertyorthrow)(closure, "prototype", PropertyDescriptor { \[\[Value\]\]: prototype, \[\[Writable\]\]: true, \[\[Enumerable\]\]: false, \[\[Configurable\]\]: false }).
10.  Let desc be the PropertyDescriptor { \[\[Value\]\]: closure, \[\[Writable\]\]: true, \[\[Enumerable\]\]: enumerable, \[\[Configurable\]\]: true }.
11.  Return ? [DefinePropertyOrThrow](https://262.ecma-international.org/12.0/#sec-definepropertyorthrow)(object, propKey, desc).

[AsyncGeneratorMethod](https://262.ecma-international.org/12.0/#prod-AsyncGeneratorMethod) : async \* [PropertyName](https://262.ecma-international.org/12.0/#prod-PropertyName) ( [UniqueFormalParameters](https://262.ecma-international.org/12.0/#prod-UniqueFormalParameters) ) { [AsyncGeneratorBody](https://262.ecma-international.org/12.0/#prod-AsyncGeneratorBody) }

1.  Let propKey be the result of evaluating [PropertyName](https://262.ecma-international.org/12.0/#prod-PropertyName).
2.  [ReturnIfAbrupt](https://262.ecma-international.org/12.0/#sec-returnifabrupt)(propKey).
3.  Let scope be the [running execution context](https://262.ecma-international.org/12.0/#running-execution-context)'s LexicalEnvironment.
4.  Let sourceText be the [source text matched by](https://262.ecma-international.org/12.0/#sec-algorithm-conventions-syntax-directed-operations) [AsyncGeneratorMethod](https://262.ecma-international.org/12.0/#prod-AsyncGeneratorMethod).
5.  Let closure be ! [OrdinaryFunctionCreate](https://262.ecma-international.org/12.0/#sec-ordinaryfunctioncreate)([%AsyncGeneratorFunction.prototype%](https://262.ecma-international.org/12.0/#sec-properties-of-asyncgeneratorfunction-prototype), sourceText, [UniqueFormalParameters](https://262.ecma-international.org/12.0/#prod-UniqueFormalParameters), [AsyncGeneratorBody](https://262.ecma-international.org/12.0/#prod-AsyncGeneratorBody), non-lexical-this, scope).
6.  Perform ! [MakeMethod](https://262.ecma-international.org/12.0/#sec-makemethod)(closure, object).
7.  Perform ! [SetFunctionName](https://262.ecma-international.org/12.0/#sec-setfunctionname)(closure, propKey).
8.  Let prototype be ! [OrdinaryObjectCreate](https://262.ecma-international.org/12.0/#sec-ordinaryobjectcreate)([%AsyncGeneratorFunction.prototype.prototype%](https://262.ecma-international.org/12.0/#sec-properties-of-asyncgenerator-prototype)).
9.  Perform ! [DefinePropertyOrThrow](https://262.ecma-international.org/12.0/#sec-definepropertyorthrow)(closure, "prototype", PropertyDescriptor { \[\[Value\]\]: prototype, \[\[Writable\]\]: true, \[\[Enumerable\]\]: false, \[\[Configurable\]\]: false }).
10.  Let desc be PropertyDescriptor { \[\[Value\]\]: closure, \[\[Writable\]\]: true, \[\[Enumerable\]\]: enumerable, \[\[Configurable\]\]: true }.
11.  Return ? [DefinePropertyOrThrow](https://262.ecma-international.org/12.0/#sec-definepropertyorthrow)(object, propKey, desc).

[AsyncMethod](https://262.ecma-international.org/12.0/#prod-AsyncMethod) : async [PropertyName](https://262.ecma-international.org/12.0/#prod-PropertyName) ( [UniqueFormalParameters](https://262.ecma-international.org/12.0/#prod-UniqueFormalParameters) ) { [AsyncFunctionBody](https://262.ecma-international.org/12.0/#prod-AsyncFunctionBody) }

1.  Let propKey be the result of evaluating [PropertyName](https://262.ecma-international.org/12.0/#prod-PropertyName).
2.  [ReturnIfAbrupt](https://262.ecma-international.org/12.0/#sec-returnifabrupt)(propKey).
3.  Let scope be the LexicalEnvironment of the [running execution context](https://262.ecma-international.org/12.0/#running-execution-context).
4.  Let sourceText be the [source text matched by](https://262.ecma-international.org/12.0/#sec-algorithm-conventions-syntax-directed-operations) [AsyncMethod](https://262.ecma-international.org/12.0/#prod-AsyncMethod).
5.  Let closure be ! [OrdinaryFunctionCreate](https://262.ecma-international.org/12.0/#sec-ordinaryfunctioncreate)([%AsyncFunction.prototype%](https://262.ecma-international.org/12.0/#sec-async-function-prototype-properties), sourceText, [UniqueFormalParameters](https://262.ecma-international.org/12.0/#prod-UniqueFormalParameters), [AsyncFunctionBody](https://262.ecma-international.org/12.0/#prod-AsyncFunctionBody), non-lexical-this, scope).
6.  Perform ! [MakeMethod](https://262.ecma-international.org/12.0/#sec-makemethod)(closure, object).
7.  Perform ! [SetFunctionName](https://262.ecma-international.org/12.0/#sec-setfunctionname)(closure, propKey).
8.  Let desc be the PropertyDescriptor { \[\[Value\]\]: closure, \[\[Writable\]\]: true, \[\[Enumerable\]\]: enumerable, \[\[Configurable\]\]: true }.
9.  Return ? [DefinePropertyOrThrow](https://262.ecma-international.org/12.0/#sec-definepropertyorthrow)(object, propKey, desc).

## 15.5 Generator Function Definitions

## Syntax

[GeneratorMethod](https://262.ecma-international.org/12.0/#prod-GeneratorMethod)\[Yield, Await\] : \* [PropertyName](https://262.ecma-international.org/12.0/#prod-PropertyName)\[?Yield, ?Await\] ( [UniqueFormalParameters](https://262.ecma-international.org/12.0/#prod-UniqueFormalParameters)\[+Yield, ~Await\] ) { [GeneratorBody](https://262.ecma-international.org/12.0/#prod-GeneratorBody) } [GeneratorDeclaration](https://262.ecma-international.org/12.0/#prod-GeneratorDeclaration)\[Yield, Await, Default\] : function \* [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier)\[?Yield, ?Await\] ( [FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters)\[+Yield, ~Await\] ) { [GeneratorBody](https://262.ecma-international.org/12.0/#prod-GeneratorBody) } \[+Default\] function \* ( [FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters)\[+Yield, ~Await\] ) { [GeneratorBody](https://262.ecma-international.org/12.0/#prod-GeneratorBody) } [GeneratorExpression](https://262.ecma-international.org/12.0/#prod-GeneratorExpression) : function \* [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier)\[+Yield, ~Await\]opt ( [FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters)\[+Yield, ~Await\] ) { [GeneratorBody](https://262.ecma-international.org/12.0/#prod-GeneratorBody) } [GeneratorBody](https://262.ecma-international.org/12.0/#prod-GeneratorBody) : [FunctionBody](https://262.ecma-international.org/12.0/#prod-FunctionBody)\[+Yield, ~Await\] [YieldExpression](https://262.ecma-international.org/12.0/#prod-YieldExpression)\[In, Await\] : yield yield \[no [LineTerminator](https://262.ecma-international.org/12.0/#prod-LineTerminator) here\] [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression)\[?In, +Yield, ?Await\] yield \[no [LineTerminator](https://262.ecma-international.org/12.0/#prod-LineTerminator) here\] \* [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression)\[?In, +Yield, ?Await\] Note 1

The syntactic context immediately following `yield` requires use of the [InputElementRegExpOrTemplateTail](https://262.ecma-international.org/12.0/#prod-InputElementRegExpOrTemplateTail) lexical goal.

Note 2

[YieldExpression](https://262.ecma-international.org/12.0/#prod-YieldExpression) cannot be used within the [FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters) of a generator function because any expressions that are part of [FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters) are evaluated before the resulting generator object is in a resumable state.

Note 3

[Abstract operations](https://262.ecma-international.org/12.0/#sec-algorithm-conventions-abstract-operations) relating to generator objects are defined in [27.5.3](https://262.ecma-international.org/12.0/#sec-generator-abstract-operations).

## 15.5.1 Static Semantics: Early Errors

[GeneratorMethod](https://262.ecma-international.org/12.0/#prod-GeneratorMethod) : \* [PropertyName](https://262.ecma-international.org/12.0/#prod-PropertyName) ( [UniqueFormalParameters](https://262.ecma-international.org/12.0/#prod-UniqueFormalParameters) ) { [GeneratorBody](https://262.ecma-international.org/12.0/#prod-GeneratorBody) }

-   It is a Syntax Error if [HasDirectSuper](https://262.ecma-international.org/12.0/#sec-static-semantics-hasdirectsuper) of [GeneratorMethod](https://262.ecma-international.org/12.0/#prod-GeneratorMethod) is true.
-   It is a Syntax Error if [UniqueFormalParameters](https://262.ecma-international.org/12.0/#prod-UniqueFormalParameters) [Contains](https://262.ecma-international.org/12.0/#sec-static-semantics-contains) [YieldExpression](https://262.ecma-international.org/12.0/#prod-YieldExpression) is true.
-   It is a Syntax Error if [FunctionBodyContainsUseStrict](https://262.ecma-international.org/12.0/#sec-static-semantics-functionbodycontainsusestrict) of [GeneratorBody](https://262.ecma-international.org/12.0/#prod-GeneratorBody) is true and [IsSimpleParameterList](https://262.ecma-international.org/12.0/#sec-static-semantics-issimpleparameterlist) of [UniqueFormalParameters](https://262.ecma-international.org/12.0/#prod-UniqueFormalParameters) is false.
-   It is a Syntax Error if any element of the [BoundNames](https://262.ecma-international.org/12.0/#sec-static-semantics-boundnames) of [UniqueFormalParameters](https://262.ecma-international.org/12.0/#prod-UniqueFormalParameters) also occurs in the [LexicallyDeclaredNames](https://262.ecma-international.org/12.0/#sec-static-semantics-lexicallydeclarednames) of [GeneratorBody](https://262.ecma-international.org/12.0/#prod-GeneratorBody).

[GeneratorDeclaration](https://262.ecma-international.org/12.0/#prod-GeneratorDeclaration) : function \* [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier) ( [FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters) ) { [GeneratorBody](https://262.ecma-international.org/12.0/#prod-GeneratorBody) } function \* ( [FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters) ) { [GeneratorBody](https://262.ecma-international.org/12.0/#prod-GeneratorBody) } [GeneratorExpression](https://262.ecma-international.org/12.0/#prod-GeneratorExpression) : function \* [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier)opt ( [FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters) ) { [GeneratorBody](https://262.ecma-international.org/12.0/#prod-GeneratorBody) }

-   If the source code matching [FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters) is [strict mode code](https://262.ecma-international.org/12.0/#sec-strict-mode-code), the Early Error rules for [UniqueFormalParameters](https://262.ecma-international.org/12.0/#prod-UniqueFormalParameters) : [FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters) are applied.
-   If [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier) is present and the source code matching [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier) is [strict mode code](https://262.ecma-international.org/12.0/#sec-strict-mode-code), it is a Syntax Error if the [StringValue](https://262.ecma-international.org/12.0/#sec-static-semantics-stringvalue) of [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier) is "eval" or "arguments".
-   It is a Syntax Error if [FunctionBodyContainsUseStrict](https://262.ecma-international.org/12.0/#sec-static-semantics-functionbodycontainsusestrict) of [GeneratorBody](https://262.ecma-international.org/12.0/#prod-GeneratorBody) is true and [IsSimpleParameterList](https://262.ecma-international.org/12.0/#sec-static-semantics-issimpleparameterlist) of [FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters) is false.
-   It is a Syntax Error if any element of the [BoundNames](https://262.ecma-international.org/12.0/#sec-static-semantics-boundnames) of [FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters) also occurs in the [LexicallyDeclaredNames](https://262.ecma-international.org/12.0/#sec-static-semantics-lexicallydeclarednames) of [GeneratorBody](https://262.ecma-international.org/12.0/#prod-GeneratorBody).
-   It is a Syntax Error if [FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters) [Contains](https://262.ecma-international.org/12.0/#sec-static-semantics-contains) [YieldExpression](https://262.ecma-international.org/12.0/#prod-YieldExpression) is true.
-   It is a Syntax Error if [FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters) [Contains](https://262.ecma-international.org/12.0/#sec-static-semantics-contains) [SuperProperty](https://262.ecma-international.org/12.0/#prod-SuperProperty) is true.
-   It is a Syntax Error if [GeneratorBody](https://262.ecma-international.org/12.0/#prod-GeneratorBody) [Contains](https://262.ecma-international.org/12.0/#sec-static-semantics-contains) [SuperProperty](https://262.ecma-international.org/12.0/#prod-SuperProperty) is true.
-   It is a Syntax Error if [FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters) [Contains](https://262.ecma-international.org/12.0/#sec-static-semantics-contains) [SuperCall](https://262.ecma-international.org/12.0/#prod-SuperCall) is true.
-   It is a Syntax Error if [GeneratorBody](https://262.ecma-international.org/12.0/#prod-GeneratorBody) [Contains](https://262.ecma-international.org/12.0/#sec-static-semantics-contains) [SuperCall](https://262.ecma-international.org/12.0/#prod-SuperCall) is true.

## 15.5.2 Runtime Semantics: EvaluateGeneratorBody

With parameters functionObject and argumentsList (a [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type)).

[GeneratorBody](https://262.ecma-international.org/12.0/#prod-GeneratorBody) : [FunctionBody](https://262.ecma-international.org/12.0/#prod-FunctionBody)

1.  Perform ? [FunctionDeclarationInstantiation](https://262.ecma-international.org/12.0/#sec-functiondeclarationinstantiation)(functionObject, argumentsList).
2.  Let G be ? [OrdinaryCreateFromConstructor](https://262.ecma-international.org/12.0/#sec-ordinarycreatefromconstructor)(functionObject, "%GeneratorFunction.prototype.prototype%", « \[\[GeneratorState\]\], \[\[GeneratorContext\]\], \[\[GeneratorBrand\]\] »).
3.  Set G.\[\[GeneratorBrand\]\] to empty.
4.  Perform [GeneratorStart](https://262.ecma-international.org/12.0/#sec-generatorstart)(G, [FunctionBody](https://262.ecma-international.org/12.0/#prod-FunctionBody)).
5.  Return [Completion](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type) { \[\[Type\]\]: return, \[\[Value\]\]: G, \[\[Target\]\]: empty }.

## 15.5.3 Runtime Semantics: InstantiateGeneratorFunctionObject

With parameter scope.

[GeneratorDeclaration](https://262.ecma-international.org/12.0/#prod-GeneratorDeclaration) : function \* [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier) ( [FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters) ) { [GeneratorBody](https://262.ecma-international.org/12.0/#prod-GeneratorBody) }

1.  Let name be [StringValue](https://262.ecma-international.org/12.0/#sec-static-semantics-stringvalue) of [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier).
2.  Let sourceText be the [source text matched by](https://262.ecma-international.org/12.0/#sec-algorithm-conventions-syntax-directed-operations) [GeneratorDeclaration](https://262.ecma-international.org/12.0/#prod-GeneratorDeclaration).
3.  Let F be [OrdinaryFunctionCreate](https://262.ecma-international.org/12.0/#sec-ordinaryfunctioncreate)([%GeneratorFunction.prototype%](https://262.ecma-international.org/12.0/#sec-properties-of-the-generatorfunction-prototype-object), sourceText, [FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters), [GeneratorBody](https://262.ecma-international.org/12.0/#prod-GeneratorBody), non-lexical-this, scope).
4.  Perform [SetFunctionName](https://262.ecma-international.org/12.0/#sec-setfunctionname)(F, name).
5.  Let prototype be ! [OrdinaryObjectCreate](https://262.ecma-international.org/12.0/#sec-ordinaryobjectcreate)([%GeneratorFunction.prototype.prototype%](https://262.ecma-international.org/12.0/#sec-properties-of-generator-prototype)).
6.  Perform [DefinePropertyOrThrow](https://262.ecma-international.org/12.0/#sec-definepropertyorthrow)(F, "prototype", PropertyDescriptor { \[\[Value\]\]: prototype, \[\[Writable\]\]: true, \[\[Enumerable\]\]: false, \[\[Configurable\]\]: false }).
7.  Return F.

[GeneratorDeclaration](https://262.ecma-international.org/12.0/#prod-GeneratorDeclaration) : function \* ( [FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters) ) { [GeneratorBody](https://262.ecma-international.org/12.0/#prod-GeneratorBody) }

1.  Let sourceText be the [source text matched by](https://262.ecma-international.org/12.0/#sec-algorithm-conventions-syntax-directed-operations) [GeneratorDeclaration](https://262.ecma-international.org/12.0/#prod-GeneratorDeclaration).
2.  Let F be [OrdinaryFunctionCreate](https://262.ecma-international.org/12.0/#sec-ordinaryfunctioncreate)([%GeneratorFunction.prototype%](https://262.ecma-international.org/12.0/#sec-properties-of-the-generatorfunction-prototype-object), sourceText, [FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters), [GeneratorBody](https://262.ecma-international.org/12.0/#prod-GeneratorBody), non-lexical-this, scope).
3.  Perform [SetFunctionName](https://262.ecma-international.org/12.0/#sec-setfunctionname)(F, "default").
4.  Let prototype be ! [OrdinaryObjectCreate](https://262.ecma-international.org/12.0/#sec-ordinaryobjectcreate)([%GeneratorFunction.prototype.prototype%](https://262.ecma-international.org/12.0/#sec-properties-of-generator-prototype)).
5.  Perform [DefinePropertyOrThrow](https://262.ecma-international.org/12.0/#sec-definepropertyorthrow)(F, "prototype", PropertyDescriptor { \[\[Value\]\]: prototype, \[\[Writable\]\]: true, \[\[Enumerable\]\]: false, \[\[Configurable\]\]: false }).
6.  Return F.

Note

An anonymous [GeneratorDeclaration](https://262.ecma-international.org/12.0/#prod-GeneratorDeclaration) can only occur as part of an `export default` declaration, and its function code is therefore always [strict mode code](https://262.ecma-international.org/12.0/#sec-strict-mode-code).

## 15.5.4 Runtime Semantics: InstantiateGeneratorFunctionExpression

With optional parameter name.

[GeneratorExpression](https://262.ecma-international.org/12.0/#prod-GeneratorExpression) : function \* ( [FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters) ) { [GeneratorBody](https://262.ecma-international.org/12.0/#prod-GeneratorBody) }

1.  If name is not present, set name to "".
2.  Let scope be the LexicalEnvironment of the [running execution context](https://262.ecma-international.org/12.0/#running-execution-context).
3.  Let sourceText be the [source text matched by](https://262.ecma-international.org/12.0/#sec-algorithm-conventions-syntax-directed-operations) [GeneratorExpression](https://262.ecma-international.org/12.0/#prod-GeneratorExpression).
4.  Let closure be [OrdinaryFunctionCreate](https://262.ecma-international.org/12.0/#sec-ordinaryfunctioncreate)([%GeneratorFunction.prototype%](https://262.ecma-international.org/12.0/#sec-properties-of-the-generatorfunction-prototype-object), sourceText, [FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters), [GeneratorBody](https://262.ecma-international.org/12.0/#prod-GeneratorBody), non-lexical-this, scope).
5.  Perform [SetFunctionName](https://262.ecma-international.org/12.0/#sec-setfunctionname)(closure, name).
6.  Let prototype be ! [OrdinaryObjectCreate](https://262.ecma-international.org/12.0/#sec-ordinaryobjectcreate)([%GeneratorFunction.prototype.prototype%](https://262.ecma-international.org/12.0/#sec-properties-of-generator-prototype)).
7.  Perform [DefinePropertyOrThrow](https://262.ecma-international.org/12.0/#sec-definepropertyorthrow)(closure, "prototype", PropertyDescriptor { \[\[Value\]\]: prototype, \[\[Writable\]\]: true, \[\[Enumerable\]\]: false, \[\[Configurable\]\]: false }).
8.  Return closure.

[GeneratorExpression](https://262.ecma-international.org/12.0/#prod-GeneratorExpression) : function \* [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier) ( [FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters) ) { [GeneratorBody](https://262.ecma-international.org/12.0/#prod-GeneratorBody) }

1.  [Assert](https://262.ecma-international.org/12.0/#assert): name is not present.
2.  Set name to [StringValue](https://262.ecma-international.org/12.0/#sec-static-semantics-stringvalue) of [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier).
3.  Let scope be the [running execution context](https://262.ecma-international.org/12.0/#running-execution-context)'s LexicalEnvironment.
4.  Let funcEnv be [NewDeclarativeEnvironment](https://262.ecma-international.org/12.0/#sec-newdeclarativeenvironment)(scope).
5.  Perform funcEnv.CreateImmutableBinding(name, false).
6.  Let sourceText be the [source text matched by](https://262.ecma-international.org/12.0/#sec-algorithm-conventions-syntax-directed-operations) [GeneratorExpression](https://262.ecma-international.org/12.0/#prod-GeneratorExpression).
7.  Let closure be [OrdinaryFunctionCreate](https://262.ecma-international.org/12.0/#sec-ordinaryfunctioncreate)([%GeneratorFunction.prototype%](https://262.ecma-international.org/12.0/#sec-properties-of-the-generatorfunction-prototype-object), sourceText, [FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters), [GeneratorBody](https://262.ecma-international.org/12.0/#prod-GeneratorBody), non-lexical-this, funcEnv).
8.  Perform [SetFunctionName](https://262.ecma-international.org/12.0/#sec-setfunctionname)(closure, name).
9.  Let prototype be ! [OrdinaryObjectCreate](https://262.ecma-international.org/12.0/#sec-ordinaryobjectcreate)([%GeneratorFunction.prototype.prototype%](https://262.ecma-international.org/12.0/#sec-properties-of-generator-prototype)).
10.  Perform [DefinePropertyOrThrow](https://262.ecma-international.org/12.0/#sec-definepropertyorthrow)(closure, "prototype", PropertyDescriptor { \[\[Value\]\]: prototype, \[\[Writable\]\]: true, \[\[Enumerable\]\]: false, \[\[Configurable\]\]: false }).
11.  Perform funcEnv.InitializeBinding(name, closure).
12.  Return closure.

Note

The [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier) in a [GeneratorExpression](https://262.ecma-international.org/12.0/#prod-GeneratorExpression) can be referenced from inside the [GeneratorExpression](https://262.ecma-international.org/12.0/#prod-GeneratorExpression)'s [FunctionBody](https://262.ecma-international.org/12.0/#prod-FunctionBody) to allow the generator code to call itself recursively. However, unlike in a [GeneratorDeclaration](https://262.ecma-international.org/12.0/#prod-GeneratorDeclaration), the [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier) in a [GeneratorExpression](https://262.ecma-international.org/12.0/#prod-GeneratorExpression) cannot be referenced from and does not affect the scope enclosing the [GeneratorExpression](https://262.ecma-international.org/12.0/#prod-GeneratorExpression).

## 15.5.5 Runtime Semantics: Evaluation

[GeneratorExpression](https://262.ecma-international.org/12.0/#prod-GeneratorExpression) : function \* [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier)opt ( [FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters) ) { [GeneratorBody](https://262.ecma-international.org/12.0/#prod-GeneratorBody) }

1.  Return [InstantiateGeneratorFunctionExpression](https://262.ecma-international.org/12.0/#sec-runtime-semantics-instantiategeneratorfunctionexpression) of [GeneratorExpression](https://262.ecma-international.org/12.0/#prod-GeneratorExpression).

[YieldExpression](https://262.ecma-international.org/12.0/#prod-YieldExpression) : yield

1.  Return ? [Yield](https://262.ecma-international.org/12.0/#sec-yield)(undefined).

[YieldExpression](https://262.ecma-international.org/12.0/#prod-YieldExpression) : yield [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression)

1.  Let exprRef be the result of evaluating [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression).
2.  Let value be ? [GetValue](https://262.ecma-international.org/12.0/#sec-getvalue)(exprRef).
3.  Return ? [Yield](https://262.ecma-international.org/12.0/#sec-yield)(value).

[YieldExpression](https://262.ecma-international.org/12.0/#prod-YieldExpression) : yield \* [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression)

1.  Let generatorKind be ! [GetGeneratorKind](https://262.ecma-international.org/12.0/#sec-getgeneratorkind)().
2.  Let exprRef be the result of evaluating [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression).
3.  Let value be ? [GetValue](https://262.ecma-international.org/12.0/#sec-getvalue)(exprRef).
4.  Let iteratorRecord be ? [GetIterator](https://262.ecma-international.org/12.0/#sec-getiterator)(value, generatorKind).
5.  Let iterator be iteratorRecord.\[\[Iterator\]\].
6.  Let received be [NormalCompletion](https://262.ecma-international.org/12.0/#sec-normalcompletion)(undefined).
7.  Repeat,
    1.  If received.\[\[Type\]\] is normal, then
        1.  Let innerResult be ? [Call](https://262.ecma-international.org/12.0/#sec-call)(iteratorRecord.\[\[NextMethod\]\], iteratorRecord.\[\[Iterator\]\], « received.\[\[Value\]\] »).
        2.  If generatorKind is async, set innerResult to ? [Await](https://262.ecma-international.org/12.0/#await)(innerResult).
        3.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(innerResult) is not Object, throw a TypeError exception.
        4.  Let done be ? [IteratorComplete](https://262.ecma-international.org/12.0/#sec-iteratorcomplete)(innerResult).
        5.  If done is true, then
            1.  Return ? [IteratorValue](https://262.ecma-international.org/12.0/#sec-iteratorvalue)(innerResult).
        6.  If generatorKind is async, set received to [AsyncGeneratorYield](https://262.ecma-international.org/12.0/#sec-asyncgeneratoryield)(? [IteratorValue](https://262.ecma-international.org/12.0/#sec-iteratorvalue)(innerResult)).
        7.  Else, set received to [GeneratorYield](https://262.ecma-international.org/12.0/#sec-generatoryield)(innerResult).
    2.  Else if received.\[\[Type\]\] is throw, then
        1.  Let throw be ? [GetMethod](https://262.ecma-international.org/12.0/#sec-getmethod)(iterator, "throw").
        2.  If throw is not undefined, then
            1.  Let innerResult be ? [Call](https://262.ecma-international.org/12.0/#sec-call)(throw, iterator, « received.\[\[Value\]\] »).
            2.  If generatorKind is async, set innerResult to ? [Await](https://262.ecma-international.org/12.0/#await)(innerResult).
            3.  NOTE: Exceptions from the inner iterator `throw` method are propagated. Normal completions from an inner `throw` method are processed similarly to an inner `next`.
            4.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(innerResult) is not Object, throw a TypeError exception.
            5.  Let done be ? [IteratorComplete](https://262.ecma-international.org/12.0/#sec-iteratorcomplete)(innerResult).
            6.  If done is true, then
                1.  Return ? [IteratorValue](https://262.ecma-international.org/12.0/#sec-iteratorvalue)(innerResult).
            7.  If generatorKind is async, set received to [AsyncGeneratorYield](https://262.ecma-international.org/12.0/#sec-asyncgeneratoryield)(? [IteratorValue](https://262.ecma-international.org/12.0/#sec-iteratorvalue)(innerResult)).
            8.  Else, set received to [GeneratorYield](https://262.ecma-international.org/12.0/#sec-generatoryield)(innerResult).
        3.  Else,
            1.  NOTE: If iterator does not have a `throw` method, this throw is going to terminate the `yield*` loop. But first we need to give iterator a chance to clean up.
            2.  Let closeCompletion be [Completion](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type) { \[\[Type\]\]: normal, \[\[Value\]\]: empty, \[\[Target\]\]: empty }.
            3.  If generatorKind is async, perform ? [AsyncIteratorClose](https://262.ecma-international.org/12.0/#sec-asynciteratorclose)(iteratorRecord, closeCompletion).
            4.  Else, perform ? [IteratorClose](https://262.ecma-international.org/12.0/#sec-iteratorclose)(iteratorRecord, closeCompletion).
            5.  NOTE: The next step throws a TypeError to indicate that there was a `yield*` protocol violation: iterator does not have a `throw` method.
            6.  Throw a TypeError exception.
    3.  Else,
        1.  [Assert](https://262.ecma-international.org/12.0/#assert): received.\[\[Type\]\] is return.
        2.  Let return be ? [GetMethod](https://262.ecma-international.org/12.0/#sec-getmethod)(iterator, "return").
        3.  If return is undefined, then
            1.  If generatorKind is async, set received.\[\[Value\]\] to ? [Await](https://262.ecma-international.org/12.0/#await)(received.\[\[Value\]\]).
            2.  Return [Completion](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type)(received).
        4.  Let innerReturnResult be ? [Call](https://262.ecma-international.org/12.0/#sec-call)(return, iterator, « received.\[\[Value\]\] »).
        5.  If generatorKind is async, set innerReturnResult to ? [Await](https://262.ecma-international.org/12.0/#await)(innerReturnResult).
        6.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(innerReturnResult) is not Object, throw a TypeError exception.
        7.  Let done be ? [IteratorComplete](https://262.ecma-international.org/12.0/#sec-iteratorcomplete)(innerReturnResult).
        8.  If done is true, then
            1.  Let value be ? [IteratorValue](https://262.ecma-international.org/12.0/#sec-iteratorvalue)(innerReturnResult).
            2.  Return [Completion](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type) { \[\[Type\]\]: return, \[\[Value\]\]: value, \[\[Target\]\]: empty }.
        9.  If generatorKind is async, set received to [AsyncGeneratorYield](https://262.ecma-international.org/12.0/#sec-asyncgeneratoryield)(? [IteratorValue](https://262.ecma-international.org/12.0/#sec-iteratorvalue)(innerReturnResult)).
        10.  Else, set received to [GeneratorYield](https://262.ecma-international.org/12.0/#sec-generatoryield)(innerReturnResult).

## 15.6 Async Generator Function Definitions

## Syntax

[AsyncGeneratorMethod](https://262.ecma-international.org/12.0/#prod-AsyncGeneratorMethod)\[Yield, Await\] : async \[no [LineTerminator](https://262.ecma-international.org/12.0/#prod-LineTerminator) here\] \* [PropertyName](https://262.ecma-international.org/12.0/#prod-PropertyName)\[?Yield, ?Await\] ( [UniqueFormalParameters](https://262.ecma-international.org/12.0/#prod-UniqueFormalParameters)\[+Yield, +Await\] ) { [AsyncGeneratorBody](https://262.ecma-international.org/12.0/#prod-AsyncGeneratorBody) } [AsyncGeneratorDeclaration](https://262.ecma-international.org/12.0/#prod-AsyncGeneratorDeclaration)\[Yield, Await, Default\] : async \[no [LineTerminator](https://262.ecma-international.org/12.0/#prod-LineTerminator) here\] function \* [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier)\[?Yield, ?Await\] ( [FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters)\[+Yield, +Await\] ) { [AsyncGeneratorBody](https://262.ecma-international.org/12.0/#prod-AsyncGeneratorBody) } \[+Default\] async \[no [LineTerminator](https://262.ecma-international.org/12.0/#prod-LineTerminator) here\] function \* ( [FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters)\[+Yield, +Await\] ) { [AsyncGeneratorBody](https://262.ecma-international.org/12.0/#prod-AsyncGeneratorBody) } [AsyncGeneratorExpression](https://262.ecma-international.org/12.0/#prod-AsyncGeneratorExpression) : async \[no [LineTerminator](https://262.ecma-international.org/12.0/#prod-LineTerminator) here\] function \* [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier)\[+Yield, +Await\]opt ( [FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters)\[+Yield, +Await\] ) { [AsyncGeneratorBody](https://262.ecma-international.org/12.0/#prod-AsyncGeneratorBody) } [AsyncGeneratorBody](https://262.ecma-international.org/12.0/#prod-AsyncGeneratorBody) : [FunctionBody](https://262.ecma-international.org/12.0/#prod-FunctionBody)\[+Yield, +Await\] Note 1

[YieldExpression](https://262.ecma-international.org/12.0/#prod-YieldExpression) and [AwaitExpression](https://262.ecma-international.org/12.0/#prod-AwaitExpression) cannot be used within the [FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters) of an async generator function because any expressions that are part of [FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters) are evaluated before the resulting async generator object is in a resumable state.

Note 2

[Abstract operations](https://262.ecma-international.org/12.0/#sec-algorithm-conventions-abstract-operations) relating to async generator objects are defined in [27.6.3](https://262.ecma-international.org/12.0/#sec-asyncgenerator-abstract-operations).

## 15.6.1 Static Semantics: Early Errors

[AsyncGeneratorMethod](https://262.ecma-international.org/12.0/#prod-AsyncGeneratorMethod) : async \* [PropertyName](https://262.ecma-international.org/12.0/#prod-PropertyName) ( [UniqueFormalParameters](https://262.ecma-international.org/12.0/#prod-UniqueFormalParameters) ) { [AsyncGeneratorBody](https://262.ecma-international.org/12.0/#prod-AsyncGeneratorBody) }

-   It is a Syntax Error if [HasDirectSuper](https://262.ecma-international.org/12.0/#sec-static-semantics-hasdirectsuper) of [AsyncGeneratorMethod](https://262.ecma-international.org/12.0/#prod-AsyncGeneratorMethod) is true.
-   It is a Syntax Error if [UniqueFormalParameters](https://262.ecma-international.org/12.0/#prod-UniqueFormalParameters) [Contains](https://262.ecma-international.org/12.0/#sec-static-semantics-contains) [YieldExpression](https://262.ecma-international.org/12.0/#prod-YieldExpression) is true.
-   It is a Syntax Error if [UniqueFormalParameters](https://262.ecma-international.org/12.0/#prod-UniqueFormalParameters) [Contains](https://262.ecma-international.org/12.0/#sec-static-semantics-contains) [AwaitExpression](https://262.ecma-international.org/12.0/#prod-AwaitExpression) is true.
-   It is a Syntax Error if [FunctionBodyContainsUseStrict](https://262.ecma-international.org/12.0/#sec-static-semantics-functionbodycontainsusestrict) of [AsyncGeneratorBody](https://262.ecma-international.org/12.0/#prod-AsyncGeneratorBody) is true and [IsSimpleParameterList](https://262.ecma-international.org/12.0/#sec-static-semantics-issimpleparameterlist) of [UniqueFormalParameters](https://262.ecma-international.org/12.0/#prod-UniqueFormalParameters) is false.
-   It is a Syntax Error if any element of the [BoundNames](https://262.ecma-international.org/12.0/#sec-static-semantics-boundnames) of [UniqueFormalParameters](https://262.ecma-international.org/12.0/#prod-UniqueFormalParameters) also occurs in the [LexicallyDeclaredNames](https://262.ecma-international.org/12.0/#sec-static-semantics-lexicallydeclarednames) of [AsyncGeneratorBody](https://262.ecma-international.org/12.0/#prod-AsyncGeneratorBody).

[AsyncGeneratorDeclaration](https://262.ecma-international.org/12.0/#prod-AsyncGeneratorDeclaration) : async function \* [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier) ( [FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters) ) { [AsyncGeneratorBody](https://262.ecma-international.org/12.0/#prod-AsyncGeneratorBody) } async function \* ( [FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters) ) { [AsyncGeneratorBody](https://262.ecma-international.org/12.0/#prod-AsyncGeneratorBody) } [AsyncGeneratorExpression](https://262.ecma-international.org/12.0/#prod-AsyncGeneratorExpression) : async function \* [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier)opt ( [FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters) ) { [AsyncGeneratorBody](https://262.ecma-international.org/12.0/#prod-AsyncGeneratorBody) }

-   If the source code matching [FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters) is [strict mode code](https://262.ecma-international.org/12.0/#sec-strict-mode-code), the Early Error rules for [UniqueFormalParameters](https://262.ecma-international.org/12.0/#prod-UniqueFormalParameters) : [FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters) are applied.
-   If [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier) is present and the source code matching [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier) is [strict mode code](https://262.ecma-international.org/12.0/#sec-strict-mode-code), it is a Syntax Error if the [StringValue](https://262.ecma-international.org/12.0/#sec-static-semantics-stringvalue) of [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier) is "eval" or "arguments".
-   It is a Syntax Error if [FunctionBodyContainsUseStrict](https://262.ecma-international.org/12.0/#sec-static-semantics-functionbodycontainsusestrict) of [AsyncGeneratorBody](https://262.ecma-international.org/12.0/#prod-AsyncGeneratorBody) is true and [IsSimpleParameterList](https://262.ecma-international.org/12.0/#sec-static-semantics-issimpleparameterlist) of [FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters) is false.
-   It is a Syntax Error if any element of the [BoundNames](https://262.ecma-international.org/12.0/#sec-static-semantics-boundnames) of [FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters) also occurs in the [LexicallyDeclaredNames](https://262.ecma-international.org/12.0/#sec-static-semantics-lexicallydeclarednames) of [AsyncGeneratorBody](https://262.ecma-international.org/12.0/#prod-AsyncGeneratorBody).
-   It is a Syntax Error if [FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters) [Contains](https://262.ecma-international.org/12.0/#sec-static-semantics-contains) [YieldExpression](https://262.ecma-international.org/12.0/#prod-YieldExpression) is true.
-   It is a Syntax Error if [FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters) [Contains](https://262.ecma-international.org/12.0/#sec-static-semantics-contains) [AwaitExpression](https://262.ecma-international.org/12.0/#prod-AwaitExpression) is true.
-   It is a Syntax Error if [FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters) [Contains](https://262.ecma-international.org/12.0/#sec-static-semantics-contains) [SuperProperty](https://262.ecma-international.org/12.0/#prod-SuperProperty) is true.
-   It is a Syntax Error if [AsyncGeneratorBody](https://262.ecma-international.org/12.0/#prod-AsyncGeneratorBody) [Contains](https://262.ecma-international.org/12.0/#sec-static-semantics-contains) [SuperProperty](https://262.ecma-international.org/12.0/#prod-SuperProperty) is true.
-   It is a Syntax Error if [FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters) [Contains](https://262.ecma-international.org/12.0/#sec-static-semantics-contains) [SuperCall](https://262.ecma-international.org/12.0/#prod-SuperCall) is true.
-   It is a Syntax Error if [AsyncGeneratorBody](https://262.ecma-international.org/12.0/#prod-AsyncGeneratorBody) [Contains](https://262.ecma-international.org/12.0/#sec-static-semantics-contains) [SuperCall](https://262.ecma-international.org/12.0/#prod-SuperCall) is true.

## 15.6.2 Runtime Semantics: EvaluateAsyncGeneratorBody

With parameters functionObject and argumentsList (a [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type)).

[AsyncGeneratorBody](https://262.ecma-international.org/12.0/#prod-AsyncGeneratorBody) : [FunctionBody](https://262.ecma-international.org/12.0/#prod-FunctionBody)

1.  Perform ? [FunctionDeclarationInstantiation](https://262.ecma-international.org/12.0/#sec-functiondeclarationinstantiation)(functionObject, argumentsList).
2.  Let generator be ? [OrdinaryCreateFromConstructor](https://262.ecma-international.org/12.0/#sec-ordinarycreatefromconstructor)(functionObject, "%AsyncGeneratorFunction.prototype.prototype%", « \[\[AsyncGeneratorState\]\], \[\[AsyncGeneratorContext\]\], \[\[AsyncGeneratorQueue\]\], \[\[GeneratorBrand\]\] »).
3.  Set generator.\[\[GeneratorBrand\]\] to empty.
4.  Perform ! [AsyncGeneratorStart](https://262.ecma-international.org/12.0/#sec-asyncgeneratorstart)(generator, [FunctionBody](https://262.ecma-international.org/12.0/#prod-FunctionBody)).
5.  Return [Completion](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type) { \[\[Type\]\]: return, \[\[Value\]\]: generator, \[\[Target\]\]: empty }.

## 15.6.3 Runtime Semantics: InstantiateAsyncGeneratorFunctionObject

With parameter scope.

[AsyncGeneratorDeclaration](https://262.ecma-international.org/12.0/#prod-AsyncGeneratorDeclaration) : async function \* [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier) ( [FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters) ) { [AsyncGeneratorBody](https://262.ecma-international.org/12.0/#prod-AsyncGeneratorBody) }

1.  Let name be [StringValue](https://262.ecma-international.org/12.0/#sec-static-semantics-stringvalue) of [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier).
2.  Let sourceText be the [source text matched by](https://262.ecma-international.org/12.0/#sec-algorithm-conventions-syntax-directed-operations) [AsyncGeneratorDeclaration](https://262.ecma-international.org/12.0/#prod-AsyncGeneratorDeclaration).
3.  Let F be ! [OrdinaryFunctionCreate](https://262.ecma-international.org/12.0/#sec-ordinaryfunctioncreate)([%AsyncGeneratorFunction.prototype%](https://262.ecma-international.org/12.0/#sec-properties-of-asyncgeneratorfunction-prototype), sourceText, [FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters), [AsyncGeneratorBody](https://262.ecma-international.org/12.0/#prod-AsyncGeneratorBody), non-lexical-this, scope).
4.  Perform ! [SetFunctionName](https://262.ecma-international.org/12.0/#sec-setfunctionname)(F, name).
5.  Let prototype be ! [OrdinaryObjectCreate](https://262.ecma-international.org/12.0/#sec-ordinaryobjectcreate)([%AsyncGeneratorFunction.prototype.prototype%](https://262.ecma-international.org/12.0/#sec-properties-of-asyncgenerator-prototype)).
6.  Perform ! [DefinePropertyOrThrow](https://262.ecma-international.org/12.0/#sec-definepropertyorthrow)(F, "prototype", PropertyDescriptor { \[\[Value\]\]: prototype, \[\[Writable\]\]: true, \[\[Enumerable\]\]: false, \[\[Configurable\]\]: false }).
7.  Return F.

[AsyncGeneratorDeclaration](https://262.ecma-international.org/12.0/#prod-AsyncGeneratorDeclaration) : async function \* ( [FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters) ) { [AsyncGeneratorBody](https://262.ecma-international.org/12.0/#prod-AsyncGeneratorBody) }

1.  Let sourceText be the [source text matched by](https://262.ecma-international.org/12.0/#sec-algorithm-conventions-syntax-directed-operations) [AsyncGeneratorDeclaration](https://262.ecma-international.org/12.0/#prod-AsyncGeneratorDeclaration).
2.  Let F be [OrdinaryFunctionCreate](https://262.ecma-international.org/12.0/#sec-ordinaryfunctioncreate)([%AsyncGeneratorFunction.prototype%](https://262.ecma-international.org/12.0/#sec-properties-of-asyncgeneratorfunction-prototype), sourceText, [FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters), [AsyncGeneratorBody](https://262.ecma-international.org/12.0/#prod-AsyncGeneratorBody), non-lexical-this, scope).
3.  Perform [SetFunctionName](https://262.ecma-international.org/12.0/#sec-setfunctionname)(F, "default").
4.  Let prototype be ! [OrdinaryObjectCreate](https://262.ecma-international.org/12.0/#sec-ordinaryobjectcreate)([%AsyncGeneratorFunction.prototype.prototype%](https://262.ecma-international.org/12.0/#sec-properties-of-asyncgenerator-prototype)).
5.  Perform [DefinePropertyOrThrow](https://262.ecma-international.org/12.0/#sec-definepropertyorthrow)(F, "prototype", PropertyDescriptor { \[\[Value\]\]: prototype, \[\[Writable\]\]: true, \[\[Enumerable\]\]: false, \[\[Configurable\]\]: false }).
6.  Return F.

Note

An anonymous [AsyncGeneratorDeclaration](https://262.ecma-international.org/12.0/#prod-AsyncGeneratorDeclaration) can only occur as part of an `export default` declaration.

## 15.6.4 Runtime Semantics: InstantiateAsyncGeneratorFunctionExpression

With optional parameter name.

[AsyncGeneratorExpression](https://262.ecma-international.org/12.0/#prod-AsyncGeneratorExpression) : async function \* ( [FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters) ) { [AsyncGeneratorBody](https://262.ecma-international.org/12.0/#prod-AsyncGeneratorBody) }

1.  If name is not present, set name to "".
2.  Let scope be the LexicalEnvironment of the [running execution context](https://262.ecma-international.org/12.0/#running-execution-context).
3.  Let sourceText be the [source text matched by](https://262.ecma-international.org/12.0/#sec-algorithm-conventions-syntax-directed-operations) [AsyncGeneratorExpression](https://262.ecma-international.org/12.0/#prod-AsyncGeneratorExpression).
4.  Let closure be ! [OrdinaryFunctionCreate](https://262.ecma-international.org/12.0/#sec-ordinaryfunctioncreate)([%AsyncGeneratorFunction.prototype%](https://262.ecma-international.org/12.0/#sec-properties-of-asyncgeneratorfunction-prototype), sourceText, [FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters), [AsyncGeneratorBody](https://262.ecma-international.org/12.0/#prod-AsyncGeneratorBody), non-lexical-this, scope).
5.  Perform [SetFunctionName](https://262.ecma-international.org/12.0/#sec-setfunctionname)(closure, name).
6.  Let prototype be ! [OrdinaryObjectCreate](https://262.ecma-international.org/12.0/#sec-ordinaryobjectcreate)([%AsyncGeneratorFunction.prototype.prototype%](https://262.ecma-international.org/12.0/#sec-properties-of-asyncgenerator-prototype)).
7.  Perform ! [DefinePropertyOrThrow](https://262.ecma-international.org/12.0/#sec-definepropertyorthrow)(closure, "prototype", PropertyDescriptor { \[\[Value\]\]: prototype, \[\[Writable\]\]: true, \[\[Enumerable\]\]: false, \[\[Configurable\]\]: false }).
8.  Return closure.

[AsyncGeneratorExpression](https://262.ecma-international.org/12.0/#prod-AsyncGeneratorExpression) : async function \* [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier) ( [FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters) ) { [AsyncGeneratorBody](https://262.ecma-international.org/12.0/#prod-AsyncGeneratorBody) }

1.  [Assert](https://262.ecma-international.org/12.0/#assert): name is not present.
2.  Set name to [StringValue](https://262.ecma-international.org/12.0/#sec-static-semantics-stringvalue) of [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier).
3.  Let scope be the [running execution context](https://262.ecma-international.org/12.0/#running-execution-context)'s LexicalEnvironment.
4.  Let funcEnv be ! [NewDeclarativeEnvironment](https://262.ecma-international.org/12.0/#sec-newdeclarativeenvironment)(scope).
5.  Perform ! funcEnv.CreateImmutableBinding(name, false).
6.  Let sourceText be the [source text matched by](https://262.ecma-international.org/12.0/#sec-algorithm-conventions-syntax-directed-operations) [AsyncGeneratorExpression](https://262.ecma-international.org/12.0/#prod-AsyncGeneratorExpression).
7.  Let closure be ! [OrdinaryFunctionCreate](https://262.ecma-international.org/12.0/#sec-ordinaryfunctioncreate)([%AsyncGeneratorFunction.prototype%](https://262.ecma-international.org/12.0/#sec-properties-of-asyncgeneratorfunction-prototype), sourceText, [FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters), [AsyncGeneratorBody](https://262.ecma-international.org/12.0/#prod-AsyncGeneratorBody), non-lexical-this, funcEnv).
8.  Perform ! [SetFunctionName](https://262.ecma-international.org/12.0/#sec-setfunctionname)(closure, name).
9.  Let prototype be ! [OrdinaryObjectCreate](https://262.ecma-international.org/12.0/#sec-ordinaryobjectcreate)([%AsyncGeneratorFunction.prototype.prototype%](https://262.ecma-international.org/12.0/#sec-properties-of-asyncgenerator-prototype)).
10.  Perform ! [DefinePropertyOrThrow](https://262.ecma-international.org/12.0/#sec-definepropertyorthrow)(closure, "prototype", PropertyDescriptor { \[\[Value\]\]: prototype, \[\[Writable\]\]: true, \[\[Enumerable\]\]: false, \[\[Configurable\]\]: false }).
11.  Perform ! funcEnv.InitializeBinding(name, closure).
12.  Return closure.

Note

The [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier) in an [AsyncGeneratorExpression](https://262.ecma-international.org/12.0/#prod-AsyncGeneratorExpression) can be referenced from inside the [AsyncGeneratorExpression](https://262.ecma-international.org/12.0/#prod-AsyncGeneratorExpression)'s [AsyncGeneratorBody](https://262.ecma-international.org/12.0/#prod-AsyncGeneratorBody) to allow the generator code to call itself recursively. However, unlike in an [AsyncGeneratorDeclaration](https://262.ecma-international.org/12.0/#prod-AsyncGeneratorDeclaration), the [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier) in an [AsyncGeneratorExpression](https://262.ecma-international.org/12.0/#prod-AsyncGeneratorExpression) cannot be referenced from and does not affect the scope enclosing the [AsyncGeneratorExpression](https://262.ecma-international.org/12.0/#prod-AsyncGeneratorExpression).

## 15.6.5 Runtime Semantics: Evaluation

[AsyncGeneratorExpression](https://262.ecma-international.org/12.0/#prod-AsyncGeneratorExpression) : async function \* [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier)opt ( [FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters) ) { [AsyncGeneratorBody](https://262.ecma-international.org/12.0/#prod-AsyncGeneratorBody) }

1.  Return [InstantiateAsyncGeneratorFunctionExpression](https://262.ecma-international.org/12.0/#sec-runtime-semantics-instantiateasyncgeneratorfunctionexpression) of [AsyncGeneratorExpression](https://262.ecma-international.org/12.0/#prod-AsyncGeneratorExpression).

## 15.7 Class Definitions

## Syntax

[ClassDeclaration](https://262.ecma-international.org/12.0/#prod-ClassDeclaration)\[Yield, Await, Default\] : class [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier)\[?Yield, ?Await\] [ClassTail](https://262.ecma-international.org/12.0/#prod-ClassTail)\[?Yield, ?Await\] \[+Default\] class [ClassTail](https://262.ecma-international.org/12.0/#prod-ClassTail)\[?Yield, ?Await\] [ClassExpression](https://262.ecma-international.org/12.0/#prod-ClassExpression)\[Yield, Await\] : class [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier)\[?Yield, ?Await\]opt [ClassTail](https://262.ecma-international.org/12.0/#prod-ClassTail)\[?Yield, ?Await\] [ClassTail](https://262.ecma-international.org/12.0/#prod-ClassTail)\[Yield, Await\] : [ClassHeritage](https://262.ecma-international.org/12.0/#prod-ClassHeritage)\[?Yield, ?Await\]opt { [ClassBody](https://262.ecma-international.org/12.0/#prod-ClassBody)\[?Yield, ?Await\]opt } [ClassHeritage](https://262.ecma-international.org/12.0/#prod-ClassHeritage)\[Yield, Await\] : extends [LeftHandSideExpression](https://262.ecma-international.org/12.0/#prod-LeftHandSideExpression)\[?Yield, ?Await\] [ClassBody](https://262.ecma-international.org/12.0/#prod-ClassBody)\[Yield, Await\] : [ClassElementList](https://262.ecma-international.org/12.0/#prod-ClassElementList)\[?Yield, ?Await\] [ClassElementList](https://262.ecma-international.org/12.0/#prod-ClassElementList)\[Yield, Await\] : [ClassElement](https://262.ecma-international.org/12.0/#prod-ClassElement)\[?Yield, ?Await\] [ClassElementList](https://262.ecma-international.org/12.0/#prod-ClassElementList)\[?Yield, ?Await\] [ClassElement](https://262.ecma-international.org/12.0/#prod-ClassElement)\[?Yield, ?Await\] [ClassElement](https://262.ecma-international.org/12.0/#prod-ClassElement)\[Yield, Await\] : [MethodDefinition](https://262.ecma-international.org/12.0/#prod-MethodDefinition)\[?Yield, ?Await\] static [MethodDefinition](https://262.ecma-international.org/12.0/#prod-MethodDefinition)\[?Yield, ?Await\] ; Note

A class definition is always [strict mode code](https://262.ecma-international.org/12.0/#sec-strict-mode-code).

## 15.7.1 Static Semantics: Early Errors

[ClassTail](https://262.ecma-international.org/12.0/#prod-ClassTail) : [ClassHeritage](https://262.ecma-international.org/12.0/#prod-ClassHeritage)opt { [ClassBody](https://262.ecma-international.org/12.0/#prod-ClassBody) }

-   It is a Syntax Error if [ClassHeritage](https://262.ecma-international.org/12.0/#prod-ClassHeritage) is not present and the following algorithm evaluates to true:
    
    1.  Let constructor be [ConstructorMethod](https://262.ecma-international.org/12.0/#sec-static-semantics-constructormethod) of [ClassBody](https://262.ecma-international.org/12.0/#prod-ClassBody).
    2.  If constructor is empty, return false.
    3.  Return [HasDirectSuper](https://262.ecma-international.org/12.0/#sec-static-semantics-hasdirectsuper) of constructor.
    

[ClassBody](https://262.ecma-international.org/12.0/#prod-ClassBody) : [ClassElementList](https://262.ecma-international.org/12.0/#prod-ClassElementList)

-   It is a Syntax Error if [PrototypePropertyNameList](https://262.ecma-international.org/12.0/#sec-static-semantics-prototypepropertynamelist) of [ClassElementList](https://262.ecma-international.org/12.0/#prod-ClassElementList) contains more than one occurrence of "constructor".

[ClassElement](https://262.ecma-international.org/12.0/#prod-ClassElement) : [MethodDefinition](https://262.ecma-international.org/12.0/#prod-MethodDefinition)

-   It is a Syntax Error if [PropName](https://262.ecma-international.org/12.0/#sec-static-semantics-propname) of [MethodDefinition](https://262.ecma-international.org/12.0/#prod-MethodDefinition) is not "constructor" and [HasDirectSuper](https://262.ecma-international.org/12.0/#sec-static-semantics-hasdirectsuper) of [MethodDefinition](https://262.ecma-international.org/12.0/#prod-MethodDefinition) is true.
-   It is a Syntax Error if [PropName](https://262.ecma-international.org/12.0/#sec-static-semantics-propname) of [MethodDefinition](https://262.ecma-international.org/12.0/#prod-MethodDefinition) is "constructor" and [SpecialMethod](https://262.ecma-international.org/12.0/#sec-static-semantics-specialmethod) of [MethodDefinition](https://262.ecma-international.org/12.0/#prod-MethodDefinition) is true.

[ClassElement](https://262.ecma-international.org/12.0/#prod-ClassElement) : static [MethodDefinition](https://262.ecma-international.org/12.0/#prod-MethodDefinition)

-   It is a Syntax Error if [HasDirectSuper](https://262.ecma-international.org/12.0/#sec-static-semantics-hasdirectsuper) of [MethodDefinition](https://262.ecma-international.org/12.0/#prod-MethodDefinition) is true.
-   It is a Syntax Error if [PropName](https://262.ecma-international.org/12.0/#sec-static-semantics-propname) of [MethodDefinition](https://262.ecma-international.org/12.0/#prod-MethodDefinition) is "prototype".

## 15.7.2 Static Semantics: ClassElementKind

[ClassElement](https://262.ecma-international.org/12.0/#prod-ClassElement) : [MethodDefinition](https://262.ecma-international.org/12.0/#prod-MethodDefinition)

1.  If [PropName](https://262.ecma-international.org/12.0/#sec-static-semantics-propname) of [MethodDefinition](https://262.ecma-international.org/12.0/#prod-MethodDefinition) is "constructor", return ConstructorMethod.
2.  Return NonConstructorMethod.

[ClassElement](https://262.ecma-international.org/12.0/#prod-ClassElement) : static [MethodDefinition](https://262.ecma-international.org/12.0/#prod-MethodDefinition)

1.  Return NonConstructorMethod.

[ClassElement](https://262.ecma-international.org/12.0/#prod-ClassElement) : ;

1.  Return empty.

## 15.7.3 Static Semantics: ConstructorMethod

[ClassElementList](https://262.ecma-international.org/12.0/#prod-ClassElementList) : [ClassElement](https://262.ecma-international.org/12.0/#prod-ClassElement)

1.  If [ClassElementKind](https://262.ecma-international.org/12.0/#sec-static-semantics-classelementkind) of [ClassElement](https://262.ecma-international.org/12.0/#prod-ClassElement) is ConstructorMethod, return [ClassElement](https://262.ecma-international.org/12.0/#prod-ClassElement).
2.  Return empty.

[ClassElementList](https://262.ecma-international.org/12.0/#prod-ClassElementList) : [ClassElementList](https://262.ecma-international.org/12.0/#prod-ClassElementList) [ClassElement](https://262.ecma-international.org/12.0/#prod-ClassElement)

1.  Let head be [ConstructorMethod](https://262.ecma-international.org/12.0/#sec-static-semantics-constructormethod) of [ClassElementList](https://262.ecma-international.org/12.0/#prod-ClassElementList).
2.  If head is not empty, return head.
3.  If [ClassElementKind](https://262.ecma-international.org/12.0/#sec-static-semantics-classelementkind) of [ClassElement](https://262.ecma-international.org/12.0/#prod-ClassElement) is ConstructorMethod, return [ClassElement](https://262.ecma-international.org/12.0/#prod-ClassElement).
4.  Return empty.

Note

Early Error rules ensure that there is only one method definition named "constructor" and that it is not an [accessor property](https://262.ecma-international.org/12.0/#sec-object-type) or generator definition.

## 15.7.4 Static Semantics: IsStatic

[ClassElement](https://262.ecma-international.org/12.0/#prod-ClassElement) : [MethodDefinition](https://262.ecma-international.org/12.0/#prod-MethodDefinition)

1.  Return false.

[ClassElement](https://262.ecma-international.org/12.0/#prod-ClassElement) : static [MethodDefinition](https://262.ecma-international.org/12.0/#prod-MethodDefinition)

1.  Return true.

[ClassElement](https://262.ecma-international.org/12.0/#prod-ClassElement) : ;

1.  Return false.

## 15.7.5 Static Semantics: NonConstructorMethodDefinitions

[ClassElementList](https://262.ecma-international.org/12.0/#prod-ClassElementList) : [ClassElement](https://262.ecma-international.org/12.0/#prod-ClassElement)

1.  If [ClassElementKind](https://262.ecma-international.org/12.0/#sec-static-semantics-classelementkind) of [ClassElement](https://262.ecma-international.org/12.0/#prod-ClassElement) is NonConstructorMethod, then
    1.  Return a [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) whose sole element is [ClassElement](https://262.ecma-international.org/12.0/#prod-ClassElement).
2.  Return a new empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).

[ClassElementList](https://262.ecma-international.org/12.0/#prod-ClassElementList) : [ClassElementList](https://262.ecma-international.org/12.0/#prod-ClassElementList) [ClassElement](https://262.ecma-international.org/12.0/#prod-ClassElement)

1.  Let list be [NonConstructorMethodDefinitions](https://262.ecma-international.org/12.0/#sec-static-semantics-nonconstructormethoddefinitions) of [ClassElementList](https://262.ecma-international.org/12.0/#prod-ClassElementList).
2.  If [ClassElementKind](https://262.ecma-international.org/12.0/#sec-static-semantics-classelementkind) of [ClassElement](https://262.ecma-international.org/12.0/#prod-ClassElement) is NonConstructorMethod, then
    1.  Append [ClassElement](https://262.ecma-international.org/12.0/#prod-ClassElement) to the end of list.
3.  Return list.

## 15.7.6 Static Semantics: PrototypePropertyNameList

[ClassElementList](https://262.ecma-international.org/12.0/#prod-ClassElementList) : [ClassElement](https://262.ecma-international.org/12.0/#prod-ClassElement)

1.  If [PropName](https://262.ecma-international.org/12.0/#sec-static-semantics-propname) of [ClassElement](https://262.ecma-international.org/12.0/#prod-ClassElement) is empty, return a new empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).
2.  If [IsStatic](https://262.ecma-international.org/12.0/#sec-static-semantics-isstatic) of [ClassElement](https://262.ecma-international.org/12.0/#prod-ClassElement) is true, return a new empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).
3.  Return a [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) whose sole element is [PropName](https://262.ecma-international.org/12.0/#sec-static-semantics-propname) of [ClassElement](https://262.ecma-international.org/12.0/#prod-ClassElement).

[ClassElementList](https://262.ecma-international.org/12.0/#prod-ClassElementList) : [ClassElementList](https://262.ecma-international.org/12.0/#prod-ClassElementList) [ClassElement](https://262.ecma-international.org/12.0/#prod-ClassElement)

1.  Let list be [PrototypePropertyNameList](https://262.ecma-international.org/12.0/#sec-static-semantics-prototypepropertynamelist) of [ClassElementList](https://262.ecma-international.org/12.0/#prod-ClassElementList).
2.  If [PropName](https://262.ecma-international.org/12.0/#sec-static-semantics-propname) of [ClassElement](https://262.ecma-international.org/12.0/#prod-ClassElement) is empty, return list.
3.  If [IsStatic](https://262.ecma-international.org/12.0/#sec-static-semantics-isstatic) of [ClassElement](https://262.ecma-international.org/12.0/#prod-ClassElement) is true, return list.
4.  Append [PropName](https://262.ecma-international.org/12.0/#sec-static-semantics-propname) of [ClassElement](https://262.ecma-international.org/12.0/#prod-ClassElement) to the end of list.
5.  Return list.

## 15.7.7 Runtime Semantics: ClassDefinitionEvaluation

With parameters classBinding and className.

[ClassTail](https://262.ecma-international.org/12.0/#prod-ClassTail) : [ClassHeritage](https://262.ecma-international.org/12.0/#prod-ClassHeritage)opt { [ClassBody](https://262.ecma-international.org/12.0/#prod-ClassBody)opt }

1.  Let env be the LexicalEnvironment of the [running execution context](https://262.ecma-international.org/12.0/#running-execution-context).
2.  Let classScope be [NewDeclarativeEnvironment](https://262.ecma-international.org/12.0/#sec-newdeclarativeenvironment)(env).
3.  If classBinding is not undefined, then
    1.  Perform classScope.CreateImmutableBinding(classBinding, true).
4.  If [ClassHeritage](https://262.ecma-international.org/12.0/#prod-ClassHeritage)opt is not present, then
    1.  Let protoParent be [%Object.prototype%](https://262.ecma-international.org/12.0/#sec-properties-of-the-object-prototype-object).
    2.  Let constructorParent be [%Function.prototype%](https://262.ecma-international.org/12.0/#sec-properties-of-the-function-prototype-object).
5.  Else,
    1.  Set the [running execution context](https://262.ecma-international.org/12.0/#running-execution-context)'s LexicalEnvironment to classScope.
    2.  Let superclassRef be the result of evaluating [ClassHeritage](https://262.ecma-international.org/12.0/#prod-ClassHeritage).
    3.  Set the [running execution context](https://262.ecma-international.org/12.0/#running-execution-context)'s LexicalEnvironment to env.
    4.  Let superclass be ? [GetValue](https://262.ecma-international.org/12.0/#sec-getvalue)(superclassRef).
    5.  If superclass is null, then
        1.  Let protoParent be null.
        2.  Let constructorParent be [%Function.prototype%](https://262.ecma-international.org/12.0/#sec-properties-of-the-function-prototype-object).
    6.  Else if [IsConstructor](https://262.ecma-international.org/12.0/#sec-isconstructor)(superclass) is false, throw a TypeError exception.
    7.  Else,
        1.  Let protoParent be ? [Get](https://262.ecma-international.org/12.0/#sec-get-o-p)(superclass, "prototype").
        2.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(protoParent) is neither Object nor Null, throw a TypeError exception.
        3.  Let constructorParent be superclass.
6.  Let proto be ! [OrdinaryObjectCreate](https://262.ecma-international.org/12.0/#sec-ordinaryobjectcreate)(protoParent).
7.  If [ClassBody](https://262.ecma-international.org/12.0/#prod-ClassBody)opt is not present, let constructor be empty.
8.  Else, let constructor be [ConstructorMethod](https://262.ecma-international.org/12.0/#sec-static-semantics-constructormethod) of [ClassBody](https://262.ecma-international.org/12.0/#prod-ClassBody).
9.  Set the [running execution context](https://262.ecma-international.org/12.0/#running-execution-context)'s LexicalEnvironment to classScope.
10.  If constructor is empty, then
    1.  Let steps be the algorithm steps defined in [Default Constructor Functions](https://262.ecma-international.org/12.0/#sec-default-constructor-functions).
    2.  Let F be ! [CreateBuiltinFunction](https://262.ecma-international.org/12.0/#sec-createbuiltinfunction)(steps, 0, className, « \[\[ConstructorKind\]\], \[\[SourceText\]\] », empty, constructorParent).
11.  Else,
    1.  Let constructorInfo be ! [DefineMethod](https://262.ecma-international.org/12.0/#sec-runtime-semantics-definemethod) of constructor with arguments proto and constructorParent.
    2.  Let F be constructorInfo.\[\[Closure\]\].
    3.  Perform ! [MakeClassConstructor](https://262.ecma-international.org/12.0/#sec-makeclassconstructor)(F).
    4.  Perform ! [SetFunctionName](https://262.ecma-international.org/12.0/#sec-setfunctionname)(F, className).
12.  Perform ! [MakeConstructor](https://262.ecma-international.org/12.0/#sec-makeconstructor)(F, false, proto).
13.  If [ClassHeritage](https://262.ecma-international.org/12.0/#prod-ClassHeritage)opt is present, set F.\[\[ConstructorKind\]\] to derived.
14.  Perform ! [CreateMethodProperty](https://262.ecma-international.org/12.0/#sec-createmethodproperty)(proto, "constructor", F).
15.  If [ClassBody](https://262.ecma-international.org/12.0/#prod-ClassBody)opt is not present, let methods be a new empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).
16.  Else, let methods be [NonConstructorMethodDefinitions](https://262.ecma-international.org/12.0/#sec-static-semantics-nonconstructormethoddefinitions) of [ClassBody](https://262.ecma-international.org/12.0/#prod-ClassBody).
17.  For each [ClassElement](https://262.ecma-international.org/12.0/#prod-ClassElement) m of methods, do
    1.  If [IsStatic](https://262.ecma-international.org/12.0/#sec-static-semantics-isstatic) of m is false, then
        1.  Let status be [PropertyDefinitionEvaluation](https://262.ecma-international.org/12.0/#sec-runtime-semantics-propertydefinitionevaluation) of m with arguments proto and false.
    2.  Else,
        1.  Let status be [PropertyDefinitionEvaluation](https://262.ecma-international.org/12.0/#sec-runtime-semantics-propertydefinitionevaluation) of m with arguments F and false.
    3.  If status is an [abrupt completion](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type), then
        1.  Set the [running execution context](https://262.ecma-international.org/12.0/#running-execution-context)'s LexicalEnvironment to env.
        2.  Return [Completion](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type)(status).
18.  Set the [running execution context](https://262.ecma-international.org/12.0/#running-execution-context)'s LexicalEnvironment to env.
19.  If classBinding is not undefined, then
    1.  Perform classScope.InitializeBinding(classBinding, F).
20.  Return F.

## 15.7.7.1 Default Constructor Functions

When a Default [Constructor](https://262.ecma-international.org/12.0/#constructor) Function is called with zero or more arguments which form the rest parameter ...args, the following steps are taken:

1.  If NewTarget is undefined, throw a TypeError exception.
2.  Let F be the [active function object](https://262.ecma-international.org/12.0/#active-function-object).
3.  If F.\[\[ConstructorKind\]\] is derived, then
    1.  NOTE: This branch behaves similarly to `constructor(...args) { super(...args); }`. The most notable distinction is that while the aforementioned ECMAScript source text observably calls the [@@iterator](https://262.ecma-international.org/12.0/#sec-well-known-symbols) method on `%Array.prototype%`, a Default [Constructor](https://262.ecma-international.org/12.0/#constructor) Function does not.
    2.  Let func be ! F.\[\[GetPrototypeOf\]\]().
    3.  If [IsConstructor](https://262.ecma-international.org/12.0/#sec-isconstructor)(func) is false, throw a TypeError exception.
    4.  Return ? [Construct](https://262.ecma-international.org/12.0/#sec-construct)(func, args, NewTarget).
4.  Else,
    1.  NOTE: This branch behaves similarly to `constructor() {}`.
    2.  Return ? [OrdinaryCreateFromConstructor](https://262.ecma-international.org/12.0/#sec-ordinarycreatefromconstructor)(NewTarget, "%Object.prototype%").

The "length" property of a default [constructor](https://262.ecma-international.org/12.0/#constructor) function is +0𝔽.

## 15.7.8 Runtime Semantics: BindingClassDeclarationEvaluation

[ClassDeclaration](https://262.ecma-international.org/12.0/#prod-ClassDeclaration) : class [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier) [ClassTail](https://262.ecma-international.org/12.0/#prod-ClassTail)

1.  Let className be [StringValue](https://262.ecma-international.org/12.0/#sec-static-semantics-stringvalue) of [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier).
2.  Let value be ? [ClassDefinitionEvaluation](https://262.ecma-international.org/12.0/#sec-runtime-semantics-classdefinitionevaluation) of [ClassTail](https://262.ecma-international.org/12.0/#prod-ClassTail) with arguments className and className.
3.  Set value.\[\[SourceText\]\] to the [source text matched by](https://262.ecma-international.org/12.0/#sec-algorithm-conventions-syntax-directed-operations) [ClassDeclaration](https://262.ecma-international.org/12.0/#prod-ClassDeclaration).
4.  Let env be the [running execution context](https://262.ecma-international.org/12.0/#running-execution-context)'s LexicalEnvironment.
5.  Perform ? [InitializeBoundName](https://262.ecma-international.org/12.0/#sec-initializeboundname)(className, value, env).
6.  Return value.

[ClassDeclaration](https://262.ecma-international.org/12.0/#prod-ClassDeclaration) : class [ClassTail](https://262.ecma-international.org/12.0/#prod-ClassTail)

1.  Let value be ? [ClassDefinitionEvaluation](https://262.ecma-international.org/12.0/#sec-runtime-semantics-classdefinitionevaluation) of [ClassTail](https://262.ecma-international.org/12.0/#prod-ClassTail) with arguments undefined and "default".
2.  Set value.\[\[SourceText\]\] to the [source text matched by](https://262.ecma-international.org/12.0/#sec-algorithm-conventions-syntax-directed-operations) [ClassDeclaration](https://262.ecma-international.org/12.0/#prod-ClassDeclaration).
3.  Return value.

Note

[ClassDeclaration](https://262.ecma-international.org/12.0/#prod-ClassDeclaration) : class [ClassTail](https://262.ecma-international.org/12.0/#prod-ClassTail) only occurs as part of an [ExportDeclaration](https://262.ecma-international.org/12.0/#prod-ExportDeclaration) and establishing its binding is handled as part of the evaluation action for that production. See [16.2.3.7](https://262.ecma-international.org/12.0/#sec-exports-runtime-semantics-evaluation).

## 15.7.9 Runtime Semantics: Evaluation

[ClassDeclaration](https://262.ecma-international.org/12.0/#prod-ClassDeclaration) : class [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier) [ClassTail](https://262.ecma-international.org/12.0/#prod-ClassTail)

1.  Perform ? [BindingClassDeclarationEvaluation](https://262.ecma-international.org/12.0/#sec-runtime-semantics-bindingclassdeclarationevaluation) of this [ClassDeclaration](https://262.ecma-international.org/12.0/#prod-ClassDeclaration).
2.  Return [NormalCompletion](https://262.ecma-international.org/12.0/#sec-normalcompletion)(empty).

Note

[ClassDeclaration](https://262.ecma-international.org/12.0/#prod-ClassDeclaration) : class [ClassTail](https://262.ecma-international.org/12.0/#prod-ClassTail) only occurs as part of an [ExportDeclaration](https://262.ecma-international.org/12.0/#prod-ExportDeclaration) and is never directly evaluated.

[ClassExpression](https://262.ecma-international.org/12.0/#prod-ClassExpression) : class [ClassTail](https://262.ecma-international.org/12.0/#prod-ClassTail)

1.  Let value be ? [ClassDefinitionEvaluation](https://262.ecma-international.org/12.0/#sec-runtime-semantics-classdefinitionevaluation) of [ClassTail](https://262.ecma-international.org/12.0/#prod-ClassTail) with arguments undefined and "".
2.  Set value.\[\[SourceText\]\] to the [source text matched by](https://262.ecma-international.org/12.0/#sec-algorithm-conventions-syntax-directed-operations) [ClassExpression](https://262.ecma-international.org/12.0/#prod-ClassExpression).
3.  Return value.

[ClassExpression](https://262.ecma-international.org/12.0/#prod-ClassExpression) : class [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier) [ClassTail](https://262.ecma-international.org/12.0/#prod-ClassTail)

1.  Let className be [StringValue](https://262.ecma-international.org/12.0/#sec-static-semantics-stringvalue) of [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier).
2.  Let value be ? [ClassDefinitionEvaluation](https://262.ecma-international.org/12.0/#sec-runtime-semantics-classdefinitionevaluation) of [ClassTail](https://262.ecma-international.org/12.0/#prod-ClassTail) with arguments className and className.
3.  Set value.\[\[SourceText\]\] to the [source text matched by](https://262.ecma-international.org/12.0/#sec-algorithm-conventions-syntax-directed-operations) [ClassExpression](https://262.ecma-international.org/12.0/#prod-ClassExpression).
4.  Return value.

## 15.8 Async Function Definitions

## Syntax

[AsyncFunctionDeclaration](https://262.ecma-international.org/12.0/#prod-AsyncFunctionDeclaration)\[Yield, Await, Default\] : async \[no [LineTerminator](https://262.ecma-international.org/12.0/#prod-LineTerminator) here\] function [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier)\[?Yield, ?Await\] ( [FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters)\[~Yield, +Await\] ) { [AsyncFunctionBody](https://262.ecma-international.org/12.0/#prod-AsyncFunctionBody) } \[+Default\] async \[no [LineTerminator](https://262.ecma-international.org/12.0/#prod-LineTerminator) here\] function ( [FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters)\[~Yield, +Await\] ) { [AsyncFunctionBody](https://262.ecma-international.org/12.0/#prod-AsyncFunctionBody) } [AsyncFunctionExpression](https://262.ecma-international.org/12.0/#prod-AsyncFunctionExpression) : async \[no [LineTerminator](https://262.ecma-international.org/12.0/#prod-LineTerminator) here\] function [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier)\[~Yield, +Await\]opt ( [FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters)\[~Yield, +Await\] ) { [AsyncFunctionBody](https://262.ecma-international.org/12.0/#prod-AsyncFunctionBody) } [AsyncMethod](https://262.ecma-international.org/12.0/#prod-AsyncMethod)\[Yield, Await\] : async \[no [LineTerminator](https://262.ecma-international.org/12.0/#prod-LineTerminator) here\] [PropertyName](https://262.ecma-international.org/12.0/#prod-PropertyName)\[?Yield, ?Await\] ( [UniqueFormalParameters](https://262.ecma-international.org/12.0/#prod-UniqueFormalParameters)\[~Yield, +Await\] ) { [AsyncFunctionBody](https://262.ecma-international.org/12.0/#prod-AsyncFunctionBody) } [AsyncFunctionBody](https://262.ecma-international.org/12.0/#prod-AsyncFunctionBody) : [FunctionBody](https://262.ecma-international.org/12.0/#prod-FunctionBody)\[~Yield, +Await\] [AwaitExpression](https://262.ecma-international.org/12.0/#prod-AwaitExpression)\[Yield\] : await [UnaryExpression](https://262.ecma-international.org/12.0/#prod-UnaryExpression)\[?Yield, +Await\] Note 1

`await` is parsed as an [AwaitExpression](https://262.ecma-international.org/12.0/#prod-AwaitExpression) when the \[Await\] parameter is present. The \[Await\] parameter is present in the following contexts:

-   In an [AsyncFunctionBody](https://262.ecma-international.org/12.0/#prod-AsyncFunctionBody).
-   In the [FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters) of an [AsyncFunctionDeclaration](https://262.ecma-international.org/12.0/#prod-AsyncFunctionDeclaration), [AsyncFunctionExpression](https://262.ecma-international.org/12.0/#prod-AsyncFunctionExpression), [AsyncGeneratorDeclaration](https://262.ecma-international.org/12.0/#prod-AsyncGeneratorDeclaration), or [AsyncGeneratorExpression](https://262.ecma-international.org/12.0/#prod-AsyncGeneratorExpression). [AwaitExpression](https://262.ecma-international.org/12.0/#prod-AwaitExpression) in this position is a Syntax error via [static semantics](https://262.ecma-international.org/12.0/#sec-static-semantic-rules).

When [Module](https://262.ecma-international.org/12.0/#prod-Module) is the syntactic [goal symbol](https://262.ecma-international.org/12.0/#sec-context-free-grammars) and the \[Await\] parameter is absent, `await` is parsed as a [keyword](https://262.ecma-international.org/12.0/#sec-keywords-and-reserved-words) and will be a Syntax error. When [Script](https://262.ecma-international.org/12.0/#prod-Script) is the syntactic [goal symbol](https://262.ecma-international.org/12.0/#sec-context-free-grammars), `await` may be parsed as an identifier when the \[Await\] parameter is absent. This includes the following contexts:

-   Anywhere outside of an [AsyncFunctionBody](https://262.ecma-international.org/12.0/#prod-AsyncFunctionBody) or [FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters) of an [AsyncFunctionDeclaration](https://262.ecma-international.org/12.0/#prod-AsyncFunctionDeclaration), [AsyncFunctionExpression](https://262.ecma-international.org/12.0/#prod-AsyncFunctionExpression), [AsyncGeneratorDeclaration](https://262.ecma-international.org/12.0/#prod-AsyncGeneratorDeclaration), or [AsyncGeneratorExpression](https://262.ecma-international.org/12.0/#prod-AsyncGeneratorExpression).
-   In the [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier) of a [FunctionExpression](https://262.ecma-international.org/12.0/#prod-FunctionExpression), [GeneratorExpression](https://262.ecma-international.org/12.0/#prod-GeneratorExpression), or [AsyncGeneratorExpression](https://262.ecma-international.org/12.0/#prod-AsyncGeneratorExpression).

Note 2

Unlike [YieldExpression](https://262.ecma-international.org/12.0/#prod-YieldExpression), it is a Syntax Error to omit the operand of an [AwaitExpression](https://262.ecma-international.org/12.0/#prod-AwaitExpression). You must await something.

## 15.8.1 Static Semantics: Early Errors

[AsyncMethod](https://262.ecma-international.org/12.0/#prod-AsyncMethod) : async [PropertyName](https://262.ecma-international.org/12.0/#prod-PropertyName) ( [UniqueFormalParameters](https://262.ecma-international.org/12.0/#prod-UniqueFormalParameters) ) { [AsyncFunctionBody](https://262.ecma-international.org/12.0/#prod-AsyncFunctionBody) }

-   It is a Syntax Error if [FunctionBodyContainsUseStrict](https://262.ecma-international.org/12.0/#sec-static-semantics-functionbodycontainsusestrict) of [AsyncFunctionBody](https://262.ecma-international.org/12.0/#prod-AsyncFunctionBody) is true and [IsSimpleParameterList](https://262.ecma-international.org/12.0/#sec-static-semantics-issimpleparameterlist) of [UniqueFormalParameters](https://262.ecma-international.org/12.0/#prod-UniqueFormalParameters) is false.
-   It is a Syntax Error if [HasDirectSuper](https://262.ecma-international.org/12.0/#sec-static-semantics-hasdirectsuper) of [AsyncMethod](https://262.ecma-international.org/12.0/#prod-AsyncMethod) is true.
-   It is a Syntax Error if [UniqueFormalParameters](https://262.ecma-international.org/12.0/#prod-UniqueFormalParameters) [Contains](https://262.ecma-international.org/12.0/#sec-static-semantics-contains) [AwaitExpression](https://262.ecma-international.org/12.0/#prod-AwaitExpression) is true.
-   It is a Syntax Error if any element of the [BoundNames](https://262.ecma-international.org/12.0/#sec-static-semantics-boundnames) of [UniqueFormalParameters](https://262.ecma-international.org/12.0/#prod-UniqueFormalParameters) also occurs in the [LexicallyDeclaredNames](https://262.ecma-international.org/12.0/#sec-static-semantics-lexicallydeclarednames) of [AsyncFunctionBody](https://262.ecma-international.org/12.0/#prod-AsyncFunctionBody).

[AsyncFunctionDeclaration](https://262.ecma-international.org/12.0/#prod-AsyncFunctionDeclaration) : async function [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier) ( [FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters) ) { [AsyncFunctionBody](https://262.ecma-international.org/12.0/#prod-AsyncFunctionBody) } async function ( [FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters) ) { [AsyncFunctionBody](https://262.ecma-international.org/12.0/#prod-AsyncFunctionBody) } [AsyncFunctionExpression](https://262.ecma-international.org/12.0/#prod-AsyncFunctionExpression) : async function [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier)opt ( [FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters) ) { [AsyncFunctionBody](https://262.ecma-international.org/12.0/#prod-AsyncFunctionBody) }

-   It is a Syntax Error if [FunctionBodyContainsUseStrict](https://262.ecma-international.org/12.0/#sec-static-semantics-functionbodycontainsusestrict) of [AsyncFunctionBody](https://262.ecma-international.org/12.0/#prod-AsyncFunctionBody) is true and [IsSimpleParameterList](https://262.ecma-international.org/12.0/#sec-static-semantics-issimpleparameterlist) of [FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters) is false.
-   It is a Syntax Error if [FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters) [Contains](https://262.ecma-international.org/12.0/#sec-static-semantics-contains) [AwaitExpression](https://262.ecma-international.org/12.0/#prod-AwaitExpression) is true.
-   If the source code matching [FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters) is [strict mode code](https://262.ecma-international.org/12.0/#sec-strict-mode-code), the Early Error rules for [UniqueFormalParameters](https://262.ecma-international.org/12.0/#prod-UniqueFormalParameters) : [FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters) are applied.
-   If [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier) is present and the source code matching [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier) is [strict mode code](https://262.ecma-international.org/12.0/#sec-strict-mode-code), it is a Syntax Error if the [StringValue](https://262.ecma-international.org/12.0/#sec-static-semantics-stringvalue) of [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier) is "eval" or "arguments".
-   It is a Syntax Error if any element of the [BoundNames](https://262.ecma-international.org/12.0/#sec-static-semantics-boundnames) of [FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters) also occurs in the [LexicallyDeclaredNames](https://262.ecma-international.org/12.0/#sec-static-semantics-lexicallydeclarednames) of [AsyncFunctionBody](https://262.ecma-international.org/12.0/#prod-AsyncFunctionBody).
-   It is a Syntax Error if [FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters) [Contains](https://262.ecma-international.org/12.0/#sec-static-semantics-contains) [SuperProperty](https://262.ecma-international.org/12.0/#prod-SuperProperty) is true.
-   It is a Syntax Error if [AsyncFunctionBody](https://262.ecma-international.org/12.0/#prod-AsyncFunctionBody) [Contains](https://262.ecma-international.org/12.0/#sec-static-semantics-contains) [SuperProperty](https://262.ecma-international.org/12.0/#prod-SuperProperty) is true.
-   It is a Syntax Error if [FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters) [Contains](https://262.ecma-international.org/12.0/#sec-static-semantics-contains) [SuperCall](https://262.ecma-international.org/12.0/#prod-SuperCall) is true.
-   It is a Syntax Error if [AsyncFunctionBody](https://262.ecma-international.org/12.0/#prod-AsyncFunctionBody) [Contains](https://262.ecma-international.org/12.0/#sec-static-semantics-contains) [SuperCall](https://262.ecma-international.org/12.0/#prod-SuperCall) is true.

## 15.8.2 Runtime Semantics: InstantiateAsyncFunctionObject

With parameter scope.

[AsyncFunctionDeclaration](https://262.ecma-international.org/12.0/#prod-AsyncFunctionDeclaration) : async function [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier) ( [FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters) ) { [AsyncFunctionBody](https://262.ecma-international.org/12.0/#prod-AsyncFunctionBody) }

1.  Let name be [StringValue](https://262.ecma-international.org/12.0/#sec-static-semantics-stringvalue) of [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier).
2.  Let sourceText be the [source text matched by](https://262.ecma-international.org/12.0/#sec-algorithm-conventions-syntax-directed-operations) [AsyncFunctionDeclaration](https://262.ecma-international.org/12.0/#prod-AsyncFunctionDeclaration).
3.  Let F be ! [OrdinaryFunctionCreate](https://262.ecma-international.org/12.0/#sec-ordinaryfunctioncreate)([%AsyncFunction.prototype%](https://262.ecma-international.org/12.0/#sec-async-function-prototype-properties), sourceText, [FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters), [AsyncFunctionBody](https://262.ecma-international.org/12.0/#prod-AsyncFunctionBody), non-lexical-this, scope).
4.  Perform ! [SetFunctionName](https://262.ecma-international.org/12.0/#sec-setfunctionname)(F, name).
5.  Return F.

[AsyncFunctionDeclaration](https://262.ecma-international.org/12.0/#prod-AsyncFunctionDeclaration) : async function ( [FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters) ) { [AsyncFunctionBody](https://262.ecma-international.org/12.0/#prod-AsyncFunctionBody) }

1.  Let sourceText be the [source text matched by](https://262.ecma-international.org/12.0/#sec-algorithm-conventions-syntax-directed-operations) [AsyncFunctionDeclaration](https://262.ecma-international.org/12.0/#prod-AsyncFunctionDeclaration).
2.  Let F be ! [OrdinaryFunctionCreate](https://262.ecma-international.org/12.0/#sec-ordinaryfunctioncreate)([%AsyncFunction.prototype%](https://262.ecma-international.org/12.0/#sec-async-function-prototype-properties), sourceText, [FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters), [AsyncFunctionBody](https://262.ecma-international.org/12.0/#prod-AsyncFunctionBody), non-lexical-this, scope).
3.  Perform ! [SetFunctionName](https://262.ecma-international.org/12.0/#sec-setfunctionname)(F, "default").
4.  Return F.

## 15.8.3 Runtime Semantics: InstantiateAsyncFunctionExpression

With optional parameter name.

[AsyncFunctionExpression](https://262.ecma-international.org/12.0/#prod-AsyncFunctionExpression) : async function ( [FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters) ) { [AsyncFunctionBody](https://262.ecma-international.org/12.0/#prod-AsyncFunctionBody) }

1.  If name is not present, set name to "".
2.  Let scope be the LexicalEnvironment of the [running execution context](https://262.ecma-international.org/12.0/#running-execution-context).
3.  Let sourceText be the [source text matched by](https://262.ecma-international.org/12.0/#sec-algorithm-conventions-syntax-directed-operations) [AsyncFunctionExpression](https://262.ecma-international.org/12.0/#prod-AsyncFunctionExpression).
4.  Let closure be ! [OrdinaryFunctionCreate](https://262.ecma-international.org/12.0/#sec-ordinaryfunctioncreate)([%AsyncFunction.prototype%](https://262.ecma-international.org/12.0/#sec-async-function-prototype-properties), sourceText, [FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters), [AsyncFunctionBody](https://262.ecma-international.org/12.0/#prod-AsyncFunctionBody), non-lexical-this, scope).
5.  Perform [SetFunctionName](https://262.ecma-international.org/12.0/#sec-setfunctionname)(closure, name).
6.  Return closure.

[AsyncFunctionExpression](https://262.ecma-international.org/12.0/#prod-AsyncFunctionExpression) : async function [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier) ( [FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters) ) { [AsyncFunctionBody](https://262.ecma-international.org/12.0/#prod-AsyncFunctionBody) }

1.  [Assert](https://262.ecma-international.org/12.0/#assert): name is not present.
2.  Set name to [StringValue](https://262.ecma-international.org/12.0/#sec-static-semantics-stringvalue) of [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier).
3.  Let scope be the LexicalEnvironment of the [running execution context](https://262.ecma-international.org/12.0/#running-execution-context).
4.  Let funcEnv be ! [NewDeclarativeEnvironment](https://262.ecma-international.org/12.0/#sec-newdeclarativeenvironment)(scope).
5.  Perform ! funcEnv.CreateImmutableBinding(name, false).
6.  Let sourceText be the [source text matched by](https://262.ecma-international.org/12.0/#sec-algorithm-conventions-syntax-directed-operations) [AsyncFunctionExpression](https://262.ecma-international.org/12.0/#prod-AsyncFunctionExpression).
7.  Let closure be ! [OrdinaryFunctionCreate](https://262.ecma-international.org/12.0/#sec-ordinaryfunctioncreate)([%AsyncFunction.prototype%](https://262.ecma-international.org/12.0/#sec-async-function-prototype-properties), sourceText, [FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters), [AsyncFunctionBody](https://262.ecma-international.org/12.0/#prod-AsyncFunctionBody), non-lexical-this, funcEnv).
8.  Perform ! [SetFunctionName](https://262.ecma-international.org/12.0/#sec-setfunctionname)(closure, name).
9.  Perform ! funcEnv.InitializeBinding(name, closure).
10.  Return closure.

Note

The [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier) in an [AsyncFunctionExpression](https://262.ecma-international.org/12.0/#prod-AsyncFunctionExpression) can be referenced from inside the [AsyncFunctionExpression](https://262.ecma-international.org/12.0/#prod-AsyncFunctionExpression)'s [AsyncFunctionBody](https://262.ecma-international.org/12.0/#prod-AsyncFunctionBody) to allow the function to call itself recursively. However, unlike in a [FunctionDeclaration](https://262.ecma-international.org/12.0/#prod-FunctionDeclaration), the [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier) in a [AsyncFunctionExpression](https://262.ecma-international.org/12.0/#prod-AsyncFunctionExpression) cannot be referenced from and does not affect the scope enclosing the [AsyncFunctionExpression](https://262.ecma-international.org/12.0/#prod-AsyncFunctionExpression).

## 15.8.4 Runtime Semantics: EvaluateAsyncFunctionBody

With parameters functionObject and argumentsList (a [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type)).

[AsyncFunctionBody](https://262.ecma-international.org/12.0/#prod-AsyncFunctionBody) : [FunctionBody](https://262.ecma-international.org/12.0/#prod-FunctionBody)

1.  Let promiseCapability be ! [NewPromiseCapability](https://262.ecma-international.org/12.0/#sec-newpromisecapability)([%Promise%](https://262.ecma-international.org/12.0/#sec-promise-constructor)).
2.  Let declResult be [FunctionDeclarationInstantiation](https://262.ecma-international.org/12.0/#sec-functiondeclarationinstantiation)(functionObject, argumentsList).
3.  If declResult is not an [abrupt completion](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type), then
    1.  Perform ! [AsyncFunctionStart](https://262.ecma-international.org/12.0/#sec-async-functions-abstract-operations-async-function-start)(promiseCapability, [FunctionBody](https://262.ecma-international.org/12.0/#prod-FunctionBody)).
4.  Else,
    1.  Perform ! [Call](https://262.ecma-international.org/12.0/#sec-call)(promiseCapability.\[\[Reject\]\], undefined, « declResult.\[\[Value\]\] »).
5.  Return [Completion](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type) { \[\[Type\]\]: return, \[\[Value\]\]: promiseCapability.\[\[Promise\]\], \[\[Target\]\]: empty }.

## 15.8.5 Runtime Semantics: Evaluation

[AsyncFunctionDeclaration](https://262.ecma-international.org/12.0/#prod-AsyncFunctionDeclaration) : async function [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier) ( [FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters) ) { [AsyncFunctionBody](https://262.ecma-international.org/12.0/#prod-AsyncFunctionBody) }

1.  Return [NormalCompletion](https://262.ecma-international.org/12.0/#sec-normalcompletion)(empty).

[AsyncFunctionDeclaration](https://262.ecma-international.org/12.0/#prod-AsyncFunctionDeclaration) : async function ( [FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters) ) { [AsyncFunctionBody](https://262.ecma-international.org/12.0/#prod-AsyncFunctionBody) }

1.  Return [NormalCompletion](https://262.ecma-international.org/12.0/#sec-normalcompletion)(empty).

[AsyncFunctionExpression](https://262.ecma-international.org/12.0/#prod-AsyncFunctionExpression) : async function [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier)opt ( [FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters) ) { [AsyncFunctionBody](https://262.ecma-international.org/12.0/#prod-AsyncFunctionBody) }

1.  Return [InstantiateAsyncFunctionExpression](https://262.ecma-international.org/12.0/#sec-runtime-semantics-instantiateasyncfunctionexpression) of [AsyncFunctionExpression](https://262.ecma-international.org/12.0/#prod-AsyncFunctionExpression).

[AwaitExpression](https://262.ecma-international.org/12.0/#prod-AwaitExpression) : await [UnaryExpression](https://262.ecma-international.org/12.0/#prod-UnaryExpression)

1.  Let exprRef be the result of evaluating [UnaryExpression](https://262.ecma-international.org/12.0/#prod-UnaryExpression).
2.  Let value be ? [GetValue](https://262.ecma-international.org/12.0/#sec-getvalue)(exprRef).
3.  Return ? [Await](https://262.ecma-international.org/12.0/#await)(value).

## 15.9 Async Arrow Function Definitions

## Syntax

[AsyncArrowFunction](https://262.ecma-international.org/12.0/#prod-AsyncArrowFunction)\[In, Yield, Await\] : async \[no [LineTerminator](https://262.ecma-international.org/12.0/#prod-LineTerminator) here\] [AsyncArrowBindingIdentifier](https://262.ecma-international.org/12.0/#prod-AsyncArrowBindingIdentifier)\[?Yield\] \[no [LineTerminator](https://262.ecma-international.org/12.0/#prod-LineTerminator) here\] \=> [AsyncConciseBody](https://262.ecma-international.org/12.0/#prod-AsyncConciseBody)\[?In\] [CoverCallExpressionAndAsyncArrowHead](https://262.ecma-international.org/12.0/#prod-CoverCallExpressionAndAsyncArrowHead)\[?Yield, ?Await\] \[no [LineTerminator](https://262.ecma-international.org/12.0/#prod-LineTerminator) here\] \=> [AsyncConciseBody](https://262.ecma-international.org/12.0/#prod-AsyncConciseBody)\[?In\] [AsyncConciseBody](https://262.ecma-international.org/12.0/#prod-AsyncConciseBody)\[In\] : \[lookahead ≠ {\] [ExpressionBody](https://262.ecma-international.org/12.0/#prod-ExpressionBody)\[?In, +Await\] { [AsyncFunctionBody](https://262.ecma-international.org/12.0/#prod-AsyncFunctionBody) } [AsyncArrowBindingIdentifier](https://262.ecma-international.org/12.0/#prod-AsyncArrowBindingIdentifier)\[Yield\] : [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier)\[?Yield, +Await\] [CoverCallExpressionAndAsyncArrowHead](https://262.ecma-international.org/12.0/#prod-CoverCallExpressionAndAsyncArrowHead)\[Yield, Await\] : [MemberExpression](https://262.ecma-international.org/12.0/#prod-MemberExpression)\[?Yield, ?Await\] [Arguments](https://262.ecma-international.org/12.0/#prod-Arguments)\[?Yield, ?Await\]

## Supplemental Syntax

When processing an instance of the production  
[AsyncArrowFunction](https://262.ecma-international.org/12.0/#prod-AsyncArrowFunction) : [CoverCallExpressionAndAsyncArrowHead](https://262.ecma-international.org/12.0/#prod-CoverCallExpressionAndAsyncArrowHead) \=> [AsyncConciseBody](https://262.ecma-international.org/12.0/#prod-AsyncConciseBody)  
the interpretation of [CoverCallExpressionAndAsyncArrowHead](https://262.ecma-international.org/12.0/#prod-CoverCallExpressionAndAsyncArrowHead) is refined using the following grammar:

[AsyncArrowHead](https://262.ecma-international.org/12.0/#prod-AsyncArrowHead) : async \[no [LineTerminator](https://262.ecma-international.org/12.0/#prod-LineTerminator) here\] [ArrowFormalParameters](https://262.ecma-international.org/12.0/#prod-ArrowFormalParameters)\[~Yield, +Await\]

## 15.9.1 Static Semantics: Early Errors

[AsyncArrowFunction](https://262.ecma-international.org/12.0/#prod-AsyncArrowFunction) : async [AsyncArrowBindingIdentifier](https://262.ecma-international.org/12.0/#prod-AsyncArrowBindingIdentifier) \=> [AsyncConciseBody](https://262.ecma-international.org/12.0/#prod-AsyncConciseBody)

-   It is a Syntax Error if any element of the [BoundNames](https://262.ecma-international.org/12.0/#sec-static-semantics-boundnames) of [AsyncArrowBindingIdentifier](https://262.ecma-international.org/12.0/#prod-AsyncArrowBindingIdentifier) also occurs in the [LexicallyDeclaredNames](https://262.ecma-international.org/12.0/#sec-static-semantics-lexicallydeclarednames) of [AsyncConciseBody](https://262.ecma-international.org/12.0/#prod-AsyncConciseBody).

[AsyncArrowFunction](https://262.ecma-international.org/12.0/#prod-AsyncArrowFunction) : [CoverCallExpressionAndAsyncArrowHead](https://262.ecma-international.org/12.0/#prod-CoverCallExpressionAndAsyncArrowHead) \=> [AsyncConciseBody](https://262.ecma-international.org/12.0/#prod-AsyncConciseBody)

-   It is a Syntax Error if [CoverCallExpressionAndAsyncArrowHead](https://262.ecma-international.org/12.0/#prod-CoverCallExpressionAndAsyncArrowHead) [Contains](https://262.ecma-international.org/12.0/#sec-static-semantics-contains) [YieldExpression](https://262.ecma-international.org/12.0/#prod-YieldExpression) is true.
-   It is a Syntax Error if [CoverCallExpressionAndAsyncArrowHead](https://262.ecma-international.org/12.0/#prod-CoverCallExpressionAndAsyncArrowHead) [Contains](https://262.ecma-international.org/12.0/#sec-static-semantics-contains) [AwaitExpression](https://262.ecma-international.org/12.0/#prod-AwaitExpression) is true.
-   It is a Syntax Error if [CoverCallExpressionAndAsyncArrowHead](https://262.ecma-international.org/12.0/#prod-CoverCallExpressionAndAsyncArrowHead) is not [covering](https://262.ecma-international.org/12.0/#sec-syntactic-grammar) an [AsyncArrowHead](https://262.ecma-international.org/12.0/#prod-AsyncArrowHead).
-   It is a Syntax Error if any element of the [BoundNames](https://262.ecma-international.org/12.0/#sec-static-semantics-boundnames) of [CoverCallExpressionAndAsyncArrowHead](https://262.ecma-international.org/12.0/#prod-CoverCallExpressionAndAsyncArrowHead) also occurs in the [LexicallyDeclaredNames](https://262.ecma-international.org/12.0/#sec-static-semantics-lexicallydeclarednames) of [AsyncConciseBody](https://262.ecma-international.org/12.0/#prod-AsyncConciseBody).
-   It is a Syntax Error if [AsyncConciseBodyContainsUseStrict](https://262.ecma-international.org/12.0/#sec-static-semantics-asyncconcisebodycontainsusestrict) of [AsyncConciseBody](https://262.ecma-international.org/12.0/#prod-AsyncConciseBody) is true and [IsSimpleParameterList](https://262.ecma-international.org/12.0/#sec-static-semantics-issimpleparameterlist) of [CoverCallExpressionAndAsyncArrowHead](https://262.ecma-international.org/12.0/#prod-CoverCallExpressionAndAsyncArrowHead) is false.
-   All Early Error rules for [AsyncArrowHead](https://262.ecma-international.org/12.0/#prod-AsyncArrowHead) and its derived productions apply to [CoveredAsyncArrowHead](https://262.ecma-international.org/12.0/#sec-async-arrow-function-definitions-static-semantics-CoveredAsyncArrowHead) of [CoverCallExpressionAndAsyncArrowHead](https://262.ecma-international.org/12.0/#prod-CoverCallExpressionAndAsyncArrowHead).

## 15.9.2 Static Semantics: CoveredAsyncArrowHead

[CoverCallExpressionAndAsyncArrowHead](https://262.ecma-international.org/12.0/#prod-CoverCallExpressionAndAsyncArrowHead) : [MemberExpression](https://262.ecma-international.org/12.0/#prod-MemberExpression) [Arguments](https://262.ecma-international.org/12.0/#prod-Arguments)

1.  Return the [AsyncArrowHead](https://262.ecma-international.org/12.0/#prod-AsyncArrowHead) that is [covered](https://262.ecma-international.org/12.0/#sec-syntactic-grammar) by [CoverCallExpressionAndAsyncArrowHead](https://262.ecma-international.org/12.0/#prod-CoverCallExpressionAndAsyncArrowHead).

## 15.9.3 Static Semantics: AsyncConciseBodyContainsUseStrict

[AsyncConciseBody](https://262.ecma-international.org/12.0/#prod-AsyncConciseBody) : [ExpressionBody](https://262.ecma-international.org/12.0/#prod-ExpressionBody)

1.  Return false.

[AsyncConciseBody](https://262.ecma-international.org/12.0/#prod-AsyncConciseBody) : { [AsyncFunctionBody](https://262.ecma-international.org/12.0/#prod-AsyncFunctionBody) }

1.  Return [FunctionBodyContainsUseStrict](https://262.ecma-international.org/12.0/#sec-static-semantics-functionbodycontainsusestrict) of [AsyncFunctionBody](https://262.ecma-international.org/12.0/#prod-AsyncFunctionBody).

## 15.9.4 Runtime Semantics: EvaluateAsyncConciseBody

With parameters functionObject and argumentsList (a [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type)).

[AsyncConciseBody](https://262.ecma-international.org/12.0/#prod-AsyncConciseBody) : [ExpressionBody](https://262.ecma-international.org/12.0/#prod-ExpressionBody)

1.  Let promiseCapability be ! [NewPromiseCapability](https://262.ecma-international.org/12.0/#sec-newpromisecapability)([%Promise%](https://262.ecma-international.org/12.0/#sec-promise-constructor)).
2.  Let declResult be [FunctionDeclarationInstantiation](https://262.ecma-international.org/12.0/#sec-functiondeclarationinstantiation)(functionObject, argumentsList).
3.  If declResult is not an [abrupt completion](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type), then
    1.  Perform ! [AsyncFunctionStart](https://262.ecma-international.org/12.0/#sec-async-functions-abstract-operations-async-function-start)(promiseCapability, [ExpressionBody](https://262.ecma-international.org/12.0/#prod-ExpressionBody)).
4.  Else,
    1.  Perform ! [Call](https://262.ecma-international.org/12.0/#sec-call)(promiseCapability.\[\[Reject\]\], undefined, « declResult.\[\[Value\]\] »).
5.  Return [Completion](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type) { \[\[Type\]\]: return, \[\[Value\]\]: promiseCapability.\[\[Promise\]\], \[\[Target\]\]: empty }.

## 15.9.5 Runtime Semantics: InstantiateAsyncArrowFunctionExpression

With optional parameter name.

[AsyncArrowFunction](https://262.ecma-international.org/12.0/#prod-AsyncArrowFunction) : async [AsyncArrowBindingIdentifier](https://262.ecma-international.org/12.0/#prod-AsyncArrowBindingIdentifier) \=> [AsyncConciseBody](https://262.ecma-international.org/12.0/#prod-AsyncConciseBody)

1.  If name is not present, set name to "".
2.  Let scope be the LexicalEnvironment of the [running execution context](https://262.ecma-international.org/12.0/#running-execution-context).
3.  Let sourceText be the [source text matched by](https://262.ecma-international.org/12.0/#sec-algorithm-conventions-syntax-directed-operations) [AsyncArrowFunction](https://262.ecma-international.org/12.0/#prod-AsyncArrowFunction).
4.  Let parameters be [AsyncArrowBindingIdentifier](https://262.ecma-international.org/12.0/#prod-AsyncArrowBindingIdentifier).
5.  Let closure be ! [OrdinaryFunctionCreate](https://262.ecma-international.org/12.0/#sec-ordinaryfunctioncreate)([%AsyncFunction.prototype%](https://262.ecma-international.org/12.0/#sec-async-function-prototype-properties), sourceText, parameters, [AsyncConciseBody](https://262.ecma-international.org/12.0/#prod-AsyncConciseBody), lexical-this, scope).
6.  Perform [SetFunctionName](https://262.ecma-international.org/12.0/#sec-setfunctionname)(closure, name).
7.  Return closure.

[AsyncArrowFunction](https://262.ecma-international.org/12.0/#prod-AsyncArrowFunction) : [CoverCallExpressionAndAsyncArrowHead](https://262.ecma-international.org/12.0/#prod-CoverCallExpressionAndAsyncArrowHead) \=> [AsyncConciseBody](https://262.ecma-international.org/12.0/#prod-AsyncConciseBody)

1.  If name is not present, set name to "".
2.  Let scope be the LexicalEnvironment of the [running execution context](https://262.ecma-international.org/12.0/#running-execution-context).
3.  Let sourceText be the [source text matched by](https://262.ecma-international.org/12.0/#sec-algorithm-conventions-syntax-directed-operations) [AsyncArrowFunction](https://262.ecma-international.org/12.0/#prod-AsyncArrowFunction).
4.  Let head be [CoveredAsyncArrowHead](https://262.ecma-international.org/12.0/#sec-async-arrow-function-definitions-static-semantics-CoveredAsyncArrowHead) of [CoverCallExpressionAndAsyncArrowHead](https://262.ecma-international.org/12.0/#prod-CoverCallExpressionAndAsyncArrowHead).
5.  Let parameters be the [ArrowFormalParameters](https://262.ecma-international.org/12.0/#prod-ArrowFormalParameters) of head.
6.  Let closure be ! [OrdinaryFunctionCreate](https://262.ecma-international.org/12.0/#sec-ordinaryfunctioncreate)([%AsyncFunction.prototype%](https://262.ecma-international.org/12.0/#sec-async-function-prototype-properties), sourceText, parameters, [AsyncConciseBody](https://262.ecma-international.org/12.0/#prod-AsyncConciseBody), lexical-this, scope).
7.  Perform [SetFunctionName](https://262.ecma-international.org/12.0/#sec-setfunctionname)(closure, name).
8.  Return closure.

## 15.9.6 Runtime Semantics: Evaluation

[AsyncArrowFunction](https://262.ecma-international.org/12.0/#prod-AsyncArrowFunction) : async [AsyncArrowBindingIdentifier](https://262.ecma-international.org/12.0/#prod-AsyncArrowBindingIdentifier) \=> [AsyncConciseBody](https://262.ecma-international.org/12.0/#prod-AsyncConciseBody) [CoverCallExpressionAndAsyncArrowHead](https://262.ecma-international.org/12.0/#prod-CoverCallExpressionAndAsyncArrowHead) \=> [AsyncConciseBody](https://262.ecma-international.org/12.0/#prod-AsyncConciseBody)

1.  Return [InstantiateAsyncArrowFunctionExpression](https://262.ecma-international.org/12.0/#sec-runtime-semantics-instantiateasyncarrowfunctionexpression) of [AsyncArrowFunction](https://262.ecma-international.org/12.0/#prod-AsyncArrowFunction).

## 15.10 Tail Position Calls

## 15.10.1 Static Semantics: IsInTailPosition ( call )

The abstract operation IsInTailPosition takes argument call. It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): call is a [Parse Node](https://262.ecma-international.org/12.0/#sec-syntactic-grammar).
2.  If the source code matching call is [non-strict code](https://262.ecma-international.org/12.0/#non-strict-code), return false.
3.  If call is not contained within a [FunctionBody](https://262.ecma-international.org/12.0/#prod-FunctionBody), [ConciseBody](https://262.ecma-international.org/12.0/#prod-ConciseBody), or [AsyncConciseBody](https://262.ecma-international.org/12.0/#prod-AsyncConciseBody), return false.
4.  Let body be the [FunctionBody](https://262.ecma-international.org/12.0/#prod-FunctionBody), [ConciseBody](https://262.ecma-international.org/12.0/#prod-ConciseBody), or [AsyncConciseBody](https://262.ecma-international.org/12.0/#prod-AsyncConciseBody) that most closely contains call.
5.  If body is the [FunctionBody](https://262.ecma-international.org/12.0/#prod-FunctionBody) of a [GeneratorBody](https://262.ecma-international.org/12.0/#prod-GeneratorBody), return false.
6.  If body is the [FunctionBody](https://262.ecma-international.org/12.0/#prod-FunctionBody) of an [AsyncFunctionBody](https://262.ecma-international.org/12.0/#prod-AsyncFunctionBody), return false.
7.  If body is the [FunctionBody](https://262.ecma-international.org/12.0/#prod-FunctionBody) of an [AsyncGeneratorBody](https://262.ecma-international.org/12.0/#prod-AsyncGeneratorBody), return false.
8.  If body is an [AsyncConciseBody](https://262.ecma-international.org/12.0/#prod-AsyncConciseBody), return false.
9.  Return the result of [HasCallInTailPosition](https://262.ecma-international.org/12.0/#sec-static-semantics-hascallintailposition) of body with argument call.

Note

Tail Position calls are only defined in [strict mode code](https://262.ecma-international.org/12.0/#sec-strict-mode-code) because of a common non-standard language extension (see [10.2.4](https://262.ecma-international.org/12.0/#sec-addrestrictedfunctionproperties)) that enables observation of the chain of caller contexts.

## 15.10.2 Static Semantics: HasCallInTailPosition

With parameter call.

Note

call is a [Parse Node](https://262.ecma-international.org/12.0/#sec-syntactic-grammar) that represents a specific range of source text. When the following algorithms compare call to another [Parse Node](https://262.ecma-international.org/12.0/#sec-syntactic-grammar), it is a test of whether they represent the same source text.

## 15.10.2.1 Statement Rules

[StatementList](https://262.ecma-international.org/12.0/#prod-StatementList) : [StatementList](https://262.ecma-international.org/12.0/#prod-StatementList) [StatementListItem](https://262.ecma-international.org/12.0/#prod-StatementListItem)

1.  Let has be [HasCallInTailPosition](https://262.ecma-international.org/12.0/#sec-static-semantics-hascallintailposition) of [StatementList](https://262.ecma-international.org/12.0/#prod-StatementList) with argument call.
2.  If has is true, return true.
3.  Return [HasCallInTailPosition](https://262.ecma-international.org/12.0/#sec-static-semantics-hascallintailposition) of [StatementListItem](https://262.ecma-international.org/12.0/#prod-StatementListItem) with argument call.

[FunctionStatementList](https://262.ecma-international.org/12.0/#prod-FunctionStatementList) : \[empty\] [StatementListItem](https://262.ecma-international.org/12.0/#prod-StatementListItem) : [Declaration](https://262.ecma-international.org/12.0/#prod-Declaration) [Statement](https://262.ecma-international.org/12.0/#prod-Statement) : [VariableStatement](https://262.ecma-international.org/12.0/#prod-VariableStatement) [EmptyStatement](https://262.ecma-international.org/12.0/#prod-EmptyStatement) [ExpressionStatement](https://262.ecma-international.org/12.0/#prod-ExpressionStatement) [ContinueStatement](https://262.ecma-international.org/12.0/#prod-ContinueStatement) [BreakStatement](https://262.ecma-international.org/12.0/#prod-BreakStatement) [ThrowStatement](https://262.ecma-international.org/12.0/#prod-ThrowStatement) [DebuggerStatement](https://262.ecma-international.org/12.0/#prod-DebuggerStatement) [Block](https://262.ecma-international.org/12.0/#prod-Block) : { } [ReturnStatement](https://262.ecma-international.org/12.0/#prod-ReturnStatement) : return ; [LabelledItem](https://262.ecma-international.org/12.0/#prod-LabelledItem) : [FunctionDeclaration](https://262.ecma-international.org/12.0/#prod-FunctionDeclaration) [ForInOfStatement](https://262.ecma-international.org/12.0/#prod-ForInOfStatement) : for ( [LeftHandSideExpression](https://262.ecma-international.org/12.0/#prod-LeftHandSideExpression) of [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression) ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement) for ( var [ForBinding](https://262.ecma-international.org/12.0/#prod-ForBinding) of [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression) ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement) for ( [ForDeclaration](https://262.ecma-international.org/12.0/#prod-ForDeclaration) of [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression) ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement) [CaseBlock](https://262.ecma-international.org/12.0/#prod-CaseBlock) : { }

1.  Return false.

[IfStatement](https://262.ecma-international.org/12.0/#prod-IfStatement) : if ( [Expression](https://262.ecma-international.org/12.0/#prod-Expression) ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement) else [Statement](https://262.ecma-international.org/12.0/#prod-Statement)

1.  Let has be [HasCallInTailPosition](https://262.ecma-international.org/12.0/#sec-static-semantics-hascallintailposition) of the first [Statement](https://262.ecma-international.org/12.0/#prod-Statement) with argument call.
2.  If has is true, return true.
3.  Return [HasCallInTailPosition](https://262.ecma-international.org/12.0/#sec-static-semantics-hascallintailposition) of the second [Statement](https://262.ecma-international.org/12.0/#prod-Statement) with argument call.

[IfStatement](https://262.ecma-international.org/12.0/#prod-IfStatement) : if ( [Expression](https://262.ecma-international.org/12.0/#prod-Expression) ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement) [DoWhileStatement](https://262.ecma-international.org/12.0/#prod-DoWhileStatement) : do [Statement](https://262.ecma-international.org/12.0/#prod-Statement) while ( [Expression](https://262.ecma-international.org/12.0/#prod-Expression) ) ; [WhileStatement](https://262.ecma-international.org/12.0/#prod-WhileStatement) : while ( [Expression](https://262.ecma-international.org/12.0/#prod-Expression) ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement) [ForStatement](https://262.ecma-international.org/12.0/#prod-ForStatement) : for ( [Expression](https://262.ecma-international.org/12.0/#prod-Expression)opt ; [Expression](https://262.ecma-international.org/12.0/#prod-Expression)opt ; [Expression](https://262.ecma-international.org/12.0/#prod-Expression)opt ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement) for ( var [VariableDeclarationList](https://262.ecma-international.org/12.0/#prod-VariableDeclarationList) ; [Expression](https://262.ecma-international.org/12.0/#prod-Expression)opt ; [Expression](https://262.ecma-international.org/12.0/#prod-Expression)opt ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement) for ( [LexicalDeclaration](https://262.ecma-international.org/12.0/#prod-LexicalDeclaration) [Expression](https://262.ecma-international.org/12.0/#prod-Expression)opt ; [Expression](https://262.ecma-international.org/12.0/#prod-Expression)opt ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement) [ForInOfStatement](https://262.ecma-international.org/12.0/#prod-ForInOfStatement) : for ( [LeftHandSideExpression](https://262.ecma-international.org/12.0/#prod-LeftHandSideExpression) in [Expression](https://262.ecma-international.org/12.0/#prod-Expression) ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement) for ( var [ForBinding](https://262.ecma-international.org/12.0/#prod-ForBinding) in [Expression](https://262.ecma-international.org/12.0/#prod-Expression) ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement) for ( [ForDeclaration](https://262.ecma-international.org/12.0/#prod-ForDeclaration) in [Expression](https://262.ecma-international.org/12.0/#prod-Expression) ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement) for await ( [LeftHandSideExpression](https://262.ecma-international.org/12.0/#prod-LeftHandSideExpression) of [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression) ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement) for await ( var [ForBinding](https://262.ecma-international.org/12.0/#prod-ForBinding) of [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression) ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement) for await ( [ForDeclaration](https://262.ecma-international.org/12.0/#prod-ForDeclaration) of [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression) ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement) [WithStatement](https://262.ecma-international.org/12.0/#prod-WithStatement) : with ( [Expression](https://262.ecma-international.org/12.0/#prod-Expression) ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement)

1.  Return [HasCallInTailPosition](https://262.ecma-international.org/12.0/#sec-static-semantics-hascallintailposition) of [Statement](https://262.ecma-international.org/12.0/#prod-Statement) with argument call.

[LabelledStatement](https://262.ecma-international.org/12.0/#prod-LabelledStatement) : [LabelIdentifier](https://262.ecma-international.org/12.0/#prod-LabelIdentifier) : [LabelledItem](https://262.ecma-international.org/12.0/#prod-LabelledItem)

1.  Return [HasCallInTailPosition](https://262.ecma-international.org/12.0/#sec-static-semantics-hascallintailposition) of [LabelledItem](https://262.ecma-international.org/12.0/#prod-LabelledItem) with argument call.

[ReturnStatement](https://262.ecma-international.org/12.0/#prod-ReturnStatement) : return [Expression](https://262.ecma-international.org/12.0/#prod-Expression) ;

1.  Return [HasCallInTailPosition](https://262.ecma-international.org/12.0/#sec-static-semantics-hascallintailposition) of [Expression](https://262.ecma-international.org/12.0/#prod-Expression) with argument call.

[SwitchStatement](https://262.ecma-international.org/12.0/#prod-SwitchStatement) : switch ( [Expression](https://262.ecma-international.org/12.0/#prod-Expression) ) [CaseBlock](https://262.ecma-international.org/12.0/#prod-CaseBlock)

1.  Return [HasCallInTailPosition](https://262.ecma-international.org/12.0/#sec-static-semantics-hascallintailposition) of [CaseBlock](https://262.ecma-international.org/12.0/#prod-CaseBlock) with argument call.

[CaseBlock](https://262.ecma-international.org/12.0/#prod-CaseBlock) : { [CaseClauses](https://262.ecma-international.org/12.0/#prod-CaseClauses)opt [DefaultClause](https://262.ecma-international.org/12.0/#prod-DefaultClause) [CaseClauses](https://262.ecma-international.org/12.0/#prod-CaseClauses)opt }

1.  Let has be false.
2.  If the first [CaseClauses](https://262.ecma-international.org/12.0/#prod-CaseClauses) is present, let has be [HasCallInTailPosition](https://262.ecma-international.org/12.0/#sec-static-semantics-hascallintailposition) of the first [CaseClauses](https://262.ecma-international.org/12.0/#prod-CaseClauses) with argument call.
3.  If has is true, return true.
4.  Let has be [HasCallInTailPosition](https://262.ecma-international.org/12.0/#sec-static-semantics-hascallintailposition) of [DefaultClause](https://262.ecma-international.org/12.0/#prod-DefaultClause) with argument call.
5.  If has is true, return true.
6.  If the second [CaseClauses](https://262.ecma-international.org/12.0/#prod-CaseClauses) is present, let has be [HasCallInTailPosition](https://262.ecma-international.org/12.0/#sec-static-semantics-hascallintailposition) of the second [CaseClauses](https://262.ecma-international.org/12.0/#prod-CaseClauses) with argument call.
7.  Return has.

[CaseClauses](https://262.ecma-international.org/12.0/#prod-CaseClauses) : [CaseClauses](https://262.ecma-international.org/12.0/#prod-CaseClauses) [CaseClause](https://262.ecma-international.org/12.0/#prod-CaseClause)

1.  Let has be [HasCallInTailPosition](https://262.ecma-international.org/12.0/#sec-static-semantics-hascallintailposition) of [CaseClauses](https://262.ecma-international.org/12.0/#prod-CaseClauses) with argument call.
2.  If has is true, return true.
3.  Return [HasCallInTailPosition](https://262.ecma-international.org/12.0/#sec-static-semantics-hascallintailposition) of [CaseClause](https://262.ecma-international.org/12.0/#prod-CaseClause) with argument call.

[CaseClause](https://262.ecma-international.org/12.0/#prod-CaseClause) : case [Expression](https://262.ecma-international.org/12.0/#prod-Expression) : [StatementList](https://262.ecma-international.org/12.0/#prod-StatementList)opt [DefaultClause](https://262.ecma-international.org/12.0/#prod-DefaultClause) : default : [StatementList](https://262.ecma-international.org/12.0/#prod-StatementList)opt

1.  If [StatementList](https://262.ecma-international.org/12.0/#prod-StatementList) is present, return [HasCallInTailPosition](https://262.ecma-international.org/12.0/#sec-static-semantics-hascallintailposition) of [StatementList](https://262.ecma-international.org/12.0/#prod-StatementList) with argument call.
2.  Return false.

[TryStatement](https://262.ecma-international.org/12.0/#prod-TryStatement) : try [Block](https://262.ecma-international.org/12.0/#prod-Block) [Catch](https://262.ecma-international.org/12.0/#prod-Catch)

1.  Return [HasCallInTailPosition](https://262.ecma-international.org/12.0/#sec-static-semantics-hascallintailposition) of [Catch](https://262.ecma-international.org/12.0/#prod-Catch) with argument call.

[TryStatement](https://262.ecma-international.org/12.0/#prod-TryStatement) : try [Block](https://262.ecma-international.org/12.0/#prod-Block) [Finally](https://262.ecma-international.org/12.0/#prod-Finally) [TryStatement](https://262.ecma-international.org/12.0/#prod-TryStatement) : try [Block](https://262.ecma-international.org/12.0/#prod-Block) [Catch](https://262.ecma-international.org/12.0/#prod-Catch) [Finally](https://262.ecma-international.org/12.0/#prod-Finally)

1.  Return [HasCallInTailPosition](https://262.ecma-international.org/12.0/#sec-static-semantics-hascallintailposition) of [Finally](https://262.ecma-international.org/12.0/#prod-Finally) with argument call.

[Catch](https://262.ecma-international.org/12.0/#prod-Catch) : catch ( [CatchParameter](https://262.ecma-international.org/12.0/#prod-CatchParameter) ) [Block](https://262.ecma-international.org/12.0/#prod-Block)

1.  Return [HasCallInTailPosition](https://262.ecma-international.org/12.0/#sec-static-semantics-hascallintailposition) of [Block](https://262.ecma-international.org/12.0/#prod-Block) with argument call.

## 15.10.2.2 Expression Rules

Note

A potential tail position call that is immediately followed by return [GetValue](https://262.ecma-international.org/12.0/#sec-getvalue) of the call result is also a possible tail position call. A function call cannot return a [Reference Record](https://262.ecma-international.org/12.0/#sec-reference-record-specification-type), so such a [GetValue](https://262.ecma-international.org/12.0/#sec-getvalue) operation will always return the same value as the actual function call result.

[AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression) : [YieldExpression](https://262.ecma-international.org/12.0/#prod-YieldExpression) [ArrowFunction](https://262.ecma-international.org/12.0/#prod-ArrowFunction) [AsyncArrowFunction](https://262.ecma-international.org/12.0/#prod-AsyncArrowFunction) [LeftHandSideExpression](https://262.ecma-international.org/12.0/#prod-LeftHandSideExpression) \= [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression) [LeftHandSideExpression](https://262.ecma-international.org/12.0/#prod-LeftHandSideExpression) [AssignmentOperator](https://262.ecma-international.org/12.0/#prod-AssignmentOperator) [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression) [LeftHandSideExpression](https://262.ecma-international.org/12.0/#prod-LeftHandSideExpression) &&= [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression) [LeftHandSideExpression](https://262.ecma-international.org/12.0/#prod-LeftHandSideExpression) ||= [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression) [LeftHandSideExpression](https://262.ecma-international.org/12.0/#prod-LeftHandSideExpression) ??= [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression) [BitwiseANDExpression](https://262.ecma-international.org/12.0/#prod-BitwiseANDExpression) : [BitwiseANDExpression](https://262.ecma-international.org/12.0/#prod-BitwiseANDExpression) & [EqualityExpression](https://262.ecma-international.org/12.0/#prod-EqualityExpression) [BitwiseXORExpression](https://262.ecma-international.org/12.0/#prod-BitwiseXORExpression) : [BitwiseXORExpression](https://262.ecma-international.org/12.0/#prod-BitwiseXORExpression) ^ [BitwiseANDExpression](https://262.ecma-international.org/12.0/#prod-BitwiseANDExpression) [BitwiseORExpression](https://262.ecma-international.org/12.0/#prod-BitwiseORExpression) : [BitwiseORExpression](https://262.ecma-international.org/12.0/#prod-BitwiseORExpression) | [BitwiseXORExpression](https://262.ecma-international.org/12.0/#prod-BitwiseXORExpression) [EqualityExpression](https://262.ecma-international.org/12.0/#prod-EqualityExpression) : [EqualityExpression](https://262.ecma-international.org/12.0/#prod-EqualityExpression) \== [RelationalExpression](https://262.ecma-international.org/12.0/#prod-RelationalExpression) [EqualityExpression](https://262.ecma-international.org/12.0/#prod-EqualityExpression) != [RelationalExpression](https://262.ecma-international.org/12.0/#prod-RelationalExpression) [EqualityExpression](https://262.ecma-international.org/12.0/#prod-EqualityExpression) \=== [RelationalExpression](https://262.ecma-international.org/12.0/#prod-RelationalExpression) [EqualityExpression](https://262.ecma-international.org/12.0/#prod-EqualityExpression) !== [RelationalExpression](https://262.ecma-international.org/12.0/#prod-RelationalExpression) [RelationalExpression](https://262.ecma-international.org/12.0/#prod-RelationalExpression) : [RelationalExpression](https://262.ecma-international.org/12.0/#prod-RelationalExpression) < [ShiftExpression](https://262.ecma-international.org/12.0/#prod-ShiftExpression) [RelationalExpression](https://262.ecma-international.org/12.0/#prod-RelationalExpression) \> [ShiftExpression](https://262.ecma-international.org/12.0/#prod-ShiftExpression) [RelationalExpression](https://262.ecma-international.org/12.0/#prod-RelationalExpression) <= [ShiftExpression](https://262.ecma-international.org/12.0/#prod-ShiftExpression) [RelationalExpression](https://262.ecma-international.org/12.0/#prod-RelationalExpression) \>= [ShiftExpression](https://262.ecma-international.org/12.0/#prod-ShiftExpression) [RelationalExpression](https://262.ecma-international.org/12.0/#prod-RelationalExpression) instanceof [ShiftExpression](https://262.ecma-international.org/12.0/#prod-ShiftExpression) [RelationalExpression](https://262.ecma-international.org/12.0/#prod-RelationalExpression) in [ShiftExpression](https://262.ecma-international.org/12.0/#prod-ShiftExpression) [ShiftExpression](https://262.ecma-international.org/12.0/#prod-ShiftExpression) : [ShiftExpression](https://262.ecma-international.org/12.0/#prod-ShiftExpression) << [AdditiveExpression](https://262.ecma-international.org/12.0/#prod-AdditiveExpression) [ShiftExpression](https://262.ecma-international.org/12.0/#prod-ShiftExpression) \>> [AdditiveExpression](https://262.ecma-international.org/12.0/#prod-AdditiveExpression) [ShiftExpression](https://262.ecma-international.org/12.0/#prod-ShiftExpression) \>>> [AdditiveExpression](https://262.ecma-international.org/12.0/#prod-AdditiveExpression) [AdditiveExpression](https://262.ecma-international.org/12.0/#prod-AdditiveExpression) : [AdditiveExpression](https://262.ecma-international.org/12.0/#prod-AdditiveExpression) + [MultiplicativeExpression](https://262.ecma-international.org/12.0/#prod-MultiplicativeExpression) [AdditiveExpression](https://262.ecma-international.org/12.0/#prod-AdditiveExpression) \- [MultiplicativeExpression](https://262.ecma-international.org/12.0/#prod-MultiplicativeExpression) [MultiplicativeExpression](https://262.ecma-international.org/12.0/#prod-MultiplicativeExpression) : [MultiplicativeExpression](https://262.ecma-international.org/12.0/#prod-MultiplicativeExpression) [MultiplicativeOperator](https://262.ecma-international.org/12.0/#prod-MultiplicativeOperator) [ExponentiationExpression](https://262.ecma-international.org/12.0/#prod-ExponentiationExpression) [ExponentiationExpression](https://262.ecma-international.org/12.0/#prod-ExponentiationExpression) : [UpdateExpression](https://262.ecma-international.org/12.0/#prod-UpdateExpression) \*\* [ExponentiationExpression](https://262.ecma-international.org/12.0/#prod-ExponentiationExpression) [UpdateExpression](https://262.ecma-international.org/12.0/#prod-UpdateExpression) : [LeftHandSideExpression](https://262.ecma-international.org/12.0/#prod-LeftHandSideExpression) ++ [LeftHandSideExpression](https://262.ecma-international.org/12.0/#prod-LeftHandSideExpression) \-- ++ [UnaryExpression](https://262.ecma-international.org/12.0/#prod-UnaryExpression) \-- [UnaryExpression](https://262.ecma-international.org/12.0/#prod-UnaryExpression) [UnaryExpression](https://262.ecma-international.org/12.0/#prod-UnaryExpression) : delete [UnaryExpression](https://262.ecma-international.org/12.0/#prod-UnaryExpression) void [UnaryExpression](https://262.ecma-international.org/12.0/#prod-UnaryExpression) typeof [UnaryExpression](https://262.ecma-international.org/12.0/#prod-UnaryExpression) + [UnaryExpression](https://262.ecma-international.org/12.0/#prod-UnaryExpression) \- [UnaryExpression](https://262.ecma-international.org/12.0/#prod-UnaryExpression) ~ [UnaryExpression](https://262.ecma-international.org/12.0/#prod-UnaryExpression) ! [UnaryExpression](https://262.ecma-international.org/12.0/#prod-UnaryExpression) [AwaitExpression](https://262.ecma-international.org/12.0/#prod-AwaitExpression) [CallExpression](https://262.ecma-international.org/12.0/#prod-CallExpression) : [SuperCall](https://262.ecma-international.org/12.0/#prod-SuperCall) [CallExpression](https://262.ecma-international.org/12.0/#prod-CallExpression) \[ [Expression](https://262.ecma-international.org/12.0/#prod-Expression) \] [CallExpression](https://262.ecma-international.org/12.0/#prod-CallExpression) . [IdentifierName](https://262.ecma-international.org/12.0/#prod-IdentifierName) [NewExpression](https://262.ecma-international.org/12.0/#prod-NewExpression) : new [NewExpression](https://262.ecma-international.org/12.0/#prod-NewExpression) [MemberExpression](https://262.ecma-international.org/12.0/#prod-MemberExpression) : [MemberExpression](https://262.ecma-international.org/12.0/#prod-MemberExpression) \[ [Expression](https://262.ecma-international.org/12.0/#prod-Expression) \] [MemberExpression](https://262.ecma-international.org/12.0/#prod-MemberExpression) . [IdentifierName](https://262.ecma-international.org/12.0/#prod-IdentifierName) [SuperProperty](https://262.ecma-international.org/12.0/#prod-SuperProperty) [MetaProperty](https://262.ecma-international.org/12.0/#prod-MetaProperty) new [MemberExpression](https://262.ecma-international.org/12.0/#prod-MemberExpression) [Arguments](https://262.ecma-international.org/12.0/#prod-Arguments) [PrimaryExpression](https://262.ecma-international.org/12.0/#prod-PrimaryExpression) : this [IdentifierReference](https://262.ecma-international.org/12.0/#prod-IdentifierReference) [Literal](https://262.ecma-international.org/12.0/#prod-Literal) [ArrayLiteral](https://262.ecma-international.org/12.0/#prod-ArrayLiteral) [ObjectLiteral](https://262.ecma-international.org/12.0/#prod-ObjectLiteral) [FunctionExpression](https://262.ecma-international.org/12.0/#prod-FunctionExpression) [ClassExpression](https://262.ecma-international.org/12.0/#prod-ClassExpression) [GeneratorExpression](https://262.ecma-international.org/12.0/#prod-GeneratorExpression) [AsyncFunctionExpression](https://262.ecma-international.org/12.0/#prod-AsyncFunctionExpression) [AsyncGeneratorExpression](https://262.ecma-international.org/12.0/#prod-AsyncGeneratorExpression) [RegularExpressionLiteral](https://262.ecma-international.org/12.0/#prod-RegularExpressionLiteral) [TemplateLiteral](https://262.ecma-international.org/12.0/#prod-TemplateLiteral)

1.  Return false.

[Expression](https://262.ecma-international.org/12.0/#prod-Expression) : [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression) [Expression](https://262.ecma-international.org/12.0/#prod-Expression) , [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression)

1.  Return [HasCallInTailPosition](https://262.ecma-international.org/12.0/#sec-static-semantics-hascallintailposition) of [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression) with argument call.

[ConditionalExpression](https://262.ecma-international.org/12.0/#prod-ConditionalExpression) : [ShortCircuitExpression](https://262.ecma-international.org/12.0/#prod-ShortCircuitExpression) ? [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression) : [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression)

1.  Let has be [HasCallInTailPosition](https://262.ecma-international.org/12.0/#sec-static-semantics-hascallintailposition) of the first [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression) with argument call.
2.  If has is true, return true.
3.  Return [HasCallInTailPosition](https://262.ecma-international.org/12.0/#sec-static-semantics-hascallintailposition) of the second [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression) with argument call.

[LogicalANDExpression](https://262.ecma-international.org/12.0/#prod-LogicalANDExpression) : [LogicalANDExpression](https://262.ecma-international.org/12.0/#prod-LogicalANDExpression) && [BitwiseORExpression](https://262.ecma-international.org/12.0/#prod-BitwiseORExpression)

1.  Return [HasCallInTailPosition](https://262.ecma-international.org/12.0/#sec-static-semantics-hascallintailposition) of [BitwiseORExpression](https://262.ecma-international.org/12.0/#prod-BitwiseORExpression) with argument call.

[LogicalORExpression](https://262.ecma-international.org/12.0/#prod-LogicalORExpression) : [LogicalORExpression](https://262.ecma-international.org/12.0/#prod-LogicalORExpression) || [LogicalANDExpression](https://262.ecma-international.org/12.0/#prod-LogicalANDExpression)

1.  Return [HasCallInTailPosition](https://262.ecma-international.org/12.0/#sec-static-semantics-hascallintailposition) of [LogicalANDExpression](https://262.ecma-international.org/12.0/#prod-LogicalANDExpression) with argument call.

[CoalesceExpression](https://262.ecma-international.org/12.0/#prod-CoalesceExpression) : [CoalesceExpressionHead](https://262.ecma-international.org/12.0/#prod-CoalesceExpressionHead) ?? [BitwiseORExpression](https://262.ecma-international.org/12.0/#prod-BitwiseORExpression)

1.  Return [HasCallInTailPosition](https://262.ecma-international.org/12.0/#sec-static-semantics-hascallintailposition) of [BitwiseORExpression](https://262.ecma-international.org/12.0/#prod-BitwiseORExpression) with argument call.

[CallExpression](https://262.ecma-international.org/12.0/#prod-CallExpression) : [CoverCallExpressionAndAsyncArrowHead](https://262.ecma-international.org/12.0/#prod-CoverCallExpressionAndAsyncArrowHead) [CallExpression](https://262.ecma-international.org/12.0/#prod-CallExpression) [Arguments](https://262.ecma-international.org/12.0/#prod-Arguments) [CallExpression](https://262.ecma-international.org/12.0/#prod-CallExpression) [TemplateLiteral](https://262.ecma-international.org/12.0/#prod-TemplateLiteral)

1.  If this [CallExpression](https://262.ecma-international.org/12.0/#prod-CallExpression) is call, return true.
2.  Return false.

[OptionalExpression](https://262.ecma-international.org/12.0/#prod-OptionalExpression) : [MemberExpression](https://262.ecma-international.org/12.0/#prod-MemberExpression) [OptionalChain](https://262.ecma-international.org/12.0/#prod-OptionalChain) [CallExpression](https://262.ecma-international.org/12.0/#prod-CallExpression) [OptionalChain](https://262.ecma-international.org/12.0/#prod-OptionalChain) [OptionalExpression](https://262.ecma-international.org/12.0/#prod-OptionalExpression) [OptionalChain](https://262.ecma-international.org/12.0/#prod-OptionalChain)

1.  Return [HasCallInTailPosition](https://262.ecma-international.org/12.0/#sec-static-semantics-hascallintailposition) of [OptionalChain](https://262.ecma-international.org/12.0/#prod-OptionalChain) with argument call.

[OptionalChain](https://262.ecma-international.org/12.0/#prod-OptionalChain) : ?. \[ [Expression](https://262.ecma-international.org/12.0/#prod-Expression) \] ?. [IdentifierName](https://262.ecma-international.org/12.0/#prod-IdentifierName) [OptionalChain](https://262.ecma-international.org/12.0/#prod-OptionalChain) \[ [Expression](https://262.ecma-international.org/12.0/#prod-Expression) \] [OptionalChain](https://262.ecma-international.org/12.0/#prod-OptionalChain) . [IdentifierName](https://262.ecma-international.org/12.0/#prod-IdentifierName)

1.  Return false.

[OptionalChain](https://262.ecma-international.org/12.0/#prod-OptionalChain) : ?. [Arguments](https://262.ecma-international.org/12.0/#prod-Arguments) [OptionalChain](https://262.ecma-international.org/12.0/#prod-OptionalChain) [Arguments](https://262.ecma-international.org/12.0/#prod-Arguments)

1.  If this [OptionalChain](https://262.ecma-international.org/12.0/#prod-OptionalChain) is call, return true.
2.  Return false.

[MemberExpression](https://262.ecma-international.org/12.0/#prod-MemberExpression) : [MemberExpression](https://262.ecma-international.org/12.0/#prod-MemberExpression) [TemplateLiteral](https://262.ecma-international.org/12.0/#prod-TemplateLiteral)

1.  If this [MemberExpression](https://262.ecma-international.org/12.0/#prod-MemberExpression) is call, return true.
2.  Return false.

[PrimaryExpression](https://262.ecma-international.org/12.0/#prod-PrimaryExpression) : [CoverParenthesizedExpressionAndArrowParameterList](https://262.ecma-international.org/12.0/#prod-CoverParenthesizedExpressionAndArrowParameterList)

1.  Let expr be [CoveredParenthesizedExpression](https://262.ecma-international.org/12.0/#sec-static-semantics-coveredparenthesizedexpression) of [CoverParenthesizedExpressionAndArrowParameterList](https://262.ecma-international.org/12.0/#prod-CoverParenthesizedExpressionAndArrowParameterList).
2.  Return [HasCallInTailPosition](https://262.ecma-international.org/12.0/#sec-static-semantics-hascallintailposition) of expr with argument call.

[ParenthesizedExpression](https://262.ecma-international.org/12.0/#prod-ParenthesizedExpression) : ( [Expression](https://262.ecma-international.org/12.0/#prod-Expression) )

1.  Return [HasCallInTailPosition](https://262.ecma-international.org/12.0/#sec-static-semantics-hascallintailposition) of [Expression](https://262.ecma-international.org/12.0/#prod-Expression) with argument call.

## 15.10.3 PrepareForTailCall ( )

The abstract operation PrepareForTailCall takes no arguments. It performs the following steps when called:

1.  Let leafContext be the [running execution context](https://262.ecma-international.org/12.0/#running-execution-context).
2.  [Suspend](https://tc39.es/ecma262/#sec-suspend) leafContext.
3.  Pop leafContext from the [execution context stack](https://262.ecma-international.org/12.0/#execution-context-stack). The [execution context](https://262.ecma-international.org/12.0/#sec-execution-contexts) now on the top of the stack becomes the [running execution context](https://262.ecma-international.org/12.0/#running-execution-context).
4.  [Assert](https://262.ecma-international.org/12.0/#assert): leafContext has no further use. It will never be activated as the [running execution context](https://262.ecma-international.org/12.0/#running-execution-context).

A tail position call must either release any transient internal resources associated with the currently executing function [execution context](https://262.ecma-international.org/12.0/#sec-execution-contexts) before invoking the target function or reuse those resources in support of the target function.

Note

For example, a tail position call should only grow an implementation's activation record stack by the amount that the size of the target function's activation record exceeds the size of the calling function's activation record. If the target function's activation record is smaller, then the total size of the stack should decrease.

## 16 ECMAScript Language: Scripts and Modules

## 16.1 Scripts

## Syntax

[Script](https://262.ecma-international.org/12.0/#prod-Script) : [ScriptBody](https://262.ecma-international.org/12.0/#prod-ScriptBody)opt [ScriptBody](https://262.ecma-international.org/12.0/#prod-ScriptBody) : [StatementList](https://262.ecma-international.org/12.0/#prod-StatementList)\[~Yield, ~Await, ~Return\]

## 16.1.1 Static Semantics: Early Errors

[Script](https://262.ecma-international.org/12.0/#prod-Script) : [ScriptBody](https://262.ecma-international.org/12.0/#prod-ScriptBody)

-   It is a Syntax Error if the [LexicallyDeclaredNames](https://262.ecma-international.org/12.0/#sec-static-semantics-lexicallydeclarednames) of [ScriptBody](https://262.ecma-international.org/12.0/#prod-ScriptBody) contains any duplicate entries.
-   It is a Syntax Error if any element of the [LexicallyDeclaredNames](https://262.ecma-international.org/12.0/#sec-static-semantics-lexicallydeclarednames) of [ScriptBody](https://262.ecma-international.org/12.0/#prod-ScriptBody) also occurs in the [VarDeclaredNames](https://262.ecma-international.org/12.0/#sec-static-semantics-vardeclarednames) of [ScriptBody](https://262.ecma-international.org/12.0/#prod-ScriptBody).

[ScriptBody](https://262.ecma-international.org/12.0/#prod-ScriptBody) : [StatementList](https://262.ecma-international.org/12.0/#prod-StatementList)

-   It is a Syntax Error if [StatementList](https://262.ecma-international.org/12.0/#prod-StatementList) [Contains](https://262.ecma-international.org/12.0/#sec-static-semantics-contains) `super` unless the source code containing `super` is eval code that is being processed by a [direct eval](https://262.ecma-international.org/12.0/#sec-function-calls-runtime-semantics-evaluation). Additional [early error](https://262.ecma-international.org/12.0/#early-error) rules for `super` within [direct eval](https://262.ecma-international.org/12.0/#sec-function-calls-runtime-semantics-evaluation) are defined in [19.2.1.1](https://262.ecma-international.org/12.0/#sec-performeval).
-   It is a Syntax Error if [StatementList](https://262.ecma-international.org/12.0/#prod-StatementList) [Contains](https://262.ecma-international.org/12.0/#sec-static-semantics-contains) [NewTarget](https://262.ecma-international.org/12.0/#prod-NewTarget) unless the source code containing [NewTarget](https://262.ecma-international.org/12.0/#prod-NewTarget) is eval code that is being processed by a [direct eval](https://262.ecma-international.org/12.0/#sec-function-calls-runtime-semantics-evaluation). Additional [early error](https://262.ecma-international.org/12.0/#early-error) rules for [NewTarget](https://262.ecma-international.org/12.0/#prod-NewTarget) in [direct eval](https://262.ecma-international.org/12.0/#sec-function-calls-runtime-semantics-evaluation) are defined in [19.2.1.1](https://262.ecma-international.org/12.0/#sec-performeval).
-   It is a Syntax Error if [ContainsDuplicateLabels](https://262.ecma-international.org/12.0/#sec-static-semantics-containsduplicatelabels) of [StatementList](https://262.ecma-international.org/12.0/#prod-StatementList) with argument « » is true.
-   It is a Syntax Error if [ContainsUndefinedBreakTarget](https://262.ecma-international.org/12.0/#sec-static-semantics-containsundefinedbreaktarget) of [StatementList](https://262.ecma-international.org/12.0/#prod-StatementList) with argument « » is true.
-   It is a Syntax Error if [ContainsUndefinedContinueTarget](https://262.ecma-international.org/12.0/#sec-static-semantics-containsundefinedcontinuetarget) of [StatementList](https://262.ecma-international.org/12.0/#prod-StatementList) with arguments « » and « » is true.

## 16.1.2 Static Semantics: IsStrict

[Script](https://262.ecma-international.org/12.0/#prod-Script) : [ScriptBody](https://262.ecma-international.org/12.0/#prod-ScriptBody)opt

1.  If [ScriptBody](https://262.ecma-international.org/12.0/#prod-ScriptBody) is present and the [Directive Prologue](https://262.ecma-international.org/12.0/#directive-prologue) of [ScriptBody](https://262.ecma-international.org/12.0/#prod-ScriptBody) contains a [Use Strict Directive](https://262.ecma-international.org/12.0/#use-strict-directive), return true; otherwise, return false.

## 16.1.3 Runtime Semantics: Evaluation

[Script](https://262.ecma-international.org/12.0/#prod-Script) : \[empty\]

1.  Return [NormalCompletion](https://262.ecma-international.org/12.0/#sec-normalcompletion)(undefined).

## 16.1.4 Script Records

A Script Record encapsulates information about a script being evaluated. Each script record contains the fields listed in [Table 39](https://262.ecma-international.org/12.0/#table-script-records).

Table 39: [Script Record](https://262.ecma-international.org/12.0/#script-record) Fields

| Field Name | Value Type | Meaning |
| --- | --- | --- |
| \[\[Realm\]\] | [Realm Record](https://262.ecma-international.org/12.0/#realm-record) | undefined | The [realm](https://262.ecma-international.org/12.0/#realm) within which this script was created. undefined if not yet assigned. |
| \[\[Environment\]\] | [Environment Record](https://262.ecma-international.org/12.0/#sec-environment-records) | undefined | The [Environment Record](https://262.ecma-international.org/12.0/#sec-environment-records) containing the top level bindings for this script. This field is set when the script is instantiated. |
| \[\[ECMAScriptCode\]\] | a [Parse Node](https://262.ecma-international.org/12.0/#sec-syntactic-grammar) | The result of parsing the source text of this script using [Script](https://262.ecma-international.org/12.0/#prod-Script) as the [goal symbol](https://262.ecma-international.org/12.0/#sec-context-free-grammars). |
| \[\[HostDefined\]\] | Any, default value is empty. | Field reserved for use by [host](https://262.ecma-international.org/12.0/#host) environments that need to associate additional information with a script. |

## 16.1.5 ParseScript ( sourceText, realm, hostDefined )

The abstract operation ParseScript takes arguments sourceText, realm, and hostDefined. It creates a [Script Record](https://262.ecma-international.org/12.0/#script-record) based upon the result of parsing sourceText as a [Script](https://262.ecma-international.org/12.0/#prod-Script). It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): sourceText is an ECMAScript source text (see clause [11](https://262.ecma-international.org/12.0/#sec-ecmascript-language-source-code)).
2.  Let body be [ParseText](https://262.ecma-international.org/12.0/#sec-parsetext)(sourceText, [Script](https://262.ecma-international.org/12.0/#prod-Script)).
3.  If body is a [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) of errors, return body.
4.  Return [Script Record](https://262.ecma-international.org/12.0/#script-record) { \[\[Realm\]\]: realm, \[\[Environment\]\]: undefined, \[\[ECMAScriptCode\]\]: body, \[\[HostDefined\]\]: hostDefined }.

Note

An implementation may parse script source text and analyse it for Early Error conditions prior to evaluation of ParseScript for that script source text. However, the reporting of any errors must be deferred until the point where this specification actually performs ParseScript upon that source text.

## 16.1.6 ScriptEvaluation ( scriptRecord )

The abstract operation ScriptEvaluation takes argument scriptRecord. It performs the following steps when called:

1.  Let globalEnv be scriptRecord.\[\[Realm\]\].\[\[GlobalEnv\]\].
2.  Let scriptContext be a new ECMAScript code [execution context](https://262.ecma-international.org/12.0/#sec-execution-contexts).
3.  Set the Function of scriptContext to null.
4.  Set the [Realm](https://262.ecma-international.org/12.0/#realm) of scriptContext to scriptRecord.\[\[Realm\]\].
5.  Set the ScriptOrModule of scriptContext to scriptRecord.
6.  Set the VariableEnvironment of scriptContext to globalEnv.
7.  Set the LexicalEnvironment of scriptContext to globalEnv.
8.  [Suspend](https://tc39.es/ecma262/#sec-suspend) the currently [running execution context](https://262.ecma-international.org/12.0/#running-execution-context).
9.  Push scriptContext onto the [execution context stack](https://262.ecma-international.org/12.0/#execution-context-stack); scriptContext is now the [running execution context](https://262.ecma-international.org/12.0/#running-execution-context).
10.  Let scriptBody be scriptRecord.\[\[ECMAScriptCode\]\].
11.  Let result be [GlobalDeclarationInstantiation](https://262.ecma-international.org/12.0/#sec-globaldeclarationinstantiation)(scriptBody, globalEnv).
12.  If result.\[\[Type\]\] is normal, then
    1.  Set result to the result of evaluating scriptBody.
13.  If result.\[\[Type\]\] is normal and result.\[\[Value\]\] is empty, then
    1.  Set result to [NormalCompletion](https://262.ecma-international.org/12.0/#sec-normalcompletion)(undefined).
14.  [Suspend](https://tc39.es/ecma262/#sec-suspend) scriptContext and remove it from the [execution context stack](https://262.ecma-international.org/12.0/#execution-context-stack).
15.  [Assert](https://262.ecma-international.org/12.0/#assert): The [execution context stack](https://262.ecma-international.org/12.0/#execution-context-stack) is not empty.
16.  Resume the context that is now on the top of the [execution context stack](https://262.ecma-international.org/12.0/#execution-context-stack) as the [running execution context](https://262.ecma-international.org/12.0/#running-execution-context).
17.  Return [Completion](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type)(result).

## 16.1.7 GlobalDeclarationInstantiation ( script, env )

Note 1

When an [execution context](https://262.ecma-international.org/12.0/#sec-execution-contexts) is established for evaluating scripts, declarations are instantiated in the current [global environment](https://tc39.es/ecma262/#global-environment). Each global binding declared in the code is instantiated.

The abstract operation GlobalDeclarationInstantiation takes arguments script (a [Parse Node](https://262.ecma-international.org/12.0/#sec-syntactic-grammar) for [ScriptBody](https://262.ecma-international.org/12.0/#prod-ScriptBody)) and env (an [Environment Record](https://262.ecma-international.org/12.0/#sec-environment-records)). script is the [ScriptBody](https://262.ecma-international.org/12.0/#prod-ScriptBody) for which the [execution context](https://262.ecma-international.org/12.0/#sec-execution-contexts) is being established. env is the [global environment](https://tc39.es/ecma262/#global-environment) in which bindings are to be created. It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): env is a [global Environment Record](https://262.ecma-international.org/12.0/#sec-global-environment-records).
2.  Let lexNames be the [LexicallyDeclaredNames](https://262.ecma-international.org/12.0/#sec-static-semantics-lexicallydeclarednames) of script.
3.  Let varNames be the [VarDeclaredNames](https://262.ecma-international.org/12.0/#sec-static-semantics-vardeclarednames) of script.
4.  For each element name of lexNames, do
    1.  If env.HasVarDeclaration(name) is true, throw a SyntaxError exception.
    2.  If env.HasLexicalDeclaration(name) is true, throw a SyntaxError exception.
    3.  Let hasRestrictedGlobal be ? env.HasRestrictedGlobalProperty(name).
    4.  If hasRestrictedGlobal is true, throw a SyntaxError exception.
5.  For each element name of varNames, do
    1.  If env.HasLexicalDeclaration(name) is true, throw a SyntaxError exception.
6.  Let varDeclarations be the [VarScopedDeclarations](https://262.ecma-international.org/12.0/#sec-static-semantics-varscopeddeclarations) of script.
7.  Let functionsToInitialize be a new empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).
8.  Let declaredFunctionNames be a new empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).
9.  For each element d of varDeclarations, in reverse [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) order, do
    1.  If d is neither a [VariableDeclaration](https://262.ecma-international.org/12.0/#prod-VariableDeclaration) nor a [ForBinding](https://262.ecma-international.org/12.0/#prod-ForBinding) nor a [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier), then
        1.  [Assert](https://262.ecma-international.org/12.0/#assert): d is either a [FunctionDeclaration](https://262.ecma-international.org/12.0/#prod-FunctionDeclaration), a [GeneratorDeclaration](https://262.ecma-international.org/12.0/#prod-GeneratorDeclaration), an [AsyncFunctionDeclaration](https://262.ecma-international.org/12.0/#prod-AsyncFunctionDeclaration), or an [AsyncGeneratorDeclaration](https://262.ecma-international.org/12.0/#prod-AsyncGeneratorDeclaration).
        2.  NOTE: If there are multiple function declarations for the same name, the last declaration is used.
        3.  Let fn be the sole element of the [BoundNames](https://262.ecma-international.org/12.0/#sec-static-semantics-boundnames) of d.
        4.  If fn is not an element of declaredFunctionNames, then
            1.  Let fnDefinable be ? env.CanDeclareGlobalFunction(fn).
            2.  If fnDefinable is false, throw a TypeError exception.
            3.  Append fn to declaredFunctionNames.
            4.  Insert d as the first element of functionsToInitialize.
10.  Let declaredVarNames be a new empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).
11.  For each element d of varDeclarations, do
    1.  If d is a [VariableDeclaration](https://262.ecma-international.org/12.0/#prod-VariableDeclaration), a [ForBinding](https://262.ecma-international.org/12.0/#prod-ForBinding), or a [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier), then
        1.  For each String vn of the [BoundNames](https://262.ecma-international.org/12.0/#sec-static-semantics-boundnames) of d, do
            1.  If vn is not an element of declaredFunctionNames, then
                1.  Let vnDefinable be ? env.CanDeclareGlobalVar(vn).
                2.  If vnDefinable is false, throw a TypeError exception.
                3.  If vn is not an element of declaredVarNames, then
                    1.  Append vn to declaredVarNames.
12.  NOTE: No abnormal terminations occur after this algorithm step if the [global object](https://262.ecma-international.org/12.0/#sec-global-object) is an [ordinary object](https://262.ecma-international.org/12.0/#ordinary-object). However, if the [global object](https://262.ecma-international.org/12.0/#sec-global-object) is a [Proxy exotic object](https://262.ecma-international.org/12.0/#proxy-exotic-object) it may exhibit behaviours that cause abnormal terminations in some of the following steps.
13.  NOTE: Annex [B.3.3.2](https://262.ecma-international.org/12.0/#sec-web-compat-globaldeclarationinstantiation) adds additional steps at this point.
14.  Let lexDeclarations be the [LexicallyScopedDeclarations](https://262.ecma-international.org/12.0/#sec-static-semantics-lexicallyscopeddeclarations) of script.
15.  For each element d of lexDeclarations, do
    1.  NOTE: Lexically declared names are only instantiated here but not initialized.
    2.  For each element dn of the [BoundNames](https://262.ecma-international.org/12.0/#sec-static-semantics-boundnames) of d, do
        1.  If [IsConstantDeclaration](https://262.ecma-international.org/12.0/#sec-static-semantics-isconstantdeclaration) of d is true, then
            1.  Perform ? env.CreateImmutableBinding(dn, true).
        2.  Else,
            1.  Perform ? env.CreateMutableBinding(dn, false).
16.  For each [Parse Node](https://262.ecma-international.org/12.0/#sec-syntactic-grammar) f of functionsToInitialize, do
    1.  Let fn be the sole element of the [BoundNames](https://262.ecma-international.org/12.0/#sec-static-semantics-boundnames) of f.
    2.  Let fo be [InstantiateFunctionObject](https://262.ecma-international.org/12.0/#sec-runtime-semantics-instantiatefunctionobject) of f with argument env.
    3.  Perform ? env.CreateGlobalFunctionBinding(fn, fo, false).
17.  For each String vn of declaredVarNames, do
    1.  Perform ? env.CreateGlobalVarBinding(vn, false).
18.  Return [NormalCompletion](https://262.ecma-international.org/12.0/#sec-normalcompletion)(empty).

Note 2

Early errors specified in [16.1.1](https://262.ecma-international.org/12.0/#sec-scripts-static-semantics-early-errors) prevent name conflicts between function/var declarations and let/const/class declarations as well as redeclaration of let/const/class bindings for declaration contained within a single [Script](https://262.ecma-international.org/12.0/#prod-Script). However, such conflicts and redeclarations that span more than one [Script](https://262.ecma-international.org/12.0/#prod-Script) are detected as runtime errors during GlobalDeclarationInstantiation. If any such errors are detected, no bindings are instantiated for the script. However, if the [global object](https://262.ecma-international.org/12.0/#sec-global-object) is defined using Proxy exotic objects then the runtime tests for conflicting declarations may be unreliable resulting in an [abrupt completion](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type) and some global declarations not being instantiated. If this occurs, the code for the [Script](https://262.ecma-international.org/12.0/#prod-Script) is not evaluated.

Unlike explicit var or function declarations, properties that are directly created on the [global object](https://262.ecma-international.org/12.0/#sec-global-object) result in global bindings that may be shadowed by let/const/class declarations.

## 16.2 Modules

## Syntax

[Module](https://262.ecma-international.org/12.0/#prod-Module) : [ModuleBody](https://262.ecma-international.org/12.0/#prod-ModuleBody)opt [ModuleBody](https://262.ecma-international.org/12.0/#prod-ModuleBody) : [ModuleItemList](https://262.ecma-international.org/12.0/#prod-ModuleItemList) [ModuleItemList](https://262.ecma-international.org/12.0/#prod-ModuleItemList) : [ModuleItem](https://262.ecma-international.org/12.0/#prod-ModuleItem) [ModuleItemList](https://262.ecma-international.org/12.0/#prod-ModuleItemList) [ModuleItem](https://262.ecma-international.org/12.0/#prod-ModuleItem) [ModuleItem](https://262.ecma-international.org/12.0/#prod-ModuleItem) : [ImportDeclaration](https://262.ecma-international.org/12.0/#prod-ImportDeclaration) [ExportDeclaration](https://262.ecma-international.org/12.0/#prod-ExportDeclaration) [StatementListItem](https://262.ecma-international.org/12.0/#prod-StatementListItem)\[~Yield, ~Await, ~Return\]

## 16.2.1 Module Semantics

## 16.2.1.1 Static Semantics: Early Errors

[ModuleBody](https://262.ecma-international.org/12.0/#prod-ModuleBody) : [ModuleItemList](https://262.ecma-international.org/12.0/#prod-ModuleItemList)

-   It is a Syntax Error if the [LexicallyDeclaredNames](https://262.ecma-international.org/12.0/#sec-static-semantics-lexicallydeclarednames) of [ModuleItemList](https://262.ecma-international.org/12.0/#prod-ModuleItemList) contains any duplicate entries.
-   It is a Syntax Error if any element of the [LexicallyDeclaredNames](https://262.ecma-international.org/12.0/#sec-static-semantics-lexicallydeclarednames) of [ModuleItemList](https://262.ecma-international.org/12.0/#prod-ModuleItemList) also occurs in the [VarDeclaredNames](https://262.ecma-international.org/12.0/#sec-static-semantics-vardeclarednames) of [ModuleItemList](https://262.ecma-international.org/12.0/#prod-ModuleItemList).
-   It is a Syntax Error if the [ExportedNames](https://262.ecma-international.org/12.0/#sec-static-semantics-exportednames) of [ModuleItemList](https://262.ecma-international.org/12.0/#prod-ModuleItemList) contains any duplicate entries.
-   It is a Syntax Error if any element of the [ExportedBindings](https://262.ecma-international.org/12.0/#sec-static-semantics-exportedbindings) of [ModuleItemList](https://262.ecma-international.org/12.0/#prod-ModuleItemList) does not also occur in either the [VarDeclaredNames](https://262.ecma-international.org/12.0/#sec-static-semantics-vardeclarednames) of [ModuleItemList](https://262.ecma-international.org/12.0/#prod-ModuleItemList), or the [LexicallyDeclaredNames](https://262.ecma-international.org/12.0/#sec-static-semantics-lexicallydeclarednames) of [ModuleItemList](https://262.ecma-international.org/12.0/#prod-ModuleItemList).
-   It is a Syntax Error if [ModuleItemList](https://262.ecma-international.org/12.0/#prod-ModuleItemList) [Contains](https://262.ecma-international.org/12.0/#sec-static-semantics-contains) `super`.
-   It is a Syntax Error if [ModuleItemList](https://262.ecma-international.org/12.0/#prod-ModuleItemList) [Contains](https://262.ecma-international.org/12.0/#sec-static-semantics-contains) [NewTarget](https://262.ecma-international.org/12.0/#prod-NewTarget).
-   It is a Syntax Error if [ContainsDuplicateLabels](https://262.ecma-international.org/12.0/#sec-static-semantics-containsduplicatelabels) of [ModuleItemList](https://262.ecma-international.org/12.0/#prod-ModuleItemList) with argument « » is true.
-   It is a Syntax Error if [ContainsUndefinedBreakTarget](https://262.ecma-international.org/12.0/#sec-static-semantics-containsundefinedbreaktarget) of [ModuleItemList](https://262.ecma-international.org/12.0/#prod-ModuleItemList) with argument « » is true.
-   It is a Syntax Error if [ContainsUndefinedContinueTarget](https://262.ecma-international.org/12.0/#sec-static-semantics-containsundefinedcontinuetarget) of [ModuleItemList](https://262.ecma-international.org/12.0/#prod-ModuleItemList) with arguments « » and « » is true.

Note

The duplicate [ExportedNames](https://262.ecma-international.org/12.0/#sec-static-semantics-exportednames) rule implies that multiple `export default` [ExportDeclaration](https://262.ecma-international.org/12.0/#prod-ExportDeclaration) items within a [ModuleBody](https://262.ecma-international.org/12.0/#prod-ModuleBody) is a Syntax Error. Additional error conditions relating to conflicting or duplicate declarations are checked during module linking prior to evaluation of a [Module](https://262.ecma-international.org/12.0/#prod-Module). If any such errors are detected the [Module](https://262.ecma-international.org/12.0/#prod-Module) is not evaluated.

## 16.2.1.2 Static Semantics: ImportedLocalNames ( importEntries )

The abstract operation ImportedLocalNames takes argument importEntries (a [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) of ImportEntry Records (see [Table 45](https://262.ecma-international.org/12.0/#table-importentry-record-fields))). It creates a [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) of all of the local name bindings defined by importEntries. It performs the following steps when called:

1.  Let localNames be a new empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).
2.  For each [ImportEntry Record](https://262.ecma-international.org/12.0/#importentry-record) i of importEntries, do
    1.  Append i.\[\[LocalName\]\] to localNames.
3.  Return localNames.

## 16.2.1.3 Static Semantics: ModuleRequests

[Module](https://262.ecma-international.org/12.0/#prod-Module) : \[empty\]

1.  Return a new empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).

[ModuleItemList](https://262.ecma-international.org/12.0/#prod-ModuleItemList) : [ModuleItem](https://262.ecma-international.org/12.0/#prod-ModuleItem)

1.  Return [ModuleRequests](https://262.ecma-international.org/12.0/#sec-static-semantics-modulerequests) of [ModuleItem](https://262.ecma-international.org/12.0/#prod-ModuleItem).

[ModuleItemList](https://262.ecma-international.org/12.0/#prod-ModuleItemList) : [ModuleItemList](https://262.ecma-international.org/12.0/#prod-ModuleItemList) [ModuleItem](https://262.ecma-international.org/12.0/#prod-ModuleItem)

1.  Let moduleNames be [ModuleRequests](https://262.ecma-international.org/12.0/#sec-static-semantics-modulerequests) of [ModuleItemList](https://262.ecma-international.org/12.0/#prod-ModuleItemList).
2.  Let additionalNames be [ModuleRequests](https://262.ecma-international.org/12.0/#sec-static-semantics-modulerequests) of [ModuleItem](https://262.ecma-international.org/12.0/#prod-ModuleItem).
3.  Append to moduleNames each element of additionalNames that is not already an element of moduleNames.
4.  Return moduleNames.

[ModuleItem](https://262.ecma-international.org/12.0/#prod-ModuleItem) : [StatementListItem](https://262.ecma-international.org/12.0/#prod-StatementListItem)

1.  Return a new empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).

[ImportDeclaration](https://262.ecma-international.org/12.0/#prod-ImportDeclaration) : import [ImportClause](https://262.ecma-international.org/12.0/#prod-ImportClause) [FromClause](https://262.ecma-international.org/12.0/#prod-FromClause) ;

1.  Return [ModuleRequests](https://262.ecma-international.org/12.0/#sec-static-semantics-modulerequests) of [FromClause](https://262.ecma-international.org/12.0/#prod-FromClause).

[ModuleSpecifier](https://262.ecma-international.org/12.0/#prod-ModuleSpecifier) : [StringLiteral](https://262.ecma-international.org/12.0/#prod-StringLiteral)

1.  Return a [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) whose sole element is the [SV](https://262.ecma-international.org/12.0/#sec-static-semantics-sv) of [StringLiteral](https://262.ecma-international.org/12.0/#prod-StringLiteral).

[ExportDeclaration](https://262.ecma-international.org/12.0/#prod-ExportDeclaration) : export [ExportFromClause](https://262.ecma-international.org/12.0/#prod-ExportFromClause) [FromClause](https://262.ecma-international.org/12.0/#prod-FromClause) ;

1.  Return the [ModuleRequests](https://262.ecma-international.org/12.0/#sec-static-semantics-modulerequests) of [FromClause](https://262.ecma-international.org/12.0/#prod-FromClause).

[ExportDeclaration](https://262.ecma-international.org/12.0/#prod-ExportDeclaration) : export [NamedExports](https://262.ecma-international.org/12.0/#prod-NamedExports) ; export [VariableStatement](https://262.ecma-international.org/12.0/#prod-VariableStatement) export [Declaration](https://262.ecma-international.org/12.0/#prod-Declaration) export default [HoistableDeclaration](https://262.ecma-international.org/12.0/#prod-HoistableDeclaration) export default [ClassDeclaration](https://262.ecma-international.org/12.0/#prod-ClassDeclaration) export default [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression) ;

1.  Return a new empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).

## 16.2.1.4 Abstract Module Records

A Module Record encapsulates structural information about the imports and exports of a single module. This information is used to link the imports and exports of sets of connected modules. A Module Record includes four fields that are only used when evaluating a module.

For specification purposes Module Record values are values of the [Record](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) specification type and can be thought of as existing in a simple object-oriented hierarchy where Module Record is an abstract class with both abstract and concrete subclasses. This specification defines the abstract subclass named [Cyclic Module Record](https://262.ecma-international.org/12.0/#cyclic-module-record) and its concrete subclass named [Source Text Module Record](https://262.ecma-international.org/12.0/#sourctextmodule-record). Other specifications and implementations may define additional Module Record subclasses corresponding to alternative module definition facilities that they defined.

Module Record defines the fields listed in [Table 40](https://262.ecma-international.org/12.0/#table-module-record-fields). All Module Definition subclasses include at least those fields. Module Record also defines the abstract method list in [Table 41](https://262.ecma-international.org/12.0/#table-abstract-methods-of-module-records). All Module definition subclasses must provide concrete implementations of these abstract methods.

Table 40: [Module Record](https://262.ecma-international.org/12.0/#sec-abstract-module-records) Fields

| Field Name | Value Type | Meaning |
| --- | --- | --- |
| \[\[Realm\]\] | [Realm Record](https://262.ecma-international.org/12.0/#realm-record) | undefined | The [Realm](https://262.ecma-international.org/12.0/#realm) within which this module was created. undefined if not yet assigned. |
| \[\[Environment\]\] | [module Environment Record](https://262.ecma-international.org/12.0/#sec-module-environment-records) | undefined | The [Environment Record](https://262.ecma-international.org/12.0/#sec-environment-records) containing the top level bindings for this module. This field is set when the module is linked. |
| \[\[Namespace\]\] | Object | undefined | The Module Namespace Object ([28.3](https://262.ecma-international.org/12.0/#sec-module-namespace-objects)) if one has been created for this module. Otherwise undefined. |
| \[\[HostDefined\]\] | Any, default value is undefined. | Field reserved for use by [host](https://262.ecma-international.org/12.0/#host) environments that need to associate additional information with a module. |

Table 41: Abstract Methods of Module Records

| Method | Purpose |
| --- | --- |
| GetExportedNames(\[exportStarSet\]) | Return a list of all names that are either directly or indirectly exported from this module. |
| ResolveExport(exportName \[, resolveSet\]) | 
Return the binding of a name exported by this module. Bindings are represented by a ResolvedBinding Record, of the form { \[\[Module\]\]: [Module Record](https://262.ecma-international.org/12.0/#sec-abstract-module-records), \[\[BindingName\]\]: String }. If the export is a Module Namespace Object without a direct binding in any module, \[\[BindingName\]\] will be set to "\*namespace\*". Return null if the name cannot be resolved, or "ambiguous" if multiple bindings were found.

Each time this operation is called with a specific exportName, resolveSet pair as arguments it must return the same result if it completes normally.

 |
| Link() | 

Prepare the module for evaluation by transitively resolving all module dependencies and creating a [module Environment Record](https://262.ecma-international.org/12.0/#sec-module-environment-records).

 |
| Evaluate() | 

If this module has already been evaluated successfully, return undefined; if it has already been evaluated unsuccessfully, throw the exception that was produced. Otherwise, transitively evaluate all module dependencies of this module and then evaluate this module.

Link must have completed successfully prior to invoking this method.

 |

## 16.2.1.5 Cyclic Module Records

A Cyclic Module Record is used to represent information about a module that can participate in dependency cycles with other modules that are subclasses of the [Cyclic Module Record](https://262.ecma-international.org/12.0/#cyclic-module-record) type. Module Records that are not subclasses of the [Cyclic Module Record](https://262.ecma-international.org/12.0/#cyclic-module-record) type must not participate in dependency cycles with Source Text Module Records.

In addition to the fields defined in [Table 40](https://262.ecma-international.org/12.0/#table-module-record-fields) Cyclic Module Records have the additional fields listed in [Table 42](https://262.ecma-international.org/12.0/#table-cyclic-module-fields)

Table 42: Additional Fields of Cyclic Module Records

| Field Name | Value Type | Meaning |
| --- | --- | --- |
| \[\[Status\]\] | unlinked | linking | linked | evaluating | evaluated | Initially unlinked. Transitions to linking, linked, evaluating, evaluated (in that order) as the module progresses throughout its lifecycle. |
| \[\[EvaluationError\]\] | An [abrupt completion](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type) | undefined | A completion of type throw representing the exception that occurred during evaluation. undefined if no exception occurred or if \[\[Status\]\] is not evaluated. |
| \[\[DFSIndex\]\] | [Integer](https://262.ecma-international.org/12.0/#integer) | undefined | Auxiliary field used during Link and Evaluate only. If \[\[Status\]\] is linking or evaluating, this non-negative number records the point at which the module was first visited during the ongoing depth-first traversal of the dependency graph. |
| \[\[DFSAncestorIndex\]\] | [Integer](https://262.ecma-international.org/12.0/#integer) | undefined | Auxiliary field used during Link and Evaluate only. If \[\[Status\]\] is linking or evaluating, this is either the module's own \[\[DFSIndex\]\] or that of an "earlier" module in the same strongly connected component. |
| \[\[RequestedModules\]\] | [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) of String | A [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) of all the [ModuleSpecifier](https://262.ecma-international.org/12.0/#prod-ModuleSpecifier) strings used by the module represented by this record to request the importation of a module. The [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) is source code occurrence ordered. |

In addition to the methods defined in [Table 41](https://262.ecma-international.org/12.0/#table-abstract-methods-of-module-records) Cyclic Module Records have the additional methods listed in [Table 43](https://262.ecma-international.org/12.0/#table-cyclic-module-methods)

Table 43: Additional Abstract Methods of Cyclic Module Records

| Method | Purpose |
| --- | --- |
| [InitializeEnvironment](https://262.ecma-international.org/12.0/#sec-source-text-module-record-initialize-environment)() | Initialize the [Environment Record](https://262.ecma-international.org/12.0/#sec-environment-records) of the module, including resolving all imported bindings, and create the module's [execution context](https://262.ecma-international.org/12.0/#sec-execution-contexts). |
| [ExecuteModule](https://262.ecma-international.org/12.0/#sec-source-text-module-record-execute-module)() | Evaluate the module's code within its [execution context](https://262.ecma-international.org/12.0/#sec-execution-contexts). |

## 16.2.1.5.1 Link ( ) Concrete Method

The Link concrete method of a [Cyclic Module Record](https://262.ecma-international.org/12.0/#cyclic-module-record) module takes no arguments. On success, Link transitions this module's \[\[Status\]\] from unlinked to linked. On failure, an exception is thrown and this module's \[\[Status\]\] remains unlinked. (Most of the work is done by the auxiliary function [InnerModuleLinking](https://262.ecma-international.org/12.0/#sec-InnerModuleLinking).) It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): module.\[\[Status\]\] is not linking or evaluating.
2.  Let stack be a new empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).
3.  Let result be [InnerModuleLinking](https://262.ecma-international.org/12.0/#sec-InnerModuleLinking)(module, stack, 0).
4.  If result is an [abrupt completion](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type), then
    1.  For each [Cyclic Module Record](https://262.ecma-international.org/12.0/#cyclic-module-record) m of stack, do
        1.  [Assert](https://262.ecma-international.org/12.0/#assert): m.\[\[Status\]\] is linking.
        2.  Set m.\[\[Status\]\] to unlinked.
        3.  Set m.\[\[Environment\]\] to undefined.
        4.  Set m.\[\[DFSIndex\]\] to undefined.
        5.  Set m.\[\[DFSAncestorIndex\]\] to undefined.
    2.  [Assert](https://262.ecma-international.org/12.0/#assert): module.\[\[Status\]\] is unlinked.
    3.  Return result.
5.  [Assert](https://262.ecma-international.org/12.0/#assert): module.\[\[Status\]\] is linked or evaluated.
6.  [Assert](https://262.ecma-international.org/12.0/#assert): stack is empty.
7.  Return undefined.

## 16.2.1.5.1.1 InnerModuleLinking ( module, stack, index )

The abstract operation InnerModuleLinking takes arguments module (a [Cyclic Module Record](https://262.ecma-international.org/12.0/#cyclic-module-record)), stack, and index (a non-negative [integer](https://262.ecma-international.org/12.0/#integer)). It is used by Link to perform the actual linking process for module, as well as recursively on all other modules in the dependency graph. The stack and index parameters, as well as a module's \[\[DFSIndex\]\] and \[\[DFSAncestorIndex\]\] fields, keep track of the depth-first search (DFS) traversal. In particular, \[\[DFSAncestorIndex\]\] is used to discover strongly connected components (SCCs), such that all modules in an SCC transition to linked together. It performs the following steps when called:

1.  If module is not a [Cyclic Module Record](https://262.ecma-international.org/12.0/#cyclic-module-record), then
    1.  Perform ? module.Link().
    2.  Return index.
2.  If module.\[\[Status\]\] is linking, linked, or evaluated, then
    1.  Return index.
3.  [Assert](https://262.ecma-international.org/12.0/#assert): module.\[\[Status\]\] is unlinked.
4.  Set module.\[\[Status\]\] to linking.
5.  Set module.\[\[DFSIndex\]\] to index.
6.  Set module.\[\[DFSAncestorIndex\]\] to index.
7.  Set index to index + 1.
8.  Append module to stack.
9.  For each String required of module.\[\[RequestedModules\]\], do
    1.  Let requiredModule be ? [HostResolveImportedModule](https://262.ecma-international.org/12.0/#sec-hostresolveimportedmodule)(module, required).
    2.  Set index to ? [InnerModuleLinking](https://262.ecma-international.org/12.0/#sec-InnerModuleLinking)(requiredModule, stack, index).
    3.  If requiredModule is a [Cyclic Module Record](https://262.ecma-international.org/12.0/#cyclic-module-record), then
        1.  [Assert](https://262.ecma-international.org/12.0/#assert): requiredModule.\[\[Status\]\] is either linking, linked, or evaluated.
        2.  [Assert](https://262.ecma-international.org/12.0/#assert): requiredModule.\[\[Status\]\] is linking if and only if requiredModule is in stack.
        3.  If requiredModule.\[\[Status\]\] is linking, then
            1.  Set module.\[\[DFSAncestorIndex\]\] to [min](https://262.ecma-international.org/12.0/#eqn-min)(module.\[\[DFSAncestorIndex\]\], requiredModule.\[\[DFSAncestorIndex\]\]).
10.  Perform ? module.[InitializeEnvironment](https://262.ecma-international.org/12.0/#sec-source-text-module-record-initialize-environment)().
11.  [Assert](https://262.ecma-international.org/12.0/#assert): module occurs exactly once in stack.
12.  [Assert](https://262.ecma-international.org/12.0/#assert): module.\[\[DFSAncestorIndex\]\] ≤ module.\[\[DFSIndex\]\].
13.  If module.\[\[DFSAncestorIndex\]\] = module.\[\[DFSIndex\]\], then
    1.  Let done be false.
    2.  Repeat, while done is false,
        1.  Let requiredModule be the last element in stack.
        2.  Remove the last element of stack.
        3.  [Assert](https://262.ecma-international.org/12.0/#assert): requiredModule is a [Cyclic Module Record](https://262.ecma-international.org/12.0/#cyclic-module-record).
        4.  Set requiredModule.\[\[Status\]\] to linked.
        5.  If requiredModule and module are the same [Module Record](https://262.ecma-international.org/12.0/#sec-abstract-module-records), set done to true.
14.  Return index.

## 16.2.1.5.2 Evaluate ( ) Concrete Method

The Evaluate concrete method of a [Cyclic Module Record](https://262.ecma-international.org/12.0/#cyclic-module-record) module takes no arguments. Evaluate transitions this module's \[\[Status\]\] from linked to evaluated. If execution results in an exception, that exception is recorded in the \[\[EvaluationError\]\] field and rethrown by future invocations of Evaluate. (Most of the work is done by the auxiliary function [InnerModuleEvaluation](https://262.ecma-international.org/12.0/#sec-innermoduleevaluation).) It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): This call to Evaluate is not happening at the same time as another call to Evaluate within the [surrounding agent](https://262.ecma-international.org/12.0/#surrounding-agent).
2.  [Assert](https://262.ecma-international.org/12.0/#assert): module.\[\[Status\]\] is linked or evaluated.
3.  Let stack be a new empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).
4.  Let result be [InnerModuleEvaluation](https://262.ecma-international.org/12.0/#sec-innermoduleevaluation)(module, stack, 0).
5.  If result is an [abrupt completion](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type), then
    1.  For each [Cyclic Module Record](https://262.ecma-international.org/12.0/#cyclic-module-record) m of stack, do
        1.  [Assert](https://262.ecma-international.org/12.0/#assert): m.\[\[Status\]\] is evaluating.
        2.  Set m.\[\[Status\]\] to evaluated.
        3.  Set m.\[\[EvaluationError\]\] to result.
    2.  [Assert](https://262.ecma-international.org/12.0/#assert): module.\[\[Status\]\] is evaluated and module.\[\[EvaluationError\]\] is result.
    3.  Return result.
6.  [Assert](https://262.ecma-international.org/12.0/#assert): module.\[\[Status\]\] is evaluated and module.\[\[EvaluationError\]\] is undefined.
7.  [Assert](https://262.ecma-international.org/12.0/#assert): stack is empty.
8.  Return undefined.

## 16.2.1.5.2.1 InnerModuleEvaluation ( module, stack, index )

The abstract operation InnerModuleEvaluation takes arguments module (a [Module Record](https://262.ecma-international.org/12.0/#sec-abstract-module-records)), stack, and index (a non-negative [integer](https://262.ecma-international.org/12.0/#integer)). It is used by Evaluate to perform the actual evaluation process for module, as well as recursively on all other modules in the dependency graph. The stack and index parameters, as well as module's \[\[DFSIndex\]\] and \[\[DFSAncestorIndex\]\] fields, are used the same way as in [InnerModuleLinking](https://262.ecma-international.org/12.0/#sec-InnerModuleLinking). It performs the following steps when called:

1.  If module is not a [Cyclic Module Record](https://262.ecma-international.org/12.0/#cyclic-module-record), then
    1.  Perform ? module.Evaluate().
    2.  Return index.
2.  If module.\[\[Status\]\] is evaluated, then
    1.  If module.\[\[EvaluationError\]\] is undefined, return index.
    2.  Otherwise, return module.\[\[EvaluationError\]\].
3.  If module.\[\[Status\]\] is evaluating, return index.
4.  [Assert](https://262.ecma-international.org/12.0/#assert): module.\[\[Status\]\] is linked.
5.  Set module.\[\[Status\]\] to evaluating.
6.  Set module.\[\[DFSIndex\]\] to index.
7.  Set module.\[\[DFSAncestorIndex\]\] to index.
8.  Set index to index + 1.
9.  Append module to stack.
10.  For each String required of module.\[\[RequestedModules\]\], do
    1.  Let requiredModule be ! [HostResolveImportedModule](https://262.ecma-international.org/12.0/#sec-hostresolveimportedmodule)(module, required).
    2.  NOTE: Link must be completed successfully prior to invoking this method, so every requested module is guaranteed to resolve successfully.
    3.  Set index to ? [InnerModuleEvaluation](https://262.ecma-international.org/12.0/#sec-innermoduleevaluation)(requiredModule, stack, index).
    4.  If requiredModule is a [Cyclic Module Record](https://262.ecma-international.org/12.0/#cyclic-module-record), then
        1.  [Assert](https://262.ecma-international.org/12.0/#assert): requiredModule.\[\[Status\]\] is either evaluating or evaluated.
        2.  [Assert](https://262.ecma-international.org/12.0/#assert): requiredModule.\[\[Status\]\] is evaluating if and only if requiredModule is in stack.
        3.  If requiredModule.\[\[Status\]\] is evaluating, then
            1.  Set module.\[\[DFSAncestorIndex\]\] to [min](https://262.ecma-international.org/12.0/#eqn-min)(module.\[\[DFSAncestorIndex\]\], requiredModule.\[\[DFSAncestorIndex\]\]).
11.  Perform ? module.[ExecuteModule](https://262.ecma-international.org/12.0/#sec-source-text-module-record-execute-module)().
12.  [Assert](https://262.ecma-international.org/12.0/#assert): module occurs exactly once in stack.
13.  [Assert](https://262.ecma-international.org/12.0/#assert): module.\[\[DFSAncestorIndex\]\] ≤ module.\[\[DFSIndex\]\].
14.  If module.\[\[DFSAncestorIndex\]\] = module.\[\[DFSIndex\]\], then
    1.  Let done be false.
    2.  Repeat, while done is false,
        1.  Let requiredModule be the last element in stack.
        2.  Remove the last element of stack.
        3.  [Assert](https://262.ecma-international.org/12.0/#assert): requiredModule is a [Cyclic Module Record](https://262.ecma-international.org/12.0/#cyclic-module-record).
        4.  Set requiredModule.\[\[Status\]\] to evaluated.
        5.  If requiredModule and module are the same [Module Record](https://262.ecma-international.org/12.0/#sec-abstract-module-records), set done to true.
15.  Return index.

## 16.2.1.5.3 Example Cyclic Module Record Graphs

This non-normative section gives a series of examples of the linking and evaluation of a few common module graphs, with a specific focus on how errors can occur.

First consider the following simple module graph:

Figure 2: A simple module graph

![A module graph in which module A depends on module B, and module B depends on module C](https://262.ecma-international.org/12.0/img/module-graph-simple.svg)

Let's first assume that there are no error conditions. When a [host](https://262.ecma-international.org/12.0/#host) first calls A.Link(), this will complete successfully by assumption, and recursively link modules B and C as well, such that A.\[\[Status\]\] = B.\[\[Status\]\] = C.\[\[Status\]\] = linked. This preparatory step can be performed at any time. Later, when the [host](https://262.ecma-international.org/12.0/#host) is ready to incur any possible side effects of the modules, it can call A.Evaluate(), which will complete successfully (again by assumption), recursively having evaluated first C and then B. Each module's \[\[Status\]\] at this point will be evaluated.

Consider then cases involving linking errors. If [InnerModuleLinking](https://262.ecma-international.org/12.0/#sec-InnerModuleLinking) of C succeeds but, thereafter, fails for B, for example because it imports something that C does not provide, then the original A.Link() will fail, and both A and B's \[\[Status\]\] remain unlinked. C's \[\[Status\]\] has become linked, though.

Finally, consider a case involving evaluation errors. If [InnerModuleEvaluation](https://262.ecma-international.org/12.0/#sec-innermoduleevaluation) of C succeeds but, thereafter, fails for B, for example because B contains code that throws an exception, then the original A.Evaluate() will fail. The resulting exception will be recorded in both A and B's \[\[EvaluationError\]\] fields, and their \[\[Status\]\] will become evaluated. C will also become evaluated but, in contrast to A and B, will remain without an \[\[EvaluationError\]\], as it successfully completed evaluation. Storing the exception ensures that any time a [host](https://262.ecma-international.org/12.0/#host) tries to reuse A or B by calling their Evaluate() method, it will encounter the same exception. (Hosts are not required to reuse Cyclic Module Records; similarly, hosts are not required to expose the exception objects thrown by these methods. However, the specification enables such uses.)

The difference here between linking and evaluation errors is due to how evaluation must be only performed once, as it can cause side effects; it is thus important to remember whether evaluation has already been performed, even if unsuccessfully. (In the error case, it makes sense to also remember the exception because otherwise subsequent Evaluate() calls would have to synthesize a new one.) Linking, on the other hand, is side-effect-free, and thus even if it fails, it can be retried at a later time with no issues.

Now consider a different type of error condition:

Figure 3: A module graph with an unresolvable module

![A module graph in which module A depends on a missing (unresolvable) module, represented by ???](https://262.ecma-international.org/12.0/img/module-graph-missing.svg)

In this scenario, module A declares a dependency on some other module, but no [Module Record](https://262.ecma-international.org/12.0/#sec-abstract-module-records) exists for that module, i.e. [HostResolveImportedModule](https://262.ecma-international.org/12.0/#sec-hostresolveimportedmodule) throws an exception when asked for it. This could occur for a variety of reasons, such as the corresponding resource not existing, or the resource existing but [ParseModule](https://262.ecma-international.org/12.0/#sec-parsemodule) throwing an exception when trying to parse the resulting source text. Hosts can choose to expose the cause of failure via the exception they throw from [HostResolveImportedModule](https://262.ecma-international.org/12.0/#sec-hostresolveimportedmodule). In any case, this exception causes a linking failure, which as before results in A's \[\[Status\]\] remaining unlinked.

Lastly, consider a module graph with a cycle:

Figure 4: A cyclic module graph

![A module graph in which module A depends on module B and C, but module B also depends on module A](https://262.ecma-international.org/12.0/img/module-graph-cycle.svg)

Here we assume that the entry point is module A, so that the [host](https://262.ecma-international.org/12.0/#host) proceeds by calling A.Link(), which performs [InnerModuleLinking](https://262.ecma-international.org/12.0/#sec-InnerModuleLinking) on A. This in turn calls [InnerModuleLinking](https://262.ecma-international.org/12.0/#sec-InnerModuleLinking) on B. Because of the cycle, this again triggers [InnerModuleLinking](https://262.ecma-international.org/12.0/#sec-InnerModuleLinking) on A, but at this point it is a no-op since A.\[\[Status\]\] is already linking. B.\[\[Status\]\] itself remains linking when control gets back to A and [InnerModuleLinking](https://262.ecma-international.org/12.0/#sec-InnerModuleLinking) is triggered on C. After this returns with C.\[\[Status\]\] being linked, both A and B transition from linking to linked together; this is by design, since they form a strongly connected component.

An analogous story occurs for the evaluation phase of a cyclic module graph, in the success case.

Now consider a case where A has an linking error; for example, it tries to import a binding from C that does not exist. In that case, the above steps still occur, including the early return from the second call to [InnerModuleLinking](https://262.ecma-international.org/12.0/#sec-InnerModuleLinking) on A. However, once we unwind back to the original [InnerModuleLinking](https://262.ecma-international.org/12.0/#sec-InnerModuleLinking) on A, it fails during [InitializeEnvironment](https://262.ecma-international.org/12.0/#sec-source-text-module-record-initialize-environment), namely right after C.ResolveExport(). The thrown SyntaxError exception propagates up to A.Link, which resets all modules that are currently on its stack (these are always exactly the modules that are still linking). Hence both A and B become unlinked. Note that C is left as linked.

Finally, consider a case where A has an evaluation error; for example, its source code throws an exception. In that case, the evaluation-time analog of the above steps still occurs, including the early return from the second call to [InnerModuleEvaluation](https://262.ecma-international.org/12.0/#sec-innermoduleevaluation) on A. However, once we unwind back to the original [InnerModuleEvaluation](https://262.ecma-international.org/12.0/#sec-innermoduleevaluation) on A, it fails by assumption. The exception thrown propagates up to A.Evaluate(), which records the error in all modules that are currently on its stack (i.e., the modules that are still evaluating). Hence both A and B become evaluated and the exception is recorded in both A and B's \[\[EvaluationError\]\] fields, while C is left as evaluated with no \[\[EvaluationError\]\].

## 16.2.1.6 Source Text Module Records

A Source Text Module Record is used to represent information about a module that was defined from ECMAScript source text ([11](https://262.ecma-international.org/12.0/#sec-ecmascript-language-source-code)) that was parsed using the [goal symbol](https://262.ecma-international.org/12.0/#sec-context-free-grammars) [Module](https://262.ecma-international.org/12.0/#prod-Module). Its fields contain digested information about the names that are imported by the module and its concrete methods use this digest to link, link, and evaluate the module.

A [Source Text Module Record](https://262.ecma-international.org/12.0/#sourctextmodule-record) can exist in a module graph with other subclasses of the abstract [Module Record](https://262.ecma-international.org/12.0/#sec-abstract-module-records) type, and can participate in cycles with other subclasses of the [Cyclic Module Record](https://262.ecma-international.org/12.0/#cyclic-module-record) type.

In addition to the fields defined in [Table 42](https://262.ecma-international.org/12.0/#table-cyclic-module-fields), Source Text Module Records have the additional fields listed in [Table 44](https://262.ecma-international.org/12.0/#table-additional-fields-of-source-text-module-records). Each of these fields is initially set in [ParseModule](https://262.ecma-international.org/12.0/#sec-parsemodule).

Table 44: Additional Fields of Source Text Module Records

| Field Name | Value Type | Meaning |
| --- | --- | --- |
| \[\[ECMAScriptCode\]\] | a [Parse Node](https://262.ecma-international.org/12.0/#sec-syntactic-grammar) | The result of parsing the source text of this module using [Module](https://262.ecma-international.org/12.0/#prod-Module) as the [goal symbol](https://262.ecma-international.org/12.0/#sec-context-free-grammars). |
| \[\[Context\]\] | An ECMAScript [execution context](https://262.ecma-international.org/12.0/#sec-execution-contexts). | The [execution context](https://262.ecma-international.org/12.0/#sec-execution-contexts) associated with this module. |
| \[\[ImportMeta\]\] | Object | An object exposed through the `import.meta` meta property. It is empty until it is accessed by ECMAScript code. |
| \[\[ImportEntries\]\] | [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) of ImportEntry Records | A [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) of ImportEntry records derived from the code of this module. |
| \[\[LocalExportEntries\]\] | [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) of ExportEntry Records | A [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) of ExportEntry records derived from the code of this module that correspond to declarations that occur within the module. |
| \[\[IndirectExportEntries\]\] | [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) of ExportEntry Records | A [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) of ExportEntry records derived from the code of this module that correspond to reexported imports that occur within the module or exports from `export * as namespace` declarations. |
| \[\[StarExportEntries\]\] | [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) of ExportEntry Records | A [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) of ExportEntry records derived from the code of this module that correspond to `export *` declarations that occur within the module, not including `export * as namespace` declarations. |

An ImportEntry Record is a [Record](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) that digests information about a single declarative import. Each [ImportEntry Record](https://262.ecma-international.org/12.0/#importentry-record) has the fields defined in [Table 45](https://262.ecma-international.org/12.0/#table-importentry-record-fields):

Table 45: [ImportEntry Record](https://262.ecma-international.org/12.0/#importentry-record) Fields

| Field Name | Value Type | Meaning |
| --- | --- | --- |
| \[\[ModuleRequest\]\] | String | String value of the [ModuleSpecifier](https://262.ecma-international.org/12.0/#prod-ModuleSpecifier) of the [ImportDeclaration](https://262.ecma-international.org/12.0/#prod-ImportDeclaration). |
| \[\[ImportName\]\] | String | The name under which the desired binding is exported by the module identified by \[\[ModuleRequest\]\]. The value "\*" indicates that the import request is for the target module's namespace object. |
| \[\[LocalName\]\] | String | The name that is used to locally access the imported value from within the importing module. |

Note 1

[Table 46](https://262.ecma-international.org/12.0/#table-import-forms-mapping-to-importentry-records) gives examples of ImportEntry records fields used to represent the syntactic import forms:

Table 46 (Informative): Import Forms Mappings to ImportEntry Records

| Import Statement Form | \[\[ModuleRequest\]\] | \[\[ImportName\]\] | \[\[LocalName\]\] |
| --- | --- | --- | --- |
| `import v from "mod";` | "mod" | "default" | "v" |
| `import * as ns from "mod";` | "mod" | "\*" | "ns" |
| `import {x} from "mod";` | "mod" | "x" | "x" |
| `import {x as v} from "mod";` | "mod" | "x" | "v" |
| `import "mod";` | An [ImportEntry Record](https://262.ecma-international.org/12.0/#importentry-record) is not created. |

An ExportEntry Record is a [Record](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) that digests information about a single declarative export. Each [ExportEntry Record](https://262.ecma-international.org/12.0/#exportentry-record) has the fields defined in [Table 47](https://262.ecma-international.org/12.0/#table-exportentry-records):

Table 47: [ExportEntry Record](https://262.ecma-international.org/12.0/#exportentry-record) Fields

| Field Name | Value Type | Meaning |
| --- | --- | --- |
| \[\[ExportName\]\] | String | null | The name used to export this binding by this module. |
| \[\[ModuleRequest\]\] | String | null | The String value of the [ModuleSpecifier](https://262.ecma-international.org/12.0/#prod-ModuleSpecifier) of the [ExportDeclaration](https://262.ecma-international.org/12.0/#prod-ExportDeclaration). null if the [ExportDeclaration](https://262.ecma-international.org/12.0/#prod-ExportDeclaration) does not have a [ModuleSpecifier](https://262.ecma-international.org/12.0/#prod-ModuleSpecifier). |
| \[\[ImportName\]\] | String | null | The name under which the desired binding is exported by the module identified by \[\[ModuleRequest\]\]. null if the [ExportDeclaration](https://262.ecma-international.org/12.0/#prod-ExportDeclaration) does not have a [ModuleSpecifier](https://262.ecma-international.org/12.0/#prod-ModuleSpecifier). "\*" indicates that the export request is for all exported bindings. |
| \[\[LocalName\]\] | String | null | The name that is used to locally access the exported value from within the importing module. null if the exported value is not locally accessible from within the module. |

Note 2

[Table 48](https://262.ecma-international.org/12.0/#table-export-forms-mapping-to-exportentry-records) gives examples of the ExportEntry record fields used to represent the syntactic export forms:

Table 48 (Informative): Export Forms Mappings to ExportEntry Records

| Export Statement Form | \[\[ExportName\]\] | \[\[ModuleRequest\]\] | \[\[ImportName\]\] | \[\[LocalName\]\] |
| --- | --- | --- | --- | --- |
| `export var v;` | "v" | null | null | "v" |
| `export default function f() {}` | "default" | null | null | "f" |
| `export default function () {}` | "default" | null | null | "\*default\*" |
| `export default 42;` | "default" | null | null | "\*default\*" |
| `export {x};` | "x" | null | null | "x" |
| `export {v as x};` | "x" | null | null | "v" |
| `export {x} from "mod";` | "x" | "mod" | "x" | null |
| `export {v as x} from "mod";` | "x" | "mod" | "v" | null |
| `export * from "mod";` | null | "mod" | "\*" | null |
| `export * as ns from "mod";` | "ns" | "mod" | "\*" | null |

The following definitions specify the required concrete methods and other [abstract operations](https://262.ecma-international.org/12.0/#sec-algorithm-conventions-abstract-operations) for Source Text Module Records

## 16.2.1.6.1 ParseModule ( sourceText, realm, hostDefined )

The abstract operation ParseModule takes arguments sourceText (ECMAScript source text), realm, and hostDefined. It creates a [Source Text Module Record](https://262.ecma-international.org/12.0/#sourctextmodule-record) based upon the result of parsing sourceText as a [Module](https://262.ecma-international.org/12.0/#prod-Module). It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): sourceText is an ECMAScript source text (see clause [11](https://262.ecma-international.org/12.0/#sec-ecmascript-language-source-code)).
2.  Let body be [ParseText](https://262.ecma-international.org/12.0/#sec-parsetext)(sourceText, [Module](https://262.ecma-international.org/12.0/#prod-Module)).
3.  If body is a [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) of errors, return body.
4.  Let requestedModules be the [ModuleRequests](https://262.ecma-international.org/12.0/#sec-static-semantics-modulerequests) of body.
5.  Let importEntries be [ImportEntries](https://262.ecma-international.org/12.0/#sec-static-semantics-importentries) of body.
6.  Let importedBoundNames be [ImportedLocalNames](https://262.ecma-international.org/12.0/#sec-importedlocalnames)(importEntries).
7.  Let indirectExportEntries be a new empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).
8.  Let localExportEntries be a new empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).
9.  Let starExportEntries be a new empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).
10.  Let exportEntries be [ExportEntries](https://262.ecma-international.org/12.0/#sec-static-semantics-exportentries) of body.
11.  For each [ExportEntry Record](https://262.ecma-international.org/12.0/#exportentry-record) ee of exportEntries, do
    1.  If ee.\[\[ModuleRequest\]\] is null, then
        1.  If ee.\[\[LocalName\]\] is not an element of importedBoundNames, then
            1.  Append ee to localExportEntries.
        2.  Else,
            1.  Let ie be the element of importEntries whose \[\[LocalName\]\] is the same as ee.\[\[LocalName\]\].
            2.  If ie.\[\[ImportName\]\] is "\*", then
                1.  NOTE: This is a re-export of an imported module namespace object.
                2.  Append ee to localExportEntries.
            3.  Else,
                1.  NOTE: This is a re-export of a single name.
                2.  Append the [ExportEntry Record](https://262.ecma-international.org/12.0/#exportentry-record) { \[\[ModuleRequest\]\]: ie.\[\[ModuleRequest\]\], \[\[ImportName\]\]: ie.\[\[ImportName\]\], \[\[LocalName\]\]: null, \[\[ExportName\]\]: ee.\[\[ExportName\]\] } to indirectExportEntries.
    2.  Else if ee.\[\[ImportName\]\] is "\*" and ee.\[\[ExportName\]\] is null, then
        1.  Append ee to starExportEntries.
    3.  Else,
        1.  Append ee to indirectExportEntries.
12.  Return [Source Text Module Record](https://262.ecma-international.org/12.0/#sourctextmodule-record) { \[\[Realm\]\]: realm, \[\[Environment\]\]: undefined, \[\[Namespace\]\]: undefined, \[\[Status\]\]: unlinked, \[\[EvaluationError\]\]: undefined, \[\[HostDefined\]\]: hostDefined, \[\[ECMAScriptCode\]\]: body, \[\[Context\]\]: empty, \[\[ImportMeta\]\]: empty, \[\[RequestedModules\]\]: requestedModules, \[\[ImportEntries\]\]: importEntries, \[\[LocalExportEntries\]\]: localExportEntries, \[\[IndirectExportEntries\]\]: indirectExportEntries, \[\[StarExportEntries\]\]: starExportEntries, \[\[DFSIndex\]\]: undefined, \[\[DFSAncestorIndex\]\]: undefined }.

Note

An implementation may parse module source text and analyse it for Early Error conditions prior to the evaluation of ParseModule for that module source text. However, the reporting of any errors must be deferred until the point where this specification actually performs ParseModule upon that source text.

## 16.2.1.6.2 GetExportedNames ( \[ exportStarSet \] ) Concrete Method

The GetExportedNames concrete method of a [Source Text Module Record](https://262.ecma-international.org/12.0/#sourctextmodule-record) module takes optional argument exportStarSet. It performs the following steps when called:

1.  If exportStarSet is not present, set exportStarSet to a new empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).
2.  [Assert](https://262.ecma-international.org/12.0/#assert): exportStarSet is a [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) of Source Text Module Records.
3.  If exportStarSet contains module, then
    1.  [Assert](https://262.ecma-international.org/12.0/#assert): We've reached the starting point of an `export *` circularity.
    2.  Return a new empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).
4.  Append module to exportStarSet.
5.  Let exportedNames be a new empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).
6.  For each [ExportEntry Record](https://262.ecma-international.org/12.0/#exportentry-record) e of module.\[\[LocalExportEntries\]\], do
    1.  [Assert](https://262.ecma-international.org/12.0/#assert): module provides the direct binding for this export.
    2.  Append e.\[\[ExportName\]\] to exportedNames.
7.  For each [ExportEntry Record](https://262.ecma-international.org/12.0/#exportentry-record) e of module.\[\[IndirectExportEntries\]\], do
    1.  [Assert](https://262.ecma-international.org/12.0/#assert): module imports a specific binding for this export.
    2.  Append e.\[\[ExportName\]\] to exportedNames.
8.  For each [ExportEntry Record](https://262.ecma-international.org/12.0/#exportentry-record) e of module.\[\[StarExportEntries\]\], do
    1.  Let requestedModule be ? [HostResolveImportedModule](https://262.ecma-international.org/12.0/#sec-hostresolveimportedmodule)(module, e.\[\[ModuleRequest\]\]).
    2.  Let starNames be ? requestedModule.GetExportedNames(exportStarSet).
    3.  For each element n of starNames, do
        1.  If [SameValue](https://262.ecma-international.org/12.0/#sec-samevalue)(n, "default") is false, then
            1.  If n is not an element of exportedNames, then
                1.  Append n to exportedNames.
9.  Return exportedNames.

Note

GetExportedNames does not filter out or throw an exception for names that have ambiguous star export bindings.

## 16.2.1.6.3 ResolveExport ( exportName \[ , resolveSet \] ) Concrete Method

The ResolveExport concrete method of a [Source Text Module Record](https://262.ecma-international.org/12.0/#sourctextmodule-record) module takes argument exportName (a String) and optional argument resolveSet.

ResolveExport attempts to resolve an imported binding to the actual defining module and local binding name. The defining module may be the module represented by the [Module Record](https://262.ecma-international.org/12.0/#sec-abstract-module-records) this method was invoked on or some other module that is imported by that module. The parameter resolveSet is used to detect unresolved circular import/export paths. If a pair consisting of specific [Module Record](https://262.ecma-international.org/12.0/#sec-abstract-module-records) and exportName is reached that is already in resolveSet, an import circularity has been encountered. Before recursively calling ResolveExport, a pair consisting of module and exportName is added to resolveSet.

If a defining module is found, a [ResolvedBinding Record](https://262.ecma-international.org/12.0/#resolvedbinding-record) { \[\[Module\]\], \[\[BindingName\]\] } is returned. This record identifies the resolved binding of the originally requested export, unless this is the export of a namespace with no local binding. In this case, \[\[BindingName\]\] will be set to "\*namespace\*". If no definition was found or the request is found to be circular, null is returned. If the request is found to be ambiguous, the string "ambiguous" is returned.

This concrete method performs the following steps when called:

1.  If resolveSet is not present, set resolveSet to a new empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).
2.  [Assert](https://262.ecma-international.org/12.0/#assert): resolveSet is a [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) of [Record](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) { \[\[Module\]\], \[\[ExportName\]\] }.
3.  For each [Record](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) { \[\[Module\]\], \[\[ExportName\]\] } r of resolveSet, do
    1.  If module and r.\[\[Module\]\] are the same [Module Record](https://262.ecma-international.org/12.0/#sec-abstract-module-records) and [SameValue](https://262.ecma-international.org/12.0/#sec-samevalue)(exportName, r.\[\[ExportName\]\]) is true, then
        1.  [Assert](https://262.ecma-international.org/12.0/#assert): This is a circular import request.
        2.  Return null.
4.  Append the [Record](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) { \[\[Module\]\]: module, \[\[ExportName\]\]: exportName } to resolveSet.
5.  For each [ExportEntry Record](https://262.ecma-international.org/12.0/#exportentry-record) e of module.\[\[LocalExportEntries\]\], do
    1.  If [SameValue](https://262.ecma-international.org/12.0/#sec-samevalue)(exportName, e.\[\[ExportName\]\]) is true, then
        1.  [Assert](https://262.ecma-international.org/12.0/#assert): module provides the direct binding for this export.
        2.  Return [ResolvedBinding Record](https://262.ecma-international.org/12.0/#resolvedbinding-record) { \[\[Module\]\]: module, \[\[BindingName\]\]: e.\[\[LocalName\]\] }.
6.  For each [ExportEntry Record](https://262.ecma-international.org/12.0/#exportentry-record) e of module.\[\[IndirectExportEntries\]\], do
    1.  If [SameValue](https://262.ecma-international.org/12.0/#sec-samevalue)(exportName, e.\[\[ExportName\]\]) is true, then
        1.  Let importedModule be ? [HostResolveImportedModule](https://262.ecma-international.org/12.0/#sec-hostresolveimportedmodule)(module, e.\[\[ModuleRequest\]\]).
        2.  If e.\[\[ImportName\]\] is "\*", then
            1.  [Assert](https://262.ecma-international.org/12.0/#assert): module does not provide the direct binding for this export.
            2.  Return [ResolvedBinding Record](https://262.ecma-international.org/12.0/#resolvedbinding-record) { \[\[Module\]\]: importedModule, \[\[BindingName\]\]: "\*namespace\*" }.
        3.  Else,
            1.  [Assert](https://262.ecma-international.org/12.0/#assert): module imports a specific binding for this export.
            2.  Return importedModule.ResolveExport(e.\[\[ImportName\]\], resolveSet).
7.  If [SameValue](https://262.ecma-international.org/12.0/#sec-samevalue)(exportName, "default") is true, then
    1.  [Assert](https://262.ecma-international.org/12.0/#assert): A `default` export was not explicitly defined by this module.
    2.  Return null.
    3.  NOTE: A `default` export cannot be provided by an `export *` or `export * from "mod"` declaration.
8.  Let starResolution be null.
9.  For each [ExportEntry Record](https://262.ecma-international.org/12.0/#exportentry-record) e of module.\[\[StarExportEntries\]\], do
    1.  Let importedModule be ? [HostResolveImportedModule](https://262.ecma-international.org/12.0/#sec-hostresolveimportedmodule)(module, e.\[\[ModuleRequest\]\]).
    2.  Let resolution be ? importedModule.ResolveExport(exportName, resolveSet).
    3.  If resolution is "ambiguous", return "ambiguous".
    4.  If resolution is not null, then
        1.  [Assert](https://262.ecma-international.org/12.0/#assert): resolution is a [ResolvedBinding Record](https://262.ecma-international.org/12.0/#resolvedbinding-record).
        2.  If starResolution is null, set starResolution to resolution.
        3.  Else,
            1.  [Assert](https://262.ecma-international.org/12.0/#assert): There is more than one `*` import that includes the requested name.
            2.  If resolution.\[\[Module\]\] and starResolution.\[\[Module\]\] are not the same [Module Record](https://262.ecma-international.org/12.0/#sec-abstract-module-records) or [SameValue](https://262.ecma-international.org/12.0/#sec-samevalue)(resolution.\[\[BindingName\]\], starResolution.\[\[BindingName\]\]) is false, return "ambiguous".
10.  Return starResolution.

## 16.2.1.6.4 InitializeEnvironment ( ) Concrete Method

The InitializeEnvironment concrete method of a [Source Text Module Record](https://262.ecma-international.org/12.0/#sourctextmodule-record) module takes no arguments. It performs the following steps when called:

1.  For each [ExportEntry Record](https://262.ecma-international.org/12.0/#exportentry-record) e of module.\[\[IndirectExportEntries\]\], do
    1.  Let resolution be ? module.ResolveExport(e.\[\[ExportName\]\]).
    2.  If resolution is null or "ambiguous", throw a SyntaxError exception.
    3.  [Assert](https://262.ecma-international.org/12.0/#assert): resolution is a [ResolvedBinding Record](https://262.ecma-international.org/12.0/#resolvedbinding-record).
2.  [Assert](https://262.ecma-international.org/12.0/#assert): All named exports from module are resolvable.
3.  Let realm be module.\[\[Realm\]\].
4.  [Assert](https://262.ecma-international.org/12.0/#assert): realm is not undefined.
5.  Let env be [NewModuleEnvironment](https://262.ecma-international.org/12.0/#sec-newmoduleenvironment)(realm.\[\[GlobalEnv\]\]).
6.  Set module.\[\[Environment\]\] to env.
7.  For each [ImportEntry Record](https://262.ecma-international.org/12.0/#importentry-record) in of module.\[\[ImportEntries\]\], do
    1.  Let importedModule be ! [HostResolveImportedModule](https://262.ecma-international.org/12.0/#sec-hostresolveimportedmodule)(module, in.\[\[ModuleRequest\]\]).
    2.  NOTE: The above call cannot fail because imported module requests are a subset of module.\[\[RequestedModules\]\], and these have been resolved earlier in this algorithm.
    3.  If in.\[\[ImportName\]\] is "\*", then
        1.  Let namespace be ? [GetModuleNamespace](https://262.ecma-international.org/12.0/#sec-getmodulenamespace)(importedModule).
        2.  Perform ! env.CreateImmutableBinding(in.\[\[LocalName\]\], true).
        3.  Call env.InitializeBinding(in.\[\[LocalName\]\], namespace).
    4.  Else,
        1.  Let resolution be ? importedModule.ResolveExport(in.\[\[ImportName\]\]).
        2.  If resolution is null or "ambiguous", throw a SyntaxError exception.
        3.  If resolution.\[\[BindingName\]\] is "\*namespace\*", then
            1.  Let namespace be ? [GetModuleNamespace](https://262.ecma-international.org/12.0/#sec-getmodulenamespace)(resolution.\[\[Module\]\]).
            2.  Perform ! env.CreateImmutableBinding(in.\[\[LocalName\]\], true).
            3.  Call env.InitializeBinding(in.\[\[LocalName\]\], namespace).
        4.  Else,
            1.  Call env.CreateImportBinding(in.\[\[LocalName\]\], resolution.\[\[Module\]\], resolution.\[\[BindingName\]\]).
8.  Let moduleContext be a new ECMAScript code [execution context](https://262.ecma-international.org/12.0/#sec-execution-contexts).
9.  Set the Function of moduleContext to null.
10.  [Assert](https://262.ecma-international.org/12.0/#assert): module.\[\[Realm\]\] is not undefined.
11.  Set the [Realm](https://262.ecma-international.org/12.0/#realm) of moduleContext to module.\[\[Realm\]\].
12.  Set the ScriptOrModule of moduleContext to module.
13.  Set the VariableEnvironment of moduleContext to module.\[\[Environment\]\].
14.  Set the LexicalEnvironment of moduleContext to module.\[\[Environment\]\].
15.  Set module.\[\[Context\]\] to moduleContext.
16.  Push moduleContext onto the [execution context stack](https://262.ecma-international.org/12.0/#execution-context-stack); moduleContext is now the [running execution context](https://262.ecma-international.org/12.0/#running-execution-context).
17.  Let code be module.\[\[ECMAScriptCode\]\].
18.  Let varDeclarations be the [VarScopedDeclarations](https://262.ecma-international.org/12.0/#sec-static-semantics-varscopeddeclarations) of code.
19.  Let declaredVarNames be a new empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).
20.  For each element d of varDeclarations, do
    1.  For each element dn of the [BoundNames](https://262.ecma-international.org/12.0/#sec-static-semantics-boundnames) of d, do
        1.  If dn is not an element of declaredVarNames, then
            1.  Perform ! env.CreateMutableBinding(dn, false).
            2.  Call env.InitializeBinding(dn, undefined).
            3.  Append dn to declaredVarNames.
21.  Let lexDeclarations be the [LexicallyScopedDeclarations](https://262.ecma-international.org/12.0/#sec-static-semantics-lexicallyscopeddeclarations) of code.
22.  For each element d of lexDeclarations, do
    1.  For each element dn of the [BoundNames](https://262.ecma-international.org/12.0/#sec-static-semantics-boundnames) of d, do
        1.  If [IsConstantDeclaration](https://262.ecma-international.org/12.0/#sec-static-semantics-isconstantdeclaration) of d is true, then
            1.  Perform ! env.CreateImmutableBinding(dn, true).
        2.  Else,
            1.  Perform ! env.CreateMutableBinding(dn, false).
        3.  If d is a [FunctionDeclaration](https://262.ecma-international.org/12.0/#prod-FunctionDeclaration), a [GeneratorDeclaration](https://262.ecma-international.org/12.0/#prod-GeneratorDeclaration), an [AsyncFunctionDeclaration](https://262.ecma-international.org/12.0/#prod-AsyncFunctionDeclaration), or an [AsyncGeneratorDeclaration](https://262.ecma-international.org/12.0/#prod-AsyncGeneratorDeclaration), then
            1.  Let fo be [InstantiateFunctionObject](https://262.ecma-international.org/12.0/#sec-runtime-semantics-instantiatefunctionobject) of d with argument env.
            2.  Call env.InitializeBinding(dn, fo).
23.  Remove moduleContext from the [execution context stack](https://262.ecma-international.org/12.0/#execution-context-stack).
24.  Return [NormalCompletion](https://262.ecma-international.org/12.0/#sec-normalcompletion)(empty).

## 16.2.1.6.5 ExecuteModule ( ) Concrete Method

The ExecuteModule concrete method of a [Source Text Module Record](https://262.ecma-international.org/12.0/#sourctextmodule-record) module takes no arguments. It performs the following steps when called:

1.  [Suspend](https://tc39.es/ecma262/#sec-suspend) the currently [running execution context](https://262.ecma-international.org/12.0/#running-execution-context).
2.  Let moduleContext be module.\[\[Context\]\].
3.  Push moduleContext onto the [execution context stack](https://262.ecma-international.org/12.0/#execution-context-stack); moduleContext is now the [running execution context](https://262.ecma-international.org/12.0/#running-execution-context).
4.  Let result be the result of evaluating module.\[\[ECMAScriptCode\]\].
5.  [Suspend](https://tc39.es/ecma262/#sec-suspend) moduleContext and remove it from the [execution context stack](https://262.ecma-international.org/12.0/#execution-context-stack).
6.  Resume the context that is now on the top of the [execution context stack](https://262.ecma-international.org/12.0/#execution-context-stack) as the [running execution context](https://262.ecma-international.org/12.0/#running-execution-context).
7.  Return [Completion](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type)(result).

## 16.2.1.7 HostResolveImportedModule ( referencingScriptOrModule, specifier )

The [host-defined](https://262.ecma-international.org/12.0/#host-defined) abstract operation HostResolveImportedModule takes arguments referencingScriptOrModule (a [Script Record](https://262.ecma-international.org/12.0/#script-record) or [Module Record](https://262.ecma-international.org/12.0/#sec-abstract-module-records) or null) and specifier (a [ModuleSpecifier](https://262.ecma-international.org/12.0/#prod-ModuleSpecifier) String). It provides the concrete [Module Record](https://262.ecma-international.org/12.0/#sec-abstract-module-records) subclass instance that corresponds to specifier occurring within the context of the script or module represented by referencingScriptOrModule. referencingScriptOrModule may be null if the resolution is being performed in the context of an [`import()`](https://262.ecma-international.org/12.0/#sec-import-calls) expression and there is no [active script or module](https://262.ecma-international.org/12.0/#job-activescriptormodule) at that time.

Note

An example of when referencingScriptOrModule can be null is in a web browser [host](https://262.ecma-international.org/12.0/#host). There, if a user clicks on a control given by

```
<button type="button" onclick="import('./foo.mjs')">Click me</button>
```

there will be no [active script or module](https://262.ecma-international.org/12.0/#job-activescriptormodule) at the time the [`import()`](https://262.ecma-international.org/12.0/#sec-import-calls) expression runs. More generally, this can happen in any situation where the [host](https://262.ecma-international.org/12.0/#host) pushes execution contexts with null ScriptOrModule components onto the [execution context stack](https://262.ecma-international.org/12.0/#execution-context-stack).

The implementation of HostResolveImportedModule must conform to the following requirements:

-   The normal return value must be an instance of a concrete subclass of [Module Record](https://262.ecma-international.org/12.0/#sec-abstract-module-records).
-   If a [Module Record](https://262.ecma-international.org/12.0/#sec-abstract-module-records) corresponding to the pair referencingScriptOrModule, specifier does not exist or cannot be created, an exception must be thrown.
-   Each time this operation is called with a specific referencingScriptOrModule, specifier pair as arguments it must return the same [Module Record](https://262.ecma-international.org/12.0/#sec-abstract-module-records) instance if it completes normally.

Multiple different referencingScriptOrModule, specifier pairs may map to the same [Module Record](https://262.ecma-international.org/12.0/#sec-abstract-module-records) instance. The actual mapping semantic is [host-defined](https://262.ecma-international.org/12.0/#host-defined) but typically a normalization process is applied to specifier as part of the mapping process. A typical normalization process would include actions such as alphabetic case folding and expansion of relative and abbreviated path specifiers.

## 16.2.1.8 HostImportModuleDynamically ( referencingScriptOrModule, specifier, promiseCapability )

The [host-defined](https://262.ecma-international.org/12.0/#host-defined) abstract operation HostImportModuleDynamically takes arguments referencingScriptOrModule (a [Script Record](https://262.ecma-international.org/12.0/#script-record) or [Module Record](https://262.ecma-international.org/12.0/#sec-abstract-module-records) or null), specifier (a [ModuleSpecifier](https://262.ecma-international.org/12.0/#prod-ModuleSpecifier) String), and promiseCapability (a [PromiseCapability Record](https://262.ecma-international.org/12.0/#sec-promisecapability-records)). It performs any necessary setup work in order to make available the module corresponding to specifier occurring within the context of the script or module represented by referencingScriptOrModule. referencingScriptOrModule may be null if there is no [active script or module](https://262.ecma-international.org/12.0/#job-activescriptormodule) when the [`import()`](https://262.ecma-international.org/12.0/#sec-import-calls) expression occurs. It then performs [FinishDynamicImport](https://262.ecma-international.org/12.0/#sec-finishdynamicimport) to finish the dynamic import process.

The implementation of HostImportModuleDynamically must conform to the following requirements:

-   The abstract operation must always complete normally with undefined. Success or failure must instead be signaled as discussed below.
-   The [host environment](https://262.ecma-international.org/12.0/#host-environment) must conform to one of the two following sets of requirements:
    
    Success path
    
    -   At some future time, the [host environment](https://262.ecma-international.org/12.0/#host-environment) must perform [FinishDynamicImport](https://262.ecma-international.org/12.0/#sec-finishdynamicimport)(referencingScriptOrModule, specifier, promiseCapability, [NormalCompletion](https://262.ecma-international.org/12.0/#sec-normalcompletion)(undefined)).
    -   Any subsequent call to [HostResolveImportedModule](https://262.ecma-international.org/12.0/#sec-hostresolveimportedmodule) after [FinishDynamicImport](https://262.ecma-international.org/12.0/#sec-finishdynamicimport) has completed, given the arguments referencingScriptOrModule and specifier, must complete normally.
    -   The completion value of any subsequent call to [HostResolveImportedModule](https://262.ecma-international.org/12.0/#sec-hostresolveimportedmodule) after [FinishDynamicImport](https://262.ecma-international.org/12.0/#sec-finishdynamicimport) has completed, given the arguments referencingScriptOrModule and specifier, must be a module which has already been evaluated, i.e. whose Evaluate concrete method has already been called and returned a normal completion.
    
    Failure path
    
    -   At some future time, the [host environment](https://262.ecma-international.org/12.0/#host-environment) must perform [FinishDynamicImport](https://262.ecma-international.org/12.0/#sec-finishdynamicimport)(referencingScriptOrModule, specifier, promiseCapability, an [abrupt completion](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type)), with the [abrupt completion](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type) representing the cause of failure.
    
-   If the [host environment](https://262.ecma-international.org/12.0/#host-environment) takes the success path once for a given referencingScriptOrModule, specifier pair, it must always do so for subsequent calls.
-   The operation must not call promiseCapability.\[\[Resolve\]\] or promiseCapability.\[\[Reject\]\], but instead must treat promiseCapability as an opaque identifying value to be passed through to [FinishDynamicImport](https://262.ecma-international.org/12.0/#sec-finishdynamicimport).

The actual process performed is [host-defined](https://262.ecma-international.org/12.0/#host-defined), but typically consists of performing whatever I/O operations are necessary to allow [HostResolveImportedModule](https://262.ecma-international.org/12.0/#sec-hostresolveimportedmodule) to synchronously retrieve the appropriate [Module Record](https://262.ecma-international.org/12.0/#sec-abstract-module-records), and then calling its Evaluate concrete method. This might require performing similar normalization as [HostResolveImportedModule](https://262.ecma-international.org/12.0/#sec-hostresolveimportedmodule) does.

## 16.2.1.9 FinishDynamicImport ( referencingScriptOrModule, specifier, promiseCapability, completion )

The abstract operation FinishDynamicImport takes arguments referencingScriptOrModule, specifier, promiseCapability (a [PromiseCapability Record](https://262.ecma-international.org/12.0/#sec-promisecapability-records)), and completion. FinishDynamicImport completes the process of a dynamic import originally started by an [`import()`](https://262.ecma-international.org/12.0/#sec-import-calls) call, resolving or rejecting the promise returned by that call as appropriate according to completion. It is performed by [host](https://262.ecma-international.org/12.0/#host) environments as part of [HostImportModuleDynamically](https://262.ecma-international.org/12.0/#sec-hostimportmoduledynamically). It performs the following steps when called:

1.  If completion is an [abrupt completion](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type), perform ! [Call](https://262.ecma-international.org/12.0/#sec-call)(promiseCapability.\[\[Reject\]\], undefined, « completion.\[\[Value\]\] »).
2.  Else,
    1.  [Assert](https://262.ecma-international.org/12.0/#assert): completion is a normal completion and completion.\[\[Value\]\] is undefined.
    2.  Let moduleRecord be ! [HostResolveImportedModule](https://262.ecma-international.org/12.0/#sec-hostresolveimportedmodule)(referencingScriptOrModule, specifier).
    3.  [Assert](https://262.ecma-international.org/12.0/#assert): Evaluate has already been invoked on moduleRecord and successfully completed.
    4.  Let namespace be [GetModuleNamespace](https://262.ecma-international.org/12.0/#sec-getmodulenamespace)(moduleRecord).
    5.  If namespace is an [abrupt completion](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type), perform ! [Call](https://262.ecma-international.org/12.0/#sec-call)(promiseCapability.\[\[Reject\]\], undefined, « namespace.\[\[Value\]\] »).
    6.  Else, perform ! [Call](https://262.ecma-international.org/12.0/#sec-call)(promiseCapability.\[\[Resolve\]\], undefined, « namespace.\[\[Value\]\] »).

## 16.2.1.10 GetModuleNamespace ( module )

The abstract operation GetModuleNamespace takes argument module. It retrieves the Module Namespace Object representing module's exports, lazily creating it the first time it was requested, and storing it in module.\[\[Namespace\]\] for future retrieval. It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): module is an instance of a concrete subclass of [Module Record](https://262.ecma-international.org/12.0/#sec-abstract-module-records).
2.  [Assert](https://262.ecma-international.org/12.0/#assert): If module is a [Cyclic Module Record](https://262.ecma-international.org/12.0/#cyclic-module-record), then module.\[\[Status\]\] is not unlinked.
3.  Let namespace be module.\[\[Namespace\]\].
4.  If namespace is undefined, then
    1.  Let exportedNames be ? module.GetExportedNames().
    2.  Let unambiguousNames be a new empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).
    3.  For each element name of exportedNames, do
        1.  Let resolution be ? module.ResolveExport(name).
        2.  If resolution is a [ResolvedBinding Record](https://262.ecma-international.org/12.0/#resolvedbinding-record), append name to unambiguousNames.
    4.  Set namespace to [ModuleNamespaceCreate](https://262.ecma-international.org/12.0/#sec-modulenamespacecreate)(module, unambiguousNames).
5.  Return namespace.

Note

The only way GetModuleNamespace can throw is via one of the triggered [HostResolveImportedModule](https://262.ecma-international.org/12.0/#sec-hostresolveimportedmodule) calls. Unresolvable names are simply excluded from the namespace at this point. They will lead to a real linking error later unless they are all ambiguous star exports that are not explicitly requested anywhere.

## 16.2.1.11 Runtime Semantics: Evaluation

[Module](https://262.ecma-international.org/12.0/#prod-Module) : \[empty\]

1.  Return [NormalCompletion](https://262.ecma-international.org/12.0/#sec-normalcompletion)(undefined).

[ModuleBody](https://262.ecma-international.org/12.0/#prod-ModuleBody) : [ModuleItemList](https://262.ecma-international.org/12.0/#prod-ModuleItemList)

1.  Let result be the result of evaluating [ModuleItemList](https://262.ecma-international.org/12.0/#prod-ModuleItemList).
2.  If result.\[\[Type\]\] is normal and result.\[\[Value\]\] is empty, then
    1.  Return [NormalCompletion](https://262.ecma-international.org/12.0/#sec-normalcompletion)(undefined).
3.  Return [Completion](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type)(result).

[ModuleItemList](https://262.ecma-international.org/12.0/#prod-ModuleItemList) : [ModuleItemList](https://262.ecma-international.org/12.0/#prod-ModuleItemList) [ModuleItem](https://262.ecma-international.org/12.0/#prod-ModuleItem)

1.  Let sl be the result of evaluating [ModuleItemList](https://262.ecma-international.org/12.0/#prod-ModuleItemList).
2.  [ReturnIfAbrupt](https://262.ecma-international.org/12.0/#sec-returnifabrupt)(sl).
3.  Let s be the result of evaluating [ModuleItem](https://262.ecma-international.org/12.0/#prod-ModuleItem).
4.  Return [Completion](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type)([UpdateEmpty](https://262.ecma-international.org/12.0/#sec-updateempty)(s, sl)).

Note

The value of a [ModuleItemList](https://262.ecma-international.org/12.0/#prod-ModuleItemList) is the value of the last value-producing item in the [ModuleItemList](https://262.ecma-international.org/12.0/#prod-ModuleItemList).

[ModuleItem](https://262.ecma-international.org/12.0/#prod-ModuleItem) : [ImportDeclaration](https://262.ecma-international.org/12.0/#prod-ImportDeclaration)

1.  Return [NormalCompletion](https://262.ecma-international.org/12.0/#sec-normalcompletion)(empty).

## 16.2.2 Imports

## Syntax

[ImportDeclaration](https://262.ecma-international.org/12.0/#prod-ImportDeclaration) : import [ImportClause](https://262.ecma-international.org/12.0/#prod-ImportClause) [FromClause](https://262.ecma-international.org/12.0/#prod-FromClause) ; import [ModuleSpecifier](https://262.ecma-international.org/12.0/#prod-ModuleSpecifier) ; [ImportClause](https://262.ecma-international.org/12.0/#prod-ImportClause) : [ImportedDefaultBinding](https://262.ecma-international.org/12.0/#prod-ImportedDefaultBinding) [NameSpaceImport](https://262.ecma-international.org/12.0/#prod-NameSpaceImport) [NamedImports](https://262.ecma-international.org/12.0/#prod-NamedImports) [ImportedDefaultBinding](https://262.ecma-international.org/12.0/#prod-ImportedDefaultBinding) , [NameSpaceImport](https://262.ecma-international.org/12.0/#prod-NameSpaceImport) [ImportedDefaultBinding](https://262.ecma-international.org/12.0/#prod-ImportedDefaultBinding) , [NamedImports](https://262.ecma-international.org/12.0/#prod-NamedImports) [ImportedDefaultBinding](https://262.ecma-international.org/12.0/#prod-ImportedDefaultBinding) : [ImportedBinding](https://262.ecma-international.org/12.0/#prod-ImportedBinding) [NameSpaceImport](https://262.ecma-international.org/12.0/#prod-NameSpaceImport) : \* as [ImportedBinding](https://262.ecma-international.org/12.0/#prod-ImportedBinding) [NamedImports](https://262.ecma-international.org/12.0/#prod-NamedImports) : { } { [ImportsList](https://262.ecma-international.org/12.0/#prod-ImportsList) } { [ImportsList](https://262.ecma-international.org/12.0/#prod-ImportsList) , } [FromClause](https://262.ecma-international.org/12.0/#prod-FromClause) : from [ModuleSpecifier](https://262.ecma-international.org/12.0/#prod-ModuleSpecifier) [ImportsList](https://262.ecma-international.org/12.0/#prod-ImportsList) : [ImportSpecifier](https://262.ecma-international.org/12.0/#prod-ImportSpecifier) [ImportsList](https://262.ecma-international.org/12.0/#prod-ImportsList) , [ImportSpecifier](https://262.ecma-international.org/12.0/#prod-ImportSpecifier) [ImportSpecifier](https://262.ecma-international.org/12.0/#prod-ImportSpecifier) : [ImportedBinding](https://262.ecma-international.org/12.0/#prod-ImportedBinding) [IdentifierName](https://262.ecma-international.org/12.0/#prod-IdentifierName) as [ImportedBinding](https://262.ecma-international.org/12.0/#prod-ImportedBinding) [ModuleSpecifier](https://262.ecma-international.org/12.0/#prod-ModuleSpecifier) : [StringLiteral](https://262.ecma-international.org/12.0/#prod-StringLiteral) [ImportedBinding](https://262.ecma-international.org/12.0/#prod-ImportedBinding) : [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier)\[~Yield, ~Await\]

## 16.2.2.1 Static Semantics: Early Errors

[ModuleItem](https://262.ecma-international.org/12.0/#prod-ModuleItem) : [ImportDeclaration](https://262.ecma-international.org/12.0/#prod-ImportDeclaration)

-   It is a Syntax Error if the [BoundNames](https://262.ecma-international.org/12.0/#sec-static-semantics-boundnames) of [ImportDeclaration](https://262.ecma-international.org/12.0/#prod-ImportDeclaration) contains any duplicate entries.

## 16.2.2.2 Static Semantics: ImportEntries

[Module](https://262.ecma-international.org/12.0/#prod-Module) : \[empty\]

1.  Return a new empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).

[ModuleItemList](https://262.ecma-international.org/12.0/#prod-ModuleItemList) : [ModuleItemList](https://262.ecma-international.org/12.0/#prod-ModuleItemList) [ModuleItem](https://262.ecma-international.org/12.0/#prod-ModuleItem)

1.  Let entries be [ImportEntries](https://262.ecma-international.org/12.0/#sec-static-semantics-importentries) of [ModuleItemList](https://262.ecma-international.org/12.0/#prod-ModuleItemList).
2.  Append to entries the elements of the [ImportEntries](https://262.ecma-international.org/12.0/#sec-static-semantics-importentries) of [ModuleItem](https://262.ecma-international.org/12.0/#prod-ModuleItem).
3.  Return entries.

[ModuleItem](https://262.ecma-international.org/12.0/#prod-ModuleItem) : [ExportDeclaration](https://262.ecma-international.org/12.0/#prod-ExportDeclaration) [StatementListItem](https://262.ecma-international.org/12.0/#prod-StatementListItem)

1.  Return a new empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).

[ImportDeclaration](https://262.ecma-international.org/12.0/#prod-ImportDeclaration) : import [ImportClause](https://262.ecma-international.org/12.0/#prod-ImportClause) [FromClause](https://262.ecma-international.org/12.0/#prod-FromClause) ;

1.  Let module be the sole element of [ModuleRequests](https://262.ecma-international.org/12.0/#sec-static-semantics-modulerequests) of [FromClause](https://262.ecma-international.org/12.0/#prod-FromClause).
2.  Return [ImportEntriesForModule](https://262.ecma-international.org/12.0/#sec-static-semantics-importentriesformodule) of [ImportClause](https://262.ecma-international.org/12.0/#prod-ImportClause) with argument module.

[ImportDeclaration](https://262.ecma-international.org/12.0/#prod-ImportDeclaration) : import [ModuleSpecifier](https://262.ecma-international.org/12.0/#prod-ModuleSpecifier) ;

1.  Return a new empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).

## 16.2.2.3 Static Semantics: ImportEntriesForModule

With parameter module.

[ImportClause](https://262.ecma-international.org/12.0/#prod-ImportClause) : [ImportedDefaultBinding](https://262.ecma-international.org/12.0/#prod-ImportedDefaultBinding) , [NameSpaceImport](https://262.ecma-international.org/12.0/#prod-NameSpaceImport)

1.  Let entries be [ImportEntriesForModule](https://262.ecma-international.org/12.0/#sec-static-semantics-importentriesformodule) of [ImportedDefaultBinding](https://262.ecma-international.org/12.0/#prod-ImportedDefaultBinding) with argument module.
2.  Append to entries the elements of the [ImportEntriesForModule](https://262.ecma-international.org/12.0/#sec-static-semantics-importentriesformodule) of [NameSpaceImport](https://262.ecma-international.org/12.0/#prod-NameSpaceImport) with argument module.
3.  Return entries.

[ImportClause](https://262.ecma-international.org/12.0/#prod-ImportClause) : [ImportedDefaultBinding](https://262.ecma-international.org/12.0/#prod-ImportedDefaultBinding) , [NamedImports](https://262.ecma-international.org/12.0/#prod-NamedImports)

1.  Let entries be [ImportEntriesForModule](https://262.ecma-international.org/12.0/#sec-static-semantics-importentriesformodule) of [ImportedDefaultBinding](https://262.ecma-international.org/12.0/#prod-ImportedDefaultBinding) with argument module.
2.  Append to entries the elements of the [ImportEntriesForModule](https://262.ecma-international.org/12.0/#sec-static-semantics-importentriesformodule) of [NamedImports](https://262.ecma-international.org/12.0/#prod-NamedImports) with argument module.
3.  Return entries.

[ImportedDefaultBinding](https://262.ecma-international.org/12.0/#prod-ImportedDefaultBinding) : [ImportedBinding](https://262.ecma-international.org/12.0/#prod-ImportedBinding)

1.  Let localName be the sole element of [BoundNames](https://262.ecma-international.org/12.0/#sec-static-semantics-boundnames) of [ImportedBinding](https://262.ecma-international.org/12.0/#prod-ImportedBinding).
2.  Let defaultEntry be the [ImportEntry Record](https://262.ecma-international.org/12.0/#importentry-record) { \[\[ModuleRequest\]\]: module, \[\[ImportName\]\]: "default", \[\[LocalName\]\]: localName }.
3.  Return a [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) whose sole element is defaultEntry.

[NameSpaceImport](https://262.ecma-international.org/12.0/#prod-NameSpaceImport) : \* as [ImportedBinding](https://262.ecma-international.org/12.0/#prod-ImportedBinding)

1.  Let localName be the [StringValue](https://262.ecma-international.org/12.0/#sec-static-semantics-stringvalue) of [ImportedBinding](https://262.ecma-international.org/12.0/#prod-ImportedBinding).
2.  Let entry be the [ImportEntry Record](https://262.ecma-international.org/12.0/#importentry-record) { \[\[ModuleRequest\]\]: module, \[\[ImportName\]\]: "\*", \[\[LocalName\]\]: localName }.
3.  Return a [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) whose sole element is entry.

[NamedImports](https://262.ecma-international.org/12.0/#prod-NamedImports) : { }

1.  Return a new empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).

[ImportsList](https://262.ecma-international.org/12.0/#prod-ImportsList) : [ImportsList](https://262.ecma-international.org/12.0/#prod-ImportsList) , [ImportSpecifier](https://262.ecma-international.org/12.0/#prod-ImportSpecifier)

1.  Let specs be the [ImportEntriesForModule](https://262.ecma-international.org/12.0/#sec-static-semantics-importentriesformodule) of [ImportsList](https://262.ecma-international.org/12.0/#prod-ImportsList) with argument module.
2.  Append to specs the elements of the [ImportEntriesForModule](https://262.ecma-international.org/12.0/#sec-static-semantics-importentriesformodule) of [ImportSpecifier](https://262.ecma-international.org/12.0/#prod-ImportSpecifier) with argument module.
3.  Return specs.

[ImportSpecifier](https://262.ecma-international.org/12.0/#prod-ImportSpecifier) : [ImportedBinding](https://262.ecma-international.org/12.0/#prod-ImportedBinding)

1.  Let localName be the sole element of [BoundNames](https://262.ecma-international.org/12.0/#sec-static-semantics-boundnames) of [ImportedBinding](https://262.ecma-international.org/12.0/#prod-ImportedBinding).
2.  Let entry be the [ImportEntry Record](https://262.ecma-international.org/12.0/#importentry-record) { \[\[ModuleRequest\]\]: module, \[\[ImportName\]\]: localName, \[\[LocalName\]\]: localName }.
3.  Return a [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) whose sole element is entry.

[ImportSpecifier](https://262.ecma-international.org/12.0/#prod-ImportSpecifier) : [IdentifierName](https://262.ecma-international.org/12.0/#prod-IdentifierName) as [ImportedBinding](https://262.ecma-international.org/12.0/#prod-ImportedBinding)

1.  Let importName be the [StringValue](https://262.ecma-international.org/12.0/#sec-static-semantics-stringvalue) of [IdentifierName](https://262.ecma-international.org/12.0/#prod-IdentifierName).
2.  Let localName be the [StringValue](https://262.ecma-international.org/12.0/#sec-static-semantics-stringvalue) of [ImportedBinding](https://262.ecma-international.org/12.0/#prod-ImportedBinding).
3.  Let entry be the [ImportEntry Record](https://262.ecma-international.org/12.0/#importentry-record) { \[\[ModuleRequest\]\]: module, \[\[ImportName\]\]: importName, \[\[LocalName\]\]: localName }.
4.  Return a [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) whose sole element is entry.

## 16.2.3 Exports

## Syntax

[ExportDeclaration](https://262.ecma-international.org/12.0/#prod-ExportDeclaration) : export [ExportFromClause](https://262.ecma-international.org/12.0/#prod-ExportFromClause) [FromClause](https://262.ecma-international.org/12.0/#prod-FromClause) ; export [NamedExports](https://262.ecma-international.org/12.0/#prod-NamedExports) ; export [VariableStatement](https://262.ecma-international.org/12.0/#prod-VariableStatement)\[~Yield, ~Await\] export [Declaration](https://262.ecma-international.org/12.0/#prod-Declaration)\[~Yield, ~Await\] export default [HoistableDeclaration](https://262.ecma-international.org/12.0/#prod-HoistableDeclaration)\[~Yield, ~Await, +Default\] export default [ClassDeclaration](https://262.ecma-international.org/12.0/#prod-ClassDeclaration)\[~Yield, ~Await, +Default\] export default \[lookahead ∉ { function, async \[no [LineTerminator](https://262.ecma-international.org/12.0/#prod-LineTerminator) here\] function, class }\] [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression)\[+In, ~Yield, ~Await\] ; [ExportFromClause](https://262.ecma-international.org/12.0/#prod-ExportFromClause) : \* \* as [IdentifierName](https://262.ecma-international.org/12.0/#prod-IdentifierName) [NamedExports](https://262.ecma-international.org/12.0/#prod-NamedExports) [NamedExports](https://262.ecma-international.org/12.0/#prod-NamedExports) : { } { [ExportsList](https://262.ecma-international.org/12.0/#prod-ExportsList) } { [ExportsList](https://262.ecma-international.org/12.0/#prod-ExportsList) , } [ExportsList](https://262.ecma-international.org/12.0/#prod-ExportsList) : [ExportSpecifier](https://262.ecma-international.org/12.0/#prod-ExportSpecifier) [ExportsList](https://262.ecma-international.org/12.0/#prod-ExportsList) , [ExportSpecifier](https://262.ecma-international.org/12.0/#prod-ExportSpecifier) [ExportSpecifier](https://262.ecma-international.org/12.0/#prod-ExportSpecifier) : [IdentifierName](https://262.ecma-international.org/12.0/#prod-IdentifierName) [IdentifierName](https://262.ecma-international.org/12.0/#prod-IdentifierName) as [IdentifierName](https://262.ecma-international.org/12.0/#prod-IdentifierName)

## 16.2.3.1 Static Semantics: Early Errors

[ExportDeclaration](https://262.ecma-international.org/12.0/#prod-ExportDeclaration) : export [NamedExports](https://262.ecma-international.org/12.0/#prod-NamedExports) ;

-   For each [IdentifierName](https://262.ecma-international.org/12.0/#prod-IdentifierName) n in [ReferencedBindings](https://262.ecma-international.org/12.0/#sec-static-semantics-referencedbindings) of [NamedExports](https://262.ecma-international.org/12.0/#prod-NamedExports): It is a Syntax Error if [StringValue](https://262.ecma-international.org/12.0/#sec-static-semantics-stringvalue) of n is a [ReservedWord](https://262.ecma-international.org/12.0/#prod-ReservedWord) or if the [StringValue](https://262.ecma-international.org/12.0/#sec-static-semantics-stringvalue) of n is one of: "implements", "interface", "let", "package", "private", "protected", "public", or "static".

Note

The above rule means that each [ReferencedBindings](https://262.ecma-international.org/12.0/#sec-static-semantics-referencedbindings) of [NamedExports](https://262.ecma-international.org/12.0/#prod-NamedExports) is treated as an [IdentifierReference](https://262.ecma-international.org/12.0/#prod-IdentifierReference).

## 16.2.3.2 Static Semantics: ExportedBindings

Note

ExportedBindings are the locally bound names that are explicitly associated with a [Module](https://262.ecma-international.org/12.0/#prod-Module)'s [ExportedNames](https://262.ecma-international.org/12.0/#sec-static-semantics-exportednames).

[ModuleItemList](https://262.ecma-international.org/12.0/#prod-ModuleItemList) : [ModuleItemList](https://262.ecma-international.org/12.0/#prod-ModuleItemList) [ModuleItem](https://262.ecma-international.org/12.0/#prod-ModuleItem)

1.  Let names be [ExportedBindings](https://262.ecma-international.org/12.0/#sec-static-semantics-exportedbindings) of [ModuleItemList](https://262.ecma-international.org/12.0/#prod-ModuleItemList).
2.  Append to names the elements of the [ExportedBindings](https://262.ecma-international.org/12.0/#sec-static-semantics-exportedbindings) of [ModuleItem](https://262.ecma-international.org/12.0/#prod-ModuleItem).
3.  Return names.

[ModuleItem](https://262.ecma-international.org/12.0/#prod-ModuleItem) : [ImportDeclaration](https://262.ecma-international.org/12.0/#prod-ImportDeclaration) [StatementListItem](https://262.ecma-international.org/12.0/#prod-StatementListItem)

1.  Return a new empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).

[ExportDeclaration](https://262.ecma-international.org/12.0/#prod-ExportDeclaration) : export [ExportFromClause](https://262.ecma-international.org/12.0/#prod-ExportFromClause) [FromClause](https://262.ecma-international.org/12.0/#prod-FromClause) ;

1.  Return a new empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).

[ExportDeclaration](https://262.ecma-international.org/12.0/#prod-ExportDeclaration) : export [NamedExports](https://262.ecma-international.org/12.0/#prod-NamedExports) ;

1.  Return the [ExportedBindings](https://262.ecma-international.org/12.0/#sec-static-semantics-exportedbindings) of [NamedExports](https://262.ecma-international.org/12.0/#prod-NamedExports).

[ExportDeclaration](https://262.ecma-international.org/12.0/#prod-ExportDeclaration) : export [VariableStatement](https://262.ecma-international.org/12.0/#prod-VariableStatement)

1.  Return the [BoundNames](https://262.ecma-international.org/12.0/#sec-static-semantics-boundnames) of [VariableStatement](https://262.ecma-international.org/12.0/#prod-VariableStatement).

[ExportDeclaration](https://262.ecma-international.org/12.0/#prod-ExportDeclaration) : export [Declaration](https://262.ecma-international.org/12.0/#prod-Declaration)

1.  Return the [BoundNames](https://262.ecma-international.org/12.0/#sec-static-semantics-boundnames) of [Declaration](https://262.ecma-international.org/12.0/#prod-Declaration).

[ExportDeclaration](https://262.ecma-international.org/12.0/#prod-ExportDeclaration) : export default [HoistableDeclaration](https://262.ecma-international.org/12.0/#prod-HoistableDeclaration) export default [ClassDeclaration](https://262.ecma-international.org/12.0/#prod-ClassDeclaration) export default [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression) ;

1.  Return the [BoundNames](https://262.ecma-international.org/12.0/#sec-static-semantics-boundnames) of this [ExportDeclaration](https://262.ecma-international.org/12.0/#prod-ExportDeclaration).

[NamedExports](https://262.ecma-international.org/12.0/#prod-NamedExports) : { }

1.  Return a new empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).

[ExportsList](https://262.ecma-international.org/12.0/#prod-ExportsList) : [ExportsList](https://262.ecma-international.org/12.0/#prod-ExportsList) , [ExportSpecifier](https://262.ecma-international.org/12.0/#prod-ExportSpecifier)

1.  Let names be the [ExportedBindings](https://262.ecma-international.org/12.0/#sec-static-semantics-exportedbindings) of [ExportsList](https://262.ecma-international.org/12.0/#prod-ExportsList).
2.  Append to names the elements of the [ExportedBindings](https://262.ecma-international.org/12.0/#sec-static-semantics-exportedbindings) of [ExportSpecifier](https://262.ecma-international.org/12.0/#prod-ExportSpecifier).
3.  Return names.

[ExportSpecifier](https://262.ecma-international.org/12.0/#prod-ExportSpecifier) : [IdentifierName](https://262.ecma-international.org/12.0/#prod-IdentifierName)

1.  Return a [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) whose sole element is the [StringValue](https://262.ecma-international.org/12.0/#sec-static-semantics-stringvalue) of [IdentifierName](https://262.ecma-international.org/12.0/#prod-IdentifierName).

[ExportSpecifier](https://262.ecma-international.org/12.0/#prod-ExportSpecifier) : [IdentifierName](https://262.ecma-international.org/12.0/#prod-IdentifierName) as [IdentifierName](https://262.ecma-international.org/12.0/#prod-IdentifierName)

1.  Return a [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) whose sole element is the [StringValue](https://262.ecma-international.org/12.0/#sec-static-semantics-stringvalue) of the first [IdentifierName](https://262.ecma-international.org/12.0/#prod-IdentifierName).

## 16.2.3.3 Static Semantics: ExportedNames

Note

ExportedNames are the externally visible names that a [Module](https://262.ecma-international.org/12.0/#prod-Module) explicitly maps to one of its local name bindings.

[ModuleItemList](https://262.ecma-international.org/12.0/#prod-ModuleItemList) : [ModuleItemList](https://262.ecma-international.org/12.0/#prod-ModuleItemList) [ModuleItem](https://262.ecma-international.org/12.0/#prod-ModuleItem)

1.  Let names be [ExportedNames](https://262.ecma-international.org/12.0/#sec-static-semantics-exportednames) of [ModuleItemList](https://262.ecma-international.org/12.0/#prod-ModuleItemList).
2.  Append to names the elements of the [ExportedNames](https://262.ecma-international.org/12.0/#sec-static-semantics-exportednames) of [ModuleItem](https://262.ecma-international.org/12.0/#prod-ModuleItem).
3.  Return names.

[ModuleItem](https://262.ecma-international.org/12.0/#prod-ModuleItem) : [ExportDeclaration](https://262.ecma-international.org/12.0/#prod-ExportDeclaration)

1.  Return the [ExportedNames](https://262.ecma-international.org/12.0/#sec-static-semantics-exportednames) of [ExportDeclaration](https://262.ecma-international.org/12.0/#prod-ExportDeclaration).

[ModuleItem](https://262.ecma-international.org/12.0/#prod-ModuleItem) : [ImportDeclaration](https://262.ecma-international.org/12.0/#prod-ImportDeclaration) [StatementListItem](https://262.ecma-international.org/12.0/#prod-StatementListItem)

1.  Return a new empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).

[ExportDeclaration](https://262.ecma-international.org/12.0/#prod-ExportDeclaration) : export [ExportFromClause](https://262.ecma-international.org/12.0/#prod-ExportFromClause) [FromClause](https://262.ecma-international.org/12.0/#prod-FromClause) ;

1.  Return the [ExportedNames](https://262.ecma-international.org/12.0/#sec-static-semantics-exportednames) of [ExportFromClause](https://262.ecma-international.org/12.0/#prod-ExportFromClause).

[ExportFromClause](https://262.ecma-international.org/12.0/#prod-ExportFromClause) : \*

1.  Return a new empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).

[ExportFromClause](https://262.ecma-international.org/12.0/#prod-ExportFromClause) : \* as [IdentifierName](https://262.ecma-international.org/12.0/#prod-IdentifierName)

1.  Return a [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) whose sole element is the [StringValue](https://262.ecma-international.org/12.0/#sec-static-semantics-stringvalue) of [IdentifierName](https://262.ecma-international.org/12.0/#prod-IdentifierName).

[ExportFromClause](https://262.ecma-international.org/12.0/#prod-ExportFromClause) : [NamedExports](https://262.ecma-international.org/12.0/#prod-NamedExports)

1.  Return the [ExportedNames](https://262.ecma-international.org/12.0/#sec-static-semantics-exportednames) of [NamedExports](https://262.ecma-international.org/12.0/#prod-NamedExports).

[ExportDeclaration](https://262.ecma-international.org/12.0/#prod-ExportDeclaration) : export [VariableStatement](https://262.ecma-international.org/12.0/#prod-VariableStatement)

1.  Return the [BoundNames](https://262.ecma-international.org/12.0/#sec-static-semantics-boundnames) of [VariableStatement](https://262.ecma-international.org/12.0/#prod-VariableStatement).

[ExportDeclaration](https://262.ecma-international.org/12.0/#prod-ExportDeclaration) : export [Declaration](https://262.ecma-international.org/12.0/#prod-Declaration)

1.  Return the [BoundNames](https://262.ecma-international.org/12.0/#sec-static-semantics-boundnames) of [Declaration](https://262.ecma-international.org/12.0/#prod-Declaration).

[ExportDeclaration](https://262.ecma-international.org/12.0/#prod-ExportDeclaration) : export default [HoistableDeclaration](https://262.ecma-international.org/12.0/#prod-HoistableDeclaration) export default [ClassDeclaration](https://262.ecma-international.org/12.0/#prod-ClassDeclaration) export default [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression) ;

1.  Return « "default" ».

[NamedExports](https://262.ecma-international.org/12.0/#prod-NamedExports) : { }

1.  Return a new empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).

[ExportsList](https://262.ecma-international.org/12.0/#prod-ExportsList) : [ExportsList](https://262.ecma-international.org/12.0/#prod-ExportsList) , [ExportSpecifier](https://262.ecma-international.org/12.0/#prod-ExportSpecifier)

1.  Let names be the [ExportedNames](https://262.ecma-international.org/12.0/#sec-static-semantics-exportednames) of [ExportsList](https://262.ecma-international.org/12.0/#prod-ExportsList).
2.  Append to names the elements of the [ExportedNames](https://262.ecma-international.org/12.0/#sec-static-semantics-exportednames) of [ExportSpecifier](https://262.ecma-international.org/12.0/#prod-ExportSpecifier).
3.  Return names.

[ExportSpecifier](https://262.ecma-international.org/12.0/#prod-ExportSpecifier) : [IdentifierName](https://262.ecma-international.org/12.0/#prod-IdentifierName)

1.  Return a [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) whose sole element is the [StringValue](https://262.ecma-international.org/12.0/#sec-static-semantics-stringvalue) of [IdentifierName](https://262.ecma-international.org/12.0/#prod-IdentifierName).

[ExportSpecifier](https://262.ecma-international.org/12.0/#prod-ExportSpecifier) : [IdentifierName](https://262.ecma-international.org/12.0/#prod-IdentifierName) as [IdentifierName](https://262.ecma-international.org/12.0/#prod-IdentifierName)

1.  Return a [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) whose sole element is the [StringValue](https://262.ecma-international.org/12.0/#sec-static-semantics-stringvalue) of the second [IdentifierName](https://262.ecma-international.org/12.0/#prod-IdentifierName).

## 16.2.3.4 Static Semantics: ExportEntries

[Module](https://262.ecma-international.org/12.0/#prod-Module) : \[empty\]

1.  Return a new empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).

[ModuleItemList](https://262.ecma-international.org/12.0/#prod-ModuleItemList) : [ModuleItemList](https://262.ecma-international.org/12.0/#prod-ModuleItemList) [ModuleItem](https://262.ecma-international.org/12.0/#prod-ModuleItem)

1.  Let entries be [ExportEntries](https://262.ecma-international.org/12.0/#sec-static-semantics-exportentries) of [ModuleItemList](https://262.ecma-international.org/12.0/#prod-ModuleItemList).
2.  Append to entries the elements of the [ExportEntries](https://262.ecma-international.org/12.0/#sec-static-semantics-exportentries) of [ModuleItem](https://262.ecma-international.org/12.0/#prod-ModuleItem).
3.  Return entries.

[ModuleItem](https://262.ecma-international.org/12.0/#prod-ModuleItem) : [ImportDeclaration](https://262.ecma-international.org/12.0/#prod-ImportDeclaration) [StatementListItem](https://262.ecma-international.org/12.0/#prod-StatementListItem)

1.  Return a new empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).

[ExportDeclaration](https://262.ecma-international.org/12.0/#prod-ExportDeclaration) : export [ExportFromClause](https://262.ecma-international.org/12.0/#prod-ExportFromClause) [FromClause](https://262.ecma-international.org/12.0/#prod-FromClause) ;

1.  Let module be the sole element of [ModuleRequests](https://262.ecma-international.org/12.0/#sec-static-semantics-modulerequests) of [FromClause](https://262.ecma-international.org/12.0/#prod-FromClause).
2.  Return [ExportEntriesForModule](https://262.ecma-international.org/12.0/#sec-static-semantics-exportentriesformodule) of [ExportFromClause](https://262.ecma-international.org/12.0/#prod-ExportFromClause) with argument module.

[ExportDeclaration](https://262.ecma-international.org/12.0/#prod-ExportDeclaration) : export [NamedExports](https://262.ecma-international.org/12.0/#prod-NamedExports) ;

1.  Return [ExportEntriesForModule](https://262.ecma-international.org/12.0/#sec-static-semantics-exportentriesformodule) of [NamedExports](https://262.ecma-international.org/12.0/#prod-NamedExports) with argument null.

[ExportDeclaration](https://262.ecma-international.org/12.0/#prod-ExportDeclaration) : export [VariableStatement](https://262.ecma-international.org/12.0/#prod-VariableStatement)

1.  Let entries be a new empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).
2.  Let names be the [BoundNames](https://262.ecma-international.org/12.0/#sec-static-semantics-boundnames) of [VariableStatement](https://262.ecma-international.org/12.0/#prod-VariableStatement).
3.  For each element name of names, do
    1.  Append the [ExportEntry Record](https://262.ecma-international.org/12.0/#exportentry-record) { \[\[ModuleRequest\]\]: null, \[\[ImportName\]\]: null, \[\[LocalName\]\]: name, \[\[ExportName\]\]: name } to entries.
4.  Return entries.

[ExportDeclaration](https://262.ecma-international.org/12.0/#prod-ExportDeclaration) : export [Declaration](https://262.ecma-international.org/12.0/#prod-Declaration)

1.  Let entries be a new empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).
2.  Let names be the [BoundNames](https://262.ecma-international.org/12.0/#sec-static-semantics-boundnames) of [Declaration](https://262.ecma-international.org/12.0/#prod-Declaration).
3.  For each element name of names, do
    1.  Append the [ExportEntry Record](https://262.ecma-international.org/12.0/#exportentry-record) { \[\[ModuleRequest\]\]: null, \[\[ImportName\]\]: null, \[\[LocalName\]\]: name, \[\[ExportName\]\]: name } to entries.
4.  Return entries.

[ExportDeclaration](https://262.ecma-international.org/12.0/#prod-ExportDeclaration) : export default [HoistableDeclaration](https://262.ecma-international.org/12.0/#prod-HoistableDeclaration)

1.  Let names be [BoundNames](https://262.ecma-international.org/12.0/#sec-static-semantics-boundnames) of [HoistableDeclaration](https://262.ecma-international.org/12.0/#prod-HoistableDeclaration).
2.  Let localName be the sole element of names.
3.  Return a [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) whose sole element is the [ExportEntry Record](https://262.ecma-international.org/12.0/#exportentry-record) { \[\[ModuleRequest\]\]: null, \[\[ImportName\]\]: null, \[\[LocalName\]\]: localName, \[\[ExportName\]\]: "default" }.

[ExportDeclaration](https://262.ecma-international.org/12.0/#prod-ExportDeclaration) : export default [ClassDeclaration](https://262.ecma-international.org/12.0/#prod-ClassDeclaration)

1.  Let names be [BoundNames](https://262.ecma-international.org/12.0/#sec-static-semantics-boundnames) of [ClassDeclaration](https://262.ecma-international.org/12.0/#prod-ClassDeclaration).
2.  Let localName be the sole element of names.
3.  Return a [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) whose sole element is the [ExportEntry Record](https://262.ecma-international.org/12.0/#exportentry-record) { \[\[ModuleRequest\]\]: null, \[\[ImportName\]\]: null, \[\[LocalName\]\]: localName, \[\[ExportName\]\]: "default" }.

[ExportDeclaration](https://262.ecma-international.org/12.0/#prod-ExportDeclaration) : export default [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression) ;

1.  Let entry be the [ExportEntry Record](https://262.ecma-international.org/12.0/#exportentry-record) { \[\[ModuleRequest\]\]: null, \[\[ImportName\]\]: null, \[\[LocalName\]\]: "\*default\*", \[\[ExportName\]\]: "default" }.
2.  Return a [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) whose sole element is entry.

Note

"\*default\*" is used within this specification as a synthetic name for anonymous default export values.

## 16.2.3.5 Static Semantics: ExportEntriesForModule

With parameter module.

[ExportFromClause](https://262.ecma-international.org/12.0/#prod-ExportFromClause) : \*

1.  Let entry be the [ExportEntry Record](https://262.ecma-international.org/12.0/#exportentry-record) { \[\[ModuleRequest\]\]: module, \[\[ImportName\]\]: "\*", \[\[LocalName\]\]: null, \[\[ExportName\]\]: null }.
2.  Return a [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) whose sole element is entry.

[ExportFromClause](https://262.ecma-international.org/12.0/#prod-ExportFromClause) : \* as [IdentifierName](https://262.ecma-international.org/12.0/#prod-IdentifierName)

1.  Let exportName be the [StringValue](https://262.ecma-international.org/12.0/#sec-static-semantics-stringvalue) of [IdentifierName](https://262.ecma-international.org/12.0/#prod-IdentifierName).
2.  Let entry be the [ExportEntry Record](https://262.ecma-international.org/12.0/#exportentry-record) { \[\[ModuleRequest\]\]: module, \[\[ImportName\]\]: "\*", \[\[LocalName\]\]: null, \[\[ExportName\]\]: exportName }.
3.  Return a [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) whose sole element is entry.

[NamedExports](https://262.ecma-international.org/12.0/#prod-NamedExports) : { }

1.  Return a new empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).

[ExportsList](https://262.ecma-international.org/12.0/#prod-ExportsList) : [ExportsList](https://262.ecma-international.org/12.0/#prod-ExportsList) , [ExportSpecifier](https://262.ecma-international.org/12.0/#prod-ExportSpecifier)

1.  Let specs be the [ExportEntriesForModule](https://262.ecma-international.org/12.0/#sec-static-semantics-exportentriesformodule) of [ExportsList](https://262.ecma-international.org/12.0/#prod-ExportsList) with argument module.
2.  Append to specs the elements of the [ExportEntriesForModule](https://262.ecma-international.org/12.0/#sec-static-semantics-exportentriesformodule) of [ExportSpecifier](https://262.ecma-international.org/12.0/#prod-ExportSpecifier) with argument module.
3.  Return specs.

[ExportSpecifier](https://262.ecma-international.org/12.0/#prod-ExportSpecifier) : [IdentifierName](https://262.ecma-international.org/12.0/#prod-IdentifierName)

1.  Let sourceName be the [StringValue](https://262.ecma-international.org/12.0/#sec-static-semantics-stringvalue) of [IdentifierName](https://262.ecma-international.org/12.0/#prod-IdentifierName).
2.  If module is null, then
    1.  Let localName be sourceName.
    2.  Let importName be null.
3.  Else,
    1.  Let localName be null.
    2.  Let importName be sourceName.
4.  Return a [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) whose sole element is the [ExportEntry Record](https://262.ecma-international.org/12.0/#exportentry-record) { \[\[ModuleRequest\]\]: module, \[\[ImportName\]\]: importName, \[\[LocalName\]\]: localName, \[\[ExportName\]\]: sourceName }.

[ExportSpecifier](https://262.ecma-international.org/12.0/#prod-ExportSpecifier) : [IdentifierName](https://262.ecma-international.org/12.0/#prod-IdentifierName) as [IdentifierName](https://262.ecma-international.org/12.0/#prod-IdentifierName)

1.  Let sourceName be the [StringValue](https://262.ecma-international.org/12.0/#sec-static-semantics-stringvalue) of the first [IdentifierName](https://262.ecma-international.org/12.0/#prod-IdentifierName).
2.  Let exportName be the [StringValue](https://262.ecma-international.org/12.0/#sec-static-semantics-stringvalue) of the second [IdentifierName](https://262.ecma-international.org/12.0/#prod-IdentifierName).
3.  If module is null, then
    1.  Let localName be sourceName.
    2.  Let importName be null.
4.  Else,
    1.  Let localName be null.
    2.  Let importName be sourceName.
5.  Return a [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) whose sole element is the [ExportEntry Record](https://262.ecma-international.org/12.0/#exportentry-record) { \[\[ModuleRequest\]\]: module, \[\[ImportName\]\]: importName, \[\[LocalName\]\]: localName, \[\[ExportName\]\]: exportName }.

## 16.2.3.6 Static Semantics: ReferencedBindings

[NamedExports](https://262.ecma-international.org/12.0/#prod-NamedExports) : { }

1.  Return a new empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).

[ExportsList](https://262.ecma-international.org/12.0/#prod-ExportsList) : [ExportsList](https://262.ecma-international.org/12.0/#prod-ExportsList) , [ExportSpecifier](https://262.ecma-international.org/12.0/#prod-ExportSpecifier)

1.  Let names be the [ReferencedBindings](https://262.ecma-international.org/12.0/#sec-static-semantics-referencedbindings) of [ExportsList](https://262.ecma-international.org/12.0/#prod-ExportsList).
2.  Append to names the elements of the [ReferencedBindings](https://262.ecma-international.org/12.0/#sec-static-semantics-referencedbindings) of [ExportSpecifier](https://262.ecma-international.org/12.0/#prod-ExportSpecifier).
3.  Return names.

[ExportSpecifier](https://262.ecma-international.org/12.0/#prod-ExportSpecifier) : [IdentifierName](https://262.ecma-international.org/12.0/#prod-IdentifierName)

1.  Return a [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) whose sole element is the [IdentifierName](https://262.ecma-international.org/12.0/#prod-IdentifierName).

[ExportSpecifier](https://262.ecma-international.org/12.0/#prod-ExportSpecifier) : [IdentifierName](https://262.ecma-international.org/12.0/#prod-IdentifierName) as [IdentifierName](https://262.ecma-international.org/12.0/#prod-IdentifierName)

1.  Return a [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) whose sole element is the first [IdentifierName](https://262.ecma-international.org/12.0/#prod-IdentifierName).

## 16.2.3.7 Runtime Semantics: Evaluation

[ExportDeclaration](https://262.ecma-international.org/12.0/#prod-ExportDeclaration) : export [ExportFromClause](https://262.ecma-international.org/12.0/#prod-ExportFromClause) [FromClause](https://262.ecma-international.org/12.0/#prod-FromClause) ; export [NamedExports](https://262.ecma-international.org/12.0/#prod-NamedExports) ;

1.  Return [NormalCompletion](https://262.ecma-international.org/12.0/#sec-normalcompletion)(empty).

[ExportDeclaration](https://262.ecma-international.org/12.0/#prod-ExportDeclaration) : export [VariableStatement](https://262.ecma-international.org/12.0/#prod-VariableStatement)

1.  Return the result of evaluating [VariableStatement](https://262.ecma-international.org/12.0/#prod-VariableStatement).

[ExportDeclaration](https://262.ecma-international.org/12.0/#prod-ExportDeclaration) : export [Declaration](https://262.ecma-international.org/12.0/#prod-Declaration)

1.  Return the result of evaluating [Declaration](https://262.ecma-international.org/12.0/#prod-Declaration).

[ExportDeclaration](https://262.ecma-international.org/12.0/#prod-ExportDeclaration) : export default [HoistableDeclaration](https://262.ecma-international.org/12.0/#prod-HoistableDeclaration)

1.  Return the result of evaluating [HoistableDeclaration](https://262.ecma-international.org/12.0/#prod-HoistableDeclaration).

[ExportDeclaration](https://262.ecma-international.org/12.0/#prod-ExportDeclaration) : export default [ClassDeclaration](https://262.ecma-international.org/12.0/#prod-ClassDeclaration)

1.  Let value be ? [BindingClassDeclarationEvaluation](https://262.ecma-international.org/12.0/#sec-runtime-semantics-bindingclassdeclarationevaluation) of [ClassDeclaration](https://262.ecma-international.org/12.0/#prod-ClassDeclaration).
2.  Let className be the sole element of [BoundNames](https://262.ecma-international.org/12.0/#sec-static-semantics-boundnames) of [ClassDeclaration](https://262.ecma-international.org/12.0/#prod-ClassDeclaration).
3.  If className is "\*default\*", then
    1.  Let env be the [running execution context](https://262.ecma-international.org/12.0/#running-execution-context)'s LexicalEnvironment.
    2.  Perform ? [InitializeBoundName](https://262.ecma-international.org/12.0/#sec-initializeboundname)("\*default\*", value, env).
4.  Return [NormalCompletion](https://262.ecma-international.org/12.0/#sec-normalcompletion)(empty).

[ExportDeclaration](https://262.ecma-international.org/12.0/#prod-ExportDeclaration) : export default [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression) ;

1.  If [IsAnonymousFunctionDefinition](https://262.ecma-international.org/12.0/#sec-isanonymousfunctiondefinition)([AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression)) is true, then
    1.  Let value be ? [NamedEvaluation](https://262.ecma-international.org/12.0/#sec-runtime-semantics-namedevaluation) of [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression) with argument "default".
2.  Else,
    1.  Let rhs be the result of evaluating [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression).
    2.  Let value be ? [GetValue](https://262.ecma-international.org/12.0/#sec-getvalue)(rhs).
3.  Let env be the [running execution context](https://262.ecma-international.org/12.0/#running-execution-context)'s LexicalEnvironment.
4.  Perform ? [InitializeBoundName](https://262.ecma-international.org/12.0/#sec-initializeboundname)("\*default\*", value, env).
5.  Return [NormalCompletion](https://262.ecma-international.org/12.0/#sec-normalcompletion)(empty).

## 17 Error Handling and Language Extensions

An implementation must report most errors at the time the relevant ECMAScript language construct is evaluated. An early error is an error that can be detected and reported prior to the evaluation of any construct in the [Script](https://262.ecma-international.org/12.0/#prod-Script) containing the error. The presence of an [early error](https://262.ecma-international.org/12.0/#early-error) prevents the evaluation of the construct. An implementation must report early errors in a [Script](https://262.ecma-international.org/12.0/#prod-Script) as part of parsing that [Script](https://262.ecma-international.org/12.0/#prod-Script) in [ParseScript](https://262.ecma-international.org/12.0/#sec-parse-script). Early errors in a [Module](https://262.ecma-international.org/12.0/#prod-Module) are reported at the point when the [Module](https://262.ecma-international.org/12.0/#prod-Module) would be evaluated and the [Module](https://262.ecma-international.org/12.0/#prod-Module) is never initialized. Early errors in **eval** code are reported at the time `eval` is called and prevent evaluation of the **eval** code. All errors that are not early errors are runtime errors.

An implementation must report as an [early error](https://262.ecma-international.org/12.0/#early-error) any occurrence of a condition that is listed in a “Static Semantics: Early Errors” subclause of this specification.

An implementation shall not treat other kinds of errors as early errors even if the compiler can prove that a construct cannot execute without error under any circumstances. An implementation may issue an early warning in such a case, but it should not report the error until the relevant construct is actually executed.

An implementation shall report all errors as specified, except for the following:

-   Except as restricted in [17.1](https://262.ecma-international.org/12.0/#sec-forbidden-extensions), a [host](https://262.ecma-international.org/12.0/#host) or implementation may extend [Script](https://262.ecma-international.org/12.0/#prod-Script) syntax, [Module](https://262.ecma-international.org/12.0/#prod-Module) syntax, and regular expression pattern or flag syntax. To permit this, all operations (such as calling `eval`, using a regular expression literal, or using the Function or RegExp [constructor](https://262.ecma-international.org/12.0/#constructor)) that are allowed to throw SyntaxError are permitted to exhibit [host-defined](https://262.ecma-international.org/12.0/#host-defined) behaviour instead of throwing SyntaxError when they encounter a [host-defined](https://262.ecma-international.org/12.0/#host-defined) extension to the script syntax or regular expression pattern or flag syntax.
-   Except as restricted in [17.1](https://262.ecma-international.org/12.0/#sec-forbidden-extensions), a [host](https://262.ecma-international.org/12.0/#host) or implementation may provide additional types, values, objects, properties, and functions beyond those described in this specification. This may cause constructs (such as looking up a variable in the global scope) to have [host-defined](https://262.ecma-international.org/12.0/#host-defined) behaviour instead of throwing an error (such as ReferenceError).

## 17.1 Forbidden Extensions

An implementation must not extend this specification in the following ways:

-   ECMAScript function objects defined using syntactic constructors in [strict mode code](https://262.ecma-international.org/12.0/#sec-strict-mode-code) must not be created with own properties named "caller" or "arguments". Such own properties also must not be created for function objects defined using an [ArrowFunction](https://262.ecma-international.org/12.0/#prod-ArrowFunction), [MethodDefinition](https://262.ecma-international.org/12.0/#prod-MethodDefinition), [GeneratorDeclaration](https://262.ecma-international.org/12.0/#prod-GeneratorDeclaration), [GeneratorExpression](https://262.ecma-international.org/12.0/#prod-GeneratorExpression), [AsyncGeneratorDeclaration](https://262.ecma-international.org/12.0/#prod-AsyncGeneratorDeclaration), [AsyncGeneratorExpression](https://262.ecma-international.org/12.0/#prod-AsyncGeneratorExpression), [ClassDeclaration](https://262.ecma-international.org/12.0/#prod-ClassDeclaration), [ClassExpression](https://262.ecma-international.org/12.0/#prod-ClassExpression), [AsyncFunctionDeclaration](https://262.ecma-international.org/12.0/#prod-AsyncFunctionDeclaration), [AsyncFunctionExpression](https://262.ecma-international.org/12.0/#prod-AsyncFunctionExpression), or [AsyncArrowFunction](https://262.ecma-international.org/12.0/#prod-AsyncArrowFunction) regardless of whether the definition is contained in [strict mode code](https://262.ecma-international.org/12.0/#sec-strict-mode-code). Built-in functions, strict functions created using the Function [constructor](https://262.ecma-international.org/12.0/#constructor), generator functions created using the Generator [constructor](https://262.ecma-international.org/12.0/#constructor), async functions created using the AsyncFunction [constructor](https://262.ecma-international.org/12.0/#constructor), and functions created using the `bind` method also must not be created with such own properties.
-   If an implementation extends any [function object](https://262.ecma-international.org/12.0/#function-object) with an own property named "caller" the value of that property, as observed using \[\[Get\]\] or \[\[GetOwnProperty\]\], must not be a [strict function](https://262.ecma-international.org/12.0/#strict-function) object. If it is an [accessor property](https://262.ecma-international.org/12.0/#sec-object-type), the function that is the value of the property's \[\[Get\]\] attribute must never return a [strict function](https://262.ecma-international.org/12.0/#strict-function) when called.
-   Neither mapped nor unmapped arguments objects may be created with an own property named "caller".
-   The behaviour of built-in methods which are specified in ECMA-402, such as those named `toLocaleString`, must not be extended except as specified in ECMA-402.
-   The RegExp pattern grammars in [22.2.1](https://262.ecma-international.org/12.0/#sec-patterns) and [B.1.4](https://262.ecma-international.org/12.0/#sec-regular-expressions-patterns) must not be extended to recognize any of the source characters A-Z or a-z as [IdentityEscape](https://262.ecma-international.org/12.0/#prod-IdentityEscape)\[+U\] when the \[U\] grammar parameter is present.
-   The Syntactic Grammar must not be extended in any manner that allows the token `:` to immediately follow source text that matches the [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier) nonterminal symbol.
-   When processing [strict mode code](https://262.ecma-international.org/12.0/#sec-strict-mode-code), the syntax of [NumericLiteral](https://262.ecma-international.org/12.0/#prod-NumericLiteral) must not be extended to include [LegacyOctalIntegerLiteral](https://262.ecma-international.org/12.0/#prod-annexB-LegacyOctalIntegerLiteral) and the syntax of [DecimalIntegerLiteral](https://262.ecma-international.org/12.0/#prod-DecimalIntegerLiteral) must not be extended to include [NonOctalDecimalIntegerLiteral](https://262.ecma-international.org/12.0/#prod-annexB-NonOctalDecimalIntegerLiteral) as described in [B.1.1](https://262.ecma-international.org/12.0/#sec-additional-syntax-numeric-literals).
-   [TemplateCharacter](https://262.ecma-international.org/12.0/#prod-TemplateCharacter) must not be extended to include [LegacyOctalEscapeSequence](https://262.ecma-international.org/12.0/#prod-annexB-LegacyOctalEscapeSequence) or [NonOctalDecimalEscapeSequence](https://262.ecma-international.org/12.0/#prod-annexB-NonOctalDecimalEscapeSequence) as defined in [B.1.2](https://262.ecma-international.org/12.0/#sec-additional-syntax-string-literals).
-   When processing [strict mode code](https://262.ecma-international.org/12.0/#sec-strict-mode-code), the extensions defined in [B.3.2](https://262.ecma-international.org/12.0/#sec-labelled-function-declarations), [B.3.3](https://262.ecma-international.org/12.0/#sec-block-level-function-declarations-web-legacy-compatibility-semantics), [B.3.4](https://262.ecma-international.org/12.0/#sec-functiondeclarations-in-ifstatement-statement-clauses), and [B.3.6](https://262.ecma-international.org/12.0/#sec-initializers-in-forin-statement-heads) must not be supported.
-   When parsing for the [Module](https://262.ecma-international.org/12.0/#prod-Module) [goal symbol](https://262.ecma-international.org/12.0/#sec-context-free-grammars), the lexical grammar extensions defined in [B.1.3](https://262.ecma-international.org/12.0/#sec-html-like-comments) must not be supported.
-   [ImportCall](https://262.ecma-international.org/12.0/#prod-ImportCall) must not be extended.

## 18 ECMAScript Standard Built-in Objects

There are certain built-in objects available whenever an ECMAScript [Script](https://262.ecma-international.org/12.0/#prod-Script) or [Module](https://262.ecma-international.org/12.0/#prod-Module) begins execution. One, the [global object](https://262.ecma-international.org/12.0/#sec-global-object), is part of the [global environment](https://tc39.es/ecma262/#global-environment) of the executing program. Others are accessible as initial properties of the [global object](https://262.ecma-international.org/12.0/#sec-global-object) or indirectly as properties of accessible built-in objects.

Unless specified otherwise, a built-in object that is callable as a function is a built-in [function object](https://262.ecma-international.org/12.0/#function-object) with the characteristics described in [10.3](https://262.ecma-international.org/12.0/#sec-built-in-function-objects). Unless specified otherwise, the \[\[Extensible\]\] internal slot of a built-in object initially has the value true. Every built-in [function object](https://262.ecma-international.org/12.0/#function-object) has a \[\[Realm\]\] internal slot whose value is the [Realm Record](https://262.ecma-international.org/12.0/#realm-record) of the [realm](https://262.ecma-international.org/12.0/#realm) for which the object was initially created.

Many built-in objects are functions: they can be invoked with arguments. Some of them furthermore are constructors: they are functions intended for use with the `new` operator. For each built-in function, this specification describes the arguments required by that function and the properties of that [function object](https://262.ecma-international.org/12.0/#function-object). For each built-in [constructor](https://262.ecma-international.org/12.0/#constructor), this specification furthermore describes properties of the prototype object of that [constructor](https://262.ecma-international.org/12.0/#constructor) and properties of specific object instances returned by a `new` expression that invokes that [constructor](https://262.ecma-international.org/12.0/#constructor).

Unless otherwise specified in the description of a particular function, if a built-in function or [constructor](https://262.ecma-international.org/12.0/#constructor) is given fewer arguments than the function is specified to require, the function or [constructor](https://262.ecma-international.org/12.0/#constructor) shall behave exactly as if it had been given sufficient additional arguments, each such argument being the undefined value. Such missing arguments are considered to be “not present” and may be identified in that manner by specification algorithms. In the description of a particular function, the terms “this value” and “NewTarget” have the meanings given in [10.3](https://262.ecma-international.org/12.0/#sec-built-in-function-objects).

Unless otherwise specified in the description of a particular function, if a built-in function or [constructor](https://262.ecma-international.org/12.0/#constructor) described is given more arguments than the function is specified to allow, the extra arguments are evaluated by the call and then ignored by the function. However, an implementation may define implementation specific behaviour relating to such arguments as long as the behaviour is not the throwing of a TypeError exception that is predicated simply on the presence of an extra argument.

Note 1

Implementations that add additional capabilities to the set of built-in functions are encouraged to do so by adding new functions rather than adding new parameters to existing functions.

Unless otherwise specified every built-in function and every built-in [constructor](https://262.ecma-international.org/12.0/#constructor) has the [Function prototype object](https://262.ecma-international.org/12.0/#sec-properties-of-the-function-prototype-object), which is the initial value of the expression `Function.prototype` ([20.2.3](https://262.ecma-international.org/12.0/#sec-properties-of-the-function-prototype-object)), as the value of its \[\[Prototype\]\] internal slot.

Unless otherwise specified every built-in prototype object has the [Object prototype object](https://262.ecma-international.org/12.0/#sec-properties-of-the-object-prototype-object), which is the initial value of the expression `Object.prototype` ([20.1.3](https://262.ecma-international.org/12.0/#sec-properties-of-the-object-prototype-object)), as the value of its \[\[Prototype\]\] internal slot, except the [Object prototype object](https://262.ecma-international.org/12.0/#sec-properties-of-the-object-prototype-object) itself.

Built-in function objects that are not identified as constructors do not implement the \[\[Construct\]\] internal method unless otherwise specified in the description of a particular function.

Each built-in function defined in this specification is created by calling the [CreateBuiltinFunction](https://262.ecma-international.org/12.0/#sec-createbuiltinfunction) abstract operation ([10.3.3](https://262.ecma-international.org/12.0/#sec-createbuiltinfunction)). The values of the length and name parameters are the initial values of the "length" and "name" properties as discussed below. The values of the prefix parameter are similarly discussed below.

Every built-in [function object](https://262.ecma-international.org/12.0/#function-object), including constructors, has a "length" property whose value is a non-negative [integral Number](https://262.ecma-international.org/12.0/#integral-number). Unless otherwise specified, this value is equal to the number of required parameters shown in the subclause headings for the function description. Optional parameters and rest parameters are not included in the parameter count.

Note 2

For example, the [function object](https://262.ecma-international.org/12.0/#function-object) that is the initial value of the "map" property of the [Array prototype object](https://262.ecma-international.org/12.0/#sec-properties-of-the-array-prototype-object) is described under the subclause heading «Array.prototype.map (callbackFn \[ , thisArg\])» which shows the two named arguments callbackFn and thisArg, the latter being optional; therefore the value of the "length" property of that [function object](https://262.ecma-international.org/12.0/#function-object) is 1𝔽.

Unless otherwise specified, the "length" property of a built-in [function object](https://262.ecma-international.org/12.0/#function-object) has the attributes { \[\[Writable\]\]: false, \[\[Enumerable\]\]: false, \[\[Configurable\]\]: true }.

Every built-in [function object](https://262.ecma-international.org/12.0/#function-object), including constructors, has a "name" property whose value is a String. Unless otherwise specified, this value is the name that is given to the function in this specification. Functions that are identified as anonymous functions use the empty String as the value of the "name" property. For functions that are specified as properties of objects, the name value is the [property name](https://262.ecma-international.org/12.0/#property-name) string used to access the function. Functions that are specified as get or set accessor functions of built-in properties have "get" or "set" (respectively) passed to the prefix parameter when calling [CreateBuiltinFunction](https://262.ecma-international.org/12.0/#sec-createbuiltinfunction).

The value of the "name" property is explicitly specified for each built-in functions whose property key is a Symbol value. If such an explicitly specified value starts with the prefix "get " or "set " and the function for which it is specified is a get or set accessor function of a built-in property, the value without the prefix is passed to the name parameter, and the value "get" or "set" (respectively) is passed to the prefix parameter when calling [CreateBuiltinFunction](https://262.ecma-international.org/12.0/#sec-createbuiltinfunction).

Unless otherwise specified, the "name" property of a built-in [function object](https://262.ecma-international.org/12.0/#function-object) has the attributes { \[\[Writable\]\]: false, \[\[Enumerable\]\]: false, \[\[Configurable\]\]: true }.

Every other [data property](https://262.ecma-international.org/12.0/#sec-object-type) described in clauses [19](https://262.ecma-international.org/12.0/#sec-global-object) through [28](https://262.ecma-international.org/12.0/#sec-reflection) and in Annex [B.2](https://262.ecma-international.org/12.0/#sec-additional-built-in-properties) has the attributes { \[\[Writable\]\]: true, \[\[Enumerable\]\]: false, \[\[Configurable\]\]: true } unless otherwise specified.

Every [accessor property](https://262.ecma-international.org/12.0/#sec-object-type) described in clauses [19](https://262.ecma-international.org/12.0/#sec-global-object) through [28](https://262.ecma-international.org/12.0/#sec-reflection) and in Annex [B.2](https://262.ecma-international.org/12.0/#sec-additional-built-in-properties) has the attributes { \[\[Enumerable\]\]: false, \[\[Configurable\]\]: true } unless otherwise specified. If only a get accessor function is described, the set accessor function is the default value, undefined. If only a set accessor is described the get accessor is the default value, undefined.

## 19 The Global Object

The global object:

-   is created before control enters any [execution context](https://262.ecma-international.org/12.0/#sec-execution-contexts).
-   does not have a \[\[Construct\]\] internal method; it cannot be used as a [constructor](https://262.ecma-international.org/12.0/#constructor) with the `new` operator.
-   does not have a \[\[Call\]\] internal method; it cannot be invoked as a function.
-   has a \[\[Prototype\]\] internal slot whose value is [host-defined](https://262.ecma-international.org/12.0/#host-defined).
-   may have [host](https://262.ecma-international.org/12.0/#host) defined properties in addition to the properties defined in this specification. This may include a property whose value is the global object itself.

## 19.1 Value Properties of the Global Object

## 19.1.1 globalThis

The initial value of the "globalThis" property of the [global object](https://262.ecma-international.org/12.0/#sec-global-object) in a [Realm Record](https://262.ecma-international.org/12.0/#realm-record) realm is realm.\[\[GlobalEnv\]\].\[\[GlobalThisValue\]\].

This property has the attributes { \[\[Writable\]\]: true, \[\[Enumerable\]\]: false, \[\[Configurable\]\]: true }.

## 19.1.2 Infinity

The value of `Infinity` is +∞𝔽 (see [6.1.6.1](https://262.ecma-international.org/12.0/#sec-ecmascript-language-types-number-type)). This property has the attributes { \[\[Writable\]\]: false, \[\[Enumerable\]\]: false, \[\[Configurable\]\]: false }.

## 19.1.3 NaN

The value of `NaN` is NaN (see [6.1.6.1](https://262.ecma-international.org/12.0/#sec-ecmascript-language-types-number-type)). This property has the attributes { \[\[Writable\]\]: false, \[\[Enumerable\]\]: false, \[\[Configurable\]\]: false }.

## 19.1.4 undefined

The value of `undefined` is undefined (see [6.1.1](https://262.ecma-international.org/12.0/#sec-ecmascript-language-types-undefined-type)). This property has the attributes { \[\[Writable\]\]: false, \[\[Enumerable\]\]: false, \[\[Configurable\]\]: false }.

## 19.2 Function Properties of the Global Object

## 19.2.1 eval ( x )

The `eval` function is the %eval% intrinsic object. When the `eval` function is called with one argument x, the following steps are taken:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): The [execution context stack](https://262.ecma-international.org/12.0/#execution-context-stack) has at least two elements.
2.  Let callerContext be the second to top element of the [execution context stack](https://262.ecma-international.org/12.0/#execution-context-stack).
3.  Let callerRealm be callerContext's [Realm](https://262.ecma-international.org/12.0/#realm).
4.  Return ? [PerformEval](https://262.ecma-international.org/12.0/#sec-performeval)(x, callerRealm, false, false).

## 19.2.1.1 PerformEval ( x, callerRealm, strictCaller, direct )

The abstract operation PerformEval takes arguments x, callerRealm, strictCaller, and direct. It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): If direct is false, then strictCaller is also false.
2.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(x) is not String, return x.
3.  Let evalRealm be [the current Realm Record](https://262.ecma-international.org/12.0/#current-realm).
4.  Perform ? [HostEnsureCanCompileStrings](https://262.ecma-international.org/12.0/#sec-hostensurecancompilestrings)(callerRealm, evalRealm).
5.  Let inFunction be false.
6.  Let inMethod be false.
7.  Let inDerivedConstructor be false.
8.  If direct is true, then
    1.  Let thisEnvRec be ! [GetThisEnvironment](https://262.ecma-international.org/12.0/#sec-getthisenvironment)().
    2.  If thisEnvRec is a [function Environment Record](https://262.ecma-international.org/12.0/#sec-function-environment-records), then
        1.  Let F be thisEnvRec.\[\[FunctionObject\]\].
        2.  Set inFunction to true.
        3.  Set inMethod to thisEnvRec.HasSuperBinding().
        4.  If F.\[\[ConstructorKind\]\] is derived, set inDerivedConstructor to true.
9.  Perform the following substeps in an [implementation-defined](https://262.ecma-international.org/12.0/#implementation-defined) order, possibly interleaving parsing and error detection:
    1.  Let script be [ParseText](https://262.ecma-international.org/12.0/#sec-parsetext)(! [StringToCodePoints](https://262.ecma-international.org/12.0/#sec-stringtocodepoints)(x), [Script](https://262.ecma-international.org/12.0/#prod-Script)).
    2.  If script is a [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) of errors, throw a SyntaxError exception.
    3.  If script [Contains](https://262.ecma-international.org/12.0/#sec-static-semantics-contains) [ScriptBody](https://262.ecma-international.org/12.0/#prod-ScriptBody) is false, return undefined.
    4.  Let body be the [ScriptBody](https://262.ecma-international.org/12.0/#prod-ScriptBody) of script.
    5.  If inFunction is false, and body [Contains](https://262.ecma-international.org/12.0/#sec-static-semantics-contains) [NewTarget](https://262.ecma-international.org/12.0/#prod-NewTarget), throw a SyntaxError exception.
    6.  If inMethod is false, and body [Contains](https://262.ecma-international.org/12.0/#sec-static-semantics-contains) [SuperProperty](https://262.ecma-international.org/12.0/#prod-SuperProperty), throw a SyntaxError exception.
    7.  If inDerivedConstructor is false, and body [Contains](https://262.ecma-international.org/12.0/#sec-static-semantics-contains) [SuperCall](https://262.ecma-international.org/12.0/#prod-SuperCall), throw a SyntaxError exception.
10.  If strictCaller is true, let strictEval be true.
11.  Else, let strictEval be [IsStrict](https://262.ecma-international.org/12.0/#sec-static-semantics-isstrict) of script.
12.  Let runningContext be the [running execution context](https://262.ecma-international.org/12.0/#running-execution-context).
13.  NOTE: If direct is true, runningContext will be the [execution context](https://262.ecma-international.org/12.0/#sec-execution-contexts) that performed the [direct eval](https://262.ecma-international.org/12.0/#sec-function-calls-runtime-semantics-evaluation). If direct is false, runningContext will be the [execution context](https://262.ecma-international.org/12.0/#sec-execution-contexts) for the invocation of the `eval` function.
14.  If direct is true, then
    1.  Let lexEnv be [NewDeclarativeEnvironment](https://262.ecma-international.org/12.0/#sec-newdeclarativeenvironment)(runningContext's LexicalEnvironment).
    2.  Let varEnv be runningContext's VariableEnvironment.
15.  Else,
    1.  Let lexEnv be [NewDeclarativeEnvironment](https://262.ecma-international.org/12.0/#sec-newdeclarativeenvironment)(evalRealm.\[\[GlobalEnv\]\]).
    2.  Let varEnv be evalRealm.\[\[GlobalEnv\]\].
16.  If strictEval is true, set varEnv to lexEnv.
17.  If runningContext is not already suspended, suspend runningContext.
18.  Let evalContext be a new ECMAScript code [execution context](https://262.ecma-international.org/12.0/#sec-execution-contexts).
19.  Set evalContext's Function to null.
20.  Set evalContext's [Realm](https://262.ecma-international.org/12.0/#realm) to evalRealm.
21.  Set evalContext's ScriptOrModule to runningContext's ScriptOrModule.
22.  Set evalContext's VariableEnvironment to varEnv.
23.  Set evalContext's LexicalEnvironment to lexEnv.
24.  Push evalContext onto the [execution context stack](https://262.ecma-international.org/12.0/#execution-context-stack); evalContext is now the [running execution context](https://262.ecma-international.org/12.0/#running-execution-context).
25.  Let result be [EvalDeclarationInstantiation](https://262.ecma-international.org/12.0/#sec-evaldeclarationinstantiation)(body, varEnv, lexEnv, strictEval).
26.  If result.\[\[Type\]\] is normal, then
    1.  Set result to the result of evaluating body.
27.  If result.\[\[Type\]\] is normal and result.\[\[Value\]\] is empty, then
    1.  Set result to [NormalCompletion](https://262.ecma-international.org/12.0/#sec-normalcompletion)(undefined).
28.  [Suspend](https://tc39.es/ecma262/#sec-suspend) evalContext and remove it from the [execution context stack](https://262.ecma-international.org/12.0/#execution-context-stack).
29.  Resume the context that is now on the top of the [execution context stack](https://262.ecma-international.org/12.0/#execution-context-stack) as the [running execution context](https://262.ecma-international.org/12.0/#running-execution-context).
30.  Return [Completion](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type)(result).

Note

The eval code cannot instantiate variable or function bindings in the variable environment of the calling context that invoked the eval if the calling context is evaluating formal parameter initializers or if either the code of the calling context or the eval code is [strict mode code](https://262.ecma-international.org/12.0/#sec-strict-mode-code). Instead such bindings are instantiated in a new VariableEnvironment that is only accessible to the eval code. Bindings introduced by `let`, `const`, or `class` declarations are always instantiated in a new LexicalEnvironment.

## 19.2.1.2 HostEnsureCanCompileStrings ( callerRealm, calleeRealm )

The [host-defined](https://262.ecma-international.org/12.0/#host-defined) abstract operation HostEnsureCanCompileStrings takes arguments callerRealm (a [Realm Record](https://262.ecma-international.org/12.0/#realm-record)) and calleeRealm (a [Realm Record](https://262.ecma-international.org/12.0/#realm-record)). It allows [host](https://262.ecma-international.org/12.0/#host) environments to block certain ECMAScript functions which allow developers to compile strings into ECMAScript code.

An implementation of HostEnsureCanCompileStrings may complete normally or abruptly. Any abrupt completions will be propagated to its callers. The default implementation of HostEnsureCanCompileStrings is to unconditionally return an empty normal completion.

## 19.2.1.3 EvalDeclarationInstantiation ( body, varEnv, lexEnv, strict )

The abstract operation EvalDeclarationInstantiation takes arguments body, varEnv, lexEnv, and strict. It performs the following steps when called:

1.  Let varNames be the [VarDeclaredNames](https://262.ecma-international.org/12.0/#sec-static-semantics-vardeclarednames) of body.
2.  Let varDeclarations be the [VarScopedDeclarations](https://262.ecma-international.org/12.0/#sec-static-semantics-varscopeddeclarations) of body.
3.  If strict is false, then
    1.  If varEnv is a [global Environment Record](https://262.ecma-international.org/12.0/#sec-global-environment-records), then
        1.  For each element name of varNames, do
            1.  If varEnv.HasLexicalDeclaration(name) is true, throw a SyntaxError exception.
            2.  NOTE: `eval` will not create a global var declaration that would be shadowed by a global lexical declaration.
    2.  Let thisEnv be lexEnv.
    3.  [Assert](https://262.ecma-international.org/12.0/#assert): The following loop will terminate.
    4.  Repeat, while thisEnv is not the same as varEnv,
        1.  If thisEnv is not an [object Environment Record](https://262.ecma-international.org/12.0/#sec-object-environment-records), then
            1.  NOTE: The environment of with statements cannot contain any lexical declaration so it doesn't need to be checked for var/let hoisting conflicts.
            2.  For each element name of varNames, do
                1.  If thisEnv.HasBinding(name) is true, then
                    1.  Throw a SyntaxError exception.
                    2.  NOTE: Annex [B.3.5](https://262.ecma-international.org/12.0/#sec-variablestatements-in-catch-blocks) defines alternate semantics for the above step.
                2.  NOTE: A [direct eval](https://262.ecma-international.org/12.0/#sec-function-calls-runtime-semantics-evaluation) will not hoist var declaration over a like-named lexical declaration.
        2.  Set thisEnv to thisEnv.\[\[OuterEnv\]\].
4.  Let functionsToInitialize be a new empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).
5.  Let declaredFunctionNames be a new empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).
6.  For each element d of varDeclarations, in reverse [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) order, do
    1.  If d is neither a [VariableDeclaration](https://262.ecma-international.org/12.0/#prod-VariableDeclaration) nor a [ForBinding](https://262.ecma-international.org/12.0/#prod-ForBinding) nor a [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier), then
        1.  [Assert](https://262.ecma-international.org/12.0/#assert): d is either a [FunctionDeclaration](https://262.ecma-international.org/12.0/#prod-FunctionDeclaration), a [GeneratorDeclaration](https://262.ecma-international.org/12.0/#prod-GeneratorDeclaration), an [AsyncFunctionDeclaration](https://262.ecma-international.org/12.0/#prod-AsyncFunctionDeclaration), or an [AsyncGeneratorDeclaration](https://262.ecma-international.org/12.0/#prod-AsyncGeneratorDeclaration).
        2.  NOTE: If there are multiple function declarations for the same name, the last declaration is used.
        3.  Let fn be the sole element of the [BoundNames](https://262.ecma-international.org/12.0/#sec-static-semantics-boundnames) of d.
        4.  If fn is not an element of declaredFunctionNames, then
            1.  If varEnv is a [global Environment Record](https://262.ecma-international.org/12.0/#sec-global-environment-records), then
                1.  Let fnDefinable be ? varEnv.CanDeclareGlobalFunction(fn).
                2.  If fnDefinable is false, throw a TypeError exception.
            2.  Append fn to declaredFunctionNames.
            3.  Insert d as the first element of functionsToInitialize.
7.  NOTE: Annex [B.3.3.3](https://262.ecma-international.org/12.0/#sec-web-compat-evaldeclarationinstantiation) adds additional steps at this point.
8.  Let declaredVarNames be a new empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).
9.  For each element d of varDeclarations, do
    1.  If d is a [VariableDeclaration](https://262.ecma-international.org/12.0/#prod-VariableDeclaration), a [ForBinding](https://262.ecma-international.org/12.0/#prod-ForBinding), or a [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier), then
        1.  For each String vn of the [BoundNames](https://262.ecma-international.org/12.0/#sec-static-semantics-boundnames) of d, do
            1.  If vn is not an element of declaredFunctionNames, then
                1.  If varEnv is a [global Environment Record](https://262.ecma-international.org/12.0/#sec-global-environment-records), then
                    1.  Let vnDefinable be ? varEnv.CanDeclareGlobalVar(vn).
                    2.  If vnDefinable is false, throw a TypeError exception.
                2.  If vn is not an element of declaredVarNames, then
                    1.  Append vn to declaredVarNames.
10.  NOTE: No abnormal terminations occur after this algorithm step unless varEnv is a [global Environment Record](https://262.ecma-international.org/12.0/#sec-global-environment-records) and the [global object](https://262.ecma-international.org/12.0/#sec-global-object) is a [Proxy exotic object](https://262.ecma-international.org/12.0/#proxy-exotic-object).
11.  Let lexDeclarations be the [LexicallyScopedDeclarations](https://262.ecma-international.org/12.0/#sec-static-semantics-lexicallyscopeddeclarations) of body.
12.  For each element d of lexDeclarations, do
    1.  NOTE: Lexically declared names are only instantiated here but not initialized.
    2.  For each element dn of the [BoundNames](https://262.ecma-international.org/12.0/#sec-static-semantics-boundnames) of d, do
        1.  If [IsConstantDeclaration](https://262.ecma-international.org/12.0/#sec-static-semantics-isconstantdeclaration) of d is true, then
            1.  Perform ? lexEnv.CreateImmutableBinding(dn, true).
        2.  Else,
            1.  Perform ? lexEnv.CreateMutableBinding(dn, false).
13.  For each [Parse Node](https://262.ecma-international.org/12.0/#sec-syntactic-grammar) f of functionsToInitialize, do
    1.  Let fn be the sole element of the [BoundNames](https://262.ecma-international.org/12.0/#sec-static-semantics-boundnames) of f.
    2.  Let fo be [InstantiateFunctionObject](https://262.ecma-international.org/12.0/#sec-runtime-semantics-instantiatefunctionobject) of f with argument lexEnv.
    3.  If varEnv is a [global Environment Record](https://262.ecma-international.org/12.0/#sec-global-environment-records), then
        1.  Perform ? varEnv.CreateGlobalFunctionBinding(fn, fo, true).
    4.  Else,
        1.  Let bindingExists be varEnv.HasBinding(fn).
        2.  If bindingExists is false, then
            1.  Let status be ! varEnv.CreateMutableBinding(fn, true).
            2.  [Assert](https://262.ecma-international.org/12.0/#assert): status is not an [abrupt completion](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type) because of validation preceding step [10](https://262.ecma-international.org/12.0/#step-evaldeclarationinstantiation-post-validation).
            3.  Perform ! varEnv.InitializeBinding(fn, fo).
        3.  Else,
            1.  Perform ! varEnv.SetMutableBinding(fn, fo, false).
14.  For each String vn of declaredVarNames, do
    1.  If varEnv is a [global Environment Record](https://262.ecma-international.org/12.0/#sec-global-environment-records), then
        1.  Perform ? varEnv.CreateGlobalVarBinding(vn, true).
    2.  Else,
        1.  Let bindingExists be varEnv.HasBinding(vn).
        2.  If bindingExists is false, then
            1.  Let status be ! varEnv.CreateMutableBinding(vn, true).
            2.  [Assert](https://262.ecma-international.org/12.0/#assert): status is not an [abrupt completion](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type) because of validation preceding step [10](https://262.ecma-international.org/12.0/#step-evaldeclarationinstantiation-post-validation).
            3.  Perform ! varEnv.InitializeBinding(vn, undefined).
15.  Return [NormalCompletion](https://262.ecma-international.org/12.0/#sec-normalcompletion)(empty).

Note

An alternative version of this algorithm is described in [B.3.5](https://262.ecma-international.org/12.0/#sec-variablestatements-in-catch-blocks).

## 19.2.2 isFinite ( number )

The `isFinite` function is the %isFinite% intrinsic object. When the `isFinite` function is called with one argument number, the following steps are taken:

1.  Let num be ? [ToNumber](https://262.ecma-international.org/12.0/#sec-tonumber)(number).
2.  If num is NaN, +∞𝔽, or \-∞𝔽, return false.
3.  Otherwise, return true.

## 19.2.3 isNaN ( number )

The `isNaN` function is the %isNaN% intrinsic object. When the `isNaN` function is called with one argument number, the following steps are taken:

1.  Let num be ? [ToNumber](https://262.ecma-international.org/12.0/#sec-tonumber)(number).
2.  If num is NaN, return true.
3.  Otherwise, return false.

Note

A reliable way for ECMAScript code to test if a value `X` is a NaN is an expression of the form `X !== X`. The result will be true if and only if `X` is a NaN.

## 19.2.4 parseFloat ( string )

The `parseFloat` function produces a [Number value](https://262.ecma-international.org/12.0/#number-value) dictated by interpretation of the contents of the string argument as a decimal literal.

The `parseFloat` function is the %parseFloat% intrinsic object. When the `parseFloat` function is called with one argument string, the following steps are taken:

1.  Let inputString be ? [ToString](https://262.ecma-international.org/12.0/#sec-tostring)(string).
2.  Let trimmedString be ! [TrimString](https://262.ecma-international.org/12.0/#sec-trimstring)(inputString, start).
3.  If neither trimmedString nor any prefix of trimmedString satisfies the syntax of a [StrDecimalLiteral](https://262.ecma-international.org/12.0/#prod-StrDecimalLiteral) (see [7.1.4.1](https://262.ecma-international.org/12.0/#sec-tonumber-applied-to-the-string-type)), return NaN.
4.  Let numberString be the longest prefix of trimmedString, which might be trimmedString itself, that satisfies the syntax of a [StrDecimalLiteral](https://262.ecma-international.org/12.0/#prod-StrDecimalLiteral).
5.  Let mathFloat be MV of numberString.
6.  If mathFloat = 0, then
    1.  If the first code unit of trimmedString is the code unit 0x002D (HYPHEN-MINUS), return \-0𝔽.
    2.  Return +0𝔽.
7.  Return [𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(mathFloat).

Note

`parseFloat` may interpret only a leading portion of string as a [Number value](https://262.ecma-international.org/12.0/#number-value); it ignores any code units that cannot be interpreted as part of the notation of a decimal literal, and no indication is given that any such code units were ignored.

## 19.2.5 parseInt ( string, radix )

The `parseInt` function produces an [integral Number](https://262.ecma-international.org/12.0/#integral-number) dictated by interpretation of the contents of the string argument according to the specified radix. Leading white space in string is ignored. If radix is undefined or 0, it is assumed to be 10 except when the number begins with the code unit pairs `0x` or `0X`, in which case a radix of 16 is assumed. If radix is 16, the number may also optionally begin with the code unit pairs `0x` or `0X`.

The `parseInt` function is the %parseInt% intrinsic object. When the `parseInt` function is called, the following steps are taken:

1.  Let inputString be ? [ToString](https://262.ecma-international.org/12.0/#sec-tostring)(string).
2.  Let S be ! [TrimString](https://262.ecma-international.org/12.0/#sec-trimstring)(inputString, start).
3.  Let sign be 1.
4.  If S is not empty and the first code unit of S is the code unit 0x002D (HYPHEN-MINUS), set sign to -1.
5.  If S is not empty and the first code unit of S is the code unit 0x002B (PLUS SIGN) or the code unit 0x002D (HYPHEN-MINUS), remove the first code unit from S.
6.  Let R be [ℝ](https://262.ecma-international.org/12.0/#%E2%84%9D)(? [ToInt32](https://262.ecma-international.org/12.0/#sec-toint32)(radix)).
7.  Let stripPrefix be true.
8.  If R ≠ 0, then
    1.  If R < 2 or R > 36, return NaN.
    2.  If R ≠ 16, set stripPrefix to false.
9.  Else,
    1.  Set R to 10.
10.  If stripPrefix is true, then
    1.  If the length of S is at least 2 and the first two code units of S are either "0x" or "0X", then
        1.  Remove the first two code units from S.
        2.  Set R to 16.
11.  If S contains a code unit that is not a radix-R digit, let end be the index within S of the first such code unit; otherwise, let end be the length of S.
12.  Let Z be the [substring](https://262.ecma-international.org/12.0/#substring) of S from 0 to end.
13.  If Z is empty, return NaN.
14.  Let mathInt be the [integer](https://262.ecma-international.org/12.0/#integer) value that is represented by Z in radix-R notation, using the letters **A**\-**Z** and **a**\-**z** for digits with values 10 through 35. (However, if R is 10 and Z contains more than 20 significant digits, every significant digit after the 20th may be replaced by a 0 digit, at the option of the implementation; and if R is not 2, 4, 8, 10, 16, or 32, then mathInt may be an [implementation-approximated](https://262.ecma-international.org/12.0/#implementation-approximated) value representing the [integer](https://262.ecma-international.org/12.0/#integer) value that is represented by Z in radix-R notation.)
15.  If mathInt = 0, then
    1.  If sign = -1, return \-0𝔽.
    2.  Return +0𝔽.
16.  Return [𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(sign × mathInt).

Note

`parseInt` may interpret only a leading portion of string as an [integer](https://262.ecma-international.org/12.0/#integer) value; it ignores any code units that cannot be interpreted as part of the notation of an [integer](https://262.ecma-international.org/12.0/#integer), and no indication is given that any such code units were ignored.

## 19.2.6 URI Handling Functions

Uniform Resource Identifiers, or URIs, are Strings that identify resources (e.g. web pages or files) and transport protocols by which to access them (e.g. HTTP or FTP) on the Internet. The ECMAScript language itself does not provide any support for using URIs except for functions that encode and decode URIs as described in [19.2.6.2](https://262.ecma-international.org/12.0/#sec-decodeuri-encodeduri), [19.2.6.3](https://262.ecma-international.org/12.0/#sec-decodeuricomponent-encodeduricomponent), [19.2.6.4](https://262.ecma-international.org/12.0/#sec-encodeuri-uri) and [19.2.6.5](https://262.ecma-international.org/12.0/#sec-encodeuricomponent-uricomponent)

Note

Many implementations of ECMAScript provide additional functions and methods that manipulate web pages; these functions are beyond the scope of this standard.

## 19.2.6.1 URI Syntax and Semantics

A URI is composed of a sequence of components separated by component separators. The general form is:

_Scheme_ `:` _First_ `/` _Second_ `;` _Third_ `?` _Fourth_

where the italicized names represent components and “`:`”, “`/`”, “`;`” and “`?`” are reserved for use as separators. The `encodeURI` and `decodeURI` functions are intended to work with complete URIs; they assume that any reserved code units in the URI are intended to have special meaning and so are not encoded. The `encodeURIComponent` and `decodeURIComponent` functions are intended to work with the individual component parts of a URI; they assume that any reserved code units represent text and so must be encoded so that they are not interpreted as reserved code units when the component is part of a complete URI.

The following lexical grammar specifies the form of encoded URIs.

## Syntax

[uri](https://262.ecma-international.org/12.0/#prod-uri) ::: [uriCharacters](https://262.ecma-international.org/12.0/#prod-uriCharacters)opt [uriCharacters](https://262.ecma-international.org/12.0/#prod-uriCharacters) ::: [uriCharacter](https://262.ecma-international.org/12.0/#prod-uriCharacter) [uriCharacters](https://262.ecma-international.org/12.0/#prod-uriCharacters)opt [uriCharacter](https://262.ecma-international.org/12.0/#prod-uriCharacter) ::: [uriReserved](https://262.ecma-international.org/12.0/#prod-uriReserved) [uriUnescaped](https://262.ecma-international.org/12.0/#prod-uriUnescaped) [uriEscaped](https://262.ecma-international.org/12.0/#prod-uriEscaped) [uriReserved](https://262.ecma-international.org/12.0/#prod-uriReserved) ::: one of ; / ? : @ & \= + $ , [uriUnescaped](https://262.ecma-international.org/12.0/#prod-uriUnescaped) ::: [uriAlpha](https://262.ecma-international.org/12.0/#prod-uriAlpha) [DecimalDigit](https://262.ecma-international.org/12.0/#prod-DecimalDigit) [uriMark](https://262.ecma-international.org/12.0/#prod-uriMark) [uriEscaped](https://262.ecma-international.org/12.0/#prod-uriEscaped) ::: % [HexDigit](https://262.ecma-international.org/12.0/#prod-HexDigit) [HexDigit](https://262.ecma-international.org/12.0/#prod-HexDigit) [uriAlpha](https://262.ecma-international.org/12.0/#prod-uriAlpha) ::: one of a b c d e f g h i j k l m n o p q r s t u v w x y z A B C D E F G H I J K L M N O P Q R S T U V W X Y Z [uriMark](https://262.ecma-international.org/12.0/#prod-uriMark) ::: one of \- \_ . ! ~ \* ' ( ) Note

The above syntax is based upon RFC 2396 and does not reflect changes introduced by the more recent RFC 3986.

## Runtime Semantics

When a code unit to be included in a URI is not listed above or is not intended to have the special meaning sometimes given to the reserved code units, that code unit must be encoded. The code unit is transformed into its UTF-8 encoding, with [surrogate pairs](https://262.ecma-international.org/12.0/#surrogate-pair) first converted from UTF-16 to the corresponding code point value. (Note that for code units in the range \[0, 127\] this results in a single octet with the same value.) The resulting sequence of octets is then transformed into a String with each octet represented by an escape sequence of the form "%xx".

## 19.2.6.1.1 Encode ( string, unescapedSet )

The abstract operation Encode takes arguments string (a String) and unescapedSet (a String). It performs URI encoding and escaping. It performs the following steps when called:

1.  Let strLen be the number of code units in string.
2.  Let R be the empty String.
3.  Let k be 0.
4.  Repeat,
    1.  If k = strLen, return R.
    2.  Let C be the code unit at index k within string.
    3.  If C is in unescapedSet, then
        1.  Set k to k + 1.
        2.  Set R to the [string-concatenation](https://262.ecma-international.org/12.0/#string-concatenation) of R and C.
    4.  Else,
        1.  Let cp be ! [CodePointAt](https://262.ecma-international.org/12.0/#sec-codepointat)(string, k).
        2.  If cp.\[\[IsUnpairedSurrogate\]\] is true, throw a URIError exception.
        3.  Set k to k + cp.\[\[CodeUnitCount\]\].
        4.  Let Octets be the [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) of octets resulting by applying the UTF-8 transformation to cp.\[\[CodePoint\]\].
        5.  For each element octet of Octets, do
            1.  Set R to the [string-concatenation](https://262.ecma-international.org/12.0/#string-concatenation) of:
                -   R
                -   "%"
                -   the String representation of octet, formatted as a two-digit uppercase hexadecimal number, padded to the left with a zero if necessary

## 19.2.6.1.2 Decode ( string, reservedSet )

The abstract operation Decode takes arguments string (a String) and reservedSet (a String). It performs URI unescaping and decoding. It performs the following steps when called:

1.  Let strLen be the length of string.
2.  Let R be the empty String.
3.  Let k be 0.
4.  Repeat,
    1.  If k = strLen, return R.
    2.  Let C be the code unit at index k within string.
    3.  If C is not the code unit 0x0025 (PERCENT SIGN), then
        1.  Let S be the String value containing only the code unit C.
    4.  Else,
        1.  Let start be k.
        2.  If k + 2 ≥ strLen, throw a URIError exception.
        3.  If the code units at index (k + 1) and (k + 2) within string do not represent hexadecimal digits, throw a URIError exception.
        4.  Let B be the 8-bit value represented by the two hexadecimal digits at index (k + 1) and (k + 2).
        5.  Set k to k + 2.
        6.  Let n be the number of leading 1 bits in B.
        7.  If n = 0, then
            1.  Let C be the code unit whose value is B.
            2.  If C is not in reservedSet, then
                1.  Let S be the String value containing only the code unit C.
            3.  Else,
                1.  Let S be the [substring](https://262.ecma-international.org/12.0/#substring) of string from start to k + 1.
        8.  Else,
            1.  If n = 1 or n > 4, throw a URIError exception.
            2.  If k + (3 × (n - 1)) ≥ strLen, throw a URIError exception.
            3.  Let Octets be a [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) whose sole element is B.
            4.  Let j be 1.
            5.  Repeat, while j < n,
                1.  Set k to k + 1.
                2.  If the code unit at index k within string is not the code unit 0x0025 (PERCENT SIGN), throw a URIError exception.
                3.  If the code units at index (k + 1) and (k + 2) within string do not represent hexadecimal digits, throw a URIError exception.
                4.  Let B be the 8-bit value represented by the two hexadecimal digits at index (k + 1) and (k + 2).
                5.  Set k to k + 2.
                6.  Append B to Octets.
                7.  Set j to j + 1.
            6.  [Assert](https://262.ecma-international.org/12.0/#assert): The length of Octets is n.
            7.  If Octets does not contain a valid UTF-8 encoding of a Unicode code point, throw a URIError exception.
            8.  Let V be the code point obtained by applying the UTF-8 transformation to Octets, that is, from a [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) of octets into a 21-bit value.
            9.  Let S be [UTF16EncodeCodePoint](https://262.ecma-international.org/12.0/#sec-utf16encodecodepoint)(V).
    5.  Set R to the [string-concatenation](https://262.ecma-international.org/12.0/#string-concatenation) of R and S.
    6.  Set k to k + 1.

Note

This syntax of Uniform Resource Identifiers is based upon RFC 2396 and does not reflect the more recent RFC 3986 which replaces RFC 2396. A formal description and implementation of UTF-8 is given in RFC 3629.

In UTF-8, characters are encoded using sequences of 1 to 6 octets. The only octet of a sequence of one has the higher-order bit set to 0, the remaining 7 bits being used to encode the character value. In a sequence of n octets, n > 1, the initial octet has the n higher-order bits set to 1, followed by a bit set to 0. The remaining bits of that octet contain bits from the value of the character to be encoded. The following octets all have the higher-order bit set to 1 and the following bit set to 0, leaving 6 bits in each to contain bits from the character to be encoded. The possible UTF-8 encodings of ECMAScript characters are specified in [Table 49](https://262.ecma-international.org/12.0/#table-utf-8-encodings).

Table 49 (Informative): UTF-8 Encodings

| Code Unit Value | Representation | 1st Octet | 2nd Octet | 3rd Octet | 4th Octet |
| --- | --- | --- | --- | --- | --- |
| `0x0000 - 0x007F` | `00000000 0_zzzzzzz_` | `0_zzzzzzz_` |  |  |  |
| `0x0080 - 0x07FF` | `00000_yyy yyzzzzzz_` | `110_yyyyy_` | `10_zzzzzz_` |  |  |
| `0x0800 - 0xD7FF` | `_xxxxyyyy yyzzzzzz_` | `1110_xxxx_` | `10_yyyyyy_` | `10_zzzzzz_` |  |
| `0xD800 - 0xDBFF`  
followed by  
`0xDC00 - 0xDFFF` | `110110_vv vvwwwwxx_`  
followed by  
`110111_yy yyzzzzzz_` | `11110_uuu_` | `10_uuwwww_` | `10_xxyyyy_` | `10_zzzzzz_` |
| `0xD800 - 0xDBFF`  
not followed by  
`0xDC00 - 0xDFFF` | causes `URIError` |  |  |  |  |
| `0xDC00 - 0xDFFF` | causes `URIError` |  |  |  |  |
| `0xE000 - 0xFFFF` | `_xxxxyyyy yyzzzzzz_` | `1110_xxxx_` | `10_yyyyyy_` | `10_zzzzzz_` |  |

Where  
uuuuu = vvvv + 1  
to account for the addition of 0x10000 as in section 3.8 of the Unicode Standard (Surrogates).

The above transformation combines each [surrogate pair](https://262.ecma-international.org/12.0/#surrogate-pair) (for which code unit values in the inclusive range 0xD800 to 0xDFFF are reserved) into a UTF-32 representation and encodes the resulting 21-bit value into UTF-8. Decoding reconstructs the [surrogate pair](https://262.ecma-international.org/12.0/#surrogate-pair).

RFC 3629 prohibits the decoding of invalid UTF-8 octet sequences. For example, the invalid sequence C0 80 must not decode into the code unit 0x0000. Implementations of the Decode algorithm are required to throw a URIError when encountering such invalid sequences.

## 19.2.6.2 decodeURI ( encodedURI )

The `decodeURI` function computes a new version of a URI in which each escape sequence and UTF-8 encoding of the sort that might be introduced by the `encodeURI` function is replaced with the UTF-16 encoding of the code points that it represents. Escape sequences that could not have been introduced by `encodeURI` are not replaced.

The `decodeURI` function is the %decodeURI% intrinsic object. When the `decodeURI` function is called with one argument encodedURI, the following steps are taken:

1.  Let uriString be ? [ToString](https://262.ecma-international.org/12.0/#sec-tostring)(encodedURI).
2.  Let reservedURISet be a String containing one instance of each code unit valid in [uriReserved](https://262.ecma-international.org/12.0/#prod-uriReserved) plus "#".
3.  Return ? [Decode](https://262.ecma-international.org/12.0/#sec-decode)(uriString, reservedURISet).

Note

The code point `#` is not decoded from escape sequences even though it is not a reserved URI code point.

## 19.2.6.3 decodeURIComponent ( encodedURIComponent )

The `decodeURIComponent` function computes a new version of a URI in which each escape sequence and UTF-8 encoding of the sort that might be introduced by the `encodeURIComponent` function is replaced with the UTF-16 encoding of the code points that it represents.

The `decodeURIComponent` function is the %decodeURIComponent% intrinsic object. When the `decodeURIComponent` function is called with one argument encodedURIComponent, the following steps are taken:

1.  Let componentString be ? [ToString](https://262.ecma-international.org/12.0/#sec-tostring)(encodedURIComponent).
2.  Let reservedURIComponentSet be the empty String.
3.  Return ? [Decode](https://262.ecma-international.org/12.0/#sec-decode)(componentString, reservedURIComponentSet).

## 19.2.6.4 encodeURI ( uri )

The `encodeURI` function computes a new version of a UTF-16 encoded ([6.1.4](https://262.ecma-international.org/12.0/#sec-ecmascript-language-types-string-type)) URI in which each instance of certain code points is replaced by one, two, three, or four escape sequences representing the UTF-8 encoding of the code points.

The `encodeURI` function is the %encodeURI% intrinsic object. When the `encodeURI` function is called with one argument uri, the following steps are taken:

1.  Let uriString be ? [ToString](https://262.ecma-international.org/12.0/#sec-tostring)(uri).
2.  Let unescapedURISet be a String containing one instance of each code unit valid in [uriReserved](https://262.ecma-international.org/12.0/#prod-uriReserved) and [uriUnescaped](https://262.ecma-international.org/12.0/#prod-uriUnescaped) plus "#".
3.  Return ? [Encode](https://262.ecma-international.org/12.0/#sec-encode)(uriString, unescapedURISet).

Note

The code point `#` is not encoded to an escape sequence even though it is not a reserved or unescaped URI code point.

## 19.2.6.5 encodeURIComponent ( uriComponent )

The `encodeURIComponent` function computes a new version of a UTF-16 encoded ([6.1.4](https://262.ecma-international.org/12.0/#sec-ecmascript-language-types-string-type)) URI in which each instance of certain code points is replaced by one, two, three, or four escape sequences representing the UTF-8 encoding of the code point.

The `encodeURIComponent` function is the %encodeURIComponent% intrinsic object. When the `encodeURIComponent` function is called with one argument uriComponent, the following steps are taken:

1.  Let componentString be ? [ToString](https://262.ecma-international.org/12.0/#sec-tostring)(uriComponent).
2.  Let unescapedURIComponentSet be a String containing one instance of each code unit valid in [uriUnescaped](https://262.ecma-international.org/12.0/#prod-uriUnescaped).
3.  Return ? [Encode](https://262.ecma-international.org/12.0/#sec-encode)(componentString, unescapedURIComponentSet).

## 19.3 Constructor Properties of the Global Object

## 19.3.1 Array ( . . . )

See [23.1.1](https://262.ecma-international.org/12.0/#sec-array-constructor).

## 19.3.2 ArrayBuffer ( . . . )

See [25.1.3](https://262.ecma-international.org/12.0/#sec-arraybuffer-constructor).

## 19.3.3 BigInt ( . . . )

See [21.2.1](https://262.ecma-international.org/12.0/#sec-bigint-constructor).

## 19.3.4 BigInt64Array ( . . . )

See [23.2.5](https://262.ecma-international.org/12.0/#sec-typedarray-constructors).

## 19.3.5 BigUint64Array ( . . . )

See [23.2.5](https://262.ecma-international.org/12.0/#sec-typedarray-constructors).

## 19.3.6 Boolean ( . . . )

See [20.3.1](https://262.ecma-international.org/12.0/#sec-boolean-constructor).

## 19.3.7 DataView ( . . . )

See [25.3.2](https://262.ecma-international.org/12.0/#sec-dataview-constructor).

## 19.3.8 Date ( . . . )

See [21.4.2](https://262.ecma-international.org/12.0/#sec-date-constructor).

## 19.3.9 Error ( . . . )

See [20.5.1](https://262.ecma-international.org/12.0/#sec-error-constructor).

## 19.3.10 EvalError ( . . . )

See [20.5.5.1](https://262.ecma-international.org/12.0/#sec-native-error-types-used-in-this-standard-evalerror).

## 19.3.11 FinalizationRegistry ( . . . )

See [26.2.1](https://262.ecma-international.org/12.0/#sec-finalization-registry-constructor).

## 19.3.12 Float32Array ( . . . )

See [23.2.5](https://262.ecma-international.org/12.0/#sec-typedarray-constructors).

## 19.3.13 Float64Array ( . . . )

See [23.2.5](https://262.ecma-international.org/12.0/#sec-typedarray-constructors).

## 19.3.14 Function ( . . . )

See [20.2.1](https://262.ecma-international.org/12.0/#sec-function-constructor).

## 19.3.15 Int8Array ( . . . )

See [23.2.5](https://262.ecma-international.org/12.0/#sec-typedarray-constructors).

## 19.3.16 Int16Array ( . . . )

See [23.2.5](https://262.ecma-international.org/12.0/#sec-typedarray-constructors).

## 19.3.17 Int32Array ( . . . )

See [23.2.5](https://262.ecma-international.org/12.0/#sec-typedarray-constructors).

## 19.3.18 Map ( . . . )

See [24.1.1](https://262.ecma-international.org/12.0/#sec-map-constructor).

## 19.3.19 Number ( . . . )

See [21.1.1](https://262.ecma-international.org/12.0/#sec-number-constructor).

## 19.3.20 Object ( . . . )

See [20.1.1](https://262.ecma-international.org/12.0/#sec-object-constructor).

## 19.3.21 Promise ( . . . )

See [27.2.3](https://262.ecma-international.org/12.0/#sec-promise-constructor).

## 19.3.22 Proxy ( . . . )

See [28.2.1](https://262.ecma-international.org/12.0/#sec-proxy-constructor).

## 19.3.23 RangeError ( . . . )

See [20.5.5.2](https://262.ecma-international.org/12.0/#sec-native-error-types-used-in-this-standard-rangeerror).

## 19.3.24 ReferenceError ( . . . )

See [20.5.5.3](https://262.ecma-international.org/12.0/#sec-native-error-types-used-in-this-standard-referenceerror).

## 19.3.25 RegExp ( . . . )

See [22.2.3](https://262.ecma-international.org/12.0/#sec-regexp-constructor).

## 19.3.26 Set ( . . . )

See [24.2.1](https://262.ecma-international.org/12.0/#sec-set-constructor).

## 19.3.27 SharedArrayBuffer ( . . . )

See [25.2.2](https://262.ecma-international.org/12.0/#sec-sharedarraybuffer-constructor).

## 19.3.28 String ( . . . )

See [22.1.1](https://262.ecma-international.org/12.0/#sec-string-constructor).

## 19.3.29 Symbol ( . . . )

See [20.4.1](https://262.ecma-international.org/12.0/#sec-symbol-constructor).

## 19.3.30 SyntaxError ( . . . )

See [20.5.5.4](https://262.ecma-international.org/12.0/#sec-native-error-types-used-in-this-standard-syntaxerror).

## 19.3.31 TypeError ( . . . )

See [20.5.5.5](https://262.ecma-international.org/12.0/#sec-native-error-types-used-in-this-standard-typeerror).

## 19.3.32 Uint8Array ( . . . )

See [23.2.5](https://262.ecma-international.org/12.0/#sec-typedarray-constructors).

## 19.3.33 Uint8ClampedArray ( . . . )

See [23.2.5](https://262.ecma-international.org/12.0/#sec-typedarray-constructors).

## 19.3.34 Uint16Array ( . . . )

See [23.2.5](https://262.ecma-international.org/12.0/#sec-typedarray-constructors).

## 19.3.35 Uint32Array ( . . . )

See [23.2.5](https://262.ecma-international.org/12.0/#sec-typedarray-constructors).

## 19.3.36 URIError ( . . . )

See [20.5.5.6](https://262.ecma-international.org/12.0/#sec-native-error-types-used-in-this-standard-urierror).

## 19.3.37 WeakMap ( . . . )

See [24.3.1](https://262.ecma-international.org/12.0/#sec-weakmap-constructor).

## 19.3.38 WeakRef ( . . . )

See [26.1.1](https://262.ecma-international.org/12.0/#sec-weak-ref-constructor).

## 19.3.39 WeakSet ( . . . )

See [24.4](https://262.ecma-international.org/12.0/#sec-weakset-objects).

## 19.4 Other Properties of the Global Object

## 19.4.1 Atomics

See [25.4](https://262.ecma-international.org/12.0/#sec-atomics-object).

## 19.4.2 JSON

See [25.5](https://262.ecma-international.org/12.0/#sec-json-object).

## 19.4.3 Math

See [21.3](https://262.ecma-international.org/12.0/#sec-math-object).

## 19.4.4 Reflect

See [28.1](https://262.ecma-international.org/12.0/#sec-reflect-object).

## 20 Fundamental Objects

## 20.1 Object Objects

## 20.1.1 The Object Constructor

The Object [constructor](https://262.ecma-international.org/12.0/#constructor):

-   is %Object%.
-   is the initial value of the "Object" property of the [global object](https://262.ecma-international.org/12.0/#sec-global-object).
-   creates a new [ordinary object](https://262.ecma-international.org/12.0/#ordinary-object) when called as a [constructor](https://262.ecma-international.org/12.0/#constructor).
-   performs a type conversion when called as a function rather than as a [constructor](https://262.ecma-international.org/12.0/#constructor).
-   is designed to be subclassable. It may be used as the value of an `extends` clause of a class definition.

## 20.1.1.1 Object ( \[ value \] )

When the `Object` function is called with optional argument value, the following steps are taken:

1.  If NewTarget is neither undefined nor the active function, then
    1.  Return ? [OrdinaryCreateFromConstructor](https://262.ecma-international.org/12.0/#sec-ordinarycreatefromconstructor)(NewTarget, "%Object.prototype%").
2.  If value is undefined or null, return ! [OrdinaryObjectCreate](https://262.ecma-international.org/12.0/#sec-ordinaryobjectcreate)([%Object.prototype%](https://262.ecma-international.org/12.0/#sec-properties-of-the-object-prototype-object)).
3.  Return ! [ToObject](https://262.ecma-international.org/12.0/#sec-toobject)(value).

The "length" property of the `Object` function is 1𝔽.

## 20.1.2 Properties of the Object Constructor

The Object [constructor](https://262.ecma-international.org/12.0/#constructor):

-   has a \[\[Prototype\]\] internal slot whose value is [%Function.prototype%](https://262.ecma-international.org/12.0/#sec-properties-of-the-function-prototype-object).
-   has a "length" property.
-   has the following additional properties:

## 20.1.2.1 Object.assign ( target, ...sources )

The `assign` function is used to copy the values of all of the enumerable own properties from one or more source objects to a target object. When the `assign` function is called, the following steps are taken:

1.  Let to be ? [ToObject](https://262.ecma-international.org/12.0/#sec-toobject)(target).
2.  If only one argument was passed, return to.
3.  For each element nextSource of sources, do
    1.  If nextSource is neither undefined nor null, then
        1.  Let from be ! [ToObject](https://262.ecma-international.org/12.0/#sec-toobject)(nextSource).
        2.  Let keys be ? from.\[\[OwnPropertyKeys\]\]().
        3.  For each element nextKey of keys, do
            1.  Let desc be ? from.\[\[GetOwnProperty\]\](nextKey).
            2.  If desc is not undefined and desc.\[\[Enumerable\]\] is true, then
                1.  Let propValue be ? [Get](https://262.ecma-international.org/12.0/#sec-get-o-p)(from, nextKey).
                2.  Perform ? [Set](https://262.ecma-international.org/12.0/#sec-set-o-p-v-throw)(to, nextKey, propValue, true).
4.  Return to.

The "length" property of the `assign` function is 2𝔽.

## 20.1.2.2 Object.create ( O, Properties )

The `create` function creates a new object with a specified prototype. When the `create` function is called, the following steps are taken:

1.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(O) is neither Object nor Null, throw a TypeError exception.
2.  Let obj be ! [OrdinaryObjectCreate](https://262.ecma-international.org/12.0/#sec-ordinaryobjectcreate)(O).
3.  If Properties is not undefined, then
    1.  Return ? [ObjectDefineProperties](https://262.ecma-international.org/12.0/#sec-objectdefineproperties)(obj, Properties).
4.  Return obj.

## 20.1.2.3 Object.defineProperties ( O, Properties )

The `defineProperties` function is used to add own properties and/or update the attributes of existing own properties of an object. When the `defineProperties` function is called, the following steps are taken:

1.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(O) is not Object, throw a TypeError exception.
2.  Return ? [ObjectDefineProperties](https://262.ecma-international.org/12.0/#sec-objectdefineproperties)(O, Properties).

## 20.1.2.3.1 ObjectDefineProperties ( O, Properties )

The abstract operation ObjectDefineProperties takes arguments O and Properties. It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(O) is Object.
2.  Let props be ? [ToObject](https://262.ecma-international.org/12.0/#sec-toobject)(Properties).
3.  Let keys be ? props.\[\[OwnPropertyKeys\]\]().
4.  Let descriptors be a new empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).
5.  For each element nextKey of keys, do
    1.  Let propDesc be ? props.\[\[GetOwnProperty\]\](nextKey).
    2.  If propDesc is not undefined and propDesc.\[\[Enumerable\]\] is true, then
        1.  Let descObj be ? [Get](https://262.ecma-international.org/12.0/#sec-get-o-p)(props, nextKey).
        2.  Let desc be ? [ToPropertyDescriptor](https://262.ecma-international.org/12.0/#sec-topropertydescriptor)(descObj).
        3.  Append the pair (a two element [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type)) consisting of nextKey and desc to the end of descriptors.
6.  For each element pair of descriptors, do
    1.  Let P be the first element of pair.
    2.  Let desc be the second element of pair.
    3.  Perform ? [DefinePropertyOrThrow](https://262.ecma-international.org/12.0/#sec-definepropertyorthrow)(O, P, desc).
7.  Return O.

## 20.1.2.4 Object.defineProperty ( O, P, Attributes )

The `defineProperty` function is used to add an own property and/or update the attributes of an existing own property of an object. When the `defineProperty` function is called, the following steps are taken:

1.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(O) is not Object, throw a TypeError exception.
2.  Let key be ? [ToPropertyKey](https://262.ecma-international.org/12.0/#sec-topropertykey)(P).
3.  Let desc be ? [ToPropertyDescriptor](https://262.ecma-international.org/12.0/#sec-topropertydescriptor)(Attributes).
4.  Perform ? [DefinePropertyOrThrow](https://262.ecma-international.org/12.0/#sec-definepropertyorthrow)(O, key, desc).
5.  Return O.

## 20.1.2.5 Object.entries ( O )

When the `entries` function is called with argument O, the following steps are taken:

1.  Let obj be ? [ToObject](https://262.ecma-international.org/12.0/#sec-toobject)(O).
2.  Let nameList be ? [EnumerableOwnPropertyNames](https://262.ecma-international.org/12.0/#sec-enumerableownpropertynames)(obj, key+value).
3.  Return [CreateArrayFromList](https://262.ecma-international.org/12.0/#sec-createarrayfromlist)(nameList).

## 20.1.2.6 Object.freeze ( O )

When the `freeze` function is called, the following steps are taken:

1.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(O) is not Object, return O.
2.  Let status be ? [SetIntegrityLevel](https://262.ecma-international.org/12.0/#sec-setintegritylevel)(O, frozen).
3.  If status is false, throw a TypeError exception.
4.  Return O.

## 20.1.2.7 Object.fromEntries ( iterable )

When the `fromEntries` method is called with argument iterable, the following steps are taken:

1.  Perform ? [RequireObjectCoercible](https://262.ecma-international.org/12.0/#sec-requireobjectcoercible)(iterable).
2.  Let obj be ! [OrdinaryObjectCreate](https://262.ecma-international.org/12.0/#sec-ordinaryobjectcreate)([%Object.prototype%](https://262.ecma-international.org/12.0/#sec-properties-of-the-object-prototype-object)).
3.  [Assert](https://262.ecma-international.org/12.0/#assert): obj is an extensible [ordinary object](https://262.ecma-international.org/12.0/#ordinary-object) with no own properties.
4.  Let stepsDefine be the algorithm steps defined in [CreateDataPropertyOnObject Functions](https://262.ecma-international.org/12.0/#sec-create-data-property-on-object-functions).
5.  Let lengthDefine be the number of non-optional parameters of the function definition in [CreateDataPropertyOnObject Functions](https://262.ecma-international.org/12.0/#sec-create-data-property-on-object-functions).
6.  Let adder be ! [CreateBuiltinFunction](https://262.ecma-international.org/12.0/#sec-createbuiltinfunction)(stepsDefine, lengthDefine, "", « »).
7.  Return ? [AddEntriesFromIterable](https://262.ecma-international.org/12.0/#sec-add-entries-from-iterable)(obj, iterable, adder).

Note

The function created for adder is never directly accessible to ECMAScript code.

## 20.1.2.7.1 CreateDataPropertyOnObject Functions

A CreateDataPropertyOnObject function is an anonymous built-in function. When a CreateDataPropertyOnObject function is called with arguments key and value, the following steps are taken:

1.  Let O be the this value.
2.  [Assert](https://262.ecma-international.org/12.0/#assert): [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(O) is Object.
3.  [Assert](https://262.ecma-international.org/12.0/#assert): O is an extensible [ordinary object](https://262.ecma-international.org/12.0/#ordinary-object).
4.  Let propertyKey be ? [ToPropertyKey](https://262.ecma-international.org/12.0/#sec-topropertykey)(key).
5.  Perform ! [CreateDataPropertyOrThrow](https://262.ecma-international.org/12.0/#sec-createdatapropertyorthrow)(O, propertyKey, value).
6.  Return undefined.

## 20.1.2.8 Object.getOwnPropertyDescriptor ( O, P )

When the `getOwnPropertyDescriptor` function is called, the following steps are taken:

1.  Let obj be ? [ToObject](https://262.ecma-international.org/12.0/#sec-toobject)(O).
2.  Let key be ? [ToPropertyKey](https://262.ecma-international.org/12.0/#sec-topropertykey)(P).
3.  Let desc be ? obj.\[\[GetOwnProperty\]\](key).
4.  Return [FromPropertyDescriptor](https://262.ecma-international.org/12.0/#sec-frompropertydescriptor)(desc).

## 20.1.2.9 Object.getOwnPropertyDescriptors ( O )

When the `getOwnPropertyDescriptors` function is called, the following steps are taken:

1.  Let obj be ? [ToObject](https://262.ecma-international.org/12.0/#sec-toobject)(O).
2.  Let ownKeys be ? obj.\[\[OwnPropertyKeys\]\]().
3.  Let descriptors be ! [OrdinaryObjectCreate](https://262.ecma-international.org/12.0/#sec-ordinaryobjectcreate)([%Object.prototype%](https://262.ecma-international.org/12.0/#sec-properties-of-the-object-prototype-object)).
4.  For each element key of ownKeys, do
    1.  Let desc be ? obj.\[\[GetOwnProperty\]\](key).
    2.  Let descriptor be ! [FromPropertyDescriptor](https://262.ecma-international.org/12.0/#sec-frompropertydescriptor)(desc).
    3.  If descriptor is not undefined, perform ! [CreateDataPropertyOrThrow](https://262.ecma-international.org/12.0/#sec-createdatapropertyorthrow)(descriptors, key, descriptor).
5.  Return descriptors.

## 20.1.2.10 Object.getOwnPropertyNames ( O )

When the `getOwnPropertyNames` function is called, the following steps are taken:

1.  Return ? [GetOwnPropertyKeys](https://262.ecma-international.org/12.0/#sec-getownpropertykeys)(O, string).

## 20.1.2.11 Object.getOwnPropertySymbols ( O )

When the `getOwnPropertySymbols` function is called with argument O, the following steps are taken:

1.  Return ? [GetOwnPropertyKeys](https://262.ecma-international.org/12.0/#sec-getownpropertykeys)(O, symbol).

## 20.1.2.11.1 GetOwnPropertyKeys ( O, type )

The abstract operation GetOwnPropertyKeys takes arguments O and type (either string or symbol). It performs the following steps when called:

1.  Let obj be ? [ToObject](https://262.ecma-international.org/12.0/#sec-toobject)(O).
2.  Let keys be ? obj.\[\[OwnPropertyKeys\]\]().
3.  Let nameList be a new empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).
4.  For each element nextKey of keys, do
    1.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(nextKey) is Symbol and type is symbol or [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(nextKey) is String and type is string, then
        1.  Append nextKey as the last element of nameList.
5.  Return [CreateArrayFromList](https://262.ecma-international.org/12.0/#sec-createarrayfromlist)(nameList).

## 20.1.2.12 Object.getPrototypeOf ( O )

When the `getPrototypeOf` function is called with argument O, the following steps are taken:

1.  Let obj be ? [ToObject](https://262.ecma-international.org/12.0/#sec-toobject)(O).
2.  Return ? obj.\[\[GetPrototypeOf\]\]().

## 20.1.2.13 Object.is ( value1, value2 )

When the `is` function is called with arguments value1 and value2, the following steps are taken:

1.  Return [SameValue](https://262.ecma-international.org/12.0/#sec-samevalue)(value1, value2).

## 20.1.2.14 Object.isExtensible ( O )

When the `isExtensible` function is called with argument O, the following steps are taken:

1.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(O) is not Object, return false.
2.  Return ? [IsExtensible](https://262.ecma-international.org/12.0/#sec-isextensible-o)(O).

## 20.1.2.15 Object.isFrozen ( O )

When the `isFrozen` function is called with argument O, the following steps are taken:

1.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(O) is not Object, return true.
2.  Return ? [TestIntegrityLevel](https://262.ecma-international.org/12.0/#sec-testintegritylevel)(O, frozen).

## 20.1.2.16 Object.isSealed ( O )

When the `isSealed` function is called with argument O, the following steps are taken:

1.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(O) is not Object, return true.
2.  Return ? [TestIntegrityLevel](https://262.ecma-international.org/12.0/#sec-testintegritylevel)(O, sealed).

## 20.1.2.17 Object.keys ( O )

When the `keys` function is called with argument O, the following steps are taken:

1.  Let obj be ? [ToObject](https://262.ecma-international.org/12.0/#sec-toobject)(O).
2.  Let nameList be ? [EnumerableOwnPropertyNames](https://262.ecma-international.org/12.0/#sec-enumerableownpropertynames)(obj, key).
3.  Return [CreateArrayFromList](https://262.ecma-international.org/12.0/#sec-createarrayfromlist)(nameList).

## 20.1.2.18 Object.preventExtensions ( O )

When the `preventExtensions` function is called, the following steps are taken:

1.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(O) is not Object, return O.
2.  Let status be ? O.\[\[PreventExtensions\]\]().
3.  If status is false, throw a TypeError exception.
4.  Return O.

## 20.1.2.19 Object.prototype

The initial value of `Object.prototype` is the [Object prototype object](https://262.ecma-international.org/12.0/#sec-properties-of-the-object-prototype-object).

This property has the attributes { \[\[Writable\]\]: false, \[\[Enumerable\]\]: false, \[\[Configurable\]\]: false }.

## 20.1.2.20 Object.seal ( O )

When the `seal` function is called, the following steps are taken:

1.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(O) is not Object, return O.
2.  Let status be ? [SetIntegrityLevel](https://262.ecma-international.org/12.0/#sec-setintegritylevel)(O, sealed).
3.  If status is false, throw a TypeError exception.
4.  Return O.

## 20.1.2.21 Object.setPrototypeOf ( O, proto )

When the `setPrototypeOf` function is called with arguments O and proto, the following steps are taken:

1.  Set O to ? [RequireObjectCoercible](https://262.ecma-international.org/12.0/#sec-requireobjectcoercible)(O).
2.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(proto) is neither Object nor Null, throw a TypeError exception.
3.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(O) is not Object, return O.
4.  Let status be ? O.\[\[SetPrototypeOf\]\](proto).
5.  If status is false, throw a TypeError exception.
6.  Return O.

## 20.1.2.22 Object.values ( O )

When the `values` function is called with argument O, the following steps are taken:

1.  Let obj be ? [ToObject](https://262.ecma-international.org/12.0/#sec-toobject)(O).
2.  Let nameList be ? [EnumerableOwnPropertyNames](https://262.ecma-international.org/12.0/#sec-enumerableownpropertynames)(obj, value).
3.  Return [CreateArrayFromList](https://262.ecma-international.org/12.0/#sec-createarrayfromlist)(nameList).

## 20.1.3 Properties of the Object Prototype Object

The Object prototype object:

-   is %Object.prototype%.
-   has an \[\[Extensible\]\] internal slot whose value is true.
-   has the internal methods defined for ordinary objects, except for the \[\[SetPrototypeOf\]\] method, which is as defined in [10.4.7.1](https://262.ecma-international.org/12.0/#sec-immutable-prototype-exotic-objects-setprototypeof-v). (Thus, it is an [immutable prototype exotic object](https://262.ecma-international.org/12.0/#immutable-prototype-exotic-object).)
-   has a \[\[Prototype\]\] internal slot whose value is null.

## 20.1.3.1 Object.prototype.constructor

The initial value of `Object.prototype.constructor` is [%Object%](https://262.ecma-international.org/12.0/#sec-object-constructor).

## 20.1.3.2 Object.prototype.hasOwnProperty ( V )

When the `hasOwnProperty` method is called with argument V, the following steps are taken:

1.  Let P be ? [ToPropertyKey](https://262.ecma-international.org/12.0/#sec-topropertykey)(V).
2.  Let O be ? [ToObject](https://262.ecma-international.org/12.0/#sec-toobject)(this value).
3.  Return ? [HasOwnProperty](https://262.ecma-international.org/12.0/#sec-hasownproperty)(O, P).

Note

The ordering of steps [1](https://262.ecma-international.org/12.0/#step-hasownproperty-topropertykey) and [2](https://262.ecma-international.org/12.0/#step-hasownproperty-toobject) is chosen to ensure that any exception that would have been thrown by step [1](https://262.ecma-international.org/12.0/#step-hasownproperty-topropertykey) in previous editions of this specification will continue to be thrown even if the this value is undefined or null.

## 20.1.3.3 Object.prototype.isPrototypeOf ( V )

When the `isPrototypeOf` method is called with argument V, the following steps are taken:

1.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(V) is not Object, return false.
2.  Let O be ? [ToObject](https://262.ecma-international.org/12.0/#sec-toobject)(this value).
3.  Repeat,
    1.  Set V to ? V.\[\[GetPrototypeOf\]\]().
    2.  If V is null, return false.
    3.  If [SameValue](https://262.ecma-international.org/12.0/#sec-samevalue)(O, V) is true, return true.

Note

The ordering of steps [1](https://262.ecma-international.org/12.0/#step-isprototypeof-check-object) and [2](https://262.ecma-international.org/12.0/#step-isprototypeof-toobject) preserves the behaviour specified by previous editions of this specification for the case where V is not an object and the this value is undefined or null.

## 20.1.3.4 Object.prototype.propertyIsEnumerable ( V )

When the `propertyIsEnumerable` method is called with argument V, the following steps are taken:

1.  Let P be ? [ToPropertyKey](https://262.ecma-international.org/12.0/#sec-topropertykey)(V).
2.  Let O be ? [ToObject](https://262.ecma-international.org/12.0/#sec-toobject)(this value).
3.  Let desc be ? O.\[\[GetOwnProperty\]\](P).
4.  If desc is undefined, return false.
5.  Return desc.\[\[Enumerable\]\].

Note 1

This method does not consider objects in the prototype chain.

Note 2

The ordering of steps [1](https://262.ecma-international.org/12.0/#step-propertyisenumerable-topropertykey) and [2](https://262.ecma-international.org/12.0/#step-propertyisenumerable-toobject) is chosen to ensure that any exception that would have been thrown by step [1](https://262.ecma-international.org/12.0/#step-propertyisenumerable-topropertykey) in previous editions of this specification will continue to be thrown even if the this value is undefined or null.

## 20.1.3.5 Object.prototype.toLocaleString ( \[ reserved1 \[ , reserved2 \] \] )

When the `toLocaleString` method is called, the following steps are taken:

1.  Let O be the this value.
2.  Return ? [Invoke](https://262.ecma-international.org/12.0/#sec-invoke)(O, "toString").

The optional parameters to this function are not used but are intended to correspond to the parameter pattern used by ECMA-402 `toLocaleString` functions. Implementations that do not include ECMA-402 support must not use those parameter positions for other purposes.

Note 1

This function provides a generic `toLocaleString` implementation for objects that have no locale-specific `toString` behaviour. `Array`, `Number`, `Date`, and [%TypedArray%](https://262.ecma-international.org/12.0/#sec-%typedarray%-intrinsic-object) provide their own locale-sensitive `toLocaleString` methods.

Note 2

ECMA-402 intentionally does not provide an alternative to this default implementation.

## 20.1.3.6 Object.prototype.toString ( )

When the `toString` method is called, the following steps are taken:

1.  If the this value is undefined, return "\[object Undefined\]".
2.  If the this value is null, return "\[object Null\]".
3.  Let O be ! [ToObject](https://262.ecma-international.org/12.0/#sec-toobject)(this value).
4.  Let isArray be ? [IsArray](https://262.ecma-international.org/12.0/#sec-isarray)(O).
5.  If isArray is true, let builtinTag be "Array".
6.  Else if O has a \[\[ParameterMap\]\] internal slot, let builtinTag be "Arguments".
7.  Else if O has a \[\[Call\]\] internal method, let builtinTag be "Function".
8.  Else if O has an \[\[ErrorData\]\] internal slot, let builtinTag be "Error".
9.  Else if O has a \[\[BooleanData\]\] internal slot, let builtinTag be "Boolean".
10.  Else if O has a \[\[NumberData\]\] internal slot, let builtinTag be "Number".
11.  Else if O has a \[\[StringData\]\] internal slot, let builtinTag be "String".
12.  Else if O has a \[\[DateValue\]\] internal slot, let builtinTag be "Date".
13.  Else if O has a \[\[RegExpMatcher\]\] internal slot, let builtinTag be "RegExp".
14.  Else, let builtinTag be "Object".
15.  Let tag be ? [Get](https://262.ecma-international.org/12.0/#sec-get-o-p)(O, [@@toStringTag](https://262.ecma-international.org/12.0/#sec-well-known-symbols)).
16.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(tag) is not String, set tag to builtinTag.
17.  Return the [string-concatenation](https://262.ecma-international.org/12.0/#string-concatenation) of "\[object ", tag, and "\]".

Note

Historically, this function was occasionally used to access the String value of the \[\[Class\]\] internal slot that was used in previous editions of this specification as a nominal type tag for various built-in objects. The above definition of `toString` preserves compatibility for legacy code that uses `toString` as a test for those specific kinds of built-in objects. It does not provide a reliable type testing mechanism for other kinds of built-in or program defined objects. In addition, programs can use [@@toStringTag](https://262.ecma-international.org/12.0/#sec-well-known-symbols) in ways that will invalidate the reliability of such legacy type tests.

## 20.1.3.7 Object.prototype.valueOf ( )

When the `valueOf` method is called, the following steps are taken:

1.  Return ? [ToObject](https://262.ecma-international.org/12.0/#sec-toobject)(this value).

## 20.1.4 Properties of Object Instances

Object instances have no special properties beyond those inherited from the [Object prototype object](https://262.ecma-international.org/12.0/#sec-properties-of-the-object-prototype-object).

## 20.2 Function Objects

## 20.2.1 The Function Constructor

The Function [constructor](https://262.ecma-international.org/12.0/#constructor):

-   is %Function%.
-   is the initial value of the "Function" property of the [global object](https://262.ecma-international.org/12.0/#sec-global-object).
-   creates and initializes a new [function object](https://262.ecma-international.org/12.0/#function-object) when called as a function rather than as a [constructor](https://262.ecma-international.org/12.0/#constructor). Thus the function call `Function(…)` is equivalent to the object creation expression `new Function(…)` with the same arguments.
-   is designed to be subclassable. It may be used as the value of an `extends` clause of a class definition. Subclass constructors that intend to inherit the specified Function behaviour must include a `super` call to the Function [constructor](https://262.ecma-international.org/12.0/#constructor) to create and initialize a subclass instance with the internal slots necessary for built-in function behaviour. All ECMAScript syntactic forms for defining function objects create instances of Function. There is no syntactic means to create instances of Function subclasses except for the built-in GeneratorFunction, AsyncFunction, and AsyncGeneratorFunction subclasses.

## 20.2.1.1 Function ( p1, p2, … , pn, body )

The last argument specifies the body (executable code) of a function; any preceding arguments specify formal parameters.

When the `Function` function is called with some arguments p1, p2, … , pn, body (where n might be 0, that is, there are no “ p ” arguments, and where body might also not be provided), the following steps are taken:

1.  Let C be the [active function object](https://262.ecma-international.org/12.0/#active-function-object).
2.  Let args be the argumentsList that was passed to this function by \[\[Call\]\] or \[\[Construct\]\].
3.  Return ? [CreateDynamicFunction](https://262.ecma-international.org/12.0/#sec-createdynamicfunction)(C, NewTarget, normal, args).

Note

It is permissible but not necessary to have one argument for each formal parameter to be specified. For example, all three of the following expressions produce the same result:

```
new Function("a", "b", "c", "return a+b+c")
new Function("a, b, c", "return a+b+c")
new Function("a,b", "c", "return a+b+c")
```

## 20.2.1.1.1 CreateDynamicFunction ( constructor, newTarget, kind, args )

The abstract operation CreateDynamicFunction takes arguments constructor (a [constructor](https://262.ecma-international.org/12.0/#constructor)), newTarget (a [constructor](https://262.ecma-international.org/12.0/#constructor)), kind (either normal, generator, async, or asyncGenerator), and args (a [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) of ECMAScript language values). constructor is the [constructor](https://262.ecma-international.org/12.0/#constructor) function that is performing this action. newTarget is the [constructor](https://262.ecma-international.org/12.0/#constructor) that `new` was initially applied to. args is the argument values that were passed to constructor. It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): The [execution context stack](https://262.ecma-international.org/12.0/#execution-context-stack) has at least two elements.
2.  Let callerContext be the second to top element of the [execution context stack](https://262.ecma-international.org/12.0/#execution-context-stack).
3.  Let callerRealm be callerContext's [Realm](https://262.ecma-international.org/12.0/#realm).
4.  Let calleeRealm be [the current Realm Record](https://262.ecma-international.org/12.0/#current-realm).
5.  Perform ? [HostEnsureCanCompileStrings](https://262.ecma-international.org/12.0/#sec-hostensurecancompilestrings)(callerRealm, calleeRealm).
6.  If newTarget is undefined, set newTarget to constructor.
7.  If kind is normal, then
    1.  Let goal be the grammar symbol [FunctionBody](https://262.ecma-international.org/12.0/#prod-FunctionBody)\[~Yield, ~Await\].
    2.  Let parameterGoal be the grammar symbol [FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters)\[~Yield, ~Await\].
    3.  Let fallbackProto be "%Function.prototype%".
8.  Else if kind is generator, then
    1.  Let goal be the grammar symbol [GeneratorBody](https://262.ecma-international.org/12.0/#prod-GeneratorBody).
    2.  Let parameterGoal be the grammar symbol [FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters)\[+Yield, ~Await\].
    3.  Let fallbackProto be "%GeneratorFunction.prototype%".
9.  Else if kind is async, then
    1.  Let goal be the grammar symbol [AsyncFunctionBody](https://262.ecma-international.org/12.0/#prod-AsyncFunctionBody).
    2.  Let parameterGoal be the grammar symbol [FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters)\[~Yield, +Await\].
    3.  Let fallbackProto be "%AsyncFunction.prototype%".
10.  Else,
    1.  [Assert](https://262.ecma-international.org/12.0/#assert): kind is asyncGenerator.
    2.  Let goal be the grammar symbol [AsyncGeneratorBody](https://262.ecma-international.org/12.0/#prod-AsyncGeneratorBody).
    3.  Let parameterGoal be the grammar symbol [FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters)\[+Yield, +Await\].
    4.  Let fallbackProto be "%AsyncGeneratorFunction.prototype%".
11.  Let argCount be the number of elements in args.
12.  Let P be the empty String.
13.  If argCount = 0, let bodyArg be the empty String.
14.  Else if argCount = 1, let bodyArg be args\[0\].
15.  Else,
    1.  [Assert](https://262.ecma-international.org/12.0/#assert): argCount > 1.
    2.  Let firstArg be args\[0\].
    3.  Set P to ? [ToString](https://262.ecma-international.org/12.0/#sec-tostring)(firstArg).
    4.  Let k be 1.
    5.  Repeat, while k < argCount - 1,
        1.  Let nextArg be args\[k\].
        2.  Let nextArgString be ? [ToString](https://262.ecma-international.org/12.0/#sec-tostring)(nextArg).
        3.  Set P to the [string-concatenation](https://262.ecma-international.org/12.0/#string-concatenation) of P, "," (a comma), and nextArgString.
        4.  Set k to k + 1.
    6.  Let bodyArg be args\[k\].
16.  Let bodyString be the [string-concatenation](https://262.ecma-international.org/12.0/#string-concatenation) of 0x000A (LINE FEED), ? [ToString](https://262.ecma-international.org/12.0/#sec-tostring)(bodyArg), and 0x000A (LINE FEED).
17.  Let prefix be the prefix associated with kind in [Table 50](https://262.ecma-international.org/12.0/#table-dynamic-function-sourcetext-prefixes).
18.  Let sourceString be the [string-concatenation](https://262.ecma-international.org/12.0/#string-concatenation) of prefix, " anonymous(", P, 0x000A (LINE FEED), ") {", bodyString, and "}".
19.  Let sourceText be ! [StringToCodePoints](https://262.ecma-international.org/12.0/#sec-stringtocodepoints)(sourceString).
20.  Perform the following substeps in an [implementation-defined](https://262.ecma-international.org/12.0/#implementation-defined) order, possibly interleaving parsing and error detection:
    1.  Let parameters be [ParseText](https://262.ecma-international.org/12.0/#sec-parsetext)(! [StringToCodePoints](https://262.ecma-international.org/12.0/#sec-stringtocodepoints)(P), parameterGoal).
    2.  If parameters is a [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) of errors, throw a SyntaxError exception.
    3.  Let body be [ParseText](https://262.ecma-international.org/12.0/#sec-parsetext)(! [StringToCodePoints](https://262.ecma-international.org/12.0/#sec-stringtocodepoints)(bodyString), goal).
    4.  If body is a [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) of errors, throw a SyntaxError exception.
    5.  Let strict be [FunctionBodyContainsUseStrict](https://262.ecma-international.org/12.0/#sec-static-semantics-functionbodycontainsusestrict) of body.
    6.  If strict is true, apply the [early error](https://262.ecma-international.org/12.0/#early-error) rules for [UniqueFormalParameters](https://262.ecma-international.org/12.0/#prod-UniqueFormalParameters) : [FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters) to parameters.
    7.  If strict is true and [IsSimpleParameterList](https://262.ecma-international.org/12.0/#sec-static-semantics-issimpleparameterlist) of parameters is false, throw a SyntaxError exception.
    8.  If any element of the [BoundNames](https://262.ecma-international.org/12.0/#sec-static-semantics-boundnames) of parameters also occurs in the [LexicallyDeclaredNames](https://262.ecma-international.org/12.0/#sec-static-semantics-lexicallydeclarednames) of body, throw a SyntaxError exception.
    9.  If body [Contains](https://262.ecma-international.org/12.0/#sec-static-semantics-contains) [SuperCall](https://262.ecma-international.org/12.0/#prod-SuperCall) is true, throw a SyntaxError exception.
    10.  If parameters [Contains](https://262.ecma-international.org/12.0/#sec-static-semantics-contains) [SuperCall](https://262.ecma-international.org/12.0/#prod-SuperCall) is true, throw a SyntaxError exception.
    11.  If body [Contains](https://262.ecma-international.org/12.0/#sec-static-semantics-contains) [SuperProperty](https://262.ecma-international.org/12.0/#prod-SuperProperty) is true, throw a SyntaxError exception.
    12.  If parameters [Contains](https://262.ecma-international.org/12.0/#sec-static-semantics-contains) [SuperProperty](https://262.ecma-international.org/12.0/#prod-SuperProperty) is true, throw a SyntaxError exception.
    13.  If kind is generator or asyncGenerator, then
        1.  If parameters [Contains](https://262.ecma-international.org/12.0/#sec-static-semantics-contains) [YieldExpression](https://262.ecma-international.org/12.0/#prod-YieldExpression) is true, throw a SyntaxError exception.
    14.  If kind is async or asyncGenerator, then
        1.  If parameters [Contains](https://262.ecma-international.org/12.0/#sec-static-semantics-contains) [AwaitExpression](https://262.ecma-international.org/12.0/#prod-AwaitExpression) is true, throw a SyntaxError exception.
    15.  If strict is true, then
        1.  If [BoundNames](https://262.ecma-international.org/12.0/#sec-static-semantics-boundnames) of parameters contains any duplicate elements, throw a SyntaxError exception.
21.  Let proto be ? [GetPrototypeFromConstructor](https://262.ecma-international.org/12.0/#sec-getprototypefromconstructor)(newTarget, fallbackProto).
22.  Let realmF be [the current Realm Record](https://262.ecma-international.org/12.0/#current-realm).
23.  Let scope be realmF.\[\[GlobalEnv\]\].
24.  Let F be ! [OrdinaryFunctionCreate](https://262.ecma-international.org/12.0/#sec-ordinaryfunctioncreate)(proto, sourceText, parameters, body, non-lexical-this, scope).
25.  Perform [SetFunctionName](https://262.ecma-international.org/12.0/#sec-setfunctionname)(F, "anonymous").
26.  If kind is generator, then
    1.  Let prototype be ! [OrdinaryObjectCreate](https://262.ecma-international.org/12.0/#sec-ordinaryobjectcreate)([%GeneratorFunction.prototype.prototype%](https://262.ecma-international.org/12.0/#sec-properties-of-generator-prototype)).
    2.  Perform [DefinePropertyOrThrow](https://262.ecma-international.org/12.0/#sec-definepropertyorthrow)(F, "prototype", PropertyDescriptor { \[\[Value\]\]: prototype, \[\[Writable\]\]: true, \[\[Enumerable\]\]: false, \[\[Configurable\]\]: false }).
27.  Else if kind is asyncGenerator, then
    1.  Let prototype be ! [OrdinaryObjectCreate](https://262.ecma-international.org/12.0/#sec-ordinaryobjectcreate)([%AsyncGeneratorFunction.prototype.prototype%](https://262.ecma-international.org/12.0/#sec-properties-of-asyncgenerator-prototype)).
    2.  Perform [DefinePropertyOrThrow](https://262.ecma-international.org/12.0/#sec-definepropertyorthrow)(F, "prototype", PropertyDescriptor { \[\[Value\]\]: prototype, \[\[Writable\]\]: true, \[\[Enumerable\]\]: false, \[\[Configurable\]\]: false }).
28.  Else if kind is normal, perform [MakeConstructor](https://262.ecma-international.org/12.0/#sec-makeconstructor)(F).
29.  NOTE: Functions whose kind is async are not constructible and do not have a \[\[Construct\]\] internal method or a "prototype" property.
30.  Return F.

Note

CreateDynamicFunction defines a "prototype" property on any function it creates whose kind is not async to provide for the possibility that the function will be used as a [constructor](https://262.ecma-international.org/12.0/#constructor).

Table 50: Dynamic Function SourceText Prefixes

| Kind | Prefix |
| --- | --- |
| normal | "function" |
| generator | "function\*" |
| async | "async function" |
| asyncGenerator | "async function\*" |

## 20.2.2 Properties of the Function Constructor

The Function [constructor](https://262.ecma-international.org/12.0/#constructor):

-   is itself a built-in [function object](https://262.ecma-international.org/12.0/#function-object).
-   has a \[\[Prototype\]\] internal slot whose value is [%Function.prototype%](https://262.ecma-international.org/12.0/#sec-properties-of-the-function-prototype-object).
-   has the following properties:

## 20.2.2.1 Function.length

This is a [data property](https://262.ecma-international.org/12.0/#sec-object-type) with a value of 1. This property has the attributes { \[\[Writable\]\]: false, \[\[Enumerable\]\]: false, \[\[Configurable\]\]: true }.

## 20.2.2.2 Function.prototype

The value of `Function.prototype` is the [Function prototype object](https://262.ecma-international.org/12.0/#sec-properties-of-the-function-prototype-object).

This property has the attributes { \[\[Writable\]\]: false, \[\[Enumerable\]\]: false, \[\[Configurable\]\]: false }.

## 20.2.3 Properties of the Function Prototype Object

The Function prototype object:

-   is %Function.prototype%.
-   is itself a built-in [function object](https://262.ecma-international.org/12.0/#function-object).
-   accepts any arguments and returns undefined when invoked.
-   does not have a \[\[Construct\]\] internal method; it cannot be used as a [constructor](https://262.ecma-international.org/12.0/#constructor) with the `new` operator.
-   has a \[\[Prototype\]\] internal slot whose value is [%Object.prototype%](https://262.ecma-international.org/12.0/#sec-properties-of-the-object-prototype-object).
-   does not have a "prototype" property.
-   has a "length" property whose value is +0𝔽.
-   has a "name" property whose value is the empty String.

Note

The Function prototype object is specified to be a [function object](https://262.ecma-international.org/12.0/#function-object) to ensure compatibility with ECMAScript code that was created prior to the ECMAScript 2015 specification.

## 20.2.3.1 Function.prototype.apply ( thisArg, argArray )

When the `apply` method is called with arguments thisArg and argArray, the following steps are taken:

1.  Let func be the this value.
2.  If [IsCallable](https://262.ecma-international.org/12.0/#sec-iscallable)(func) is false, throw a TypeError exception.
3.  If argArray is undefined or null, then
    1.  Perform [PrepareForTailCall](https://262.ecma-international.org/12.0/#sec-preparefortailcall)().
    2.  Return ? [Call](https://262.ecma-international.org/12.0/#sec-call)(func, thisArg).
4.  Let argList be ? [CreateListFromArrayLike](https://262.ecma-international.org/12.0/#sec-createlistfromarraylike)(argArray).
5.  Perform [PrepareForTailCall](https://262.ecma-international.org/12.0/#sec-preparefortailcall)().
6.  Return ? [Call](https://262.ecma-international.org/12.0/#sec-call)(func, thisArg, argList).

Note 1

The thisArg value is passed without modification as the this value. This is a change from Edition 3, where an undefined or null thisArg is replaced with the [global object](https://262.ecma-international.org/12.0/#sec-global-object) and [ToObject](https://262.ecma-international.org/12.0/#sec-toobject) is applied to all other values and that result is passed as the this value. Even though the thisArg is passed without modification, non-strict functions still perform these transformations upon entry to the function.

Note 2

If func is an arrow function or a [bound function exotic object](https://262.ecma-international.org/12.0/#bound-function-exotic-object) then the thisArg will be ignored by the function \[\[Call\]\] in step [6](https://262.ecma-international.org/12.0/#step-function-proto-apply-call).

## 20.2.3.2 Function.prototype.bind ( thisArg, ...args )

When the `bind` method is called with argument thisArg and zero or more args, it performs the following steps:

1.  Let Target be the this value.
2.  If [IsCallable](https://262.ecma-international.org/12.0/#sec-iscallable)(Target) is false, throw a TypeError exception.
3.  Let F be ? [BoundFunctionCreate](https://262.ecma-international.org/12.0/#sec-boundfunctioncreate)(Target, thisArg, args).
4.  Let L be 0.
5.  Let targetHasLength be ? [HasOwnProperty](https://262.ecma-international.org/12.0/#sec-hasownproperty)(Target, "length").
6.  If targetHasLength is true, then
    1.  Let targetLen be ? [Get](https://262.ecma-international.org/12.0/#sec-get-o-p)(Target, "length").
    2.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(targetLen) is Number, then
        1.  If targetLen is +∞𝔽, set L to +∞.
        2.  Else if targetLen is \-∞𝔽, set L to 0.
        3.  Else,
            1.  Let targetLenAsInt be ! [ToIntegerOrInfinity](https://262.ecma-international.org/12.0/#sec-tointegerorinfinity)(targetLen).
            2.  [Assert](https://262.ecma-international.org/12.0/#assert): targetLenAsInt is finite.
            3.  Let argCount be the number of elements in args.
            4.  Set L to [max](https://262.ecma-international.org/12.0/#eqn-max)(targetLenAsInt - argCount, 0).
7.  Perform ! [SetFunctionLength](https://262.ecma-international.org/12.0/#sec-setfunctionlength)(F, L).
8.  Let targetName be ? [Get](https://262.ecma-international.org/12.0/#sec-get-o-p)(Target, "name").
9.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(targetName) is not String, set targetName to the empty String.
10.  Perform [SetFunctionName](https://262.ecma-international.org/12.0/#sec-setfunctionname)(F, targetName, "bound").
11.  Return F.

Note 1

Function objects created using `Function.prototype.bind` are exotic objects. They also do not have a "prototype" property.

Note 2

If Target is an arrow function or a [bound function exotic object](https://262.ecma-international.org/12.0/#bound-function-exotic-object) then the thisArg passed to this method will not be used by subsequent calls to F.

## 20.2.3.3 Function.prototype.call ( thisArg, ...args )

When the `call` method is called with argument thisArg and zero or more args, the following steps are taken:

1.  Let func be the this value.
2.  If [IsCallable](https://262.ecma-international.org/12.0/#sec-iscallable)(func) is false, throw a TypeError exception.
3.  Perform [PrepareForTailCall](https://262.ecma-international.org/12.0/#sec-preparefortailcall)().
4.  Return ? [Call](https://262.ecma-international.org/12.0/#sec-call)(func, thisArg, args).

Note 1

The thisArg value is passed without modification as the this value. This is a change from Edition 3, where an undefined or null thisArg is replaced with the [global object](https://262.ecma-international.org/12.0/#sec-global-object) and [ToObject](https://262.ecma-international.org/12.0/#sec-toobject) is applied to all other values and that result is passed as the this value. Even though the thisArg is passed without modification, non-strict functions still perform these transformations upon entry to the function.

Note 2

If func is an arrow function or a [bound function exotic object](https://262.ecma-international.org/12.0/#bound-function-exotic-object) then the thisArg will be ignored by the function \[\[Call\]\] in step [4](https://262.ecma-international.org/12.0/#step-function-proto-call-call).

## 20.2.3.4 Function.prototype.constructor

The initial value of `Function.prototype.constructor` is [%Function%](https://262.ecma-international.org/12.0/#sec-function-constructor).

## 20.2.3.5 Function.prototype.toString ( )

When the `toString` method is called, the following steps are taken:

1.  Let func be the this value.
2.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(func) is Object and func has a \[\[SourceText\]\] internal slot and func.\[\[SourceText\]\] is a sequence of Unicode code points and ! [HostHasSourceTextAvailable](https://262.ecma-international.org/12.0/#sec-hosthassourcetextavailable)(func) is true, then
    1.  Return ! [CodePointsToString](https://262.ecma-international.org/12.0/#sec-codepointstostring)(func.\[\[SourceText\]\]).
3.  If func is a [built-in function object](https://262.ecma-international.org/12.0/#sec-built-in-function-objects), return an [implementation-defined](https://262.ecma-international.org/12.0/#implementation-defined) String source code representation of func. The representation must have the syntax of a [NativeFunction](https://262.ecma-international.org/12.0/#prod-NativeFunction). Additionally, if func has an \[\[InitialName\]\] internal slot and func.\[\[InitialName\]\] is a String, the portion of the returned String that would be matched by [NativeFunctionAccessor](https://262.ecma-international.org/12.0/#prod-NativeFunctionAccessor)opt [PropertyName](https://262.ecma-international.org/12.0/#prod-PropertyName) must be the value of func.\[\[InitialName\]\].
4.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(func) is Object and [IsCallable](https://262.ecma-international.org/12.0/#sec-iscallable)(func) is true, return an [implementation-defined](https://262.ecma-international.org/12.0/#implementation-defined) String source code representation of func. The representation must have the syntax of a [NativeFunction](https://262.ecma-international.org/12.0/#prod-NativeFunction).
5.  Throw a TypeError exception.

[NativeFunction](https://262.ecma-international.org/12.0/#prod-NativeFunction) : function [NativeFunctionAccessor](https://262.ecma-international.org/12.0/#prod-NativeFunctionAccessor)opt [PropertyName](https://262.ecma-international.org/12.0/#prod-PropertyName)\[~Yield, ~Await\]opt ( [FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters)\[~Yield, ~Await\] ) { \[ native code \] } [NativeFunctionAccessor](https://262.ecma-international.org/12.0/#prod-NativeFunctionAccessor) : get set

## 20.2.3.6 Function.prototype \[ @@hasInstance \] ( V )

When the `@@hasInstance` method of an object F is called with value V, the following steps are taken:

1.  Let F be the this value.
2.  Return ? [OrdinaryHasInstance](https://262.ecma-international.org/12.0/#sec-ordinaryhasinstance)(F, V).

The value of the "name" property of this function is "\[Symbol.hasInstance\]".

This property has the attributes { \[\[Writable\]\]: false, \[\[Enumerable\]\]: false, \[\[Configurable\]\]: false }.

Note

This is the default implementation of `@@hasInstance` that most functions inherit. `@@hasInstance` is called by the `instanceof` operator to determine whether a value is an instance of a specific [constructor](https://262.ecma-international.org/12.0/#constructor). An expression such as

```
v instanceof F
```

evaluates as

```
F[@@hasInstance](v)
```

A [constructor](https://262.ecma-international.org/12.0/#constructor) function can control which objects are recognized as its instances by `instanceof` by exposing a different `@@hasInstance` method on the function.

This property is non-writable and non-configurable to prevent tampering that could be used to globally expose the target function of a [bound function](https://262.ecma-international.org/12.0/#sec-bound-function-exotic-objects).

## 20.2.4 Function Instances

Every Function instance is an ECMAScript [function object](https://262.ecma-international.org/12.0/#function-object) and has the internal slots listed in [Table 29](https://262.ecma-international.org/12.0/#table-internal-slots-of-ecmascript-function-objects). Function objects created using the `Function.prototype.bind` method ([20.2.3.2](https://262.ecma-international.org/12.0/#sec-function.prototype.bind)) have the internal slots listed in [Table 30](https://262.ecma-international.org/12.0/#table-internal-slots-of-bound-function-exotic-objects).

Function instances have the following properties:

## 20.2.4.1 length

The value of the "length" property is an [integral Number](https://262.ecma-international.org/12.0/#integral-number) that indicates the typical number of arguments expected by the function. However, the language permits the function to be invoked with some other number of arguments. The behaviour of a function when invoked on a number of arguments other than the number specified by its "length" property depends on the function. This property has the attributes { \[\[Writable\]\]: false, \[\[Enumerable\]\]: false, \[\[Configurable\]\]: true }.

## 20.2.4.2 name

The value of the "name" property is a String that is descriptive of the function. The name has no semantic significance but is typically a variable or [property name](https://262.ecma-international.org/12.0/#property-name) that is used to refer to the function at its point of definition in ECMAScript code. This property has the attributes { \[\[Writable\]\]: false, \[\[Enumerable\]\]: false, \[\[Configurable\]\]: true }.

Anonymous functions objects that do not have a contextual name associated with them by this specification use the empty String as the value of the "name" property.

## 20.2.4.3 prototype

Function instances that can be used as a [constructor](https://262.ecma-international.org/12.0/#constructor) have a "prototype" property. Whenever such a Function instance is created another [ordinary object](https://262.ecma-international.org/12.0/#ordinary-object) is also created and is the initial value of the function's "prototype" property. Unless otherwise specified, the value of the "prototype" property is used to initialize the \[\[Prototype\]\] internal slot of the object created when that function is invoked as a [constructor](https://262.ecma-international.org/12.0/#constructor).

This property has the attributes { \[\[Writable\]\]: true, \[\[Enumerable\]\]: false, \[\[Configurable\]\]: false }.

Note

Function objects created using `Function.prototype.bind`, or by evaluating a [MethodDefinition](https://262.ecma-international.org/12.0/#prod-MethodDefinition) (that is not a [GeneratorMethod](https://262.ecma-international.org/12.0/#prod-GeneratorMethod) or [AsyncGeneratorMethod](https://262.ecma-international.org/12.0/#prod-AsyncGeneratorMethod)) or an [ArrowFunction](https://262.ecma-international.org/12.0/#prod-ArrowFunction) do not have a "prototype" property.

## 20.2.5 HostHasSourceTextAvailable ( func )

The [host-defined](https://262.ecma-international.org/12.0/#host-defined) abstract operation HostHasSourceTextAvailable takes argument func (a [function object](https://262.ecma-international.org/12.0/#function-object)). It allows [host](https://262.ecma-international.org/12.0/#host) environments to prevent the source text from being provided for func.

An implementation of HostHasSourceTextAvailable must complete normally in all cases. This operation must be deterministic with respect to its parameters. Each time it is called with a specific func as its argument, it must return the same completion record. The default implementation of HostHasSourceTextAvailable is to unconditionally return a normal completion with a value of true.

## 20.3 Boolean Objects

## 20.3.1 The Boolean Constructor

The Boolean [constructor](https://262.ecma-international.org/12.0/#constructor):

-   is %Boolean%.
-   is the initial value of the "Boolean" property of the [global object](https://262.ecma-international.org/12.0/#sec-global-object).
-   creates and initializes a new Boolean object when called as a [constructor](https://262.ecma-international.org/12.0/#constructor).
-   performs a type conversion when called as a function rather than as a [constructor](https://262.ecma-international.org/12.0/#constructor).
-   is designed to be subclassable. It may be used as the value of an `extends` clause of a class definition. Subclass constructors that intend to inherit the specified Boolean behaviour must include a `super` call to the Boolean [constructor](https://262.ecma-international.org/12.0/#constructor) to create and initialize the subclass instance with a \[\[BooleanData\]\] internal slot.

## 20.3.1.1 Boolean ( value )

When `Boolean` is called with argument value, the following steps are taken:

1.  Let b be ! [ToBoolean](https://262.ecma-international.org/12.0/#sec-toboolean)(value).
2.  If NewTarget is undefined, return b.
3.  Let O be ? [OrdinaryCreateFromConstructor](https://262.ecma-international.org/12.0/#sec-ordinarycreatefromconstructor)(NewTarget, "%Boolean.prototype%", « \[\[BooleanData\]\] »).
4.  Set O.\[\[BooleanData\]\] to b.
5.  Return O.

## 20.3.2 Properties of the Boolean Constructor

The Boolean [constructor](https://262.ecma-international.org/12.0/#constructor):

-   has a \[\[Prototype\]\] internal slot whose value is [%Function.prototype%](https://262.ecma-international.org/12.0/#sec-properties-of-the-function-prototype-object).
-   has the following properties:

## 20.3.2.1 Boolean.prototype

The initial value of `Boolean.prototype` is the [Boolean prototype object](https://262.ecma-international.org/12.0/#sec-properties-of-the-boolean-prototype-object).

This property has the attributes { \[\[Writable\]\]: false, \[\[Enumerable\]\]: false, \[\[Configurable\]\]: false }.

## 20.3.3 Properties of the Boolean Prototype Object

The Boolean prototype object:

-   is %Boolean.prototype%.
-   is an [ordinary object](https://262.ecma-international.org/12.0/#ordinary-object).
-   is itself a Boolean object; it has a \[\[BooleanData\]\] internal slot with the value false.
-   has a \[\[Prototype\]\] internal slot whose value is [%Object.prototype%](https://262.ecma-international.org/12.0/#sec-properties-of-the-object-prototype-object).

The abstract operation thisBooleanValue takes argument value. It performs the following steps when called:

1.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(value) is Boolean, return value.
2.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(value) is Object and value has a \[\[BooleanData\]\] internal slot, then
    1.  Let b be value.\[\[BooleanData\]\].
    2.  [Assert](https://262.ecma-international.org/12.0/#assert): [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(b) is Boolean.
    3.  Return b.
3.  Throw a TypeError exception.

## 20.3.3.1 Boolean.prototype.constructor

The initial value of `Boolean.prototype.constructor` is [%Boolean%](https://262.ecma-international.org/12.0/#sec-boolean-constructor).

## 20.3.3.2 Boolean.prototype.toString ( )

The following steps are taken:

1.  Let b be ? [thisBooleanValue](https://262.ecma-international.org/12.0/#thisbooleanvalue)(this value).
2.  If b is true, return "true"; else return "false".

## 20.3.3.3 Boolean.prototype.valueOf ( )

The following steps are taken:

1.  Return ? [thisBooleanValue](https://262.ecma-international.org/12.0/#thisbooleanvalue)(this value).

## 20.3.4 Properties of Boolean Instances

Boolean instances are ordinary objects that inherit properties from the [Boolean prototype object](https://262.ecma-international.org/12.0/#sec-properties-of-the-boolean-prototype-object). Boolean instances have a \[\[BooleanData\]\] internal slot. The \[\[BooleanData\]\] internal slot is the Boolean value represented by this Boolean object.

## 20.4 Symbol Objects

## 20.4.1 The Symbol Constructor

The Symbol [constructor](https://262.ecma-international.org/12.0/#constructor):

-   is %Symbol%.
-   is the initial value of the "Symbol" property of the [global object](https://262.ecma-international.org/12.0/#sec-global-object).
-   returns a new Symbol value when called as a function.
-   is not intended to be used with the `new` operator.
-   is not intended to be subclassed.
-   may be used as the value of an `extends` clause of a class definition but a `super` call to it will cause an exception.

## 20.4.1.1 Symbol ( \[ description \] )

When `Symbol` is called with optional argument description, the following steps are taken:

1.  If NewTarget is not undefined, throw a TypeError exception.
2.  If description is undefined, let descString be undefined.
3.  Else, let descString be ? [ToString](https://262.ecma-international.org/12.0/#sec-tostring)(description).
4.  Return a new unique Symbol value whose \[\[Description\]\] value is descString.

## 20.4.2 Properties of the Symbol Constructor

The Symbol [constructor](https://262.ecma-international.org/12.0/#constructor):

-   has a \[\[Prototype\]\] internal slot whose value is [%Function.prototype%](https://262.ecma-international.org/12.0/#sec-properties-of-the-function-prototype-object).
-   has the following properties:

## 20.4.2.1 Symbol.asyncIterator

The initial value of `Symbol.asyncIterator` is the well known symbol [@@asyncIterator](https://262.ecma-international.org/12.0/#sec-well-known-symbols) ([Table 1](https://262.ecma-international.org/12.0/#table-well-known-symbols)).

This property has the attributes { \[\[Writable\]\]: false, \[\[Enumerable\]\]: false, \[\[Configurable\]\]: false }.

## 20.4.2.2 Symbol.for ( key )

When `Symbol.for` is called with argument key it performs the following steps:

1.  Let stringKey be ? [ToString](https://262.ecma-international.org/12.0/#sec-tostring)(key).
2.  For each element e of the GlobalSymbolRegistry [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type), do
    1.  If [SameValue](https://262.ecma-international.org/12.0/#sec-samevalue)(e.\[\[Key\]\], stringKey) is true, return e.\[\[Symbol\]\].
3.  [Assert](https://262.ecma-international.org/12.0/#assert): GlobalSymbolRegistry does not currently contain an entry for stringKey.
4.  Let newSymbol be a new unique Symbol value whose \[\[Description\]\] value is stringKey.
5.  Append the [Record](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) { \[\[Key\]\]: stringKey, \[\[Symbol\]\]: newSymbol } to the GlobalSymbolRegistry [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).
6.  Return newSymbol.

The GlobalSymbolRegistry is a [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) that is globally available. It is shared by all realms. Prior to the evaluation of any ECMAScript code it is initialized as a new empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type). Elements of the GlobalSymbolRegistry are Records with the structure defined in [Table 51](https://262.ecma-international.org/12.0/#table-globalsymbolregistry-record-fields).

Table 51: GlobalSymbolRegistry [Record](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) Fields

| Field Name | Value | Usage |
| --- | --- | --- |
| \[\[Key\]\] | A String | A string key used to globally identify a Symbol. |
| \[\[Symbol\]\] | A Symbol | A symbol that can be retrieved from any [realm](https://262.ecma-international.org/12.0/#realm). |

## 20.4.2.3 Symbol.hasInstance

The initial value of `Symbol.hasInstance` is the well-known symbol [@@hasInstance](https://262.ecma-international.org/12.0/#sec-well-known-symbols) ([Table 1](https://262.ecma-international.org/12.0/#table-well-known-symbols)).

This property has the attributes { \[\[Writable\]\]: false, \[\[Enumerable\]\]: false, \[\[Configurable\]\]: false }.

## 20.4.2.4 Symbol.isConcatSpreadable

The initial value of `Symbol.isConcatSpreadable` is the well-known symbol [@@isConcatSpreadable](https://262.ecma-international.org/12.0/#sec-well-known-symbols) ([Table 1](https://262.ecma-international.org/12.0/#table-well-known-symbols)).

This property has the attributes { \[\[Writable\]\]: false, \[\[Enumerable\]\]: false, \[\[Configurable\]\]: false }.

## 20.4.2.5 Symbol.iterator

The initial value of `Symbol.iterator` is the well-known symbol [@@iterator](https://262.ecma-international.org/12.0/#sec-well-known-symbols) ([Table 1](https://262.ecma-international.org/12.0/#table-well-known-symbols)).

This property has the attributes { \[\[Writable\]\]: false, \[\[Enumerable\]\]: false, \[\[Configurable\]\]: false }.

## 20.4.2.6 Symbol.keyFor ( sym )

When `Symbol.keyFor` is called with argument sym it performs the following steps:

1.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(sym) is not Symbol, throw a TypeError exception.
2.  For each element e of the GlobalSymbolRegistry [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) (see [20.4.2.2](https://262.ecma-international.org/12.0/#sec-symbol.for)), do
    1.  If [SameValue](https://262.ecma-international.org/12.0/#sec-samevalue)(e.\[\[Symbol\]\], sym) is true, return e.\[\[Key\]\].
3.  [Assert](https://262.ecma-international.org/12.0/#assert): GlobalSymbolRegistry does not currently contain an entry for sym.
4.  Return undefined.

## 20.4.2.7 Symbol.match

The initial value of `Symbol.match` is the well-known symbol [@@match](https://262.ecma-international.org/12.0/#sec-well-known-symbols) ([Table 1](https://262.ecma-international.org/12.0/#table-well-known-symbols)).

This property has the attributes { \[\[Writable\]\]: false, \[\[Enumerable\]\]: false, \[\[Configurable\]\]: false }.

## 20.4.2.8 Symbol.matchAll

The initial value of `Symbol.matchAll` is the well-known symbol [@@matchAll](https://262.ecma-international.org/12.0/#sec-well-known-symbols) ([Table 1](https://262.ecma-international.org/12.0/#table-well-known-symbols)).

This property has the attributes { \[\[Writable\]\]: false, \[\[Enumerable\]\]: false, \[\[Configurable\]\]: false }.

## 20.4.2.9 Symbol.prototype

The initial value of `Symbol.prototype` is the [Symbol prototype object](https://262.ecma-international.org/12.0/#sec-properties-of-the-symbol-prototype-object).

This property has the attributes { \[\[Writable\]\]: false, \[\[Enumerable\]\]: false, \[\[Configurable\]\]: false }.

## 20.4.2.10 Symbol.replace

The initial value of `Symbol.replace` is the well-known symbol [@@replace](https://262.ecma-international.org/12.0/#sec-well-known-symbols) ([Table 1](https://262.ecma-international.org/12.0/#table-well-known-symbols)).

This property has the attributes { \[\[Writable\]\]: false, \[\[Enumerable\]\]: false, \[\[Configurable\]\]: false }.

## 20.4.2.11 Symbol.search

The initial value of `Symbol.search` is the well-known symbol [@@search](https://262.ecma-international.org/12.0/#sec-well-known-symbols) ([Table 1](https://262.ecma-international.org/12.0/#table-well-known-symbols)).

This property has the attributes { \[\[Writable\]\]: false, \[\[Enumerable\]\]: false, \[\[Configurable\]\]: false }.

## 20.4.2.12 Symbol.species

The initial value of `Symbol.species` is the well-known symbol [@@species](https://262.ecma-international.org/12.0/#sec-well-known-symbols) ([Table 1](https://262.ecma-international.org/12.0/#table-well-known-symbols)).

This property has the attributes { \[\[Writable\]\]: false, \[\[Enumerable\]\]: false, \[\[Configurable\]\]: false }.

## 20.4.2.13 Symbol.split

The initial value of `Symbol.split` is the well-known symbol [@@split](https://262.ecma-international.org/12.0/#sec-well-known-symbols) ([Table 1](https://262.ecma-international.org/12.0/#table-well-known-symbols)).

This property has the attributes { \[\[Writable\]\]: false, \[\[Enumerable\]\]: false, \[\[Configurable\]\]: false }.

## 20.4.2.14 Symbol.toPrimitive

The initial value of `Symbol.toPrimitive` is the well-known symbol [@@toPrimitive](https://262.ecma-international.org/12.0/#sec-well-known-symbols) ([Table 1](https://262.ecma-international.org/12.0/#table-well-known-symbols)).

This property has the attributes { \[\[Writable\]\]: false, \[\[Enumerable\]\]: false, \[\[Configurable\]\]: false }.

## 20.4.2.15 Symbol.toStringTag

The initial value of `Symbol.toStringTag` is the well-known symbol [@@toStringTag](https://262.ecma-international.org/12.0/#sec-well-known-symbols) ([Table 1](https://262.ecma-international.org/12.0/#table-well-known-symbols)).

This property has the attributes { \[\[Writable\]\]: false, \[\[Enumerable\]\]: false, \[\[Configurable\]\]: false }.

## 20.4.2.16 Symbol.unscopables

The initial value of `Symbol.unscopables` is the well-known symbol [@@unscopables](https://262.ecma-international.org/12.0/#sec-well-known-symbols) ([Table 1](https://262.ecma-international.org/12.0/#table-well-known-symbols)).

This property has the attributes { \[\[Writable\]\]: false, \[\[Enumerable\]\]: false, \[\[Configurable\]\]: false }.

## 20.4.3 Properties of the Symbol Prototype Object

The Symbol prototype object:

-   is %Symbol.prototype%.
-   is an [ordinary object](https://262.ecma-international.org/12.0/#ordinary-object).
-   is not a Symbol instance and does not have a \[\[SymbolData\]\] internal slot.
-   has a \[\[Prototype\]\] internal slot whose value is [%Object.prototype%](https://262.ecma-international.org/12.0/#sec-properties-of-the-object-prototype-object).

The abstract operation thisSymbolValue takes argument value. It performs the following steps when called:

1.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(value) is Symbol, return value.
2.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(value) is Object and value has a \[\[SymbolData\]\] internal slot, then
    1.  Let s be value.\[\[SymbolData\]\].
    2.  [Assert](https://262.ecma-international.org/12.0/#assert): [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(s) is Symbol.
    3.  Return s.
3.  Throw a TypeError exception.

## 20.4.3.1 Symbol.prototype.constructor

The initial value of `Symbol.prototype.constructor` is [%Symbol%](https://262.ecma-international.org/12.0/#sec-symbol-constructor).

## 20.4.3.2 get Symbol.prototype.description

`Symbol.prototype.description` is an [accessor property](https://262.ecma-international.org/12.0/#sec-object-type) whose set accessor function is undefined. Its get accessor function performs the following steps:

1.  Let s be the this value.
2.  Let sym be ? [thisSymbolValue](https://262.ecma-international.org/12.0/#thissymbolvalue)(s).
3.  Return sym.\[\[Description\]\].

## 20.4.3.3 Symbol.prototype.toString ( )

The following steps are taken:

1.  Let sym be ? [thisSymbolValue](https://262.ecma-international.org/12.0/#thissymbolvalue)(this value).
2.  Return [SymbolDescriptiveString](https://262.ecma-international.org/12.0/#sec-symboldescriptivestring)(sym).

## 20.4.3.3.1 SymbolDescriptiveString ( sym )

The abstract operation SymbolDescriptiveString takes argument sym. It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(sym) is Symbol.
2.  Let desc be sym's \[\[Description\]\] value.
3.  If desc is undefined, set desc to the empty String.
4.  [Assert](https://262.ecma-international.org/12.0/#assert): [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(desc) is String.
5.  Return the [string-concatenation](https://262.ecma-international.org/12.0/#string-concatenation) of "Symbol(", desc, and ")".

## 20.4.3.4 Symbol.prototype.valueOf ( )

The following steps are taken:

1.  Return ? [thisSymbolValue](https://262.ecma-international.org/12.0/#thissymbolvalue)(this value).

## 20.4.3.5 Symbol.prototype \[ @@toPrimitive \] ( hint )

This function is called by ECMAScript language operators to convert a Symbol object to a primitive value.

When the `@@toPrimitive` method is called with argument hint, the following steps are taken:

1.  Return ? [thisSymbolValue](https://262.ecma-international.org/12.0/#thissymbolvalue)(this value).

The value of the "name" property of this function is "\[Symbol.toPrimitive\]".

This property has the attributes { \[\[Writable\]\]: false, \[\[Enumerable\]\]: false, \[\[Configurable\]\]: true }.

Note

The argument is ignored.

## 20.4.3.6 Symbol.prototype \[ @@toStringTag \]

The initial value of the [@@toStringTag](https://262.ecma-international.org/12.0/#sec-well-known-symbols) property is the String value "Symbol".

This property has the attributes { \[\[Writable\]\]: false, \[\[Enumerable\]\]: false, \[\[Configurable\]\]: true }.

## 20.4.4 Properties of Symbol Instances

Symbol instances are ordinary objects that inherit properties from the [Symbol prototype object](https://262.ecma-international.org/12.0/#sec-properties-of-the-symbol-prototype-object). Symbol instances have a \[\[SymbolData\]\] internal slot. The \[\[SymbolData\]\] internal slot is the Symbol value represented by this Symbol object.

## 20.5 Error Objects

Instances of Error objects are thrown as exceptions when runtime errors occur. The Error objects may also serve as base objects for user-defined exception classes.

When an ECMAScript implementation detects a runtime error, it throws a new instance of one of the NativeError objects defined in [20.5.5](https://262.ecma-international.org/12.0/#sec-native-error-types-used-in-this-standard) or a new instance of AggregateError object defined in [20.5.7](https://262.ecma-international.org/12.0/#sec-aggregate-error-objects). Each of these objects has the structure described below, differing only in the name used as the [constructor](https://262.ecma-international.org/12.0/#constructor) name instead of NativeError, in the `name` property of the prototype object, in the [implementation-defined](https://262.ecma-international.org/12.0/#implementation-defined) `message` property of the prototype object, and in the presence of the [%AggregateError%](https://262.ecma-international.org/12.0/#sec-aggregate-error-constructor)\-specific `errors` property.

## 20.5.1 The Error Constructor

The Error [constructor](https://262.ecma-international.org/12.0/#constructor):

-   is %Error%.
-   is the initial value of the "Error" property of the [global object](https://262.ecma-international.org/12.0/#sec-global-object).
-   creates and initializes a new Error object when called as a function rather than as a [constructor](https://262.ecma-international.org/12.0/#constructor). Thus the function call `Error(…)` is equivalent to the object creation expression `new Error(…)` with the same arguments.
-   is designed to be subclassable. It may be used as the value of an `extends` clause of a class definition. Subclass constructors that intend to inherit the specified Error behaviour must include a `super` call to the Error [constructor](https://262.ecma-international.org/12.0/#constructor) to create and initialize subclass instances with an \[\[ErrorData\]\] internal slot.

## 20.5.1.1 Error ( message )

When the `Error` function is called with argument message, the following steps are taken:

1.  If NewTarget is undefined, let newTarget be the [active function object](https://262.ecma-international.org/12.0/#active-function-object); else let newTarget be NewTarget.
2.  Let O be ? [OrdinaryCreateFromConstructor](https://262.ecma-international.org/12.0/#sec-ordinarycreatefromconstructor)(newTarget, "%Error.prototype%", « \[\[ErrorData\]\] »).
3.  If message is not undefined, then
    1.  Let msg be ? [ToString](https://262.ecma-international.org/12.0/#sec-tostring)(message).
    2.  Let msgDesc be the PropertyDescriptor { \[\[Value\]\]: msg, \[\[Writable\]\]: true, \[\[Enumerable\]\]: false, \[\[Configurable\]\]: true }.
    3.  Perform ! [DefinePropertyOrThrow](https://262.ecma-international.org/12.0/#sec-definepropertyorthrow)(O, "message", msgDesc).
4.  Return O.

## 20.5.2 Properties of the Error Constructor

The Error [constructor](https://262.ecma-international.org/12.0/#constructor):

-   has a \[\[Prototype\]\] internal slot whose value is [%Function.prototype%](https://262.ecma-international.org/12.0/#sec-properties-of-the-function-prototype-object).
-   has the following properties:

## 20.5.2.1 Error.prototype

The initial value of `Error.prototype` is the [Error prototype object](https://262.ecma-international.org/12.0/#sec-properties-of-the-error-prototype-object).

This property has the attributes { \[\[Writable\]\]: false, \[\[Enumerable\]\]: false, \[\[Configurable\]\]: false }.

## 20.5.3 Properties of the Error Prototype Object

The Error prototype object:

-   is %Error.prototype%.
-   is an [ordinary object](https://262.ecma-international.org/12.0/#ordinary-object).
-   is not an Error instance and does not have an \[\[ErrorData\]\] internal slot.
-   has a \[\[Prototype\]\] internal slot whose value is [%Object.prototype%](https://262.ecma-international.org/12.0/#sec-properties-of-the-object-prototype-object).

## 20.5.3.1 Error.prototype.constructor

The initial value of `Error.prototype.constructor` is [%Error%](https://262.ecma-international.org/12.0/#sec-error-constructor).

## 20.5.3.2 Error.prototype.message

The initial value of `Error.prototype.message` is the empty String.

## 20.5.3.3 Error.prototype.name

The initial value of `Error.prototype.name` is "Error".

## 20.5.3.4 Error.prototype.toString ( )

The following steps are taken:

1.  Let O be the this value.
2.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(O) is not Object, throw a TypeError exception.
3.  Let name be ? [Get](https://262.ecma-international.org/12.0/#sec-get-o-p)(O, "name").
4.  If name is undefined, set name to "Error"; otherwise set name to ? [ToString](https://262.ecma-international.org/12.0/#sec-tostring)(name).
5.  Let msg be ? [Get](https://262.ecma-international.org/12.0/#sec-get-o-p)(O, "message").
6.  If msg is undefined, set msg to the empty String; otherwise set msg to ? [ToString](https://262.ecma-international.org/12.0/#sec-tostring)(msg).
7.  If name is the empty String, return msg.
8.  If msg is the empty String, return name.
9.  Return the [string-concatenation](https://262.ecma-international.org/12.0/#string-concatenation) of name, the code unit 0x003A (COLON), the code unit 0x0020 (SPACE), and msg.

## 20.5.4 Properties of Error Instances

Error instances are ordinary objects that inherit properties from the [Error prototype object](https://262.ecma-international.org/12.0/#sec-properties-of-the-error-prototype-object) and have an \[\[ErrorData\]\] internal slot whose value is undefined. The only specified uses of \[\[ErrorData\]\] is to identify Error, AggregateError, and NativeError instances as Error objects within `Object.prototype.toString`.

## 20.5.5 Native Error Types Used in This Standard

A new instance of one of the NativeError objects below or of the AggregateError object is thrown when a runtime error is detected. All NativeError objects share the same structure, as described in [20.5.6](https://262.ecma-international.org/12.0/#sec-nativeerror-object-structure).

## 20.5.5.1 EvalError

The EvalError [constructor](https://262.ecma-international.org/12.0/#constructor) is %EvalError%.

This exception is not currently used within this specification. This object remains for compatibility with previous editions of this specification.

## 20.5.5.2 RangeError

The RangeError [constructor](https://262.ecma-international.org/12.0/#constructor) is %RangeError%.

Indicates a value that is not in the set or range of allowable values.

## 20.5.5.3 ReferenceError

The ReferenceError [constructor](https://262.ecma-international.org/12.0/#constructor) is %ReferenceError%.

Indicate that an invalid reference has been detected.

## 20.5.5.4 SyntaxError

The SyntaxError [constructor](https://262.ecma-international.org/12.0/#constructor) is %SyntaxError%.

Indicates that a parsing error has occurred.

## 20.5.5.5 TypeError

The TypeError [constructor](https://262.ecma-international.org/12.0/#constructor) is %TypeError%.

TypeError is used to indicate an unsuccessful operation when none of the other NativeError objects are an appropriate indication of the failure cause.

## 20.5.5.6 URIError

The URIError [constructor](https://262.ecma-international.org/12.0/#constructor) is %URIError%.

Indicates that one of the global URI handling functions was used in a way that is incompatible with its definition.

## 20.5.6 NativeError Object Structure

When an ECMAScript implementation detects a runtime error, it throws a new instance of one of the NativeError objects defined in [20.5.5](https://262.ecma-international.org/12.0/#sec-native-error-types-used-in-this-standard). Each of these objects has the structure described below, differing only in the name used as the [constructor](https://262.ecma-international.org/12.0/#constructor) name instead of NativeError, in the "name" property of the prototype object, and in the [implementation-defined](https://262.ecma-international.org/12.0/#implementation-defined) "message" property of the prototype object.

For each error object, references to NativeError in the definition should be replaced with the appropriate error object name from [20.5.5](https://262.ecma-international.org/12.0/#sec-native-error-types-used-in-this-standard).

## 20.5.6.1 The NativeError Constructors

Each NativeError [constructor](https://262.ecma-international.org/12.0/#constructor):

-   creates and initializes a new NativeError object when called as a function rather than as a [constructor](https://262.ecma-international.org/12.0/#constructor). A call of the object as a function is equivalent to calling it as a [constructor](https://262.ecma-international.org/12.0/#constructor) with the same arguments. Thus the function call `NativeError(…)` is equivalent to the object creation expression `new NativeError(…)` with the same arguments.
-   is designed to be subclassable. It may be used as the value of an `extends` clause of a class definition. Subclass constructors that intend to inherit the specified NativeError behaviour must include a `super` call to the NativeError [constructor](https://262.ecma-international.org/12.0/#constructor) to create and initialize subclass instances with an \[\[ErrorData\]\] internal slot.

## 20.5.6.1.1 NativeError ( message )

When a NativeError function is called with argument message, the following steps are taken:

1.  If NewTarget is undefined, let newTarget be the [active function object](https://262.ecma-international.org/12.0/#active-function-object); else let newTarget be NewTarget.
2.  Let O be ? [OrdinaryCreateFromConstructor](https://262.ecma-international.org/12.0/#sec-ordinarycreatefromconstructor)(newTarget, `"%NativeError.prototype%"`, « \[\[ErrorData\]\] »).
3.  If message is not undefined, then
    1.  Let msg be ? [ToString](https://262.ecma-international.org/12.0/#sec-tostring)(message).
    2.  Let msgDesc be the PropertyDescriptor { \[\[Value\]\]: msg, \[\[Writable\]\]: true, \[\[Enumerable\]\]: false, \[\[Configurable\]\]: true }.
    3.  Perform ! [DefinePropertyOrThrow](https://262.ecma-international.org/12.0/#sec-definepropertyorthrow)(O, "message", msgDesc).
4.  Return O.

The actual value of the string passed in step [2](https://262.ecma-international.org/12.0/#step-nativerror-ordinarycreatefromconstructor) is either "%EvalError.prototype%", "%RangeError.prototype%", "%ReferenceError.prototype%", "%SyntaxError.prototype%", "%TypeError.prototype%", or "%URIError.prototype%" corresponding to which NativeError [constructor](https://262.ecma-international.org/12.0/#constructor) is being defined.

## 20.5.6.2 Properties of the NativeError Constructors

Each NativeError [constructor](https://262.ecma-international.org/12.0/#constructor):

-   has a \[\[Prototype\]\] internal slot whose value is [%Error%](https://262.ecma-international.org/12.0/#sec-error-constructor).
-   has a "name" property whose value is the String value "NativeError".
-   has the following properties:

## 20.5.6.2.1 NativeError.prototype

The initial value of `NativeError.prototype` is a NativeError prototype object ([20.5.6.3](https://262.ecma-international.org/12.0/#sec-properties-of-the-nativeerror-prototype-objects)). Each NativeError [constructor](https://262.ecma-international.org/12.0/#constructor) has a distinct prototype object.

This property has the attributes { \[\[Writable\]\]: false, \[\[Enumerable\]\]: false, \[\[Configurable\]\]: false }.

## 20.5.6.3 Properties of the NativeError Prototype Objects

Each NativeError prototype object:

-   is an [ordinary object](https://262.ecma-international.org/12.0/#ordinary-object).
-   is not an Error instance and does not have an \[\[ErrorData\]\] internal slot.
-   has a \[\[Prototype\]\] internal slot whose value is [%Error.prototype%](https://262.ecma-international.org/12.0/#sec-properties-of-the-error-prototype-object).

## 20.5.6.3.1 NativeError.prototype.constructor

The initial value of the "constructor" property of the prototype for a given NativeError [constructor](https://262.ecma-international.org/12.0/#constructor) is the corresponding intrinsic object %NativeError% ([20.5.6.1](https://262.ecma-international.org/12.0/#sec-nativeerror-constructors)).

## 20.5.6.3.2 NativeError.prototype.message

The initial value of the "message" property of the prototype for a given NativeError [constructor](https://262.ecma-international.org/12.0/#constructor) is the empty String.

## 20.5.6.3.3 NativeError.prototype.name

The initial value of the "name" property of the prototype for a given NativeError [constructor](https://262.ecma-international.org/12.0/#constructor) is the String value consisting of the name of the [constructor](https://262.ecma-international.org/12.0/#constructor) (the name used instead of NativeError).

## 20.5.6.4 Properties of NativeError Instances

NativeError instances are ordinary objects that inherit properties from their NativeError prototype object and have an \[\[ErrorData\]\] internal slot whose value is undefined. The only specified use of \[\[ErrorData\]\] is by `Object.prototype.toString` ([20.1.3.6](https://262.ecma-international.org/12.0/#sec-object.prototype.tostring)) to identify Error, AggregateError, or NativeError instances.

## 20.5.7 AggregateError Objects

## 20.5.7.1 The AggregateError Constructor

The AggregateError [constructor](https://262.ecma-international.org/12.0/#constructor):

-   is %AggregateError%.
-   is the initial value of the "AggregateError" property of the [global object](https://262.ecma-international.org/12.0/#sec-global-object).
-   creates and initializes a new AggregateError object when called as a function rather than as a [constructor](https://262.ecma-international.org/12.0/#constructor). Thus the function call `AggregateError(…)` is equivalent to the object creation expression `new AggregateError(…)` with the same arguments.
-   is designed to be subclassable. It may be used as the value of an `extends` clause of a class definition. Subclass constructors that intend to inherit the specified AggregateError behaviour must include a `super` call to the AggregateError [constructor](https://262.ecma-international.org/12.0/#constructor) to create and initialize subclass instances with an \[\[ErrorData\]\] internal slot.

## 20.5.7.1.1 AggregateError ( errors, message )

When the AggregateError function is called with arguments errors and message, the following steps are taken:

1.  If NewTarget is undefined, let newTarget be the [active function object](https://262.ecma-international.org/12.0/#active-function-object); else let newTarget be NewTarget.
2.  Let O be ? [OrdinaryCreateFromConstructor](https://262.ecma-international.org/12.0/#sec-ordinarycreatefromconstructor)(newTarget, "%AggregateError.prototype%", « \[\[ErrorData\]\] »).
3.  If message is not undefined, then
    1.  Let msg be ? [ToString](https://262.ecma-international.org/12.0/#sec-tostring)(message).
    2.  Let msgDesc be the PropertyDescriptor { \[\[Value\]\]: msg, \[\[Writable\]\]: true, \[\[Enumerable\]\]: false, \[\[Configurable\]\]: true }.
    3.  Perform ! [DefinePropertyOrThrow](https://262.ecma-international.org/12.0/#sec-definepropertyorthrow)(O, "message", msgDesc).
4.  Let errorsList be ? [IterableToList](https://262.ecma-international.org/12.0/#sec-iterabletolist)(errors).
5.  Perform ! [DefinePropertyOrThrow](https://262.ecma-international.org/12.0/#sec-definepropertyorthrow)(O, "errors", PropertyDescriptor { \[\[Configurable\]\]: true, \[\[Enumerable\]\]: false, \[\[Writable\]\]: true, \[\[Value\]\]: ! [CreateArrayFromList](https://262.ecma-international.org/12.0/#sec-createarrayfromlist)(errorsList) }).
6.  Return O.

## 20.5.7.2 Properties of the AggregateError Constructor

The AggregateError [constructor](https://262.ecma-international.org/12.0/#constructor):

-   has a \[\[Prototype\]\] internal slot whose value is [%Error%](https://262.ecma-international.org/12.0/#sec-error-constructor).
-   has the following properties:

## 20.5.7.2.1 AggregateError.prototype

The initial value of `AggregateError.prototype` is [%AggregateError.prototype%](https://262.ecma-international.org/12.0/#sec-properties-of-the-aggregate-error-prototype-objects).

This property has the attributes { \[\[Writable\]\]: false, \[\[Enumerable\]\]: false, \[\[Configurable\]\]: false }.

## 20.5.7.3 Properties of the AggregateError Prototype Object

The AggregateError prototype object:

-   is %AggregateError.prototype%.
-   is an [ordinary object](https://262.ecma-international.org/12.0/#ordinary-object).
-   is not an Error instance or an AggregateError instance and does not have an \[\[ErrorData\]\] internal slot.
-   has a \[\[Prototype\]\] internal slot whose value is [%Error.prototype%](https://262.ecma-international.org/12.0/#sec-properties-of-the-error-prototype-object).

## 20.5.7.3.1 AggregateError.prototype.constructor

The initial value of `AggregateError.prototype.constructor` is [%AggregateError%](https://262.ecma-international.org/12.0/#sec-aggregate-error-constructor).

## 20.5.7.3.2 AggregateError.prototype.message

The initial value of `AggregateError.prototype.message` is the empty String.

## 20.5.7.3.3 AggregateError.prototype.name

The initial value of `AggregateError.prototype.name` is "AggregateError".

## 20.5.7.4 Properties of AggregateError Instances

AggregateError instances are ordinary objects that inherit properties from their [AggregateError prototype object](https://262.ecma-international.org/12.0/#sec-properties-of-the-aggregate-error-prototype-objects) and have an \[\[ErrorData\]\] internal slot whose value is undefined. The only specified use of \[\[ErrorData\]\] is by `Object.prototype.toString` ([20.1.3.6](https://262.ecma-international.org/12.0/#sec-object.prototype.tostring)) to identify Error, AggregateError, or NativeError instances.

## 21 Numbers and Dates

## 21.1 Number Objects

## 21.1.1 The Number Constructor

The Number [constructor](https://262.ecma-international.org/12.0/#constructor):

-   is %Number%.
-   is the initial value of the "Number" property of the [global object](https://262.ecma-international.org/12.0/#sec-global-object).
-   creates and initializes a new Number object when called as a [constructor](https://262.ecma-international.org/12.0/#constructor).
-   performs a type conversion when called as a function rather than as a [constructor](https://262.ecma-international.org/12.0/#constructor).
-   is designed to be subclassable. It may be used as the value of an `extends` clause of a class definition. Subclass constructors that intend to inherit the specified Number behaviour must include a `super` call to the Number [constructor](https://262.ecma-international.org/12.0/#constructor) to create and initialize the subclass instance with a \[\[NumberData\]\] internal slot.

## 21.1.1.1 Number ( value )

When `Number` is called with argument value, the following steps are taken:

1.  If value is present, then
    1.  Let prim be ? [ToNumeric](https://262.ecma-international.org/12.0/#sec-tonumeric)(value).
    2.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(prim) is BigInt, let n be [𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)([ℝ](https://262.ecma-international.org/12.0/#%E2%84%9D)(prim)).
    3.  Otherwise, let n be prim.
2.  Else,
    1.  Let n be +0𝔽.
3.  If NewTarget is undefined, return n.
4.  Let O be ? [OrdinaryCreateFromConstructor](https://262.ecma-international.org/12.0/#sec-ordinarycreatefromconstructor)(NewTarget, "%Number.prototype%", « \[\[NumberData\]\] »).
5.  Set O.\[\[NumberData\]\] to n.
6.  Return O.

## 21.1.2 Properties of the Number Constructor

The Number [constructor](https://262.ecma-international.org/12.0/#constructor):

-   has a \[\[Prototype\]\] internal slot whose value is [%Function.prototype%](https://262.ecma-international.org/12.0/#sec-properties-of-the-function-prototype-object).
-   has the following properties:

## 21.1.2.1 Number.EPSILON

The value of `Number.EPSILON` is the [Number value](https://262.ecma-international.org/12.0/#number-value) for the magnitude of the difference between 1 and the smallest value greater than 1 that is representable as a [Number value](https://262.ecma-international.org/12.0/#number-value), which is approximately 2.2204460492503130808472633361816 × 10\-16.

This property has the attributes { \[\[Writable\]\]: false, \[\[Enumerable\]\]: false, \[\[Configurable\]\]: false }.

## 21.1.2.2 Number.isFinite ( number )

When `Number.isFinite` is called with one argument number, the following steps are taken:

1.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(number) is not Number, return false.
2.  If number is NaN, +∞𝔽, or \-∞𝔽, return false.
3.  Otherwise, return true.

## 21.1.2.3 Number.isInteger ( number )

When `Number.isInteger` is called with one argument number, the following steps are taken:

1.  Return ! [IsIntegralNumber](https://262.ecma-international.org/12.0/#sec-isintegralnumber)(number).

## 21.1.2.4 Number.isNaN ( number )

When `Number.isNaN` is called with one argument number, the following steps are taken:

1.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(number) is not Number, return false.
2.  If number is NaN, return true.
3.  Otherwise, return false.

Note

This function differs from the global isNaN function ([19.2.3](https://262.ecma-international.org/12.0/#sec-isnan-number)) in that it does not convert its argument to a Number before determining whether it is NaN.

## 21.1.2.5 Number.isSafeInteger ( number )

When `Number.isSafeInteger` is called with one argument number, the following steps are taken:

1.  If ! [IsIntegralNumber](https://262.ecma-international.org/12.0/#sec-isintegralnumber)(number) is true, then
    1.  If [abs](https://262.ecma-international.org/12.0/#eqn-abs)([ℝ](https://262.ecma-international.org/12.0/#%E2%84%9D)(number)) ≤ 253 - 1, return true.
2.  Return false.

## 21.1.2.6 Number.MAX\_SAFE\_INTEGER

Note

The value of `Number.MAX_SAFE_INTEGER` is the largest [integral Number](https://262.ecma-international.org/12.0/#integral-number) n such that [ℝ](https://262.ecma-international.org/12.0/#%E2%84%9D)(n) and [ℝ](https://262.ecma-international.org/12.0/#%E2%84%9D)(n) + 1 are both exactly representable as a [Number value](https://262.ecma-international.org/12.0/#number-value).

The value of `Number.MAX_SAFE_INTEGER` is 9007199254740991𝔽 ([𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(253 - 1)).

This property has the attributes { \[\[Writable\]\]: false, \[\[Enumerable\]\]: false, \[\[Configurable\]\]: false }.

## 21.1.2.7 Number.MAX\_VALUE

The value of `Number.MAX_VALUE` is the largest positive finite value of the Number type, which is approximately 1.7976931348623157 × 10308.

This property has the attributes { \[\[Writable\]\]: false, \[\[Enumerable\]\]: false, \[\[Configurable\]\]: false }.

## 21.1.2.8 Number.MIN\_SAFE\_INTEGER

Note

The value of `Number.MIN_SAFE_INTEGER` is the smallest [integral Number](https://262.ecma-international.org/12.0/#integral-number) n such that [ℝ](https://262.ecma-international.org/12.0/#%E2%84%9D)(n) and [ℝ](https://262.ecma-international.org/12.0/#%E2%84%9D)(n) - 1 are both exactly representable as a [Number value](https://262.ecma-international.org/12.0/#number-value).

The value of `Number.MIN_SAFE_INTEGER` is \-9007199254740991𝔽 ([𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(-(253 - 1))).

This property has the attributes { \[\[Writable\]\]: false, \[\[Enumerable\]\]: false, \[\[Configurable\]\]: false }.

## 21.1.2.9 Number.MIN\_VALUE

The value of `Number.MIN_VALUE` is the smallest positive value of the Number type, which is approximately 5 × 10\-324.

In the [IEEE 754-2019](https://262.ecma-international.org/12.0/#sec-bibliography) double precision binary representation, the smallest possible value is a denormalized number. If an implementation does not support denormalized values, the value of `Number.MIN_VALUE` must be the smallest non-zero positive value that can actually be represented by the implementation.

This property has the attributes { \[\[Writable\]\]: false, \[\[Enumerable\]\]: false, \[\[Configurable\]\]: false }.

## 21.1.2.10 Number.NaN

The value of `Number.NaN` is NaN.

This property has the attributes { \[\[Writable\]\]: false, \[\[Enumerable\]\]: false, \[\[Configurable\]\]: false }.

## 21.1.2.11 Number.NEGATIVE\_INFINITY

The value of `Number.NEGATIVE_INFINITY` is \-∞𝔽.

This property has the attributes { \[\[Writable\]\]: false, \[\[Enumerable\]\]: false, \[\[Configurable\]\]: false }.

## 21.1.2.12 Number.parseFloat ( string )

The value of the `Number.parseFloat` [data property](https://262.ecma-international.org/12.0/#sec-object-type) is the same built-in [function object](https://262.ecma-international.org/12.0/#function-object) that is the initial value of the "parseFloat" property of the [global object](https://262.ecma-international.org/12.0/#sec-global-object) defined in [19.2.4](https://262.ecma-international.org/12.0/#sec-parsefloat-string).

## 21.1.2.13 Number.parseInt ( string, radix )

The value of the `Number.parseInt` [data property](https://262.ecma-international.org/12.0/#sec-object-type) is the same built-in [function object](https://262.ecma-international.org/12.0/#function-object) that is the initial value of the "parseInt" property of the [global object](https://262.ecma-international.org/12.0/#sec-global-object) defined in [19.2.5](https://262.ecma-international.org/12.0/#sec-parseint-string-radix).

## 21.1.2.14 Number.POSITIVE\_INFINITY

The value of `Number.POSITIVE_INFINITY` is +∞𝔽.

This property has the attributes { \[\[Writable\]\]: false, \[\[Enumerable\]\]: false, \[\[Configurable\]\]: false }.

## 21.1.2.15 Number.prototype

The initial value of `Number.prototype` is the [Number prototype object](https://262.ecma-international.org/12.0/#sec-properties-of-the-number-prototype-object).

This property has the attributes { \[\[Writable\]\]: false, \[\[Enumerable\]\]: false, \[\[Configurable\]\]: false }.

## 21.1.3 Properties of the Number Prototype Object

The Number prototype object:

-   is %Number.prototype%.
-   is an [ordinary object](https://262.ecma-international.org/12.0/#ordinary-object).
-   is itself a Number object; it has a \[\[NumberData\]\] internal slot with the value +0𝔽.
-   has a \[\[Prototype\]\] internal slot whose value is [%Object.prototype%](https://262.ecma-international.org/12.0/#sec-properties-of-the-object-prototype-object).

Unless explicitly stated otherwise, the methods of the Number prototype object defined below are not generic and the this value passed to them must be either a [Number value](https://262.ecma-international.org/12.0/#number-value) or an object that has a \[\[NumberData\]\] internal slot that has been initialized to a [Number value](https://262.ecma-international.org/12.0/#number-value).

The abstract operation thisNumberValue takes argument value. It performs the following steps when called:

1.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(value) is Number, return value.
2.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(value) is Object and value has a \[\[NumberData\]\] internal slot, then
    1.  Let n be value.\[\[NumberData\]\].
    2.  [Assert](https://262.ecma-international.org/12.0/#assert): [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(n) is Number.
    3.  Return n.
3.  Throw a TypeError exception.

The phrase “this [Number value](https://262.ecma-international.org/12.0/#number-value)” within the specification of a method refers to the result returned by calling the abstract operation [thisNumberValue](https://262.ecma-international.org/12.0/#thisnumbervalue) with the this value of the method invocation passed as the argument.

## 21.1.3.1 Number.prototype.constructor

The initial value of `Number.prototype.constructor` is [%Number%](https://262.ecma-international.org/12.0/#sec-number-constructor).

## 21.1.3.2 Number.prototype.toExponential ( fractionDigits )

Return a String containing this [Number value](https://262.ecma-international.org/12.0/#number-value) represented in decimal exponential notation with one digit before the significand's decimal point and fractionDigits digits after the significand's decimal point. If fractionDigits is undefined, include as many significand digits as necessary to uniquely specify the Number (just like in [ToString](https://262.ecma-international.org/12.0/#sec-tostring) except that in this case the Number is always output in exponential notation). Specifically, perform the following steps:

1.  Let x be ? [thisNumberValue](https://262.ecma-international.org/12.0/#thisnumbervalue)(this value).
2.  Let f be ? [ToIntegerOrInfinity](https://262.ecma-international.org/12.0/#sec-tointegerorinfinity)(fractionDigits).
3.  [Assert](https://262.ecma-international.org/12.0/#assert): If fractionDigits is undefined, then f is 0.
4.  If x is not finite, return ! [Number::toString](https://262.ecma-international.org/12.0/#sec-numeric-types-number-tostring)(x).
5.  If f < 0 or f > 100, throw a RangeError exception.
6.  Set x to [ℝ](https://262.ecma-international.org/12.0/#%E2%84%9D)(x).
7.  Let s be the empty String.
8.  If x < 0, then
    1.  Set s to "-".
    2.  Set x to -x.
9.  If x = 0, then
    1.  Let m be the String value consisting of f + 1 occurrences of the code unit 0x0030 (DIGIT ZERO).
    2.  Let e be 0.
10.  Else,
    1.  If fractionDigits is not undefined, then
        1.  Let e and n be integers such that 10f ≤ n < 10f + 1 and for which n × 10e - n - x is as close to zero as possible. If there are two such sets of e and n, pick the e and n for which n × 10e - f is larger.
    2.  Else,
        1.  Let e, n, and f be integers such that f ≥ 0, 10f ≤ n < 10f + 1, n × 10e - f is x, and f is as small as possible. Note that the decimal representation of n has f + 1 digits, n is not divisible by 10, and the least significant digit of n is not necessarily uniquely determined by these criteria.
    3.  Let m be the String value consisting of the digits of the decimal representation of n (in order, with no leading zeroes).
11.  If f ≠ 0, then
    1.  Let a be the first code unit of m.
    2.  Let b be the other f code units of m.
    3.  Set m to the [string-concatenation](https://262.ecma-international.org/12.0/#string-concatenation) of a, ".", and b.
12.  If e = 0, then
    1.  Let c be "+".
    2.  Let d be "0".
13.  Else,
    1.  If e > 0, let c be "+".
    2.  Else,
        1.  [Assert](https://262.ecma-international.org/12.0/#assert): e < 0.
        2.  Let c be "-".
        3.  Set e to -e.
    3.  Let d be the String value consisting of the digits of the decimal representation of e (in order, with no leading zeroes).
14.  Set m to the [string-concatenation](https://262.ecma-international.org/12.0/#string-concatenation) of m, "e", c, and d.
15.  Return the [string-concatenation](https://262.ecma-international.org/12.0/#string-concatenation) of s and m.

Note

For implementations that provide more accurate conversions than required by the rules above, it is recommended that the following alternative version of step [10.b.i](https://262.ecma-international.org/12.0/#step-number-proto-toexponential-intermediate-values) be used as a guideline:

1.  Let e, n, and f be integers such that f ≥ 0, 10f ≤ n < 10f + 1, n × 10e - f is x, and f is as small as possible. If there are multiple possibilities for n, choose the value of n for which n × 10e - f is closest in value to x. If there are two such possible values of n, choose the one that is even.

## 21.1.3.3 Number.prototype.toFixed ( fractionDigits )

Note 1

`toFixed` returns a String containing this [Number value](https://262.ecma-international.org/12.0/#number-value) represented in decimal fixed-point notation with fractionDigits digits after the decimal point. If fractionDigits is undefined, 0 is assumed.

The following steps are performed:

1.  Let x be ? [thisNumberValue](https://262.ecma-international.org/12.0/#thisnumbervalue)(this value).
2.  Let f be ? [ToIntegerOrInfinity](https://262.ecma-international.org/12.0/#sec-tointegerorinfinity)(fractionDigits).
3.  [Assert](https://262.ecma-international.org/12.0/#assert): If fractionDigits is undefined, then f is 0.
4.  If f is not finite, throw a RangeError exception.
5.  If f < 0 or f > 100, throw a RangeError exception.
6.  If x is not finite, return ! [Number::toString](https://262.ecma-international.org/12.0/#sec-numeric-types-number-tostring)(x).
7.  Set x to [ℝ](https://262.ecma-international.org/12.0/#%E2%84%9D)(x).
8.  Let s be the empty String.
9.  If x < 0, then
    1.  Set s to "-".
    2.  Set x to -x.
10.  If x ≥ 1021, then
    1.  Let m be ! [ToString](https://262.ecma-international.org/12.0/#sec-tostring)([𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(x)).
11.  Else,
    1.  Let n be an [integer](https://262.ecma-international.org/12.0/#integer) for which n / 10f - x is as close to zero as possible. If there are two such n, pick the larger n.
    2.  If n = 0, let m be the String "0". Otherwise, let m be the String value consisting of the digits of the decimal representation of n (in order, with no leading zeroes).
    3.  If f ≠ 0, then
        1.  Let k be the length of m.
        2.  If k ≤ f, then
            1.  Let z be the String value consisting of f + 1 - k occurrences of the code unit 0x0030 (DIGIT ZERO).
            2.  Set m to the [string-concatenation](https://262.ecma-international.org/12.0/#string-concatenation) of z and m.
            3.  Set k to f + 1.
        3.  Let a be the first k - f code units of m.
        4.  Let b be the other f code units of m.
        5.  Set m to the [string-concatenation](https://262.ecma-international.org/12.0/#string-concatenation) of a, ".", and b.
12.  Return the [string-concatenation](https://262.ecma-international.org/12.0/#string-concatenation) of s and m.

Note 2

The output of `toFixed` may be more precise than `toString` for some values because toString only prints enough significant digits to distinguish the number from adjacent Number values. For example,

`(1000000000000000128).toString()` returns "1000000000000000100", while  
`(1000000000000000128).toFixed(0)` returns "1000000000000000128".

## 21.1.3.4 Number.prototype.toLocaleString ( \[ reserved1 \[ , reserved2 \] \] )

An ECMAScript implementation that includes the ECMA-402 Internationalization API must implement the `Number.prototype.toLocaleString` method as specified in the ECMA-402 specification. If an ECMAScript implementation does not include the ECMA-402 API the following specification of the `toLocaleString` method is used.

Produces a String value that represents this [Number value](https://262.ecma-international.org/12.0/#number-value) formatted according to the conventions of the [host environment](https://262.ecma-international.org/12.0/#host-environment)'s current locale. This function is [implementation-defined](https://262.ecma-international.org/12.0/#implementation-defined), and it is permissible, but not encouraged, for it to return the same thing as `toString`.

The meanings of the optional parameters to this method are defined in the ECMA-402 specification; implementations that do not include ECMA-402 support must not use those parameter positions for anything else.

## 21.1.3.5 Number.prototype.toPrecision ( precision )

Return a String containing this [Number value](https://262.ecma-international.org/12.0/#number-value) represented either in decimal exponential notation with one digit before the significand's decimal point and precision - 1 digits after the significand's decimal point or in decimal fixed notation with precision significant digits. If precision is undefined, call [ToString](https://262.ecma-international.org/12.0/#sec-tostring) instead. Specifically, perform the following steps:

1.  Let x be ? [thisNumberValue](https://262.ecma-international.org/12.0/#thisnumbervalue)(this value).
2.  If precision is undefined, return ! [ToString](https://262.ecma-international.org/12.0/#sec-tostring)(x).
3.  Let p be ? [ToIntegerOrInfinity](https://262.ecma-international.org/12.0/#sec-tointegerorinfinity)(precision).
4.  If x is not finite, return ! [Number::toString](https://262.ecma-international.org/12.0/#sec-numeric-types-number-tostring)(x).
5.  If p < 1 or p > 100, throw a RangeError exception.
6.  Set x to [ℝ](https://262.ecma-international.org/12.0/#%E2%84%9D)(x).
7.  Let s be the empty String.
8.  If x < 0, then
    1.  Set s to the code unit 0x002D (HYPHEN-MINUS).
    2.  Set x to -x.
9.  If x = 0, then
    1.  Let m be the String value consisting of p occurrences of the code unit 0x0030 (DIGIT ZERO).
    2.  Let e be 0.
10.  Else,
    1.  Let e and n be integers such that 10p - 1 ≤ n < 10p and for which n × 10e - p + 1 - x is as close to zero as possible. If there are two such sets of e and n, pick the e and n for which n × 10e - p + 1 is larger.
    2.  Let m be the String value consisting of the digits of the decimal representation of n (in order, with no leading zeroes).
    3.  If e < -6 or e ≥ p, then
        1.  [Assert](https://262.ecma-international.org/12.0/#assert): e ≠ 0.
        2.  If p ≠ 1, then
            1.  Let a be the first code unit of m.
            2.  Let b be the other p - 1 code units of m.
            3.  Set m to the [string-concatenation](https://262.ecma-international.org/12.0/#string-concatenation) of a, ".", and b.
        3.  If e > 0, then
            1.  Let c be the code unit 0x002B (PLUS SIGN).
        4.  Else,
            1.  [Assert](https://262.ecma-international.org/12.0/#assert): e < 0.
            2.  Let c be the code unit 0x002D (HYPHEN-MINUS).
            3.  Set e to -e.
        5.  Let d be the String value consisting of the digits of the decimal representation of e (in order, with no leading zeroes).
        6.  Return the [string-concatenation](https://262.ecma-international.org/12.0/#string-concatenation) of s, m, the code unit 0x0065 (LATIN SMALL LETTER E), c, and d.
11.  If e = p - 1, return the [string-concatenation](https://262.ecma-international.org/12.0/#string-concatenation) of s and m.
12.  If e ≥ 0, then
    1.  Set m to the [string-concatenation](https://262.ecma-international.org/12.0/#string-concatenation) of the first e + 1 code units of m, the code unit 0x002E (FULL STOP), and the remaining p - (e + 1) code units of m.
13.  Else,
    1.  Set m to the [string-concatenation](https://262.ecma-international.org/12.0/#string-concatenation) of the code unit 0x0030 (DIGIT ZERO), the code unit 0x002E (FULL STOP), -(e + 1) occurrences of the code unit 0x0030 (DIGIT ZERO), and the String m.
14.  Return the [string-concatenation](https://262.ecma-international.org/12.0/#string-concatenation) of s and m.

## 21.1.3.6 Number.prototype.toString ( \[ radix \] )

Note

The optional radix should be an [integral Number](https://262.ecma-international.org/12.0/#integral-number) value in the inclusive range 2𝔽 to 36𝔽. If radix is undefined then 10𝔽 is used as the value of radix.

The following steps are performed:

1.  Let x be ? [thisNumberValue](https://262.ecma-international.org/12.0/#thisnumbervalue)(this value).
2.  If radix is undefined, let radixMV be 10.
3.  Else, let radixMV be ? [ToIntegerOrInfinity](https://262.ecma-international.org/12.0/#sec-tointegerorinfinity)(radix).
4.  If radixMV < 2 or radixMV > 36, throw a RangeError exception.
5.  If radixMV = 10, return ! [ToString](https://262.ecma-international.org/12.0/#sec-tostring)(x).
6.  Return the String representation of this [Number value](https://262.ecma-international.org/12.0/#number-value) using the radix specified by radixMV. Letters `a`\-`z` are used for digits with values 10 through 35. The precise algorithm is [implementation-defined](https://262.ecma-international.org/12.0/#implementation-defined), however the algorithm should be a generalization of that specified in [6.1.6.1.20](https://262.ecma-international.org/12.0/#sec-numeric-types-number-tostring).

The `toString` function is not generic; it throws a TypeError exception if its this value is not a Number or a Number object. Therefore, it cannot be transferred to other kinds of objects for use as a method.

The "length" property of the `toString` method is 1𝔽.

## 21.1.3.7 Number.prototype.valueOf ( )

1.  Return ? [thisNumberValue](https://262.ecma-international.org/12.0/#thisnumbervalue)(this value).

## 21.1.4 Properties of Number Instances

Number instances are ordinary objects that inherit properties from the [Number prototype object](https://262.ecma-international.org/12.0/#sec-properties-of-the-number-prototype-object). Number instances also have a \[\[NumberData\]\] internal slot. The \[\[NumberData\]\] internal slot is the [Number value](https://262.ecma-international.org/12.0/#number-value) represented by this Number object.

## 21.2 BigInt Objects

## 21.2.1 The BigInt Constructor

The BigInt [constructor](https://262.ecma-international.org/12.0/#constructor):

-   is %BigInt%.
-   is the initial value of the "BigInt" property of the [global object](https://262.ecma-international.org/12.0/#sec-global-object).
-   performs a type conversion when called as a function rather than as a [constructor](https://262.ecma-international.org/12.0/#constructor).
-   is not intended to be used with the `new` operator or to be subclassed. It may be used as the value of an `extends` clause of a class definition but a `super` call to the BigInt [constructor](https://262.ecma-international.org/12.0/#constructor) will cause an exception.

## 21.2.1.1 BigInt ( value )

When `BigInt` is called with argument value, the following steps are taken:

1.  If NewTarget is not undefined, throw a TypeError exception.
2.  Let prim be ? [ToPrimitive](https://262.ecma-international.org/12.0/#sec-toprimitive)(value, number).
3.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(prim) is Number, return ? [NumberToBigInt](https://262.ecma-international.org/12.0/#sec-numbertobigint)(prim).
4.  Otherwise, return ? [ToBigInt](https://262.ecma-international.org/12.0/#sec-tobigint)(value).

## 21.2.1.1.1 NumberToBigInt ( number )

The abstract operation NumberToBigInt takes argument number (a Number). It performs the following steps when called:

1.  If [IsIntegralNumber](https://262.ecma-international.org/12.0/#sec-isintegralnumber)(number) is false, throw a RangeError exception.
2.  Return the BigInt value that represents [ℝ](https://262.ecma-international.org/12.0/#%E2%84%9D)(number).

## 21.2.2 Properties of the BigInt Constructor

The value of the \[\[Prototype\]\] internal slot of the BigInt [constructor](https://262.ecma-international.org/12.0/#constructor) is [%Function.prototype%](https://262.ecma-international.org/12.0/#sec-properties-of-the-function-prototype-object).

The BigInt [constructor](https://262.ecma-international.org/12.0/#constructor) has the following properties:

## 21.2.2.1 BigInt.asIntN ( bits, bigint )

When the `BigInt.asIntN` function is called with two arguments bits and bigint, the following steps are taken:

1.  Set bits to ? [ToIndex](https://262.ecma-international.org/12.0/#sec-toindex)(bits).
2.  Set bigint to ? [ToBigInt](https://262.ecma-international.org/12.0/#sec-tobigint)(bigint).
3.  Let mod be [ℝ](https://262.ecma-international.org/12.0/#%E2%84%9D)(bigint) [modulo](https://262.ecma-international.org/12.0/#eqn-modulo) 2bits.
4.  If mod ≥ 2bits - 1, return [ℤ](https://262.ecma-international.org/12.0/#%E2%84%A4)(mod - 2bits); otherwise, return [ℤ](https://262.ecma-international.org/12.0/#%E2%84%A4)(mod).

## 21.2.2.2 BigInt.asUintN ( bits, bigint )

When the `BigInt.asUintN` function is called with two arguments bits and bigint, the following steps are taken:

1.  Set bits to ? [ToIndex](https://262.ecma-international.org/12.0/#sec-toindex)(bits).
2.  Set bigint to ? [ToBigInt](https://262.ecma-international.org/12.0/#sec-tobigint)(bigint).
3.  Return the BigInt value that represents [ℝ](https://262.ecma-international.org/12.0/#%E2%84%9D)(bigint) [modulo](https://262.ecma-international.org/12.0/#eqn-modulo) 2bits.

## 21.2.2.3 BigInt.prototype

The initial value of `BigInt.prototype` is the [BigInt prototype object](https://262.ecma-international.org/12.0/#sec-properties-of-the-bigint-prototype-object).

This property has the attributes { \[\[Writable\]\]: false, \[\[Enumerable\]\]: false, \[\[Configurable\]\]: false }.

## 21.2.3 Properties of the BigInt Prototype Object

The BigInt prototype object:

-   is %BigInt.prototype%.
-   is an [ordinary object](https://262.ecma-international.org/12.0/#ordinary-object).
-   is not a BigInt object; it does not have a \[\[BigIntData\]\] internal slot.
-   has a \[\[Prototype\]\] internal slot whose value is [%Object.prototype%](https://262.ecma-international.org/12.0/#sec-properties-of-the-object-prototype-object).

The abstract operation thisBigIntValue takes argument value. It performs the following steps when called:

1.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(value) is BigInt, return value.
2.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(value) is Object and value has a \[\[BigIntData\]\] internal slot, then
    1.  [Assert](https://262.ecma-international.org/12.0/#assert): [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(value.\[\[BigIntData\]\]) is BigInt.
    2.  Return value.\[\[BigIntData\]\].
3.  Throw a TypeError exception.

The phrase “this BigInt value” within the specification of a method refers to the result returned by calling the abstract operation [thisBigIntValue](https://262.ecma-international.org/12.0/#thisbigintvalue) with the this value of the method invocation passed as the argument.

## 21.2.3.1 BigInt.prototype.constructor

The initial value of `BigInt.prototype.constructor` is [%BigInt%](https://262.ecma-international.org/12.0/#sec-bigint-constructor).

## 21.2.3.2 BigInt.prototype.toLocaleString ( \[ reserved1 \[ , reserved2 \] \] )

An ECMAScript implementation that includes the ECMA-402 Internationalization API must implement the `BigInt.prototype.toLocaleString` method as specified in the ECMA-402 specification. If an ECMAScript implementation does not include the ECMA-402 API the following specification of the `toLocaleString` method is used.

Produces a String value that represents this BigInt value formatted according to the conventions of the [host environment](https://262.ecma-international.org/12.0/#host-environment)'s current locale. This function is [implementation-defined](https://262.ecma-international.org/12.0/#implementation-defined), and it is permissible, but not encouraged, for it to return the same thing as `toString`.

The meanings of the optional parameters to this method are defined in the ECMA-402 specification; implementations that do not include ECMA-402 support must not use those parameter positions for anything else.

## 21.2.3.3 BigInt.prototype.toString ( \[ radix \] )

Note

The optional radix should be an [integral Number](https://262.ecma-international.org/12.0/#integral-number) value in the inclusive range 2𝔽 to 36𝔽. If radix is undefined then 10𝔽 is used as the value of radix.

The following steps are performed:

1.  Let x be ? [thisBigIntValue](https://262.ecma-international.org/12.0/#thisbigintvalue)(this value).
2.  If radix is undefined, let radixMV be 10.
3.  Else, let radixMV be ? [ToIntegerOrInfinity](https://262.ecma-international.org/12.0/#sec-tointegerorinfinity)(radix).
4.  If radixMV < 2 or radixMV > 36, throw a RangeError exception.
5.  If radixMV = 10, return ! [ToString](https://262.ecma-international.org/12.0/#sec-tostring)(x).
6.  Return the String representation of this [Number value](https://262.ecma-international.org/12.0/#number-value) using the radix specified by radixMV. Letters `a`\-`z` are used for digits with values 10 through 35. The precise algorithm is [implementation-defined](https://262.ecma-international.org/12.0/#implementation-defined), however the algorithm should be a generalization of that specified in [6.1.6.2.23](https://262.ecma-international.org/12.0/#sec-numeric-types-bigint-tostring).

The `toString` function is not generic; it throws a TypeError exception if its this value is not a BigInt or a BigInt object. Therefore, it cannot be transferred to other kinds of objects for use as a method.

## 21.2.3.4 BigInt.prototype.valueOf ( )

1.  Return ? [thisBigIntValue](https://262.ecma-international.org/12.0/#thisbigintvalue)(this value).

## 21.2.3.5 BigInt.prototype \[ @@toStringTag \]

The initial value of the [@@toStringTag](https://262.ecma-international.org/12.0/#sec-well-known-symbols) property is the String value "BigInt".

This property has the attributes { \[\[Writable\]\]: false, \[\[Enumerable\]\]: false, \[\[Configurable\]\]: true }.

## 21.3 The Math Object

The Math object:

-   is %Math%.
-   is the initial value of the "Math" property of the [global object](https://262.ecma-international.org/12.0/#sec-global-object).
-   is an [ordinary object](https://262.ecma-international.org/12.0/#ordinary-object).
-   has a \[\[Prototype\]\] internal slot whose value is [%Object.prototype%](https://262.ecma-international.org/12.0/#sec-properties-of-the-object-prototype-object).
-   is not a [function object](https://262.ecma-international.org/12.0/#function-object).
-   does not have a \[\[Construct\]\] internal method; it cannot be used as a [constructor](https://262.ecma-international.org/12.0/#constructor) with the `new` operator.
-   does not have a \[\[Call\]\] internal method; it cannot be invoked as a function.

Note

In this specification, the phrase “the [Number value](https://262.ecma-international.org/12.0/#number-value) for x” has a technical meaning defined in [6.1.6.1](https://262.ecma-international.org/12.0/#sec-ecmascript-language-types-number-type).

## 21.3.1 Value Properties of the Math Object

## 21.3.1.1 Math.E

The [Number value](https://262.ecma-international.org/12.0/#number-value) for e, the base of the natural logarithms, which is approximately 2.7182818284590452354.

This property has the attributes { \[\[Writable\]\]: false, \[\[Enumerable\]\]: false, \[\[Configurable\]\]: false }.

## 21.3.1.2 Math.LN10

The [Number value](https://262.ecma-international.org/12.0/#number-value) for the natural logarithm of 10, which is approximately 2.302585092994046.

This property has the attributes { \[\[Writable\]\]: false, \[\[Enumerable\]\]: false, \[\[Configurable\]\]: false }.

## 21.3.1.3 Math.LN2

The [Number value](https://262.ecma-international.org/12.0/#number-value) for the natural logarithm of 2, which is approximately 0.6931471805599453.

This property has the attributes { \[\[Writable\]\]: false, \[\[Enumerable\]\]: false, \[\[Configurable\]\]: false }.

## 21.3.1.4 Math.LOG10E

The [Number value](https://262.ecma-international.org/12.0/#number-value) for the base-10 logarithm of e, the base of the natural logarithms; this value is approximately 0.4342944819032518.

This property has the attributes { \[\[Writable\]\]: false, \[\[Enumerable\]\]: false, \[\[Configurable\]\]: false }.

Note

The value of `Math.LOG10E` is approximately the reciprocal of the value of `Math.LN10`.

## 21.3.1.5 Math.LOG2E

The [Number value](https://262.ecma-international.org/12.0/#number-value) for the base-2 logarithm of e, the base of the natural logarithms; this value is approximately 1.4426950408889634.

This property has the attributes { \[\[Writable\]\]: false, \[\[Enumerable\]\]: false, \[\[Configurable\]\]: false }.

Note

The value of `Math.LOG2E` is approximately the reciprocal of the value of `Math.LN2`.

## 21.3.1.6 Math.PI

The [Number value](https://262.ecma-international.org/12.0/#number-value) for π, the ratio of the circumference of a circle to its diameter, which is approximately 3.1415926535897932.

This property has the attributes { \[\[Writable\]\]: false, \[\[Enumerable\]\]: false, \[\[Configurable\]\]: false }.

## 21.3.1.7 Math.SQRT1\_2

The [Number value](https://262.ecma-international.org/12.0/#number-value) for the square root of ½, which is approximately 0.7071067811865476.

This property has the attributes { \[\[Writable\]\]: false, \[\[Enumerable\]\]: false, \[\[Configurable\]\]: false }.

Note

The value of `Math.SQRT1_2` is approximately the reciprocal of the value of `Math.SQRT2`.

## 21.3.1.8 Math.SQRT2

The [Number value](https://262.ecma-international.org/12.0/#number-value) for the square root of 2, which is approximately 1.4142135623730951.

This property has the attributes { \[\[Writable\]\]: false, \[\[Enumerable\]\]: false, \[\[Configurable\]\]: false }.

## 21.3.1.9 Math \[ @@toStringTag \]

The initial value of the [@@toStringTag](https://262.ecma-international.org/12.0/#sec-well-known-symbols) property is the String value "Math".

This property has the attributes { \[\[Writable\]\]: false, \[\[Enumerable\]\]: false, \[\[Configurable\]\]: true }.

## 21.3.2 Function Properties of the Math Object

Note

The behaviour of the functions `acos`, `acosh`, `asin`, `asinh`, `atan`, `atanh`, `atan2`, `cbrt`, `cos`, `cosh`, `exp`, `expm1`, `hypot`, `log`, `log1p`, `log2`, `log10`, `pow`, `random`, `sin`, `sinh`, `sqrt`, `tan`, and `tanh` is not precisely specified here except to require specific results for certain argument values that represent boundary cases of interest. For other argument values, these functions are intended to compute approximations to the results of familiar mathematical functions, but some latitude is allowed in the choice of approximation algorithms. The general intent is that an implementer should be able to use the same mathematical library for ECMAScript on a given hardware platform that is available to C programmers on that platform.

Although the choice of algorithms is left to the implementation, it is recommended (but not specified by this standard) that implementations use the approximation algorithms for [IEEE 754-2019](https://262.ecma-international.org/12.0/#sec-bibliography) arithmetic contained in `fdlibm`, the freely distributable mathematical library from Sun Microsystems ([http://www.netlib.org/fdlibm](http://www.netlib.org/fdlibm)).

## 21.3.2.1 Math.abs ( x )

Returns the absolute value of x; the result has the same magnitude as x but has positive sign.

When the `Math.abs` method is called with argument x, the following steps are taken:

1.  Let n be ? [ToNumber](https://262.ecma-international.org/12.0/#sec-tonumber)(x).
2.  If n is NaN, return NaN.
3.  If n is \-0𝔽, return +0𝔽.
4.  If n is \-∞𝔽, return +∞𝔽.
5.  If n < +0𝔽, return -n.
6.  Return n.

## 21.3.2.2 Math.acos ( x )

Returns the inverse cosine of x. The result is expressed in radians and ranges from +0𝔽 to [𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(π), inclusive.

When the `Math.acos` method is called with argument x, the following steps are taken:

1.  Let n be ? [ToNumber](https://262.ecma-international.org/12.0/#sec-tonumber)(x).
2.  If n is NaN, n > 1𝔽, or n < \-1𝔽, return NaN.
3.  If n is 1𝔽, return +0𝔽.
4.  Return an [implementation-approximated](https://262.ecma-international.org/12.0/#implementation-approximated) value representing the result of the inverse cosine of [ℝ](https://262.ecma-international.org/12.0/#%E2%84%9D)(n).

## 21.3.2.3 Math.acosh ( x )

Returns the inverse hyperbolic cosine of x.

When the `Math.acosh` method is called with argument x, the following steps are taken:

1.  Let n be ? [ToNumber](https://262.ecma-international.org/12.0/#sec-tonumber)(x).
2.  If n is NaN or n is +∞𝔽, return n.
3.  If n is 1𝔽, return +0𝔽.
4.  If n < 1𝔽, return NaN.
5.  Return an [implementation-approximated](https://262.ecma-international.org/12.0/#implementation-approximated) value representing the result of the inverse hyperbolic cosine of [ℝ](https://262.ecma-international.org/12.0/#%E2%84%9D)(n).

## 21.3.2.4 Math.asin ( x )

Returns the inverse sine of x. The result is expressed in radians and ranges from [𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(-π / 2) to [𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(π / 2), inclusive.

When the `Math.asin` method is called with argument x, the following steps are taken:

1.  Let n be ? [ToNumber](https://262.ecma-international.org/12.0/#sec-tonumber)(x).
2.  If n is NaN, n is +0𝔽, or n is \-0𝔽, return n.
3.  If n > 1𝔽 or n < \-1𝔽, return NaN.
4.  Return an [implementation-approximated](https://262.ecma-international.org/12.0/#implementation-approximated) value representing the result of the inverse sine of [ℝ](https://262.ecma-international.org/12.0/#%E2%84%9D)(n).

## 21.3.2.5 Math.asinh ( x )

Returns the inverse hyperbolic sine of x.

When the `Math.asinh` method is called with argument x, the following steps are taken:

1.  Let n be ? [ToNumber](https://262.ecma-international.org/12.0/#sec-tonumber)(x).
2.  If n is NaN, n is +0𝔽, n is \-0𝔽, n is +∞𝔽, or n is \-∞𝔽, return n.
3.  Return an [implementation-approximated](https://262.ecma-international.org/12.0/#implementation-approximated) value representing the result of the inverse hyperbolic sine of [ℝ](https://262.ecma-international.org/12.0/#%E2%84%9D)(n).

## 21.3.2.6 Math.atan ( x )

Returns the inverse tangent of x. The result is expressed in radians and ranges from [𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(-π / 2) to [𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(π / 2), inclusive.

When the `Math.atan` method is called with argument x, the following steps are taken:

1.  Let n be ? [ToNumber](https://262.ecma-international.org/12.0/#sec-tonumber)(x).
2.  If n is NaN, n is +0𝔽, or n is \-0𝔽, return n.
3.  If n is +∞𝔽, return an [implementation-approximated](https://262.ecma-international.org/12.0/#implementation-approximated) value representing π / 2.
4.  If n is \-∞𝔽, return an [implementation-approximated](https://262.ecma-international.org/12.0/#implementation-approximated) value representing -π / 2.
5.  Return an [implementation-approximated](https://262.ecma-international.org/12.0/#implementation-approximated) value representing the result of the inverse tangent of [ℝ](https://262.ecma-international.org/12.0/#%E2%84%9D)(n).

## 21.3.2.7 Math.atanh ( x )

Returns the inverse hyperbolic tangent of x.

When the `Math.atanh` method is called with argument x, the following steps are taken:

1.  Let n be ? [ToNumber](https://262.ecma-international.org/12.0/#sec-tonumber)(x).
2.  If n is NaN, n is +0𝔽, or n is \-0𝔽, return n.
3.  If n > 1𝔽 or n < \-1𝔽, return NaN.
4.  If n is 1𝔽, return +∞𝔽.
5.  If n is \-1𝔽, return \-∞𝔽.
6.  Return an [implementation-approximated](https://262.ecma-international.org/12.0/#implementation-approximated) value representing the result of the inverse hyperbolic tangent of [ℝ](https://262.ecma-international.org/12.0/#%E2%84%9D)(n).

## 21.3.2.8 Math.atan2 ( y, x )

Returns the inverse tangent of the quotient y / x of the arguments y and x, where the signs of y and x are used to determine the quadrant of the result. Note that it is intentional and traditional for the two-argument inverse tangent function that the argument named y be first and the argument named x be second. The result is expressed in radians and ranges from -π to +π, inclusive.

When the `Math.atan2` method is called with arguments y and x, the following steps are taken:

1.  Let ny be ? [ToNumber](https://262.ecma-international.org/12.0/#sec-tonumber)(y).
2.  Let nx be ? [ToNumber](https://262.ecma-international.org/12.0/#sec-tonumber)(x).
3.  If ny is NaN or nx is NaN, return NaN.
4.  If ny is +∞𝔽, then
    1.  If nx is +∞𝔽, return an [implementation-approximated](https://262.ecma-international.org/12.0/#implementation-approximated) value representing π / 4.
    2.  If nx is \-∞𝔽, return an [implementation-approximated](https://262.ecma-international.org/12.0/#implementation-approximated) value representing 3π / 4.
    3.  Return an [implementation-approximated](https://262.ecma-international.org/12.0/#implementation-approximated) value representing π / 2.
5.  If ny is \-∞𝔽, then
    1.  If nx is +∞𝔽, return an [implementation-approximated](https://262.ecma-international.org/12.0/#implementation-approximated) value representing -π / 4.
    2.  If nx is \-∞𝔽, return an [implementation-approximated](https://262.ecma-international.org/12.0/#implementation-approximated) value representing -3π / 4.
    3.  Return an [implementation-approximated](https://262.ecma-international.org/12.0/#implementation-approximated) value representing -π / 2.
6.  If ny is +0𝔽, then
    1.  If nx > +0𝔽 or nx is +0𝔽, return +0𝔽.
    2.  Return an [implementation-approximated](https://262.ecma-international.org/12.0/#implementation-approximated) value representing π.
7.  If ny is \-0𝔽, then
    1.  If nx > +0𝔽 or nx is +0𝔽, return \-0𝔽.
    2.  Return an [implementation-approximated](https://262.ecma-international.org/12.0/#implementation-approximated) value representing -π.
8.  [Assert](https://262.ecma-international.org/12.0/#assert): ny is finite and is neither +0𝔽 nor \-0𝔽.
9.  If ny > +0𝔽, then
    1.  If nx is +∞𝔽, return +0𝔽.
    2.  If nx is \-∞𝔽, return an [implementation-approximated](https://262.ecma-international.org/12.0/#implementation-approximated) value representing π.
    3.  If nx is +0𝔽 or nx is \-0𝔽, return an [implementation-approximated](https://262.ecma-international.org/12.0/#implementation-approximated) value representing π / 2.
10.  If ny < +0𝔽, then
    1.  If nx is +∞𝔽, return \-0𝔽.
    2.  If nx is \-∞𝔽, return an [implementation-approximated](https://262.ecma-international.org/12.0/#implementation-approximated) value representing -π.
    3.  If nx is +0𝔽 or nx is \-0𝔽, return an [implementation-approximated](https://262.ecma-international.org/12.0/#implementation-approximated) value representing -π / 2.
11.  [Assert](https://262.ecma-international.org/12.0/#assert): nx is finite and is neither +0𝔽 nor \-0𝔽.
12.  Return an [implementation-approximated](https://262.ecma-international.org/12.0/#implementation-approximated) value representing the result of the inverse tangent of the quotient [ℝ](https://262.ecma-international.org/12.0/#%E2%84%9D)(ny) / [ℝ](https://262.ecma-international.org/12.0/#%E2%84%9D)(nx).

## 21.3.2.9 Math.cbrt ( x )

Returns the cube root of x.

When the `Math.cbrt` method is called with argument x, the following steps are taken:

1.  Let n be ? [ToNumber](https://262.ecma-international.org/12.0/#sec-tonumber)(x).
2.  If n is NaN, n is +0𝔽, n is \-0𝔽, n is +∞𝔽, or n is \-∞𝔽, return n.
3.  Return an [implementation-approximated](https://262.ecma-international.org/12.0/#implementation-approximated) value representing the result of the cube root of [ℝ](https://262.ecma-international.org/12.0/#%E2%84%9D)(n).

## 21.3.2.10 Math.ceil ( x )

Returns the smallest (closest to -∞) [integral Number](https://262.ecma-international.org/12.0/#integral-number) value that is not less than x. If x is already an [integral Number](https://262.ecma-international.org/12.0/#integral-number), the result is x.

When the `Math.ceil` method is called with argument x, the following steps are taken:

1.  Let n be ? [ToNumber](https://262.ecma-international.org/12.0/#sec-tonumber)(x).
2.  If n is NaN, n is +0𝔽, n is \-0𝔽, n is +∞𝔽, or n is \-∞𝔽, return n.
3.  If n < +0𝔽 and n > \-1𝔽, return \-0𝔽.
4.  If n is an [integral Number](https://262.ecma-international.org/12.0/#integral-number), return n.
5.  Return the smallest (closest to -∞) [integral Number](https://262.ecma-international.org/12.0/#integral-number) value that is not less than n.

Note

The value of `Math.ceil(x)` is the same as the value of `-Math.floor(-x)`.

## 21.3.2.11 Math.clz32 ( x )

When the `Math.clz32` method is called with argument x, the following steps are taken:

1.  Let n be ? [ToUint32](https://262.ecma-international.org/12.0/#sec-touint32)(x).
2.  Let p be the number of leading zero bits in the unsigned 32-bit binary representation of n.
3.  Return [𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(p).

Note

If n is +0𝔽 or n is \-0𝔽, this method returns 32𝔽. If the most significant bit of the 32-bit binary encoding of n is 1, this method returns +0𝔽.

## 21.3.2.12 Math.cos ( x )

Returns the cosine of x. The argument is expressed in radians.

When the `Math.cos` method is called with argument x, the following steps are taken:

1.  Let n be ? [ToNumber](https://262.ecma-international.org/12.0/#sec-tonumber)(x).
2.  If n is NaN, n is +0𝔽, or n is \-0𝔽, return n.
3.  If n is +∞𝔽 or n is \-∞𝔽, return NaN.
4.  Return an [implementation-approximated](https://262.ecma-international.org/12.0/#implementation-approximated) value representing the result of the cosine of [ℝ](https://262.ecma-international.org/12.0/#%E2%84%9D)(n).

## 21.3.2.13 Math.cosh ( x )

Returns the hyperbolic cosine of x.

When the `Math.cosh` method is called with argument x, the following steps are taken:

1.  Let n be ? [ToNumber](https://262.ecma-international.org/12.0/#sec-tonumber)(x).
2.  If n is NaN, n is +∞𝔽, or n is \-∞𝔽, return n.
3.  If n is +0𝔽 or n is \-0𝔽, return 1𝔽.
4.  Return an [implementation-approximated](https://262.ecma-international.org/12.0/#implementation-approximated) value representing the result of the hyperbolic cosine of [ℝ](https://262.ecma-international.org/12.0/#%E2%84%9D)(n).

Note

The value of `Math.cosh(x)` is the same as the value of `(Math.exp(x) + Math.exp(-x)) / 2`.

## 21.3.2.14 Math.exp ( x )

Returns the exponential function of x (e raised to the power of x, where e is the base of the natural logarithms).

When the `Math.exp` method is called with argument x, the following steps are taken:

1.  Let n be ? [ToNumber](https://262.ecma-international.org/12.0/#sec-tonumber)(x).
2.  If n is NaN or n is +∞𝔽, return n.
3.  If n is +0𝔽 or n is \-0𝔽, return 1𝔽.
4.  If n is \-∞𝔽, return +0𝔽.
5.  Return an [implementation-approximated](https://262.ecma-international.org/12.0/#implementation-approximated) value representing the result of the exponential function of [ℝ](https://262.ecma-international.org/12.0/#%E2%84%9D)(n).

## 21.3.2.15 Math.expm1 ( x )

Returns the result of subtracting 1 from the exponential function of x (e raised to the power of x, where e is the base of the natural logarithms). The result is computed in a way that is accurate even when the value of x is close to 0.

When the `Math.expm1` method is called with argument x, the following steps are taken:

1.  Let n be ? [ToNumber](https://262.ecma-international.org/12.0/#sec-tonumber)(x).
2.  If n is NaN, n is +0𝔽, n is \-0𝔽, or n is +∞𝔽, return n.
3.  If n is \-∞𝔽, return \-1𝔽.
4.  Return an [implementation-approximated](https://262.ecma-international.org/12.0/#implementation-approximated) value representing the result of subtracting 1 from the exponential function of [ℝ](https://262.ecma-international.org/12.0/#%E2%84%9D)(n).

## 21.3.2.16 Math.floor ( x )

Returns the greatest (closest to +∞) [integral Number](https://262.ecma-international.org/12.0/#integral-number) value that is not greater than x. If x is already an [integral Number](https://262.ecma-international.org/12.0/#integral-number), the result is x.

When the `Math.floor` method is called with argument x, the following steps are taken:

1.  Let n be ? [ToNumber](https://262.ecma-international.org/12.0/#sec-tonumber)(x).
2.  If n is NaN, n is +0𝔽, n is \-0𝔽, n is +∞𝔽, or n is \-∞𝔽, return n.
3.  If n < 1𝔽 and n > +0𝔽, return +0𝔽.
4.  If n is an [integral Number](https://262.ecma-international.org/12.0/#integral-number), return n.
5.  Return the greatest (closest to +∞) [integral Number](https://262.ecma-international.org/12.0/#integral-number) value that is not greater than n.

Note

The value of `Math.floor(x)` is the same as the value of `-Math.ceil(-x)`.

## 21.3.2.17 Math.fround ( x )

When the `Math.fround` method is called with argument x, the following steps are taken:

1.  Let n be ? [ToNumber](https://262.ecma-international.org/12.0/#sec-tonumber)(x).
2.  If n is NaN, return NaN.
3.  If n is one of +0𝔽, \-0𝔽, +∞𝔽, or \-∞𝔽, return n.
4.  Let n32 be the result of converting n to a value in [IEEE 754-2019](https://262.ecma-international.org/12.0/#sec-bibliography) binary32 format using roundTiesToEven mode.
5.  Let n64 be the result of converting n32 to a value in [IEEE 754-2019](https://262.ecma-international.org/12.0/#sec-bibliography) binary64 format.
6.  Return the ECMAScript [Number value](https://262.ecma-international.org/12.0/#number-value) corresponding to n64.

## 21.3.2.18 Math.hypot ( ...args )

Returns the square root of the sum of squares of its arguments.

When the `Math.hypot` method is called with zero or more arguments which form the rest parameter ...args, the following steps are taken:

1.  Let coerced be a new empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).
2.  For each element arg of args, do
    1.  Let n be ? [ToNumber](https://262.ecma-international.org/12.0/#sec-tonumber)(arg).
    2.  Append n to coerced.
3.  Let onlyZero be true.
4.  For each element number of coerced, do
    1.  If number is NaN or number is +∞𝔽, return number.
    2.  If number is \-∞𝔽, return +∞𝔽.
    3.  If number is neither +0𝔽 nor \-0𝔽, set onlyZero to false.
5.  If onlyZero is true, return +0𝔽.
6.  Return an [implementation-approximated](https://262.ecma-international.org/12.0/#implementation-approximated) value representing the square root of the sum of squares of the mathematical values of the elements of coerced.

The "length" property of the `hypot` method is 2𝔽.

Note

Implementations should take care to avoid the loss of precision from overflows and underflows that are prone to occur in naive implementations when this function is called with two or more arguments.

## 21.3.2.19 Math.imul ( x, y )

When `Math.imul` is called with arguments x and y, the following steps are taken:

1.  Let a be [ℝ](https://262.ecma-international.org/12.0/#%E2%84%9D)(? [ToUint32](https://262.ecma-international.org/12.0/#sec-touint32)(x)).
2.  Let b be [ℝ](https://262.ecma-international.org/12.0/#%E2%84%9D)(? [ToUint32](https://262.ecma-international.org/12.0/#sec-touint32)(y)).
3.  Let product be (a × b) [modulo](https://262.ecma-international.org/12.0/#eqn-modulo) 232.
4.  If product ≥ 231, return [𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(product - 232); otherwise return [𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(product).

## 21.3.2.20 Math.log ( x )

Returns the natural logarithm of x.

When the `Math.log` method is called with argument x, the following steps are taken:

1.  Let n be ? [ToNumber](https://262.ecma-international.org/12.0/#sec-tonumber)(x).
2.  If n is NaN or n is +∞𝔽, return n.
3.  If n is 1𝔽, return +0𝔽.
4.  If n is +0𝔽 or n is \-0𝔽, return \-∞𝔽.
5.  If n < +0𝔽, return NaN.
6.  Return an [implementation-approximated](https://262.ecma-international.org/12.0/#implementation-approximated) value representing the result of the natural logarithm of [ℝ](https://262.ecma-international.org/12.0/#%E2%84%9D)(n).

## 21.3.2.21 Math.log1p ( x )

Returns the natural logarithm of 1 + x. The result is computed in a way that is accurate even when the value of x is close to zero.

When the `Math.log1p` method is called with argument x, the following steps are taken:

1.  Let n be ? [ToNumber](https://262.ecma-international.org/12.0/#sec-tonumber)(x).
2.  If n is NaN, n is +0𝔽, n is \-0𝔽, or n is +∞𝔽, return n.
3.  If n is \-1𝔽, return \-∞𝔽.
4.  If n < \-1𝔽, return NaN.
5.  Return an [implementation-approximated](https://262.ecma-international.org/12.0/#implementation-approximated) value representing the result of the natural logarithm of 1 + [ℝ](https://262.ecma-international.org/12.0/#%E2%84%9D)(n).

## 21.3.2.22 Math.log10 ( x )

Returns the base 10 logarithm of x.

When the `Math.log10` method is called with argument x, the following steps are taken:

1.  Let n be ? [ToNumber](https://262.ecma-international.org/12.0/#sec-tonumber)(x).
2.  If n is NaN or n is +∞𝔽, return n.
3.  If n is 1𝔽, return +0𝔽.
4.  If n is +0𝔽 or n is \-0𝔽, return \-∞𝔽.
5.  If n < +0𝔽, return NaN.
6.  Return an [implementation-approximated](https://262.ecma-international.org/12.0/#implementation-approximated) value representing the result of the base 10 logarithm of [ℝ](https://262.ecma-international.org/12.0/#%E2%84%9D)(n).

## 21.3.2.23 Math.log2 ( x )

Returns the base 2 logarithm of x.

When the `Math.log2` method is called with argument x, the following steps are taken:

1.  Let n be ? [ToNumber](https://262.ecma-international.org/12.0/#sec-tonumber)(x).
2.  If n is NaN or n is +∞𝔽, return n.
3.  If n is 1𝔽, return +0𝔽.
4.  If n is +0𝔽 or n is \-0𝔽, return \-∞𝔽.
5.  If n < +0𝔽, return NaN.
6.  Return an [implementation-approximated](https://262.ecma-international.org/12.0/#implementation-approximated) value representing the result of the base 2 logarithm of [ℝ](https://262.ecma-international.org/12.0/#%E2%84%9D)(n).

## 21.3.2.24 Math.max ( ...args )

Given zero or more arguments, calls [ToNumber](https://262.ecma-international.org/12.0/#sec-tonumber) on each of the arguments and returns the largest of the resulting values.

When the `Math.max` method is called with zero or more arguments which form the rest parameter ...args, the following steps are taken:

1.  Let coerced be a new empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).
2.  For each element arg of args, do
    1.  Let n be ? [ToNumber](https://262.ecma-international.org/12.0/#sec-tonumber)(arg).
    2.  Append n to coerced.
3.  Let highest be \-∞𝔽.
4.  For each element number of coerced, do
    1.  If number is NaN, return NaN.
    2.  If number is +0𝔽 and highest is \-0𝔽, set highest to +0𝔽.
    3.  If number > highest, set highest to number.
5.  Return highest.

Note

The comparison of values to determine the largest value is done using the [Abstract Relational Comparison](https://262.ecma-international.org/12.0/#sec-abstract-relational-comparison) algorithm except that +0𝔽 is considered to be larger than \-0𝔽.

The "length" property of the `max` method is 2𝔽.

## 21.3.2.25 Math.min ( ...args )

Given zero or more arguments, calls [ToNumber](https://262.ecma-international.org/12.0/#sec-tonumber) on each of the arguments and returns the smallest of the resulting values.

When the `Math.min` method is called with zero or more arguments which form the rest parameter ...args, the following steps are taken:

1.  Let coerced be a new empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).
2.  For each element arg of args, do
    1.  Let n be ? [ToNumber](https://262.ecma-international.org/12.0/#sec-tonumber)(arg).
    2.  Append n to coerced.
3.  Let lowest be +∞𝔽.
4.  For each element number of coerced, do
    1.  If number is NaN, return NaN.
    2.  If number is \-0𝔽 and lowest is +0𝔽, set lowest to \-0𝔽.
    3.  If number < lowest, set lowest to number.
5.  Return lowest.

Note

The comparison of values to determine the largest value is done using the [Abstract Relational Comparison](https://262.ecma-international.org/12.0/#sec-abstract-relational-comparison) algorithm except that +0𝔽 is considered to be larger than \-0𝔽.

The "length" property of the `min` method is 2𝔽.

## 21.3.2.26 Math.pow ( base, exponent )

When the `Math.pow` method is called with arguments base and exponent, the following steps are taken:

1.  Set base to ? [ToNumber](https://262.ecma-international.org/12.0/#sec-tonumber)(base).
2.  Set exponent to ? [ToNumber](https://262.ecma-international.org/12.0/#sec-tonumber)(exponent).
3.  Return ! Number::exponentiate(base, exponent).

## 21.3.2.27 Math.random ( )

Returns a [Number value](https://262.ecma-international.org/12.0/#number-value) with positive sign, greater than or equal to +0𝔽 but strictly less than 1𝔽, chosen randomly or pseudo randomly with approximately uniform distribution over that range, using an [implementation-defined](https://262.ecma-international.org/12.0/#implementation-defined) algorithm or strategy. This function takes no arguments.

Each `Math.random` function created for distinct realms must produce a distinct sequence of values from successive calls.

## 21.3.2.28 Math.round ( x )

Returns the [Number value](https://262.ecma-international.org/12.0/#number-value) that is closest to x and is integral. If two integral Numbers are equally close to x, then the result is the [Number value](https://262.ecma-international.org/12.0/#number-value) that is closer to +∞. If x is already integral, the result is x.

When the `Math.round` method is called with argument x, the following steps are taken:

1.  Let n be ? [ToNumber](https://262.ecma-international.org/12.0/#sec-tonumber)(x).
2.  If n is NaN, +∞𝔽, \-∞𝔽, or an [integral Number](https://262.ecma-international.org/12.0/#integral-number), return n.
3.  If n < 0.5𝔽 and n > +0𝔽, return +0𝔽.
4.  If n < +0𝔽 and n ≥ \-0.5𝔽, return \-0𝔽.
5.  Return the [integral Number](https://262.ecma-international.org/12.0/#integral-number) closest to n, preferring the Number closer to +∞ in the case of a tie.

Note 1

`Math.round(3.5)` returns 4, but `Math.round(-3.5)` returns -3.

Note 2

The value of `Math.round(x)` is not always the same as the value of `Math.floor(x + 0.5)`. When `x` is \-0𝔽 or is less than +0𝔽 but greater than or equal to \-0.5𝔽, `Math.round(x)` returns \-0𝔽, but `Math.floor(x + 0.5)` returns +0𝔽. `Math.round(x)` may also differ from the value of `Math.floor(x + 0.5)`because of internal rounding when computing `x + 0.5`.

## 21.3.2.29 Math.sign ( x )

Returns the sign of x, indicating whether x is positive, negative, or zero.

When the `Math.sign` method is called with argument x, the following steps are taken:

1.  Let n be ? [ToNumber](https://262.ecma-international.org/12.0/#sec-tonumber)(x).
2.  If n is NaN, n is +0𝔽, or n is \-0𝔽, return n.
3.  If n < +0𝔽, return \-1𝔽.
4.  Return 1𝔽.

## 21.3.2.30 Math.sin ( x )

Returns the sine of x. The argument is expressed in radians.

When the `Math.sin` method is called with argument x, the following steps are taken:

1.  Let n be ? [ToNumber](https://262.ecma-international.org/12.0/#sec-tonumber)(x).
2.  If n is NaN, n is +0𝔽, or n is \-0𝔽, return n.
3.  If n is +∞𝔽 or n is \-∞𝔽, return NaN.
4.  Return an [implementation-approximated](https://262.ecma-international.org/12.0/#implementation-approximated) value representing the result of the sine of [ℝ](https://262.ecma-international.org/12.0/#%E2%84%9D)(n).

## 21.3.2.31 Math.sinh ( x )

Returns the hyperbolic sine of x.

When the `Math.sinh` method is called with argument x, the following steps are taken:

1.  Let n be ? [ToNumber](https://262.ecma-international.org/12.0/#sec-tonumber)(x).
2.  If n is NaN, n is +0𝔽, n is \-0𝔽, n is +∞𝔽, or n is \-∞𝔽, return n.
3.  Return an [implementation-approximated](https://262.ecma-international.org/12.0/#implementation-approximated) value representing the result of the hyperbolic sine of [ℝ](https://262.ecma-international.org/12.0/#%E2%84%9D)(n).

Note

The value of `Math.sinh(x)` is the same as the value of `(Math.exp(x) - Math.exp(-x)) / 2`.

## 21.3.2.32 Math.sqrt ( x )

Returns the square root of x.

When the `Math.sqrt` method is called with argument x, the following steps are taken:

1.  Let n be ? [ToNumber](https://262.ecma-international.org/12.0/#sec-tonumber)(x).
2.  If n is NaN, n is +0𝔽, n is \-0𝔽, or n is +∞𝔽, return n.
3.  If n < +0𝔽, return NaN.
4.  Return an [implementation-approximated](https://262.ecma-international.org/12.0/#implementation-approximated) value representing the result of the square root of [ℝ](https://262.ecma-international.org/12.0/#%E2%84%9D)(n).

## 21.3.2.33 Math.tan ( x )

Returns the tangent of x. The argument is expressed in radians.

When the `Math.tan` method is called with argument x, the following steps are taken:

1.  Let n be ? [ToNumber](https://262.ecma-international.org/12.0/#sec-tonumber)(x).
2.  If n is NaN, n is +0𝔽, or n is \-0𝔽, return n.
3.  If n is +∞𝔽, or n is \-∞𝔽, return NaN.
4.  Return an [implementation-approximated](https://262.ecma-international.org/12.0/#implementation-approximated) value representing the result of the tangent of [ℝ](https://262.ecma-international.org/12.0/#%E2%84%9D)(n).

## 21.3.2.34 Math.tanh ( x )

Returns the hyperbolic tangent of x.

When the `Math.tanh` method is called with argument x, the following steps are taken:

1.  Let n be ? [ToNumber](https://262.ecma-international.org/12.0/#sec-tonumber)(x).
2.  If n is NaN, n is +0𝔽, or n is \-0𝔽, return n.
3.  If n is +∞𝔽, return 1𝔽.
4.  If n is \-∞𝔽, return \-1𝔽.
5.  Return an [implementation-approximated](https://262.ecma-international.org/12.0/#implementation-approximated) value representing the result of the hyperbolic tangent of [ℝ](https://262.ecma-international.org/12.0/#%E2%84%9D)(n).

Note

The value of `Math.tanh(x)` is the same as the value of `(Math.exp(x) - Math.exp(-x)) / (Math.exp(x) + Math.exp(-x))`.

## 21.3.2.35 Math.trunc ( x )

Returns the integral part of the number x, removing any fractional digits. If x is already integral, the result is x.

When the `Math.trunc` method is called with argument x, the following steps are taken:

1.  Let n be ? [ToNumber](https://262.ecma-international.org/12.0/#sec-tonumber)(x).
2.  If n is NaN, n is +0𝔽, n is \-0𝔽, n is +∞𝔽, or n is \-∞𝔽, return n.
3.  If n < 1𝔽 and n > +0𝔽, return +0𝔽.
4.  If n < +0𝔽 and n > \-1𝔽, return \-0𝔽.
5.  Return the [integral Number](https://262.ecma-international.org/12.0/#integral-number) nearest n in the direction of +0𝔽.

## 21.4 Date Objects

## 21.4.1 Overview of Date Objects and Definitions of Abstract Operations

The following functions are [abstract operations](https://262.ecma-international.org/12.0/#sec-algorithm-conventions-abstract-operations) that operate on time values (defined in [21.4.1.1](https://262.ecma-international.org/12.0/#sec-time-values-and-time-range)). Note that, in every case, if any argument to one of these functions is NaN, the result will be NaN.

## 21.4.1.1 Time Values and Time Range

Time measurement in ECMAScript is analogous to time measurement in POSIX, in particular sharing definition in terms of the proleptic Gregorian calendar, an epoch of midnight at the beginning of 1 January 1970 UTC, and an accounting of every day as comprising exactly 86,400 seconds (each of which is 1000 milliseconds long).

An ECMAScript time value is a Number, either a finite [integral Number](https://262.ecma-international.org/12.0/#integral-number) representing an instant in time to millisecond precision or NaN representing no specific instant. A time value that is a multiple of 24 × 60 × 60 × 1000 = 86,400,000 (i.e., is equal to 86,400,000 × d for some [integer](https://262.ecma-international.org/12.0/#integer) d) represents the instant at the start of the UTC day that follows the epoch by d whole UTC days (preceding the epoch for negative d). Every other finite time value t is defined relative to the greatest preceding time value s that is such a multiple, and represents the instant that occurs within the same UTC day as s but follows it by t − s milliseconds.

Time values do not account for UTC leap seconds—there are no time values representing instants within positive leap seconds, and there are time values representing instants removed from the UTC timeline by negative leap seconds. However, the definition of time values nonetheless yields piecewise alignment with UTC, with discontinuities only at leap second boundaries and zero difference outside of leap seconds.

A Number can exactly represent all integers from -9,007,199,254,740,992 to 9,007,199,254,740,992 ([21.1.2.8](https://262.ecma-international.org/12.0/#sec-number.min_safe_integer) and [21.1.2.6](https://262.ecma-international.org/12.0/#sec-number.max_safe_integer)). A time value supports a slightly smaller range of -8,640,000,000,000,000 to 8,640,000,000,000,000 milliseconds. This yields a supported time value range of exactly -100,000,000 days to 100,000,000 days relative to midnight at the beginning of 1 January 1970 UTC.

The exact moment of midnight at the beginning of 1 January 1970 UTC is represented by the time value +0𝔽.

Note

The 400 year cycle of the proleptic Gregorian calendar contains 97 leap years. This yields an average of 365.2425 days per year, which is 31,556,952,000 milliseconds. Therefore, the maximum range a Number could represent exactly with millisecond precision is approximately -285,426 to 285,426 years relative to 1970. The smaller range supported by a time value as specified in this section is approximately -273,790 to 273,790 years relative to 1970.

## 21.4.1.2 Day Number and Time within Day

A given [time value](https://262.ecma-international.org/12.0/#sec-time-values-and-time-range) t belongs to day number

Day(t) =

[𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)

(

[floor](https://262.ecma-international.org/12.0/#eqn-floor)

(

[ℝ](https://262.ecma-international.org/12.0/#%E2%84%9D)

(t /

[msPerDay](https://262.ecma-international.org/12.0/#eqn-msPerDay)

)))

where the number of milliseconds per day is

The remainder is called the time within the day:

TimeWithinDay(t) =

[𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)

(

[ℝ](https://262.ecma-international.org/12.0/#%E2%84%9D)

(t)

[modulo](https://262.ecma-international.org/12.0/#eqn-modulo) [ℝ](https://262.ecma-international.org/12.0/#%E2%84%9D)

(

[msPerDay](https://262.ecma-international.org/12.0/#eqn-msPerDay)

))

## 21.4.1.3 Year Number

ECMAScript uses a proleptic Gregorian calendar to map a day number to a year number and to determine the month and date within that year. In this calendar, leap years are precisely those which are (divisible by 4) and ((not divisible by 100) or (divisible by 400)). The number of days in year number y is therefore defined by

DaysInYear(y)

\=

365

𝔽 if (

[ℝ](https://262.ecma-international.org/12.0/#%E2%84%9D)

(y)

[modulo](https://262.ecma-international.org/12.0/#eqn-modulo)

4) ≠ 0

\=

366

𝔽 if (

[ℝ](https://262.ecma-international.org/12.0/#%E2%84%9D)

(y)

[modulo](https://262.ecma-international.org/12.0/#eqn-modulo)

4) = 0 and (

[ℝ](https://262.ecma-international.org/12.0/#%E2%84%9D)

(y)

[modulo](https://262.ecma-international.org/12.0/#eqn-modulo)

100) ≠ 0

\=

365

𝔽 if (

[ℝ](https://262.ecma-international.org/12.0/#%E2%84%9D)

(y)

[modulo](https://262.ecma-international.org/12.0/#eqn-modulo)

100) = 0 and (

[ℝ](https://262.ecma-international.org/12.0/#%E2%84%9D)

(y)

[modulo](https://262.ecma-international.org/12.0/#eqn-modulo)

400) ≠ 0

\=

366

𝔽 if (

[ℝ](https://262.ecma-international.org/12.0/#%E2%84%9D)

(y)

[modulo](https://262.ecma-international.org/12.0/#eqn-modulo)

400) = 0

All non-leap years have 365 days with the usual number of days per month and leap years have an extra day in February. The day number of the first day of year y is given by:

DayFromYear(y) =

[𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)

(365 × (

[ℝ](https://262.ecma-international.org/12.0/#%E2%84%9D)

(y) - 1970) +

[floor](https://262.ecma-international.org/12.0/#eqn-floor)

((

[ℝ](https://262.ecma-international.org/12.0/#%E2%84%9D)

(y) - 1969) / 4) -

[floor](https://262.ecma-international.org/12.0/#eqn-floor)

((

[ℝ](https://262.ecma-international.org/12.0/#%E2%84%9D)

(y) - 1901) / 100) +

[floor](https://262.ecma-international.org/12.0/#eqn-floor)

((

[ℝ](https://262.ecma-international.org/12.0/#%E2%84%9D)

(y) - 1601) / 400))

The [time value](https://262.ecma-international.org/12.0/#sec-time-values-and-time-range) of the start of a year is:

TimeFromYear(y) =

[msPerDay](https://262.ecma-international.org/12.0/#eqn-msPerDay)

×

[DayFromYear](https://262.ecma-international.org/12.0/#eqn-DaysFromYear)

(y)

A [time value](https://262.ecma-international.org/12.0/#sec-time-values-and-time-range) determines a year by:

YearFromTime(t) = the largest

[integral Number](https://262.ecma-international.org/12.0/#integral-number)

y (closest to +∞) such that

[TimeFromYear](https://262.ecma-international.org/12.0/#eqn-TimeFromYear)

(y) ≤ t

The leap-year function is 1𝔽 for a time within a leap year and otherwise is +0𝔽:

InLeapYear(t)

\=

+0

𝔽 if

[DaysInYear](https://262.ecma-international.org/12.0/#eqn-DaysInYear)

(

[YearFromTime](https://262.ecma-international.org/12.0/#eqn-YearFromTime)

(t)) =

365

𝔽

\=

1

𝔽 if

[DaysInYear](https://262.ecma-international.org/12.0/#eqn-DaysInYear)

(

[YearFromTime](https://262.ecma-international.org/12.0/#eqn-YearFromTime)

(t)) =

366

𝔽

## 21.4.1.4 Month Number

Months are identified by an [integral Number](https://262.ecma-international.org/12.0/#integral-number) in the range +0𝔽 to 11𝔽, inclusive. The mapping [MonthFromTime](https://262.ecma-international.org/12.0/#eqn-MonthFromTime)(t) from a [time value](https://262.ecma-international.org/12.0/#sec-time-values-and-time-range) t to a month number is defined by:

MonthFromTime(t)

\=

+0

𝔽 if

+0

𝔽 ≤

[DayWithinYear](https://262.ecma-international.org/12.0/#eqn-DayWithinYear)

(t) <

31

𝔽

\=

1

𝔽 if

31

𝔽 ≤

[DayWithinYear](https://262.ecma-international.org/12.0/#eqn-DayWithinYear)

(t) <

59

𝔽 +

[InLeapYear](https://262.ecma-international.org/12.0/#eqn-InLeapYear)

(t)

\=

2

𝔽 if

59

𝔽 +

[InLeapYear](https://262.ecma-international.org/12.0/#eqn-InLeapYear)

(t) ≤

[DayWithinYear](https://262.ecma-international.org/12.0/#eqn-DayWithinYear)

(t) <

90

𝔽 +

[InLeapYear](https://262.ecma-international.org/12.0/#eqn-InLeapYear)

(t)

\=

3

𝔽 if

90

𝔽 +

[InLeapYear](https://262.ecma-international.org/12.0/#eqn-InLeapYear)

(t) ≤

[DayWithinYear](https://262.ecma-international.org/12.0/#eqn-DayWithinYear)

(t) <

120

𝔽 +

[InLeapYear](https://262.ecma-international.org/12.0/#eqn-InLeapYear)

(t)

\=

4

𝔽 if

120

𝔽 +

[InLeapYear](https://262.ecma-international.org/12.0/#eqn-InLeapYear)

(t) ≤

[DayWithinYear](https://262.ecma-international.org/12.0/#eqn-DayWithinYear)

(t) <

151

𝔽 +

[InLeapYear](https://262.ecma-international.org/12.0/#eqn-InLeapYear)

(t)

\=

5

𝔽 if

151

𝔽 +

[InLeapYear](https://262.ecma-international.org/12.0/#eqn-InLeapYear)

(t) ≤

[DayWithinYear](https://262.ecma-international.org/12.0/#eqn-DayWithinYear)

(t) <

181

𝔽 +

[InLeapYear](https://262.ecma-international.org/12.0/#eqn-InLeapYear)

(t)

\=

6

𝔽 if

181

𝔽 +

[InLeapYear](https://262.ecma-international.org/12.0/#eqn-InLeapYear)

(t) ≤

[DayWithinYear](https://262.ecma-international.org/12.0/#eqn-DayWithinYear)

(t) <

212

𝔽 +

[InLeapYear](https://262.ecma-international.org/12.0/#eqn-InLeapYear)

(t)

\=

7

𝔽 if

212

𝔽 +

[InLeapYear](https://262.ecma-international.org/12.0/#eqn-InLeapYear)

(t) ≤

[DayWithinYear](https://262.ecma-international.org/12.0/#eqn-DayWithinYear)

(t) <

243

𝔽 +

[InLeapYear](https://262.ecma-international.org/12.0/#eqn-InLeapYear)

(t)

\=

8

𝔽 if

243

𝔽 +

[InLeapYear](https://262.ecma-international.org/12.0/#eqn-InLeapYear)

(t) ≤

[DayWithinYear](https://262.ecma-international.org/12.0/#eqn-DayWithinYear)

(t) <

273

𝔽 +

[InLeapYear](https://262.ecma-international.org/12.0/#eqn-InLeapYear)

(t)

\=

9

𝔽 if

273

𝔽 +

[InLeapYear](https://262.ecma-international.org/12.0/#eqn-InLeapYear)

(t) ≤

[DayWithinYear](https://262.ecma-international.org/12.0/#eqn-DayWithinYear)

(t) <

304

𝔽 +

[InLeapYear](https://262.ecma-international.org/12.0/#eqn-InLeapYear)

(t)

\=

10

𝔽 if

304

𝔽 +

[InLeapYear](https://262.ecma-international.org/12.0/#eqn-InLeapYear)

(t) ≤

[DayWithinYear](https://262.ecma-international.org/12.0/#eqn-DayWithinYear)

(t) <

334

𝔽 +

[InLeapYear](https://262.ecma-international.org/12.0/#eqn-InLeapYear)

(t)

\=

11

𝔽 if

334

𝔽 +

[InLeapYear](https://262.ecma-international.org/12.0/#eqn-InLeapYear)

(t) ≤

[DayWithinYear](https://262.ecma-international.org/12.0/#eqn-DayWithinYear)

(t) <

365

𝔽 +

[InLeapYear](https://262.ecma-international.org/12.0/#eqn-InLeapYear)

(t)

where

DayWithinYear(t) =

[Day](https://262.ecma-international.org/12.0/#eqn-Day)

(t) -

[DayFromYear](https://262.ecma-international.org/12.0/#eqn-DaysFromYear)

(

[YearFromTime](https://262.ecma-international.org/12.0/#eqn-YearFromTime)

(t))

A month value of +0𝔽 specifies January; 1𝔽 specifies February; 2𝔽 specifies March; 3𝔽 specifies April; 4𝔽 specifies May; 5𝔽 specifies June; 6𝔽 specifies July; 7𝔽 specifies August; 8𝔽 specifies September; 9𝔽 specifies October; 10𝔽 specifies November; and 11𝔽 specifies December. Note that [MonthFromTime](https://262.ecma-international.org/12.0/#eqn-MonthFromTime)(+0𝔽) = +0𝔽, corresponding to Thursday, 1 January 1970.

## 21.4.1.5 Date Number

A date number is identified by an [integral Number](https://262.ecma-international.org/12.0/#integral-number) in the range 1𝔽 through 31𝔽, inclusive. The mapping DateFromTime(t) from a [time value](https://262.ecma-international.org/12.0/#sec-time-values-and-time-range) t to a date number is defined by:

DateFromTime(t)

\=

[DayWithinYear](https://262.ecma-international.org/12.0/#eqn-DayWithinYear)

(t) +

1

𝔽 if

[MonthFromTime](https://262.ecma-international.org/12.0/#eqn-MonthFromTime)

(t) =

+0

𝔽

\=

[DayWithinYear](https://262.ecma-international.org/12.0/#eqn-DayWithinYear)

(t) -

30

𝔽 if

[MonthFromTime](https://262.ecma-international.org/12.0/#eqn-MonthFromTime)

(t) =

1

𝔽

\=

[DayWithinYear](https://262.ecma-international.org/12.0/#eqn-DayWithinYear)

(t) -

58

𝔽 -

[InLeapYear](https://262.ecma-international.org/12.0/#eqn-InLeapYear)

(t) if

[MonthFromTime](https://262.ecma-international.org/12.0/#eqn-MonthFromTime)

(t) =

2

𝔽

\=

[DayWithinYear](https://262.ecma-international.org/12.0/#eqn-DayWithinYear)

(t) -

89

𝔽 -

[InLeapYear](https://262.ecma-international.org/12.0/#eqn-InLeapYear)

(t) if

[MonthFromTime](https://262.ecma-international.org/12.0/#eqn-MonthFromTime)

(t) =

3

𝔽

\=

[DayWithinYear](https://262.ecma-international.org/12.0/#eqn-DayWithinYear)

(t) -

119

𝔽 -

[InLeapYear](https://262.ecma-international.org/12.0/#eqn-InLeapYear)

(t) if

[MonthFromTime](https://262.ecma-international.org/12.0/#eqn-MonthFromTime)

(t) =

4

𝔽

\=

[DayWithinYear](https://262.ecma-international.org/12.0/#eqn-DayWithinYear)

(t) -

150

𝔽 -

[InLeapYear](https://262.ecma-international.org/12.0/#eqn-InLeapYear)

(t) if

[MonthFromTime](https://262.ecma-international.org/12.0/#eqn-MonthFromTime)

(t) =

5

𝔽

\=

[DayWithinYear](https://262.ecma-international.org/12.0/#eqn-DayWithinYear)

(t) -

180

𝔽 -

[InLeapYear](https://262.ecma-international.org/12.0/#eqn-InLeapYear)

(t) if

[MonthFromTime](https://262.ecma-international.org/12.0/#eqn-MonthFromTime)

(t) =

6

𝔽

\=

[DayWithinYear](https://262.ecma-international.org/12.0/#eqn-DayWithinYear)

(t) -

211

𝔽 -

[InLeapYear](https://262.ecma-international.org/12.0/#eqn-InLeapYear)

(t) if

[MonthFromTime](https://262.ecma-international.org/12.0/#eqn-MonthFromTime)

(t) =

7

𝔽

\=

[DayWithinYear](https://262.ecma-international.org/12.0/#eqn-DayWithinYear)

(t) -

242

𝔽 -

[InLeapYear](https://262.ecma-international.org/12.0/#eqn-InLeapYear)

(t) if

[MonthFromTime](https://262.ecma-international.org/12.0/#eqn-MonthFromTime)

(t) =

8

𝔽

\=

[DayWithinYear](https://262.ecma-international.org/12.0/#eqn-DayWithinYear)

(t) -

272

𝔽 -

[InLeapYear](https://262.ecma-international.org/12.0/#eqn-InLeapYear)

(t) if

[MonthFromTime](https://262.ecma-international.org/12.0/#eqn-MonthFromTime)

(t) =

9

𝔽

\=

[DayWithinYear](https://262.ecma-international.org/12.0/#eqn-DayWithinYear)

(t) -

303

𝔽 -

[InLeapYear](https://262.ecma-international.org/12.0/#eqn-InLeapYear)

(t) if

[MonthFromTime](https://262.ecma-international.org/12.0/#eqn-MonthFromTime)

(t) =

10

𝔽

\=

[DayWithinYear](https://262.ecma-international.org/12.0/#eqn-DayWithinYear)

(t) -

333

𝔽 -

[InLeapYear](https://262.ecma-international.org/12.0/#eqn-InLeapYear)

(t) if

[MonthFromTime](https://262.ecma-international.org/12.0/#eqn-MonthFromTime)

(t) =

11

𝔽

## 21.4.1.6 Week Day

The weekday for a particular [time value](https://262.ecma-international.org/12.0/#sec-time-values-and-time-range) t is defined as

WeekDay(t) =

[𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)

(

[ℝ](https://262.ecma-international.org/12.0/#%E2%84%9D)

(

[Day](https://262.ecma-international.org/12.0/#eqn-Day)

(t) +

4

𝔽)

[modulo](https://262.ecma-international.org/12.0/#eqn-modulo)

7)

A weekday value of +0𝔽 specifies Sunday; 1𝔽 specifies Monday; 2𝔽 specifies Tuesday; 3𝔽 specifies Wednesday; 4𝔽 specifies Thursday; 5𝔽 specifies Friday; and 6𝔽 specifies Saturday. Note that WeekDay(+0𝔽) = 4𝔽, corresponding to Thursday, 1 January 1970.

## 21.4.1.7 LocalTZA ( t, isUTC )

LocalTZA( t, isUTC ) is an [implementation-defined](https://262.ecma-international.org/12.0/#implementation-defined) algorithm that returns an [integral Number](https://262.ecma-international.org/12.0/#integral-number) representing the local time zone adjustment, or offset, in milliseconds. The local political rules for standard time and daylight saving time in effect at t should be used to determine the result in the way specified in this section.

When isUTC is true, LocalTZA( tUTC, true ) should return the offset of the local time zone from UTC measured in milliseconds at time represented by [time value](https://262.ecma-international.org/12.0/#sec-time-values-and-time-range) tUTC. When the result is added to tUTC, it should yield the corresponding Number tlocal.

When isUTC is false, LocalTZA( tlocal, false ) should return the offset of the local time zone from UTC measured in milliseconds at local time represented by Number tlocal. When the result is subtracted from tlocal, it should yield the corresponding [time value](https://262.ecma-international.org/12.0/#sec-time-values-and-time-range) tUTC.

Input t is nominally a [time value](https://262.ecma-international.org/12.0/#sec-time-values-and-time-range) but may be any [Number value](https://262.ecma-international.org/12.0/#number-value). This can occur when isUTC is false and tlocal represents a [time value](https://262.ecma-international.org/12.0/#sec-time-values-and-time-range) that is already offset outside of the [time value](https://262.ecma-international.org/12.0/#sec-time-values-and-time-range) range at the range boundaries. The algorithm must not limit tlocal to the [time value](https://262.ecma-international.org/12.0/#sec-time-values-and-time-range) range, so that such inputs are supported.

When tlocal represents local time repeating multiple times at a negative time zone transition (e.g. when the daylight saving time ends or the time zone offset is decreased due to a time zone rule change) or skipped local time at a positive time zone transitions (e.g. when the daylight saving time starts or the time zone offset is increased due to a time zone rule change), tlocal must be interpreted using the time zone offset before the transition.

If an implementation does not support a conversion described above or if political rules for time t are not available within the implementation, the result must be +0𝔽.

Note

It is recommended that implementations use the time zone information of the IANA Time Zone Database [https://www.iana.org/time-zones/](https://www.iana.org/time-zones/).

1:30 AM on 5 November 2017 in America/New\_York is repeated twice (fall backward), but it must be interpreted as 1:30 AM UTC-04 instead of 1:30 AM UTC-05. LocalTZA([TimeClip](https://262.ecma-international.org/12.0/#sec-timeclip)([MakeDate](https://262.ecma-international.org/12.0/#sec-makedate)([MakeDay](https://262.ecma-international.org/12.0/#sec-makeday)(2017, 10, 5), [MakeTime](https://262.ecma-international.org/12.0/#sec-maketime)(1, 30, 0, 0))), false) is \-4 × [msPerHour](https://262.ecma-international.org/12.0/#eqn-msPerHour).

2:30 AM on 12 March 2017 in America/New\_York does not exist, but it must be interpreted as 2:30 AM UTC-05 (equivalent to 3:30 AM UTC-04). LocalTZA([TimeClip](https://262.ecma-international.org/12.0/#sec-timeclip)([MakeDate](https://262.ecma-international.org/12.0/#sec-makedate)([MakeDay](https://262.ecma-international.org/12.0/#sec-makeday)(2017, 2, 12), [MakeTime](https://262.ecma-international.org/12.0/#sec-maketime)(2, 30, 0, 0))), false) is \-5 × [msPerHour](https://262.ecma-international.org/12.0/#eqn-msPerHour).

Local time zone offset values may be positive _or_ negative.

## 21.4.1.8 LocalTime ( t )

The abstract operation LocalTime takes argument t. It converts t from UTC to local time. It performs the following steps when called:

1.  Return t + [LocalTZA](https://262.ecma-international.org/12.0/#sec-local-time-zone-adjustment)(t, true).

Note

Two different input time values tUTC are converted to the same local time tlocal at a negative time zone transition when there are repeated times (e.g. the daylight saving time ends or the time zone adjustment is decreased.).

LocalTime([UTC](https://262.ecma-international.org/12.0/#sec-utc-t)(tlocal)) is not necessarily always equal to tlocal. Correspondingly, [UTC](https://262.ecma-international.org/12.0/#sec-utc-t)(LocalTime(tUTC)) is not necessarily always equal to tUTC.

## 21.4.1.9 UTC ( t )

The abstract operation UTC takes argument t. It converts t from local time to UTC. It performs the following steps when called:

1.  Return t - [LocalTZA](https://262.ecma-international.org/12.0/#sec-local-time-zone-adjustment)(t, false).

Note

UTC([LocalTime](https://262.ecma-international.org/12.0/#sec-localtime)(tUTC)) is not necessarily always equal to tUTC. Correspondingly, [LocalTime](https://262.ecma-international.org/12.0/#sec-localtime)(UTC(tlocal)) is not necessarily always equal to tlocal.

## 21.4.1.10 Hours, Minutes, Second, and Milliseconds

The following [abstract operations](https://262.ecma-international.org/12.0/#sec-algorithm-conventions-abstract-operations) are useful in decomposing time values:

HourFromTime(t) =

[𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)

(

[floor](https://262.ecma-international.org/12.0/#eqn-floor)

(

[ℝ](https://262.ecma-international.org/12.0/#%E2%84%9D)

(t /

[msPerHour](https://262.ecma-international.org/12.0/#eqn-msPerHour)

))

[modulo](https://262.ecma-international.org/12.0/#eqn-modulo) [HoursPerDay](https://262.ecma-international.org/12.0/#eqn-HoursPerDay)

)

MinFromTime(t) =

[𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)

(

[floor](https://262.ecma-international.org/12.0/#eqn-floor)

(

[ℝ](https://262.ecma-international.org/12.0/#%E2%84%9D)

(t /

[msPerMinute](https://262.ecma-international.org/12.0/#eqn-msPerMinute)

))

[modulo](https://262.ecma-international.org/12.0/#eqn-modulo) [MinutesPerHour](https://262.ecma-international.org/12.0/#eqn-MinutesPerHour)

)

SecFromTime(t) =

[𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)

(

[floor](https://262.ecma-international.org/12.0/#eqn-floor)

(

[ℝ](https://262.ecma-international.org/12.0/#%E2%84%9D)

(t /

[msPerSecond](https://262.ecma-international.org/12.0/#eqn-msPerSecond)

))

[modulo](https://262.ecma-international.org/12.0/#eqn-modulo) [SecondsPerMinute](https://262.ecma-international.org/12.0/#eqn-SecondsPerMinute)

)

msFromTime(t) =

[𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)

(

[ℝ](https://262.ecma-international.org/12.0/#%E2%84%9D)

(t)

[modulo](https://262.ecma-international.org/12.0/#eqn-modulo) [msPerSecond](https://262.ecma-international.org/12.0/#eqn-msPerSecond)

)

where

HoursPerDay = 24

MinutesPerHour = 60

SecondsPerMinute = 60

msPerMinute =

60000

𝔽 =

[msPerSecond](https://262.ecma-international.org/12.0/#eqn-msPerSecond)

×

[𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)

(

[SecondsPerMinute](https://262.ecma-international.org/12.0/#eqn-SecondsPerMinute)

)

msPerHour =

3600000

𝔽 =

[msPerMinute](https://262.ecma-international.org/12.0/#eqn-msPerMinute)

×

[𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)

(

[MinutesPerHour](https://262.ecma-international.org/12.0/#eqn-MinutesPerHour)

)

## 21.4.1.11 MakeTime ( hour, min, sec, ms )

The abstract operation MakeTime takes arguments hour (a Number), min (a Number), sec (a Number), and ms (a Number). It calculates a number of milliseconds. It performs the following steps when called:

1.  If hour is not finite or min is not finite or sec is not finite or ms is not finite, return NaN.
2.  Let h be [𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(! [ToIntegerOrInfinity](https://262.ecma-international.org/12.0/#sec-tointegerorinfinity)(hour)).
3.  Let m be [𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(! [ToIntegerOrInfinity](https://262.ecma-international.org/12.0/#sec-tointegerorinfinity)(min)).
4.  Let s be [𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(! [ToIntegerOrInfinity](https://262.ecma-international.org/12.0/#sec-tointegerorinfinity)(sec)).
5.  Let milli be [𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(! [ToIntegerOrInfinity](https://262.ecma-international.org/12.0/#sec-tointegerorinfinity)(ms)).
6.  Let t be ((h `*` [msPerHour](https://262.ecma-international.org/12.0/#eqn-msPerHour) `+` m `*` [msPerMinute](https://262.ecma-international.org/12.0/#eqn-msPerMinute)) `+` s `*` [msPerSecond](https://262.ecma-international.org/12.0/#eqn-msPerSecond)) `+` milli, performing the arithmetic according to [IEEE 754-2019](https://262.ecma-international.org/12.0/#sec-bibliography) rules (that is, as if using the ECMAScript operators `*` and `+`).
7.  Return t.

## 21.4.1.12 MakeDay ( year, month, date )

The abstract operation MakeDay takes arguments year (a Number), month (a Number), and date (a Number). It calculates a number of days. It performs the following steps when called:

1.  If year is not finite or month is not finite or date is not finite, return NaN.
2.  Let y be [𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(! [ToIntegerOrInfinity](https://262.ecma-international.org/12.0/#sec-tointegerorinfinity)(year)).
3.  Let m be [𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(! [ToIntegerOrInfinity](https://262.ecma-international.org/12.0/#sec-tointegerorinfinity)(month)).
4.  Let dt be [𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(! [ToIntegerOrInfinity](https://262.ecma-international.org/12.0/#sec-tointegerorinfinity)(date)).
5.  Let ym be y + [𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)([floor](https://262.ecma-international.org/12.0/#eqn-floor)([ℝ](https://262.ecma-international.org/12.0/#%E2%84%9D)(m) / 12)).
6.  If ym is not finite, return NaN.
7.  Let mn be [𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)([ℝ](https://262.ecma-international.org/12.0/#%E2%84%9D)(m) [modulo](https://262.ecma-international.org/12.0/#eqn-modulo) 12).
8.  Find a finite [time value](https://262.ecma-international.org/12.0/#sec-time-values-and-time-range) t such that [YearFromTime](https://262.ecma-international.org/12.0/#eqn-YearFromTime)(t) is ym and [MonthFromTime](https://262.ecma-international.org/12.0/#eqn-MonthFromTime)(t) is mn and [DateFromTime](https://262.ecma-international.org/12.0/#sec-date-number)(t) is 1𝔽; but if this is not possible (because some argument is out of range), return NaN.
9.  Return [Day](https://262.ecma-international.org/12.0/#eqn-Day)(t) + dt - 1𝔽.

## 21.4.1.13 MakeDate ( day, time )

The abstract operation MakeDate takes arguments day (a Number) and time (a Number). It calculates a number of milliseconds. It performs the following steps when called:

1.  If day is not finite or time is not finite, return NaN.
2.  Let tv be day × [msPerDay](https://262.ecma-international.org/12.0/#eqn-msPerDay) + time.
3.  If tv is not finite, return NaN.
4.  Return tv.

## 21.4.1.14 TimeClip ( time )

The abstract operation TimeClip takes argument time (a Number). It calculates a number of milliseconds. It performs the following steps when called:

1.  If time is not finite, return NaN.
2.  If [abs](https://262.ecma-international.org/12.0/#eqn-abs)([ℝ](https://262.ecma-international.org/12.0/#%E2%84%9D)(time)) > 8.64 × 1015, return NaN.
3.  Return [𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(! [ToIntegerOrInfinity](https://262.ecma-international.org/12.0/#sec-tointegerorinfinity)(time)).

## 21.4.1.15 Date Time String Format

ECMAScript defines a string interchange format for date-times based upon a simplification of the ISO 8601 calendar date extended format. The format is as follows: `YYYY-MM-DDTHH:mm:ss.sssZ`

Where the elements are as follows:

<table><tbody><tr><td><code>YYYY</code></td><td>is the year in the proleptic Gregorian calendar as four decimal digits from 0000 to 9999, or as an <emu-xref href="#sec-expanded-years" id="_ref_641"><a href="https://262.ecma-international.org/12.0/#sec-expanded-years">expanded year</a></emu-xref> of <emu-val>"+"</emu-val> or <emu-val>"-"</emu-val> followed by six decimal digits.</td></tr><tr><td><code>-</code></td><td><emu-val>"-"</emu-val> (hyphen) appears literally twice in the string.</td></tr><tr><td><code>MM</code></td><td>is the month of the year as two decimal digits from 01 (January) to 12 (December).</td></tr><tr><td><code>DD</code></td><td>is the day of the month as two decimal digits from 01 to 31.</td></tr><tr><td><code>T</code></td><td><emu-val>"T"</emu-val> appears literally in the string, to indicate the beginning of the time element.</td></tr><tr><td><code>HH</code></td><td>is the number of complete hours that have passed since midnight as two decimal digits from 00 to 24.</td></tr><tr><td><code>:</code></td><td><emu-val>":"</emu-val> (colon) appears literally twice in the string.</td></tr><tr><td><code>mm</code></td><td>is the number of complete minutes since the start of the hour as two decimal digits from 00 to 59.</td></tr><tr><td><code>ss</code></td><td>is the number of complete seconds since the start of the minute as two decimal digits from 00 to 59.</td></tr><tr><td><code>.</code></td><td><emu-val>"."</emu-val> (dot) appears literally in the string.</td></tr><tr><td><code>sss</code></td><td>is the number of complete milliseconds since the start of the second as three decimal digits.</td></tr><tr><td><code>Z</code></td><td>is the UTC offset representation specified as <emu-val>"Z"</emu-val> (for UTC with no offset) or an offset of either <emu-val>"+"</emu-val> or <emu-val>"-"</emu-val> followed by a time expression <code>HH:mm</code> (indicating local time ahead of or behind UTC, respectively)</td></tr></tbody></table>

This format includes date-only forms:

```
YYYY
YYYY-MM
YYYY-MM-DD
        
```

It also includes “date-time” forms that consist of one of the above date-only forms immediately followed by one of the following time forms with an optional UTC offset representation appended:

```
THH:mm
THH:mm:ss
THH:mm:ss.sss
        
```

A string containing out-of-bounds or nonconforming elements is not a valid instance of this format.

Note 1

As every day both starts and ends with midnight, the two notations `00:00` and `24:00` are available to distinguish the two midnights that can be associated with one date. This means that the following two notations refer to exactly the same point in time: `1995-02-04T24:00` and `1995-02-05T00:00`. This interpretation of the latter form as "end of a calendar day" is consistent with ISO 8601, even though that specification reserves it for describing time intervals and does not permit it within representations of single points in time.

Note 2

There exists no international standard that specifies abbreviations for civil time zones like CET, EST, etc. and sometimes the same abbreviation is even used for two very different time zones. For this reason, both ISO 8601 and this format specify numeric representations of time zone offsets.

## 21.4.1.15.1 Expanded Years

[Covering](https://262.ecma-international.org/12.0/#sec-syntactic-grammar) the full [time value](https://262.ecma-international.org/12.0/#sec-time-values-and-time-range) range of approximately 273,790 years forward or backward from 1 January 1970 ([21.4.1.1](https://262.ecma-international.org/12.0/#sec-time-values-and-time-range)) requires representing years before 0 or after 9999. ISO 8601 permits expansion of the year representation, but only by mutual agreement of the partners in information interchange. In the simplified ECMAScript format, such an expanded year representation shall have 6 digits and is always prefixed with a + or - sign. The year 0 is considered positive and hence prefixed with a + sign. Strings matching the [Date Time String Format](https://262.ecma-international.org/12.0/#sec-date-time-string-format) with expanded years representing instants in time outside the range of a [time value](https://262.ecma-international.org/12.0/#sec-time-values-and-time-range) are treated as unrecognizable by [`Date.parse`](https://262.ecma-international.org/12.0/#sec-date.parse) and cause that function to return NaN without falling back to implementation-specific behaviour or heuristics.

Note

Examples of date-time values with expanded years:

<table><tbody><tr><td>-271821-04-20T00:00:00Z</td><td>271822 B.C.</td></tr><tr><td>-000001-01-01T00:00:00Z</td><td>2 B.C.</td></tr><tr><td>+000000-01-01T00:00:00Z</td><td>1 B.C.</td></tr><tr><td>+000001-01-01T00:00:00Z</td><td>1 A.D.</td></tr><tr><td>+001970-01-01T00:00:00Z</td><td>1970 A.D.</td></tr><tr><td>+002009-12-15T00:00:00Z</td><td>2009 A.D.</td></tr><tr><td>+275760-09-13T00:00:00Z</td><td>275760 A.D.</td></tr></tbody></table>

## 21.4.2 The Date Constructor

The Date [constructor](https://262.ecma-international.org/12.0/#constructor):

-   is %Date%.
-   is the initial value of the "Date" property of the [global object](https://262.ecma-international.org/12.0/#sec-global-object).
-   creates and initializes a new Date object when called as a [constructor](https://262.ecma-international.org/12.0/#constructor).
-   returns a String representing the current time (UTC) when called as a function rather than as a [constructor](https://262.ecma-international.org/12.0/#constructor).
-   is a function whose behaviour differs based upon the number and types of its arguments.
-   is designed to be subclassable. It may be used as the value of an `extends` clause of a class definition. Subclass constructors that intend to inherit the specified Date behaviour must include a `super` call to the Date [constructor](https://262.ecma-international.org/12.0/#constructor) to create and initialize the subclass instance with a \[\[DateValue\]\] internal slot.
-   has a "length" property whose value is 7𝔽.

## 21.4.2.1 Date ( ...values )

When the `Date` function is called, the following steps are taken:

1.  If NewTarget is undefined, then
    1.  Let now be the [time value](https://262.ecma-international.org/12.0/#sec-time-values-and-time-range) (UTC) identifying the current time.
    2.  Return [ToDateString](https://262.ecma-international.org/12.0/#sec-todatestring)(now).
2.  Let numberOfArgs be the number of elements in values.
3.  If numberOfArgs = 0, then
    1.  Let dv be the [time value](https://262.ecma-international.org/12.0/#sec-time-values-and-time-range) (UTC) identifying the current time.
4.  Else if numberOfArgs = 1, then
    1.  Let value be values\[0\].
    2.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(value) is Object and value has a \[\[DateValue\]\] internal slot, then
        1.  Let tv be ! [thisTimeValue](https://262.ecma-international.org/12.0/#thistimevalue)(value).
    3.  Else,
        1.  Let v be ? [ToPrimitive](https://262.ecma-international.org/12.0/#sec-toprimitive)(value).
        2.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(v) is String, then
            1.  [Assert](https://262.ecma-international.org/12.0/#assert): The next step never returns an [abrupt completion](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type) because [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(v) is String.
            2.  Let tv be the result of parsing v as a date, in exactly the same manner as for the `parse` method ([21.4.3.2](https://262.ecma-international.org/12.0/#sec-date.parse)).
        3.  Else,
            1.  Let tv be ? [ToNumber](https://262.ecma-international.org/12.0/#sec-tonumber)(v).
    4.  Let dv be [TimeClip](https://262.ecma-international.org/12.0/#sec-timeclip)(tv).
5.  Else,
    1.  [Assert](https://262.ecma-international.org/12.0/#assert): numberOfArgs ≥ 2.
    2.  Let y be ? [ToNumber](https://262.ecma-international.org/12.0/#sec-tonumber)(values\[0\]).
    3.  Let m be ? [ToNumber](https://262.ecma-international.org/12.0/#sec-tonumber)(values\[1\]).
    4.  If numberOfArgs > 2, let dt be ? [ToNumber](https://262.ecma-international.org/12.0/#sec-tonumber)(values\[2\]); else let dt be 1𝔽.
    5.  If numberOfArgs > 3, let h be ? [ToNumber](https://262.ecma-international.org/12.0/#sec-tonumber)(values\[3\]); else let h be +0𝔽.
    6.  If numberOfArgs > 4, let min be ? [ToNumber](https://262.ecma-international.org/12.0/#sec-tonumber)(values\[4\]); else let min be +0𝔽.
    7.  If numberOfArgs > 5, let s be ? [ToNumber](https://262.ecma-international.org/12.0/#sec-tonumber)(values\[5\]); else let s be +0𝔽.
    8.  If numberOfArgs > 6, let milli be ? [ToNumber](https://262.ecma-international.org/12.0/#sec-tonumber)(values\[6\]); else let milli be +0𝔽.
    9.  If y is NaN, let yr be NaN.
    10.  Else,
        1.  Let yi be ! [ToIntegerOrInfinity](https://262.ecma-international.org/12.0/#sec-tointegerorinfinity)(y).
        2.  If 0 ≤ yi ≤ 99, let yr be 1900𝔽 + [𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(yi); otherwise, let yr be y.
    11.  Let finalDate be [MakeDate](https://262.ecma-international.org/12.0/#sec-makedate)([MakeDay](https://262.ecma-international.org/12.0/#sec-makeday)(yr, m, dt), [MakeTime](https://262.ecma-international.org/12.0/#sec-maketime)(h, min, s, milli)).
    12.  Let dv be [TimeClip](https://262.ecma-international.org/12.0/#sec-timeclip)([UTC](https://262.ecma-international.org/12.0/#sec-utc-t)(finalDate)).
6.  Let O be ? [OrdinaryCreateFromConstructor](https://262.ecma-international.org/12.0/#sec-ordinarycreatefromconstructor)(NewTarget, "%Date.prototype%", « \[\[DateValue\]\] »).
7.  Set O.\[\[DateValue\]\] to dv.
8.  Return O.

## 21.4.3 Properties of the Date Constructor

The Date [constructor](https://262.ecma-international.org/12.0/#constructor):

-   has a \[\[Prototype\]\] internal slot whose value is [%Function.prototype%](https://262.ecma-international.org/12.0/#sec-properties-of-the-function-prototype-object).
-   has the following properties:

## 21.4.3.1 Date.now ( )

The `now` function returns the [time value](https://262.ecma-international.org/12.0/#sec-time-values-and-time-range) designating the UTC date and time of the occurrence of the call to `now`.

## 21.4.3.2 Date.parse ( string )

The `parse` function applies the [ToString](https://262.ecma-international.org/12.0/#sec-tostring) operator to its argument. If [ToString](https://262.ecma-international.org/12.0/#sec-tostring) results in an [abrupt completion](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type) the [Completion Record](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type) is immediately returned. Otherwise, `parse` interprets the resulting String as a date and time; it returns a Number, the UTC [time value](https://262.ecma-international.org/12.0/#sec-time-values-and-time-range) corresponding to the date and time. The String may be interpreted as a local time, a UTC time, or a time in some other time zone, depending on the contents of the String. The function first attempts to parse the String according to the format described in Date Time String Format ([21.4.1.15](https://262.ecma-international.org/12.0/#sec-date-time-string-format)), including expanded years. If the String does not conform to that format the function may fall back to any implementation-specific heuristics or implementation-specific date formats. Strings that are unrecognizable or contain out-of-bounds format element values shall cause `Date.parse` to return NaN.

If the String conforms to the [Date Time String Format](https://262.ecma-international.org/12.0/#sec-date-time-string-format), substitute values take the place of absent format elements. When the `MM` or `DD` elements are absent, "01" is used. When the `HH`, `mm`, or `ss` elements are absent, "00" is used. When the `sss` element is absent, "000" is used. When the UTC offset representation is absent, date-only forms are interpreted as a UTC time and date-time forms are interpreted as a local time.

If `x` is any Date object whose milliseconds amount is zero within a particular implementation of ECMAScript, then all of the following expressions should produce the same numeric value in that implementation, if all the properties referenced have their initial values:

```
x.valueOf()
Date.parse(x.toString())
Date.parse(x.toUTCString())
Date.parse(x.toISOString())
```

However, the expression

```
Date.parse(x.toLocaleString())
```

is not required to produce the same [Number value](https://262.ecma-international.org/12.0/#number-value) as the preceding three expressions and, in general, the value produced by `Date.parse` is [implementation-defined](https://262.ecma-international.org/12.0/#implementation-defined) when given any String value that does not conform to the Date Time String Format ([21.4.1.15](https://262.ecma-international.org/12.0/#sec-date-time-string-format)) and that could not be produced in that implementation by the `toString` or `toUTCString` method.

## 21.4.3.3 Date.prototype

The initial value of `Date.prototype` is the [Date prototype object](https://262.ecma-international.org/12.0/#sec-properties-of-the-date-prototype-object).

This property has the attributes { \[\[Writable\]\]: false, \[\[Enumerable\]\]: false, \[\[Configurable\]\]: false }.

## 21.4.3.4 Date.UTC ( year \[ , month \[ , date \[ , hours \[ , minutes \[ , seconds \[ , ms \] \] \] \] \] \] )

When the `UTC` function is called, the following steps are taken:

1.  Let y be ? [ToNumber](https://262.ecma-international.org/12.0/#sec-tonumber)(year).
2.  If month is present, let m be ? [ToNumber](https://262.ecma-international.org/12.0/#sec-tonumber)(month); else let m be +0𝔽.
3.  If date is present, let dt be ? [ToNumber](https://262.ecma-international.org/12.0/#sec-tonumber)(date); else let dt be 1𝔽.
4.  If hours is present, let h be ? [ToNumber](https://262.ecma-international.org/12.0/#sec-tonumber)(hours); else let h be +0𝔽.
5.  If minutes is present, let min be ? [ToNumber](https://262.ecma-international.org/12.0/#sec-tonumber)(minutes); else let min be +0𝔽.
6.  If seconds is present, let s be ? [ToNumber](https://262.ecma-international.org/12.0/#sec-tonumber)(seconds); else let s be +0𝔽.
7.  If ms is present, let milli be ? [ToNumber](https://262.ecma-international.org/12.0/#sec-tonumber)(ms); else let milli be +0𝔽.
8.  If y is NaN, let yr be NaN.
9.  Else,
    1.  Let yi be ! [ToIntegerOrInfinity](https://262.ecma-international.org/12.0/#sec-tointegerorinfinity)(y).
    2.  If 0 ≤ yi ≤ 99, let yr be 1900𝔽 + [𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(yi); otherwise, let yr be y.
10.  Return [TimeClip](https://262.ecma-international.org/12.0/#sec-timeclip)([MakeDate](https://262.ecma-international.org/12.0/#sec-makedate)([MakeDay](https://262.ecma-international.org/12.0/#sec-makeday)(yr, m, dt), [MakeTime](https://262.ecma-international.org/12.0/#sec-maketime)(h, min, s, milli))).

The "length" property of the `UTC` function is 7𝔽.

Note

The `UTC` function differs from the Date [constructor](https://262.ecma-international.org/12.0/#constructor) in two ways: it returns a [time value](https://262.ecma-international.org/12.0/#sec-time-values-and-time-range) as a Number, rather than creating a Date object, and it interprets the arguments in UTC rather than as local time.

## 21.4.4 Properties of the Date Prototype Object

The Date prototype object:

-   is %Date.prototype%.
-   is itself an [ordinary object](https://262.ecma-international.org/12.0/#ordinary-object).
-   is not a Date instance and does not have a \[\[DateValue\]\] internal slot.
-   has a \[\[Prototype\]\] internal slot whose value is [%Object.prototype%](https://262.ecma-international.org/12.0/#sec-properties-of-the-object-prototype-object).

Unless explicitly defined otherwise, the methods of the Date prototype object defined below are not generic and the this value passed to them must be an object that has a \[\[DateValue\]\] internal slot that has been initialized to a [time value](https://262.ecma-international.org/12.0/#sec-time-values-and-time-range).

The abstract operation thisTimeValue takes argument value. It performs the following steps when called:

1.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(value) is Object and value has a \[\[DateValue\]\] internal slot, then
    1.  Return value.\[\[DateValue\]\].
2.  Throw a TypeError exception.

In following descriptions of functions that are properties of the Date prototype object, the phrase “this Date object” refers to the object that is the this value for the invocation of the function. If the Type of the this value is not Object, a TypeError exception is thrown. The phrase “this time value” within the specification of a method refers to the result returned by calling the abstract operation [thisTimeValue](https://262.ecma-international.org/12.0/#thistimevalue) with the this value of the method invocation passed as the argument.

## 21.4.4.1 Date.prototype.constructor

The initial value of `Date.prototype.constructor` is [%Date%](https://262.ecma-international.org/12.0/#sec-date-constructor).

## 21.4.4.2 Date.prototype.getDate ( )

The following steps are performed:

1.  Let t be ? [thisTimeValue](https://262.ecma-international.org/12.0/#thistimevalue)(this value).
2.  If t is NaN, return NaN.
3.  Return [DateFromTime](https://262.ecma-international.org/12.0/#sec-date-number)([LocalTime](https://262.ecma-international.org/12.0/#sec-localtime)(t)).

## 21.4.4.3 Date.prototype.getDay ( )

The following steps are performed:

1.  Let t be ? [thisTimeValue](https://262.ecma-international.org/12.0/#thistimevalue)(this value).
2.  If t is NaN, return NaN.
3.  Return [WeekDay](https://262.ecma-international.org/12.0/#sec-week-day)([LocalTime](https://262.ecma-international.org/12.0/#sec-localtime)(t)).

## 21.4.4.4 Date.prototype.getFullYear ( )

The following steps are performed:

1.  Let t be ? [thisTimeValue](https://262.ecma-international.org/12.0/#thistimevalue)(this value).
2.  If t is NaN, return NaN.
3.  Return [YearFromTime](https://262.ecma-international.org/12.0/#eqn-YearFromTime)([LocalTime](https://262.ecma-international.org/12.0/#sec-localtime)(t)).

## 21.4.4.5 Date.prototype.getHours ( )

The following steps are performed:

1.  Let t be ? [thisTimeValue](https://262.ecma-international.org/12.0/#thistimevalue)(this value).
2.  If t is NaN, return NaN.
3.  Return [HourFromTime](https://262.ecma-international.org/12.0/#eqn-HourFromTime)([LocalTime](https://262.ecma-international.org/12.0/#sec-localtime)(t)).

## 21.4.4.6 Date.prototype.getMilliseconds ( )

The following steps are performed:

1.  Let t be ? [thisTimeValue](https://262.ecma-international.org/12.0/#thistimevalue)(this value).
2.  If t is NaN, return NaN.
3.  Return [msFromTime](https://262.ecma-international.org/12.0/#eqn-msFromTime)([LocalTime](https://262.ecma-international.org/12.0/#sec-localtime)(t)).

## 21.4.4.7 Date.prototype.getMinutes ( )

The following steps are performed:

1.  Let t be ? [thisTimeValue](https://262.ecma-international.org/12.0/#thistimevalue)(this value).
2.  If t is NaN, return NaN.
3.  Return [MinFromTime](https://262.ecma-international.org/12.0/#eqn-MinFromTime)([LocalTime](https://262.ecma-international.org/12.0/#sec-localtime)(t)).

## 21.4.4.8 Date.prototype.getMonth ( )

The following steps are performed:

1.  Let t be ? [thisTimeValue](https://262.ecma-international.org/12.0/#thistimevalue)(this value).
2.  If t is NaN, return NaN.
3.  Return [MonthFromTime](https://262.ecma-international.org/12.0/#eqn-MonthFromTime)([LocalTime](https://262.ecma-international.org/12.0/#sec-localtime)(t)).

## 21.4.4.9 Date.prototype.getSeconds ( )

The following steps are performed:

1.  Let t be ? [thisTimeValue](https://262.ecma-international.org/12.0/#thistimevalue)(this value).
2.  If t is NaN, return NaN.
3.  Return [SecFromTime](https://262.ecma-international.org/12.0/#eqn-SecFromTime)([LocalTime](https://262.ecma-international.org/12.0/#sec-localtime)(t)).

## 21.4.4.10 Date.prototype.getTime ( )

The following steps are performed:

1.  Return ? [thisTimeValue](https://262.ecma-international.org/12.0/#thistimevalue)(this value).

## 21.4.4.11 Date.prototype.getTimezoneOffset ( )

The following steps are performed:

1.  Let t be ? [thisTimeValue](https://262.ecma-international.org/12.0/#thistimevalue)(this value).
2.  If t is NaN, return NaN.
3.  Return (t - [LocalTime](https://262.ecma-international.org/12.0/#sec-localtime)(t)) / [msPerMinute](https://262.ecma-international.org/12.0/#eqn-msPerMinute).

## 21.4.4.12 Date.prototype.getUTCDate ( )

The following steps are performed:

1.  Let t be ? [thisTimeValue](https://262.ecma-international.org/12.0/#thistimevalue)(this value).
2.  If t is NaN, return NaN.
3.  Return [DateFromTime](https://262.ecma-international.org/12.0/#sec-date-number)(t).

## 21.4.4.13 Date.prototype.getUTCDay ( )

The following steps are performed:

1.  Let t be ? [thisTimeValue](https://262.ecma-international.org/12.0/#thistimevalue)(this value).
2.  If t is NaN, return NaN.
3.  Return [WeekDay](https://262.ecma-international.org/12.0/#sec-week-day)(t).

## 21.4.4.14 Date.prototype.getUTCFullYear ( )

The following steps are performed:

1.  Let t be ? [thisTimeValue](https://262.ecma-international.org/12.0/#thistimevalue)(this value).
2.  If t is NaN, return NaN.
3.  Return [YearFromTime](https://262.ecma-international.org/12.0/#eqn-YearFromTime)(t).

## 21.4.4.15 Date.prototype.getUTCHours ( )

The following steps are performed:

1.  Let t be ? [thisTimeValue](https://262.ecma-international.org/12.0/#thistimevalue)(this value).
2.  If t is NaN, return NaN.
3.  Return [HourFromTime](https://262.ecma-international.org/12.0/#eqn-HourFromTime)(t).

## 21.4.4.16 Date.prototype.getUTCMilliseconds ( )

The following steps are performed:

1.  Let t be ? [thisTimeValue](https://262.ecma-international.org/12.0/#thistimevalue)(this value).
2.  If t is NaN, return NaN.
3.  Return [msFromTime](https://262.ecma-international.org/12.0/#eqn-msFromTime)(t).

## 21.4.4.17 Date.prototype.getUTCMinutes ( )

The following steps are performed:

1.  Let t be ? [thisTimeValue](https://262.ecma-international.org/12.0/#thistimevalue)(this value).
2.  If t is NaN, return NaN.
3.  Return [MinFromTime](https://262.ecma-international.org/12.0/#eqn-MinFromTime)(t).

## 21.4.4.18 Date.prototype.getUTCMonth ( )

The following steps are performed:

1.  Let t be ? [thisTimeValue](https://262.ecma-international.org/12.0/#thistimevalue)(this value).
2.  If t is NaN, return NaN.
3.  Return [MonthFromTime](https://262.ecma-international.org/12.0/#eqn-MonthFromTime)(t).

## 21.4.4.19 Date.prototype.getUTCSeconds ( )

The following steps are performed:

1.  Let t be ? [thisTimeValue](https://262.ecma-international.org/12.0/#thistimevalue)(this value).
2.  If t is NaN, return NaN.
3.  Return [SecFromTime](https://262.ecma-international.org/12.0/#eqn-SecFromTime)(t).

## 21.4.4.20 Date.prototype.setDate ( date )

The following steps are performed:

1.  Let t be [LocalTime](https://262.ecma-international.org/12.0/#sec-localtime)(? [thisTimeValue](https://262.ecma-international.org/12.0/#thistimevalue)(this value)).
2.  Let dt be ? [ToNumber](https://262.ecma-international.org/12.0/#sec-tonumber)(date).
3.  Let newDate be [MakeDate](https://262.ecma-international.org/12.0/#sec-makedate)([MakeDay](https://262.ecma-international.org/12.0/#sec-makeday)([YearFromTime](https://262.ecma-international.org/12.0/#eqn-YearFromTime)(t), [MonthFromTime](https://262.ecma-international.org/12.0/#eqn-MonthFromTime)(t), dt), [TimeWithinDay](https://262.ecma-international.org/12.0/#eqn-TimeWithinDay)(t)).
4.  Let u be [TimeClip](https://262.ecma-international.org/12.0/#sec-timeclip)([UTC](https://262.ecma-international.org/12.0/#sec-utc-t)(newDate)).
5.  Set the \[\[DateValue\]\] internal slot of [this Date object](https://262.ecma-international.org/12.0/#this-Date-object) to u.
6.  Return u.

## 21.4.4.21 Date.prototype.setFullYear ( year \[ , month \[ , date \] \] )

The following steps are performed:

1.  Let t be ? [thisTimeValue](https://262.ecma-international.org/12.0/#thistimevalue)(this value).
2.  If t is NaN, set t to +0𝔽; otherwise, set t to [LocalTime](https://262.ecma-international.org/12.0/#sec-localtime)(t).
3.  Let y be ? [ToNumber](https://262.ecma-international.org/12.0/#sec-tonumber)(year).
4.  If month is not present, let m be [MonthFromTime](https://262.ecma-international.org/12.0/#eqn-MonthFromTime)(t); otherwise, let m be ? [ToNumber](https://262.ecma-international.org/12.0/#sec-tonumber)(month).
5.  If date is not present, let dt be [DateFromTime](https://262.ecma-international.org/12.0/#sec-date-number)(t); otherwise, let dt be ? [ToNumber](https://262.ecma-international.org/12.0/#sec-tonumber)(date).
6.  Let newDate be [MakeDate](https://262.ecma-international.org/12.0/#sec-makedate)([MakeDay](https://262.ecma-international.org/12.0/#sec-makeday)(y, m, dt), [TimeWithinDay](https://262.ecma-international.org/12.0/#eqn-TimeWithinDay)(t)).
7.  Let u be [TimeClip](https://262.ecma-international.org/12.0/#sec-timeclip)([UTC](https://262.ecma-international.org/12.0/#sec-utc-t)(newDate)).
8.  Set the \[\[DateValue\]\] internal slot of [this Date object](https://262.ecma-international.org/12.0/#this-Date-object) to u.
9.  Return u.

The "length" property of the `setFullYear` method is 3𝔽.

Note

If month is not present, this method behaves as if month was present with the value `getMonth()`. If date is not present, it behaves as if date was present with the value `getDate()`.

## 21.4.4.22 Date.prototype.setHours ( hour \[ , min \[ , sec \[ , ms \] \] \] )

The following steps are performed:

1.  Let t be [LocalTime](https://262.ecma-international.org/12.0/#sec-localtime)(? [thisTimeValue](https://262.ecma-international.org/12.0/#thistimevalue)(this value)).
2.  Let h be ? [ToNumber](https://262.ecma-international.org/12.0/#sec-tonumber)(hour).
3.  If min is not present, let m be [MinFromTime](https://262.ecma-international.org/12.0/#eqn-MinFromTime)(t); otherwise, let m be ? [ToNumber](https://262.ecma-international.org/12.0/#sec-tonumber)(min).
4.  If sec is not present, let s be [SecFromTime](https://262.ecma-international.org/12.0/#eqn-SecFromTime)(t); otherwise, let s be ? [ToNumber](https://262.ecma-international.org/12.0/#sec-tonumber)(sec).
5.  If ms is not present, let milli be [msFromTime](https://262.ecma-international.org/12.0/#eqn-msFromTime)(t); otherwise, let milli be ? [ToNumber](https://262.ecma-international.org/12.0/#sec-tonumber)(ms).
6.  Let date be [MakeDate](https://262.ecma-international.org/12.0/#sec-makedate)([Day](https://262.ecma-international.org/12.0/#eqn-Day)(t), [MakeTime](https://262.ecma-international.org/12.0/#sec-maketime)(h, m, s, milli)).
7.  Let u be [TimeClip](https://262.ecma-international.org/12.0/#sec-timeclip)([UTC](https://262.ecma-international.org/12.0/#sec-utc-t)(date)).
8.  Set the \[\[DateValue\]\] internal slot of [this Date object](https://262.ecma-international.org/12.0/#this-Date-object) to u.
9.  Return u.

The "length" property of the `setHours` method is 4𝔽.

Note

If min is not present, this method behaves as if min was present with the value `getMinutes()`. If sec is not present, it behaves as if sec was present with the value `getSeconds()`. If ms is not present, it behaves as if ms was present with the value `getMilliseconds()`.

## 21.4.4.23 Date.prototype.setMilliseconds ( ms )

The following steps are performed:

1.  Let t be [LocalTime](https://262.ecma-international.org/12.0/#sec-localtime)(? [thisTimeValue](https://262.ecma-international.org/12.0/#thistimevalue)(this value)).
2.  Set ms to ? [ToNumber](https://262.ecma-international.org/12.0/#sec-tonumber)(ms).
3.  Let time be [MakeTime](https://262.ecma-international.org/12.0/#sec-maketime)([HourFromTime](https://262.ecma-international.org/12.0/#eqn-HourFromTime)(t), [MinFromTime](https://262.ecma-international.org/12.0/#eqn-MinFromTime)(t), [SecFromTime](https://262.ecma-international.org/12.0/#eqn-SecFromTime)(t), ms).
4.  Let u be [TimeClip](https://262.ecma-international.org/12.0/#sec-timeclip)([UTC](https://262.ecma-international.org/12.0/#sec-utc-t)([MakeDate](https://262.ecma-international.org/12.0/#sec-makedate)([Day](https://262.ecma-international.org/12.0/#eqn-Day)(t), time))).
5.  Set the \[\[DateValue\]\] internal slot of [this Date object](https://262.ecma-international.org/12.0/#this-Date-object) to u.
6.  Return u.

## 21.4.4.24 Date.prototype.setMinutes ( min \[ , sec \[ , ms \] \] )

The following steps are performed:

1.  Let t be [LocalTime](https://262.ecma-international.org/12.0/#sec-localtime)(? [thisTimeValue](https://262.ecma-international.org/12.0/#thistimevalue)(this value)).
2.  Let m be ? [ToNumber](https://262.ecma-international.org/12.0/#sec-tonumber)(min).
3.  If sec is not present, let s be [SecFromTime](https://262.ecma-international.org/12.0/#eqn-SecFromTime)(t); otherwise, let s be ? [ToNumber](https://262.ecma-international.org/12.0/#sec-tonumber)(sec).
4.  If ms is not present, let milli be [msFromTime](https://262.ecma-international.org/12.0/#eqn-msFromTime)(t); otherwise, let milli be ? [ToNumber](https://262.ecma-international.org/12.0/#sec-tonumber)(ms).
5.  Let date be [MakeDate](https://262.ecma-international.org/12.0/#sec-makedate)([Day](https://262.ecma-international.org/12.0/#eqn-Day)(t), [MakeTime](https://262.ecma-international.org/12.0/#sec-maketime)([HourFromTime](https://262.ecma-international.org/12.0/#eqn-HourFromTime)(t), m, s, milli)).
6.  Let u be [TimeClip](https://262.ecma-international.org/12.0/#sec-timeclip)([UTC](https://262.ecma-international.org/12.0/#sec-utc-t)(date)).
7.  Set the \[\[DateValue\]\] internal slot of [this Date object](https://262.ecma-international.org/12.0/#this-Date-object) to u.
8.  Return u.

The "length" property of the `setMinutes` method is 3𝔽.

Note

If sec is not present, this method behaves as if sec was present with the value `getSeconds()`. If ms is not present, this behaves as if ms was present with the value `getMilliseconds()`.

## 21.4.4.25 Date.prototype.setMonth ( month \[ , date \] )

The following steps are performed:

1.  Let t be [LocalTime](https://262.ecma-international.org/12.0/#sec-localtime)(? [thisTimeValue](https://262.ecma-international.org/12.0/#thistimevalue)(this value)).
2.  Let m be ? [ToNumber](https://262.ecma-international.org/12.0/#sec-tonumber)(month).
3.  If date is not present, let dt be [DateFromTime](https://262.ecma-international.org/12.0/#sec-date-number)(t); otherwise, let dt be ? [ToNumber](https://262.ecma-international.org/12.0/#sec-tonumber)(date).
4.  Let newDate be [MakeDate](https://262.ecma-international.org/12.0/#sec-makedate)([MakeDay](https://262.ecma-international.org/12.0/#sec-makeday)([YearFromTime](https://262.ecma-international.org/12.0/#eqn-YearFromTime)(t), m, dt), [TimeWithinDay](https://262.ecma-international.org/12.0/#eqn-TimeWithinDay)(t)).
5.  Let u be [TimeClip](https://262.ecma-international.org/12.0/#sec-timeclip)([UTC](https://262.ecma-international.org/12.0/#sec-utc-t)(newDate)).
6.  Set the \[\[DateValue\]\] internal slot of [this Date object](https://262.ecma-international.org/12.0/#this-Date-object) to u.
7.  Return u.

The "length" property of the `setMonth` method is 2𝔽.

Note

If date is not present, this method behaves as if date was present with the value `getDate()`.

## 21.4.4.26 Date.prototype.setSeconds ( sec \[ , ms \] )

The following steps are performed:

1.  Let t be [LocalTime](https://262.ecma-international.org/12.0/#sec-localtime)(? [thisTimeValue](https://262.ecma-international.org/12.0/#thistimevalue)(this value)).
2.  Let s be ? [ToNumber](https://262.ecma-international.org/12.0/#sec-tonumber)(sec).
3.  If ms is not present, let milli be [msFromTime](https://262.ecma-international.org/12.0/#eqn-msFromTime)(t); otherwise, let milli be ? [ToNumber](https://262.ecma-international.org/12.0/#sec-tonumber)(ms).
4.  Let date be [MakeDate](https://262.ecma-international.org/12.0/#sec-makedate)([Day](https://262.ecma-international.org/12.0/#eqn-Day)(t), [MakeTime](https://262.ecma-international.org/12.0/#sec-maketime)([HourFromTime](https://262.ecma-international.org/12.0/#eqn-HourFromTime)(t), [MinFromTime](https://262.ecma-international.org/12.0/#eqn-MinFromTime)(t), s, milli)).
5.  Let u be [TimeClip](https://262.ecma-international.org/12.0/#sec-timeclip)([UTC](https://262.ecma-international.org/12.0/#sec-utc-t)(date)).
6.  Set the \[\[DateValue\]\] internal slot of [this Date object](https://262.ecma-international.org/12.0/#this-Date-object) to u.
7.  Return u.

The "length" property of the `setSeconds` method is 2𝔽.

Note

If ms is not present, this method behaves as if ms was present with the value `getMilliseconds()`.

## 21.4.4.27 Date.prototype.setTime ( time )

The following steps are performed:

1.  Perform ? [thisTimeValue](https://262.ecma-international.org/12.0/#thistimevalue)(this value).
2.  Let t be ? [ToNumber](https://262.ecma-international.org/12.0/#sec-tonumber)(time).
3.  Let v be [TimeClip](https://262.ecma-international.org/12.0/#sec-timeclip)(t).
4.  Set the \[\[DateValue\]\] internal slot of [this Date object](https://262.ecma-international.org/12.0/#this-Date-object) to v.
5.  Return v.

## 21.4.4.28 Date.prototype.setUTCDate ( date )

The following steps are performed:

1.  Let t be ? [thisTimeValue](https://262.ecma-international.org/12.0/#thistimevalue)(this value).
2.  Let dt be ? [ToNumber](https://262.ecma-international.org/12.0/#sec-tonumber)(date).
3.  Let newDate be [MakeDate](https://262.ecma-international.org/12.0/#sec-makedate)([MakeDay](https://262.ecma-international.org/12.0/#sec-makeday)([YearFromTime](https://262.ecma-international.org/12.0/#eqn-YearFromTime)(t), [MonthFromTime](https://262.ecma-international.org/12.0/#eqn-MonthFromTime)(t), dt), [TimeWithinDay](https://262.ecma-international.org/12.0/#eqn-TimeWithinDay)(t)).
4.  Let v be [TimeClip](https://262.ecma-international.org/12.0/#sec-timeclip)(newDate).
5.  Set the \[\[DateValue\]\] internal slot of [this Date object](https://262.ecma-international.org/12.0/#this-Date-object) to v.
6.  Return v.

## 21.4.4.29 Date.prototype.setUTCFullYear ( year \[ , month \[ , date \] \] )

The following steps are performed:

1.  Let t be ? [thisTimeValue](https://262.ecma-international.org/12.0/#thistimevalue)(this value).
2.  If t is NaN, set t to +0𝔽.
3.  Let y be ? [ToNumber](https://262.ecma-international.org/12.0/#sec-tonumber)(year).
4.  If month is not present, let m be [MonthFromTime](https://262.ecma-international.org/12.0/#eqn-MonthFromTime)(t); otherwise, let m be ? [ToNumber](https://262.ecma-international.org/12.0/#sec-tonumber)(month).
5.  If date is not present, let dt be [DateFromTime](https://262.ecma-international.org/12.0/#sec-date-number)(t); otherwise, let dt be ? [ToNumber](https://262.ecma-international.org/12.0/#sec-tonumber)(date).
6.  Let newDate be [MakeDate](https://262.ecma-international.org/12.0/#sec-makedate)([MakeDay](https://262.ecma-international.org/12.0/#sec-makeday)(y, m, dt), [TimeWithinDay](https://262.ecma-international.org/12.0/#eqn-TimeWithinDay)(t)).
7.  Let v be [TimeClip](https://262.ecma-international.org/12.0/#sec-timeclip)(newDate).
8.  Set the \[\[DateValue\]\] internal slot of [this Date object](https://262.ecma-international.org/12.0/#this-Date-object) to v.
9.  Return v.

The "length" property of the `setUTCFullYear` method is 3𝔽.

Note

If month is not present, this method behaves as if month was present with the value `getUTCMonth()`. If date is not present, it behaves as if date was present with the value `getUTCDate()`.

## 21.4.4.30 Date.prototype.setUTCHours ( hour \[ , min \[ , sec \[ , ms \] \] \] )

The following steps are performed:

1.  Let t be ? [thisTimeValue](https://262.ecma-international.org/12.0/#thistimevalue)(this value).
2.  Let h be ? [ToNumber](https://262.ecma-international.org/12.0/#sec-tonumber)(hour).
3.  If min is not present, let m be [MinFromTime](https://262.ecma-international.org/12.0/#eqn-MinFromTime)(t); otherwise, let m be ? [ToNumber](https://262.ecma-international.org/12.0/#sec-tonumber)(min).
4.  If sec is not present, let s be [SecFromTime](https://262.ecma-international.org/12.0/#eqn-SecFromTime)(t); otherwise, let s be ? [ToNumber](https://262.ecma-international.org/12.0/#sec-tonumber)(sec).
5.  If ms is not present, let milli be [msFromTime](https://262.ecma-international.org/12.0/#eqn-msFromTime)(t); otherwise, let milli be ? [ToNumber](https://262.ecma-international.org/12.0/#sec-tonumber)(ms).
6.  Let newDate be [MakeDate](https://262.ecma-international.org/12.0/#sec-makedate)([Day](https://262.ecma-international.org/12.0/#eqn-Day)(t), [MakeTime](https://262.ecma-international.org/12.0/#sec-maketime)(h, m, s, milli)).
7.  Let v be [TimeClip](https://262.ecma-international.org/12.0/#sec-timeclip)(newDate).
8.  Set the \[\[DateValue\]\] internal slot of [this Date object](https://262.ecma-international.org/12.0/#this-Date-object) to v.
9.  Return v.

The "length" property of the `setUTCHours` method is 4𝔽.

Note

If min is not present, this method behaves as if min was present with the value `getUTCMinutes()`. If sec is not present, it behaves as if sec was present with the value `getUTCSeconds()`. If ms is not present, it behaves as if ms was present with the value `getUTCMilliseconds()`.

## 21.4.4.31 Date.prototype.setUTCMilliseconds ( ms )

The following steps are performed:

1.  Let t be ? [thisTimeValue](https://262.ecma-international.org/12.0/#thistimevalue)(this value).
2.  Let milli be ? [ToNumber](https://262.ecma-international.org/12.0/#sec-tonumber)(ms).
3.  Let time be [MakeTime](https://262.ecma-international.org/12.0/#sec-maketime)([HourFromTime](https://262.ecma-international.org/12.0/#eqn-HourFromTime)(t), [MinFromTime](https://262.ecma-international.org/12.0/#eqn-MinFromTime)(t), [SecFromTime](https://262.ecma-international.org/12.0/#eqn-SecFromTime)(t), milli).
4.  Let v be [TimeClip](https://262.ecma-international.org/12.0/#sec-timeclip)([MakeDate](https://262.ecma-international.org/12.0/#sec-makedate)([Day](https://262.ecma-international.org/12.0/#eqn-Day)(t), time)).
5.  Set the \[\[DateValue\]\] internal slot of [this Date object](https://262.ecma-international.org/12.0/#this-Date-object) to v.
6.  Return v.

## 21.4.4.32 Date.prototype.setUTCMinutes ( min \[ , sec \[ , ms \] \] )

The following steps are performed:

1.  Let t be ? [thisTimeValue](https://262.ecma-international.org/12.0/#thistimevalue)(this value).
2.  Let m be ? [ToNumber](https://262.ecma-international.org/12.0/#sec-tonumber)(min).
3.  If sec is not present, let s be [SecFromTime](https://262.ecma-international.org/12.0/#eqn-SecFromTime)(t).
4.  Else,
    1.  Let s be ? [ToNumber](https://262.ecma-international.org/12.0/#sec-tonumber)(sec).
5.  If ms is not present, let milli be [msFromTime](https://262.ecma-international.org/12.0/#eqn-msFromTime)(t).
6.  Else,
    1.  Let milli be ? [ToNumber](https://262.ecma-international.org/12.0/#sec-tonumber)(ms).
7.  Let date be [MakeDate](https://262.ecma-international.org/12.0/#sec-makedate)([Day](https://262.ecma-international.org/12.0/#eqn-Day)(t), [MakeTime](https://262.ecma-international.org/12.0/#sec-maketime)([HourFromTime](https://262.ecma-international.org/12.0/#eqn-HourFromTime)(t), m, s, milli)).
8.  Let v be [TimeClip](https://262.ecma-international.org/12.0/#sec-timeclip)(date).
9.  Set the \[\[DateValue\]\] internal slot of [this Date object](https://262.ecma-international.org/12.0/#this-Date-object) to v.
10.  Return v.

The "length" property of the `setUTCMinutes` method is 3𝔽.

Note

If sec is not present, this method behaves as if sec was present with the value `getUTCSeconds()`. If ms is not present, it function behaves as if ms was present with the value return by `getUTCMilliseconds()`.

## 21.4.4.33 Date.prototype.setUTCMonth ( month \[ , date \] )

The following steps are performed:

1.  Let t be ? [thisTimeValue](https://262.ecma-international.org/12.0/#thistimevalue)(this value).
2.  Let m be ? [ToNumber](https://262.ecma-international.org/12.0/#sec-tonumber)(month).
3.  If date is not present, let dt be [DateFromTime](https://262.ecma-international.org/12.0/#sec-date-number)(t).
4.  Else,
    1.  Let dt be ? [ToNumber](https://262.ecma-international.org/12.0/#sec-tonumber)(date).
5.  Let newDate be [MakeDate](https://262.ecma-international.org/12.0/#sec-makedate)([MakeDay](https://262.ecma-international.org/12.0/#sec-makeday)([YearFromTime](https://262.ecma-international.org/12.0/#eqn-YearFromTime)(t), m, dt), [TimeWithinDay](https://262.ecma-international.org/12.0/#eqn-TimeWithinDay)(t)).
6.  Let v be [TimeClip](https://262.ecma-international.org/12.0/#sec-timeclip)(newDate).
7.  Set the \[\[DateValue\]\] internal slot of [this Date object](https://262.ecma-international.org/12.0/#this-Date-object) to v.
8.  Return v.

The "length" property of the `setUTCMonth` method is 2𝔽.

Note

If date is not present, this method behaves as if date was present with the value `getUTCDate()`.

## 21.4.4.34 Date.prototype.setUTCSeconds ( sec \[ , ms \] )

The following steps are performed:

1.  Let t be ? [thisTimeValue](https://262.ecma-international.org/12.0/#thistimevalue)(this value).
2.  Let s be ? [ToNumber](https://262.ecma-international.org/12.0/#sec-tonumber)(sec).
3.  If ms is not present, let milli be [msFromTime](https://262.ecma-international.org/12.0/#eqn-msFromTime)(t).
4.  Else,
    1.  Let milli be ? [ToNumber](https://262.ecma-international.org/12.0/#sec-tonumber)(ms).
5.  Let date be [MakeDate](https://262.ecma-international.org/12.0/#sec-makedate)([Day](https://262.ecma-international.org/12.0/#eqn-Day)(t), [MakeTime](https://262.ecma-international.org/12.0/#sec-maketime)([HourFromTime](https://262.ecma-international.org/12.0/#eqn-HourFromTime)(t), [MinFromTime](https://262.ecma-international.org/12.0/#eqn-MinFromTime)(t), s, milli)).
6.  Let v be [TimeClip](https://262.ecma-international.org/12.0/#sec-timeclip)(date).
7.  Set the \[\[DateValue\]\] internal slot of [this Date object](https://262.ecma-international.org/12.0/#this-Date-object) to v.
8.  Return v.

The "length" property of the `setUTCSeconds` method is 2𝔽.

Note

If ms is not present, this method behaves as if ms was present with the value `getUTCMilliseconds()`.

## 21.4.4.35 Date.prototype.toDateString ( )

The following steps are performed:

1.  Let O be [this Date object](https://262.ecma-international.org/12.0/#this-Date-object).
2.  Let tv be ? [thisTimeValue](https://262.ecma-international.org/12.0/#thistimevalue)(O).
3.  If tv is NaN, return "Invalid Date".
4.  Let t be [LocalTime](https://262.ecma-international.org/12.0/#sec-localtime)(tv).
5.  Return [DateString](https://262.ecma-international.org/12.0/#sec-datestring)(t).

## 21.4.4.36 Date.prototype.toISOString ( )

If [this time value](https://262.ecma-international.org/12.0/#this-time-value) is not a finite Number or if it corresponds with a year that cannot be represented in the [Date Time String Format](https://262.ecma-international.org/12.0/#sec-date-time-string-format), this function throws a RangeError exception. Otherwise, it returns a String representation of [this time value](https://262.ecma-international.org/12.0/#this-time-value) in that format on the UTC time scale, including all format elements and the UTC offset representation "Z".

## 21.4.4.37 Date.prototype.toJSON ( key )

This function provides a String representation of a Date object for use by `JSON.stringify` ([25.5.2](https://262.ecma-international.org/12.0/#sec-json.stringify)).

When the `toJSON` method is called with argument key, the following steps are taken:

1.  Let O be ? [ToObject](https://262.ecma-international.org/12.0/#sec-toobject)(this value).
2.  Let tv be ? [ToPrimitive](https://262.ecma-international.org/12.0/#sec-toprimitive)(O, number).
3.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(tv) is Number and tv is not finite, return null.
4.  Return ? [Invoke](https://262.ecma-international.org/12.0/#sec-invoke)(O, "toISOString").

Note 1

The argument is ignored.

Note 2

The `toJSON` function is intentionally generic; it does not require that its this value be a Date object. Therefore, it can be transferred to other kinds of objects for use as a method. However, it does require that any such object have a `toISOString` method.

## 21.4.4.38 Date.prototype.toLocaleDateString ( \[ reserved1 \[ , reserved2 \] \] )

An ECMAScript implementation that includes the ECMA-402 Internationalization API must implement the `Date.prototype.toLocaleDateString` method as specified in the ECMA-402 specification. If an ECMAScript implementation does not include the ECMA-402 API the following specification of the `toLocaleDateString` method is used.

This function returns a String value. The contents of the String are [implementation-defined](https://262.ecma-international.org/12.0/#implementation-defined), but are intended to represent the “date” portion of the Date in the current time zone in a convenient, human-readable form that corresponds to the conventions of the [host environment](https://262.ecma-international.org/12.0/#host-environment)'s current locale.

The meaning of the optional parameters to this method are defined in the ECMA-402 specification; implementations that do not include ECMA-402 support must not use those parameter positions for anything else.

## 21.4.4.39 Date.prototype.toLocaleString ( \[ reserved1 \[ , reserved2 \] \] )

An ECMAScript implementation that includes the ECMA-402 Internationalization API must implement the `Date.prototype.toLocaleString` method as specified in the ECMA-402 specification. If an ECMAScript implementation does not include the ECMA-402 API the following specification of the `toLocaleString` method is used.

This function returns a String value. The contents of the String are [implementation-defined](https://262.ecma-international.org/12.0/#implementation-defined), but are intended to represent the Date in the current time zone in a convenient, human-readable form that corresponds to the conventions of the [host environment](https://262.ecma-international.org/12.0/#host-environment)'s current locale.

The meaning of the optional parameters to this method are defined in the ECMA-402 specification; implementations that do not include ECMA-402 support must not use those parameter positions for anything else.

## 21.4.4.40 Date.prototype.toLocaleTimeString ( \[ reserved1 \[ , reserved2 \] \] )

An ECMAScript implementation that includes the ECMA-402 Internationalization API must implement the `Date.prototype.toLocaleTimeString` method as specified in the ECMA-402 specification. If an ECMAScript implementation does not include the ECMA-402 API the following specification of the `toLocaleTimeString` method is used.

This function returns a String value. The contents of the String are [implementation-defined](https://262.ecma-international.org/12.0/#implementation-defined), but are intended to represent the “time” portion of the Date in the current time zone in a convenient, human-readable form that corresponds to the conventions of the [host environment](https://262.ecma-international.org/12.0/#host-environment)'s current locale.

The meaning of the optional parameters to this method are defined in the ECMA-402 specification; implementations that do not include ECMA-402 support must not use those parameter positions for anything else.

## 21.4.4.41 Date.prototype.toString ( )

The following steps are performed:

1.  Let tv be ? [thisTimeValue](https://262.ecma-international.org/12.0/#thistimevalue)(this value).
2.  Return [ToDateString](https://262.ecma-international.org/12.0/#sec-todatestring)(tv).

Note 1

For any Date object `d` such that `d.[[DateValue]]` is evenly divisible by 1000, the result of `Date.parse(d.toString())` = `d.valueOf()`. See [21.4.3.2](https://262.ecma-international.org/12.0/#sec-date.parse).

Note 2

The `toString` function is not generic; it throws a TypeError exception if its this value is not a Date object. Therefore, it cannot be transferred to other kinds of objects for use as a method.

## 21.4.4.41.1 TimeString ( tv )

The abstract operation TimeString takes argument tv. It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(tv) is Number.
2.  [Assert](https://262.ecma-international.org/12.0/#assert): tv is not NaN.
3.  Let hour be the String representation of [HourFromTime](https://262.ecma-international.org/12.0/#eqn-HourFromTime)(tv), formatted as a two-digit decimal number, padded to the left with the code unit 0x0030 (DIGIT ZERO) if necessary.
4.  Let minute be the String representation of [MinFromTime](https://262.ecma-international.org/12.0/#eqn-MinFromTime)(tv), formatted as a two-digit decimal number, padded to the left with the code unit 0x0030 (DIGIT ZERO) if necessary.
5.  Let second be the String representation of [SecFromTime](https://262.ecma-international.org/12.0/#eqn-SecFromTime)(tv), formatted as a two-digit decimal number, padded to the left with the code unit 0x0030 (DIGIT ZERO) if necessary.
6.  Return the [string-concatenation](https://262.ecma-international.org/12.0/#string-concatenation) of hour, ":", minute, ":", second, the code unit 0x0020 (SPACE), and "GMT".

## 21.4.4.41.2 DateString ( tv )

The abstract operation DateString takes argument tv. It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(tv) is Number.
2.  [Assert](https://262.ecma-international.org/12.0/#assert): tv is not NaN.
3.  Let weekday be the Name of the entry in [Table 52](https://262.ecma-international.org/12.0/#sec-todatestring-day-names) with the Number [WeekDay](https://262.ecma-international.org/12.0/#sec-week-day)(tv).
4.  Let month be the Name of the entry in [Table 53](https://262.ecma-international.org/12.0/#sec-todatestring-month-names) with the Number [MonthFromTime](https://262.ecma-international.org/12.0/#eqn-MonthFromTime)(tv).
5.  Let day be the String representation of [DateFromTime](https://262.ecma-international.org/12.0/#sec-date-number)(tv), formatted as a two-digit decimal number, padded to the left with the code unit 0x0030 (DIGIT ZERO) if necessary.
6.  Let yv be [YearFromTime](https://262.ecma-international.org/12.0/#eqn-YearFromTime)(tv).
7.  If yv ≥ +0𝔽, let yearSign be the empty String; otherwise, let yearSign be "-".
8.  Let year be the String representation of [abs](https://262.ecma-international.org/12.0/#eqn-abs)([ℝ](https://262.ecma-international.org/12.0/#%E2%84%9D)(yv)), formatted as a decimal number.
9.  Let paddedYear be ! [StringPad](https://262.ecma-international.org/12.0/#sec-stringpad)(year, 4𝔽, "0", start).
10.  Return the [string-concatenation](https://262.ecma-international.org/12.0/#string-concatenation) of weekday, the code unit 0x0020 (SPACE), month, the code unit 0x0020 (SPACE), day, the code unit 0x0020 (SPACE), yearSign, and paddedYear.

Table 52: Names of days of the week

| Number | Name |
| --- | --- |
| +0𝔽 | "Sun" |
| 1𝔽 | "Mon" |
| 2𝔽 | "Tue" |
| 3𝔽 | "Wed" |
| 4𝔽 | "Thu" |
| 5𝔽 | "Fri" |
| 6𝔽 | "Sat" |

Table 53: Names of months of the year

| Number | Name |
| --- | --- |
| +0𝔽 | "Jan" |
| 1𝔽 | "Feb" |
| 2𝔽 | "Mar" |
| 3𝔽 | "Apr" |
| 4𝔽 | "May" |
| 5𝔽 | "Jun" |
| 6𝔽 | "Jul" |
| 7𝔽 | "Aug" |
| 8𝔽 | "Sep" |
| 9𝔽 | "Oct" |
| 10𝔽 | "Nov" |
| 11𝔽 | "Dec" |

## 21.4.4.41.3 TimeZoneString ( tv )

The abstract operation TimeZoneString takes argument tv. It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(tv) is Number.
2.  [Assert](https://262.ecma-international.org/12.0/#assert): tv is not NaN.
3.  Let offset be [LocalTZA](https://262.ecma-international.org/12.0/#sec-local-time-zone-adjustment)(tv, true).
4.  If offset ≥ +0𝔽, then
    1.  Let offsetSign be "+".
    2.  Let absOffset be offset.
5.  Else,
    1.  Let offsetSign be "-".
    2.  Let absOffset be -offset.
6.  Let offsetMin be the String representation of [MinFromTime](https://262.ecma-international.org/12.0/#eqn-MinFromTime)(absOffset), formatted as a two-digit decimal number, padded to the left with the code unit 0x0030 (DIGIT ZERO) if necessary.
7.  Let offsetHour be the String representation of [HourFromTime](https://262.ecma-international.org/12.0/#eqn-HourFromTime)(absOffset), formatted as a two-digit decimal number, padded to the left with the code unit 0x0030 (DIGIT ZERO) if necessary.
8.  Let tzName be an [implementation-defined](https://262.ecma-international.org/12.0/#implementation-defined) string that is either the empty String or the [string-concatenation](https://262.ecma-international.org/12.0/#string-concatenation) of the code unit 0x0020 (SPACE), the code unit 0x0028 (LEFT PARENTHESIS), an [implementation-defined](https://262.ecma-international.org/12.0/#implementation-defined) timezone name, and the code unit 0x0029 (RIGHT PARENTHESIS).
9.  Return the [string-concatenation](https://262.ecma-international.org/12.0/#string-concatenation) of offsetSign, offsetHour, offsetMin, and tzName.

## 21.4.4.41.4 ToDateString ( tv )

The abstract operation ToDateString takes argument tv. It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(tv) is Number.
2.  If tv is NaN, return "Invalid Date".
3.  Let t be [LocalTime](https://262.ecma-international.org/12.0/#sec-localtime)(tv).
4.  Return the [string-concatenation](https://262.ecma-international.org/12.0/#string-concatenation) of [DateString](https://262.ecma-international.org/12.0/#sec-datestring)(t), the code unit 0x0020 (SPACE), [TimeString](https://262.ecma-international.org/12.0/#sec-timestring)(t), and [TimeZoneString](https://262.ecma-international.org/12.0/#sec-timezoneestring)(tv).

## 21.4.4.42 Date.prototype.toTimeString ( )

The following steps are performed:

1.  Let O be [this Date object](https://262.ecma-international.org/12.0/#this-Date-object).
2.  Let tv be ? [thisTimeValue](https://262.ecma-international.org/12.0/#thistimevalue)(O).
3.  If tv is NaN, return "Invalid Date".
4.  Let t be [LocalTime](https://262.ecma-international.org/12.0/#sec-localtime)(tv).
5.  Return the [string-concatenation](https://262.ecma-international.org/12.0/#string-concatenation) of [TimeString](https://262.ecma-international.org/12.0/#sec-timestring)(t) and [TimeZoneString](https://262.ecma-international.org/12.0/#sec-timezoneestring)(tv).

## 21.4.4.43 Date.prototype.toUTCString ( )

The `toUTCString` method returns a String value representing the instance in time corresponding to [this time value](https://262.ecma-international.org/12.0/#this-time-value). The format of the String is based upon "HTTP-date" from RFC 7231, generalized to support the full range of times supported by ECMAScript Date objects. It performs the following steps when called:

1.  Let O be [this Date object](https://262.ecma-international.org/12.0/#this-Date-object).
2.  Let tv be ? [thisTimeValue](https://262.ecma-international.org/12.0/#thistimevalue)(O).
3.  If tv is NaN, return "Invalid Date".
4.  Let weekday be the Name of the entry in [Table 52](https://262.ecma-international.org/12.0/#sec-todatestring-day-names) with the Number [WeekDay](https://262.ecma-international.org/12.0/#sec-week-day)(tv).
5.  Let month be the Name of the entry in [Table 53](https://262.ecma-international.org/12.0/#sec-todatestring-month-names) with the Number [MonthFromTime](https://262.ecma-international.org/12.0/#eqn-MonthFromTime)(tv).
6.  Let day be the String representation of [DateFromTime](https://262.ecma-international.org/12.0/#sec-date-number)(tv), formatted as a two-digit decimal number, padded to the left with the code unit 0x0030 (DIGIT ZERO) if necessary.
7.  Let yv be [YearFromTime](https://262.ecma-international.org/12.0/#eqn-YearFromTime)(tv).
8.  If yv ≥ +0𝔽, let yearSign be the empty String; otherwise, let yearSign be "-".
9.  Let year be the String representation of [abs](https://262.ecma-international.org/12.0/#eqn-abs)([ℝ](https://262.ecma-international.org/12.0/#%E2%84%9D)(yv)), formatted as a decimal number.
10.  Let paddedYear be ! [StringPad](https://262.ecma-international.org/12.0/#sec-stringpad)(year, 4𝔽, "0", start).
11.  Return the [string-concatenation](https://262.ecma-international.org/12.0/#string-concatenation) of weekday, ",", the code unit 0x0020 (SPACE), day, the code unit 0x0020 (SPACE), month, the code unit 0x0020 (SPACE), yearSign, paddedYear, the code unit 0x0020 (SPACE), and [TimeString](https://262.ecma-international.org/12.0/#sec-timestring)(tv).

## 21.4.4.44 Date.prototype.valueOf ( )

The following steps are performed:

1.  Return ? [thisTimeValue](https://262.ecma-international.org/12.0/#thistimevalue)(this value).

## 21.4.4.45 Date.prototype \[ @@toPrimitive \] ( hint )

This function is called by ECMAScript language operators to convert a Date object to a primitive value. The allowed values for hint are "default", "number", and "string". Date objects, are unique among built-in ECMAScript object in that they treat "default" as being equivalent to "string", All other built-in ECMAScript objects treat "default" as being equivalent to "number".

When the `@@toPrimitive` method is called with argument hint, the following steps are taken:

1.  Let O be the this value.
2.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(O) is not Object, throw a TypeError exception.
3.  If hint is "string" or "default", then
    1.  Let tryFirst be string.
4.  Else if hint is "number", then
    1.  Let tryFirst be number.
5.  Else, throw a TypeError exception.
6.  Return ? [OrdinaryToPrimitive](https://262.ecma-international.org/12.0/#sec-ordinarytoprimitive)(O, tryFirst).

The value of the "name" property of this function is "\[Symbol.toPrimitive\]".

This property has the attributes { \[\[Writable\]\]: false, \[\[Enumerable\]\]: false, \[\[Configurable\]\]: true }.

## 21.4.5 Properties of Date Instances

Date instances are ordinary objects that inherit properties from the [Date prototype object](https://262.ecma-international.org/12.0/#sec-properties-of-the-date-prototype-object). Date instances also have a \[\[DateValue\]\] internal slot. The \[\[DateValue\]\] internal slot is the [time value](https://262.ecma-international.org/12.0/#sec-time-values-and-time-range) represented by [this Date object](https://262.ecma-international.org/12.0/#this-Date-object).

## 22 Text Processing

## 22.1 String Objects

## 22.1.1 The String Constructor

The String [constructor](https://262.ecma-international.org/12.0/#constructor):

-   is %String%.
-   is the initial value of the "String" property of the [global object](https://262.ecma-international.org/12.0/#sec-global-object).
-   creates and initializes a new String object when called as a [constructor](https://262.ecma-international.org/12.0/#constructor).
-   performs a type conversion when called as a function rather than as a [constructor](https://262.ecma-international.org/12.0/#constructor).
-   is designed to be subclassable. It may be used as the value of an `extends` clause of a class definition. Subclass constructors that intend to inherit the specified String behaviour must include a `super` call to the String [constructor](https://262.ecma-international.org/12.0/#constructor) to create and initialize the subclass instance with a \[\[StringData\]\] internal slot.

## 22.1.1.1 String ( value )

When `String` is called with argument value, the following steps are taken:

1.  If value is not present, let s be the empty String.
2.  Else,
    1.  If NewTarget is undefined and [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(value) is Symbol, return [SymbolDescriptiveString](https://262.ecma-international.org/12.0/#sec-symboldescriptivestring)(value).
    2.  Let s be ? [ToString](https://262.ecma-international.org/12.0/#sec-tostring)(value).
3.  If NewTarget is undefined, return s.
4.  Return ! [StringCreate](https://262.ecma-international.org/12.0/#sec-stringcreate)(s, ? [GetPrototypeFromConstructor](https://262.ecma-international.org/12.0/#sec-getprototypefromconstructor)(NewTarget, "%String.prototype%")).

## 22.1.2 Properties of the String Constructor

The String [constructor](https://262.ecma-international.org/12.0/#constructor):

-   has a \[\[Prototype\]\] internal slot whose value is [%Function.prototype%](https://262.ecma-international.org/12.0/#sec-properties-of-the-function-prototype-object).
-   has the following properties:

## 22.1.2.1 String.fromCharCode ( ...codeUnits )

The `String.fromCharCode` function may be called with any number of arguments which form the rest parameter codeUnits. The following steps are taken:

1.  Let length be the number of elements in codeUnits.
2.  Let elements be a new empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).
3.  For each element next of codeUnits, do
    1.  Let nextCU be [ℝ](https://262.ecma-international.org/12.0/#%E2%84%9D)(? [ToUint16](https://262.ecma-international.org/12.0/#sec-touint16)(next)).
    2.  Append nextCU to the end of elements.
4.  Return the String value whose code units are the elements in the [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) elements. If codeUnits is empty, the empty String is returned.

The "length" property of the `fromCharCode` function is 1𝔽.

## 22.1.2.2 String.fromCodePoint ( ...codePoints )

The `String.fromCodePoint` function may be called with any number of arguments which form the rest parameter codePoints. The following steps are taken:

1.  Let result be the empty String.
2.  For each element next of codePoints, do
    1.  Let nextCP be ? [ToNumber](https://262.ecma-international.org/12.0/#sec-tonumber)(next).
    2.  If ! [IsIntegralNumber](https://262.ecma-international.org/12.0/#sec-isintegralnumber)(nextCP) is false, throw a RangeError exception.
    3.  If [ℝ](https://262.ecma-international.org/12.0/#%E2%84%9D)(nextCP) < 0 or [ℝ](https://262.ecma-international.org/12.0/#%E2%84%9D)(nextCP) > 0x10FFFF, throw a RangeError exception.
    4.  Set result to the [string-concatenation](https://262.ecma-international.org/12.0/#string-concatenation) of result and ! [UTF16EncodeCodePoint](https://262.ecma-international.org/12.0/#sec-utf16encodecodepoint)([ℝ](https://262.ecma-international.org/12.0/#%E2%84%9D)(nextCP)).
3.  [Assert](https://262.ecma-international.org/12.0/#assert): If codePoints is empty, then result is the empty String.
4.  Return result.

The "length" property of the `fromCodePoint` function is 1𝔽.

## 22.1.2.3 String.prototype

The initial value of `String.prototype` is the [String prototype object](https://262.ecma-international.org/12.0/#sec-properties-of-the-string-prototype-object).

This property has the attributes { \[\[Writable\]\]: false, \[\[Enumerable\]\]: false, \[\[Configurable\]\]: false }.

## 22.1.2.4 String.raw ( template, ...substitutions )

The `String.raw` function may be called with a variable number of arguments. The first argument is template and the remainder of the arguments form the [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) substitutions. The following steps are taken:

1.  Let numberOfSubstitutions be the number of elements in substitutions.
2.  Let cooked be ? [ToObject](https://262.ecma-international.org/12.0/#sec-toobject)(template).
3.  Let raw be ? [ToObject](https://262.ecma-international.org/12.0/#sec-toobject)(? [Get](https://262.ecma-international.org/12.0/#sec-get-o-p)(cooked, "raw")).
4.  Let literalSegments be ? [LengthOfArrayLike](https://262.ecma-international.org/12.0/#sec-lengthofarraylike)(raw).
5.  If literalSegments ≤ 0, return the empty String.
6.  Let stringElements be a new empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).
7.  Let nextIndex be 0.
8.  Repeat,
    1.  Let nextKey be ! [ToString](https://262.ecma-international.org/12.0/#sec-tostring)([𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(nextIndex)).
    2.  Let nextSeg be ? [ToString](https://262.ecma-international.org/12.0/#sec-tostring)(? [Get](https://262.ecma-international.org/12.0/#sec-get-o-p)(raw, nextKey)).
    3.  Append the code unit elements of nextSeg to the end of stringElements.
    4.  If nextIndex + 1 = literalSegments, then
        1.  Return the String value whose code units are the elements in the [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) stringElements. If stringElements has no elements, the empty String is returned.
    5.  If nextIndex < numberOfSubstitutions, let next be substitutions\[nextIndex\].
    6.  Else, let next be the empty String.
    7.  Let nextSub be ? [ToString](https://262.ecma-international.org/12.0/#sec-tostring)(next).
    8.  Append the code unit elements of nextSub to the end of stringElements.
    9.  Set nextIndex to nextIndex + 1.

Note

The `raw` function is intended for use as a tag function of a Tagged Template ([13.3.11](https://262.ecma-international.org/12.0/#sec-tagged-templates)). When called as such, the first argument will be a well formed template object and the rest parameter will contain the substitution values.

## 22.1.3 Properties of the String Prototype Object

The String prototype object:

-   is %String.prototype%.
-   is a [String exotic object](https://262.ecma-international.org/12.0/#string-exotic-object) and has the internal methods specified for such objects.
-   has a \[\[StringData\]\] internal slot whose value is the empty String.
-   has a "length" property whose initial value is +0𝔽 and whose attributes are { \[\[Writable\]\]: false, \[\[Enumerable\]\]: false, \[\[Configurable\]\]: false }.
-   has a \[\[Prototype\]\] internal slot whose value is [%Object.prototype%](https://262.ecma-international.org/12.0/#sec-properties-of-the-object-prototype-object).

Unless explicitly stated otherwise, the methods of the String prototype object defined below are not generic and the this value passed to them must be either a String value or an object that has a \[\[StringData\]\] internal slot that has been initialized to a String value.

The abstract operation thisStringValue takes argument value. It performs the following steps when called:

1.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(value) is String, return value.
2.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(value) is Object and value has a \[\[StringData\]\] internal slot, then
    1.  Let s be value.\[\[StringData\]\].
    2.  [Assert](https://262.ecma-international.org/12.0/#assert): [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(s) is String.
    3.  Return s.
3.  Throw a TypeError exception.

## 22.1.3.1 String.prototype.charAt ( pos )

Note 1

Returns a single element String containing the code unit at index pos within the String value resulting from converting this object to a String. If there is no element at that index, the result is the empty String. The result is a String value, not a String object.

If `pos` is an [integral Number](https://262.ecma-international.org/12.0/#integral-number), then the result of `x.charAt(pos)` is equivalent to the result of `x.substring(pos, pos + 1)`.

When the `charAt` method is called with one argument pos, the following steps are taken:

1.  Let O be ? [RequireObjectCoercible](https://262.ecma-international.org/12.0/#sec-requireobjectcoercible)(this value).
2.  Let S be ? [ToString](https://262.ecma-international.org/12.0/#sec-tostring)(O).
3.  Let position be ? [ToIntegerOrInfinity](https://262.ecma-international.org/12.0/#sec-tointegerorinfinity)(pos).
4.  Let size be the length of S.
5.  If position < 0 or position ≥ size, return the empty String.
6.  Return the String value of length 1, containing one code unit from S, namely the code unit at index position.

Note 2

The `charAt` function is intentionally generic; it does not require that its this value be a String object. Therefore, it can be transferred to other kinds of objects for use as a method.

## 22.1.3.2 String.prototype.charCodeAt ( pos )

Note 1

Returns a Number (a non-negative [integral Number](https://262.ecma-international.org/12.0/#integral-number) less than 216) that is the numeric value of the code unit at index pos within the String resulting from converting this object to a String. If there is no element at that index, the result is NaN.

When the `charCodeAt` method is called with one argument pos, the following steps are taken:

1.  Let O be ? [RequireObjectCoercible](https://262.ecma-international.org/12.0/#sec-requireobjectcoercible)(this value).
2.  Let S be ? [ToString](https://262.ecma-international.org/12.0/#sec-tostring)(O).
3.  Let position be ? [ToIntegerOrInfinity](https://262.ecma-international.org/12.0/#sec-tointegerorinfinity)(pos).
4.  Let size be the length of S.
5.  If position < 0 or position ≥ size, return NaN.
6.  Return the [Number value](https://262.ecma-international.org/12.0/#number-value) for the numeric value of the code unit at index position within the String S.

Note 2

The `charCodeAt` function is intentionally generic; it does not require that its this value be a String object. Therefore it can be transferred to other kinds of objects for use as a method.

## 22.1.3.3 String.prototype.codePointAt ( pos )

Note 1

Returns a non-negative [integral Number](https://262.ecma-international.org/12.0/#integral-number) less than or equal to 0x10FFFF𝔽 that is the code point value of the UTF-16 encoded code point ([6.1.4](https://262.ecma-international.org/12.0/#sec-ecmascript-language-types-string-type)) starting at the string element at index pos within the String resulting from converting this object to a String. If there is no element at that index, the result is undefined. If a valid UTF-16 [surrogate pair](https://262.ecma-international.org/12.0/#surrogate-pair) does not begin at pos, the result is the code unit at pos.

When the `codePointAt` method is called with one argument pos, the following steps are taken:

1.  Let O be ? [RequireObjectCoercible](https://262.ecma-international.org/12.0/#sec-requireobjectcoercible)(this value).
2.  Let S be ? [ToString](https://262.ecma-international.org/12.0/#sec-tostring)(O).
3.  Let position be ? [ToIntegerOrInfinity](https://262.ecma-international.org/12.0/#sec-tointegerorinfinity)(pos).
4.  Let size be the length of S.
5.  If position < 0 or position ≥ size, return undefined.
6.  Let cp be ! [CodePointAt](https://262.ecma-international.org/12.0/#sec-codepointat)(S, position).
7.  Return [𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(cp.\[\[CodePoint\]\]).

Note 2

The `codePointAt` function is intentionally generic; it does not require that its this value be a String object. Therefore it can be transferred to other kinds of objects for use as a method.

## 22.1.3.4 String.prototype.concat ( ...args )

Note 1

When the `concat` method is called it returns the String value consisting of the code units of the this value (converted to a String) followed by the code units of each of the arguments converted to a String. The result is a String value, not a String object.

When the `concat` method is called with zero or more arguments, the following steps are taken:

1.  Let O be ? [RequireObjectCoercible](https://262.ecma-international.org/12.0/#sec-requireobjectcoercible)(this value).
2.  Let S be ? [ToString](https://262.ecma-international.org/12.0/#sec-tostring)(O).
3.  Let R be S.
4.  For each element next of args, do
    1.  Let nextString be ? [ToString](https://262.ecma-international.org/12.0/#sec-tostring)(next).
    2.  Set R to the [string-concatenation](https://262.ecma-international.org/12.0/#string-concatenation) of R and nextString.
5.  Return R.

The "length" property of the `concat` method is 1𝔽.

Note 2

The `concat` function is intentionally generic; it does not require that its this value be a String object. Therefore it can be transferred to other kinds of objects for use as a method.

## 22.1.3.5 String.prototype.constructor

The initial value of `String.prototype.constructor` is [%String%](https://262.ecma-international.org/12.0/#sec-string-constructor).

## 22.1.3.6 String.prototype.endsWith ( searchString \[ , endPosition \] )

The following steps are taken:

1.  Let O be ? [RequireObjectCoercible](https://262.ecma-international.org/12.0/#sec-requireobjectcoercible)(this value).
2.  Let S be ? [ToString](https://262.ecma-international.org/12.0/#sec-tostring)(O).
3.  Let isRegExp be ? [IsRegExp](https://262.ecma-international.org/12.0/#sec-isregexp)(searchString).
4.  If isRegExp is true, throw a TypeError exception.
5.  Let searchStr be ? [ToString](https://262.ecma-international.org/12.0/#sec-tostring)(searchString).
6.  Let len be the length of S.
7.  If endPosition is undefined, let pos be len; else let pos be ? [ToIntegerOrInfinity](https://262.ecma-international.org/12.0/#sec-tointegerorinfinity)(endPosition).
8.  Let end be the result of [clamping](https://262.ecma-international.org/12.0/#clamping) pos between 0 and len.
9.  Let searchLength be the length of searchStr.
10.  If searchLength = 0, return true.
11.  Let start be end - searchLength.
12.  If start < 0, return false.
13.  Let substring be the [substring](https://262.ecma-international.org/12.0/#substring) of S from start to end.
14.  Return ! [SameValueNonNumeric](https://262.ecma-international.org/12.0/#sec-samevaluenonnumeric)(substring, searchStr).

Note 1

Returns true if the sequence of code units of searchString converted to a String is the same as the corresponding code units of this object (converted to a String) starting at endPosition - length(this). Otherwise returns false.

Note 2

Throwing an exception if the first argument is a RegExp is specified in order to allow future editions to define extensions that allow such argument values.

Note 3

The `endsWith` function is intentionally generic; it does not require that its this value be a String object. Therefore, it can be transferred to other kinds of objects for use as a method.

## 22.1.3.7 String.prototype.includes ( searchString \[ , position \] )

The `includes` method takes two arguments, searchString and position, and performs the following steps:

1.  Let O be ? [RequireObjectCoercible](https://262.ecma-international.org/12.0/#sec-requireobjectcoercible)(this value).
2.  Let S be ? [ToString](https://262.ecma-international.org/12.0/#sec-tostring)(O).
3.  Let isRegExp be ? [IsRegExp](https://262.ecma-international.org/12.0/#sec-isregexp)(searchString).
4.  If isRegExp is true, throw a TypeError exception.
5.  Let searchStr be ? [ToString](https://262.ecma-international.org/12.0/#sec-tostring)(searchString).
6.  Let pos be ? [ToIntegerOrInfinity](https://262.ecma-international.org/12.0/#sec-tointegerorinfinity)(position).
7.  [Assert](https://262.ecma-international.org/12.0/#assert): If position is undefined, then pos is 0.
8.  Let len be the length of S.
9.  Let start be the result of [clamping](https://262.ecma-international.org/12.0/#clamping) pos between 0 and len.
10.  Let index be ! [StringIndexOf](https://262.ecma-international.org/12.0/#sec-stringindexof)(S, searchStr, start).
11.  If index is not -1, return true.
12.  Return false.

Note 1

If searchString appears as a substring of the result of converting this object to a String, at one or more indices that are greater than or equal to position, return true; otherwise, returns false. If position is undefined, 0 is assumed, so as to search all of the String.

Note 2

Throwing an exception if the first argument is a RegExp is specified in order to allow future editions to define extensions that allow such argument values.

Note 3

The `includes` function is intentionally generic; it does not require that its this value be a String object. Therefore, it can be transferred to other kinds of objects for use as a method.

## 22.1.3.8 String.prototype.indexOf ( searchString \[ , position \] )

Note 1

If searchString appears as a substring of the result of converting this object to a String, at one or more indices that are greater than or equal to position, then the smallest such index is returned; otherwise, \-1𝔽 is returned. If position is undefined, +0𝔽 is assumed, so as to search all of the String.

The `indexOf` method takes two arguments, searchString and position, and performs the following steps:

1.  Let O be ? [RequireObjectCoercible](https://262.ecma-international.org/12.0/#sec-requireobjectcoercible)(this value).
2.  Let S be ? [ToString](https://262.ecma-international.org/12.0/#sec-tostring)(O).
3.  Let searchStr be ? [ToString](https://262.ecma-international.org/12.0/#sec-tostring)(searchString).
4.  Let pos be ? [ToIntegerOrInfinity](https://262.ecma-international.org/12.0/#sec-tointegerorinfinity)(position).
5.  [Assert](https://262.ecma-international.org/12.0/#assert): If position is undefined, then pos is 0.
6.  Let len be the length of S.
7.  Let start be the result of [clamping](https://262.ecma-international.org/12.0/#clamping) pos between 0 and len.
8.  Return [𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(! [StringIndexOf](https://262.ecma-international.org/12.0/#sec-stringindexof)(S, searchStr, start)).

Note 2

The `indexOf` function is intentionally generic; it does not require that its this value be a String object. Therefore, it can be transferred to other kinds of objects for use as a method.

## 22.1.3.9 String.prototype.lastIndexOf ( searchString \[ , position \] )

Note 1

If searchString appears as a substring of the result of converting this object to a String at one or more indices that are smaller than or equal to position, then the greatest such index is returned; otherwise, \-1𝔽 is returned. If position is undefined, the length of the String value is assumed, so as to search all of the String.

The `lastIndexOf` method takes two arguments, searchString and position, and performs the following steps:

1.  Let O be ? [RequireObjectCoercible](https://262.ecma-international.org/12.0/#sec-requireobjectcoercible)(this value).
2.  Let S be ? [ToString](https://262.ecma-international.org/12.0/#sec-tostring)(O).
3.  Let searchStr be ? [ToString](https://262.ecma-international.org/12.0/#sec-tostring)(searchString).
4.  Let numPos be ? [ToNumber](https://262.ecma-international.org/12.0/#sec-tonumber)(position).
5.  [Assert](https://262.ecma-international.org/12.0/#assert): If position is undefined, then numPos is NaN.
6.  If numPos is NaN, let pos be +∞; otherwise, let pos be ! [ToIntegerOrInfinity](https://262.ecma-international.org/12.0/#sec-tointegerorinfinity)(numPos).
7.  Let len be the length of S.
8.  Let start be the result of [clamping](https://262.ecma-international.org/12.0/#clamping) pos between 0 and len.
9.  Let searchLen be the length of searchStr.
10.  Let k be the largest possible non-negative [integer](https://262.ecma-international.org/12.0/#integer) not larger than start such that k + searchLen ≤ len, and for all non-negative integers j such that j < searchLen, the code unit at index k + j within S is the same as the code unit at index j within searchStr; but if there is no such [integer](https://262.ecma-international.org/12.0/#integer), let k be -1.
11.  Return [𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(k).

Note 2

The `lastIndexOf` function is intentionally generic; it does not require that its this value be a String object. Therefore, it can be transferred to other kinds of objects for use as a method.

## 22.1.3.10 String.prototype.localeCompare ( that \[ , reserved1 \[ , reserved2 \] \] )

An ECMAScript implementation that includes the ECMA-402 Internationalization API must implement the `localeCompare` method as specified in the ECMA-402 specification. If an ECMAScript implementation does not include the ECMA-402 API the following specification of the `localeCompare` method is used.

When the `localeCompare` method is called with argument that, it returns a Number other than NaN that represents the result of a locale-sensitive String comparison of the this value (converted to a String) with that (converted to a String). The two Strings are S and That. The two Strings are compared in an [implementation-defined](https://262.ecma-international.org/12.0/#implementation-defined) fashion. The result is intended to order String values in the sort order specified by a [host](https://262.ecma-international.org/12.0/#host) default locale, and will be negative, zero, or positive, depending on whether S comes before That in the sort order, the Strings are equal, or S comes after That in the sort order, respectively.

Before performing the comparisons, the following steps are performed to prepare the Strings:

1.  Let O be ? [RequireObjectCoercible](https://262.ecma-international.org/12.0/#sec-requireobjectcoercible)(this value).
2.  Let S be ? [ToString](https://262.ecma-international.org/12.0/#sec-tostring)(O).
3.  Let That be ? [ToString](https://262.ecma-international.org/12.0/#sec-tostring)(that).

The meaning of the optional second and third parameters to this method are defined in the ECMA-402 specification; implementations that do not include ECMA-402 support must not assign any other interpretation to those parameter positions.

The `localeCompare` method, if considered as a function of two arguments this and that, is a consistent comparison function (as defined in [23.1.3.27](https://262.ecma-international.org/12.0/#sec-array.prototype.sort)) on the set of all Strings.

The actual return values are [implementation-defined](https://262.ecma-international.org/12.0/#implementation-defined) to permit implementers to encode additional information in the value, but the function is required to define a total ordering on all Strings. This function must treat Strings that are canonically equivalent according to the Unicode standard as identical and must return `0` when comparing Strings that are considered canonically equivalent.

Note 1

The `localeCompare` method itself is not directly suitable as an argument to `Array.prototype.sort` because the latter requires a function of two arguments.

Note 2

This function is intended to rely on whatever language-sensitive comparison functionality is available to the ECMAScript environment from the [host environment](https://262.ecma-international.org/12.0/#host-environment), and to compare according to the rules of the [host environment](https://262.ecma-international.org/12.0/#host-environment)'s current locale. However, regardless of the [host](https://262.ecma-international.org/12.0/#host) provided comparison capabilities, this function must treat Strings that are canonically equivalent according to the Unicode standard as identical. It is recommended that this function should not honour Unicode compatibility equivalences or decompositions. For a definition and discussion of canonical equivalence see the Unicode Standard, chapters 2 and 3, as well as Unicode Standard Annex #15, Unicode Normalization Forms ([https://unicode.org/reports/tr15/](https://unicode.org/reports/tr15/)) and Unicode Technical Note #5, Canonical Equivalence in Applications ([https://www.unicode.org/notes/tn5/](https://unicode.org/notes/tn5/)). Also see Unicode Technical Standard #10, Unicode Collation Algorithm ([https://unicode.org/reports/tr10/](https://unicode.org/reports/tr10/)).

Note 3

The `localeCompare` function is intentionally generic; it does not require that its this value be a String object. Therefore, it can be transferred to other kinds of objects for use as a method.

## 22.1.3.11 String.prototype.match ( regexp )

When the `match` method is called with argument regexp, the following steps are taken:

1.  Let O be ? [RequireObjectCoercible](https://262.ecma-international.org/12.0/#sec-requireobjectcoercible)(this value).
2.  If regexp is neither undefined nor null, then
    1.  Let matcher be ? [GetMethod](https://262.ecma-international.org/12.0/#sec-getmethod)(regexp, [@@match](https://262.ecma-international.org/12.0/#sec-well-known-symbols)).
    2.  If matcher is not undefined, then
        1.  Return ? [Call](https://262.ecma-international.org/12.0/#sec-call)(matcher, regexp, « O »).
3.  Let S be ? [ToString](https://262.ecma-international.org/12.0/#sec-tostring)(O).
4.  Let rx be ? [RegExpCreate](https://262.ecma-international.org/12.0/#sec-regexpcreate)(regexp, undefined).
5.  Return ? [Invoke](https://262.ecma-international.org/12.0/#sec-invoke)(rx, [@@match](https://262.ecma-international.org/12.0/#sec-well-known-symbols), « S »).

Note

The `match` function is intentionally generic; it does not require that its this value be a String object. Therefore, it can be transferred to other kinds of objects for use as a method.

## 22.1.3.12 String.prototype.matchAll ( regexp )

Performs a regular expression match of the String representing the this value against regexp and returns an iterator. Each iteration result's value is an Array object containing the results of the match, or null if the String did not match.

When the `matchAll` method is called, the following steps are taken:

1.  Let O be ? [RequireObjectCoercible](https://262.ecma-international.org/12.0/#sec-requireobjectcoercible)(this value).
2.  If regexp is neither undefined nor null, then
    1.  Let isRegExp be ? [IsRegExp](https://262.ecma-international.org/12.0/#sec-isregexp)(regexp).
    2.  If isRegExp is true, then
        1.  Let flags be ? [Get](https://262.ecma-international.org/12.0/#sec-get-o-p)(regexp, "flags").
        2.  Perform ? [RequireObjectCoercible](https://262.ecma-international.org/12.0/#sec-requireobjectcoercible)(flags).
        3.  If ? [ToString](https://262.ecma-international.org/12.0/#sec-tostring)(flags) does not contain "g", throw a TypeError exception.
    3.  Let matcher be ? [GetMethod](https://262.ecma-international.org/12.0/#sec-getmethod)(regexp, [@@matchAll](https://262.ecma-international.org/12.0/#sec-well-known-symbols)).
    4.  If matcher is not undefined, then
        1.  Return ? [Call](https://262.ecma-international.org/12.0/#sec-call)(matcher, regexp, « O »).
3.  Let S be ? [ToString](https://262.ecma-international.org/12.0/#sec-tostring)(O).
4.  Let rx be ? [RegExpCreate](https://262.ecma-international.org/12.0/#sec-regexpcreate)(regexp, "g").
5.  Return ? [Invoke](https://262.ecma-international.org/12.0/#sec-invoke)(rx, [@@matchAll](https://262.ecma-international.org/12.0/#sec-well-known-symbols), « S »).

Note 1

The `matchAll` function is intentionally generic, it does not require that its

this

value be a String object. Therefore, it can be transferred to other kinds of objects for use as a method.

Note 2

Similarly to `String.prototype.split`, `String.prototype.matchAll` is designed to typically act without mutating its inputs.

## 22.1.3.13 String.prototype.normalize ( \[ form \] )

When the `normalize` method is called with one argument form, the following steps are taken:

1.  Let O be ? [RequireObjectCoercible](https://262.ecma-international.org/12.0/#sec-requireobjectcoercible)(this value).
2.  Let S be ? [ToString](https://262.ecma-international.org/12.0/#sec-tostring)(O).
3.  If form is undefined, let f be "NFC".
4.  Else, let f be ? [ToString](https://262.ecma-international.org/12.0/#sec-tostring)(form).
5.  If f is not one of "NFC", "NFD", "NFKC", or "NFKD", throw a RangeError exception.
6.  Let ns be the String value that is the result of normalizing S into the normalization form named by f as specified in [https://unicode.org/reports/tr15/](https://unicode.org/reports/tr15/).
7.  Return ns.

Note

The `normalize` function is intentionally generic; it does not require that its this value be a String object. Therefore it can be transferred to other kinds of objects for use as a method.

## 22.1.3.14 String.prototype.padEnd ( maxLength \[ , fillString \] )

When the `padEnd` method is called, the following steps are taken:

1.  Let O be ? [RequireObjectCoercible](https://262.ecma-international.org/12.0/#sec-requireobjectcoercible)(this value).
2.  Return ? [StringPad](https://262.ecma-international.org/12.0/#sec-stringpad)(O, maxLength, fillString, end).

## 22.1.3.15 String.prototype.padStart ( maxLength \[ , fillString \] )

When the `padStart` method is called, the following steps are taken:

1.  Let O be ? [RequireObjectCoercible](https://262.ecma-international.org/12.0/#sec-requireobjectcoercible)(this value).
2.  Return ? [StringPad](https://262.ecma-international.org/12.0/#sec-stringpad)(O, maxLength, fillString, start).

## 22.1.3.15.1 StringPad ( O, maxLength, fillString, placement )

The abstract operation StringPad takes arguments O, maxLength, fillString, and placement. It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): placement is start or end.
2.  Let S be ? [ToString](https://262.ecma-international.org/12.0/#sec-tostring)(O).
3.  Let intMaxLength be [ℝ](https://262.ecma-international.org/12.0/#%E2%84%9D)(? [ToLength](https://262.ecma-international.org/12.0/#sec-tolength)(maxLength)).
4.  Let stringLength be the length of S.
5.  If intMaxLength ≤ stringLength, return S.
6.  If fillString is undefined, let filler be the String value consisting solely of the code unit 0x0020 (SPACE).
7.  Else, let filler be ? [ToString](https://262.ecma-international.org/12.0/#sec-tostring)(fillString).
8.  If filler is the empty String, return S.
9.  Let fillLen be intMaxLength - stringLength.
10.  Let truncatedStringFiller be the String value consisting of repeated concatenations of filler truncated to length fillLen.
11.  If placement is start, return the [string-concatenation](https://262.ecma-international.org/12.0/#string-concatenation) of truncatedStringFiller and S.
12.  Else, return the [string-concatenation](https://262.ecma-international.org/12.0/#string-concatenation) of S and truncatedStringFiller.

Note 1

The argument maxLength will be clamped such that it can be no smaller than the length of S.

Note 2

The argument fillString defaults to " " (the String value consisting of the code unit 0x0020 SPACE).

## 22.1.3.16 String.prototype.repeat ( count )

The following steps are taken:

1.  Let O be ? [RequireObjectCoercible](https://262.ecma-international.org/12.0/#sec-requireobjectcoercible)(this value).
2.  Let S be ? [ToString](https://262.ecma-international.org/12.0/#sec-tostring)(O).
3.  Let n be ? [ToIntegerOrInfinity](https://262.ecma-international.org/12.0/#sec-tointegerorinfinity)(count).
4.  If n < 0 or n is +∞, throw a RangeError exception.
5.  If n is 0, return the empty String.
6.  Return the String value that is made from n copies of S appended together.

Note 1

This method creates the String value consisting of the code units of the this value (converted to String) repeated count times.

Note 2

The `repeat` function is intentionally generic; it does not require that its this value be a String object. Therefore, it can be transferred to other kinds of objects for use as a method.

## 22.1.3.17 String.prototype.replace ( searchValue, replaceValue )

When the `replace` method is called with arguments searchValue and replaceValue, the following steps are taken:

1.  Let O be ? [RequireObjectCoercible](https://262.ecma-international.org/12.0/#sec-requireobjectcoercible)(this value).
2.  If searchValue is neither undefined nor null, then
    1.  Let replacer be ? [GetMethod](https://262.ecma-international.org/12.0/#sec-getmethod)(searchValue, [@@replace](https://262.ecma-international.org/12.0/#sec-well-known-symbols)).
    2.  If replacer is not undefined, then
        1.  Return ? [Call](https://262.ecma-international.org/12.0/#sec-call)(replacer, searchValue, « O, replaceValue »).
3.  Let string be ? [ToString](https://262.ecma-international.org/12.0/#sec-tostring)(O).
4.  Let searchString be ? [ToString](https://262.ecma-international.org/12.0/#sec-tostring)(searchValue).
5.  Let functionalReplace be [IsCallable](https://262.ecma-international.org/12.0/#sec-iscallable)(replaceValue).
6.  If functionalReplace is false, then
    1.  Set replaceValue to ? [ToString](https://262.ecma-international.org/12.0/#sec-tostring)(replaceValue).
7.  Let searchLength be the length of searchString.
8.  Let position be ! [StringIndexOf](https://262.ecma-international.org/12.0/#sec-stringindexof)(string, searchString, 0).
9.  If position is -1, return string.
10.  Let preserved be the [substring](https://262.ecma-international.org/12.0/#substring) of string from 0 to position.
11.  If functionalReplace is true, then
    1.  Let replacement be ? [ToString](https://262.ecma-international.org/12.0/#sec-tostring)(? [Call](https://262.ecma-international.org/12.0/#sec-call)(replaceValue, undefined, « searchString, [𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(position), string »)).
12.  Else,
    1.  [Assert](https://262.ecma-international.org/12.0/#assert): [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(replaceValue) is String.
    2.  Let captures be a new empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).
    3.  Let replacement be ! [GetSubstitution](https://262.ecma-international.org/12.0/#sec-getsubstitution)(searchString, string, position, captures, undefined, replaceValue).
13.  Return the [string-concatenation](https://262.ecma-international.org/12.0/#string-concatenation) of preserved, replacement, and the [substring](https://262.ecma-international.org/12.0/#substring) of string from position + searchLength.

Note

The `replace` function is intentionally generic; it does not require that its this value be a String object. Therefore, it can be transferred to other kinds of objects for use as a method.

## 22.1.3.17.1 GetSubstitution ( matched, str, position, captures, namedCaptures, replacement )

The abstract operation GetSubstitution takes arguments matched, str, position (a non-negative [integer](https://262.ecma-international.org/12.0/#integer)), captures, namedCaptures, and replacement. It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(matched) is String.
2.  Let matchLength be the number of code units in matched.
3.  [Assert](https://262.ecma-international.org/12.0/#assert): [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(str) is String.
4.  Let stringLength be the number of code units in str.
5.  [Assert](https://262.ecma-international.org/12.0/#assert): position ≤ stringLength.
6.  [Assert](https://262.ecma-international.org/12.0/#assert): captures is a possibly empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) of Strings.
7.  [Assert](https://262.ecma-international.org/12.0/#assert): [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(replacement) is String.
8.  Let tailPos be position + matchLength.
9.  Let m be the number of elements in captures.
10.  Let result be the String value derived from replacement by copying code unit elements from replacement to result while performing replacements as specified in [Table 54](https://262.ecma-international.org/12.0/#table-replacement-text-symbol-substitutions). These `$` replacements are done left-to-right, and, once such a replacement is performed, the new replacement text is not subject to further replacements.
11.  Return result.

Table 54: Replacement Text Symbol Substitutions

| Code units | Unicode Characters | Replacement text |
| --- | --- | --- |
| 0x0024, 0x0024 | `$$` | `$` |
| 0x0024, 0x0026 | `$&` | matched |
| 0x0024, 0x0060 | `` $` `` | The replacement is the [substring](https://262.ecma-international.org/12.0/#substring) of str from 0 to position. |
| 0x0024, 0x0027 | `$'` | If tailPos ≥ stringLength, the replacement is the empty String. Otherwise the replacement is the [substring](https://262.ecma-international.org/12.0/#substring) of str from tailPos. |
| 0x0024, N  
Where  
0x0031 ≤ N ≤ 0x0039 | `$n` where  
`n` is one of `1 2 3 4 5 6 7 8 9` and `$n` is not followed by a decimal digit | The nth element of captures, where n is a single digit in the range 1 to 9. If n ≤ m and the nth element of captures is undefined, use the empty String instead. If n > m, no replacement is done. |
| 0x0024, N, N  
Where  
0x0030 ≤ N ≤ 0x0039 | `$nn` where  
`n` is one of `0 1 2 3 4 5 6 7 8 9` | The nnth element of captures, where nn is a two-digit decimal number in the range 01 to 99. If nn ≤ m and the nnth element of captures is undefined, use the empty String instead. If nn is 00 or nn > m, no replacement is done. |
| 0x0024, 0x003C | `$<` | 
1.  If namedCaptures is undefined, the replacement text is the String "$<".
2.  Else,
    1.  [Assert](https://262.ecma-international.org/12.0/#assert): [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(namedCaptures) is Object.
    2.  Scan until the next `>` U+003E (GREATER-THAN SIGN).
    3.  If none is found, the replacement text is the String "$<".
    4.  Else,
        1.  Let groupName be the enclosed substring.
        2.  Let capture be ? [Get](https://262.ecma-international.org/12.0/#sec-get-o-p)(namedCaptures, groupName).
        3.  If capture is undefined, replace the text through `>` with the empty String.
        4.  Otherwise, replace the text through `>` with ? [ToString](https://262.ecma-international.org/12.0/#sec-tostring)(capture).

 |
| 0x0024 | `$` in any context that does not match any of the above. | `$` |

## 22.1.3.18 String.prototype.replaceAll ( searchValue, replaceValue )

When the `replaceAll` method is called with arguments searchValue and replaceValue, the following steps are taken:

1.  Let O be ? [RequireObjectCoercible](https://262.ecma-international.org/12.0/#sec-requireobjectcoercible)(this value).
2.  If searchValue is neither undefined nor null, then
    1.  Let isRegExp be ? [IsRegExp](https://262.ecma-international.org/12.0/#sec-isregexp)(searchValue).
    2.  If isRegExp is true, then
        1.  Let flags be ? [Get](https://262.ecma-international.org/12.0/#sec-get-o-p)(searchValue, "flags").
        2.  Perform ? [RequireObjectCoercible](https://262.ecma-international.org/12.0/#sec-requireobjectcoercible)(flags).
        3.  If ? [ToString](https://262.ecma-international.org/12.0/#sec-tostring)(flags) does not contain "g", throw a TypeError exception.
    3.  Let replacer be ? [GetMethod](https://262.ecma-international.org/12.0/#sec-getmethod)(searchValue, [@@replace](https://262.ecma-international.org/12.0/#sec-well-known-symbols)).
    4.  If replacer is not undefined, then
        1.  Return ? [Call](https://262.ecma-international.org/12.0/#sec-call)(replacer, searchValue, « O, replaceValue »).
3.  Let string be ? [ToString](https://262.ecma-international.org/12.0/#sec-tostring)(O).
4.  Let searchString be ? [ToString](https://262.ecma-international.org/12.0/#sec-tostring)(searchValue).
5.  Let functionalReplace be [IsCallable](https://262.ecma-international.org/12.0/#sec-iscallable)(replaceValue).
6.  If functionalReplace is false, then
    1.  Set replaceValue to ? [ToString](https://262.ecma-international.org/12.0/#sec-tostring)(replaceValue).
7.  Let searchLength be the length of searchString.
8.  Let advanceBy be [max](https://262.ecma-international.org/12.0/#eqn-max)(1, searchLength).
9.  Let matchPositions be a new empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).
10.  Let position be ! [StringIndexOf](https://262.ecma-international.org/12.0/#sec-stringindexof)(string, searchString, 0).
11.  Repeat, while position is not -1,
    1.  Append position to the end of matchPositions.
    2.  Set position to ! [StringIndexOf](https://262.ecma-international.org/12.0/#sec-stringindexof)(string, searchString, position + advanceBy).
12.  Let endOfLastMatch be 0.
13.  Let result be the empty String.
14.  For each element p of matchPositions, do
    1.  Let preserved be the [substring](https://262.ecma-international.org/12.0/#substring) of string from endOfLastMatch to p.
    2.  If functionalReplace is true, then
        1.  Let replacement be ? [ToString](https://262.ecma-international.org/12.0/#sec-tostring)(? [Call](https://262.ecma-international.org/12.0/#sec-call)(replaceValue, undefined, « searchString, [𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(p), string »)).
    3.  Else,
        1.  [Assert](https://262.ecma-international.org/12.0/#assert): [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(replaceValue) is String.
        2.  Let captures be a new empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).
        3.  Let replacement be ! [GetSubstitution](https://262.ecma-international.org/12.0/#sec-getsubstitution)(searchString, string, p, captures, undefined, replaceValue).
    4.  Set result to the [string-concatenation](https://262.ecma-international.org/12.0/#string-concatenation) of result, preserved, and replacement.
    5.  Set endOfLastMatch to p + searchLength.
15.  If endOfLastMatch < the length of string, then
    1.  Set result to the [string-concatenation](https://262.ecma-international.org/12.0/#string-concatenation) of result and the [substring](https://262.ecma-international.org/12.0/#substring) of string from endOfLastMatch.
16.  Return result.

## 22.1.3.19 String.prototype.search ( regexp )

When the `search` method is called with argument regexp, the following steps are taken:

1.  Let O be ? [RequireObjectCoercible](https://262.ecma-international.org/12.0/#sec-requireobjectcoercible)(this value).
2.  If regexp is neither undefined nor null, then
    1.  Let searcher be ? [GetMethod](https://262.ecma-international.org/12.0/#sec-getmethod)(regexp, [@@search](https://262.ecma-international.org/12.0/#sec-well-known-symbols)).
    2.  If searcher is not undefined, then
        1.  Return ? [Call](https://262.ecma-international.org/12.0/#sec-call)(searcher, regexp, « O »).
3.  Let string be ? [ToString](https://262.ecma-international.org/12.0/#sec-tostring)(O).
4.  Let rx be ? [RegExpCreate](https://262.ecma-international.org/12.0/#sec-regexpcreate)(regexp, undefined).
5.  Return ? [Invoke](https://262.ecma-international.org/12.0/#sec-invoke)(rx, [@@search](https://262.ecma-international.org/12.0/#sec-well-known-symbols), « string »).

Note

The `search` function is intentionally generic; it does not require that its this value be a String object. Therefore, it can be transferred to other kinds of objects for use as a method.

## 22.1.3.20 String.prototype.slice ( start, end )

The `slice` method takes two arguments, start and end, and returns a substring of the result of converting this object to a String, starting from index start and running to, but not including, index end (or through the end of the String if end is undefined). If start is negative, it is treated as sourceLength + start where sourceLength is the length of the String. If end is negative, it is treated as sourceLength + end where sourceLength is the length of the String. The result is a String value, not a String object. The following steps are taken:

1.  Let O be ? [RequireObjectCoercible](https://262.ecma-international.org/12.0/#sec-requireobjectcoercible)(this value).
2.  Let S be ? [ToString](https://262.ecma-international.org/12.0/#sec-tostring)(O).
3.  Let len be the length of S.
4.  Let intStart be ? [ToIntegerOrInfinity](https://262.ecma-international.org/12.0/#sec-tointegerorinfinity)(start).
5.  If intStart is -∞, let from be 0.
6.  Else if intStart < 0, let from be [max](https://262.ecma-international.org/12.0/#eqn-max)(len + intStart, 0).
7.  Else, let from be [min](https://262.ecma-international.org/12.0/#eqn-min)(intStart, len).
8.  If end is undefined, let intEnd be len; else let intEnd be ? [ToIntegerOrInfinity](https://262.ecma-international.org/12.0/#sec-tointegerorinfinity)(end).
9.  If intEnd is -∞, let to be 0.
10.  Else if intEnd < 0, let to be [max](https://262.ecma-international.org/12.0/#eqn-max)(len + intEnd, 0).
11.  Else, let to be [min](https://262.ecma-international.org/12.0/#eqn-min)(intEnd, len).
12.  If from ≥ to, return the empty String.
13.  Return the [substring](https://262.ecma-international.org/12.0/#substring) of S from from to to.

Note

The `slice` function is intentionally generic; it does not require that its this value be a String object. Therefore it can be transferred to other kinds of objects for use as a method.

## 22.1.3.21 String.prototype.split ( separator, limit )

Returns an Array object into which substrings of the result of converting this object to a String have been stored. The substrings are determined by searching from left to right for occurrences of separator; these occurrences are not part of any String in the returned array, but serve to divide up the String value. The value of separator may be a String of any length or it may be an object, such as a RegExp, that has a [@@split](https://262.ecma-international.org/12.0/#sec-well-known-symbols) method.

When the `split` method is called, the following steps are taken:

1.  Let O be ? [RequireObjectCoercible](https://262.ecma-international.org/12.0/#sec-requireobjectcoercible)(this value).
2.  If separator is neither undefined nor null, then
    1.  Let splitter be ? [GetMethod](https://262.ecma-international.org/12.0/#sec-getmethod)(separator, [@@split](https://262.ecma-international.org/12.0/#sec-well-known-symbols)).
    2.  If splitter is not undefined, then
        1.  Return ? [Call](https://262.ecma-international.org/12.0/#sec-call)(splitter, separator, « O, limit »).
3.  Let S be ? [ToString](https://262.ecma-international.org/12.0/#sec-tostring)(O).
4.  Let A be ! [ArrayCreate](https://262.ecma-international.org/12.0/#sec-arraycreate)(0).
5.  Let lengthA be 0.
6.  If limit is undefined, let lim be 232 - 1; else let lim be [ℝ](https://262.ecma-international.org/12.0/#%E2%84%9D)(? [ToUint32](https://262.ecma-international.org/12.0/#sec-touint32)(limit)).
7.  Let R be ? [ToString](https://262.ecma-international.org/12.0/#sec-tostring)(separator).
8.  If lim = 0, return A.
9.  If separator is undefined, then
    1.  Perform ! [CreateDataPropertyOrThrow](https://262.ecma-international.org/12.0/#sec-createdatapropertyorthrow)(A, "0", S).
    2.  Return A.
10.  Let s be the length of S.
11.  If s = 0, then
    1.  If R is not the empty String, then
        1.  Perform ! [CreateDataPropertyOrThrow](https://262.ecma-international.org/12.0/#sec-createdatapropertyorthrow)(A, "0", S).
    2.  Return A.
12.  Let p be 0.
13.  Let q be p.
14.  Repeat, while q ≠ s,
    1.  Let e be [SplitMatch](https://262.ecma-international.org/12.0/#sec-splitmatch)(S, q, R).
    2.  If e is not-matched, set q to q + 1.
    3.  Else,
        1.  [Assert](https://262.ecma-international.org/12.0/#assert): e is a non-negative [integer](https://262.ecma-international.org/12.0/#integer) ≤ s.
        2.  If e = p, set q to q + 1.
        3.  Else,
            1.  Let T be the [substring](https://262.ecma-international.org/12.0/#substring) of S from p to q.
            2.  Perform ! [CreateDataPropertyOrThrow](https://262.ecma-international.org/12.0/#sec-createdatapropertyorthrow)(A, ! [ToString](https://262.ecma-international.org/12.0/#sec-tostring)([𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(lengthA)), T).
            3.  Set lengthA to lengthA + 1.
            4.  If lengthA = lim, return A.
            5.  Set p to e.
            6.  Set q to p.
15.  Let T be the [substring](https://262.ecma-international.org/12.0/#substring) of S from p to s.
16.  Perform ! [CreateDataPropertyOrThrow](https://262.ecma-international.org/12.0/#sec-createdatapropertyorthrow)(A, ! [ToString](https://262.ecma-international.org/12.0/#sec-tostring)([𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(lengthA)), T).
17.  Return A.

Note 1

The value of separator may be an empty String. In this case, separator does not match the empty substring at the beginning or end of the input String, nor does it match the empty substring at the end of the previous separator match. If separator is the empty String, the String is split up into individual code unit elements; the length of the result array equals the length of the String, and each substring contains one code unit.

If the this value is (or converts to) the empty String, the result depends on whether separator can match the empty String. If it can, the result array contains no elements. Otherwise, the result array contains one element, which is the empty String.

If separator is undefined, then the result array contains just one String, which is the this value (converted to a String). If limit is not undefined, then the output array is truncated so that it contains no more than limit elements.

Note 2

The `split` function is intentionally generic; it does not require that its this value be a String object. Therefore, it can be transferred to other kinds of objects for use as a method.

## 22.1.3.21.1 SplitMatch ( S, q, R )

The abstract operation SplitMatch takes arguments S (a String), q (a non-negative [integer](https://262.ecma-international.org/12.0/#integer)), and R (a String). It returns either not-matched or the end index of a match. It performs the following steps when called:

1.  Let r be the number of code units in R.
2.  Let s be the number of code units in S.
3.  If q + r > s, return not-matched.
4.  If there exists an [integer](https://262.ecma-international.org/12.0/#integer) i between 0 (inclusive) and r (exclusive) such that the code unit at index q + i within S is different from the code unit at index i within R, return not-matched.
5.  Return q + r.

## 22.1.3.22 String.prototype.startsWith ( searchString \[ , position \] )

The following steps are taken:

1.  Let O be ? [RequireObjectCoercible](https://262.ecma-international.org/12.0/#sec-requireobjectcoercible)(this value).
2.  Let S be ? [ToString](https://262.ecma-international.org/12.0/#sec-tostring)(O).
3.  Let isRegExp be ? [IsRegExp](https://262.ecma-international.org/12.0/#sec-isregexp)(searchString).
4.  If isRegExp is true, throw a TypeError exception.
5.  Let searchStr be ? [ToString](https://262.ecma-international.org/12.0/#sec-tostring)(searchString).
6.  Let len be the length of S.
7.  If position is undefined, let pos be 0; else let pos be ? [ToIntegerOrInfinity](https://262.ecma-international.org/12.0/#sec-tointegerorinfinity)(position).
8.  Let start be the result of [clamping](https://262.ecma-international.org/12.0/#clamping) pos between 0 and len.
9.  Let searchLength be the length of searchStr.
10.  If searchLength = 0, return true.
11.  Let end be start + searchLength.
12.  If end > len, return false.
13.  Let substring be the [substring](https://262.ecma-international.org/12.0/#substring) of S from start to end.
14.  Return ! [SameValueNonNumeric](https://262.ecma-international.org/12.0/#sec-samevaluenonnumeric)(substring, searchStr).

Note 1

This method returns true if the sequence of code units of searchString converted to a String is the same as the corresponding code units of this object (converted to a String) starting at index position. Otherwise returns false.

Note 2

Throwing an exception if the first argument is a RegExp is specified in order to allow future editions to define extensions that allow such argument values.

Note 3

The `startsWith` function is intentionally generic; it does not require that its this value be a String object. Therefore, it can be transferred to other kinds of objects for use as a method.

## 22.1.3.23 String.prototype.substring ( start, end )

The `substring` method takes two arguments, start and end, and returns a substring of the result of converting this object to a String, starting from index start and running to, but not including, index end of the String (or through the end of the String if end is undefined). The result is a String value, not a String object.

If either argument is NaN or negative, it is replaced with zero; if either argument is larger than the length of the String, it is replaced with the length of the String.

If start is larger than end, they are swapped.

The following steps are taken:

1.  Let O be ? [RequireObjectCoercible](https://262.ecma-international.org/12.0/#sec-requireobjectcoercible)(this value).
2.  Let S be ? [ToString](https://262.ecma-international.org/12.0/#sec-tostring)(O).
3.  Let len be the length of S.
4.  Let intStart be ? [ToIntegerOrInfinity](https://262.ecma-international.org/12.0/#sec-tointegerorinfinity)(start).
5.  If end is undefined, let intEnd be len; else let intEnd be ? [ToIntegerOrInfinity](https://262.ecma-international.org/12.0/#sec-tointegerorinfinity)(end).
6.  Let finalStart be the result of [clamping](https://262.ecma-international.org/12.0/#clamping) intStart between 0 and len.
7.  Let finalEnd be the result of [clamping](https://262.ecma-international.org/12.0/#clamping) intEnd between 0 and len.
8.  Let from be [min](https://262.ecma-international.org/12.0/#eqn-min)(finalStart, finalEnd).
9.  Let to be [max](https://262.ecma-international.org/12.0/#eqn-max)(finalStart, finalEnd).
10.  Return the [substring](https://262.ecma-international.org/12.0/#substring) of S from from to to.

Note

The `substring` function is intentionally generic; it does not require that its this value be a String object. Therefore, it can be transferred to other kinds of objects for use as a method.

## 22.1.3.24 String.prototype.toLocaleLowerCase ( \[ reserved1 \[ , reserved2 \] \] )

An ECMAScript implementation that includes the ECMA-402 Internationalization API must implement the `toLocaleLowerCase` method as specified in the ECMA-402 specification. If an ECMAScript implementation does not include the ECMA-402 API the following specification of the `toLocaleLowerCase` method is used.

This function interprets a String value as a sequence of UTF-16 encoded code points, as described in [6.1.4](https://262.ecma-international.org/12.0/#sec-ecmascript-language-types-string-type).

This function works exactly the same as `toLowerCase` except that its result is intended to yield the correct result for the [host environment](https://262.ecma-international.org/12.0/#host-environment)'s current locale, rather than a locale-independent result. There will only be a difference in the few cases (such as Turkish) where the rules for that language conflict with the regular Unicode case mappings.

The meaning of the optional parameters to this method are defined in the ECMA-402 specification; implementations that do not include ECMA-402 support must not use those parameter positions for anything else.

Note

The `toLocaleLowerCase` function is intentionally generic; it does not require that its this value be a String object. Therefore, it can be transferred to other kinds of objects for use as a method.

## 22.1.3.25 String.prototype.toLocaleUpperCase ( \[ reserved1 \[ , reserved2 \] \] )

An ECMAScript implementation that includes the ECMA-402 Internationalization API must implement the `toLocaleUpperCase` method as specified in the ECMA-402 specification. If an ECMAScript implementation does not include the ECMA-402 API the following specification of the `toLocaleUpperCase` method is used.

This function interprets a String value as a sequence of UTF-16 encoded code points, as described in [6.1.4](https://262.ecma-international.org/12.0/#sec-ecmascript-language-types-string-type).

This function works exactly the same as `toUpperCase` except that its result is intended to yield the correct result for the [host environment](https://262.ecma-international.org/12.0/#host-environment)'s current locale, rather than a locale-independent result. There will only be a difference in the few cases (such as Turkish) where the rules for that language conflict with the regular Unicode case mappings.

The meaning of the optional parameters to this method are defined in the ECMA-402 specification; implementations that do not include ECMA-402 support must not use those parameter positions for anything else.

Note

The `toLocaleUpperCase` function is intentionally generic; it does not require that its this value be a String object. Therefore, it can be transferred to other kinds of objects for use as a method.

## 22.1.3.26 String.prototype.toLowerCase ( )

This function interprets a String value as a sequence of UTF-16 encoded code points, as described in [6.1.4](https://262.ecma-international.org/12.0/#sec-ecmascript-language-types-string-type). The following steps are taken:

1.  Let O be ? [RequireObjectCoercible](https://262.ecma-international.org/12.0/#sec-requireobjectcoercible)(this value).
2.  Let S be ? [ToString](https://262.ecma-international.org/12.0/#sec-tostring)(O).
3.  Let sText be ! [StringToCodePoints](https://262.ecma-international.org/12.0/#sec-stringtocodepoints)(S).
4.  Let lowerText be the result of toLowercase(sText), according to the Unicode Default Case Conversion algorithm.
5.  Let L be ! [CodePointsToString](https://262.ecma-international.org/12.0/#sec-codepointstostring)(lowerText).
6.  Return L.

The result must be derived according to the locale-insensitive case mappings in the Unicode Character Database (this explicitly includes not only the UnicodeData.txt file, but also all locale-insensitive mappings in the SpecialCasings.txt file that accompanies it).

Note 1

The case mapping of some code points may produce multiple code points. In this case the result String may not be the same length as the source String. Because both `toUpperCase` and `toLowerCase` have context-sensitive behaviour, the functions are not symmetrical. In other words, `s.toUpperCase().toLowerCase()` is not necessarily equal to `s.toLowerCase()`.

Note 2

The `toLowerCase` function is intentionally generic; it does not require that its this value be a String object. Therefore, it can be transferred to other kinds of objects for use as a method.

## 22.1.3.27 String.prototype.toString ( )

When the `toString` method is called, the following steps are taken:

1.  Return ? [thisStringValue](https://262.ecma-international.org/12.0/#thisstringvalue)(this value).

Note

For a String object, the `toString` method happens to return the same thing as the `valueOf` method.

## 22.1.3.28 String.prototype.toUpperCase ( )

This function interprets a String value as a sequence of UTF-16 encoded code points, as described in [6.1.4](https://262.ecma-international.org/12.0/#sec-ecmascript-language-types-string-type).

This function behaves in exactly the same way as `String.prototype.toLowerCase`, except that the String is mapped using the toUppercase algorithm of the Unicode Default Case Conversion.

Note

The `toUpperCase` function is intentionally generic; it does not require that its this value be a String object. Therefore, it can be transferred to other kinds of objects for use as a method.

## 22.1.3.29 String.prototype.trim ( )

This function interprets a String value as a sequence of UTF-16 encoded code points, as described in [6.1.4](https://262.ecma-international.org/12.0/#sec-ecmascript-language-types-string-type).

The following steps are taken:

1.  Let S be the this value.
2.  Return ? [TrimString](https://262.ecma-international.org/12.0/#sec-trimstring)(S, start+end).

Note

The `trim` function is intentionally generic; it does not require that its this value be a String object. Therefore, it can be transferred to other kinds of objects for use as a method.

## 22.1.3.29.1 TrimString ( string, where )

The abstract operation TrimString takes arguments string and where. It interprets string as a sequence of UTF-16 encoded code points, as described in [6.1.4](https://262.ecma-international.org/12.0/#sec-ecmascript-language-types-string-type). It performs the following steps when called:

1.  Let str be ? [RequireObjectCoercible](https://262.ecma-international.org/12.0/#sec-requireobjectcoercible)(string).
2.  Let S be ? [ToString](https://262.ecma-international.org/12.0/#sec-tostring)(str).
3.  If where is start, let T be the String value that is a copy of S with leading white space removed.
4.  Else if where is end, let T be the String value that is a copy of S with trailing white space removed.
5.  Else,
    1.  [Assert](https://262.ecma-international.org/12.0/#assert): where is start+end.
    2.  Let T be the String value that is a copy of S with both leading and trailing white space removed.
6.  Return T.

The definition of white space is the union of [WhiteSpace](https://262.ecma-international.org/12.0/#prod-WhiteSpace) and [LineTerminator](https://262.ecma-international.org/12.0/#prod-LineTerminator). When determining whether a Unicode code point is in Unicode general category “Space\_Separator” (“Zs”), code unit sequences are interpreted as UTF-16 encoded code point sequences as specified in [6.1.4](https://262.ecma-international.org/12.0/#sec-ecmascript-language-types-string-type).

## 22.1.3.30 String.prototype.trimEnd ( )

This function interprets a String value as a sequence of UTF-16 encoded code points, as described in [6.1.4](https://262.ecma-international.org/12.0/#sec-ecmascript-language-types-string-type).

The following steps are taken:

1.  Let S be the this value.
2.  Return ? [TrimString](https://262.ecma-international.org/12.0/#sec-trimstring)(S, end).

Note

The `trimEnd` function is intentionally generic; it does not require that its this value be a String object. Therefore, it can be transferred to other kinds of objects for use as a method.

## 22.1.3.31 String.prototype.trimStart ( )

This function interprets a String value as a sequence of UTF-16 encoded code points, as described in [6.1.4](https://262.ecma-international.org/12.0/#sec-ecmascript-language-types-string-type).

The following steps are taken:

1.  Let S be the this value.
2.  Return ? [TrimString](https://262.ecma-international.org/12.0/#sec-trimstring)(S, start).

Note

The `trimStart` function is intentionally generic; it does not require that its this value be a String object. Therefore, it can be transferred to other kinds of objects for use as a method.

## 22.1.3.32 String.prototype.valueOf ( )

When the `valueOf` method is called, the following steps are taken:

1.  Return ? [thisStringValue](https://262.ecma-international.org/12.0/#thisstringvalue)(this value).

## 22.1.3.33 String.prototype \[ @@iterator \] ( )

When the `@@iterator` method is called it returns an Iterator object ([27.1.1.2](https://262.ecma-international.org/12.0/#sec-iterator-interface)) that iterates over the code points of a String value, returning each code point as a String value. The following steps are taken:

1.  Let O be ? [RequireObjectCoercible](https://262.ecma-international.org/12.0/#sec-requireobjectcoercible)(this value).
2.  Let s be ? [ToString](https://262.ecma-international.org/12.0/#sec-tostring)(O).
3.  Let closure be a new [Abstract Closure](https://262.ecma-international.org/12.0/#sec-abstract-closure) with no parameters that captures s and performs the following steps when called:
    1.  Let position be 0.
    2.  Let len be the length of s.
    3.  Repeat, while position < len,
        1.  Let cp be ! [CodePointAt](https://262.ecma-international.org/12.0/#sec-codepointat)(s, position).
        2.  Let nextIndex be position + cp.\[\[CodeUnitCount\]\].
        3.  Let resultString be the [substring](https://262.ecma-international.org/12.0/#substring) of s from position to nextIndex.
        4.  Set position to nextIndex.
        5.  Perform ? [Yield](https://262.ecma-international.org/12.0/#sec-yield)(resultString).
    4.  Return undefined.
4.  Return ! [CreateIteratorFromClosure](https://262.ecma-international.org/12.0/#sec-createiteratorfromclosure)(closure, "%StringIteratorPrototype%", [%StringIteratorPrototype%](https://262.ecma-international.org/12.0/#sec-%stringiteratorprototype%-object)).

The value of the "name" property of this function is "\[Symbol.iterator\]".

## 22.1.4 Properties of String Instances

String instances are String exotic objects and have the internal methods specified for such objects. String instances inherit properties from the [String prototype object](https://262.ecma-international.org/12.0/#sec-properties-of-the-string-prototype-object). String instances also have a \[\[StringData\]\] internal slot.

String instances have a "length" property, and a set of enumerable properties with [integer](https://262.ecma-international.org/12.0/#integer)\-indexed names.

## 22.1.4.1 length

The number of elements in the String value represented by this String object.

Once a String object is initialized, this property is unchanging. It has the attributes { \[\[Writable\]\]: false, \[\[Enumerable\]\]: false, \[\[Configurable\]\]: false }.

## 22.1.5 String Iterator Objects

A String Iterator is an object, that represents a specific iteration over some specific String instance object. There is not a named [constructor](https://262.ecma-international.org/12.0/#constructor) for String Iterator objects. Instead, String iterator objects are created by calling certain methods of String instance objects.

## 22.1.5.1 The %StringIteratorPrototype% Object

The %StringIteratorPrototype% object:

-   has properties that are inherited by all String Iterator Objects.
-   is an [ordinary object](https://262.ecma-international.org/12.0/#ordinary-object).
-   has a \[\[Prototype\]\] internal slot whose value is [%IteratorPrototype%](https://262.ecma-international.org/12.0/#sec-%iteratorprototype%-object).
-   has the following properties:

## 22.1.5.1.1 %StringIteratorPrototype%.next ( )

1.  Return ? [GeneratorResume](https://262.ecma-international.org/12.0/#sec-generatorresume)(this value, empty, "%StringIteratorPrototype%").

## 22.1.5.1.2 %StringIteratorPrototype% \[ @@toStringTag \]

The initial value of the [@@toStringTag](https://262.ecma-international.org/12.0/#sec-well-known-symbols) property is the String value "String Iterator".

This property has the attributes { \[\[Writable\]\]: false, \[\[Enumerable\]\]: false, \[\[Configurable\]\]: true }.

## 22.2 RegExp (Regular Expression) Objects

A RegExp object contains a regular expression and the associated flags.

Note

The form and functionality of regular expressions is modelled after the regular expression facility in the Perl 5 programming language.

## 22.2.1 Patterns

The RegExp [constructor](https://262.ecma-international.org/12.0/#constructor) applies the following grammar to the input pattern String. An error occurs if the grammar cannot interpret the String as an expansion of [Pattern](https://262.ecma-international.org/12.0/#prod-Pattern).

## Syntax

[Pattern](https://262.ecma-international.org/12.0/#prod-Pattern)\[U, N\] :: [Disjunction](https://262.ecma-international.org/12.0/#prod-Disjunction)\[?U, ?N\] [Disjunction](https://262.ecma-international.org/12.0/#prod-Disjunction)\[U, N\] :: [Alternative](https://262.ecma-international.org/12.0/#prod-Alternative)\[?U, ?N\] [Alternative](https://262.ecma-international.org/12.0/#prod-Alternative)\[?U, ?N\] | [Disjunction](https://262.ecma-international.org/12.0/#prod-Disjunction)\[?U, ?N\] [Alternative](https://262.ecma-international.org/12.0/#prod-Alternative)\[U, N\] :: \[empty\] [Alternative](https://262.ecma-international.org/12.0/#prod-Alternative)\[?U, ?N\] [Term](https://262.ecma-international.org/12.0/#prod-Term)\[?U, ?N\] [Term](https://262.ecma-international.org/12.0/#prod-Term)\[U, N\] :: [Assertion](https://262.ecma-international.org/12.0/#prod-Assertion)\[?U, ?N\] [Atom](https://262.ecma-international.org/12.0/#prod-Atom)\[?U, ?N\] [Atom](https://262.ecma-international.org/12.0/#prod-Atom)\[?U, ?N\] [Quantifier](https://262.ecma-international.org/12.0/#prod-Quantifier) [Assertion](https://262.ecma-international.org/12.0/#prod-Assertion)\[U, N\] :: ^ $ \\ b \\ B ( ? \= [Disjunction](https://262.ecma-international.org/12.0/#prod-Disjunction)\[?U, ?N\] ) ( ? ! [Disjunction](https://262.ecma-international.org/12.0/#prod-Disjunction)\[?U, ?N\] ) ( ? <= [Disjunction](https://262.ecma-international.org/12.0/#prod-Disjunction)\[?U, ?N\] ) ( ? <! [Disjunction](https://262.ecma-international.org/12.0/#prod-Disjunction)\[?U, ?N\] ) [Quantifier](https://262.ecma-international.org/12.0/#prod-Quantifier) :: [QuantifierPrefix](https://262.ecma-international.org/12.0/#prod-QuantifierPrefix) [QuantifierPrefix](https://262.ecma-international.org/12.0/#prod-QuantifierPrefix) ? [QuantifierPrefix](https://262.ecma-international.org/12.0/#prod-QuantifierPrefix) :: \* + ? { [DecimalDigits](https://262.ecma-international.org/12.0/#prod-DecimalDigits)\[~Sep\] } { [DecimalDigits](https://262.ecma-international.org/12.0/#prod-DecimalDigits)\[~Sep\] , } { [DecimalDigits](https://262.ecma-international.org/12.0/#prod-DecimalDigits)\[~Sep\] , [DecimalDigits](https://262.ecma-international.org/12.0/#prod-DecimalDigits)\[~Sep\] } [Atom](https://262.ecma-international.org/12.0/#prod-Atom)\[U, N\] :: [PatternCharacter](https://262.ecma-international.org/12.0/#prod-PatternCharacter) . \\ [AtomEscape](https://262.ecma-international.org/12.0/#prod-AtomEscape)\[?U, ?N\] [CharacterClass](https://262.ecma-international.org/12.0/#prod-CharacterClass)\[?U\] ( [GroupSpecifier](https://262.ecma-international.org/12.0/#prod-GroupSpecifier)\[?U\] [Disjunction](https://262.ecma-international.org/12.0/#prod-Disjunction)\[?U, ?N\] ) ( ? : [Disjunction](https://262.ecma-international.org/12.0/#prod-Disjunction)\[?U, ?N\] ) [SyntaxCharacter](https://262.ecma-international.org/12.0/#prod-SyntaxCharacter) :: one of ^ $ \\ . \* + ? ( ) \[ \] { } | [PatternCharacter](https://262.ecma-international.org/12.0/#prod-PatternCharacter) :: [SourceCharacter](https://262.ecma-international.org/12.0/#prod-SourceCharacter) but not [SyntaxCharacter](https://262.ecma-international.org/12.0/#prod-SyntaxCharacter) [AtomEscape](https://262.ecma-international.org/12.0/#prod-AtomEscape)\[U, N\] :: [DecimalEscape](https://262.ecma-international.org/12.0/#prod-DecimalEscape) [CharacterClassEscape](https://262.ecma-international.org/12.0/#prod-CharacterClassEscape)\[?U\] [CharacterEscape](https://262.ecma-international.org/12.0/#prod-CharacterEscape)\[?U\] \[+N\] k [GroupName](https://262.ecma-international.org/12.0/#prod-GroupName)\[?U\] [CharacterEscape](https://262.ecma-international.org/12.0/#prod-CharacterEscape)\[U\] :: [ControlEscape](https://262.ecma-international.org/12.0/#prod-ControlEscape) c [ControlLetter](https://262.ecma-international.org/12.0/#prod-ControlLetter) 0 \[lookahead ∉ [DecimalDigit](https://262.ecma-international.org/12.0/#prod-DecimalDigit)\] [HexEscapeSequence](https://262.ecma-international.org/12.0/#prod-HexEscapeSequence) [RegExpUnicodeEscapeSequence](https://262.ecma-international.org/12.0/#prod-RegExpUnicodeEscapeSequence)\[?U\] [IdentityEscape](https://262.ecma-international.org/12.0/#prod-IdentityEscape)\[?U\] [ControlEscape](https://262.ecma-international.org/12.0/#prod-ControlEscape) :: one of f n r t v [ControlLetter](https://262.ecma-international.org/12.0/#prod-ControlLetter) :: one of a b c d e f g h i j k l m n o p q r s t u v w x y z A B C D E F G H I J K L M N O P Q R S T U V W X Y Z [GroupSpecifier](https://262.ecma-international.org/12.0/#prod-GroupSpecifier)\[U\] :: \[empty\] ? [GroupName](https://262.ecma-international.org/12.0/#prod-GroupName)\[?U\] [GroupName](https://262.ecma-international.org/12.0/#prod-GroupName)\[U\] :: < [RegExpIdentifierName](https://262.ecma-international.org/12.0/#prod-RegExpIdentifierName)\[?U\] \> [RegExpIdentifierName](https://262.ecma-international.org/12.0/#prod-RegExpIdentifierName)\[U\] :: [RegExpIdentifierStart](https://262.ecma-international.org/12.0/#prod-RegExpIdentifierStart)\[?U\] [RegExpIdentifierName](https://262.ecma-international.org/12.0/#prod-RegExpIdentifierName)\[?U\] [RegExpIdentifierPart](https://262.ecma-international.org/12.0/#prod-RegExpIdentifierPart)\[?U\] [RegExpIdentifierStart](https://262.ecma-international.org/12.0/#prod-RegExpIdentifierStart)\[U\] :: [UnicodeIDStart](https://262.ecma-international.org/12.0/#prod-UnicodeIDStart) $ \_ \\ [RegExpUnicodeEscapeSequence](https://262.ecma-international.org/12.0/#prod-RegExpUnicodeEscapeSequence)\[+U\] \[~U\] [UnicodeLeadSurrogate](https://262.ecma-international.org/12.0/#prod-UnicodeLeadSurrogate) [UnicodeTrailSurrogate](https://262.ecma-international.org/12.0/#prod-UnicodeTrailSurrogate) [RegExpIdentifierPart](https://262.ecma-international.org/12.0/#prod-RegExpIdentifierPart)\[U\] :: [UnicodeIDContinue](https://262.ecma-international.org/12.0/#prod-UnicodeIDContinue) $ \\ [RegExpUnicodeEscapeSequence](https://262.ecma-international.org/12.0/#prod-RegExpUnicodeEscapeSequence)\[+U\] \[~U\] [UnicodeLeadSurrogate](https://262.ecma-international.org/12.0/#prod-UnicodeLeadSurrogate) [UnicodeTrailSurrogate](https://262.ecma-international.org/12.0/#prod-UnicodeTrailSurrogate) <ZWNJ> <ZWJ> [RegExpUnicodeEscapeSequence](https://262.ecma-international.org/12.0/#prod-RegExpUnicodeEscapeSequence)\[U\] :: \[+U\] u [HexLeadSurrogate](https://262.ecma-international.org/12.0/#prod-HexLeadSurrogate) \\u [HexTrailSurrogate](https://262.ecma-international.org/12.0/#prod-HexTrailSurrogate) \[+U\] u [HexLeadSurrogate](https://262.ecma-international.org/12.0/#prod-HexLeadSurrogate) \[+U\] u [HexTrailSurrogate](https://262.ecma-international.org/12.0/#prod-HexTrailSurrogate) \[+U\] u [HexNonSurrogate](https://262.ecma-international.org/12.0/#prod-HexNonSurrogate) \[~U\] u [Hex4Digits](https://262.ecma-international.org/12.0/#prod-Hex4Digits) \[+U\] u{ [CodePoint](https://262.ecma-international.org/12.0/#prod-CodePoint) } [UnicodeLeadSurrogate](https://262.ecma-international.org/12.0/#prod-UnicodeLeadSurrogate) :: any Unicode code point in the inclusive range 0xD800 to 0xDBFF [UnicodeTrailSurrogate](https://262.ecma-international.org/12.0/#prod-UnicodeTrailSurrogate) :: any Unicode code point in the inclusive range 0xDC00 to 0xDFFF

Each `\u` [HexTrailSurrogate](https://262.ecma-international.org/12.0/#prod-HexTrailSurrogate) for which the choice of associated `u` [HexLeadSurrogate](https://262.ecma-international.org/12.0/#prod-HexLeadSurrogate) is ambiguous shall be associated with the nearest possible `u` [HexLeadSurrogate](https://262.ecma-international.org/12.0/#prod-HexLeadSurrogate) that would otherwise have no corresponding `\u` [HexTrailSurrogate](https://262.ecma-international.org/12.0/#prod-HexTrailSurrogate).

[HexLeadSurrogate](https://262.ecma-international.org/12.0/#prod-HexLeadSurrogate) :: [Hex4Digits](https://262.ecma-international.org/12.0/#prod-Hex4Digits) but only if the MV of [Hex4Digits](https://262.ecma-international.org/12.0/#prod-Hex4Digits) is in the inclusive range 0xD800 to 0xDBFF [HexNonSurrogate](https://262.ecma-international.org/12.0/#prod-HexNonSurrogate) :: [Hex4Digits](https://262.ecma-international.org/12.0/#prod-Hex4Digits) but only if the MV of [Hex4Digits](https://262.ecma-international.org/12.0/#prod-Hex4Digits) is not in the inclusive range 0xD800 to 0xDFFF [IdentityEscape](https://262.ecma-international.org/12.0/#prod-IdentityEscape)\[U\] :: \[+U\][SyntaxCharacter](https://262.ecma-international.org/12.0/#prod-SyntaxCharacter) \[+U\]/ \[~U\][SourceCharacter](https://262.ecma-international.org/12.0/#prod-SourceCharacter) but not [UnicodeIDContinue](https://262.ecma-international.org/12.0/#prod-UnicodeIDContinue) [DecimalEscape](https://262.ecma-international.org/12.0/#prod-DecimalEscape) :: [NonZeroDigit](https://262.ecma-international.org/12.0/#prod-NonZeroDigit) [DecimalDigits](https://262.ecma-international.org/12.0/#prod-DecimalDigits)\[~Sep\]opt \[lookahead ∉ [DecimalDigit](https://262.ecma-international.org/12.0/#prod-DecimalDigit)\] [CharacterClassEscape](https://262.ecma-international.org/12.0/#prod-CharacterClassEscape)\[U\] :: d D s S w W \[+U\] p{ [UnicodePropertyValueExpression](https://262.ecma-international.org/12.0/#prod-UnicodePropertyValueExpression) } \[+U\] P{ [UnicodePropertyValueExpression](https://262.ecma-international.org/12.0/#prod-UnicodePropertyValueExpression) } [UnicodePropertyValueExpression](https://262.ecma-international.org/12.0/#prod-UnicodePropertyValueExpression) :: [UnicodePropertyName](https://262.ecma-international.org/12.0/#prod-UnicodePropertyName) \= [UnicodePropertyValue](https://262.ecma-international.org/12.0/#prod-UnicodePropertyValue) [LoneUnicodePropertyNameOrValue](https://262.ecma-international.org/12.0/#prod-LoneUnicodePropertyNameOrValue) [UnicodePropertyName](https://262.ecma-international.org/12.0/#prod-UnicodePropertyName) :: [UnicodePropertyNameCharacters](https://262.ecma-international.org/12.0/#prod-UnicodePropertyNameCharacters) [UnicodePropertyNameCharacters](https://262.ecma-international.org/12.0/#prod-UnicodePropertyNameCharacters) :: [UnicodePropertyNameCharacter](https://262.ecma-international.org/12.0/#prod-UnicodePropertyNameCharacter) [UnicodePropertyNameCharacters](https://262.ecma-international.org/12.0/#prod-UnicodePropertyNameCharacters)opt [UnicodePropertyValue](https://262.ecma-international.org/12.0/#prod-UnicodePropertyValue) :: [UnicodePropertyValueCharacters](https://262.ecma-international.org/12.0/#prod-UnicodePropertyValueCharacters) [LoneUnicodePropertyNameOrValue](https://262.ecma-international.org/12.0/#prod-LoneUnicodePropertyNameOrValue) :: [UnicodePropertyValueCharacters](https://262.ecma-international.org/12.0/#prod-UnicodePropertyValueCharacters) [UnicodePropertyValueCharacters](https://262.ecma-international.org/12.0/#prod-UnicodePropertyValueCharacters) :: [UnicodePropertyValueCharacter](https://262.ecma-international.org/12.0/#prod-UnicodePropertyValueCharacter) [UnicodePropertyValueCharacters](https://262.ecma-international.org/12.0/#prod-UnicodePropertyValueCharacters)opt [UnicodePropertyValueCharacter](https://262.ecma-international.org/12.0/#prod-UnicodePropertyValueCharacter) :: [UnicodePropertyNameCharacter](https://262.ecma-international.org/12.0/#prod-UnicodePropertyNameCharacter) [DecimalDigit](https://262.ecma-international.org/12.0/#prod-DecimalDigit) [UnicodePropertyNameCharacter](https://262.ecma-international.org/12.0/#prod-UnicodePropertyNameCharacter) :: [ControlLetter](https://262.ecma-international.org/12.0/#prod-ControlLetter) \_ [CharacterClass](https://262.ecma-international.org/12.0/#prod-CharacterClass)\[U\] :: \[ \[lookahead ≠ ^\] [ClassRanges](https://262.ecma-international.org/12.0/#prod-ClassRanges)\[?U\] \] \[ ^ [ClassRanges](https://262.ecma-international.org/12.0/#prod-ClassRanges)\[?U\] \] [ClassRanges](https://262.ecma-international.org/12.0/#prod-ClassRanges)\[U\] :: \[empty\] [NonemptyClassRanges](https://262.ecma-international.org/12.0/#prod-NonemptyClassRanges)\[?U\] [NonemptyClassRanges](https://262.ecma-international.org/12.0/#prod-NonemptyClassRanges)\[U\] :: [ClassAtom](https://262.ecma-international.org/12.0/#prod-ClassAtom)\[?U\] [ClassAtom](https://262.ecma-international.org/12.0/#prod-ClassAtom)\[?U\] [NonemptyClassRangesNoDash](https://262.ecma-international.org/12.0/#prod-NonemptyClassRangesNoDash)\[?U\] [ClassAtom](https://262.ecma-international.org/12.0/#prod-ClassAtom)\[?U\] \- [ClassAtom](https://262.ecma-international.org/12.0/#prod-ClassAtom)\[?U\] [ClassRanges](https://262.ecma-international.org/12.0/#prod-ClassRanges)\[?U\] [NonemptyClassRangesNoDash](https://262.ecma-international.org/12.0/#prod-NonemptyClassRangesNoDash)\[U\] :: [ClassAtom](https://262.ecma-international.org/12.0/#prod-ClassAtom)\[?U\] [ClassAtomNoDash](https://262.ecma-international.org/12.0/#prod-ClassAtomNoDash)\[?U\] [NonemptyClassRangesNoDash](https://262.ecma-international.org/12.0/#prod-NonemptyClassRangesNoDash)\[?U\] [ClassAtomNoDash](https://262.ecma-international.org/12.0/#prod-ClassAtomNoDash)\[?U\] \- [ClassAtom](https://262.ecma-international.org/12.0/#prod-ClassAtom)\[?U\] [ClassRanges](https://262.ecma-international.org/12.0/#prod-ClassRanges)\[?U\] [ClassAtom](https://262.ecma-international.org/12.0/#prod-ClassAtom)\[U\] :: \- [ClassAtomNoDash](https://262.ecma-international.org/12.0/#prod-ClassAtomNoDash)\[?U\] [ClassAtomNoDash](https://262.ecma-international.org/12.0/#prod-ClassAtomNoDash)\[U\] :: [SourceCharacter](https://262.ecma-international.org/12.0/#prod-SourceCharacter) but not one of \\ or \] or \- \\ [ClassEscape](https://262.ecma-international.org/12.0/#prod-ClassEscape)\[?U\] [ClassEscape](https://262.ecma-international.org/12.0/#prod-ClassEscape)\[U\] :: b \[+U\]\- [CharacterClassEscape](https://262.ecma-international.org/12.0/#prod-CharacterClassEscape)\[?U\] [CharacterEscape](https://262.ecma-international.org/12.0/#prod-CharacterEscape)\[?U\] Note

A number of productions in this section are given alternative definitions in section [B.1.4](https://262.ecma-international.org/12.0/#sec-regular-expressions-patterns).

## 22.2.1.1 Static Semantics: Early Errors

Note

This section is amended in [B.1.4.1](https://262.ecma-international.org/12.0/#sec-patterns-static-semantics-early-errors-annexb).

[Pattern](https://262.ecma-international.org/12.0/#prod-Pattern) :: [Disjunction](https://262.ecma-international.org/12.0/#prod-Disjunction)

-   It is a Syntax Error if NcapturingParens ≥ 232 - 1.
-   It is a Syntax Error if [Pattern](https://262.ecma-international.org/12.0/#prod-Pattern) contains multiple [GroupSpecifier](https://262.ecma-international.org/12.0/#prod-GroupSpecifier)s whose enclosed [RegExpIdentifierName](https://262.ecma-international.org/12.0/#prod-RegExpIdentifierName)s have the same [CapturingGroupName](https://262.ecma-international.org/12.0/#sec-static-semantics-capturinggroupname).

[QuantifierPrefix](https://262.ecma-international.org/12.0/#prod-QuantifierPrefix) :: { [DecimalDigits](https://262.ecma-international.org/12.0/#prod-DecimalDigits) , [DecimalDigits](https://262.ecma-international.org/12.0/#prod-DecimalDigits) }

-   It is a Syntax Error if the MV of the first [DecimalDigits](https://262.ecma-international.org/12.0/#prod-DecimalDigits) is larger than the MV of the second [DecimalDigits](https://262.ecma-international.org/12.0/#prod-DecimalDigits).

[AtomEscape](https://262.ecma-international.org/12.0/#prod-AtomEscape) :: k [GroupName](https://262.ecma-international.org/12.0/#prod-GroupName)

-   It is a Syntax Error if the enclosing [Pattern](https://262.ecma-international.org/12.0/#prod-Pattern) does not contain a [GroupSpecifier](https://262.ecma-international.org/12.0/#prod-GroupSpecifier) with an enclosed [RegExpIdentifierName](https://262.ecma-international.org/12.0/#prod-RegExpIdentifierName) whose [CapturingGroupName](https://262.ecma-international.org/12.0/#sec-static-semantics-capturinggroupname) equals the [CapturingGroupName](https://262.ecma-international.org/12.0/#sec-static-semantics-capturinggroupname) of the [RegExpIdentifierName](https://262.ecma-international.org/12.0/#prod-RegExpIdentifierName) of this production's [GroupName](https://262.ecma-international.org/12.0/#prod-GroupName).

[AtomEscape](https://262.ecma-international.org/12.0/#prod-AtomEscape) :: [DecimalEscape](https://262.ecma-international.org/12.0/#prod-DecimalEscape)

-   It is a Syntax Error if the [CapturingGroupNumber](https://262.ecma-international.org/12.0/#sec-patterns-static-semantics-capturing-group-number) of [DecimalEscape](https://262.ecma-international.org/12.0/#prod-DecimalEscape) is larger than NcapturingParens ([22.2.2.1](https://262.ecma-international.org/12.0/#sec-notation)).

[NonemptyClassRanges](https://262.ecma-international.org/12.0/#prod-NonemptyClassRanges) :: [ClassAtom](https://262.ecma-international.org/12.0/#prod-ClassAtom) \- [ClassAtom](https://262.ecma-international.org/12.0/#prod-ClassAtom) [ClassRanges](https://262.ecma-international.org/12.0/#prod-ClassRanges)

-   It is a Syntax Error if [IsCharacterClass](https://262.ecma-international.org/12.0/#sec-patterns-static-semantics-is-character-class) of the first [ClassAtom](https://262.ecma-international.org/12.0/#prod-ClassAtom) is true or [IsCharacterClass](https://262.ecma-international.org/12.0/#sec-patterns-static-semantics-is-character-class) of the second [ClassAtom](https://262.ecma-international.org/12.0/#prod-ClassAtom) is true.
-   It is a Syntax Error if [IsCharacterClass](https://262.ecma-international.org/12.0/#sec-patterns-static-semantics-is-character-class) of the first [ClassAtom](https://262.ecma-international.org/12.0/#prod-ClassAtom) is false and [IsCharacterClass](https://262.ecma-international.org/12.0/#sec-patterns-static-semantics-is-character-class) of the second [ClassAtom](https://262.ecma-international.org/12.0/#prod-ClassAtom) is false and the [CharacterValue](https://262.ecma-international.org/12.0/#sec-patterns-static-semantics-character-value) of the first [ClassAtom](https://262.ecma-international.org/12.0/#prod-ClassAtom) is larger than the [CharacterValue](https://262.ecma-international.org/12.0/#sec-patterns-static-semantics-character-value) of the second [ClassAtom](https://262.ecma-international.org/12.0/#prod-ClassAtom).

[NonemptyClassRangesNoDash](https://262.ecma-international.org/12.0/#prod-NonemptyClassRangesNoDash) :: [ClassAtomNoDash](https://262.ecma-international.org/12.0/#prod-ClassAtomNoDash) \- [ClassAtom](https://262.ecma-international.org/12.0/#prod-ClassAtom) [ClassRanges](https://262.ecma-international.org/12.0/#prod-ClassRanges)

-   It is a Syntax Error if [IsCharacterClass](https://262.ecma-international.org/12.0/#sec-patterns-static-semantics-is-character-class) of [ClassAtomNoDash](https://262.ecma-international.org/12.0/#prod-ClassAtomNoDash) is true or [IsCharacterClass](https://262.ecma-international.org/12.0/#sec-patterns-static-semantics-is-character-class) of [ClassAtom](https://262.ecma-international.org/12.0/#prod-ClassAtom) is true.
-   It is a Syntax Error if [IsCharacterClass](https://262.ecma-international.org/12.0/#sec-patterns-static-semantics-is-character-class) of [ClassAtomNoDash](https://262.ecma-international.org/12.0/#prod-ClassAtomNoDash) is false and [IsCharacterClass](https://262.ecma-international.org/12.0/#sec-patterns-static-semantics-is-character-class) of [ClassAtom](https://262.ecma-international.org/12.0/#prod-ClassAtom) is false and the [CharacterValue](https://262.ecma-international.org/12.0/#sec-patterns-static-semantics-character-value) of [ClassAtomNoDash](https://262.ecma-international.org/12.0/#prod-ClassAtomNoDash) is larger than the [CharacterValue](https://262.ecma-international.org/12.0/#sec-patterns-static-semantics-character-value) of [ClassAtom](https://262.ecma-international.org/12.0/#prod-ClassAtom).

[RegExpIdentifierStart](https://262.ecma-international.org/12.0/#prod-RegExpIdentifierStart)\[U\] :: \\ [RegExpUnicodeEscapeSequence](https://262.ecma-international.org/12.0/#prod-RegExpUnicodeEscapeSequence)\[+U\]

-   It is a Syntax Error if the [CharacterValue](https://262.ecma-international.org/12.0/#sec-patterns-static-semantics-character-value) of [RegExpUnicodeEscapeSequence](https://262.ecma-international.org/12.0/#prod-RegExpUnicodeEscapeSequence) is not the code point value of "$", "\_", or some code point matched by the [UnicodeIDStart](https://262.ecma-international.org/12.0/#prod-UnicodeIDStart) lexical grammar production.

[RegExpIdentifierStart](https://262.ecma-international.org/12.0/#prod-RegExpIdentifierStart)\[U\] :: [UnicodeLeadSurrogate](https://262.ecma-international.org/12.0/#prod-UnicodeLeadSurrogate) [UnicodeTrailSurrogate](https://262.ecma-international.org/12.0/#prod-UnicodeTrailSurrogate)

-   It is a Syntax Error if the result of performing [UTF16SurrogatePairToCodePoint](https://262.ecma-international.org/12.0/#sec-utf16decodesurrogatepair) on the two code points matched by [UnicodeLeadSurrogate](https://262.ecma-international.org/12.0/#prod-UnicodeLeadSurrogate) and [UnicodeTrailSurrogate](https://262.ecma-international.org/12.0/#prod-UnicodeTrailSurrogate) respectively is not matched by the [UnicodeIDStart](https://262.ecma-international.org/12.0/#prod-UnicodeIDStart) lexical grammar production.

[RegExpIdentifierPart](https://262.ecma-international.org/12.0/#prod-RegExpIdentifierPart)\[U\] :: \\ [RegExpUnicodeEscapeSequence](https://262.ecma-international.org/12.0/#prod-RegExpUnicodeEscapeSequence)\[+U\]

-   It is a Syntax Error if the [CharacterValue](https://262.ecma-international.org/12.0/#sec-patterns-static-semantics-character-value) of [RegExpUnicodeEscapeSequence](https://262.ecma-international.org/12.0/#prod-RegExpUnicodeEscapeSequence) is not the code point value of "$", "\_", <ZWNJ>, <ZWJ>, or some code point matched by the [UnicodeIDContinue](https://262.ecma-international.org/12.0/#prod-UnicodeIDContinue) lexical grammar production.

[RegExpIdentifierPart](https://262.ecma-international.org/12.0/#prod-RegExpIdentifierPart)\[U\] :: [UnicodeLeadSurrogate](https://262.ecma-international.org/12.0/#prod-UnicodeLeadSurrogate) [UnicodeTrailSurrogate](https://262.ecma-international.org/12.0/#prod-UnicodeTrailSurrogate)

-   It is a Syntax Error if the result of performing [UTF16SurrogatePairToCodePoint](https://262.ecma-international.org/12.0/#sec-utf16decodesurrogatepair) on the two code points matched by [UnicodeLeadSurrogate](https://262.ecma-international.org/12.0/#prod-UnicodeLeadSurrogate) and [UnicodeTrailSurrogate](https://262.ecma-international.org/12.0/#prod-UnicodeTrailSurrogate) respectively is not matched by the [UnicodeIDContinue](https://262.ecma-international.org/12.0/#prod-UnicodeIDContinue) lexical grammar production.

[UnicodePropertyValueExpression](https://262.ecma-international.org/12.0/#prod-UnicodePropertyValueExpression) :: [UnicodePropertyName](https://262.ecma-international.org/12.0/#prod-UnicodePropertyName) \= [UnicodePropertyValue](https://262.ecma-international.org/12.0/#prod-UnicodePropertyValue)

-   It is a Syntax Error if the [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) of Unicode code points that is [SourceText](https://262.ecma-international.org/12.0/#sec-static-semantics-sourcetext) of [UnicodePropertyName](https://262.ecma-international.org/12.0/#prod-UnicodePropertyName) is not identical to a [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) of Unicode code points that is a Unicode [property name](https://262.ecma-international.org/12.0/#property-name) or property alias listed in the “[Property name](https://262.ecma-international.org/12.0/#property-name) and aliases” column of [Table 56](https://262.ecma-international.org/12.0/#table-nonbinary-unicode-properties).
-   It is a Syntax Error if the [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) of Unicode code points that is [SourceText](https://262.ecma-international.org/12.0/#sec-static-semantics-sourcetext) of [UnicodePropertyValue](https://262.ecma-international.org/12.0/#prod-UnicodePropertyValue) is not identical to a [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) of Unicode code points that is a value or value alias for the Unicode property or property alias given by [SourceText](https://262.ecma-international.org/12.0/#sec-static-semantics-sourcetext) of [UnicodePropertyName](https://262.ecma-international.org/12.0/#prod-UnicodePropertyName) listed in the “Property value and aliases” column of the corresponding tables [Table 58](https://262.ecma-international.org/12.0/#table-unicode-general-category-values) or [Table 59](https://262.ecma-international.org/12.0/#table-unicode-script-values).

[UnicodePropertyValueExpression](https://262.ecma-international.org/12.0/#prod-UnicodePropertyValueExpression) :: [LoneUnicodePropertyNameOrValue](https://262.ecma-international.org/12.0/#prod-LoneUnicodePropertyNameOrValue)

-   It is a Syntax Error if the [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) of Unicode code points that is [SourceText](https://262.ecma-international.org/12.0/#sec-static-semantics-sourcetext) of [LoneUnicodePropertyNameOrValue](https://262.ecma-international.org/12.0/#prod-LoneUnicodePropertyNameOrValue) is not identical to a [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) of Unicode code points that is a Unicode general category or general category alias listed in the “Property value and aliases” column of [Table 58](https://262.ecma-international.org/12.0/#table-unicode-general-category-values), nor a binary property or binary property alias listed in the “[Property name](https://262.ecma-international.org/12.0/#property-name) and aliases” column of [Table 57](https://262.ecma-international.org/12.0/#table-binary-unicode-properties).

## 22.2.1.2 Static Semantics: CapturingGroupNumber

Note

This section is amended in [B.1.4.1](https://262.ecma-international.org/12.0/#sec-patterns-static-semantics-early-errors-annexb).

[DecimalEscape](https://262.ecma-international.org/12.0/#prod-DecimalEscape) :: [NonZeroDigit](https://262.ecma-international.org/12.0/#prod-NonZeroDigit)

1.  Return the MV of [NonZeroDigit](https://262.ecma-international.org/12.0/#prod-NonZeroDigit).

[DecimalEscape](https://262.ecma-international.org/12.0/#prod-DecimalEscape) :: [NonZeroDigit](https://262.ecma-international.org/12.0/#prod-NonZeroDigit) [DecimalDigits](https://262.ecma-international.org/12.0/#prod-DecimalDigits)

1.  Let n be the number of code points in [DecimalDigits](https://262.ecma-international.org/12.0/#prod-DecimalDigits).
2.  Return (the MV of [NonZeroDigit](https://262.ecma-international.org/12.0/#prod-NonZeroDigit) × 10n plus the MV of [DecimalDigits](https://262.ecma-international.org/12.0/#prod-DecimalDigits)).

The definitions of “the MV of [NonZeroDigit](https://262.ecma-international.org/12.0/#prod-NonZeroDigit)” and “the MV of [DecimalDigits](https://262.ecma-international.org/12.0/#prod-DecimalDigits)” are in [12.8.3](https://262.ecma-international.org/12.0/#sec-literals-numeric-literals).

## 22.2.1.3 Static Semantics: IsCharacterClass

Note

This section is amended in [B.1.4.2](https://262.ecma-international.org/12.0/#sec-patterns-static-semantics-is-character-class-annexb).

[ClassAtom](https://262.ecma-international.org/12.0/#prod-ClassAtom) :: \- [ClassAtomNoDash](https://262.ecma-international.org/12.0/#prod-ClassAtomNoDash) :: [SourceCharacter](https://262.ecma-international.org/12.0/#prod-SourceCharacter) but not one of \\ or \] or \- [ClassEscape](https://262.ecma-international.org/12.0/#prod-ClassEscape) :: b [ClassEscape](https://262.ecma-international.org/12.0/#prod-ClassEscape) :: \- [ClassEscape](https://262.ecma-international.org/12.0/#prod-ClassEscape) :: [CharacterEscape](https://262.ecma-international.org/12.0/#prod-CharacterEscape)

1.  Return false.

[ClassEscape](https://262.ecma-international.org/12.0/#prod-ClassEscape) :: [CharacterClassEscape](https://262.ecma-international.org/12.0/#prod-CharacterClassEscape)

1.  Return true.

## 22.2.1.4 Static Semantics: CharacterValue

Note 1

This section is amended in [B.1.4.3](https://262.ecma-international.org/12.0/#sec-patterns-static-semantics-character-value-annexb).

[ClassAtom](https://262.ecma-international.org/12.0/#prod-ClassAtom) :: \-

1.  Return the code point value of U+002D (HYPHEN-MINUS).

[ClassAtomNoDash](https://262.ecma-international.org/12.0/#prod-ClassAtomNoDash) :: [SourceCharacter](https://262.ecma-international.org/12.0/#prod-SourceCharacter) but not one of \\ or \] or \-

1.  Let ch be the code point matched by [SourceCharacter](https://262.ecma-international.org/12.0/#prod-SourceCharacter).
2.  Return the code point value of ch.

[ClassEscape](https://262.ecma-international.org/12.0/#prod-ClassEscape) :: b

1.  Return the code point value of U+0008 (BACKSPACE).

[ClassEscape](https://262.ecma-international.org/12.0/#prod-ClassEscape) ::

1.  Return the code point value of U+002D (HYPHEN-MINUS).

[CharacterEscape](https://262.ecma-international.org/12.0/#prod-CharacterEscape) :: [ControlEscape](https://262.ecma-international.org/12.0/#prod-ControlEscape)

1.  Return the code point value according to [Table 55](https://262.ecma-international.org/12.0/#table-controlescape-code-point-values).

Table 55: ControlEscape Code Point Values

| ControlEscape | Code Point Value | Code Point | Unicode Name | Symbol |
| --- | --- | --- | --- | --- |
| `t` | 9 | `U+0009` | CHARACTER TABULATION | <HT> |
| `n` | 10 | `U+000A` | LINE FEED (LF) | <LF> |
| `v` | 11 | `U+000B` | LINE TABULATION | <VT> |
| `f` | 12 | `U+000C` | FORM FEED (FF) | <FF> |
| `r` | 13 | `U+000D` | CARRIAGE RETURN (CR) | <CR> |

[CharacterEscape](https://262.ecma-international.org/12.0/#prod-CharacterEscape) :: c [ControlLetter](https://262.ecma-international.org/12.0/#prod-ControlLetter)

1.  Let ch be the code point matched by [ControlLetter](https://262.ecma-international.org/12.0/#prod-ControlLetter).
2.  Let i be ch's code point value.
3.  Return the remainder of dividing i by 32.

[CharacterEscape](https://262.ecma-international.org/12.0/#prod-CharacterEscape) :: 0 \[lookahead ∉ [DecimalDigit](https://262.ecma-international.org/12.0/#prod-DecimalDigit)\]

1.  Return the code point value of U+0000 (NULL).

Note 2

`\0` represents the <NUL> character and cannot be followed by a decimal digit.

[CharacterEscape](https://262.ecma-international.org/12.0/#prod-CharacterEscape) :: [HexEscapeSequence](https://262.ecma-international.org/12.0/#prod-HexEscapeSequence)

1.  Return the MV of [HexEscapeSequence](https://262.ecma-international.org/12.0/#prod-HexEscapeSequence).

[RegExpUnicodeEscapeSequence](https://262.ecma-international.org/12.0/#prod-RegExpUnicodeEscapeSequence) :: u [HexLeadSurrogate](https://262.ecma-international.org/12.0/#prod-HexLeadSurrogate) \\u [HexTrailSurrogate](https://262.ecma-international.org/12.0/#prod-HexTrailSurrogate)

1.  Let lead be the [CharacterValue](https://262.ecma-international.org/12.0/#sec-patterns-static-semantics-character-value) of [HexLeadSurrogate](https://262.ecma-international.org/12.0/#prod-HexLeadSurrogate).
2.  Let trail be the [CharacterValue](https://262.ecma-international.org/12.0/#sec-patterns-static-semantics-character-value) of [HexTrailSurrogate](https://262.ecma-international.org/12.0/#prod-HexTrailSurrogate).
3.  Let cp be [UTF16SurrogatePairToCodePoint](https://262.ecma-international.org/12.0/#sec-utf16decodesurrogatepair)(lead, trail).
4.  Return the code point value of cp.

[RegExpUnicodeEscapeSequence](https://262.ecma-international.org/12.0/#prod-RegExpUnicodeEscapeSequence) :: u [Hex4Digits](https://262.ecma-international.org/12.0/#prod-Hex4Digits)

1.  Return the MV of [Hex4Digits](https://262.ecma-international.org/12.0/#prod-Hex4Digits).

[RegExpUnicodeEscapeSequence](https://262.ecma-international.org/12.0/#prod-RegExpUnicodeEscapeSequence) :: u{ [CodePoint](https://262.ecma-international.org/12.0/#prod-CodePoint) }

1.  Return the MV of [CodePoint](https://262.ecma-international.org/12.0/#prod-CodePoint).

[HexLeadSurrogate](https://262.ecma-international.org/12.0/#prod-HexLeadSurrogate) :: [Hex4Digits](https://262.ecma-international.org/12.0/#prod-Hex4Digits) [HexTrailSurrogate](https://262.ecma-international.org/12.0/#prod-HexTrailSurrogate) :: [Hex4Digits](https://262.ecma-international.org/12.0/#prod-Hex4Digits) [HexNonSurrogate](https://262.ecma-international.org/12.0/#prod-HexNonSurrogate) :: [Hex4Digits](https://262.ecma-international.org/12.0/#prod-Hex4Digits)

1.  Return the MV of [HexDigits](https://262.ecma-international.org/12.0/#prod-HexDigits).

[CharacterEscape](https://262.ecma-international.org/12.0/#prod-CharacterEscape) :: [IdentityEscape](https://262.ecma-international.org/12.0/#prod-IdentityEscape)

1.  Let ch be the code point matched by [IdentityEscape](https://262.ecma-international.org/12.0/#prod-IdentityEscape).
2.  Return the code point value of ch.

## 22.2.1.5 Static Semantics: SourceText

[UnicodePropertyNameCharacters](https://262.ecma-international.org/12.0/#prod-UnicodePropertyNameCharacters) :: [UnicodePropertyNameCharacter](https://262.ecma-international.org/12.0/#prod-UnicodePropertyNameCharacter) [UnicodePropertyNameCharacters](https://262.ecma-international.org/12.0/#prod-UnicodePropertyNameCharacters)opt [UnicodePropertyValueCharacters](https://262.ecma-international.org/12.0/#prod-UnicodePropertyValueCharacters) :: [UnicodePropertyValueCharacter](https://262.ecma-international.org/12.0/#prod-UnicodePropertyValueCharacter) [UnicodePropertyValueCharacters](https://262.ecma-international.org/12.0/#prod-UnicodePropertyValueCharacters)opt

1.  Return the [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type), in source text order, of Unicode code points in the [source text matched by](https://262.ecma-international.org/12.0/#sec-algorithm-conventions-syntax-directed-operations) this production.

## 22.2.1.6 Static Semantics: CapturingGroupName

[RegExpIdentifierName](https://262.ecma-international.org/12.0/#prod-RegExpIdentifierName)\[U\] :: [RegExpIdentifierStart](https://262.ecma-international.org/12.0/#prod-RegExpIdentifierStart)\[?U\] [RegExpIdentifierName](https://262.ecma-international.org/12.0/#prod-RegExpIdentifierName)\[?U\] [RegExpIdentifierPart](https://262.ecma-international.org/12.0/#prod-RegExpIdentifierPart)\[?U\]

1.  Let idText be the [source text matched by](https://262.ecma-international.org/12.0/#sec-algorithm-conventions-syntax-directed-operations) [RegExpIdentifierName](https://262.ecma-international.org/12.0/#prod-RegExpIdentifierName).
2.  Let idTextUnescaped be the result of replacing any occurrences of `\` [RegExpUnicodeEscapeSequence](https://262.ecma-international.org/12.0/#prod-RegExpUnicodeEscapeSequence) in idText with the code point represented by the [RegExpUnicodeEscapeSequence](https://262.ecma-international.org/12.0/#prod-RegExpUnicodeEscapeSequence).
3.  Return ! [CodePointsToString](https://262.ecma-international.org/12.0/#sec-codepointstostring)(idTextUnescaped).

## 22.2.2 Pattern Semantics

Note 1

This section is amended in [B.1.4.4](https://262.ecma-international.org/12.0/#sec-regular-expression-patterns-semantics).

A regular expression pattern is converted into an [Abstract Closure](https://262.ecma-international.org/12.0/#sec-abstract-closure) using the process described below. An implementation is encouraged to use more efficient algorithms than the ones listed below, as long as the results are the same. The [Abstract Closure](https://262.ecma-international.org/12.0/#sec-abstract-closure) is used as the value of a RegExp object's \[\[RegExpMatcher\]\] internal slot.

A [Pattern](https://262.ecma-international.org/12.0/#prod-Pattern) is either a BMP pattern or a Unicode pattern depending upon whether or not its associated flags contain a `u`. A BMP pattern matches against a String interpreted as consisting of a sequence of 16-bit values that are Unicode code points in the range of the Basic Multilingual Plane. A Unicode pattern matches against a String interpreted as consisting of Unicode code points encoded using UTF-16. In the context of describing the behaviour of a BMP pattern “character” means a single 16-bit Unicode BMP code point. In the context of describing the behaviour of a Unicode pattern “character” means a UTF-16 encoded code point ([6.1.4](https://262.ecma-international.org/12.0/#sec-ecmascript-language-types-string-type)). In either context, “character value” means the numeric value of the corresponding non-encoded code point.

The syntax and semantics of [Pattern](https://262.ecma-international.org/12.0/#prod-Pattern) is defined as if the source code for the [Pattern](https://262.ecma-international.org/12.0/#prod-Pattern) was a [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) of [SourceCharacter](https://262.ecma-international.org/12.0/#prod-SourceCharacter) values where each [SourceCharacter](https://262.ecma-international.org/12.0/#prod-SourceCharacter) corresponds to a Unicode code point. If a BMP pattern contains a non-BMP [SourceCharacter](https://262.ecma-international.org/12.0/#prod-SourceCharacter) the entire pattern is encoded using UTF-16 and the individual code units of that encoding are used as the elements of the [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).

Note 2

For example, consider a pattern expressed in source text as the single non-BMP character U+1D11E (MUSICAL SYMBOL G CLEF). Interpreted as a Unicode pattern, it would be a single element (character) [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) consisting of the single code point 0x1D11E. However, interpreted as a BMP pattern, it is first UTF-16 encoded to produce a two element [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) consisting of the code units 0xD834 and 0xDD1E.

Patterns are passed to the RegExp [constructor](https://262.ecma-international.org/12.0/#constructor) as ECMAScript String values in which non-BMP characters are UTF-16 encoded. For example, the single character MUSICAL SYMBOL G CLEF pattern, expressed as a String value, is a String of length 2 whose elements were the code units 0xD834 and 0xDD1E. So no further translation of the string would be necessary to process it as a BMP pattern consisting of two pattern characters. However, to process it as a Unicode pattern [UTF16SurrogatePairToCodePoint](https://262.ecma-international.org/12.0/#sec-utf16decodesurrogatepair) must be used in producing a [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) whose sole element is a single pattern character, the code point U+1D11E.

An implementation may not actually perform such translations to or from UTF-16, but the semantics of this specification requires that the result of pattern matching be as if such translations were performed.

## 22.2.2.1 Notation

The descriptions below use the following aliases:

-   Input is a [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) whose elements are the characters of the String being matched by the regular expression pattern. Each character is either a code unit or a code point, depending upon the kind of pattern involved. The notation Input\[n\] means the nth character of Input, where n can range between 0 (inclusive) and InputLength (exclusive).
-   InputLength is the number of characters in Input.
-   NcapturingParens is the total number of left-capturing parentheses (i.e. the total number of [Atom](https://262.ecma-international.org/12.0/#prod-Atom) :: ( [GroupSpecifier](https://262.ecma-international.org/12.0/#prod-GroupSpecifier) [Disjunction](https://262.ecma-international.org/12.0/#prod-Disjunction) ) Parse Nodes) in the pattern. A left-capturing parenthesis is any `(` pattern character that is matched by the `(` terminal of the [Atom](https://262.ecma-international.org/12.0/#prod-Atom) :: ( [GroupSpecifier](https://262.ecma-international.org/12.0/#prod-GroupSpecifier) [Disjunction](https://262.ecma-international.org/12.0/#prod-Disjunction) ) production.
-   DotAll is true if the RegExp object's \[\[OriginalFlags\]\] internal slot contains "s" and otherwise is false.
-   IgnoreCase is true if the RegExp object's \[\[OriginalFlags\]\] internal slot contains "i" and otherwise is false.
-   Multiline is true if the RegExp object's \[\[OriginalFlags\]\] internal slot contains "m" and otherwise is false.
-   Unicode is true if the RegExp object's \[\[OriginalFlags\]\] internal slot contains "u" and otherwise is false.
-   WordCharacters is the mathematical set that is the union of all sixty-three characters in "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\_" (letters, numbers, and U+005F (LOW LINE) in the Unicode Basic Latin block) and all characters c for which c is not in that set but [Canonicalize](https://262.ecma-international.org/12.0/#sec-runtime-semantics-canonicalize-ch)(c) is. WordCharacters cannot contain more than sixty-three characters unless Unicode and IgnoreCase are both true.

Furthermore, the descriptions below use the following internal data structures:

-   A _CharSet_ is a mathematical set of characters. When the Unicode flag is true, “all characters” means the CharSet containing all code point values; otherwise “all characters” means the CharSet containing all code unit values.
-   A _State_ is an ordered pair (endIndex, captures) where endIndex is an [integer](https://262.ecma-international.org/12.0/#integer) and captures is a [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) of NcapturingParens values. States are used to represent partial match states in the regular expression matching algorithms. The endIndex is one plus the index of the last input character matched so far by the pattern, while captures holds the results of capturing parentheses. The nth element of captures is either a [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) of characters that represents the value obtained by the nth set of capturing parentheses or undefined if the nth set of capturing parentheses hasn't been reached yet. Due to backtracking, many States may be in use at any time during the matching process.
-   A _MatchResult_ is either a State or the special token failure that indicates that the match failed.
-   A _Continuation_ is an [Abstract Closure](https://262.ecma-international.org/12.0/#sec-abstract-closure) that takes one State argument and returns a MatchResult result. The Continuation attempts to match the remaining portion (specified by the closure's captured values) of the pattern against Input, starting at the intermediate state given by its State argument. If the match succeeds, the Continuation returns the final State that it reached; if the match fails, the Continuation returns failure.
-   A _Matcher_ is an [Abstract Closure](https://262.ecma-international.org/12.0/#sec-abstract-closure) that takes two arguments—a State and a Continuation—and returns a MatchResult result. A Matcher attempts to match a middle subpattern (specified by the closure's captured values) of the pattern against Input, starting at the intermediate state given by its State argument. The Continuation argument should be a closure that matches the rest of the pattern. After matching the subpattern of a pattern to obtain a new State, the Matcher then calls Continuation on that new State to test if the rest of the pattern can match as well. If it can, the Matcher returns the State returned by Continuation; if not, the Matcher may try different choices at its choice points, repeatedly calling Continuation until it either succeeds or all possibilities have been exhausted.

## 22.2.2.2 Pattern

The production [Pattern](https://262.ecma-international.org/12.0/#prod-Pattern) :: [Disjunction](https://262.ecma-international.org/12.0/#prod-Disjunction) evaluates as follows:

1.  Evaluate [Disjunction](https://262.ecma-international.org/12.0/#prod-Disjunction) with 1 as its direction argument to obtain a Matcher m.
2.  Return a new [Abstract Closure](https://262.ecma-international.org/12.0/#sec-abstract-closure) with parameters (str, index) that captures m and performs the following steps when called:
    1.  [Assert](https://262.ecma-international.org/12.0/#assert): [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(str) is String.
    2.  [Assert](https://262.ecma-international.org/12.0/#assert): index is a non-negative [integer](https://262.ecma-international.org/12.0/#integer) which is ≤ the length of str.
    3.  If Unicode is true, let Input be ! [StringToCodePoints](https://262.ecma-international.org/12.0/#sec-stringtocodepoints)(str). Otherwise, let Input be a [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) whose elements are the code units that are the elements of str. Input will be used throughout the algorithms in [22.2.2](https://262.ecma-international.org/12.0/#sec-pattern-semantics). Each element of Input is considered to be a character.
    4.  Let InputLength be the number of characters contained in Input. This alias will be used throughout the algorithms in [22.2.2](https://262.ecma-international.org/12.0/#sec-pattern-semantics).
    5.  Let listIndex be the index into Input of the character that was obtained from element index of str.
    6.  Let c be a new Continuation with parameters (y) that captures nothing and performs the following steps when called:
        1.  [Assert](https://262.ecma-international.org/12.0/#assert): y is a State.
        2.  Return y.
    7.  Let cap be a [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) of NcapturingParens undefined values, indexed 1 through NcapturingParens.
    8.  Let x be the State (listIndex, cap).
    9.  Return m(x, c).

Note

A Pattern evaluates (“compiles”) to an [Abstract Closure](https://262.ecma-international.org/12.0/#sec-abstract-closure) value. [RegExpBuiltinExec](https://262.ecma-international.org/12.0/#sec-regexpbuiltinexec) can then apply this procedure to a String and an offset within the String to determine whether the pattern would match starting at exactly that offset within the String, and, if it does match, what the values of the capturing parentheses would be. The algorithms in [22.2.2](https://262.ecma-international.org/12.0/#sec-pattern-semantics) are designed so that compiling a pattern may throw a SyntaxError exception; on the other hand, once the pattern is successfully compiled, applying the resulting [Abstract Closure](https://262.ecma-international.org/12.0/#sec-abstract-closure) to find a match in a String cannot throw an exception (except for any [implementation-defined](https://262.ecma-international.org/12.0/#implementation-defined) exceptions that can occur anywhere such as out-of-memory).

## 22.2.2.3 Disjunction

With parameter direction.

The production [Disjunction](https://262.ecma-international.org/12.0/#prod-Disjunction) :: [Alternative](https://262.ecma-international.org/12.0/#prod-Alternative) evaluates as follows:

1.  Evaluate [Alternative](https://262.ecma-international.org/12.0/#prod-Alternative) with argument direction to obtain a Matcher m.
2.  Return m.

The production [Disjunction](https://262.ecma-international.org/12.0/#prod-Disjunction) :: [Alternative](https://262.ecma-international.org/12.0/#prod-Alternative) | [Disjunction](https://262.ecma-international.org/12.0/#prod-Disjunction) evaluates as follows:

1.  Evaluate [Alternative](https://262.ecma-international.org/12.0/#prod-Alternative) with argument direction to obtain a Matcher m1.
2.  Evaluate [Disjunction](https://262.ecma-international.org/12.0/#prod-Disjunction) with argument direction to obtain a Matcher m2.
3.  Return a new Matcher with parameters (x, c) that captures m1 and m2 and performs the following steps when called:
    1.  [Assert](https://262.ecma-international.org/12.0/#assert): x is a State.
    2.  [Assert](https://262.ecma-international.org/12.0/#assert): c is a Continuation.
    3.  Let r be m1(x, c).
    4.  If r is not failure, return r.
    5.  Return m2(x, c).

Note

The `|` regular expression operator separates two alternatives. The pattern first tries to match the left [Alternative](https://262.ecma-international.org/12.0/#prod-Alternative) (followed by the sequel of the regular expression); if it fails, it tries to match the right [Disjunction](https://262.ecma-international.org/12.0/#prod-Disjunction) (followed by the sequel of the regular expression). If the left [Alternative](https://262.ecma-international.org/12.0/#prod-Alternative), the right [Disjunction](https://262.ecma-international.org/12.0/#prod-Disjunction), and the sequel all have choice points, all choices in the sequel are tried before moving on to the next choice in the left [Alternative](https://262.ecma-international.org/12.0/#prod-Alternative). If choices in the left [Alternative](https://262.ecma-international.org/12.0/#prod-Alternative) are exhausted, the right [Disjunction](https://262.ecma-international.org/12.0/#prod-Disjunction) is tried instead of the left [Alternative](https://262.ecma-international.org/12.0/#prod-Alternative). Any capturing parentheses inside a portion of the pattern skipped by `|` produce undefined values instead of Strings. Thus, for example,

```
/a|ab/.exec("abc")
```

returns the result "a" and not "ab". Moreover,

```
/((a)|(ab))((c)|(bc))/.exec("abc")
```

returns the array

```
["abc", "a", "a", undefined, "bc", undefined, "bc"]
```

and not

```
["abc", "ab", undefined, "ab", "c", "c", undefined]
```

The order in which the two alternatives are tried is independent of the value of direction.

## 22.2.2.4 Alternative

With parameter direction.

The production [Alternative](https://262.ecma-international.org/12.0/#prod-Alternative) :: \[empty\] evaluates as follows:

1.  Return a new Matcher with parameters (x, c) that captures nothing and performs the following steps when called:
    1.  [Assert](https://262.ecma-international.org/12.0/#assert): x is a State.
    2.  [Assert](https://262.ecma-international.org/12.0/#assert): c is a Continuation.
    3.  Return c(x).

The production [Alternative](https://262.ecma-international.org/12.0/#prod-Alternative) :: [Alternative](https://262.ecma-international.org/12.0/#prod-Alternative) [Term](https://262.ecma-international.org/12.0/#prod-Term) evaluates as follows:

1.  Evaluate [Alternative](https://262.ecma-international.org/12.0/#prod-Alternative) with argument direction to obtain a Matcher m1.
2.  Evaluate [Term](https://262.ecma-international.org/12.0/#prod-Term) with argument direction to obtain a Matcher m2.
3.  If direction = 1, then
    1.  Return a new Matcher with parameters (x, c) that captures m1 and m2 and performs the following steps when called:
        1.  [Assert](https://262.ecma-international.org/12.0/#assert): x is a State.
        2.  [Assert](https://262.ecma-international.org/12.0/#assert): c is a Continuation.
        3.  Let d be a new Continuation with parameters (y) that captures c and m2 and performs the following steps when called:
            1.  [Assert](https://262.ecma-international.org/12.0/#assert): y is a State.
            2.  Return m2(y, c).
        4.  Return m1(x, d).
4.  Else,
    1.  [Assert](https://262.ecma-international.org/12.0/#assert): direction is -1.
    2.  Return a new Matcher with parameters (x, c) that captures m1 and m2 and performs the following steps when called:
        1.  [Assert](https://262.ecma-international.org/12.0/#assert): x is a State.
        2.  [Assert](https://262.ecma-international.org/12.0/#assert): c is a Continuation.
        3.  Let d be a new Continuation with parameters (y) that captures c and m1 and performs the following steps when called:
            1.  [Assert](https://262.ecma-international.org/12.0/#assert): y is a State.
            2.  Return m1(y, c).
        4.  Return m2(x, d).

Note

Consecutive [Term](https://262.ecma-international.org/12.0/#prod-Term)s try to simultaneously match consecutive portions of Input. When direction = 1, if the left [Alternative](https://262.ecma-international.org/12.0/#prod-Alternative), the right [Term](https://262.ecma-international.org/12.0/#prod-Term), and the sequel of the regular expression all have choice points, all choices in the sequel are tried before moving on to the next choice in the right [Term](https://262.ecma-international.org/12.0/#prod-Term), and all choices in the right [Term](https://262.ecma-international.org/12.0/#prod-Term) are tried before moving on to the next choice in the left [Alternative](https://262.ecma-international.org/12.0/#prod-Alternative). When direction = -1, the evaluation order of [Alternative](https://262.ecma-international.org/12.0/#prod-Alternative) and [Term](https://262.ecma-international.org/12.0/#prod-Term) are reversed.

## 22.2.2.5 Term

With parameter direction.

The production [Term](https://262.ecma-international.org/12.0/#prod-Term) :: [Assertion](https://262.ecma-international.org/12.0/#prod-Assertion) evaluates as follows:

1.  Return the Matcher that is the result of evaluating [Assertion](https://262.ecma-international.org/12.0/#prod-Assertion).

Note

The resulting Matcher is independent of direction.

The production [Term](https://262.ecma-international.org/12.0/#prod-Term) :: [Atom](https://262.ecma-international.org/12.0/#prod-Atom) evaluates as follows:

1.  Return the Matcher that is the result of evaluating [Atom](https://262.ecma-international.org/12.0/#prod-Atom) with argument direction.

The production [Term](https://262.ecma-international.org/12.0/#prod-Term) :: [Atom](https://262.ecma-international.org/12.0/#prod-Atom) [Quantifier](https://262.ecma-international.org/12.0/#prod-Quantifier) evaluates as follows:

1.  Evaluate [Atom](https://262.ecma-international.org/12.0/#prod-Atom) with argument direction to obtain a Matcher m.
2.  Evaluate [Quantifier](https://262.ecma-international.org/12.0/#prod-Quantifier) to obtain the three results: a non-negative [integer](https://262.ecma-international.org/12.0/#integer) min, a non-negative [integer](https://262.ecma-international.org/12.0/#integer) (or +∞) max, and Boolean greedy.
3.  [Assert](https://262.ecma-international.org/12.0/#assert): min ≤ max.
4.  Let parenIndex be the number of left-capturing parentheses in the entire regular expression that occur to the left of this [Term](https://262.ecma-international.org/12.0/#prod-Term). This is the total number of [Atom](https://262.ecma-international.org/12.0/#prod-Atom) :: ( [GroupSpecifier](https://262.ecma-international.org/12.0/#prod-GroupSpecifier) [Disjunction](https://262.ecma-international.org/12.0/#prod-Disjunction) ) Parse Nodes prior to or enclosing this [Term](https://262.ecma-international.org/12.0/#prod-Term).
5.  Let parenCount be the number of left-capturing parentheses in [Atom](https://262.ecma-international.org/12.0/#prod-Atom). This is the total number of [Atom](https://262.ecma-international.org/12.0/#prod-Atom) :: ( [GroupSpecifier](https://262.ecma-international.org/12.0/#prod-GroupSpecifier) [Disjunction](https://262.ecma-international.org/12.0/#prod-Disjunction) ) Parse Nodes enclosed by [Atom](https://262.ecma-international.org/12.0/#prod-Atom).
6.  Return a new Matcher with parameters (x, c) that captures m, min, max, greedy, parenIndex, and parenCount and performs the following steps when called:
    1.  [Assert](https://262.ecma-international.org/12.0/#assert): x is a State.
    2.  [Assert](https://262.ecma-international.org/12.0/#assert): c is a Continuation.
    3.  Return ! [RepeatMatcher](https://262.ecma-international.org/12.0/#sec-runtime-semantics-repeatmatcher-abstract-operation)(m, min, max, greedy, x, c, parenIndex, parenCount).

## 22.2.2.5.1 RepeatMatcher ( m, min, max, greedy, x, c, parenIndex, parenCount )

The abstract operation RepeatMatcher takes arguments m (a Matcher), min (a non-negative [integer](https://262.ecma-international.org/12.0/#integer)), max (a non-negative [integer](https://262.ecma-international.org/12.0/#integer) or +∞), greedy (a Boolean), x (a State), c (a Continuation), parenIndex (a non-negative [integer](https://262.ecma-international.org/12.0/#integer)), and parenCount (a non-negative [integer](https://262.ecma-international.org/12.0/#integer)). It performs the following steps when called:

1.  If max = 0, return c(x).
2.  Let d be a new Continuation with parameters (y) that captures m, min, max, greedy, x, c, parenIndex, and parenCount and performs the following steps when called:
    1.  [Assert](https://262.ecma-international.org/12.0/#assert): y is a State.
    2.  If min = 0 and y's endIndex = x's endIndex, return failure.
    3.  If min = 0, let min2 be 0; otherwise let min2 be min - 1.
    4.  If max is +∞, let max2 be +∞; otherwise let max2 be max - 1.
    5.  Return ! [RepeatMatcher](https://262.ecma-international.org/12.0/#sec-runtime-semantics-repeatmatcher-abstract-operation)(m, min2, max2, greedy, y, c, parenIndex, parenCount).
3.  Let cap be a copy of x's captures [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).
4.  For each [integer](https://262.ecma-international.org/12.0/#integer) k such that parenIndex < k and k ≤ parenIndex + parenCount, set cap\[k\] to undefined.
5.  Let e be x's endIndex.
6.  Let xr be the State (e, cap).
7.  If min ≠ 0, return m(xr, d).
8.  If greedy is false, then
    1.  Let z be c(x).
    2.  If z is not failure, return z.
    3.  Return m(xr, d).
9.  Let z be m(xr, d).
10.  If z is not failure, return z.
11.  Return c(x).

Note 1

An [Atom](https://262.ecma-international.org/12.0/#prod-Atom) followed by a [Quantifier](https://262.ecma-international.org/12.0/#prod-Quantifier) is repeated the number of times specified by the [Quantifier](https://262.ecma-international.org/12.0/#prod-Quantifier). A [Quantifier](https://262.ecma-international.org/12.0/#prod-Quantifier) can be non-greedy, in which case the [Atom](https://262.ecma-international.org/12.0/#prod-Atom) pattern is repeated as few times as possible while still matching the sequel, or it can be greedy, in which case the [Atom](https://262.ecma-international.org/12.0/#prod-Atom) pattern is repeated as many times as possible while still matching the sequel. The [Atom](https://262.ecma-international.org/12.0/#prod-Atom) pattern is repeated rather than the input character sequence that it matches, so different repetitions of the [Atom](https://262.ecma-international.org/12.0/#prod-Atom) can match different input substrings.

Note 2

If the [Atom](https://262.ecma-international.org/12.0/#prod-Atom) and the sequel of the regular expression all have choice points, the [Atom](https://262.ecma-international.org/12.0/#prod-Atom) is first matched as many (or as few, if non-greedy) times as possible. All choices in the sequel are tried before moving on to the next choice in the last repetition of [Atom](https://262.ecma-international.org/12.0/#prod-Atom). All choices in the last (nth) repetition of [Atom](https://262.ecma-international.org/12.0/#prod-Atom) are tried before moving on to the next choice in the next-to-last (n - 1)st repetition of [Atom](https://262.ecma-international.org/12.0/#prod-Atom); at which point it may turn out that more or fewer repetitions of [Atom](https://262.ecma-international.org/12.0/#prod-Atom) are now possible; these are exhausted (again, starting with either as few or as many as possible) before moving on to the next choice in the (n - 1)st repetition of [Atom](https://262.ecma-international.org/12.0/#prod-Atom) and so on.

Compare

```
/a[a-z]{2,4}/.exec("abcdefghi")
```

which returns "abcde" with

```
/a[a-z]{2,4}?/.exec("abcdefghi")
```

which returns "abc".

Consider also

```
/(aa|aabaac|ba|b|c)*/.exec("aabaac")
```

which, by the choice point ordering above, returns the array

```
["aaba", "ba"]
```

and not any of:

```
["aabaac", "aabaac"]
["aabaac", "c"]
```

The above ordering of choice points can be used to write a regular expression that calculates the greatest common divisor of two numbers (represented in unary notation). The following example calculates the gcd of 10 and 15:

```
"aaaaaaaaaa,aaaaaaaaaaaaaaa".replace(/^(a+)\1*,\1+$/, "$1")
```

which returns the gcd in unary notation "aaaaa".

Note 3

Step [4](https://262.ecma-international.org/12.0/#step-repeatmatcher-clear-captures) of the RepeatMatcher clears [Atom](https://262.ecma-international.org/12.0/#prod-Atom)'s captures each time [Atom](https://262.ecma-international.org/12.0/#prod-Atom) is repeated. We can see its behaviour in the regular expression

```
/(z)((a+)?(b+)?(c))*/.exec("zaacbbbcac")
```

which returns the array

```
["zaacbbbcac", "z", "ac", "a", undefined, "c"]
```

and not

```
["zaacbbbcac", "z", "ac", "a", "bbb", "c"]
```

because each iteration of the outermost `*` clears all captured Strings contained in the quantified [Atom](https://262.ecma-international.org/12.0/#prod-Atom), which in this case includes capture Strings numbered 2, 3, 4, and 5.

Note 4

Step [2.b](https://262.ecma-international.org/12.0/#step-repeatmatcher-done) of the RepeatMatcher states that once the minimum number of repetitions has been satisfied, any more expansions of [Atom](https://262.ecma-international.org/12.0/#prod-Atom) that match the empty character sequence are not considered for further repetitions. This prevents the regular expression engine from falling into an infinite loop on patterns such as:

```
/(a*)*/.exec("b")
```

or the slightly more complicated:

```
/(a*)b\1+/.exec("baaaac")
```

which returns the array

```
["b", ""]
```

## 22.2.2.6 Assertion

The production [Assertion](https://262.ecma-international.org/12.0/#prod-Assertion) :: ^ evaluates as follows:

1.  Return a new Matcher with parameters (x, c) that captures nothing and performs the following steps when called:
    1.  [Assert](https://262.ecma-international.org/12.0/#assert): x is a State.
    2.  [Assert](https://262.ecma-international.org/12.0/#assert): c is a Continuation.
    3.  Let e be x's endIndex.
    4.  If e = 0, or if Multiline is true and the character Input\[e - 1\] is one of [LineTerminator](https://262.ecma-international.org/12.0/#prod-LineTerminator), then
        1.  Return c(x).
    5.  Return failure.

Note

Even when the `y` flag is used with a pattern, `^` always matches only at the beginning of Input, or (if Multiline is true) at the beginning of a line.

The production [Assertion](https://262.ecma-international.org/12.0/#prod-Assertion) :: $ evaluates as follows:

1.  Return a new Matcher with parameters (x, c) that captures nothing and performs the following steps when called:
    1.  [Assert](https://262.ecma-international.org/12.0/#assert): x is a State.
    2.  [Assert](https://262.ecma-international.org/12.0/#assert): c is a Continuation.
    3.  Let e be x's endIndex.
    4.  If e = InputLength, or if Multiline is true and the character Input\[e\] is one of [LineTerminator](https://262.ecma-international.org/12.0/#prod-LineTerminator), then
        1.  Return c(x).
    5.  Return failure.

The production [Assertion](https://262.ecma-international.org/12.0/#prod-Assertion) :: \\ b evaluates as follows:

1.  Return a new Matcher with parameters (x, c) that captures nothing and performs the following steps when called:
    1.  [Assert](https://262.ecma-international.org/12.0/#assert): x is a State.
    2.  [Assert](https://262.ecma-international.org/12.0/#assert): c is a Continuation.
    3.  Let e be x's endIndex.
    4.  Let a be ! [IsWordChar](https://262.ecma-international.org/12.0/#sec-runtime-semantics-iswordchar-abstract-operation)(e - 1).
    5.  Let b be ! [IsWordChar](https://262.ecma-international.org/12.0/#sec-runtime-semantics-iswordchar-abstract-operation)(e).
    6.  If a is true and b is false, or if a is false and b is true, return c(x).
    7.  Return failure.

The production [Assertion](https://262.ecma-international.org/12.0/#prod-Assertion) :: \\ B evaluates as follows:

1.  Return a new Matcher with parameters (x, c) that captures nothing and performs the following steps when called:
    1.  [Assert](https://262.ecma-international.org/12.0/#assert): x is a State.
    2.  [Assert](https://262.ecma-international.org/12.0/#assert): c is a Continuation.
    3.  Let e be x's endIndex.
    4.  Let a be ! [IsWordChar](https://262.ecma-international.org/12.0/#sec-runtime-semantics-iswordchar-abstract-operation)(e - 1).
    5.  Let b be ! [IsWordChar](https://262.ecma-international.org/12.0/#sec-runtime-semantics-iswordchar-abstract-operation)(e).
    6.  If a is true and b is true, or if a is false and b is false, return c(x).
    7.  Return failure.

The production [Assertion](https://262.ecma-international.org/12.0/#prod-Assertion) :: ( ? \= [Disjunction](https://262.ecma-international.org/12.0/#prod-Disjunction) ) evaluates as follows:

1.  Evaluate [Disjunction](https://262.ecma-international.org/12.0/#prod-Disjunction) with 1 as its direction argument to obtain a Matcher m.
2.  Return a new Matcher with parameters (x, c) that captures m and performs the following steps when called:
    1.  [Assert](https://262.ecma-international.org/12.0/#assert): x is a State.
    2.  [Assert](https://262.ecma-international.org/12.0/#assert): c is a Continuation.
    3.  Let d be a new Continuation with parameters (y) that captures nothing and performs the following steps when called:
        1.  [Assert](https://262.ecma-international.org/12.0/#assert): y is a State.
        2.  Return y.
    4.  Let r be m(x, d).
    5.  If r is failure, return failure.
    6.  Let y be r's State.
    7.  Let cap be y's captures [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).
    8.  Let xe be x's endIndex.
    9.  Let z be the State (xe, cap).
    10.  Return c(z).

The production [Assertion](https://262.ecma-international.org/12.0/#prod-Assertion) :: ( ? ! [Disjunction](https://262.ecma-international.org/12.0/#prod-Disjunction) ) evaluates as follows:

1.  Evaluate [Disjunction](https://262.ecma-international.org/12.0/#prod-Disjunction) with 1 as its direction argument to obtain a Matcher m.
2.  Return a new Matcher with parameters (x, c) that captures m and performs the following steps when called:
    1.  [Assert](https://262.ecma-international.org/12.0/#assert): x is a State.
    2.  [Assert](https://262.ecma-international.org/12.0/#assert): c is a Continuation.
    3.  Let d be a new Continuation with parameters (y) that captures nothing and performs the following steps when called:
        1.  [Assert](https://262.ecma-international.org/12.0/#assert): y is a State.
        2.  Return y.
    4.  Let r be m(x, d).
    5.  If r is not failure, return failure.
    6.  Return c(x).

The production [Assertion](https://262.ecma-international.org/12.0/#prod-Assertion) :: ( ? <= [Disjunction](https://262.ecma-international.org/12.0/#prod-Disjunction) ) evaluates as follows:

1.  Evaluate [Disjunction](https://262.ecma-international.org/12.0/#prod-Disjunction) with -1 as its direction argument to obtain a Matcher m.
2.  Return a new Matcher with parameters (x, c) that captures m and performs the following steps when called:
    1.  [Assert](https://262.ecma-international.org/12.0/#assert): x is a State.
    2.  [Assert](https://262.ecma-international.org/12.0/#assert): c is a Continuation.
    3.  Let d be a new Continuation with parameters (y) that captures nothing and performs the following steps when called:
        1.  [Assert](https://262.ecma-international.org/12.0/#assert): y is a State.
        2.  Return y.
    4.  Let r be m(x, d).
    5.  If r is failure, return failure.
    6.  Let y be r's State.
    7.  Let cap be y's captures [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).
    8.  Let xe be x's endIndex.
    9.  Let z be the State (xe, cap).
    10.  Return c(z).

The production [Assertion](https://262.ecma-international.org/12.0/#prod-Assertion) :: ( ? <! [Disjunction](https://262.ecma-international.org/12.0/#prod-Disjunction) ) evaluates as follows:

1.  Evaluate [Disjunction](https://262.ecma-international.org/12.0/#prod-Disjunction) with -1 as its direction argument to obtain a Matcher m.
2.  Return a new Matcher with parameters (x, c) that captures m and performs the following steps when called:
    1.  [Assert](https://262.ecma-international.org/12.0/#assert): x is a State.
    2.  [Assert](https://262.ecma-international.org/12.0/#assert): c is a Continuation.
    3.  Let d be a new Continuation with parameters (y) that captures nothing and performs the following steps when called:
        1.  [Assert](https://262.ecma-international.org/12.0/#assert): y is a State.
        2.  Return y.
    4.  Let r be m(x, d).
    5.  If r is not failure, return failure.
    6.  Return c(x).

## 22.2.2.6.1 IsWordChar ( e )

The abstract operation IsWordChar takes argument e (an [integer](https://262.ecma-international.org/12.0/#integer)). It performs the following steps when called:

1.  If e = -1 or e is InputLength, return false.
2.  Let c be the character Input\[e\].
3.  If c is in WordCharacters, return true.
4.  Return false.

## 22.2.2.7 Quantifier

The production [Quantifier](https://262.ecma-international.org/12.0/#prod-Quantifier) :: [QuantifierPrefix](https://262.ecma-international.org/12.0/#prod-QuantifierPrefix) evaluates as follows:

1.  Evaluate [QuantifierPrefix](https://262.ecma-international.org/12.0/#prod-QuantifierPrefix) to obtain the two results: an [integer](https://262.ecma-international.org/12.0/#integer) min and an [integer](https://262.ecma-international.org/12.0/#integer) (or +∞) max.
2.  Return the three results min, max, and true.

The production [Quantifier](https://262.ecma-international.org/12.0/#prod-Quantifier) :: [QuantifierPrefix](https://262.ecma-international.org/12.0/#prod-QuantifierPrefix) ? evaluates as follows:

1.  Evaluate [QuantifierPrefix](https://262.ecma-international.org/12.0/#prod-QuantifierPrefix) to obtain the two results: an [integer](https://262.ecma-international.org/12.0/#integer) min and an [integer](https://262.ecma-international.org/12.0/#integer) (or +∞) max.
2.  Return the three results min, max, and false.

The production [QuantifierPrefix](https://262.ecma-international.org/12.0/#prod-QuantifierPrefix) :: \* evaluates as follows:

1.  Return the two results 0 and +∞.

The production [QuantifierPrefix](https://262.ecma-international.org/12.0/#prod-QuantifierPrefix) :: + evaluates as follows:

1.  Return the two results 1 and +∞.

The production [QuantifierPrefix](https://262.ecma-international.org/12.0/#prod-QuantifierPrefix) :: ? evaluates as follows:

1.  Return the two results 0 and 1.

The production [QuantifierPrefix](https://262.ecma-international.org/12.0/#prod-QuantifierPrefix) :: { [DecimalDigits](https://262.ecma-international.org/12.0/#prod-DecimalDigits) } evaluates as follows:

1.  Let i be the MV of [DecimalDigits](https://262.ecma-international.org/12.0/#prod-DecimalDigits) (see [12.8.3](https://262.ecma-international.org/12.0/#sec-literals-numeric-literals)).
2.  Return the two results i and i.

The production [QuantifierPrefix](https://262.ecma-international.org/12.0/#prod-QuantifierPrefix) :: { [DecimalDigits](https://262.ecma-international.org/12.0/#prod-DecimalDigits) , } evaluates as follows:

1.  Let i be the MV of [DecimalDigits](https://262.ecma-international.org/12.0/#prod-DecimalDigits).
2.  Return the two results i and +∞.

The production [QuantifierPrefix](https://262.ecma-international.org/12.0/#prod-QuantifierPrefix) :: { [DecimalDigits](https://262.ecma-international.org/12.0/#prod-DecimalDigits) , [DecimalDigits](https://262.ecma-international.org/12.0/#prod-DecimalDigits) } evaluates as follows:

1.  Let i be the MV of the first [DecimalDigits](https://262.ecma-international.org/12.0/#prod-DecimalDigits).
2.  Let j be the MV of the second [DecimalDigits](https://262.ecma-international.org/12.0/#prod-DecimalDigits).
3.  Return the two results i and j.

## 22.2.2.8 Atom

With parameter direction.

The production [Atom](https://262.ecma-international.org/12.0/#prod-Atom) :: [PatternCharacter](https://262.ecma-international.org/12.0/#prod-PatternCharacter) evaluates as follows:

1.  Let ch be the character matched by [PatternCharacter](https://262.ecma-international.org/12.0/#prod-PatternCharacter).
2.  Let A be a one-element CharSet containing the character ch.
3.  Return ! [CharacterSetMatcher](https://262.ecma-international.org/12.0/#sec-runtime-semantics-charactersetmatcher-abstract-operation)(A, false, direction).

The production [Atom](https://262.ecma-international.org/12.0/#prod-Atom) :: . evaluates as follows:

1.  Let A be the CharSet of all characters.
2.  If DotAll is not true, then
    1.  Remove from A all characters corresponding to a code point on the right-hand side of the [LineTerminator](https://262.ecma-international.org/12.0/#prod-LineTerminator) production.
3.  Return ! [CharacterSetMatcher](https://262.ecma-international.org/12.0/#sec-runtime-semantics-charactersetmatcher-abstract-operation)(A, false, direction).

The production [Atom](https://262.ecma-international.org/12.0/#prod-Atom) :: \\ [AtomEscape](https://262.ecma-international.org/12.0/#prod-AtomEscape) evaluates as follows:

1.  Return the Matcher that is the result of evaluating [AtomEscape](https://262.ecma-international.org/12.0/#prod-AtomEscape) with argument direction.

The production [Atom](https://262.ecma-international.org/12.0/#prod-Atom) :: [CharacterClass](https://262.ecma-international.org/12.0/#prod-CharacterClass) evaluates as follows:

1.  Evaluate [CharacterClass](https://262.ecma-international.org/12.0/#prod-CharacterClass) to obtain a CharSet A and a Boolean invert.
2.  Return ! [CharacterSetMatcher](https://262.ecma-international.org/12.0/#sec-runtime-semantics-charactersetmatcher-abstract-operation)(A, invert, direction).

The production [Atom](https://262.ecma-international.org/12.0/#prod-Atom) :: ( [GroupSpecifier](https://262.ecma-international.org/12.0/#prod-GroupSpecifier) [Disjunction](https://262.ecma-international.org/12.0/#prod-Disjunction) ) evaluates as follows:

1.  Evaluate [Disjunction](https://262.ecma-international.org/12.0/#prod-Disjunction) with argument direction to obtain a Matcher m.
2.  Let parenIndex be the number of left-capturing parentheses in the entire regular expression that occur to the left of this [Atom](https://262.ecma-international.org/12.0/#prod-Atom). This is the total number of [Atom](https://262.ecma-international.org/12.0/#prod-Atom) :: ( [GroupSpecifier](https://262.ecma-international.org/12.0/#prod-GroupSpecifier) [Disjunction](https://262.ecma-international.org/12.0/#prod-Disjunction) ) Parse Nodes prior to or enclosing this [Atom](https://262.ecma-international.org/12.0/#prod-Atom).
3.  Return a new Matcher with parameters (x, c) that captures direction, m, and parenIndex and performs the following steps when called:
    1.  [Assert](https://262.ecma-international.org/12.0/#assert): x is a State.
    2.  [Assert](https://262.ecma-international.org/12.0/#assert): c is a Continuation.
    3.  Let d be a new Continuation with parameters (y) that captures x, c, direction, and parenIndex and performs the following steps when called:
        1.  [Assert](https://262.ecma-international.org/12.0/#assert): y is a State.
        2.  Let cap be a copy of y's captures [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).
        3.  Let xe be x's endIndex.
        4.  Let ye be y's endIndex.
        5.  If direction = 1, then
            1.  [Assert](https://262.ecma-international.org/12.0/#assert): xe ≤ ye.
            2.  Let s be a [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) whose elements are the characters of Input at indices xe (inclusive) through ye (exclusive).
        6.  Else,
            1.  [Assert](https://262.ecma-international.org/12.0/#assert): direction is -1.
            2.  [Assert](https://262.ecma-international.org/12.0/#assert): ye ≤ xe.
            3.  Let s be a [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) whose elements are the characters of Input at indices ye (inclusive) through xe (exclusive).
        7.  Set cap\[parenIndex + 1\] to s.
        8.  Let z be the State (ye, cap).
        9.  Return c(z).
    4.  Return m(x, d).

The production [Atom](https://262.ecma-international.org/12.0/#prod-Atom) :: ( ? : [Disjunction](https://262.ecma-international.org/12.0/#prod-Disjunction) ) evaluates as follows:

1.  Return the Matcher that is the result of evaluating [Disjunction](https://262.ecma-international.org/12.0/#prod-Disjunction) with argument direction.

## 22.2.2.8.1 CharacterSetMatcher ( A, invert, direction )

The abstract operation CharacterSetMatcher takes arguments A (a CharSet), invert (a Boolean), and direction (1 or -1). It performs the following steps when called:

1.  Return a new Matcher with parameters (x, c) that captures A, invert, and direction and performs the following steps when called:
    1.  [Assert](https://262.ecma-international.org/12.0/#assert): x is a State.
    2.  [Assert](https://262.ecma-international.org/12.0/#assert): c is a Continuation.
    3.  Let e be x's endIndex.
    4.  Let f be e + direction.
    5.  If f < 0 or f > InputLength, return failure.
    6.  Let index be [min](https://262.ecma-international.org/12.0/#eqn-min)(e, f).
    7.  Let ch be the character Input\[index\].
    8.  Let cc be [Canonicalize](https://262.ecma-international.org/12.0/#sec-runtime-semantics-canonicalize-ch)(ch).
    9.  If there exists a member a of A such that [Canonicalize](https://262.ecma-international.org/12.0/#sec-runtime-semantics-canonicalize-ch)(a) is cc, let found be true. Otherwise, let found be false.
    10.  If invert is false and found is false, return failure.
    11.  If invert is true and found is true, return failure.
    12.  Let cap be x's captures [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).
    13.  Let y be the State (f, cap).
    14.  Return c(y).

## 22.2.2.8.2 Canonicalize ( ch )

The abstract operation Canonicalize takes argument ch (a character). It performs the following steps when called:

1.  If Unicode is true and IgnoreCase is true, then
    1.  If the file CaseFolding.txt of the Unicode Character Database provides a simple or common case folding mapping for ch, return the result of applying that mapping to ch.
    2.  Return ch.
2.  If IgnoreCase is false, return ch.
3.  [Assert](https://262.ecma-international.org/12.0/#assert): ch is a UTF-16 code unit.
4.  Let cp be the code point whose numeric value is that of ch.
5.  Let u be the result of toUppercase(« cp »), according to the Unicode Default Case Conversion algorithm.
6.  Let uStr be ! [CodePointsToString](https://262.ecma-international.org/12.0/#sec-codepointstostring)(u).
7.  If uStr does not consist of a single code unit, return ch.
8.  Let cu be uStr's single code unit element.
9.  If the numeric value of ch ≥ 128 and the numeric value of cu < 128, return ch.
10.  Return cu.

Note 1

Parentheses of the form `(` [Disjunction](https://262.ecma-international.org/12.0/#prod-Disjunction) `)` serve both to group the components of the [Disjunction](https://262.ecma-international.org/12.0/#prod-Disjunction) pattern together and to save the result of the match. The result can be used either in a backreference (`\` followed by a non-zero decimal number), referenced in a replace String, or returned as part of an array from the regular expression matching [Abstract Closure](https://262.ecma-international.org/12.0/#sec-abstract-closure). To inhibit the capturing behaviour of parentheses, use the form `(?:` [Disjunction](https://262.ecma-international.org/12.0/#prod-Disjunction) `)` instead.

Note 2

The form `(?=` [Disjunction](https://262.ecma-international.org/12.0/#prod-Disjunction) `)` specifies a zero-width positive lookahead. In order for it to succeed, the pattern inside [Disjunction](https://262.ecma-international.org/12.0/#prod-Disjunction) must match at the current position, but the current position is not advanced before matching the sequel. If [Disjunction](https://262.ecma-international.org/12.0/#prod-Disjunction) can match at the current position in several ways, only the first one is tried. Unlike other regular expression operators, there is no backtracking into a `(?=` form (this unusual behaviour is inherited from Perl). This only matters when the [Disjunction](https://262.ecma-international.org/12.0/#prod-Disjunction) contains capturing parentheses and the sequel of the pattern contains backreferences to those captures.

For example,

```
/(?=(a+))/.exec("baaabac")
```

matches the empty String immediately after the first `b` and therefore returns the array:

```
["", "aaa"]
```

To illustrate the lack of backtracking into the lookahead, consider:

```
/(?=(a+))a*b\1/.exec("baaabac")
```

This expression returns

```
["aba", "a"]
```

and not:

```
["aaaba", "a"]
```

Note 3

The form `(?!` [Disjunction](https://262.ecma-international.org/12.0/#prod-Disjunction) `)` specifies a zero-width negative lookahead. In order for it to succeed, the pattern inside [Disjunction](https://262.ecma-international.org/12.0/#prod-Disjunction) must fail to match at the current position. The current position is not advanced before matching the sequel. [Disjunction](https://262.ecma-international.org/12.0/#prod-Disjunction) can contain capturing parentheses, but backreferences to them only make sense from within [Disjunction](https://262.ecma-international.org/12.0/#prod-Disjunction) itself. Backreferences to these capturing parentheses from elsewhere in the pattern always return undefined because the negative lookahead must fail for the pattern to succeed. For example,

```
/(.*?)a(?!(a+)b\2c)\2(.*)/.exec("baaabaac")
```

looks for an `a` not immediately followed by some positive number n of `a`'s, a `b`, another n `a`'s (specified by the first `\2`) and a `c`. The second `\2` is outside the negative lookahead, so it matches against undefined and therefore always succeeds. The whole expression returns the array:

```
["baaabaac", "ba", undefined, "abaac"]
```

Note 4

In case-insignificant matches when Unicode is true, all characters are implicitly case-folded using the simple mapping provided by the Unicode standard immediately before they are compared. The simple mapping always maps to a single code point, so it does not map, for example, `ß` (U+00DF) to `SS`. It may however map a code point outside the Basic Latin range to a character within, for example, `ſ` (U+017F) to `s`. Such characters are not mapped if Unicode is false. This prevents Unicode code points such as U+017F and U+212A from matching regular expressions such as `/[a-z]/i`, but they will match `/[a-z]/ui`.

## 22.2.2.8.3 UnicodeMatchProperty ( p )

The abstract operation UnicodeMatchProperty takes argument p (a [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) of Unicode code points). It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): p is a [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) of Unicode code points that is identical to a [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) of Unicode code points that is a Unicode property name or property alias listed in the “Property name and aliases” column of [Table 56](https://262.ecma-international.org/12.0/#table-nonbinary-unicode-properties) or [Table 57](https://262.ecma-international.org/12.0/#table-binary-unicode-properties).
2.  Let c be the canonical property name of p as given in the “Canonical property name” column of the corresponding row.
3.  Return the [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) of Unicode code points of c.

Implementations must support the Unicode property names and aliases listed in [Table 56](https://262.ecma-international.org/12.0/#table-nonbinary-unicode-properties) and [Table 57](https://262.ecma-international.org/12.0/#table-binary-unicode-properties). To ensure interoperability, implementations must not support any other property names or aliases.

Note 1

For example, `Script_Extensions` ([property name](https://262.ecma-international.org/12.0/#property-name)) and `scx` (property alias) are valid, but `script_extensions` or `Scx` aren't.

Note 2

The listed properties form a superset of what [UTS18 RL1.2](https://unicode.org/reports/tr18/#RL1.2) requires.

Table 56: Non-binary Unicode property aliases and their canonical property names

| [Property name](https://262.ecma-international.org/12.0/#property-name) and aliases | Canonical [property name](https://262.ecma-international.org/12.0/#property-name) |
| --- | --- |
| `General_Category` | [`General_Category`](https://unicode.org/reports/tr18/#General_Category_Property) |
| `gc` |
| `Script` | [`Script`](https://unicode.org/reports/tr24/#Script) |
| `sc` |
| `Script_Extensions` | [`Script_Extensions`](https://unicode.org/reports/tr24/#Script_Extensions) |
| `scx` |

Table 57: Binary Unicode property aliases and their canonical property names

| [Property name](https://262.ecma-international.org/12.0/#property-name) and aliases | Canonical [property name](https://262.ecma-international.org/12.0/#property-name) |
| --- | --- |
| `ASCII` | [`ASCII`](https://unicode.org/reports/tr18/#General_Category_Property) |
| `ASCII_Hex_Digit` | [`ASCII_Hex_Digit`](https://unicode.org/reports/tr44/#ASCII_Hex_Digit) |
| `AHex` |
| `Alphabetic` | [`Alphabetic`](https://unicode.org/reports/tr44/#Alphabetic) |
| `Alpha` |
| `Any` | [`Any`](https://unicode.org/reports/tr18/#General_Category_Property) |
| `Assigned` | [`Assigned`](https://unicode.org/reports/tr18/#General_Category_Property) |
| `Bidi_Control` | [`Bidi_Control`](https://unicode.org/reports/tr44/#Bidi_Control) |
| `Bidi_C` |
| `Bidi_Mirrored` | [`Bidi_Mirrored`](https://unicode.org/reports/tr44/#Bidi_Mirrored) |
| `Bidi_M` |
| `Case_Ignorable` | [`Case_Ignorable`](https://unicode.org/reports/tr44/#Case_Ignorable) |
| `CI` |
| `Cased` | [`Cased`](https://unicode.org/reports/tr44/#Cased) |
| `Changes_When_Casefolded` | [`Changes_When_Casefolded`](https://unicode.org/reports/tr44/#CWCF) |
| `CWCF` |
| `Changes_When_Casemapped` | [`Changes_When_Casemapped`](https://unicode.org/reports/tr44/#CWCM) |
| `CWCM` |
| `Changes_When_Lowercased` | [`Changes_When_Lowercased`](https://unicode.org/reports/tr44/#CWL) |
| `CWL` |
| `Changes_When_NFKC_Casefolded` | [`Changes_When_NFKC_Casefolded`](https://unicode.org/reports/tr44/#CWKCF) |
| `CWKCF` |
| `Changes_When_Titlecased` | [`Changes_When_Titlecased`](https://unicode.org/reports/tr44/#CWT) |
| `CWT` |
| `Changes_When_Uppercased` | [`Changes_When_Uppercased`](https://unicode.org/reports/tr44/#CWU) |
| `CWU` |
| `Dash` | [`Dash`](https://unicode.org/reports/tr44/#Dash) |
| `Default_Ignorable_Code_Point` | [`Default_Ignorable_Code_Point`](https://unicode.org/reports/tr44/#Default_Ignorable_Code_Point) |
| `DI` |
| `Deprecated` | [`Deprecated`](https://unicode.org/reports/tr44/#Deprecated) |
| `Dep` |
| `Diacritic` | [`Diacritic`](https://unicode.org/reports/tr44/#Diacritic) |
| `Dia` |
| `Emoji` | [`Emoji`](https://unicode.org/reports/tr51/#Emoji_Properties) |
| `Emoji_Component` | [`Emoji_Component`](https://unicode.org/reports/tr51/#Emoji_Properties) |
| `EComp` |
| `Emoji_Modifier` | [`Emoji_Modifier`](https://unicode.org/reports/tr51/#Emoji_Properties) |
| `EMod` |
| `Emoji_Modifier_Base` | [`Emoji_Modifier_Base`](https://unicode.org/reports/tr51/#Emoji_Properties) |
| `EBase` |
| `Emoji_Presentation` | [`Emoji_Presentation`](https://unicode.org/reports/tr51/#Emoji_Properties) |
| `EPres` |
| `Extended_Pictographic` | [`Extended_Pictographic`](https://unicode.org/reports/tr51/#Emoji_Properties) |
| `ExtPict` |
| `Extender` | [`Extender`](https://unicode.org/reports/tr44/#Extender) |
| `Ext` |
| `Grapheme_Base` | [`Grapheme_Base`](https://unicode.org/reports/tr44/#Grapheme_Base) |
| `Gr_Base` |
| `Grapheme_Extend` | [`Grapheme_Extend`](https://unicode.org/reports/tr44/#Grapheme_Extend) |
| `Gr_Ext` |
| `Hex_Digit` | [`Hex_Digit`](https://unicode.org/reports/tr44/#Hex_Digit) |
| `Hex` |
| `IDS_Binary_Operator` | [`IDS_Binary_Operator`](https://unicode.org/reports/tr44/#IDS_Binary_Operator) |
| `IDSB` |
| `IDS_Trinary_Operator` | [`IDS_Trinary_Operator`](https://unicode.org/reports/tr44/#IDS_Trinary_Operator) |
| `IDST` |
| `ID_Continue` | [`ID_Continue`](https://unicode.org/reports/tr44/#ID_Continue) |
| `IDC` |
| `ID_Start` | [`ID_Start`](https://unicode.org/reports/tr44/#ID_Start) |
| `IDS` |
| `Ideographic` | [`Ideographic`](https://unicode.org/reports/tr44/#Ideographic) |
| `Ideo` |
| `Join_Control` | [`Join_Control`](https://unicode.org/reports/tr44/#Join_Control) |
| `Join_C` |
| `Logical_Order_Exception` | [`Logical_Order_Exception`](https://unicode.org/reports/tr44/#Logical_Order_Exception) |
| `LOE` |
| `Lowercase` | [`Lowercase`](https://unicode.org/reports/tr44/#Lowercase) |
| `Lower` |
| `Math` | [`Math`](https://unicode.org/reports/tr44/#Math) |
| `Noncharacter_Code_Point` | [`Noncharacter_Code_Point`](https://unicode.org/reports/tr44/#Noncharacter_Code_Point) |
| `NChar` |
| `Pattern_Syntax` | [`Pattern_Syntax`](https://unicode.org/reports/tr44/#Pattern_Syntax) |
| `Pat_Syn` |
| `Pattern_White_Space` | [`Pattern_White_Space`](https://unicode.org/reports/tr44/#Pattern_White_Space) |
| `Pat_WS` |
| `Quotation_Mark` | [`Quotation_Mark`](https://unicode.org/reports/tr44/#Quotation_Mark) |
| `QMark` |
| `Radical` | [`Radical`](https://unicode.org/reports/tr44/#Radical) |
| `Regional_Indicator` | [`Regional_Indicator`](https://unicode.org/reports/tr44/#Regional_Indicator) |
| `RI` |
| `Sentence_Terminal` | [`Sentence_Terminal`](https://unicode.org/reports/tr44/#STerm) |
| `STerm` |
| `Soft_Dotted` | [`Soft_Dotted`](https://unicode.org/reports/tr44/#Soft_Dotted) |
| `SD` |
| `Terminal_Punctuation` | [`Terminal_Punctuation`](https://unicode.org/reports/tr44/#Terminal_Punctuation) |
| `Term` |
| `Unified_Ideograph` | [`Unified_Ideograph`](https://unicode.org/reports/tr44/#Unified_Ideograph) |
| `UIdeo` |
| `Uppercase` | [`Uppercase`](https://unicode.org/reports/tr44/#Uppercase) |
| `Upper` |
| `Variation_Selector` | [`Variation_Selector`](https://unicode.org/reports/tr44/#Variation_Selector) |
| `VS` |
| `White_Space` | [`White_Space`](https://unicode.org/reports/tr44/#White_Space) |
| `space` |
| `XID_Continue` | [`XID_Continue`](https://unicode.org/reports/tr44/#XID_Continue) |
| `XIDC` |
| `XID_Start` | [`XID_Start`](https://unicode.org/reports/tr44/#XID_Start) |
| `XIDS` |

## 22.2.2.8.4 UnicodeMatchPropertyValue ( p, v )

The abstract operation UnicodeMatchPropertyValue takes arguments p (a [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) of Unicode code points) and v (a [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) of Unicode code points). It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): p is a [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) of Unicode code points that is identical to a [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) of Unicode code points that is a canonical, unaliased Unicode [property name](https://262.ecma-international.org/12.0/#property-name) listed in the “Canonical [property name](https://262.ecma-international.org/12.0/#property-name)” column of [Table 56](https://262.ecma-international.org/12.0/#table-nonbinary-unicode-properties).
2.  [Assert](https://262.ecma-international.org/12.0/#assert): v is a [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) of Unicode code points that is identical to a [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) of Unicode code points that is a property value or property value alias for Unicode property p listed in the “Property value and aliases” column of [Table 58](https://262.ecma-international.org/12.0/#table-unicode-general-category-values) or [Table 59](https://262.ecma-international.org/12.0/#table-unicode-script-values).
3.  Let value be the canonical property value of v as given in the “Canonical property value” column of the corresponding row.
4.  Return the [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) of Unicode code points of value.

Implementations must support the Unicode property value names and aliases listed in [Table 58](https://262.ecma-international.org/12.0/#table-unicode-general-category-values) and [Table 59](https://262.ecma-international.org/12.0/#table-unicode-script-values). To ensure interoperability, implementations must not support any other property value names or aliases.

Note 1

For example, `Xpeo` and `Old_Persian` are valid `Script_Extensions` values, but `xpeo` and `Old Persian` aren't.

Note 2

This algorithm differs from [the matching rules for symbolic values listed in UAX44](https://unicode.org/reports/tr44/#Matching_Symbolic): case, [white space](https://262.ecma-international.org/12.0/#sec-white-space), U+002D (HYPHEN-MINUS), and U+005F (LOW LINE) are not ignored, and the `Is` prefix is not supported.

Table 58: Value aliases and canonical values for the Unicode property [`General_Category`](https://unicode.org/reports/tr18/#General_Category_Property)

| Property value and aliases | Canonical property value |
| --- | --- |
| `Cased_Letter` | `Cased_Letter` |
| `LC` |
| `Close_Punctuation` | `Close_Punctuation` |
| `Pe` |
| `Connector_Punctuation` | `Connector_Punctuation` |
| `Pc` |
| `Control` | `Control` |
| `Cc` |
| `cntrl` |
| `Currency_Symbol` | `Currency_Symbol` |
| `Sc` |
| `Dash_Punctuation` | `Dash_Punctuation` |
| `Pd` |
| `Decimal_Number` | `Decimal_Number` |
| `Nd` |
| `digit` |
| `Enclosing_Mark` | `Enclosing_Mark` |
| `Me` |
| `Final_Punctuation` | `Final_Punctuation` |
| `Pf` |
| `Format` | `Format` |
| `Cf` |
| `Initial_Punctuation` | `Initial_Punctuation` |
| `Pi` |
| `Letter` | `Letter` |
| `L` |
| `Letter_Number` | `Letter_Number` |
| `Nl` |
| `Line_Separator` | `Line_Separator` |
| `Zl` |
| `Lowercase_Letter` | `Lowercase_Letter` |
| `Ll` |
| `Mark` | `Mark` |
| `M` |
| `Combining_Mark` |
| `Math_Symbol` | `Math_Symbol` |
| `Sm` |
| `Modifier_Letter` | `Modifier_Letter` |
| `Lm` |
| `Modifier_Symbol` | `Modifier_Symbol` |
| `Sk` |
| `Nonspacing_Mark` | `Nonspacing_Mark` |
| `Mn` |
| `Number` | `Number` |
| `N` |
| `Open_Punctuation` | `Open_Punctuation` |
| `Ps` |
| `Other` | `Other` |
| `C` |
| `Other_Letter` | `Other_Letter` |
| `Lo` |
| `Other_Number` | `Other_Number` |
| `No` |
| `Other_Punctuation` | `Other_Punctuation` |
| `Po` |
| `Other_Symbol` | `Other_Symbol` |
| `So` |
| `Paragraph_Separator` | `Paragraph_Separator` |
| `Zp` |
| `Private_Use` | `Private_Use` |
| `Co` |
| `Punctuation` | `Punctuation` |
| `P` |
| `punct` |
| `Separator` | `Separator` |
| `Z` |
| `Space_Separator` | `Space_Separator` |
| `Zs` |
| `Spacing_Mark` | `Spacing_Mark` |
| `Mc` |
| `Surrogate` | `Surrogate` |
| `Cs` |
| `Symbol` | `Symbol` |
| `S` |
| `Titlecase_Letter` | `Titlecase_Letter` |
| `Lt` |
| `Unassigned` | `Unassigned` |
| `Cn` |
| `Uppercase_Letter` | `Uppercase_Letter` |
| `Lu` |

Table 59: Value aliases and canonical values for the Unicode properties [`Script`](https://unicode.org/reports/tr24/#Script) and [`Script_Extensions`](https://unicode.org/reports/tr24/#Script_Extensions)

| Property value and aliases | Canonical property value |
| --- | --- |
| `Adlam` | `Adlam` |
| `Adlm` |
| `Ahom` | `Ahom` |
| `Anatolian_Hieroglyphs` | `Anatolian_Hieroglyphs` |
| `Hluw` |
| `Arabic` | `Arabic` |
| `Arab` |
| `Armenian` | `Armenian` |
| `Armn` |
| `Avestan` | `Avestan` |
| `Avst` |
| `Balinese` | `Balinese` |
| `Bali` |
| `Bamum` | `Bamum` |
| `Bamu` |
| `Bassa_Vah` | `Bassa_Vah` |
| `Bass` |
| `Batak` | `Batak` |
| `Batk` |
| `Bengali` | `Bengali` |
| `Beng` |
| `Bhaiksuki` | `Bhaiksuki` |
| `Bhks` |
| `Bopomofo` | `Bopomofo` |
| `Bopo` |
| `Brahmi` | `Brahmi` |
| `Brah` |
| `Braille` | `Braille` |
| `Brai` |
| `Buginese` | `Buginese` |
| `Bugi` |
| `Buhid` | `Buhid` |
| `Buhd` |
| `Canadian_Aboriginal` | `Canadian_Aboriginal` |
| `Cans` |
| `Carian` | `Carian` |
| `Cari` |
| `Caucasian_Albanian` | `Caucasian_Albanian` |
| `Aghb` |
| `Chakma` | `Chakma` |
| `Cakm` |
| `Cham` | `Cham` |
| `Chorasmian` | `Chorasmian` |
| `Chrs` |
| `Cherokee` | `Cherokee` |
| `Cher` |
| `Common` | `Common` |
| `Zyyy` |
| `Coptic` | `Coptic` |
| `Copt` |
| `Qaac` |
| `Cuneiform` | `Cuneiform` |
| `Xsux` |
| `Cypriot` | `Cypriot` |
| `Cprt` |
| `Cyrillic` | `Cyrillic` |
| `Cyrl` |
| `Deseret` | `Deseret` |
| `Dsrt` |
| `Devanagari` | `Devanagari` |
| `Deva` |
| `Dives_Akuru` | `Dives_Akuru` |
| `Diak` |
| `Dogra` | `Dogra` |
| `Dogr` |
| `Duployan` | `Duployan` |
| `Dupl` |
| `Egyptian_Hieroglyphs` | `Egyptian_Hieroglyphs` |
| `Egyp` |
| `Elbasan` | `Elbasan` |
| `Elba` |
| `Elymaic` | `Elymaic` |
| `Elym` |
| `Ethiopic` | `Ethiopic` |
| `Ethi` |
| `Georgian` | `Georgian` |
| `Geor` |
| `Glagolitic` | `Glagolitic` |
| `Glag` |
| `Gothic` | `Gothic` |
| `Goth` |
| `Grantha` | `Grantha` |
| `Gran` |
| `Greek` | `Greek` |
| `Grek` |
| `Gujarati` | `Gujarati` |
| `Gujr` |
| `Gunjala_Gondi` | `Gunjala_Gondi` |
| `Gong` |
| `Gurmukhi` | `Gurmukhi` |
| `Guru` |
| `Han` | `Han` |
| `Hani` |
| `Hangul` | `Hangul` |
| `Hang` |
| `Hanifi_Rohingya` | `Hanifi_Rohingya` |
| `Rohg` |
| `Hanunoo` | `Hanunoo` |
| `Hano` |
| `Hatran` | `Hatran` |
| `Hatr` |
| `Hebrew` | `Hebrew` |
| `Hebr` |
| `Hiragana` | `Hiragana` |
| `Hira` |
| `Imperial_Aramaic` | `Imperial_Aramaic` |
| `Armi` |
| `Inherited` | `Inherited` |
| `Zinh` |
| `Qaai` |
| `Inscriptional_Pahlavi` | `Inscriptional_Pahlavi` |
| `Phli` |
| `Inscriptional_Parthian` | `Inscriptional_Parthian` |
| `Prti` |
| `Javanese` | `Javanese` |
| `Java` |
| `Kaithi` | `Kaithi` |
| `Kthi` |
| `Kannada` | `Kannada` |
| `Knda` |
| `Katakana` | `Katakana` |
| `Kana` |
| `Kayah_Li` | `Kayah_Li` |
| `Kali` |
| `Kharoshthi` | `Kharoshthi` |
| `Khar` |
| `Khitan_Small_Script` | `Khitan_Small_Script` |
| `Kits` |
| `Khmer` | `Khmer` |
| `Khmr` |
| `Khojki` | `Khojki` |
| `Khoj` |
| `Khudawadi` | `Khudawadi` |
| `Sind` |
| `Lao` | `Lao` |
| `Laoo` |
| `Latin` | `Latin` |
| `Latn` |
| `Lepcha` | `Lepcha` |
| `Lepc` |
| `Limbu` | `Limbu` |
| `Limb` |
| `Linear_A` | `Linear_A` |
| `Lina` |
| `Linear_B` | `Linear_B` |
| `Linb` |
| `Lisu` | `Lisu` |
| `Lycian` | `Lycian` |
| `Lyci` |
| `Lydian` | `Lydian` |
| `Lydi` |
| `Mahajani` | `Mahajani` |
| `Mahj` |
| `Makasar` | `Makasar` |
| `Maka` |
| `Malayalam` | `Malayalam` |
| `Mlym` |
| `Mandaic` | `Mandaic` |
| `Mand` |
| `Manichaean` | `Manichaean` |
| `Mani` |
| `Marchen` | `Marchen` |
| `Marc` |
| `Medefaidrin` | `Medefaidrin` |
| `Medf` |
| `Masaram_Gondi` | `Masaram_Gondi` |
| `Gonm` |
| `Meetei_Mayek` | `Meetei_Mayek` |
| `Mtei` |
| `Mende_Kikakui` | `Mende_Kikakui` |
| `Mend` |
| `Meroitic_Cursive` | `Meroitic_Cursive` |
| `Merc` |
| `Meroitic_Hieroglyphs` | `Meroitic_Hieroglyphs` |
| `Mero` |
| `Miao` | `Miao` |
| `Plrd` |
| `Modi` | `Modi` |
| `Mongolian` | `Mongolian` |
| `Mong` |
| `Mro` | `Mro` |
| `Mroo` |
| `Multani` | `Multani` |
| `Mult` |
| `Myanmar` | `Myanmar` |
| `Mymr` |
| `Nabataean` | `Nabataean` |
| `Nbat` |
| `Nandinagari` | `Nandinagari` |
| `Nand` |
| `New_Tai_Lue` | `New_Tai_Lue` |
| `Talu` |
| `Newa` | `Newa` |
| `Nko` | `Nko` |
| `Nkoo` |
| `Nushu` | `Nushu` |
| `Nshu` |
| `Nyiakeng_Puachue_Hmong` | `Nyiakeng_Puachue_Hmong` |
| `Hmnp` |
| `Ogham` | `Ogham` |
| `Ogam` |
| `Ol_Chiki` | `Ol_Chiki` |
| `Olck` |
| `Old_Hungarian` | `Old_Hungarian` |
| `Hung` |
| `Old_Italic` | `Old_Italic` |
| `Ital` |
| `Old_North_Arabian` | `Old_North_Arabian` |
| `Narb` |
| `Old_Permic` | `Old_Permic` |
| `Perm` |
| `Old_Persian` | `Old_Persian` |
| `Xpeo` |
| `Old_Sogdian` | `Old_Sogdian` |
| `Sogo` |
| `Old_South_Arabian` | `Old_South_Arabian` |
| `Sarb` |
| `Old_Turkic` | `Old_Turkic` |
| `Orkh` |
| `Oriya` | `Oriya` |
| `Orya` |
| `Osage` | `Osage` |
| `Osge` |
| `Osmanya` | `Osmanya` |
| `Osma` |
| `Pahawh_Hmong` | `Pahawh_Hmong` |
| `Hmng` |
| `Palmyrene` | `Palmyrene` |
| `Palm` |
| `Pau_Cin_Hau` | `Pau_Cin_Hau` |
| `Pauc` |
| `Phags_Pa` | `Phags_Pa` |
| `Phag` |
| `Phoenician` | `Phoenician` |
| `Phnx` |
| `Psalter_Pahlavi` | `Psalter_Pahlavi` |
| `Phlp` |
| `Rejang` | `Rejang` |
| `Rjng` |
| `Runic` | `Runic` |
| `Runr` |
| `Samaritan` | `Samaritan` |
| `Samr` |
| `Saurashtra` | `Saurashtra` |
| `Saur` |
| `Sharada` | `Sharada` |
| `Shrd` |
| `Shavian` | `Shavian` |
| `Shaw` |
| `Siddham` | `Siddham` |
| `Sidd` |
| `SignWriting` | `SignWriting` |
| `Sgnw` |
| `Sinhala` | `Sinhala` |
| `Sinh` |
| `Sogdian` | `Sogdian` |
| `Sogd` |
| `Sora_Sompeng` | `Sora_Sompeng` |
| `Sora` |
| `Soyombo` | `Soyombo` |
| `Soyo` |
| `Sundanese` | `Sundanese` |
| `Sund` |
| `Syloti_Nagri` | `Syloti_Nagri` |
| `Sylo` |
| `Syriac` | `Syriac` |
| `Syrc` |
| `Tagalog` | `Tagalog` |
| `Tglg` |
| `Tagbanwa` | `Tagbanwa` |
| `Tagb` |
| `Tai_Le` | `Tai_Le` |
| `Tale` |
| `Tai_Tham` | `Tai_Tham` |
| `Lana` |
| `Tai_Viet` | `Tai_Viet` |
| `Tavt` |
| `Takri` | `Takri` |
| `Takr` |
| `Tamil` | `Tamil` |
| `Taml` |
| `Tangut` | `Tangut` |
| `Tang` |
| `Telugu` | `Telugu` |
| `Telu` |
| `Thaana` | `Thaana` |
| `Thaa` |
| `Thai` | `Thai` |
| `Tibetan` | `Tibetan` |
| `Tibt` |
| `Tifinagh` | `Tifinagh` |
| `Tfng` |
| `Tirhuta` | `Tirhuta` |
| `Tirh` |
| `Ugaritic` | `Ugaritic` |
| `Ugar` |
| `Vai` | `Vai` |
| `Vaii` |
| `Wancho` | `Wancho` |
| `Wcho` |
| `Warang_Citi` | `Warang_Citi` |
| `Wara` |
| `Yezidi` | `Yezidi` |
| `Yezi` |
| `Yi` | `Yi` |
| `Yiii` |
| `Zanabazar_Square` | `Zanabazar_Square` |
| `Zanb` |

## 22.2.2.9 AtomEscape

With parameter direction.

The production [AtomEscape](https://262.ecma-international.org/12.0/#prod-AtomEscape) :: [DecimalEscape](https://262.ecma-international.org/12.0/#prod-DecimalEscape) evaluates as follows:

1.  Evaluate [DecimalEscape](https://262.ecma-international.org/12.0/#prod-DecimalEscape) to obtain an [integer](https://262.ecma-international.org/12.0/#integer) n.
2.  [Assert](https://262.ecma-international.org/12.0/#assert): n ≤ NcapturingParens.
3.  Return ! [BackreferenceMatcher](https://262.ecma-international.org/12.0/#sec-backreference-matcher)(n, direction).

The production [AtomEscape](https://262.ecma-international.org/12.0/#prod-AtomEscape) :: [CharacterEscape](https://262.ecma-international.org/12.0/#prod-CharacterEscape) evaluates as follows:

1.  Evaluate [CharacterEscape](https://262.ecma-international.org/12.0/#prod-CharacterEscape) to obtain a character ch.
2.  Let A be a one-element CharSet containing the character ch.
3.  Return ! [CharacterSetMatcher](https://262.ecma-international.org/12.0/#sec-runtime-semantics-charactersetmatcher-abstract-operation)(A, false, direction).

The production [AtomEscape](https://262.ecma-international.org/12.0/#prod-AtomEscape) :: [CharacterClassEscape](https://262.ecma-international.org/12.0/#prod-CharacterClassEscape) evaluates as follows:

1.  Evaluate [CharacterClassEscape](https://262.ecma-international.org/12.0/#prod-CharacterClassEscape) to obtain a CharSet A.
2.  Return ! [CharacterSetMatcher](https://262.ecma-international.org/12.0/#sec-runtime-semantics-charactersetmatcher-abstract-operation)(A, false, direction).

Note

An escape sequence of the form `\` followed by a non-zero decimal number n matches the result of the nth set of capturing parentheses ([22.2.2.1](https://262.ecma-international.org/12.0/#sec-notation)). It is an error if the regular expression has fewer than n capturing parentheses. If the regular expression has n or more capturing parentheses but the nth one is undefined because it has not captured anything, then the backreference always succeeds.

The production [AtomEscape](https://262.ecma-international.org/12.0/#prod-AtomEscape) :: k [GroupName](https://262.ecma-international.org/12.0/#prod-GroupName) evaluates as follows:

1.  Search the enclosing [Pattern](https://262.ecma-international.org/12.0/#prod-Pattern) for an instance of a [GroupSpecifier](https://262.ecma-international.org/12.0/#prod-GroupSpecifier) containing a [RegExpIdentifierName](https://262.ecma-international.org/12.0/#prod-RegExpIdentifierName) which has a [CapturingGroupName](https://262.ecma-international.org/12.0/#sec-static-semantics-capturinggroupname) equal to the [CapturingGroupName](https://262.ecma-international.org/12.0/#sec-static-semantics-capturinggroupname) of the [RegExpIdentifierName](https://262.ecma-international.org/12.0/#prod-RegExpIdentifierName) contained in [GroupName](https://262.ecma-international.org/12.0/#prod-GroupName).
2.  [Assert](https://262.ecma-international.org/12.0/#assert): A unique such [GroupSpecifier](https://262.ecma-international.org/12.0/#prod-GroupSpecifier) is found.
3.  Let parenIndex be the number of left-capturing parentheses in the entire regular expression that occur to the left of the located [GroupSpecifier](https://262.ecma-international.org/12.0/#prod-GroupSpecifier). This is the total number of [Atom](https://262.ecma-international.org/12.0/#prod-Atom) :: ( [GroupSpecifier](https://262.ecma-international.org/12.0/#prod-GroupSpecifier) [Disjunction](https://262.ecma-international.org/12.0/#prod-Disjunction) ) Parse Nodes prior to or enclosing the located [GroupSpecifier](https://262.ecma-international.org/12.0/#prod-GroupSpecifier), including its immediately enclosing [Atom](https://262.ecma-international.org/12.0/#prod-Atom).
4.  Return ! [BackreferenceMatcher](https://262.ecma-international.org/12.0/#sec-backreference-matcher)(parenIndex, direction).

## 22.2.2.9.1 BackreferenceMatcher ( n, direction )

The abstract operation BackreferenceMatcher takes arguments n (a positive [integer](https://262.ecma-international.org/12.0/#integer)) and direction (1 or -1). It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): n ≥ 1.
2.  Return a new Matcher with parameters (x, c) that captures n and direction and performs the following steps when called:
    1.  [Assert](https://262.ecma-international.org/12.0/#assert): x is a State.
    2.  [Assert](https://262.ecma-international.org/12.0/#assert): c is a Continuation.
    3.  Let cap be x's captures [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).
    4.  Let s be cap\[n\].
    5.  If s is undefined, return c(x).
    6.  Let e be x's endIndex.
    7.  Let len be the number of elements in s.
    8.  Let f be e + direction × len.
    9.  If f < 0 or f > InputLength, return failure.
    10.  Let g be [min](https://262.ecma-international.org/12.0/#eqn-min)(e, f).
    11.  If there exists an [integer](https://262.ecma-international.org/12.0/#integer) i between 0 (inclusive) and len (exclusive) such that [Canonicalize](https://262.ecma-international.org/12.0/#sec-runtime-semantics-canonicalize-ch)(s\[i\]) is not the same character value as [Canonicalize](https://262.ecma-international.org/12.0/#sec-runtime-semantics-canonicalize-ch)(Input\[g + i\]), return failure.
    12.  Let y be the State (f, cap).
    13.  Return c(y).

## 22.2.2.10 CharacterEscape

The [CharacterEscape](https://262.ecma-international.org/12.0/#prod-CharacterEscape) productions evaluate as follows:

[CharacterEscape](https://262.ecma-international.org/12.0/#prod-CharacterEscape) :: [ControlEscape](https://262.ecma-international.org/12.0/#prod-ControlEscape) c [ControlLetter](https://262.ecma-international.org/12.0/#prod-ControlLetter) 0 \[lookahead ∉ [DecimalDigit](https://262.ecma-international.org/12.0/#prod-DecimalDigit)\] [HexEscapeSequence](https://262.ecma-international.org/12.0/#prod-HexEscapeSequence) [RegExpUnicodeEscapeSequence](https://262.ecma-international.org/12.0/#prod-RegExpUnicodeEscapeSequence) [IdentityEscape](https://262.ecma-international.org/12.0/#prod-IdentityEscape)

1.  Let cv be the [CharacterValue](https://262.ecma-international.org/12.0/#sec-patterns-static-semantics-character-value) of this [CharacterEscape](https://262.ecma-international.org/12.0/#prod-CharacterEscape).
2.  Return the character whose character value is cv.

## 22.2.2.11 DecimalEscape

The [DecimalEscape](https://262.ecma-international.org/12.0/#prod-DecimalEscape) productions evaluate as follows:

[DecimalEscape](https://262.ecma-international.org/12.0/#prod-DecimalEscape) :: [NonZeroDigit](https://262.ecma-international.org/12.0/#prod-NonZeroDigit) [DecimalDigits](https://262.ecma-international.org/12.0/#prod-DecimalDigits)opt

1.  Return the [CapturingGroupNumber](https://262.ecma-international.org/12.0/#sec-patterns-static-semantics-capturing-group-number) of this [DecimalEscape](https://262.ecma-international.org/12.0/#prod-DecimalEscape).

Note

If `\` is followed by a decimal number n whose first digit is not `0`, then the escape sequence is considered to be a backreference. It is an error if n is greater than the total number of left-capturing parentheses in the entire regular expression.

## 22.2.2.12 CharacterClassEscape

The production [CharacterClassEscape](https://262.ecma-international.org/12.0/#prod-CharacterClassEscape) :: d evaluates as follows:

1.  Return the ten-element CharSet containing the characters `0` through `9` inclusive.

The production [CharacterClassEscape](https://262.ecma-international.org/12.0/#prod-CharacterClassEscape) :: D evaluates as follows:

1.  Return the CharSet containing all characters not in the CharSet returned by [CharacterClassEscape](https://262.ecma-international.org/12.0/#prod-CharacterClassEscape) :: d .

The production [CharacterClassEscape](https://262.ecma-international.org/12.0/#prod-CharacterClassEscape) :: s evaluates as follows:

1.  Return the CharSet containing all characters corresponding to a code point on the right-hand side of the [WhiteSpace](https://262.ecma-international.org/12.0/#prod-WhiteSpace) or [LineTerminator](https://262.ecma-international.org/12.0/#prod-LineTerminator) productions.

The production [CharacterClassEscape](https://262.ecma-international.org/12.0/#prod-CharacterClassEscape) :: S evaluates as follows:

1.  Return the CharSet containing all characters not in the CharSet returned by [CharacterClassEscape](https://262.ecma-international.org/12.0/#prod-CharacterClassEscape) :: s .

The production [CharacterClassEscape](https://262.ecma-international.org/12.0/#prod-CharacterClassEscape) :: w evaluates as follows:

1.  Return WordCharacters.

The production [CharacterClassEscape](https://262.ecma-international.org/12.0/#prod-CharacterClassEscape) :: W evaluates as follows:

1.  Return the CharSet containing all characters not in the CharSet returned by [CharacterClassEscape](https://262.ecma-international.org/12.0/#prod-CharacterClassEscape) :: w .

The production [CharacterClassEscape](https://262.ecma-international.org/12.0/#prod-CharacterClassEscape) :: p{ [UnicodePropertyValueExpression](https://262.ecma-international.org/12.0/#prod-UnicodePropertyValueExpression) } evaluates as follows:

1.  Return the CharSet containing all Unicode code points included in the CharSet returned by [UnicodePropertyValueExpression](https://262.ecma-international.org/12.0/#prod-UnicodePropertyValueExpression).

The production [CharacterClassEscape](https://262.ecma-international.org/12.0/#prod-CharacterClassEscape) :: P{ [UnicodePropertyValueExpression](https://262.ecma-international.org/12.0/#prod-UnicodePropertyValueExpression) } evaluates as follows:

1.  Return the CharSet containing all Unicode code points not included in the CharSet returned by [UnicodePropertyValueExpression](https://262.ecma-international.org/12.0/#prod-UnicodePropertyValueExpression).

The production [UnicodePropertyValueExpression](https://262.ecma-international.org/12.0/#prod-UnicodePropertyValueExpression) :: [UnicodePropertyName](https://262.ecma-international.org/12.0/#prod-UnicodePropertyName) \= [UnicodePropertyValue](https://262.ecma-international.org/12.0/#prod-UnicodePropertyValue) evaluates as follows:

1.  Let ps be [SourceText](https://262.ecma-international.org/12.0/#sec-static-semantics-sourcetext) of [UnicodePropertyName](https://262.ecma-international.org/12.0/#prod-UnicodePropertyName).
2.  Let p be ! [UnicodeMatchProperty](https://262.ecma-international.org/12.0/#sec-runtime-semantics-unicodematchproperty-p)(ps).
3.  [Assert](https://262.ecma-international.org/12.0/#assert): p is a Unicode [property name](https://262.ecma-international.org/12.0/#property-name) or property alias listed in the “[Property name](https://262.ecma-international.org/12.0/#property-name) and aliases” column of [Table 56](https://262.ecma-international.org/12.0/#table-nonbinary-unicode-properties).
4.  Let vs be [SourceText](https://262.ecma-international.org/12.0/#sec-static-semantics-sourcetext) of [UnicodePropertyValue](https://262.ecma-international.org/12.0/#prod-UnicodePropertyValue).
5.  Let v be ! [UnicodeMatchPropertyValue](https://262.ecma-international.org/12.0/#sec-runtime-semantics-unicodematchpropertyvalue-p-v)(p, vs).
6.  Return the CharSet containing all Unicode code points whose character database definition includes the property p with value v.

The production [UnicodePropertyValueExpression](https://262.ecma-international.org/12.0/#prod-UnicodePropertyValueExpression) :: [LoneUnicodePropertyNameOrValue](https://262.ecma-international.org/12.0/#prod-LoneUnicodePropertyNameOrValue) evaluates as follows:

1.  Let s be [SourceText](https://262.ecma-international.org/12.0/#sec-static-semantics-sourcetext) of [LoneUnicodePropertyNameOrValue](https://262.ecma-international.org/12.0/#prod-LoneUnicodePropertyNameOrValue).
2.  If ! [UnicodeMatchPropertyValue](https://262.ecma-international.org/12.0/#sec-runtime-semantics-unicodematchpropertyvalue-p-v)(`General_Category`, s) is identical to a [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) of Unicode code points that is the name of a Unicode general category or general category alias listed in the “Property value and aliases” column of [Table 58](https://262.ecma-international.org/12.0/#table-unicode-general-category-values), then
    1.  Return the CharSet containing all Unicode code points whose character database definition includes the property “General\_Category” with value s.
3.  Let p be ! [UnicodeMatchProperty](https://262.ecma-international.org/12.0/#sec-runtime-semantics-unicodematchproperty-p)(s).
4.  [Assert](https://262.ecma-international.org/12.0/#assert): p is a binary Unicode property or binary property alias listed in the “[Property name](https://262.ecma-international.org/12.0/#property-name) and aliases” column of [Table 57](https://262.ecma-international.org/12.0/#table-binary-unicode-properties).
5.  Return the CharSet containing all Unicode code points whose character database definition includes the property p with value “True”.

## 22.2.2.13 CharacterClass

The production [CharacterClass](https://262.ecma-international.org/12.0/#prod-CharacterClass) :: \[ [ClassRanges](https://262.ecma-international.org/12.0/#prod-ClassRanges) \] evaluates as follows:

1.  Evaluate [ClassRanges](https://262.ecma-international.org/12.0/#prod-ClassRanges) to obtain a CharSet A.
2.  Return the two results A and false.

The production [CharacterClass](https://262.ecma-international.org/12.0/#prod-CharacterClass) :: \[ ^ [ClassRanges](https://262.ecma-international.org/12.0/#prod-ClassRanges) \] evaluates as follows:

1.  Evaluate [ClassRanges](https://262.ecma-international.org/12.0/#prod-ClassRanges) to obtain a CharSet A.
2.  Return the two results A and true.

## 22.2.2.14 ClassRanges

The production [ClassRanges](https://262.ecma-international.org/12.0/#prod-ClassRanges) :: \[empty\] evaluates as follows:

1.  Return the empty CharSet.

The production [ClassRanges](https://262.ecma-international.org/12.0/#prod-ClassRanges) :: [NonemptyClassRanges](https://262.ecma-international.org/12.0/#prod-NonemptyClassRanges) evaluates as follows:

1.  Return the CharSet that is the result of evaluating [NonemptyClassRanges](https://262.ecma-international.org/12.0/#prod-NonemptyClassRanges).

## 22.2.2.15 NonemptyClassRanges

The production [NonemptyClassRanges](https://262.ecma-international.org/12.0/#prod-NonemptyClassRanges) :: [ClassAtom](https://262.ecma-international.org/12.0/#prod-ClassAtom) evaluates as follows:

1.  Return the CharSet that is the result of evaluating [ClassAtom](https://262.ecma-international.org/12.0/#prod-ClassAtom).

The production [NonemptyClassRanges](https://262.ecma-international.org/12.0/#prod-NonemptyClassRanges) :: [ClassAtom](https://262.ecma-international.org/12.0/#prod-ClassAtom) [NonemptyClassRangesNoDash](https://262.ecma-international.org/12.0/#prod-NonemptyClassRangesNoDash) evaluates as follows:

1.  Evaluate [ClassAtom](https://262.ecma-international.org/12.0/#prod-ClassAtom) to obtain a CharSet A.
2.  Evaluate [NonemptyClassRangesNoDash](https://262.ecma-international.org/12.0/#prod-NonemptyClassRangesNoDash) to obtain a CharSet B.
3.  Return the union of CharSets A and B.

The production [NonemptyClassRanges](https://262.ecma-international.org/12.0/#prod-NonemptyClassRanges) :: [ClassAtom](https://262.ecma-international.org/12.0/#prod-ClassAtom) \- [ClassAtom](https://262.ecma-international.org/12.0/#prod-ClassAtom) [ClassRanges](https://262.ecma-international.org/12.0/#prod-ClassRanges) evaluates as follows:

1.  Evaluate the first [ClassAtom](https://262.ecma-international.org/12.0/#prod-ClassAtom) to obtain a CharSet A.
2.  Evaluate the second [ClassAtom](https://262.ecma-international.org/12.0/#prod-ClassAtom) to obtain a CharSet B.
3.  Evaluate [ClassRanges](https://262.ecma-international.org/12.0/#prod-ClassRanges) to obtain a CharSet C.
4.  Let D be ! [CharacterRange](https://262.ecma-international.org/12.0/#sec-runtime-semantics-characterrange-abstract-operation)(A, B).
5.  Return the union of D and C.

## 22.2.2.15.1 CharacterRange ( A, B )

The abstract operation CharacterRange takes arguments A (a CharSet) and B (a CharSet). It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): A and B each contain exactly one character.
2.  Let a be the one character in CharSet A.
3.  Let b be the one character in CharSet B.
4.  Let i be the character value of character a.
5.  Let j be the character value of character b.
6.  [Assert](https://262.ecma-international.org/12.0/#assert): i ≤ j.
7.  Return the CharSet containing all characters with a character value greater than or equal to i and less than or equal to j.

## 22.2.2.16 NonemptyClassRangesNoDash

The production [NonemptyClassRangesNoDash](https://262.ecma-international.org/12.0/#prod-NonemptyClassRangesNoDash) :: [ClassAtom](https://262.ecma-international.org/12.0/#prod-ClassAtom) evaluates as follows:

1.  Return the CharSet that is the result of evaluating [ClassAtom](https://262.ecma-international.org/12.0/#prod-ClassAtom).

The production [NonemptyClassRangesNoDash](https://262.ecma-international.org/12.0/#prod-NonemptyClassRangesNoDash) :: [ClassAtomNoDash](https://262.ecma-international.org/12.0/#prod-ClassAtomNoDash) [NonemptyClassRangesNoDash](https://262.ecma-international.org/12.0/#prod-NonemptyClassRangesNoDash) evaluates as follows:

1.  Evaluate [ClassAtomNoDash](https://262.ecma-international.org/12.0/#prod-ClassAtomNoDash) to obtain a CharSet A.
2.  Evaluate [NonemptyClassRangesNoDash](https://262.ecma-international.org/12.0/#prod-NonemptyClassRangesNoDash) to obtain a CharSet B.
3.  Return the union of CharSets A and B.

The production [NonemptyClassRangesNoDash](https://262.ecma-international.org/12.0/#prod-NonemptyClassRangesNoDash) :: [ClassAtomNoDash](https://262.ecma-international.org/12.0/#prod-ClassAtomNoDash) \- [ClassAtom](https://262.ecma-international.org/12.0/#prod-ClassAtom) [ClassRanges](https://262.ecma-international.org/12.0/#prod-ClassRanges) evaluates as follows:

1.  Evaluate [ClassAtomNoDash](https://262.ecma-international.org/12.0/#prod-ClassAtomNoDash) to obtain a CharSet A.
2.  Evaluate [ClassAtom](https://262.ecma-international.org/12.0/#prod-ClassAtom) to obtain a CharSet B.
3.  Evaluate [ClassRanges](https://262.ecma-international.org/12.0/#prod-ClassRanges) to obtain a CharSet C.
4.  Let D be ! [CharacterRange](https://262.ecma-international.org/12.0/#sec-runtime-semantics-characterrange-abstract-operation)(A, B).
5.  Return the union of D and C.

Note 1

[ClassRanges](https://262.ecma-international.org/12.0/#prod-ClassRanges) can expand into a single [ClassAtom](https://262.ecma-international.org/12.0/#prod-ClassAtom) and/or ranges of two [ClassAtom](https://262.ecma-international.org/12.0/#prod-ClassAtom) separated by dashes. In the latter case the [ClassRanges](https://262.ecma-international.org/12.0/#prod-ClassRanges) includes all characters between the first [ClassAtom](https://262.ecma-international.org/12.0/#prod-ClassAtom) and the second [ClassAtom](https://262.ecma-international.org/12.0/#prod-ClassAtom), inclusive; an error occurs if either [ClassAtom](https://262.ecma-international.org/12.0/#prod-ClassAtom) does not represent a single character (for example, if one is \\w) or if the first [ClassAtom](https://262.ecma-international.org/12.0/#prod-ClassAtom)'s character value is greater than the second [ClassAtom](https://262.ecma-international.org/12.0/#prod-ClassAtom)'s character value.

Note 2

Even if the pattern ignores case, the case of the two ends of a range is significant in determining which characters belong to the range. Thus, for example, the pattern `/[E-F]/i` matches only the letters `E`, `F`, `e`, and `f`, while the pattern `/[E-f]/i` matches all upper and lower-case letters in the Unicode Basic Latin block as well as the symbols `[`, `\`, `]`, `^`, `_`, and `` ` ``.

Note 3

A `-` character can be treated literally or it can denote a range. It is treated literally if it is the first or last character of [ClassRanges](https://262.ecma-international.org/12.0/#prod-ClassRanges), the beginning or end limit of a range specification, or immediately follows a range specification.

## 22.2.2.17 ClassAtom

The production [ClassAtom](https://262.ecma-international.org/12.0/#prod-ClassAtom) :: \- evaluates as follows:

1.  Return the CharSet containing the single character `-` U+002D (HYPHEN-MINUS).

The production [ClassAtom](https://262.ecma-international.org/12.0/#prod-ClassAtom) :: [ClassAtomNoDash](https://262.ecma-international.org/12.0/#prod-ClassAtomNoDash) evaluates as follows:

1.  Return the CharSet that is the result of evaluating [ClassAtomNoDash](https://262.ecma-international.org/12.0/#prod-ClassAtomNoDash).

## 22.2.2.18 ClassAtomNoDash

The production [ClassAtomNoDash](https://262.ecma-international.org/12.0/#prod-ClassAtomNoDash) :: [SourceCharacter](https://262.ecma-international.org/12.0/#prod-SourceCharacter) but not one of \\ or \] or \- evaluates as follows:

1.  Return the CharSet containing the character matched by [SourceCharacter](https://262.ecma-international.org/12.0/#prod-SourceCharacter).

The production [ClassAtomNoDash](https://262.ecma-international.org/12.0/#prod-ClassAtomNoDash) :: \\ [ClassEscape](https://262.ecma-international.org/12.0/#prod-ClassEscape) evaluates as follows:

1.  Return the CharSet that is the result of evaluating [ClassEscape](https://262.ecma-international.org/12.0/#prod-ClassEscape).

## 22.2.2.19 ClassEscape

The [ClassEscape](https://262.ecma-international.org/12.0/#prod-ClassEscape) productions evaluate as follows:

[ClassEscape](https://262.ecma-international.org/12.0/#prod-ClassEscape) :: b [ClassEscape](https://262.ecma-international.org/12.0/#prod-ClassEscape) :: \- [ClassEscape](https://262.ecma-international.org/12.0/#prod-ClassEscape) :: [CharacterEscape](https://262.ecma-international.org/12.0/#prod-CharacterEscape)

1.  Let cv be the [CharacterValue](https://262.ecma-international.org/12.0/#sec-patterns-static-semantics-character-value) of this [ClassEscape](https://262.ecma-international.org/12.0/#prod-ClassEscape).
2.  Let c be the character whose character value is cv.
3.  Return the CharSet containing the single character c.

[ClassEscape](https://262.ecma-international.org/12.0/#prod-ClassEscape) :: [CharacterClassEscape](https://262.ecma-international.org/12.0/#prod-CharacterClassEscape)

1.  Return the CharSet that is the result of evaluating [CharacterClassEscape](https://262.ecma-international.org/12.0/#prod-CharacterClassEscape).

Note

A [ClassAtom](https://262.ecma-international.org/12.0/#prod-ClassAtom) can use any of the escape sequences that are allowed in the rest of the regular expression except for `\b`, `\B`, and backreferences. Inside a [CharacterClass](https://262.ecma-international.org/12.0/#prod-CharacterClass), `\b` means the backspace character, while `\B` and backreferences raise errors. Using a backreference inside a [ClassAtom](https://262.ecma-international.org/12.0/#prod-ClassAtom) causes an error.

## 22.2.3 The RegExp Constructor

The RegExp [constructor](https://262.ecma-international.org/12.0/#constructor):

-   is %RegExp%.
-   is the initial value of the "RegExp" property of the [global object](https://262.ecma-international.org/12.0/#sec-global-object).
-   creates and initializes a new RegExp object when called as a function rather than as a [constructor](https://262.ecma-international.org/12.0/#constructor). Thus the function call `RegExp(…)` is equivalent to the object creation expression `new RegExp(…)` with the same arguments.
-   is designed to be subclassable. It may be used as the value of an `extends` clause of a class definition. Subclass constructors that intend to inherit the specified RegExp behaviour must include a `super` call to the RegExp [constructor](https://262.ecma-international.org/12.0/#constructor) to create and initialize subclass instances with the necessary internal slots.

## 22.2.3.1 RegExp ( pattern, flags )

The following steps are taken:

1.  Let patternIsRegExp be ? [IsRegExp](https://262.ecma-international.org/12.0/#sec-isregexp)(pattern).
2.  If NewTarget is undefined, then
    1.  Let newTarget be the [active function object](https://262.ecma-international.org/12.0/#active-function-object).
    2.  If patternIsRegExp is true and flags is undefined, then
        1.  Let patternConstructor be ? [Get](https://262.ecma-international.org/12.0/#sec-get-o-p)(pattern, "constructor").
        2.  If [SameValue](https://262.ecma-international.org/12.0/#sec-samevalue)(newTarget, patternConstructor) is true, return pattern.
3.  Else, let newTarget be NewTarget.
4.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(pattern) is Object and pattern has a \[\[RegExpMatcher\]\] internal slot, then
    1.  Let P be pattern.\[\[OriginalSource\]\].
    2.  If flags is undefined, let F be pattern.\[\[OriginalFlags\]\].
    3.  Else, let F be flags.
5.  Else if patternIsRegExp is true, then
    1.  Let P be ? [Get](https://262.ecma-international.org/12.0/#sec-get-o-p)(pattern, "source").
    2.  If flags is undefined, then
        1.  Let F be ? [Get](https://262.ecma-international.org/12.0/#sec-get-o-p)(pattern, "flags").
    3.  Else, let F be flags.
6.  Else,
    1.  Let P be pattern.
    2.  Let F be flags.
7.  Let O be ? [RegExpAlloc](https://262.ecma-international.org/12.0/#sec-regexpalloc)(newTarget).
8.  Return ? [RegExpInitialize](https://262.ecma-international.org/12.0/#sec-regexpinitialize)(O, P, F).

Note

If pattern is supplied using a [StringLiteral](https://262.ecma-international.org/12.0/#prod-StringLiteral), the usual escape sequence substitutions are performed before the String is processed by RegExp. If pattern must contain an escape sequence to be recognized by RegExp, any U+005C (REVERSE SOLIDUS) code points must be escaped within the [StringLiteral](https://262.ecma-international.org/12.0/#prod-StringLiteral) to prevent them being removed when the contents of the [StringLiteral](https://262.ecma-international.org/12.0/#prod-StringLiteral) are formed.

## 22.2.3.2 Abstract Operations for the RegExp Constructor

## 22.2.3.2.1 RegExpAlloc ( newTarget )

The abstract operation RegExpAlloc takes argument newTarget. It performs the following steps when called:

1.  Let obj be ? [OrdinaryCreateFromConstructor](https://262.ecma-international.org/12.0/#sec-ordinarycreatefromconstructor)(newTarget, "%RegExp.prototype%", « \[\[RegExpMatcher\]\], \[\[OriginalSource\]\], \[\[OriginalFlags\]\] »).
2.  Perform ! [DefinePropertyOrThrow](https://262.ecma-international.org/12.0/#sec-definepropertyorthrow)(obj, "lastIndex", PropertyDescriptor { \[\[Writable\]\]: true, \[\[Enumerable\]\]: false, \[\[Configurable\]\]: false }).
3.  Return obj.

## 22.2.3.2.2 RegExpInitialize ( obj, pattern, flags )

The abstract operation RegExpInitialize takes arguments obj, pattern, and flags. It performs the following steps when called:

1.  If pattern is undefined, let P be the empty String.
2.  Else, let P be ? [ToString](https://262.ecma-international.org/12.0/#sec-tostring)(pattern).
3.  If flags is undefined, let F be the empty String.
4.  Else, let F be ? [ToString](https://262.ecma-international.org/12.0/#sec-tostring)(flags).
5.  If F contains any code unit other than "g", "i", "m", "s", "u", or "y" or if it contains the same code unit more than once, throw a SyntaxError exception.
6.  If F contains "u", let u be true; else let u be false.
7.  If u is true, then
    1.  Let patternText be ! [StringToCodePoints](https://262.ecma-international.org/12.0/#sec-stringtocodepoints)(P).
    2.  Let patternCharacters be a [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) whose elements are the code points of patternText.
8.  Else,
    1.  Let patternText be the result of interpreting each of P's 16-bit elements as a Unicode BMP code point. UTF-16 decoding is not applied to the elements.
    2.  Let patternCharacters be a [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) whose elements are the code unit elements of P.
9.  Let parseResult be [ParsePattern](https://262.ecma-international.org/12.0/#sec-parsepattern)(patternText, u).
10.  If parseResult is a non-empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) of SyntaxError objects, throw a SyntaxError exception.
11.  [Assert](https://262.ecma-international.org/12.0/#assert): parseResult is a [Parse Node](https://262.ecma-international.org/12.0/#sec-syntactic-grammar) for [Pattern](https://262.ecma-international.org/12.0/#prod-Pattern).
12.  Set obj.\[\[OriginalSource\]\] to P.
13.  Set obj.\[\[OriginalFlags\]\] to F.
14.  Set obj.\[\[RegExpMatcher\]\] to the [Abstract Closure](https://262.ecma-international.org/12.0/#sec-abstract-closure) that evaluates parseResult by applying the semantics provided in [22.2.2](https://262.ecma-international.org/12.0/#sec-pattern-semantics) using patternCharacters as the pattern's [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) of [SourceCharacter](https://262.ecma-international.org/12.0/#prod-SourceCharacter) values and F as the flag parameters.
15.  Perform ? [Set](https://262.ecma-international.org/12.0/#sec-set-o-p-v-throw)(obj, "lastIndex", +0𝔽, true).
16.  Return obj.

## 22.2.3.2.3 Static Semantics: ParsePattern ( patternText, u )

The abstract operation ParsePattern takes arguments patternText (a sequence of Unicode code points) and u (a Boolean). It performs the following steps when called:

1.  If u is true, then
    1.  Let parseResult be [ParseText](https://262.ecma-international.org/12.0/#sec-parsetext)(patternText, [Pattern](https://262.ecma-international.org/12.0/#prod-Pattern)\[+U, +N\]).
2.  Else,
    1.  Let parseResult be [ParseText](https://262.ecma-international.org/12.0/#sec-parsetext)(patternText, [Pattern](https://262.ecma-international.org/12.0/#prod-Pattern)\[~U, ~N\]).
    2.  If parseResult is a [Parse Node](https://262.ecma-international.org/12.0/#sec-syntactic-grammar) and parseResult contains a [GroupName](https://262.ecma-international.org/12.0/#prod-GroupName), then
        1.  Set parseResult to [ParseText](https://262.ecma-international.org/12.0/#sec-parsetext)(patternText, [Pattern](https://262.ecma-international.org/12.0/#prod-Pattern)\[~U, +N\]).
3.  Return parseResult.

## 22.2.3.2.4 RegExpCreate ( P, F )

The abstract operation RegExpCreate takes arguments P and F. It performs the following steps when called:

1.  Let obj be ? [RegExpAlloc](https://262.ecma-international.org/12.0/#sec-regexpalloc)([%RegExp%](https://262.ecma-international.org/12.0/#sec-regexp-constructor)).
2.  Return ? [RegExpInitialize](https://262.ecma-international.org/12.0/#sec-regexpinitialize)(obj, P, F).

## 22.2.3.2.5 EscapeRegExpPattern ( P, F )

The abstract operation EscapeRegExpPattern takes arguments P and F. It performs the following steps when called:

1.  Let S be a String in the form of a [Pattern](https://262.ecma-international.org/12.0/#prod-Pattern)\[~U\] ([Pattern](https://262.ecma-international.org/12.0/#prod-Pattern)\[+U\] if F contains "u") equivalent to P interpreted as UTF-16 encoded Unicode code points ([6.1.4](https://262.ecma-international.org/12.0/#sec-ecmascript-language-types-string-type)), in which certain code points are escaped as described below. S may or may not be identical to P; however, the [Abstract Closure](https://262.ecma-international.org/12.0/#sec-abstract-closure) that would result from evaluating S as a [Pattern](https://262.ecma-international.org/12.0/#prod-Pattern)\[~U\] ([Pattern](https://262.ecma-international.org/12.0/#prod-Pattern)\[+U\] if F contains "u") must behave identically to the [Abstract Closure](https://262.ecma-international.org/12.0/#sec-abstract-closure) given by the constructed object's \[\[RegExpMatcher\]\] internal slot. Multiple calls to this abstract operation using the same values for P and F must produce identical results.
2.  The code points `/` or any [LineTerminator](https://262.ecma-international.org/12.0/#prod-LineTerminator) occurring in the pattern shall be escaped in S as necessary to ensure that the [string-concatenation](https://262.ecma-international.org/12.0/#string-concatenation) of "/", S, "/", and F can be parsed (in an appropriate lexical context) as a [RegularExpressionLiteral](https://262.ecma-international.org/12.0/#prod-RegularExpressionLiteral) that behaves identically to the constructed regular expression. For example, if P is "/", then S could be "\\/" or "\\u002F", among other possibilities, but not "/", because `///` followed by F would be parsed as a [SingleLineComment](https://262.ecma-international.org/12.0/#prod-SingleLineComment) rather than a [RegularExpressionLiteral](https://262.ecma-international.org/12.0/#prod-RegularExpressionLiteral). If P is the empty String, this specification can be met by letting S be "(?:)".
3.  Return S.

## 22.2.4 Properties of the RegExp Constructor

The RegExp [constructor](https://262.ecma-international.org/12.0/#constructor):

-   has a \[\[Prototype\]\] internal slot whose value is [%Function.prototype%](https://262.ecma-international.org/12.0/#sec-properties-of-the-function-prototype-object).
-   has the following properties:

## 22.2.4.1 RegExp.prototype

The initial value of `RegExp.prototype` is the [RegExp prototype object](https://262.ecma-international.org/12.0/#sec-properties-of-the-regexp-prototype-object).

This property has the attributes { \[\[Writable\]\]: false, \[\[Enumerable\]\]: false, \[\[Configurable\]\]: false }.

## 22.2.4.2 get RegExp \[ @@species \]

`RegExp[@@species]` is an [accessor property](https://262.ecma-international.org/12.0/#sec-object-type) whose set accessor function is undefined. Its get accessor function performs the following steps:

1.  Return the this value.

The value of the "name" property of this function is "get \[Symbol.species\]".

Note

RegExp prototype methods normally use their this value's [constructor](https://262.ecma-international.org/12.0/#constructor) to create a derived object. However, a subclass [constructor](https://262.ecma-international.org/12.0/#constructor) may over-ride that default behaviour by redefining its [@@species](https://262.ecma-international.org/12.0/#sec-well-known-symbols) property.

## 22.2.5 Properties of the RegExp Prototype Object

The RegExp prototype object:

-   is %RegExp.prototype%.
-   is an [ordinary object](https://262.ecma-international.org/12.0/#ordinary-object).
-   is not a RegExp instance and does not have a \[\[RegExpMatcher\]\] internal slot or any of the other internal slots of RegExp instance objects.
-   has a \[\[Prototype\]\] internal slot whose value is [%Object.prototype%](https://262.ecma-international.org/12.0/#sec-properties-of-the-object-prototype-object).

Note

The RegExp prototype object does not have a "valueOf" property of its own; however, it inherits the "valueOf" property from the [Object prototype object](https://262.ecma-international.org/12.0/#sec-properties-of-the-object-prototype-object).

## 22.2.5.1 RegExp.prototype.constructor

The initial value of `RegExp.prototype.constructor` is [%RegExp%](https://262.ecma-international.org/12.0/#sec-regexp-constructor).

## 22.2.5.2 RegExp.prototype.exec ( string )

Performs a regular expression match of string against the regular expression and returns an Array object containing the results of the match, or null if string did not match.

The String [ToString](https://262.ecma-international.org/12.0/#sec-tostring)(string) is searched for an occurrence of the regular expression pattern as follows:

1.  Let R be the this value.
2.  Perform ? [RequireInternalSlot](https://262.ecma-international.org/12.0/#sec-requireinternalslot)(R, \[\[RegExpMatcher\]\]).
3.  Let S be ? [ToString](https://262.ecma-international.org/12.0/#sec-tostring)(string).
4.  Return ? [RegExpBuiltinExec](https://262.ecma-international.org/12.0/#sec-regexpbuiltinexec)(R, S).

## 22.2.5.2.1 RegExpExec ( R, S )

The abstract operation RegExpExec takes arguments R and S. It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(R) is Object.
2.  [Assert](https://262.ecma-international.org/12.0/#assert): [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(S) is String.
3.  Let exec be ? [Get](https://262.ecma-international.org/12.0/#sec-get-o-p)(R, "exec").
4.  If [IsCallable](https://262.ecma-international.org/12.0/#sec-iscallable)(exec) is true, then
    1.  Let result be ? [Call](https://262.ecma-international.org/12.0/#sec-call)(exec, R, « S »).
    2.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(result) is neither Object nor Null, throw a TypeError exception.
    3.  Return result.
5.  Perform ? [RequireInternalSlot](https://262.ecma-international.org/12.0/#sec-requireinternalslot)(R, \[\[RegExpMatcher\]\]).
6.  Return ? [RegExpBuiltinExec](https://262.ecma-international.org/12.0/#sec-regexpbuiltinexec)(R, S).

Note

If a callable "exec" property is not found this algorithm falls back to attempting to use the built-in RegExp matching algorithm. This provides compatible behaviour for code written for prior editions where most built-in algorithms that use regular expressions did not perform a dynamic property lookup of "exec".

## 22.2.5.2.2 RegExpBuiltinExec ( R, S )

The abstract operation RegExpBuiltinExec takes arguments R and S. It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): R is an initialized RegExp instance.
2.  [Assert](https://262.ecma-international.org/12.0/#assert): [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(S) is String.
3.  Let length be the number of code units in S.
4.  Let lastIndex be [ℝ](https://262.ecma-international.org/12.0/#%E2%84%9D)(? [ToLength](https://262.ecma-international.org/12.0/#sec-tolength)(? [Get](https://262.ecma-international.org/12.0/#sec-get-o-p)(R, "lastIndex"))).
5.  Let flags be R.\[\[OriginalFlags\]\].
6.  If flags contains "g", let global be true; else let global be false.
7.  If flags contains "y", let sticky be true; else let sticky be false.
8.  If global is false and sticky is false, set lastIndex to 0.
9.  Let matcher be R.\[\[RegExpMatcher\]\].
10.  If flags contains "u", let fullUnicode be true; else let fullUnicode be false.
11.  Let matchSucceeded be false.
12.  Repeat, while matchSucceeded is false,
    1.  If lastIndex > length, then
        1.  If global is true or sticky is true, then
            1.  Perform ? [Set](https://262.ecma-international.org/12.0/#sec-set-o-p-v-throw)(R, "lastIndex", +0𝔽, true).
        2.  Return null.
    2.  Let r be matcher(S, lastIndex).
    3.  If r is failure, then
        1.  If sticky is true, then
            1.  Perform ? [Set](https://262.ecma-international.org/12.0/#sec-set-o-p-v-throw)(R, "lastIndex", +0𝔽, true).
            2.  Return null.
        2.  Set lastIndex to [AdvanceStringIndex](https://262.ecma-international.org/12.0/#sec-advancestringindex)(S, lastIndex, fullUnicode).
    4.  Else,
        1.  [Assert](https://262.ecma-international.org/12.0/#assert): r is a State.
        2.  Set matchSucceeded to true.
13.  Let e be r's endIndex value.
14.  If fullUnicode is true, then
    1.  e is an index into the Input character list, derived from S, matched by matcher. Let eUTF be the smallest index into S that corresponds to the character at element e of Input. If e is greater than or equal to the number of elements in Input, then eUTF is the number of code units in S.
    2.  Set e to eUTF.
15.  If global is true or sticky is true, then
    1.  Perform ? [Set](https://262.ecma-international.org/12.0/#sec-set-o-p-v-throw)(R, "lastIndex", [𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(e), true).
16.  Let n be the number of elements in r's captures [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type). (This is the same value as [22.2.2.1](https://262.ecma-international.org/12.0/#sec-notation)'s NcapturingParens.)
17.  [Assert](https://262.ecma-international.org/12.0/#assert): n < 232 - 1.
18.  Let A be ! [ArrayCreate](https://262.ecma-international.org/12.0/#sec-arraycreate)(n + 1).
19.  [Assert](https://262.ecma-international.org/12.0/#assert): The [mathematical value](https://262.ecma-international.org/12.0/#mathematical-value) of A's "length" property is n + 1.
20.  Perform ! [CreateDataPropertyOrThrow](https://262.ecma-international.org/12.0/#sec-createdatapropertyorthrow)(A, "index", [𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(lastIndex)).
21.  Perform ! [CreateDataPropertyOrThrow](https://262.ecma-international.org/12.0/#sec-createdatapropertyorthrow)(A, "input", S).
22.  Let matchedSubstr be the [substring](https://262.ecma-international.org/12.0/#substring) of S from lastIndex to e.
23.  Perform ! [CreateDataPropertyOrThrow](https://262.ecma-international.org/12.0/#sec-createdatapropertyorthrow)(A, "0", matchedSubstr).
24.  If R contains any [GroupName](https://262.ecma-international.org/12.0/#prod-GroupName), then
    1.  Let groups be ! [OrdinaryObjectCreate](https://262.ecma-international.org/12.0/#sec-ordinaryobjectcreate)(null).
25.  Else,
    1.  Let groups be undefined.
26.  Perform ! [CreateDataPropertyOrThrow](https://262.ecma-international.org/12.0/#sec-createdatapropertyorthrow)(A, "groups", groups).
27.  For each [integer](https://262.ecma-international.org/12.0/#integer) i such that i ≥ 1 and i ≤ n, do
    1.  Let captureI be ith element of r's captures [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).
    2.  If captureI is undefined, let capturedValue be undefined.
    3.  Else if fullUnicode is true, then
        1.  [Assert](https://262.ecma-international.org/12.0/#assert): captureI is a [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) of code points.
        2.  Let capturedValue be ! [CodePointsToString](https://262.ecma-international.org/12.0/#sec-codepointstostring)(captureI).
    4.  Else,
        1.  [Assert](https://262.ecma-international.org/12.0/#assert): fullUnicode is false.
        2.  [Assert](https://262.ecma-international.org/12.0/#assert): captureI is a [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) of code units.
        3.  Let capturedValue be the String value consisting of the code units of captureI.
    5.  Perform ! [CreateDataPropertyOrThrow](https://262.ecma-international.org/12.0/#sec-createdatapropertyorthrow)(A, ! [ToString](https://262.ecma-international.org/12.0/#sec-tostring)([𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(i)), capturedValue).
    6.  If the ith capture of R was defined with a [GroupName](https://262.ecma-international.org/12.0/#prod-GroupName), then
        1.  Let s be the [CapturingGroupName](https://262.ecma-international.org/12.0/#sec-static-semantics-capturinggroupname) of the corresponding [RegExpIdentifierName](https://262.ecma-international.org/12.0/#prod-RegExpIdentifierName).
        2.  Perform ! [CreateDataPropertyOrThrow](https://262.ecma-international.org/12.0/#sec-createdatapropertyorthrow)(groups, s, capturedValue).
28.  Return A.

## 22.2.5.2.3 AdvanceStringIndex ( S, index, unicode )

The abstract operation AdvanceStringIndex takes arguments S (a String), index (a non-negative [integer](https://262.ecma-international.org/12.0/#integer)), and unicode (a Boolean). It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): index ≤ 253 - 1.
2.  If unicode is false, return index + 1.
3.  Let length be the number of code units in S.
4.  If index + 1 ≥ length, return index + 1.
5.  Let cp be ! [CodePointAt](https://262.ecma-international.org/12.0/#sec-codepointat)(S, index).
6.  Return index + cp.\[\[CodeUnitCount\]\].

## 22.2.5.3 get RegExp.prototype.dotAll

`RegExp.prototype.dotAll` is an [accessor property](https://262.ecma-international.org/12.0/#sec-object-type) whose set accessor function is undefined. Its get accessor function performs the following steps:

1.  Let R be the this value.
2.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(R) is not Object, throw a TypeError exception.
3.  If R does not have an \[\[OriginalFlags\]\] internal slot, then
    1.  If [SameValue](https://262.ecma-international.org/12.0/#sec-samevalue)(R, [%RegExp.prototype%](https://262.ecma-international.org/12.0/#sec-properties-of-the-regexp-prototype-object)) is true, return undefined.
    2.  Otherwise, throw a TypeError exception.
4.  Let flags be R.\[\[OriginalFlags\]\].
5.  If flags contains the code unit 0x0073 (LATIN SMALL LETTER S), return true.
6.  Return false.

## 22.2.5.4 get RegExp.prototype.flags

`RegExp.prototype.flags` is an [accessor property](https://262.ecma-international.org/12.0/#sec-object-type) whose set accessor function is undefined. Its get accessor function performs the following steps:

1.  Let R be the this value.
2.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(R) is not Object, throw a TypeError exception.
3.  Let result be the empty String.
4.  Let global be ! [ToBoolean](https://262.ecma-international.org/12.0/#sec-toboolean)(? [Get](https://262.ecma-international.org/12.0/#sec-get-o-p)(R, "global")).
5.  If global is true, append the code unit 0x0067 (LATIN SMALL LETTER G) as the last code unit of result.
6.  Let ignoreCase be ! [ToBoolean](https://262.ecma-international.org/12.0/#sec-toboolean)(? [Get](https://262.ecma-international.org/12.0/#sec-get-o-p)(R, "ignoreCase")).
7.  If ignoreCase is true, append the code unit 0x0069 (LATIN SMALL LETTER I) as the last code unit of result.
8.  Let multiline be ! [ToBoolean](https://262.ecma-international.org/12.0/#sec-toboolean)(? [Get](https://262.ecma-international.org/12.0/#sec-get-o-p)(R, "multiline")).
9.  If multiline is true, append the code unit 0x006D (LATIN SMALL LETTER M) as the last code unit of result.
10.  Let dotAll be ! [ToBoolean](https://262.ecma-international.org/12.0/#sec-toboolean)(? [Get](https://262.ecma-international.org/12.0/#sec-get-o-p)(R, "dotAll")).
11.  If dotAll is true, append the code unit 0x0073 (LATIN SMALL LETTER S) as the last code unit of result.
12.  Let unicode be ! [ToBoolean](https://262.ecma-international.org/12.0/#sec-toboolean)(? [Get](https://262.ecma-international.org/12.0/#sec-get-o-p)(R, "unicode")).
13.  If unicode is true, append the code unit 0x0075 (LATIN SMALL LETTER U) as the last code unit of result.
14.  Let sticky be ! [ToBoolean](https://262.ecma-international.org/12.0/#sec-toboolean)(? [Get](https://262.ecma-international.org/12.0/#sec-get-o-p)(R, "sticky")).
15.  If sticky is true, append the code unit 0x0079 (LATIN SMALL LETTER Y) as the last code unit of result.
16.  Return result.

## 22.2.5.5 get RegExp.prototype.global

`RegExp.prototype.global` is an [accessor property](https://262.ecma-international.org/12.0/#sec-object-type) whose set accessor function is undefined. Its get accessor function performs the following steps:

1.  Let R be the this value.
2.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(R) is not Object, throw a TypeError exception.
3.  If R does not have an \[\[OriginalFlags\]\] internal slot, then
    1.  If [SameValue](https://262.ecma-international.org/12.0/#sec-samevalue)(R, [%RegExp.prototype%](https://262.ecma-international.org/12.0/#sec-properties-of-the-regexp-prototype-object)) is true, return undefined.
    2.  Otherwise, throw a TypeError exception.
4.  Let flags be R.\[\[OriginalFlags\]\].
5.  If flags contains the code unit 0x0067 (LATIN SMALL LETTER G), return true.
6.  Return false.

## 22.2.5.6 get RegExp.prototype.ignoreCase

`RegExp.prototype.ignoreCase` is an [accessor property](https://262.ecma-international.org/12.0/#sec-object-type) whose set accessor function is undefined. Its get accessor function performs the following steps:

1.  Let R be the this value.
2.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(R) is not Object, throw a TypeError exception.
3.  If R does not have an \[\[OriginalFlags\]\] internal slot, then
    1.  If [SameValue](https://262.ecma-international.org/12.0/#sec-samevalue)(R, [%RegExp.prototype%](https://262.ecma-international.org/12.0/#sec-properties-of-the-regexp-prototype-object)) is true, return undefined.
    2.  Otherwise, throw a TypeError exception.
4.  Let flags be R.\[\[OriginalFlags\]\].
5.  If flags contains the code unit 0x0069 (LATIN SMALL LETTER I), return true.
6.  Return false.

## 22.2.5.7 RegExp.prototype \[ @@match \] ( string )

When the `@@match` method is called with argument string, the following steps are taken:

1.  Let rx be the this value.
2.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(rx) is not Object, throw a TypeError exception.
3.  Let S be ? [ToString](https://262.ecma-international.org/12.0/#sec-tostring)(string).
4.  Let global be ! [ToBoolean](https://262.ecma-international.org/12.0/#sec-toboolean)(? [Get](https://262.ecma-international.org/12.0/#sec-get-o-p)(rx, "global")).
5.  If global is false, then
    1.  Return ? [RegExpExec](https://262.ecma-international.org/12.0/#sec-regexpexec)(rx, S).
6.  Else,
    1.  [Assert](https://262.ecma-international.org/12.0/#assert): global is true.
    2.  Let fullUnicode be ! [ToBoolean](https://262.ecma-international.org/12.0/#sec-toboolean)(? [Get](https://262.ecma-international.org/12.0/#sec-get-o-p)(rx, "unicode")).
    3.  Perform ? [Set](https://262.ecma-international.org/12.0/#sec-set-o-p-v-throw)(rx, "lastIndex", +0𝔽, true).
    4.  Let A be ! [ArrayCreate](https://262.ecma-international.org/12.0/#sec-arraycreate)(0).
    5.  Let n be 0.
    6.  Repeat,
        1.  Let result be ? [RegExpExec](https://262.ecma-international.org/12.0/#sec-regexpexec)(rx, S).
        2.  If result is null, then
            1.  If n = 0, return null.
            2.  Return A.
        3.  Else,
            1.  Let matchStr be ? [ToString](https://262.ecma-international.org/12.0/#sec-tostring)(? [Get](https://262.ecma-international.org/12.0/#sec-get-o-p)(result, "0")).
            2.  Perform ! [CreateDataPropertyOrThrow](https://262.ecma-international.org/12.0/#sec-createdatapropertyorthrow)(A, ! [ToString](https://262.ecma-international.org/12.0/#sec-tostring)([𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(n)), matchStr).
            3.  If matchStr is the empty String, then
                1.  Let thisIndex be [ℝ](https://262.ecma-international.org/12.0/#%E2%84%9D)(? [ToLength](https://262.ecma-international.org/12.0/#sec-tolength)(? [Get](https://262.ecma-international.org/12.0/#sec-get-o-p)(rx, "lastIndex"))).
                2.  Let nextIndex be [AdvanceStringIndex](https://262.ecma-international.org/12.0/#sec-advancestringindex)(S, thisIndex, fullUnicode).
                3.  Perform ? [Set](https://262.ecma-international.org/12.0/#sec-set-o-p-v-throw)(rx, "lastIndex", [𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(nextIndex), true).
            4.  Set n to n + 1.

The value of the "name" property of this function is "\[Symbol.match\]".

Note

The [@@match](https://262.ecma-international.org/12.0/#sec-well-known-symbols) property is used by the [IsRegExp](https://262.ecma-international.org/12.0/#sec-isregexp) abstract operation to identify objects that have the basic behaviour of regular expressions. The absence of a [@@match](https://262.ecma-international.org/12.0/#sec-well-known-symbols) property or the existence of such a property whose value does not Boolean coerce to true indicates that the object is not intended to be used as a regular expression object.

## 22.2.5.8 RegExp.prototype \[ @@matchAll \] ( string )

When the `@@matchAll` method is called with argument string, the following steps are taken:

1.  Let R be the this value.
2.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(R) is not Object, throw a TypeError exception.
3.  Let S be ? [ToString](https://262.ecma-international.org/12.0/#sec-tostring)(string).
4.  Let C be ? [SpeciesConstructor](https://262.ecma-international.org/12.0/#sec-speciesconstructor)(R, [%RegExp%](https://262.ecma-international.org/12.0/#sec-regexp-constructor)).
5.  Let flags be ? [ToString](https://262.ecma-international.org/12.0/#sec-tostring)(? [Get](https://262.ecma-international.org/12.0/#sec-get-o-p)(R, "flags")).
6.  Let matcher be ? [Construct](https://262.ecma-international.org/12.0/#sec-construct)(C, « R, flags »).
7.  Let lastIndex be ? [ToLength](https://262.ecma-international.org/12.0/#sec-tolength)(? [Get](https://262.ecma-international.org/12.0/#sec-get-o-p)(R, "lastIndex")).
8.  Perform ? [Set](https://262.ecma-international.org/12.0/#sec-set-o-p-v-throw)(matcher, "lastIndex", lastIndex, true).
9.  If flags contains "g", let global be true.
10.  Else, let global be false.
11.  If flags contains "u", let fullUnicode be true.
12.  Else, let fullUnicode be false.
13.  Return ! [CreateRegExpStringIterator](https://262.ecma-international.org/12.0/#sec-createregexpstringiterator)(matcher, S, global, fullUnicode).

The value of the "name" property of this function is "\[Symbol.matchAll\]".

## 22.2.5.9 get RegExp.prototype.multiline

`RegExp.prototype.multiline` is an [accessor property](https://262.ecma-international.org/12.0/#sec-object-type) whose set accessor function is undefined. Its get accessor function performs the following steps:

1.  Let R be the this value.
2.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(R) is not Object, throw a TypeError exception.
3.  If R does not have an \[\[OriginalFlags\]\] internal slot, then
    1.  If [SameValue](https://262.ecma-international.org/12.0/#sec-samevalue)(R, [%RegExp.prototype%](https://262.ecma-international.org/12.0/#sec-properties-of-the-regexp-prototype-object)) is true, return undefined.
    2.  Otherwise, throw a TypeError exception.
4.  Let flags be R.\[\[OriginalFlags\]\].
5.  If flags contains the code unit 0x006D (LATIN SMALL LETTER M), return true.
6.  Return false.

## 22.2.5.10 RegExp.prototype \[ @@replace \] ( string, replaceValue )

When the `@@replace` method is called with arguments string and replaceValue, the following steps are taken:

1.  Let rx be the this value.
2.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(rx) is not Object, throw a TypeError exception.
3.  Let S be ? [ToString](https://262.ecma-international.org/12.0/#sec-tostring)(string).
4.  Let lengthS be the number of code unit elements in S.
5.  Let functionalReplace be [IsCallable](https://262.ecma-international.org/12.0/#sec-iscallable)(replaceValue).
6.  If functionalReplace is false, then
    1.  Set replaceValue to ? [ToString](https://262.ecma-international.org/12.0/#sec-tostring)(replaceValue).
7.  Let global be ! [ToBoolean](https://262.ecma-international.org/12.0/#sec-toboolean)(? [Get](https://262.ecma-international.org/12.0/#sec-get-o-p)(rx, "global")).
8.  If global is true, then
    1.  Let fullUnicode be ! [ToBoolean](https://262.ecma-international.org/12.0/#sec-toboolean)(? [Get](https://262.ecma-international.org/12.0/#sec-get-o-p)(rx, "unicode")).
    2.  Perform ? [Set](https://262.ecma-international.org/12.0/#sec-set-o-p-v-throw)(rx, "lastIndex", +0𝔽, true).
9.  Let results be a new empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).
10.  Let done be false.
11.  Repeat, while done is false,
    1.  Let result be ? [RegExpExec](https://262.ecma-international.org/12.0/#sec-regexpexec)(rx, S).
    2.  If result is null, set done to true.
    3.  Else,
        1.  Append result to the end of results.
        2.  If global is false, set done to true.
        3.  Else,
            1.  Let matchStr be ? [ToString](https://262.ecma-international.org/12.0/#sec-tostring)(? [Get](https://262.ecma-international.org/12.0/#sec-get-o-p)(result, "0")).
            2.  If matchStr is the empty String, then
                1.  Let thisIndex be [ℝ](https://262.ecma-international.org/12.0/#%E2%84%9D)(? [ToLength](https://262.ecma-international.org/12.0/#sec-tolength)(? [Get](https://262.ecma-international.org/12.0/#sec-get-o-p)(rx, "lastIndex"))).
                2.  Let nextIndex be [AdvanceStringIndex](https://262.ecma-international.org/12.0/#sec-advancestringindex)(S, thisIndex, fullUnicode).
                3.  Perform ? [Set](https://262.ecma-international.org/12.0/#sec-set-o-p-v-throw)(rx, "lastIndex", [𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(nextIndex), true).
12.  Let accumulatedResult be the empty String.
13.  Let nextSourcePosition be 0.
14.  For each element result of results, do
    1.  Let resultLength be ? [LengthOfArrayLike](https://262.ecma-international.org/12.0/#sec-lengthofarraylike)(result).
    2.  Let nCaptures be [max](https://262.ecma-international.org/12.0/#eqn-max)(resultLength - 1, 0).
    3.  Let matched be ? [ToString](https://262.ecma-international.org/12.0/#sec-tostring)(? [Get](https://262.ecma-international.org/12.0/#sec-get-o-p)(result, "0")).
    4.  Let matchLength be the number of code units in matched.
    5.  Let position be ? [ToIntegerOrInfinity](https://262.ecma-international.org/12.0/#sec-tointegerorinfinity)(? [Get](https://262.ecma-international.org/12.0/#sec-get-o-p)(result, "index")).
    6.  Set position to the result of [clamping](https://262.ecma-international.org/12.0/#clamping) position between 0 and lengthS.
    7.  Let n be 1.
    8.  Let captures be a new empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).
    9.  Repeat, while n ≤ nCaptures,
        1.  Let capN be ? [Get](https://262.ecma-international.org/12.0/#sec-get-o-p)(result, ! [ToString](https://262.ecma-international.org/12.0/#sec-tostring)([𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(n))).
        2.  If capN is not undefined, then
            1.  Set capN to ? [ToString](https://262.ecma-international.org/12.0/#sec-tostring)(capN).
        3.  Append capN as the last element of captures.
        4.  Set n to n + 1.
    10.  Let namedCaptures be ? [Get](https://262.ecma-international.org/12.0/#sec-get-o-p)(result, "groups").
    11.  If functionalReplace is true, then
        1.  Let replacerArgs be « matched ».
        2.  Append in [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) order the elements of captures to the end of the [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) replacerArgs.
        3.  Append [𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(position) and S to replacerArgs.
        4.  If namedCaptures is not undefined, then
            1.  Append namedCaptures as the last element of replacerArgs.
        5.  Let replValue be ? [Call](https://262.ecma-international.org/12.0/#sec-call)(replaceValue, undefined, replacerArgs).
        6.  Let replacement be ? [ToString](https://262.ecma-international.org/12.0/#sec-tostring)(replValue).
    12.  Else,
        1.  If namedCaptures is not undefined, then
            1.  Set namedCaptures to ? [ToObject](https://262.ecma-international.org/12.0/#sec-toobject)(namedCaptures).
        2.  Let replacement be ? [GetSubstitution](https://262.ecma-international.org/12.0/#sec-getsubstitution)(matched, S, position, captures, namedCaptures, replaceValue).
    13.  If position ≥ nextSourcePosition, then
        1.  NOTE: position should not normally move backwards. If it does, it is an indication of an ill-behaving RegExp subclass or use of an access triggered side-effect to change the global flag or other characteristics of rx. In such cases, the corresponding substitution is ignored.
        2.  Set accumulatedResult to the [string-concatenation](https://262.ecma-international.org/12.0/#string-concatenation) of accumulatedResult, the [substring](https://262.ecma-international.org/12.0/#substring) of S from nextSourcePosition to position, and replacement.
        3.  Set nextSourcePosition to position + matchLength.
15.  If nextSourcePosition ≥ lengthS, return accumulatedResult.
16.  Return the [string-concatenation](https://262.ecma-international.org/12.0/#string-concatenation) of accumulatedResult and the [substring](https://262.ecma-international.org/12.0/#substring) of S from nextSourcePosition.

The value of the "name" property of this function is "\[Symbol.replace\]".

## 22.2.5.11 RegExp.prototype \[ @@search \] ( string )

When the `@@search` method is called with argument string, the following steps are taken:

1.  Let rx be the this value.
2.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(rx) is not Object, throw a TypeError exception.
3.  Let S be ? [ToString](https://262.ecma-international.org/12.0/#sec-tostring)(string).
4.  Let previousLastIndex be ? [Get](https://262.ecma-international.org/12.0/#sec-get-o-p)(rx, "lastIndex").
5.  If [SameValue](https://262.ecma-international.org/12.0/#sec-samevalue)(previousLastIndex, +0𝔽) is false, then
    1.  Perform ? [Set](https://262.ecma-international.org/12.0/#sec-set-o-p-v-throw)(rx, "lastIndex", +0𝔽, true).
6.  Let result be ? [RegExpExec](https://262.ecma-international.org/12.0/#sec-regexpexec)(rx, S).
7.  Let currentLastIndex be ? [Get](https://262.ecma-international.org/12.0/#sec-get-o-p)(rx, "lastIndex").
8.  If [SameValue](https://262.ecma-international.org/12.0/#sec-samevalue)(currentLastIndex, previousLastIndex) is false, then
    1.  Perform ? [Set](https://262.ecma-international.org/12.0/#sec-set-o-p-v-throw)(rx, "lastIndex", previousLastIndex, true).
9.  If result is null, return \-1𝔽.
10.  Return ? [Get](https://262.ecma-international.org/12.0/#sec-get-o-p)(result, "index").

The value of the "name" property of this function is "\[Symbol.search\]".

Note

The "lastIndex" and "global" properties of this RegExp object are ignored when performing the search. The "lastIndex" property is left unchanged.

## 22.2.5.12 get RegExp.prototype.source

`RegExp.prototype.source` is an [accessor property](https://262.ecma-international.org/12.0/#sec-object-type) whose set accessor function is undefined. Its get accessor function performs the following steps:

1.  Let R be the this value.
2.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(R) is not Object, throw a TypeError exception.
3.  If R does not have an \[\[OriginalSource\]\] internal slot, then
    1.  If [SameValue](https://262.ecma-international.org/12.0/#sec-samevalue)(R, [%RegExp.prototype%](https://262.ecma-international.org/12.0/#sec-properties-of-the-regexp-prototype-object)) is true, return "(?:)".
    2.  Otherwise, throw a TypeError exception.
4.  [Assert](https://262.ecma-international.org/12.0/#assert): R has an \[\[OriginalFlags\]\] internal slot.
5.  Let src be R.\[\[OriginalSource\]\].
6.  Let flags be R.\[\[OriginalFlags\]\].
7.  Return [EscapeRegExpPattern](https://262.ecma-international.org/12.0/#sec-escaperegexppattern)(src, flags).

## 22.2.5.13 RegExp.prototype \[ @@split \] ( string, limit )

Note 1

Returns an Array object into which substrings of the result of converting string to a String have been stored. The substrings are determined by searching from left to right for matches of the this value regular expression; these occurrences are not part of any String in the returned array, but serve to divide up the String value.

The this value may be an empty regular expression or a regular expression that can match an empty String. In this case, the regular expression does not match the empty substring at the beginning or end of the input String, nor does it match the empty substring at the end of the previous separator match. (For example, if the regular expression matches the empty String, the String is split up into individual code unit elements; the length of the result array equals the length of the String, and each substring contains one code unit.) Only the first match at a given index of the String is considered, even if backtracking could yield a non-empty substring match at that index. (For example, `/a*?/[Symbol.split]("ab")` evaluates to the array `["a", "b"]`, while `/a*/[Symbol.split]("ab")` evaluates to the array `["","b"]`.)

If string is (or converts to) the empty String, the result depends on whether the regular expression can match the empty String. If it can, the result array contains no elements. Otherwise, the result array contains one element, which is the empty String.

If the regular expression contains capturing parentheses, then each time separator is matched the results (including any undefined results) of the capturing parentheses are spliced into the output array. For example,

```
/<(\/)?([^<>]+)>/[Symbol.split]("A<B>bold</B>and<CODE>coded</CODE>")
```

evaluates to the array

```
["A", undefined, "B", "bold", "/", "B", "and", undefined, "CODE", "coded", "/", "CODE", ""]
```

If limit is not undefined, then the output array is truncated so that it contains no more than limit elements.

When the `@@split` method is called, the following steps are taken:

1.  Let rx be the this value.
2.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(rx) is not Object, throw a TypeError exception.
3.  Let S be ? [ToString](https://262.ecma-international.org/12.0/#sec-tostring)(string).
4.  Let C be ? [SpeciesConstructor](https://262.ecma-international.org/12.0/#sec-speciesconstructor)(rx, [%RegExp%](https://262.ecma-international.org/12.0/#sec-regexp-constructor)).
5.  Let flags be ? [ToString](https://262.ecma-international.org/12.0/#sec-tostring)(? [Get](https://262.ecma-international.org/12.0/#sec-get-o-p)(rx, "flags")).
6.  If flags contains "u", let unicodeMatching be true.
7.  Else, let unicodeMatching be false.
8.  If flags contains "y", let newFlags be flags.
9.  Else, let newFlags be the [string-concatenation](https://262.ecma-international.org/12.0/#string-concatenation) of flags and "y".
10.  Let splitter be ? [Construct](https://262.ecma-international.org/12.0/#sec-construct)(C, « rx, newFlags »).
11.  Let A be ! [ArrayCreate](https://262.ecma-international.org/12.0/#sec-arraycreate)(0).
12.  Let lengthA be 0.
13.  If limit is undefined, let lim be 232 - 1; else let lim be [ℝ](https://262.ecma-international.org/12.0/#%E2%84%9D)(? [ToUint32](https://262.ecma-international.org/12.0/#sec-touint32)(limit)).
14.  If lim is 0, return A.
15.  Let size be the length of S.
16.  If size is 0, then
    1.  Let z be ? [RegExpExec](https://262.ecma-international.org/12.0/#sec-regexpexec)(splitter, S).
    2.  If z is not null, return A.
    3.  Perform ! [CreateDataPropertyOrThrow](https://262.ecma-international.org/12.0/#sec-createdatapropertyorthrow)(A, "0", S).
    4.  Return A.
17.  Let p be 0.
18.  Let q be p.
19.  Repeat, while q < size,
    1.  Perform ? [Set](https://262.ecma-international.org/12.0/#sec-set-o-p-v-throw)(splitter, "lastIndex", [𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(q), true).
    2.  Let z be ? [RegExpExec](https://262.ecma-international.org/12.0/#sec-regexpexec)(splitter, S).
    3.  If z is null, set q to [AdvanceStringIndex](https://262.ecma-international.org/12.0/#sec-advancestringindex)(S, q, unicodeMatching).
    4.  Else,
        1.  Let e be [ℝ](https://262.ecma-international.org/12.0/#%E2%84%9D)(? [ToLength](https://262.ecma-international.org/12.0/#sec-tolength)(? [Get](https://262.ecma-international.org/12.0/#sec-get-o-p)(splitter, "lastIndex"))).
        2.  Set e to [min](https://262.ecma-international.org/12.0/#eqn-min)(e, size).
        3.  If e = p, set q to [AdvanceStringIndex](https://262.ecma-international.org/12.0/#sec-advancestringindex)(S, q, unicodeMatching).
        4.  Else,
            1.  Let T be the [substring](https://262.ecma-international.org/12.0/#substring) of S from p to q.
            2.  Perform ! [CreateDataPropertyOrThrow](https://262.ecma-international.org/12.0/#sec-createdatapropertyorthrow)(A, ! [ToString](https://262.ecma-international.org/12.0/#sec-tostring)([𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(lengthA)), T).
            3.  Set lengthA to lengthA + 1.
            4.  If lengthA = lim, return A.
            5.  Set p to e.
            6.  Let numberOfCaptures be ? [LengthOfArrayLike](https://262.ecma-international.org/12.0/#sec-lengthofarraylike)(z).
            7.  Set numberOfCaptures to [max](https://262.ecma-international.org/12.0/#eqn-max)(numberOfCaptures - 1, 0).
            8.  Let i be 1.
            9.  Repeat, while i ≤ numberOfCaptures,
                1.  Let nextCapture be ? [Get](https://262.ecma-international.org/12.0/#sec-get-o-p)(z, ! [ToString](https://262.ecma-international.org/12.0/#sec-tostring)([𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(i))).
                2.  Perform ! [CreateDataPropertyOrThrow](https://262.ecma-international.org/12.0/#sec-createdatapropertyorthrow)(A, ! [ToString](https://262.ecma-international.org/12.0/#sec-tostring)([𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(lengthA)), nextCapture).
                3.  Set i to i + 1.
                4.  Set lengthA to lengthA + 1.
                5.  If lengthA = lim, return A.
            10.  Set q to p.
20.  Let T be the [substring](https://262.ecma-international.org/12.0/#substring) of S from p to size.
21.  Perform ! [CreateDataPropertyOrThrow](https://262.ecma-international.org/12.0/#sec-createdatapropertyorthrow)(A, ! [ToString](https://262.ecma-international.org/12.0/#sec-tostring)([𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(lengthA)), T).
22.  Return A.

The value of the "name" property of this function is "\[Symbol.split\]".

Note 2

The `@@split` method ignores the value of the "global" and "sticky" properties of this RegExp object.

## 22.2.5.14 get RegExp.prototype.sticky

`RegExp.prototype.sticky` is an [accessor property](https://262.ecma-international.org/12.0/#sec-object-type) whose set accessor function is undefined. Its get accessor function performs the following steps:

1.  Let R be the this value.
2.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(R) is not Object, throw a TypeError exception.
3.  If R does not have an \[\[OriginalFlags\]\] internal slot, then
    1.  If [SameValue](https://262.ecma-international.org/12.0/#sec-samevalue)(R, [%RegExp.prototype%](https://262.ecma-international.org/12.0/#sec-properties-of-the-regexp-prototype-object)) is true, return undefined.
    2.  Otherwise, throw a TypeError exception.
4.  Let flags be R.\[\[OriginalFlags\]\].
5.  If flags contains the code unit 0x0079 (LATIN SMALL LETTER Y), return true.
6.  Return false.

## 22.2.5.15 RegExp.prototype.test ( S )

The following steps are taken:

1.  Let R be the this value.
2.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(R) is not Object, throw a TypeError exception.
3.  Let string be ? [ToString](https://262.ecma-international.org/12.0/#sec-tostring)(S).
4.  Let match be ? [RegExpExec](https://262.ecma-international.org/12.0/#sec-regexpexec)(R, string).
5.  If match is not null, return true; else return false.

## 22.2.5.16 RegExp.prototype.toString ( )

1.  Let R be the this value.
2.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(R) is not Object, throw a TypeError exception.
3.  Let pattern be ? [ToString](https://262.ecma-international.org/12.0/#sec-tostring)(? [Get](https://262.ecma-international.org/12.0/#sec-get-o-p)(R, "source")).
4.  Let flags be ? [ToString](https://262.ecma-international.org/12.0/#sec-tostring)(? [Get](https://262.ecma-international.org/12.0/#sec-get-o-p)(R, "flags")).
5.  Let result be the [string-concatenation](https://262.ecma-international.org/12.0/#string-concatenation) of "/", pattern, "/", and flags.
6.  Return result.

Note

The returned String has the form of a [RegularExpressionLiteral](https://262.ecma-international.org/12.0/#prod-RegularExpressionLiteral) that evaluates to another RegExp object with the same behaviour as this object.

## 22.2.5.17 get RegExp.prototype.unicode

`RegExp.prototype.unicode` is an [accessor property](https://262.ecma-international.org/12.0/#sec-object-type) whose set accessor function is undefined. Its get accessor function performs the following steps:

1.  Let R be the this value.
2.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(R) is not Object, throw a TypeError exception.
3.  If R does not have an \[\[OriginalFlags\]\] internal slot, then
    1.  If [SameValue](https://262.ecma-international.org/12.0/#sec-samevalue)(R, [%RegExp.prototype%](https://262.ecma-international.org/12.0/#sec-properties-of-the-regexp-prototype-object)) is true, return undefined.
    2.  Otherwise, throw a TypeError exception.
4.  Let flags be R.\[\[OriginalFlags\]\].
5.  If flags contains the code unit 0x0075 (LATIN SMALL LETTER U), return true.
6.  Return false.

## 22.2.6 Properties of RegExp Instances

RegExp instances are ordinary objects that inherit properties from the [RegExp prototype object](https://262.ecma-international.org/12.0/#sec-properties-of-the-regexp-prototype-object). RegExp instances have internal slots \[\[RegExpMatcher\]\], \[\[OriginalSource\]\], and \[\[OriginalFlags\]\]. The value of the \[\[RegExpMatcher\]\] internal slot is an [Abstract Closure](https://262.ecma-international.org/12.0/#sec-abstract-closure) representation of the [Pattern](https://262.ecma-international.org/12.0/#prod-Pattern) of the RegExp object.

Note

Prior to ECMAScript 2015, RegExp instances were specified as having the own data properties "source", "global", "ignoreCase", and "multiline". Those properties are now specified as accessor properties of `RegExp.prototype`.

RegExp instances also have the following property:

## 22.2.6.1 lastIndex

The value of the "lastIndex" property specifies the String index at which to start the next match. It is coerced to an [integral Number](https://262.ecma-international.org/12.0/#integral-number) when used (see [22.2.5.2.2](https://262.ecma-international.org/12.0/#sec-regexpbuiltinexec)). This property shall have the attributes { \[\[Writable\]\]: true, \[\[Enumerable\]\]: false, \[\[Configurable\]\]: false }.

## 22.2.7 RegExp String Iterator Objects

A RegExp String Iterator is an object, that represents a specific iteration over some specific String instance object, matching against some specific RegExp instance object. There is not a named [constructor](https://262.ecma-international.org/12.0/#constructor) for RegExp String Iterator objects. Instead, RegExp String Iterator objects are created by calling certain methods of RegExp instance objects.

## 22.2.7.1 CreateRegExpStringIterator ( R, S, global, fullUnicode )

The abstract operation CreateRegExpStringIterator takes arguments R, S, global, and fullUnicode. It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(S) is String.
2.  [Assert](https://262.ecma-international.org/12.0/#assert): [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(global) is Boolean.
3.  [Assert](https://262.ecma-international.org/12.0/#assert): [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(fullUnicode) is Boolean.
4.  Let closure be a new [Abstract Closure](https://262.ecma-international.org/12.0/#sec-abstract-closure) with no parameters that captures R, S, global, and fullUnicode and performs the following steps when called:
    1.  Repeat,
        1.  Let match be ? [RegExpExec](https://262.ecma-international.org/12.0/#sec-regexpexec)(R, S).
        2.  If match is null, return undefined.
        3.  If global is false, then
            1.  Perform ? [Yield](https://262.ecma-international.org/12.0/#sec-yield)(match).
            2.  Return undefined.
        4.  Let matchStr be ? [ToString](https://262.ecma-international.org/12.0/#sec-tostring)(? [Get](https://262.ecma-international.org/12.0/#sec-get-o-p)(match, "0")).
        5.  If matchStr is the empty String, then
            1.  Let thisIndex be [ℝ](https://262.ecma-international.org/12.0/#%E2%84%9D)(? [ToLength](https://262.ecma-international.org/12.0/#sec-tolength)(? [Get](https://262.ecma-international.org/12.0/#sec-get-o-p)(R, "lastIndex"))).
            2.  Let nextIndex be ! [AdvanceStringIndex](https://262.ecma-international.org/12.0/#sec-advancestringindex)(S, thisIndex, fullUnicode).
            3.  Perform ? [Set](https://262.ecma-international.org/12.0/#sec-set-o-p-v-throw)(R, "lastIndex", [𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(nextIndex), true).
        6.  Perform ? [Yield](https://262.ecma-international.org/12.0/#sec-yield)(match).
5.  Return ! [CreateIteratorFromClosure](https://262.ecma-international.org/12.0/#sec-createiteratorfromclosure)(closure, "%RegExpStringIteratorPrototype%", [%RegExpStringIteratorPrototype%](https://262.ecma-international.org/12.0/#sec-%regexpstringiteratorprototype%-object)).

## 22.2.7.2 The %RegExpStringIteratorPrototype% Object

The %RegExpStringIteratorPrototype% object:

-   has properties that are inherited by all RegExp String Iterator Objects.
-   is an [ordinary object](https://262.ecma-international.org/12.0/#ordinary-object).
-   has a \[\[Prototype\]\] internal slot whose value is [%IteratorPrototype%](https://262.ecma-international.org/12.0/#sec-%iteratorprototype%-object).
-   has the following properties:

## 22.2.7.2.1 %RegExpStringIteratorPrototype%.next ( )

1.  Return ? [GeneratorResume](https://262.ecma-international.org/12.0/#sec-generatorresume)(this value, empty, "%RegExpStringIteratorPrototype%").

## 22.2.7.2.2 %RegExpStringIteratorPrototype% \[ @@toStringTag \]

The initial value of the [@@toStringTag](https://262.ecma-international.org/12.0/#sec-well-known-symbols) property is the String value "RegExp String Iterator".

This property has the attributes { \[\[Writable\]\]: false, \[\[Enumerable\]\]: false, \[\[Configurable\]\]: true }.

## 23 Indexed Collections

## 23.1 Array Objects

Array objects are exotic objects that give special treatment to a certain class of property names. See [10.4.2](https://262.ecma-international.org/12.0/#sec-array-exotic-objects) for a definition of this special treatment.

## 23.1.1 The Array Constructor

The Array [constructor](https://262.ecma-international.org/12.0/#constructor):

-   is %Array%.
-   is the initial value of the "Array" property of the [global object](https://262.ecma-international.org/12.0/#sec-global-object).
-   creates and initializes a new [Array exotic object](https://262.ecma-international.org/12.0/#array-exotic-object) when called as a [constructor](https://262.ecma-international.org/12.0/#constructor).
-   also creates and initializes a new Array object when called as a function rather than as a [constructor](https://262.ecma-international.org/12.0/#constructor). Thus the function call `Array(…)` is equivalent to the object creation expression `new Array(…)` with the same arguments.
-   is a function whose behaviour differs based upon the number and types of its arguments.
-   is designed to be subclassable. It may be used as the value of an `extends` clause of a class definition. Subclass constructors that intend to inherit the exotic Array behaviour must include a `super` call to the Array [constructor](https://262.ecma-international.org/12.0/#constructor) to initialize subclass instances that are Array exotic objects. However, most of the `Array.prototype` methods are generic methods that are not dependent upon their this value being an [Array exotic object](https://262.ecma-international.org/12.0/#array-exotic-object).
-   has a "length" property whose value is 1𝔽.

## 23.1.1.1 Array ( ...values )

When the `Array` function is called, the following steps are taken:

1.  If NewTarget is undefined, let newTarget be the [active function object](https://262.ecma-international.org/12.0/#active-function-object); else let newTarget be NewTarget.
2.  Let proto be ? [GetPrototypeFromConstructor](https://262.ecma-international.org/12.0/#sec-getprototypefromconstructor)(newTarget, "%Array.prototype%").
3.  Let numberOfArgs be the number of elements in values.
4.  If numberOfArgs = 0, then
    1.  Return ! [ArrayCreate](https://262.ecma-international.org/12.0/#sec-arraycreate)(0, proto).
5.  Else if numberOfArgs = 1, then
    1.  Let len be values\[0\].
    2.  Let array be ! [ArrayCreate](https://262.ecma-international.org/12.0/#sec-arraycreate)(0, proto).
    3.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(len) is not Number, then
        1.  Perform ! [CreateDataPropertyOrThrow](https://262.ecma-international.org/12.0/#sec-createdatapropertyorthrow)(array, "0", len).
        2.  Let intLen be 1𝔽.
    4.  Else,
        1.  Let intLen be ! [ToUint32](https://262.ecma-international.org/12.0/#sec-touint32)(len).
        2.  If intLen is not the same value as len, throw a RangeError exception.
    5.  Perform ! [Set](https://262.ecma-international.org/12.0/#sec-set-o-p-v-throw)(array, "length", intLen, true).
    6.  Return array.
6.  Else,
    1.  [Assert](https://262.ecma-international.org/12.0/#assert): numberOfArgs ≥ 2.
    2.  Let array be ? [ArrayCreate](https://262.ecma-international.org/12.0/#sec-arraycreate)(numberOfArgs, proto).
    3.  Let k be 0.
    4.  Repeat, while k < numberOfArgs,
        1.  Let Pk be ! [ToString](https://262.ecma-international.org/12.0/#sec-tostring)([𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(k)).
        2.  Let itemK be values\[k\].
        3.  Perform ! [CreateDataPropertyOrThrow](https://262.ecma-international.org/12.0/#sec-createdatapropertyorthrow)(array, Pk, itemK).
        4.  Set k to k + 1.
    5.  [Assert](https://262.ecma-international.org/12.0/#assert): The [mathematical value](https://262.ecma-international.org/12.0/#mathematical-value) of array's "length" property is numberOfArgs.
    6.  Return array.

## 23.1.2 Properties of the Array Constructor

The Array [constructor](https://262.ecma-international.org/12.0/#constructor):

-   has a \[\[Prototype\]\] internal slot whose value is [%Function.prototype%](https://262.ecma-international.org/12.0/#sec-properties-of-the-function-prototype-object).
-   has the following properties:

## 23.1.2.1 Array.from ( items \[ , mapfn \[ , thisArg \] \] )

When the `from` method is called with argument items and optional arguments mapfn and thisArg, the following steps are taken:

1.  Let C be the this value.
2.  If mapfn is undefined, let mapping be false.
3.  Else,
    1.  If [IsCallable](https://262.ecma-international.org/12.0/#sec-iscallable)(mapfn) is false, throw a TypeError exception.
    2.  Let mapping be true.
4.  Let usingIterator be ? [GetMethod](https://262.ecma-international.org/12.0/#sec-getmethod)(items, [@@iterator](https://262.ecma-international.org/12.0/#sec-well-known-symbols)).
5.  If usingIterator is not undefined, then
    1.  If [IsConstructor](https://262.ecma-international.org/12.0/#sec-isconstructor)(C) is true, then
        1.  Let A be ? [Construct](https://262.ecma-international.org/12.0/#sec-construct)(C).
    2.  Else,
        1.  Let A be ! [ArrayCreate](https://262.ecma-international.org/12.0/#sec-arraycreate)(0).
    3.  Let iteratorRecord be ? [GetIterator](https://262.ecma-international.org/12.0/#sec-getiterator)(items, sync, usingIterator).
    4.  Let k be 0.
    5.  Repeat,
        1.  If k ≥ 253 - 1, then
            1.  Let error be [ThrowCompletion](https://262.ecma-international.org/12.0/#sec-throwcompletion)(a newly created TypeError object).
            2.  Return ? [IteratorClose](https://262.ecma-international.org/12.0/#sec-iteratorclose)(iteratorRecord, error).
        2.  Let Pk be ! [ToString](https://262.ecma-international.org/12.0/#sec-tostring)([𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(k)).
        3.  Let next be ? [IteratorStep](https://262.ecma-international.org/12.0/#sec-iteratorstep)(iteratorRecord).
        4.  If next is false, then
            1.  Perform ? [Set](https://262.ecma-international.org/12.0/#sec-set-o-p-v-throw)(A, "length", [𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(k), true).
            2.  Return A.
        5.  Let nextValue be ? [IteratorValue](https://262.ecma-international.org/12.0/#sec-iteratorvalue)(next).
        6.  If mapping is true, then
            1.  Let mappedValue be [Call](https://262.ecma-international.org/12.0/#sec-call)(mapfn, thisArg, « nextValue, [𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(k) »).
            2.  If mappedValue is an [abrupt completion](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type), return ? [IteratorClose](https://262.ecma-international.org/12.0/#sec-iteratorclose)(iteratorRecord, mappedValue).
            3.  Set mappedValue to mappedValue.\[\[Value\]\].
        7.  Else, let mappedValue be nextValue.
        8.  Let defineStatus be [CreateDataPropertyOrThrow](https://262.ecma-international.org/12.0/#sec-createdatapropertyorthrow)(A, Pk, mappedValue).
        9.  If defineStatus is an [abrupt completion](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type), return ? [IteratorClose](https://262.ecma-international.org/12.0/#sec-iteratorclose)(iteratorRecord, defineStatus).
        10.  Set k to k + 1.
6.  NOTE: items is not an Iterable so assume it is an [array-like object](https://262.ecma-international.org/12.0/#sec-lengthofarraylike).
7.  Let arrayLike be ! [ToObject](https://262.ecma-international.org/12.0/#sec-toobject)(items).
8.  Let len be ? [LengthOfArrayLike](https://262.ecma-international.org/12.0/#sec-lengthofarraylike)(arrayLike).
9.  If [IsConstructor](https://262.ecma-international.org/12.0/#sec-isconstructor)(C) is true, then
    1.  Let A be ? [Construct](https://262.ecma-international.org/12.0/#sec-construct)(C, « [𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(len) »).
10.  Else,
    1.  Let A be ? [ArrayCreate](https://262.ecma-international.org/12.0/#sec-arraycreate)(len).
11.  Let k be 0.
12.  Repeat, while k < len,
    1.  Let Pk be ! [ToString](https://262.ecma-international.org/12.0/#sec-tostring)([𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(k)).
    2.  Let kValue be ? [Get](https://262.ecma-international.org/12.0/#sec-get-o-p)(arrayLike, Pk).
    3.  If mapping is true, then
        1.  Let mappedValue be ? [Call](https://262.ecma-international.org/12.0/#sec-call)(mapfn, thisArg, « kValue, [𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(k) »).
    4.  Else, let mappedValue be kValue.
    5.  Perform ? [CreateDataPropertyOrThrow](https://262.ecma-international.org/12.0/#sec-createdatapropertyorthrow)(A, Pk, mappedValue).
    6.  Set k to k + 1.
13.  Perform ? [Set](https://262.ecma-international.org/12.0/#sec-set-o-p-v-throw)(A, "length", [𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(len), true).
14.  Return A.

Note

The `from` function is an intentionally generic factory method; it does not require that its this value be the Array [constructor](https://262.ecma-international.org/12.0/#constructor). Therefore it can be transferred to or inherited by any other constructors that may be called with a single numeric argument.

## 23.1.2.2 Array.isArray ( arg )

The `isArray` function takes one argument arg, and performs the following steps:

1.  Return ? [IsArray](https://262.ecma-international.org/12.0/#sec-isarray)(arg).

## 23.1.2.3 Array.of ( ...items )

When the `of` method is called with any number of arguments, the following steps are taken:

1.  Let len be the number of elements in items.
2.  Let lenNumber be [𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(len).
3.  Let C be the this value.
4.  If [IsConstructor](https://262.ecma-international.org/12.0/#sec-isconstructor)(C) is true, then
    1.  Let A be ? [Construct](https://262.ecma-international.org/12.0/#sec-construct)(C, « lenNumber »).
5.  Else,
    1.  Let A be ? [ArrayCreate](https://262.ecma-international.org/12.0/#sec-arraycreate)(len).
6.  Let k be 0.
7.  Repeat, while k < len,
    1.  Let kValue be items\[k\].
    2.  Let Pk be ! [ToString](https://262.ecma-international.org/12.0/#sec-tostring)([𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(k)).
    3.  Perform ? [CreateDataPropertyOrThrow](https://262.ecma-international.org/12.0/#sec-createdatapropertyorthrow)(A, Pk, kValue).
    4.  Set k to k + 1.
8.  Perform ? [Set](https://262.ecma-international.org/12.0/#sec-set-o-p-v-throw)(A, "length", lenNumber, true).
9.  Return A.

Note

The `of` function is an intentionally generic factory method; it does not require that its this value be the Array [constructor](https://262.ecma-international.org/12.0/#constructor). Therefore it can be transferred to or inherited by other constructors that may be called with a single numeric argument.

## 23.1.2.4 Array.prototype

The value of `Array.prototype` is the [Array prototype object](https://262.ecma-international.org/12.0/#sec-properties-of-the-array-prototype-object).

This property has the attributes { \[\[Writable\]\]: false, \[\[Enumerable\]\]: false, \[\[Configurable\]\]: false }.

## 23.1.2.5 get Array \[ @@species \]

`Array[@@species]` is an [accessor property](https://262.ecma-international.org/12.0/#sec-object-type) whose set accessor function is undefined. Its get accessor function performs the following steps:

1.  Return the this value.

The value of the "name" property of this function is "get \[Symbol.species\]".

Note

Array prototype methods normally use their this value's [constructor](https://262.ecma-international.org/12.0/#constructor) to create a derived object. However, a subclass [constructor](https://262.ecma-international.org/12.0/#constructor) may over-ride that default behaviour by redefining its [@@species](https://262.ecma-international.org/12.0/#sec-well-known-symbols) property.

## 23.1.3 Properties of the Array Prototype Object

The Array prototype object:

-   is %Array.prototype%.
-   is an [Array exotic object](https://262.ecma-international.org/12.0/#array-exotic-object) and has the internal methods specified for such objects.
-   has a "length" property whose initial value is +0𝔽 and whose attributes are { \[\[Writable\]\]: true, \[\[Enumerable\]\]: false, \[\[Configurable\]\]: false }.
-   has a \[\[Prototype\]\] internal slot whose value is [%Object.prototype%](https://262.ecma-international.org/12.0/#sec-properties-of-the-object-prototype-object).

Note

The Array prototype object is specified to be an [Array exotic object](https://262.ecma-international.org/12.0/#array-exotic-object) to ensure compatibility with ECMAScript code that was created prior to the ECMAScript 2015 specification.

## 23.1.3.1 Array.prototype.concat ( ...items )

When the `concat` method is called with zero or more arguments, it returns an array containing the array elements of the object followed by the array elements of each argument.

The following steps are taken:

1.  Let O be ? [ToObject](https://262.ecma-international.org/12.0/#sec-toobject)(this value).
2.  Let A be ? [ArraySpeciesCreate](https://262.ecma-international.org/12.0/#sec-arrayspeciescreate)(O, 0).
3.  Let n be 0.
4.  Prepend O to items.
5.  For each element E of items, do
    1.  Let spreadable be ? [IsConcatSpreadable](https://262.ecma-international.org/12.0/#sec-isconcatspreadable)(E).
    2.  If spreadable is true, then
        1.  Let k be 0.
        2.  Let len be ? [LengthOfArrayLike](https://262.ecma-international.org/12.0/#sec-lengthofarraylike)(E).
        3.  If n + len > 253 - 1, throw a TypeError exception.
        4.  Repeat, while k < len,
            1.  Let P be ! [ToString](https://262.ecma-international.org/12.0/#sec-tostring)([𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(k)).
            2.  Let exists be ? [HasProperty](https://262.ecma-international.org/12.0/#sec-hasproperty)(E, P).
            3.  If exists is true, then
                1.  Let subElement be ? [Get](https://262.ecma-international.org/12.0/#sec-get-o-p)(E, P).
                2.  Perform ? [CreateDataPropertyOrThrow](https://262.ecma-international.org/12.0/#sec-createdatapropertyorthrow)(A, ! [ToString](https://262.ecma-international.org/12.0/#sec-tostring)([𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(n)), subElement).
            4.  Set n to n + 1.
            5.  Set k to k + 1.
    3.  Else,
        1.  NOTE: E is added as a single item rather than spread.
        2.  If n ≥ 253 - 1, throw a TypeError exception.
        3.  Perform ? [CreateDataPropertyOrThrow](https://262.ecma-international.org/12.0/#sec-createdatapropertyorthrow)(A, ! [ToString](https://262.ecma-international.org/12.0/#sec-tostring)([𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(n)), E).
        4.  Set n to n + 1.
6.  Perform ? [Set](https://262.ecma-international.org/12.0/#sec-set-o-p-v-throw)(A, "length", [𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(n), true).
7.  Return A.

The "length" property of the `concat` method is 1𝔽.

Note 1

The explicit setting of the "length" property in step [6](https://262.ecma-international.org/12.0/#step-array-proto-concat-set-length) is necessary to ensure that its value is correct in situations where the trailing elements of the result Array are not present.

Note 2

The `concat` function is intentionally generic; it does not require that its this value be an Array object. Therefore it can be transferred to other kinds of objects for use as a method.

## 23.1.3.1.1 IsConcatSpreadable ( O )

The abstract operation IsConcatSpreadable takes argument O. It performs the following steps when called:

1.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(O) is not Object, return false.
2.  Let spreadable be ? [Get](https://262.ecma-international.org/12.0/#sec-get-o-p)(O, [@@isConcatSpreadable](https://262.ecma-international.org/12.0/#sec-well-known-symbols)).
3.  If spreadable is not undefined, return ! [ToBoolean](https://262.ecma-international.org/12.0/#sec-toboolean)(spreadable).
4.  Return ? [IsArray](https://262.ecma-international.org/12.0/#sec-isarray)(O).

## 23.1.3.2 Array.prototype.constructor

The initial value of `Array.prototype.constructor` is [%Array%](https://262.ecma-international.org/12.0/#sec-array-constructor).

## 23.1.3.3 Array.prototype.copyWithin ( target, start \[ , end \] )

The `copyWithin` method takes up to three arguments target, start and end.

Note 1

The end argument is optional with the length of the this value as its default value. If target is negative, it is treated as length + target where length is the length of the array. If start is negative, it is treated as length + start. If end is negative, it is treated as length + end.

The following steps are taken:

1.  Let O be ? [ToObject](https://262.ecma-international.org/12.0/#sec-toobject)(this value).
2.  Let len be ? [LengthOfArrayLike](https://262.ecma-international.org/12.0/#sec-lengthofarraylike)(O).
3.  Let relativeTarget be ? [ToIntegerOrInfinity](https://262.ecma-international.org/12.0/#sec-tointegerorinfinity)(target).
4.  If relativeTarget is -∞, let to be 0.
5.  Else if relativeTarget < 0, let to be [max](https://262.ecma-international.org/12.0/#eqn-max)(len + relativeTarget, 0).
6.  Else, let to be [min](https://262.ecma-international.org/12.0/#eqn-min)(relativeTarget, len).
7.  Let relativeStart be ? [ToIntegerOrInfinity](https://262.ecma-international.org/12.0/#sec-tointegerorinfinity)(start).
8.  If relativeStart is -∞, let from be 0.
9.  Else if relativeStart < 0, let from be [max](https://262.ecma-international.org/12.0/#eqn-max)(len + relativeStart, 0).
10.  Else, let from be [min](https://262.ecma-international.org/12.0/#eqn-min)(relativeStart, len).
11.  If end is undefined, let relativeEnd be len; else let relativeEnd be ? [ToIntegerOrInfinity](https://262.ecma-international.org/12.0/#sec-tointegerorinfinity)(end).
12.  If relativeEnd is -∞, let final be 0.
13.  Else if relativeEnd < 0, let final be [max](https://262.ecma-international.org/12.0/#eqn-max)(len + relativeEnd, 0).
14.  Else, let final be [min](https://262.ecma-international.org/12.0/#eqn-min)(relativeEnd, len).
15.  Let count be [min](https://262.ecma-international.org/12.0/#eqn-min)(final - from, len - to).
16.  If from < to and to < from + count, then
    1.  Let direction be -1.
    2.  Set from to from + count - 1.
    3.  Set to to to + count - 1.
17.  Else,
    1.  Let direction be 1.
18.  Repeat, while count > 0,
    1.  Let fromKey be ! [ToString](https://262.ecma-international.org/12.0/#sec-tostring)([𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(from)).
    2.  Let toKey be ! [ToString](https://262.ecma-international.org/12.0/#sec-tostring)([𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(to)).
    3.  Let fromPresent be ? [HasProperty](https://262.ecma-international.org/12.0/#sec-hasproperty)(O, fromKey).
    4.  If fromPresent is true, then
        1.  Let fromVal be ? [Get](https://262.ecma-international.org/12.0/#sec-get-o-p)(O, fromKey).
        2.  Perform ? [Set](https://262.ecma-international.org/12.0/#sec-set-o-p-v-throw)(O, toKey, fromVal, true).
    5.  Else,
        1.  [Assert](https://262.ecma-international.org/12.0/#assert): fromPresent is false.
        2.  Perform ? [DeletePropertyOrThrow](https://262.ecma-international.org/12.0/#sec-deletepropertyorthrow)(O, toKey).
    6.  Set from to from + direction.
    7.  Set to to to + direction.
    8.  Set count to count - 1.
19.  Return O.

Note 2

The `copyWithin` function is intentionally generic; it does not require that its this value be an Array object. Therefore it can be transferred to other kinds of objects for use as a method.

## 23.1.3.4 Array.prototype.entries ( )

The following steps are taken:

1.  Let O be ? [ToObject](https://262.ecma-international.org/12.0/#sec-toobject)(this value).
2.  Return [CreateArrayIterator](https://262.ecma-international.org/12.0/#sec-createarrayiterator)(O, key+value).

## 23.1.3.5 Array.prototype.every ( callbackfn \[ , thisArg \] )

Note 1

callbackfn should be a function that accepts three arguments and returns a value that is coercible to a Boolean value. `every` calls callbackfn once for each element present in the array, in ascending order, until it finds one where callbackfn returns false. If such an element is found, `every` immediately returns false. Otherwise, if callbackfn returned true for all elements, `every` will return true. callbackfn is called only for elements of the array which actually exist; it is not called for missing elements of the array.

If a thisArg parameter is provided, it will be used as the this value for each invocation of callbackfn. If it is not provided, undefined is used instead.

callbackfn is called with three arguments: the value of the element, the index of the element, and the object being traversed.

`every` does not directly mutate the object on which it is called but the object may be mutated by the calls to callbackfn.

The range of elements processed by `every` is set before the first call to callbackfn. Elements which are appended to the array after the call to `every` begins will not be visited by callbackfn. If existing elements of the array are changed, their value as passed to callbackfn will be the value at the time `every` visits them; elements that are deleted after the call to `every` begins and before being visited are not visited. `every` acts like the "for all" quantifier in mathematics. In particular, for an empty array, it returns true.

When the `every` method is called with one or two arguments, the following steps are taken:

1.  Let O be ? [ToObject](https://262.ecma-international.org/12.0/#sec-toobject)(this value).
2.  Let len be ? [LengthOfArrayLike](https://262.ecma-international.org/12.0/#sec-lengthofarraylike)(O).
3.  If [IsCallable](https://262.ecma-international.org/12.0/#sec-iscallable)(callbackfn) is false, throw a TypeError exception.
4.  Let k be 0.
5.  Repeat, while k < len,
    1.  Let Pk be ! [ToString](https://262.ecma-international.org/12.0/#sec-tostring)([𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(k)).
    2.  Let kPresent be ? [HasProperty](https://262.ecma-international.org/12.0/#sec-hasproperty)(O, Pk).
    3.  If kPresent is true, then
        1.  Let kValue be ? [Get](https://262.ecma-international.org/12.0/#sec-get-o-p)(O, Pk).
        2.  Let testResult be ! [ToBoolean](https://262.ecma-international.org/12.0/#sec-toboolean)(? [Call](https://262.ecma-international.org/12.0/#sec-call)(callbackfn, thisArg, « kValue, [𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(k), O »)).
        3.  If testResult is false, return false.
    4.  Set k to k + 1.
6.  Return true.

Note 2

The `every` function is intentionally generic; it does not require that its this value be an Array object. Therefore it can be transferred to other kinds of objects for use as a method.

## 23.1.3.6 Array.prototype.fill ( value \[ , start \[ , end \] \] )

The `fill` method takes up to three arguments value, start and end.

Note 1

The start and end arguments are optional with default values of 0 and the length of the this value. If start is negative, it is treated as length + start where length is the length of the array. If end is negative, it is treated as length + end.

The following steps are taken:

1.  Let O be ? [ToObject](https://262.ecma-international.org/12.0/#sec-toobject)(this value).
2.  Let len be ? [LengthOfArrayLike](https://262.ecma-international.org/12.0/#sec-lengthofarraylike)(O).
3.  Let relativeStart be ? [ToIntegerOrInfinity](https://262.ecma-international.org/12.0/#sec-tointegerorinfinity)(start).
4.  If relativeStart is -∞, let k be 0.
5.  Else if relativeStart < 0, let k be [max](https://262.ecma-international.org/12.0/#eqn-max)(len + relativeStart, 0).
6.  Else, let k be [min](https://262.ecma-international.org/12.0/#eqn-min)(relativeStart, len).
7.  If end is undefined, let relativeEnd be len; else let relativeEnd be ? [ToIntegerOrInfinity](https://262.ecma-international.org/12.0/#sec-tointegerorinfinity)(end).
8.  If relativeEnd is -∞, let final be 0.
9.  Else if relativeEnd < 0, let final be [max](https://262.ecma-international.org/12.0/#eqn-max)(len + relativeEnd, 0).
10.  Else, let final be [min](https://262.ecma-international.org/12.0/#eqn-min)(relativeEnd, len).
11.  Repeat, while k < final,
    1.  Let Pk be ! [ToString](https://262.ecma-international.org/12.0/#sec-tostring)([𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(k)).
    2.  Perform ? [Set](https://262.ecma-international.org/12.0/#sec-set-o-p-v-throw)(O, Pk, value, true).
    3.  Set k to k + 1.
12.  Return O.

Note 2

The `fill` function is intentionally generic; it does not require that its this value be an Array object. Therefore it can be transferred to other kinds of objects for use as a method.

## 23.1.3.7 Array.prototype.filter ( callbackfn \[ , thisArg \] )

Note 1

callbackfn should be a function that accepts three arguments and returns a value that is coercible to a Boolean value. `filter` calls callbackfn once for each element in the array, in ascending order, and constructs a new array of all the values for which callbackfn returns true. callbackfn is called only for elements of the array which actually exist; it is not called for missing elements of the array.

If a thisArg parameter is provided, it will be used as the this value for each invocation of callbackfn. If it is not provided, undefined is used instead.

callbackfn is called with three arguments: the value of the element, the index of the element, and the object being traversed.

`filter` does not directly mutate the object on which it is called but the object may be mutated by the calls to callbackfn.

The range of elements processed by `filter` is set before the first call to callbackfn. Elements which are appended to the array after the call to `filter` begins will not be visited by callbackfn. If existing elements of the array are changed their value as passed to callbackfn will be the value at the time `filter` visits them; elements that are deleted after the call to `filter` begins and before being visited are not visited.

When the `filter` method is called with one or two arguments, the following steps are taken:

1.  Let O be ? [ToObject](https://262.ecma-international.org/12.0/#sec-toobject)(this value).
2.  Let len be ? [LengthOfArrayLike](https://262.ecma-international.org/12.0/#sec-lengthofarraylike)(O).
3.  If [IsCallable](https://262.ecma-international.org/12.0/#sec-iscallable)(callbackfn) is false, throw a TypeError exception.
4.  Let A be ? [ArraySpeciesCreate](https://262.ecma-international.org/12.0/#sec-arrayspeciescreate)(O, 0).
5.  Let k be 0.
6.  Let to be 0.
7.  Repeat, while k < len,
    1.  Let Pk be ! [ToString](https://262.ecma-international.org/12.0/#sec-tostring)([𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(k)).
    2.  Let kPresent be ? [HasProperty](https://262.ecma-international.org/12.0/#sec-hasproperty)(O, Pk).
    3.  If kPresent is true, then
        1.  Let kValue be ? [Get](https://262.ecma-international.org/12.0/#sec-get-o-p)(O, Pk).
        2.  Let selected be ! [ToBoolean](https://262.ecma-international.org/12.0/#sec-toboolean)(? [Call](https://262.ecma-international.org/12.0/#sec-call)(callbackfn, thisArg, « kValue, [𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(k), O »)).
        3.  If selected is true, then
            1.  Perform ? [CreateDataPropertyOrThrow](https://262.ecma-international.org/12.0/#sec-createdatapropertyorthrow)(A, ! [ToString](https://262.ecma-international.org/12.0/#sec-tostring)([𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(to)), kValue).
            2.  Set to to to + 1.
    4.  Set k to k + 1.
8.  Return A.

Note 2

The `filter` function is intentionally generic; it does not require that its this value be an Array object. Therefore it can be transferred to other kinds of objects for use as a method.

## 23.1.3.8 Array.prototype.find ( predicate \[ , thisArg \] )

The `find` method is called with one or two arguments, predicate and thisArg.

Note 1

predicate should be a function that accepts three arguments and returns a value that is coercible to a Boolean value. `find` calls predicate once for each element of the array, in ascending order, until it finds one where predicate returns true. If such an element is found, `find` immediately returns that element value. Otherwise, `find` returns undefined.

If a thisArg parameter is provided, it will be used as the this value for each invocation of predicate. If it is not provided, undefined is used instead.

predicate is called with three arguments: the value of the element, the index of the element, and the object being traversed.

`find` does not directly mutate the object on which it is called but the object may be mutated by the calls to predicate.

The range of elements processed by `find` is set before the first call to predicate. Elements that are appended to the array after the call to `find` begins will not be visited by predicate. If existing elements of the array are changed, their value as passed to predicate will be the value at the time that `find` visits them; elements that are deleted after the call to `find` begins and before being visited are not visited.

When the `find` method is called, the following steps are taken:

1.  Let O be ? [ToObject](https://262.ecma-international.org/12.0/#sec-toobject)(this value).
2.  Let len be ? [LengthOfArrayLike](https://262.ecma-international.org/12.0/#sec-lengthofarraylike)(O).
3.  If [IsCallable](https://262.ecma-international.org/12.0/#sec-iscallable)(predicate) is false, throw a TypeError exception.
4.  Let k be 0.
5.  Repeat, while k < len,
    1.  Let Pk be ! [ToString](https://262.ecma-international.org/12.0/#sec-tostring)([𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(k)).
    2.  Let kValue be ? [Get](https://262.ecma-international.org/12.0/#sec-get-o-p)(O, Pk).
    3.  Let testResult be ! [ToBoolean](https://262.ecma-international.org/12.0/#sec-toboolean)(? [Call](https://262.ecma-international.org/12.0/#sec-call)(predicate, thisArg, « kValue, [𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(k), O »)).
    4.  If testResult is true, return kValue.
    5.  Set k to k + 1.
6.  Return undefined.

Note 2

The `find` function is intentionally generic; it does not require that its this value be an Array object. Therefore it can be transferred to other kinds of objects for use as a method.

## 23.1.3.9 Array.prototype.findIndex ( predicate \[ , thisArg \] )

Note 1

predicate should be a function that accepts three arguments and returns a value that is coercible to a Boolean value. `findIndex` calls predicate once for each element of the array, in ascending order, until it finds one where predicate returns true. If such an element is found, `findIndex` immediately returns the index of that element value. Otherwise, `findIndex` returns -1.

If a thisArg parameter is provided, it will be used as the this value for each invocation of predicate. If it is not provided, undefined is used instead.

predicate is called with three arguments: the value of the element, the index of the element, and the object being traversed.

`findIndex` does not directly mutate the object on which it is called but the object may be mutated by the calls to predicate.

The range of elements processed by `findIndex` is set before the first call to predicate. Elements that are appended to the array after the call to `findIndex` begins will not be visited by predicate. If existing elements of the array are changed, their value as passed to predicate will be the value at the time that `findIndex` visits them; elements that are deleted after the call to `findIndex` begins and before being visited are not visited.

When the `findIndex` method is called with one or two arguments, the following steps are taken:

1.  Let O be ? [ToObject](https://262.ecma-international.org/12.0/#sec-toobject)(this value).
2.  Let len be ? [LengthOfArrayLike](https://262.ecma-international.org/12.0/#sec-lengthofarraylike)(O).
3.  If [IsCallable](https://262.ecma-international.org/12.0/#sec-iscallable)(predicate) is false, throw a TypeError exception.
4.  Let k be 0.
5.  Repeat, while k < len,
    1.  Let Pk be ! [ToString](https://262.ecma-international.org/12.0/#sec-tostring)([𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(k)).
    2.  Let kValue be ? [Get](https://262.ecma-international.org/12.0/#sec-get-o-p)(O, Pk).
    3.  Let testResult be ! [ToBoolean](https://262.ecma-international.org/12.0/#sec-toboolean)(? [Call](https://262.ecma-international.org/12.0/#sec-call)(predicate, thisArg, « kValue, [𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(k), O »)).
    4.  If testResult is true, return [𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(k).
    5.  Set k to k + 1.
6.  Return \-1𝔽.

Note 2

The `findIndex` function is intentionally generic; it does not require that its this value be an Array object. Therefore it can be transferred to other kinds of objects for use as a method.

## 23.1.3.10 Array.prototype.flat ( \[ depth \] )

When the `flat` method is called with zero or one arguments, the following steps are taken:

1.  Let O be ? [ToObject](https://262.ecma-international.org/12.0/#sec-toobject)(this value).
2.  Let sourceLen be ? [LengthOfArrayLike](https://262.ecma-international.org/12.0/#sec-lengthofarraylike)(O).
3.  Let depthNum be 1.
4.  If depth is not undefined, then
    1.  Set depthNum to ? [ToIntegerOrInfinity](https://262.ecma-international.org/12.0/#sec-tointegerorinfinity)(depth).
    2.  If depthNum < 0, set depthNum to 0.
5.  Let A be ? [ArraySpeciesCreate](https://262.ecma-international.org/12.0/#sec-arrayspeciescreate)(O, 0).
6.  Perform ? [FlattenIntoArray](https://262.ecma-international.org/12.0/#sec-flattenintoarray)(A, O, sourceLen, 0, depthNum).
7.  Return A.

## 23.1.3.10.1 FlattenIntoArray ( target, source, sourceLen, start, depth \[ , mapperFunction, thisArg \] )

The abstract operation FlattenIntoArray takes arguments target, source, sourceLen (a non-negative [integer](https://262.ecma-international.org/12.0/#integer)), start (a non-negative [integer](https://262.ecma-international.org/12.0/#integer)), and depth (a non-negative [integer](https://262.ecma-international.org/12.0/#integer) or +∞) and optional arguments mapperFunction and thisArg. It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(target) is Object.
2.  [Assert](https://262.ecma-international.org/12.0/#assert): [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(source) is Object.
3.  [Assert](https://262.ecma-international.org/12.0/#assert): If mapperFunction is present, then ! [IsCallable](https://262.ecma-international.org/12.0/#sec-iscallable)(mapperFunction) is true, thisArg is present, and depth is 1.
4.  Let targetIndex be start.
5.  Let sourceIndex be +0𝔽.
6.  Repeat, while [ℝ](https://262.ecma-international.org/12.0/#%E2%84%9D)(sourceIndex) < sourceLen,
    1.  Let P be ! [ToString](https://262.ecma-international.org/12.0/#sec-tostring)(sourceIndex).
    2.  Let exists be ? [HasProperty](https://262.ecma-international.org/12.0/#sec-hasproperty)(source, P).
    3.  If exists is true, then
        1.  Let element be ? [Get](https://262.ecma-international.org/12.0/#sec-get-o-p)(source, P).
        2.  If mapperFunction is present, then
            1.  Set element to ? [Call](https://262.ecma-international.org/12.0/#sec-call)(mapperFunction, thisArg, « element, sourceIndex, source »).
        3.  Let shouldFlatten be false.
        4.  If depth > 0, then
            1.  Set shouldFlatten to ? [IsArray](https://262.ecma-international.org/12.0/#sec-isarray)(element).
        5.  If shouldFlatten is true, then
            1.  If depth is +∞, let newDepth be +∞.
            2.  Else, let newDepth be depth - 1.
            3.  Let elementLen be ? [LengthOfArrayLike](https://262.ecma-international.org/12.0/#sec-lengthofarraylike)(element).
            4.  Set targetIndex to ? [FlattenIntoArray](https://262.ecma-international.org/12.0/#sec-flattenintoarray)(target, element, elementLen, targetIndex, newDepth).
        6.  Else,
            1.  If targetIndex ≥ 253 - 1, throw a TypeError exception.
            2.  Perform ? [CreateDataPropertyOrThrow](https://262.ecma-international.org/12.0/#sec-createdatapropertyorthrow)(target, ! [ToString](https://262.ecma-international.org/12.0/#sec-tostring)([𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(targetIndex)), element).
            3.  Set targetIndex to targetIndex + 1.
    4.  Set sourceIndex to sourceIndex + 1𝔽.
7.  Return targetIndex.

## 23.1.3.11 Array.prototype.flatMap ( mapperFunction \[ , thisArg \] )

When the `flatMap` method is called with one or two arguments, the following steps are taken:

1.  Let O be ? [ToObject](https://262.ecma-international.org/12.0/#sec-toobject)(this value).
2.  Let sourceLen be ? [LengthOfArrayLike](https://262.ecma-international.org/12.0/#sec-lengthofarraylike)(O).
3.  If ! [IsCallable](https://262.ecma-international.org/12.0/#sec-iscallable)(mapperFunction) is false, throw a TypeError exception.
4.  Let A be ? [ArraySpeciesCreate](https://262.ecma-international.org/12.0/#sec-arrayspeciescreate)(O, 0).
5.  Perform ? [FlattenIntoArray](https://262.ecma-international.org/12.0/#sec-flattenintoarray)(A, O, sourceLen, 0, 1, mapperFunction, thisArg).
6.  Return A.

## 23.1.3.12 Array.prototype.forEach ( callbackfn \[ , thisArg \] )

Note 1

callbackfn should be a function that accepts three arguments. `forEach` calls callbackfn once for each element present in the array, in ascending order. callbackfn is called only for elements of the array which actually exist; it is not called for missing elements of the array.

If a thisArg parameter is provided, it will be used as the this value for each invocation of callbackfn. If it is not provided, undefined is used instead.

callbackfn is called with three arguments: the value of the element, the index of the element, and the object being traversed.

`forEach` does not directly mutate the object on which it is called but the object may be mutated by the calls to callbackfn.

The range of elements processed by `forEach` is set before the first call to callbackfn. Elements which are appended to the array after the call to `forEach` begins will not be visited by callbackfn. If existing elements of the array are changed, their value as passed to callbackfn will be the value at the time `forEach` visits them; elements that are deleted after the call to `forEach` begins and before being visited are not visited.

When the `forEach` method is called with one or two arguments, the following steps are taken:

1.  Let O be ? [ToObject](https://262.ecma-international.org/12.0/#sec-toobject)(this value).
2.  Let len be ? [LengthOfArrayLike](https://262.ecma-international.org/12.0/#sec-lengthofarraylike)(O).
3.  If [IsCallable](https://262.ecma-international.org/12.0/#sec-iscallable)(callbackfn) is false, throw a TypeError exception.
4.  Let k be 0.
5.  Repeat, while k < len,
    1.  Let Pk be ! [ToString](https://262.ecma-international.org/12.0/#sec-tostring)([𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(k)).
    2.  Let kPresent be ? [HasProperty](https://262.ecma-international.org/12.0/#sec-hasproperty)(O, Pk).
    3.  If kPresent is true, then
        1.  Let kValue be ? [Get](https://262.ecma-international.org/12.0/#sec-get-o-p)(O, Pk).
        2.  Perform ? [Call](https://262.ecma-international.org/12.0/#sec-call)(callbackfn, thisArg, « kValue, [𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(k), O »).
    4.  Set k to k + 1.
6.  Return undefined.

Note 2

The `forEach` function is intentionally generic; it does not require that its this value be an Array object. Therefore it can be transferred to other kinds of objects for use as a method.

## 23.1.3.13 Array.prototype.includes ( searchElement \[ , fromIndex \] )

Note 1

`includes` compares searchElement to the elements of the array, in ascending order, using the [SameValueZero](https://262.ecma-international.org/12.0/#sec-samevaluezero) algorithm, and if found at any position, returns true; otherwise, false is returned.

The optional second argument fromIndex defaults to +0𝔽 (i.e. the whole array is searched). If it is greater than or equal to the length of the array, false is returned, i.e. the array will not be searched. If it is less than +0𝔽, it is used as the offset from the end of the array to compute fromIndex. If the computed index is less than +0𝔽, the whole array will be searched.

When the `includes` method is called, the following steps are taken:

1.  Let O be ? [ToObject](https://262.ecma-international.org/12.0/#sec-toobject)(this value).
2.  Let len be ? [LengthOfArrayLike](https://262.ecma-international.org/12.0/#sec-lengthofarraylike)(O).
3.  If len is 0, return false.
4.  Let n be ? [ToIntegerOrInfinity](https://262.ecma-international.org/12.0/#sec-tointegerorinfinity)(fromIndex).
5.  [Assert](https://262.ecma-international.org/12.0/#assert): If fromIndex is undefined, then n is 0.
6.  If n is +∞, return false.
7.  Else if n is -∞, set n to 0.
8.  If n ≥ 0, then
    1.  Let k be n.
9.  Else,
    1.  Let k be len + n.
    2.  If k < 0, set k to 0.
10.  Repeat, while k < len,
    1.  Let elementK be ? [Get](https://262.ecma-international.org/12.0/#sec-get-o-p)(O, ! [ToString](https://262.ecma-international.org/12.0/#sec-tostring)([𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(k))).
    2.  If [SameValueZero](https://262.ecma-international.org/12.0/#sec-samevaluezero)(searchElement, elementK) is true, return true.
    3.  Set k to k + 1.
11.  Return false.

Note 2

The `includes` function is intentionally generic; it does not require that its this value be an Array object. Therefore it can be transferred to other kinds of objects for use as a method.

Note 3

The `includes` method intentionally differs from the similar `indexOf` method in two ways. First, it uses the [SameValueZero](https://262.ecma-international.org/12.0/#sec-samevaluezero) algorithm, instead of [Strict Equality Comparison](https://262.ecma-international.org/12.0/#sec-strict-equality-comparison), allowing it to detect NaN array elements. Second, it does not skip missing array elements, instead treating them as undefined.

## 23.1.3.14 Array.prototype.indexOf ( searchElement \[ , fromIndex \] )

Note 1

`indexOf` compares searchElement to the elements of the array, in ascending order, using the [Strict Equality Comparison](https://262.ecma-international.org/12.0/#sec-strict-equality-comparison) algorithm, and if found at one or more indices, returns the smallest such index; otherwise, \-1𝔽 is returned.

The optional second argument fromIndex defaults to +0𝔽 (i.e. the whole array is searched). If it is greater than or equal to the length of the array, \-1𝔽 is returned, i.e. the array will not be searched. If it is less than +0𝔽, it is used as the offset from the end of the array to compute fromIndex. If the computed index is less than +0𝔽, the whole array will be searched.

When the `indexOf` method is called with one or two arguments, the following steps are taken:

1.  Let O be ? [ToObject](https://262.ecma-international.org/12.0/#sec-toobject)(this value).
2.  Let len be ? [LengthOfArrayLike](https://262.ecma-international.org/12.0/#sec-lengthofarraylike)(O).
3.  If len is 0, return \-1𝔽.
4.  Let n be ? [ToIntegerOrInfinity](https://262.ecma-international.org/12.0/#sec-tointegerorinfinity)(fromIndex).
5.  [Assert](https://262.ecma-international.org/12.0/#assert): If fromIndex is undefined, then n is 0.
6.  If n is +∞, return \-1𝔽.
7.  Else if n is -∞, set n to 0.
8.  If n ≥ 0, then
    1.  Let k be n.
9.  Else,
    1.  Let k be len + n.
    2.  If k < 0, set k to 0.
10.  Repeat, while k < len,
    1.  Let kPresent be ? [HasProperty](https://262.ecma-international.org/12.0/#sec-hasproperty)(O, ! [ToString](https://262.ecma-international.org/12.0/#sec-tostring)([𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(k))).
    2.  If kPresent is true, then
        1.  Let elementK be ? [Get](https://262.ecma-international.org/12.0/#sec-get-o-p)(O, ! [ToString](https://262.ecma-international.org/12.0/#sec-tostring)([𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(k))).
        2.  Let same be the result of performing [Strict Equality Comparison](https://262.ecma-international.org/12.0/#sec-strict-equality-comparison) searchElement === elementK.
        3.  If same is true, return [𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(k).
    3.  Set k to k + 1.
11.  Return \-1𝔽.

Note 2

The `indexOf` function is intentionally generic; it does not require that its this value be an Array object. Therefore it can be transferred to other kinds of objects for use as a method.

## 23.1.3.15 Array.prototype.join ( separator )

Note 1

The elements of the array are converted to Strings, and these Strings are then concatenated, separated by occurrences of the separator. If no separator is provided, a single comma is used as the separator.

The `join` method takes one argument, separator, and performs the following steps:

1.  Let O be ? [ToObject](https://262.ecma-international.org/12.0/#sec-toobject)(this value).
2.  Let len be ? [LengthOfArrayLike](https://262.ecma-international.org/12.0/#sec-lengthofarraylike)(O).
3.  If separator is undefined, let sep be the single-element String ",".
4.  Else, let sep be ? [ToString](https://262.ecma-international.org/12.0/#sec-tostring)(separator).
5.  Let R be the empty String.
6.  Let k be 0.
7.  Repeat, while k < len,
    1.  If k > 0, set R to the [string-concatenation](https://262.ecma-international.org/12.0/#string-concatenation) of R and sep.
    2.  Let element be ? [Get](https://262.ecma-international.org/12.0/#sec-get-o-p)(O, ! [ToString](https://262.ecma-international.org/12.0/#sec-tostring)([𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(k))).
    3.  If element is undefined or null, let next be the empty String; otherwise, let next be ? [ToString](https://262.ecma-international.org/12.0/#sec-tostring)(element).
    4.  Set R to the [string-concatenation](https://262.ecma-international.org/12.0/#string-concatenation) of R and next.
    5.  Set k to k + 1.
8.  Return R.

Note 2

The `join` function is intentionally generic; it does not require that its this value be an Array object. Therefore, it can be transferred to other kinds of objects for use as a method.

## 23.1.3.16 Array.prototype.keys ( )

The following steps are taken:

1.  Let O be ? [ToObject](https://262.ecma-international.org/12.0/#sec-toobject)(this value).
2.  Return [CreateArrayIterator](https://262.ecma-international.org/12.0/#sec-createarrayiterator)(O, key).

## 23.1.3.17 Array.prototype.lastIndexOf ( searchElement \[ , fromIndex \] )

Note 1

`lastIndexOf` compares searchElement to the elements of the array in descending order using the [Strict Equality Comparison](https://262.ecma-international.org/12.0/#sec-strict-equality-comparison) algorithm, and if found at one or more indices, returns the largest such index; otherwise, \-1𝔽 is returned.

The optional second argument fromIndex defaults to the array's length minus one (i.e. the whole array is searched). If it is greater than or equal to the length of the array, the whole array will be searched. If it is less than +0𝔽, it is used as the offset from the end of the array to compute fromIndex. If the computed index is less than +0𝔽, \-1𝔽 is returned.

When the `lastIndexOf` method is called with one or two arguments, the following steps are taken:

1.  Let O be ? [ToObject](https://262.ecma-international.org/12.0/#sec-toobject)(this value).
2.  Let len be ? [LengthOfArrayLike](https://262.ecma-international.org/12.0/#sec-lengthofarraylike)(O).
3.  If len is 0, return \-1𝔽.
4.  If fromIndex is present, let n be ? [ToIntegerOrInfinity](https://262.ecma-international.org/12.0/#sec-tointegerorinfinity)(fromIndex); else let n be len - 1.
5.  If n is -∞, return \-1𝔽.
6.  If n ≥ 0, then
    1.  Let k be [min](https://262.ecma-international.org/12.0/#eqn-min)(n, len - 1).
7.  Else,
    1.  Let k be len + n.
8.  Repeat, while k ≥ 0,
    1.  Let kPresent be ? [HasProperty](https://262.ecma-international.org/12.0/#sec-hasproperty)(O, ! [ToString](https://262.ecma-international.org/12.0/#sec-tostring)([𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(k))).
    2.  If kPresent is true, then
        1.  Let elementK be ? [Get](https://262.ecma-international.org/12.0/#sec-get-o-p)(O, ! [ToString](https://262.ecma-international.org/12.0/#sec-tostring)([𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(k))).
        2.  Let same be the result of performing [Strict Equality Comparison](https://262.ecma-international.org/12.0/#sec-strict-equality-comparison) searchElement === elementK.
        3.  If same is true, return [𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(k).
    3.  Set k to k - 1.
9.  Return \-1𝔽.

Note 2

The `lastIndexOf` function is intentionally generic; it does not require that its this value be an Array object. Therefore it can be transferred to other kinds of objects for use as a method.

## 23.1.3.18 Array.prototype.map ( callbackfn \[ , thisArg \] )

Note 1

callbackfn should be a function that accepts three arguments. `map` calls callbackfn once for each element in the array, in ascending order, and constructs a new Array from the results. callbackfn is called only for elements of the array which actually exist; it is not called for missing elements of the array.

If a thisArg parameter is provided, it will be used as the this value for each invocation of callbackfn. If it is not provided, undefined is used instead.

callbackfn is called with three arguments: the value of the element, the index of the element, and the object being traversed.

`map` does not directly mutate the object on which it is called but the object may be mutated by the calls to callbackfn.

The range of elements processed by `map` is set before the first call to callbackfn. Elements which are appended to the array after the call to `map` begins will not be visited by callbackfn. If existing elements of the array are changed, their value as passed to callbackfn will be the value at the time `map` visits them; elements that are deleted after the call to `map` begins and before being visited are not visited.

When the `map` method is called with one or two arguments, the following steps are taken:

1.  Let O be ? [ToObject](https://262.ecma-international.org/12.0/#sec-toobject)(this value).
2.  Let len be ? [LengthOfArrayLike](https://262.ecma-international.org/12.0/#sec-lengthofarraylike)(O).
3.  If [IsCallable](https://262.ecma-international.org/12.0/#sec-iscallable)(callbackfn) is false, throw a TypeError exception.
4.  Let A be ? [ArraySpeciesCreate](https://262.ecma-international.org/12.0/#sec-arrayspeciescreate)(O, len).
5.  Let k be 0.
6.  Repeat, while k < len,
    1.  Let Pk be ! [ToString](https://262.ecma-international.org/12.0/#sec-tostring)([𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(k)).
    2.  Let kPresent be ? [HasProperty](https://262.ecma-international.org/12.0/#sec-hasproperty)(O, Pk).
    3.  If kPresent is true, then
        1.  Let kValue be ? [Get](https://262.ecma-international.org/12.0/#sec-get-o-p)(O, Pk).
        2.  Let mappedValue be ? [Call](https://262.ecma-international.org/12.0/#sec-call)(callbackfn, thisArg, « kValue, [𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(k), O »).
        3.  Perform ? [CreateDataPropertyOrThrow](https://262.ecma-international.org/12.0/#sec-createdatapropertyorthrow)(A, Pk, mappedValue).
    4.  Set k to k + 1.
7.  Return A.

Note 2

The `map` function is intentionally generic; it does not require that its this value be an Array object. Therefore it can be transferred to other kinds of objects for use as a method.

## 23.1.3.19 Array.prototype.pop ( )

Note 1

The last element of the array is removed from the array and returned.

When the `pop` method is called, the following steps are taken:

1.  Let O be ? [ToObject](https://262.ecma-international.org/12.0/#sec-toobject)(this value).
2.  Let len be ? [LengthOfArrayLike](https://262.ecma-international.org/12.0/#sec-lengthofarraylike)(O).
3.  If len = 0, then
    1.  Perform ? [Set](https://262.ecma-international.org/12.0/#sec-set-o-p-v-throw)(O, "length", +0𝔽, true).
    2.  Return undefined.
4.  Else,
    1.  [Assert](https://262.ecma-international.org/12.0/#assert): len > 0.
    2.  Let newLen be [𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(len - 1).
    3.  Let index be ! [ToString](https://262.ecma-international.org/12.0/#sec-tostring)(newLen).
    4.  Let element be ? [Get](https://262.ecma-international.org/12.0/#sec-get-o-p)(O, index).
    5.  Perform ? [DeletePropertyOrThrow](https://262.ecma-international.org/12.0/#sec-deletepropertyorthrow)(O, index).
    6.  Perform ? [Set](https://262.ecma-international.org/12.0/#sec-set-o-p-v-throw)(O, "length", newLen, true).
    7.  Return element.

Note 2

The `pop` function is intentionally generic; it does not require that its this value be an Array object. Therefore it can be transferred to other kinds of objects for use as a method.

## 23.1.3.20 Array.prototype.push ( ...items )

Note 1

The arguments are appended to the end of the array, in the order in which they appear. The new length of the array is returned as the result of the call.

When the `push` method is called with zero or more arguments, the following steps are taken:

1.  Let O be ? [ToObject](https://262.ecma-international.org/12.0/#sec-toobject)(this value).
2.  Let len be ? [LengthOfArrayLike](https://262.ecma-international.org/12.0/#sec-lengthofarraylike)(O).
3.  Let argCount be the number of elements in items.
4.  If len + argCount > 253 - 1, throw a TypeError exception.
5.  For each element E of items, do
    1.  Perform ? [Set](https://262.ecma-international.org/12.0/#sec-set-o-p-v-throw)(O, ! [ToString](https://262.ecma-international.org/12.0/#sec-tostring)([𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(len)), E, true).
    2.  Set len to len + 1.
6.  Perform ? [Set](https://262.ecma-international.org/12.0/#sec-set-o-p-v-throw)(O, "length", [𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(len), true).
7.  Return [𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(len).

The "length" property of the `push` method is 1𝔽.

Note 2

The `push` function is intentionally generic; it does not require that its this value be an Array object. Therefore it can be transferred to other kinds of objects for use as a method.

## 23.1.3.21 Array.prototype.reduce ( callbackfn \[ , initialValue \] )

Note 1

callbackfn should be a function that takes four arguments. `reduce` calls the callback, as a function, once for each element after the first element present in the array, in ascending order.

callbackfn is called with four arguments: the previousValue (value from the previous call to callbackfn), the currentValue (value of the current element), the currentIndex, and the object being traversed. The first time that callback is called, the previousValue and currentValue can be one of two values. If an initialValue was supplied in the call to `reduce`, then previousValue will be equal to initialValue and currentValue will be equal to the first value in the array. If no initialValue was supplied, then previousValue will be equal to the first value in the array and currentValue will be equal to the second. It is a TypeError if the array contains no elements and initialValue is not provided.

`reduce` does not directly mutate the object on which it is called but the object may be mutated by the calls to callbackfn.

The range of elements processed by `reduce` is set before the first call to callbackfn. Elements that are appended to the array after the call to `reduce` begins will not be visited by callbackfn. If existing elements of the array are changed, their value as passed to callbackfn will be the value at the time `reduce` visits them; elements that are deleted after the call to `reduce` begins and before being visited are not visited.

When the `reduce` method is called with one or two arguments, the following steps are taken:

1.  Let O be ? [ToObject](https://262.ecma-international.org/12.0/#sec-toobject)(this value).
2.  Let len be ? [LengthOfArrayLike](https://262.ecma-international.org/12.0/#sec-lengthofarraylike)(O).
3.  If [IsCallable](https://262.ecma-international.org/12.0/#sec-iscallable)(callbackfn) is false, throw a TypeError exception.
4.  If len = 0 and initialValue is not present, throw a TypeError exception.
5.  Let k be 0.
6.  Let accumulator be undefined.
7.  If initialValue is present, then
    1.  Set accumulator to initialValue.
8.  Else,
    1.  Let kPresent be false.
    2.  Repeat, while kPresent is false and k < len,
        1.  Let Pk be ! [ToString](https://262.ecma-international.org/12.0/#sec-tostring)([𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(k)).
        2.  Set kPresent to ? [HasProperty](https://262.ecma-international.org/12.0/#sec-hasproperty)(O, Pk).
        3.  If kPresent is true, then
            1.  Set accumulator to ? [Get](https://262.ecma-international.org/12.0/#sec-get-o-p)(O, Pk).
        4.  Set k to k + 1.
    3.  If kPresent is false, throw a TypeError exception.
9.  Repeat, while k < len,
    1.  Let Pk be ! [ToString](https://262.ecma-international.org/12.0/#sec-tostring)([𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(k)).
    2.  Let kPresent be ? [HasProperty](https://262.ecma-international.org/12.0/#sec-hasproperty)(O, Pk).
    3.  If kPresent is true, then
        1.  Let kValue be ? [Get](https://262.ecma-international.org/12.0/#sec-get-o-p)(O, Pk).
        2.  Set accumulator to ? [Call](https://262.ecma-international.org/12.0/#sec-call)(callbackfn, undefined, « accumulator, kValue, [𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(k), O »).
    4.  Set k to k + 1.
10.  Return accumulator.

Note 2

The `reduce` function is intentionally generic; it does not require that its this value be an Array object. Therefore it can be transferred to other kinds of objects for use as a method.

## 23.1.3.22 Array.prototype.reduceRight ( callbackfn \[ , initialValue \] )

Note 1

callbackfn should be a function that takes four arguments. `reduceRight` calls the callback, as a function, once for each element after the first element present in the array, in descending order.

callbackfn is called with four arguments: the previousValue (value from the previous call to callbackfn), the currentValue (value of the current element), the currentIndex, and the object being traversed. The first time the function is called, the previousValue and currentValue can be one of two values. If an initialValue was supplied in the call to `reduceRight`, then previousValue will be equal to initialValue and currentValue will be equal to the last value in the array. If no initialValue was supplied, then previousValue will be equal to the last value in the array and currentValue will be equal to the second-to-last value. It is a TypeError if the array contains no elements and initialValue is not provided.

`reduceRight` does not directly mutate the object on which it is called but the object may be mutated by the calls to callbackfn.

The range of elements processed by `reduceRight` is set before the first call to callbackfn. Elements that are appended to the array after the call to `reduceRight` begins will not be visited by callbackfn. If existing elements of the array are changed by callbackfn, their value as passed to callbackfn will be the value at the time `reduceRight` visits them; elements that are deleted after the call to `reduceRight` begins and before being visited are not visited.

When the `reduceRight` method is called with one or two arguments, the following steps are taken:

1.  Let O be ? [ToObject](https://262.ecma-international.org/12.0/#sec-toobject)(this value).
2.  Let len be ? [LengthOfArrayLike](https://262.ecma-international.org/12.0/#sec-lengthofarraylike)(O).
3.  If [IsCallable](https://262.ecma-international.org/12.0/#sec-iscallable)(callbackfn) is false, throw a TypeError exception.
4.  If len is 0 and initialValue is not present, throw a TypeError exception.
5.  Let k be len - 1.
6.  Let accumulator be undefined.
7.  If initialValue is present, then
    1.  Set accumulator to initialValue.
8.  Else,
    1.  Let kPresent be false.
    2.  Repeat, while kPresent is false and k ≥ 0,
        1.  Let Pk be ! [ToString](https://262.ecma-international.org/12.0/#sec-tostring)([𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(k)).
        2.  Set kPresent to ? [HasProperty](https://262.ecma-international.org/12.0/#sec-hasproperty)(O, Pk).
        3.  If kPresent is true, then
            1.  Set accumulator to ? [Get](https://262.ecma-international.org/12.0/#sec-get-o-p)(O, Pk).
        4.  Set k to k - 1.
    3.  If kPresent is false, throw a TypeError exception.
9.  Repeat, while k ≥ 0,
    1.  Let Pk be ! [ToString](https://262.ecma-international.org/12.0/#sec-tostring)([𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(k)).
    2.  Let kPresent be ? [HasProperty](https://262.ecma-international.org/12.0/#sec-hasproperty)(O, Pk).
    3.  If kPresent is true, then
        1.  Let kValue be ? [Get](https://262.ecma-international.org/12.0/#sec-get-o-p)(O, Pk).
        2.  Set accumulator to ? [Call](https://262.ecma-international.org/12.0/#sec-call)(callbackfn, undefined, « accumulator, kValue, [𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(k), O »).
    4.  Set k to k - 1.
10.  Return accumulator.

Note 2

The `reduceRight` function is intentionally generic; it does not require that its this value be an Array object. Therefore it can be transferred to other kinds of objects for use as a method.

## 23.1.3.23 Array.prototype.reverse ( )

Note 1

The elements of the array are rearranged so as to reverse their order. The object is returned as the result of the call.

When the `reverse` method is called, the following steps are taken:

1.  Let O be ? [ToObject](https://262.ecma-international.org/12.0/#sec-toobject)(this value).
2.  Let len be ? [LengthOfArrayLike](https://262.ecma-international.org/12.0/#sec-lengthofarraylike)(O).
3.  Let middle be [floor](https://262.ecma-international.org/12.0/#eqn-floor)(len / 2).
4.  Let lower be 0.
5.  Repeat, while lower ≠ middle,
    1.  Let upper be len - lower - 1.
    2.  Let upperP be ! [ToString](https://262.ecma-international.org/12.0/#sec-tostring)([𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(upper)).
    3.  Let lowerP be ! [ToString](https://262.ecma-international.org/12.0/#sec-tostring)([𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(lower)).
    4.  Let lowerExists be ? [HasProperty](https://262.ecma-international.org/12.0/#sec-hasproperty)(O, lowerP).
    5.  If lowerExists is true, then
        1.  Let lowerValue be ? [Get](https://262.ecma-international.org/12.0/#sec-get-o-p)(O, lowerP).
    6.  Let upperExists be ? [HasProperty](https://262.ecma-international.org/12.0/#sec-hasproperty)(O, upperP).
    7.  If upperExists is true, then
        1.  Let upperValue be ? [Get](https://262.ecma-international.org/12.0/#sec-get-o-p)(O, upperP).
    8.  If lowerExists is true and upperExists is true, then
        1.  Perform ? [Set](https://262.ecma-international.org/12.0/#sec-set-o-p-v-throw)(O, lowerP, upperValue, true).
        2.  Perform ? [Set](https://262.ecma-international.org/12.0/#sec-set-o-p-v-throw)(O, upperP, lowerValue, true).
    9.  Else if lowerExists is false and upperExists is true, then
        1.  Perform ? [Set](https://262.ecma-international.org/12.0/#sec-set-o-p-v-throw)(O, lowerP, upperValue, true).
        2.  Perform ? [DeletePropertyOrThrow](https://262.ecma-international.org/12.0/#sec-deletepropertyorthrow)(O, upperP).
    10.  Else if lowerExists is true and upperExists is false, then
        1.  Perform ? [DeletePropertyOrThrow](https://262.ecma-international.org/12.0/#sec-deletepropertyorthrow)(O, lowerP).
        2.  Perform ? [Set](https://262.ecma-international.org/12.0/#sec-set-o-p-v-throw)(O, upperP, lowerValue, true).
    11.  Else,
        1.  [Assert](https://262.ecma-international.org/12.0/#assert): lowerExists and upperExists are both false.
        2.  No action is required.
    12.  Set lower to lower + 1.
6.  Return O.

Note 2

The `reverse` function is intentionally generic; it does not require that its this value be an Array object. Therefore, it can be transferred to other kinds of objects for use as a method.

## 23.1.3.24 Array.prototype.shift ( )

Note 1

The first element of the array is removed from the array and returned.

When the `shift` method is called, the following steps are taken:

1.  Let O be ? [ToObject](https://262.ecma-international.org/12.0/#sec-toobject)(this value).
2.  Let len be ? [LengthOfArrayLike](https://262.ecma-international.org/12.0/#sec-lengthofarraylike)(O).
3.  If len = 0, then
    1.  Perform ? [Set](https://262.ecma-international.org/12.0/#sec-set-o-p-v-throw)(O, "length", +0𝔽, true).
    2.  Return undefined.
4.  Let first be ? [Get](https://262.ecma-international.org/12.0/#sec-get-o-p)(O, "0").
5.  Let k be 1.
6.  Repeat, while k < len,
    1.  Let from be ! [ToString](https://262.ecma-international.org/12.0/#sec-tostring)([𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(k)).
    2.  Let to be ! [ToString](https://262.ecma-international.org/12.0/#sec-tostring)([𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(k - 1)).
    3.  Let fromPresent be ? [HasProperty](https://262.ecma-international.org/12.0/#sec-hasproperty)(O, from).
    4.  If fromPresent is true, then
        1.  Let fromVal be ? [Get](https://262.ecma-international.org/12.0/#sec-get-o-p)(O, from).
        2.  Perform ? [Set](https://262.ecma-international.org/12.0/#sec-set-o-p-v-throw)(O, to, fromVal, true).
    5.  Else,
        1.  [Assert](https://262.ecma-international.org/12.0/#assert): fromPresent is false.
        2.  Perform ? [DeletePropertyOrThrow](https://262.ecma-international.org/12.0/#sec-deletepropertyorthrow)(O, to).
    6.  Set k to k + 1.
7.  Perform ? [DeletePropertyOrThrow](https://262.ecma-international.org/12.0/#sec-deletepropertyorthrow)(O, ! [ToString](https://262.ecma-international.org/12.0/#sec-tostring)([𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(len - 1))).
8.  Perform ? [Set](https://262.ecma-international.org/12.0/#sec-set-o-p-v-throw)(O, "length", [𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(len - 1), true).
9.  Return first.

Note 2

The `shift` function is intentionally generic; it does not require that its this value be an Array object. Therefore it can be transferred to other kinds of objects for use as a method.

## 23.1.3.25 Array.prototype.slice ( start, end )

Note 1

The `slice` method takes two arguments, start and end, and returns an array containing the elements of the array from element start up to, but not including, element end (or through the end of the array if end is undefined). If start is negative, it is treated as length + start where length is the length of the array. If end is negative, it is treated as length + end where length is the length of the array.

The following steps are taken:

1.  Let O be ? [ToObject](https://262.ecma-international.org/12.0/#sec-toobject)(this value).
2.  Let len be ? [LengthOfArrayLike](https://262.ecma-international.org/12.0/#sec-lengthofarraylike)(O).
3.  Let relativeStart be ? [ToIntegerOrInfinity](https://262.ecma-international.org/12.0/#sec-tointegerorinfinity)(start).
4.  If relativeStart is -∞, let k be 0.
5.  Else if relativeStart < 0, let k be [max](https://262.ecma-international.org/12.0/#eqn-max)(len + relativeStart, 0).
6.  Else, let k be [min](https://262.ecma-international.org/12.0/#eqn-min)(relativeStart, len).
7.  If end is undefined, let relativeEnd be len; else let relativeEnd be ? [ToIntegerOrInfinity](https://262.ecma-international.org/12.0/#sec-tointegerorinfinity)(end).
8.  If relativeEnd is -∞, let final be 0.
9.  Else if relativeEnd < 0, let final be [max](https://262.ecma-international.org/12.0/#eqn-max)(len + relativeEnd, 0).
10.  Else, let final be [min](https://262.ecma-international.org/12.0/#eqn-min)(relativeEnd, len).
11.  Let count be [max](https://262.ecma-international.org/12.0/#eqn-max)(final - k, 0).
12.  Let A be ? [ArraySpeciesCreate](https://262.ecma-international.org/12.0/#sec-arrayspeciescreate)(O, count).
13.  Let n be 0.
14.  Repeat, while k < final,
    1.  Let Pk be ! [ToString](https://262.ecma-international.org/12.0/#sec-tostring)([𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(k)).
    2.  Let kPresent be ? [HasProperty](https://262.ecma-international.org/12.0/#sec-hasproperty)(O, Pk).
    3.  If kPresent is true, then
        1.  Let kValue be ? [Get](https://262.ecma-international.org/12.0/#sec-get-o-p)(O, Pk).
        2.  Perform ? [CreateDataPropertyOrThrow](https://262.ecma-international.org/12.0/#sec-createdatapropertyorthrow)(A, ! [ToString](https://262.ecma-international.org/12.0/#sec-tostring)([𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(n)), kValue).
    4.  Set k to k + 1.
    5.  Set n to n + 1.
15.  Perform ? [Set](https://262.ecma-international.org/12.0/#sec-set-o-p-v-throw)(A, "length", [𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(n), true).
16.  Return A.

Note 2

The explicit setting of the "length" property of the result Array in step [15](https://262.ecma-international.org/12.0/#step-array-proto-slice-set-length) was necessary in previous editions of ECMAScript to ensure that its length was correct in situations where the trailing elements of the result Array were not present. Setting "length" became unnecessary starting in ES2015 when the result Array was initialized to its proper length rather than an empty Array but is carried forward to preserve backward compatibility.

Note 3

The `slice` function is intentionally generic; it does not require that its this value be an Array object. Therefore it can be transferred to other kinds of objects for use as a method.

## 23.1.3.26 Array.prototype.some ( callbackfn \[ , thisArg \] )

Note 1

callbackfn should be a function that accepts three arguments and returns a value that is coercible to a Boolean value. `some` calls callbackfn once for each element present in the array, in ascending order, until it finds one where callbackfn returns true. If such an element is found, `some` immediately returns true. Otherwise, `some` returns false. callbackfn is called only for elements of the array which actually exist; it is not called for missing elements of the array.

If a thisArg parameter is provided, it will be used as the this value for each invocation of callbackfn. If it is not provided, undefined is used instead.

callbackfn is called with three arguments: the value of the element, the index of the element, and the object being traversed.

`some` does not directly mutate the object on which it is called but the object may be mutated by the calls to callbackfn.

The range of elements processed by `some` is set before the first call to callbackfn. Elements that are appended to the array after the call to `some` begins will not be visited by callbackfn. If existing elements of the array are changed, their value as passed to callbackfn will be the value at the time that `some` visits them; elements that are deleted after the call to `some` begins and before being visited are not visited. `some` acts like the "exists" quantifier in mathematics. In particular, for an empty array, it returns false.

When the `some` method is called with one or two arguments, the following steps are taken:

1.  Let O be ? [ToObject](https://262.ecma-international.org/12.0/#sec-toobject)(this value).
2.  Let len be ? [LengthOfArrayLike](https://262.ecma-international.org/12.0/#sec-lengthofarraylike)(O).
3.  If [IsCallable](https://262.ecma-international.org/12.0/#sec-iscallable)(callbackfn) is false, throw a TypeError exception.
4.  Let k be 0.
5.  Repeat, while k < len,
    1.  Let Pk be ! [ToString](https://262.ecma-international.org/12.0/#sec-tostring)([𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(k)).
    2.  Let kPresent be ? [HasProperty](https://262.ecma-international.org/12.0/#sec-hasproperty)(O, Pk).
    3.  If kPresent is true, then
        1.  Let kValue be ? [Get](https://262.ecma-international.org/12.0/#sec-get-o-p)(O, Pk).
        2.  Let testResult be ! [ToBoolean](https://262.ecma-international.org/12.0/#sec-toboolean)(? [Call](https://262.ecma-international.org/12.0/#sec-call)(callbackfn, thisArg, « kValue, [𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(k), O »)).
        3.  If testResult is true, return true.
    4.  Set k to k + 1.
6.  Return false.

Note 2

The `some` function is intentionally generic; it does not require that its this value be an Array object. Therefore it can be transferred to other kinds of objects for use as a method.

## 23.1.3.27 Array.prototype.sort ( comparefn )

The elements of this array are sorted. The sort must be stable (that is, elements that compare equal must remain in their original order). If comparefn is not undefined, it should be a function that accepts two arguments x and y and returns a negative value if x < y, zero if x = y, or a positive value if x > y.

The following steps are taken:

1.  If comparefn is not undefined and [IsCallable](https://262.ecma-international.org/12.0/#sec-iscallable)(comparefn) is false, throw a TypeError exception.
2.  Let obj be ? [ToObject](https://262.ecma-international.org/12.0/#sec-toobject)(this value).
3.  Let len be ? [LengthOfArrayLike](https://262.ecma-international.org/12.0/#sec-lengthofarraylike)(obj).
4.  Let items be a new empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).
5.  Let k be 0.
6.  Repeat, while k < len,
    1.  Let Pk be ! [ToString](https://262.ecma-international.org/12.0/#sec-tostring)([𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(k)).
    2.  Let kPresent be ? [HasProperty](https://262.ecma-international.org/12.0/#sec-hasproperty)(obj, Pk).
    3.  If kPresent is true, then
        1.  Let kValue be ? [Get](https://262.ecma-international.org/12.0/#sec-get-o-p)(obj, Pk).
        2.  Append kValue to items.
    4.  Set k to k + 1.
7.  Let itemCount be the number of elements in items.
8.  Sort items using an [implementation-defined](https://262.ecma-international.org/12.0/#implementation-defined) sequence of calls to [SortCompare](https://262.ecma-international.org/12.0/#sec-sortcompare). If any such call returns an [abrupt completion](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type), stop before performing any further calls to [SortCompare](https://262.ecma-international.org/12.0/#sec-sortcompare) or steps in this algorithm and return that completion.
9.  Let j be 0.
10.  Repeat, while j < itemCount,
    1.  Perform ? [Set](https://262.ecma-international.org/12.0/#sec-set-o-p-v-throw)(obj, ! [ToString](https://262.ecma-international.org/12.0/#sec-tostring)([𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(j)), items\[j\], true).
    2.  Set j to j + 1.
11.  Repeat, while j < len,
    1.  Perform ? [DeletePropertyOrThrow](https://262.ecma-international.org/12.0/#sec-deletepropertyorthrow)(obj, ! [ToString](https://262.ecma-international.org/12.0/#sec-tostring)([𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(j))).
    2.  Set j to j + 1.
12.  Return obj.

The _sort order_ is the ordering, after completion of this function, of the [integer-indexed](https://262.ecma-international.org/12.0/#integer-index) property values of obj whose [integer](https://262.ecma-international.org/12.0/#integer) indexes are less than len. The result of the `sort` function is then determined as follows:

The sort order is [implementation-defined](https://262.ecma-international.org/12.0/#implementation-defined) if any of the following conditions is true:

-   If comparefn is not undefined and is not a consistent comparison function for the elements of items (see below).
-   If comparefn is undefined and [SortCompare](https://262.ecma-international.org/12.0/#sec-sortcompare) does not act as a consistent comparison function.
-   If comparefn is undefined and all applications of [ToString](https://262.ecma-international.org/12.0/#sec-tostring), to any specific value passed as an argument to [SortCompare](https://262.ecma-international.org/12.0/#sec-sortcompare), do not produce the same result.

Unless the sort order is specified above to be [implementation-defined](https://262.ecma-international.org/12.0/#implementation-defined), items must satisfy all of the following conditions after executing step [8](https://262.ecma-international.org/12.0/#step-array-sort) of the algorithm above:

-   There must be some mathematical permutation π of the non-negative integers less than itemCount, such that for every non-negative [integer](https://262.ecma-international.org/12.0/#integer) j less than itemCount, the element old\[j\] is exactly the same as new\[π(j)\].
-   Then for all non-negative integers j and k, each less than itemCount, if [SortCompare](https://262.ecma-international.org/12.0/#sec-sortcompare)(old\[j\], old\[k\]) < 0 (see [SortCompare](https://262.ecma-international.org/12.0/#sec-sortcompare) below), then π(j) < π(k).

Here the notation old\[j\] is used to refer to items\[j\] before step [8](https://262.ecma-international.org/12.0/#step-array-sort) is executed, and the notation new\[j\] to refer to items\[j\] after step [8](https://262.ecma-international.org/12.0/#step-array-sort) has been executed.

A function comparefn is a consistent comparison function for a set of values S if all of the requirements below are met for all values a, b, and c (possibly the same value) in the set S: The notation a <CF b means comparefn(a, b) < 0; a =CF b means comparefn(a, b) = 0 (of either sign); and a >CF b means comparefn(a, b) > 0.

-   Calling comparefn(a, b) always returns the same value v when given a specific pair of values a and b as its two arguments. Furthermore, [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(v) is Number, and v is not NaN. Note that this implies that exactly one of a <CF b, a =CF b, and a >CF b will be true for a given pair of a and b.
-   Calling comparefn(a, b) does not modify obj or any object on obj's prototype chain.
-   a =CF a (reflexivity)
-   If a =CF b, then b =CF a (symmetry)
-   If a =CF b and b =CF c, then a =CF c (transitivity of =CF)
-   If a <CF b and b <CF c, then a <CF c (transitivity of <CF)
-   If a >CF b and b >CF c, then a >CF c (transitivity of >CF)

Note 1

The above conditions are necessary and sufficient to ensure that comparefn divides the set S into equivalence classes and that these equivalence classes are totally ordered.

Note 2

The `sort` function is intentionally generic; it does not require that its this value be an Array object. Therefore, it can be transferred to other kinds of objects for use as a method.

## 23.1.3.27.1 SortCompare ( x, y )

The abstract operation SortCompare takes arguments x and y. It also has access to the comparefn argument passed to the current invocation of the `sort` method. It performs the following steps when called:

1.  If x and y are both undefined, return +0𝔽.
2.  If x is undefined, return 1𝔽.
3.  If y is undefined, return \-1𝔽.
4.  If comparefn is not undefined, then
    1.  Let v be ? [ToNumber](https://262.ecma-international.org/12.0/#sec-tonumber)(? [Call](https://262.ecma-international.org/12.0/#sec-call)(comparefn, undefined, « x, y »)).
    2.  If v is NaN, return +0𝔽.
    3.  Return v.
5.  Let xString be ? [ToString](https://262.ecma-international.org/12.0/#sec-tostring)(x).
6.  Let yString be ? [ToString](https://262.ecma-international.org/12.0/#sec-tostring)(y).
7.  Let xSmaller be the result of performing [Abstract Relational Comparison](https://262.ecma-international.org/12.0/#sec-abstract-relational-comparison) xString < yString.
8.  If xSmaller is true, return \-1𝔽.
9.  Let ySmaller be the result of performing [Abstract Relational Comparison](https://262.ecma-international.org/12.0/#sec-abstract-relational-comparison) yString < xString.
10.  If ySmaller is true, return 1𝔽.
11.  Return +0𝔽.

Note 1

Because non-existent property values always compare greater than undefined property values, and undefined always compares greater than any other value, undefined property values always sort to the end of the result, followed by non-existent property values.

Note 2

Method calls performed by the [ToString](https://262.ecma-international.org/12.0/#sec-tostring) [abstract operations](https://262.ecma-international.org/12.0/#sec-algorithm-conventions-abstract-operations) in steps [5](https://262.ecma-international.org/12.0/#step-sortcompare-tostring-x) and [6](https://262.ecma-international.org/12.0/#step-sortcompare-tostring-y) have the potential to cause SortCompare to not behave as a consistent comparison function.

## 23.1.3.28 Array.prototype.splice ( start, deleteCount, ...items )

Note 1

When the `splice` method is called with two or more arguments start, deleteCount and zero or more items, the deleteCount elements of the array starting at [integer index](https://262.ecma-international.org/12.0/#integer-index) start are replaced by the elements of items. An Array object containing the deleted elements (if any) is returned.

The following steps are taken:

1.  Let O be ? [ToObject](https://262.ecma-international.org/12.0/#sec-toobject)(this value).
2.  Let len be ? [LengthOfArrayLike](https://262.ecma-international.org/12.0/#sec-lengthofarraylike)(O).
3.  Let relativeStart be ? [ToIntegerOrInfinity](https://262.ecma-international.org/12.0/#sec-tointegerorinfinity)(start).
4.  If relativeStart is -∞, let actualStart be 0.
5.  Else if relativeStart < 0, let actualStart be [max](https://262.ecma-international.org/12.0/#eqn-max)(len + relativeStart, 0).
6.  Else, let actualStart be [min](https://262.ecma-international.org/12.0/#eqn-min)(relativeStart, len).
7.  If start is not present, then
    1.  Let insertCount be 0.
    2.  Let actualDeleteCount be 0.
8.  Else if deleteCount is not present, then
    1.  Let insertCount be 0.
    2.  Let actualDeleteCount be len - actualStart.
9.  Else,
    1.  Let insertCount be the number of elements in items.
    2.  Let dc be ? [ToIntegerOrInfinity](https://262.ecma-international.org/12.0/#sec-tointegerorinfinity)(deleteCount).
    3.  Let actualDeleteCount be the result of [clamping](https://262.ecma-international.org/12.0/#clamping) dc between 0 and len - actualStart.
10.  If len + insertCount - actualDeleteCount > 253 - 1, throw a TypeError exception.
11.  Let A be ? [ArraySpeciesCreate](https://262.ecma-international.org/12.0/#sec-arrayspeciescreate)(O, actualDeleteCount).
12.  Let k be 0.
13.  Repeat, while k < actualDeleteCount,
    1.  Let from be ! [ToString](https://262.ecma-international.org/12.0/#sec-tostring)([𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(actualStart + k)).
    2.  Let fromPresent be ? [HasProperty](https://262.ecma-international.org/12.0/#sec-hasproperty)(O, from).
    3.  If fromPresent is true, then
        1.  Let fromValue be ? [Get](https://262.ecma-international.org/12.0/#sec-get-o-p)(O, from).
        2.  Perform ? [CreateDataPropertyOrThrow](https://262.ecma-international.org/12.0/#sec-createdatapropertyorthrow)(A, ! [ToString](https://262.ecma-international.org/12.0/#sec-tostring)([𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(k)), fromValue).
    4.  Set k to k + 1.
14.  Perform ? [Set](https://262.ecma-international.org/12.0/#sec-set-o-p-v-throw)(A, "length", [𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(actualDeleteCount), true).
15.  Let itemCount be the number of elements in items.
16.  If itemCount < actualDeleteCount, then
    1.  Set k to actualStart.
    2.  Repeat, while k < (len - actualDeleteCount),
        1.  Let from be ! [ToString](https://262.ecma-international.org/12.0/#sec-tostring)([𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(k + actualDeleteCount)).
        2.  Let to be ! [ToString](https://262.ecma-international.org/12.0/#sec-tostring)([𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(k + itemCount)).
        3.  Let fromPresent be ? [HasProperty](https://262.ecma-international.org/12.0/#sec-hasproperty)(O, from).
        4.  If fromPresent is true, then
            1.  Let fromValue be ? [Get](https://262.ecma-international.org/12.0/#sec-get-o-p)(O, from).
            2.  Perform ? [Set](https://262.ecma-international.org/12.0/#sec-set-o-p-v-throw)(O, to, fromValue, true).
        5.  Else,
            1.  [Assert](https://262.ecma-international.org/12.0/#assert): fromPresent is false.
            2.  Perform ? [DeletePropertyOrThrow](https://262.ecma-international.org/12.0/#sec-deletepropertyorthrow)(O, to).
        6.  Set k to k + 1.
    3.  Set k to len.
    4.  Repeat, while k > (len - actualDeleteCount + itemCount),
        1.  Perform ? [DeletePropertyOrThrow](https://262.ecma-international.org/12.0/#sec-deletepropertyorthrow)(O, ! [ToString](https://262.ecma-international.org/12.0/#sec-tostring)([𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(k - 1))).
        2.  Set k to k - 1.
17.  Else if itemCount > actualDeleteCount, then
    1.  Set k to (len - actualDeleteCount).
    2.  Repeat, while k > actualStart,
        1.  Let from be ! [ToString](https://262.ecma-international.org/12.0/#sec-tostring)([𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(k + actualDeleteCount - 1)).
        2.  Let to be ! [ToString](https://262.ecma-international.org/12.0/#sec-tostring)([𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(k + itemCount - 1)).
        3.  Let fromPresent be ? [HasProperty](https://262.ecma-international.org/12.0/#sec-hasproperty)(O, from).
        4.  If fromPresent is true, then
            1.  Let fromValue be ? [Get](https://262.ecma-international.org/12.0/#sec-get-o-p)(O, from).
            2.  Perform ? [Set](https://262.ecma-international.org/12.0/#sec-set-o-p-v-throw)(O, to, fromValue, true).
        5.  Else,
            1.  [Assert](https://262.ecma-international.org/12.0/#assert): fromPresent is false.
            2.  Perform ? [DeletePropertyOrThrow](https://262.ecma-international.org/12.0/#sec-deletepropertyorthrow)(O, to).
        6.  Set k to k - 1.
18.  Set k to actualStart.
19.  For each element E of items, do
    1.  Perform ? [Set](https://262.ecma-international.org/12.0/#sec-set-o-p-v-throw)(O, ! [ToString](https://262.ecma-international.org/12.0/#sec-tostring)([𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(k)), E, true).
    2.  Set k to k + 1.
20.  Perform ? [Set](https://262.ecma-international.org/12.0/#sec-set-o-p-v-throw)(O, "length", [𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(len - actualDeleteCount + itemCount), true).
21.  Return A.

Note 2

The explicit setting of the "length" property of the result Array in step [20](https://262.ecma-international.org/12.0/#step-array-proto-splice-set-length) was necessary in previous editions of ECMAScript to ensure that its length was correct in situations where the trailing elements of the result Array were not present. Setting "length" became unnecessary starting in ES2015 when the result Array was initialized to its proper length rather than an empty Array but is carried forward to preserve backward compatibility.

Note 3

The `splice` function is intentionally generic; it does not require that its this value be an Array object. Therefore it can be transferred to other kinds of objects for use as a method.

## 23.1.3.29 Array.prototype.toLocaleString ( \[ reserved1 \[ , reserved2 \] \] )

An ECMAScript implementation that includes the ECMA-402 Internationalization API must implement the `Array.prototype.toLocaleString` method as specified in the ECMA-402 specification. If an ECMAScript implementation does not include the ECMA-402 API the following specification of the `toLocaleString` method is used.

Note 1

The first edition of ECMA-402 did not include a replacement specification for the `Array.prototype.toLocaleString` method.

The meanings of the optional parameters to this method are defined in the ECMA-402 specification; implementations that do not include ECMA-402 support must not use those parameter positions for anything else.

The following steps are taken:

1.  Let array be ? [ToObject](https://262.ecma-international.org/12.0/#sec-toobject)(this value).
2.  Let len be ? [LengthOfArrayLike](https://262.ecma-international.org/12.0/#sec-lengthofarraylike)(array).
3.  Let separator be the String value for the list-separator String appropriate for the [host environment](https://262.ecma-international.org/12.0/#host-environment)'s current locale (this is derived in an [implementation-defined](https://262.ecma-international.org/12.0/#implementation-defined) way).
4.  Let R be the empty String.
5.  Let k be 0.
6.  Repeat, while k < len,
    1.  If k > 0, then
        1.  Set R to the [string-concatenation](https://262.ecma-international.org/12.0/#string-concatenation) of R and separator.
    2.  Let nextElement be ? [Get](https://262.ecma-international.org/12.0/#sec-get-o-p)(array, ! [ToString](https://262.ecma-international.org/12.0/#sec-tostring)([𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(k))).
    3.  If nextElement is not undefined or null, then
        1.  Let S be ? [ToString](https://262.ecma-international.org/12.0/#sec-tostring)(? [Invoke](https://262.ecma-international.org/12.0/#sec-invoke)(nextElement, "toLocaleString")).
        2.  Set R to the [string-concatenation](https://262.ecma-international.org/12.0/#string-concatenation) of R and S.
    4.  Set k to k + 1.
7.  Return R.

Note 2

The elements of the array are converted to Strings using their `toLocaleString` methods, and these Strings are then concatenated, separated by occurrences of a separator String that has been derived in an [implementation-defined](https://262.ecma-international.org/12.0/#implementation-defined) locale-specific way. The result of calling this function is intended to be analogous to the result of `toString`, except that the result of this function is intended to be locale-specific.

Note 3

The `toLocaleString` function is intentionally generic; it does not require that its this value be an Array object. Therefore it can be transferred to other kinds of objects for use as a method.

## 23.1.3.30 Array.prototype.toString ( )

When the `toString` method is called, the following steps are taken:

1.  Let array be ? [ToObject](https://262.ecma-international.org/12.0/#sec-toobject)(this value).
2.  Let func be ? [Get](https://262.ecma-international.org/12.0/#sec-get-o-p)(array, "join").
3.  If [IsCallable](https://262.ecma-international.org/12.0/#sec-iscallable)(func) is false, set func to the intrinsic function %Object.prototype.toString%.
4.  Return ? [Call](https://262.ecma-international.org/12.0/#sec-call)(func, array).

Note

The `toString` function is intentionally generic; it does not require that its this value be an Array object. Therefore it can be transferred to other kinds of objects for use as a method.

## 23.1.3.31 Array.prototype.unshift ( ...items )

Note 1

The arguments are prepended to the start of the array, such that their order within the array is the same as the order in which they appear in the argument list.

When the `unshift` method is called with zero or more arguments item1, item2, etc., the following steps are taken:

1.  Let O be ? [ToObject](https://262.ecma-international.org/12.0/#sec-toobject)(this value).
2.  Let len be ? [LengthOfArrayLike](https://262.ecma-international.org/12.0/#sec-lengthofarraylike)(O).
3.  Let argCount be the number of elements in items.
4.  If argCount > 0, then
    1.  If len + argCount > 253 - 1, throw a TypeError exception.
    2.  Let k be len.
    3.  Repeat, while k > 0,
        1.  Let from be ! [ToString](https://262.ecma-international.org/12.0/#sec-tostring)([𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(k - 1)).
        2.  Let to be ! [ToString](https://262.ecma-international.org/12.0/#sec-tostring)([𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(k + argCount - 1)).
        3.  Let fromPresent be ? [HasProperty](https://262.ecma-international.org/12.0/#sec-hasproperty)(O, from).
        4.  If fromPresent is true, then
            1.  Let fromValue be ? [Get](https://262.ecma-international.org/12.0/#sec-get-o-p)(O, from).
            2.  Perform ? [Set](https://262.ecma-international.org/12.0/#sec-set-o-p-v-throw)(O, to, fromValue, true).
        5.  Else,
            1.  [Assert](https://262.ecma-international.org/12.0/#assert): fromPresent is false.
            2.  Perform ? [DeletePropertyOrThrow](https://262.ecma-international.org/12.0/#sec-deletepropertyorthrow)(O, to).
        6.  Set k to k - 1.
    4.  Let j be +0𝔽.
    5.  For each element E of items, do
        1.  Perform ? [Set](https://262.ecma-international.org/12.0/#sec-set-o-p-v-throw)(O, ! [ToString](https://262.ecma-international.org/12.0/#sec-tostring)(j), E, true).
        2.  Set j to j + 1𝔽.
5.  Perform ? [Set](https://262.ecma-international.org/12.0/#sec-set-o-p-v-throw)(O, "length", [𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(len + argCount), true).
6.  Return [𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(len + argCount).

The "length" property of the `unshift` method is 1𝔽.

Note 2

The `unshift` function is intentionally generic; it does not require that its this value be an Array object. Therefore it can be transferred to other kinds of objects for use as a method.

## 23.1.3.32 Array.prototype.values ( )

The following steps are taken:

1.  Let O be ? [ToObject](https://262.ecma-international.org/12.0/#sec-toobject)(this value).
2.  Return [CreateArrayIterator](https://262.ecma-international.org/12.0/#sec-createarrayiterator)(O, value).

## 23.1.3.33 Array.prototype \[ @@iterator \] ( )

The initial value of the [@@iterator](https://262.ecma-international.org/12.0/#sec-well-known-symbols) property is the same [function object](https://262.ecma-international.org/12.0/#function-object) as the initial value of the `Array.prototype.values` property.

## 23.1.3.34 Array.prototype \[ @@unscopables \]

The initial value of the [@@unscopables](https://262.ecma-international.org/12.0/#sec-well-known-symbols) [data property](https://262.ecma-international.org/12.0/#sec-object-type) is an object created by the following steps:

1.  Let unscopableList be ! [OrdinaryObjectCreate](https://262.ecma-international.org/12.0/#sec-ordinaryobjectcreate)(null).
2.  Perform ! [CreateDataPropertyOrThrow](https://262.ecma-international.org/12.0/#sec-createdatapropertyorthrow)(unscopableList, "copyWithin", true).
3.  Perform ! [CreateDataPropertyOrThrow](https://262.ecma-international.org/12.0/#sec-createdatapropertyorthrow)(unscopableList, "entries", true).
4.  Perform ! [CreateDataPropertyOrThrow](https://262.ecma-international.org/12.0/#sec-createdatapropertyorthrow)(unscopableList, "fill", true).
5.  Perform ! [CreateDataPropertyOrThrow](https://262.ecma-international.org/12.0/#sec-createdatapropertyorthrow)(unscopableList, "find", true).
6.  Perform ! [CreateDataPropertyOrThrow](https://262.ecma-international.org/12.0/#sec-createdatapropertyorthrow)(unscopableList, "findIndex", true).
7.  Perform ! [CreateDataPropertyOrThrow](https://262.ecma-international.org/12.0/#sec-createdatapropertyorthrow)(unscopableList, "flat", true).
8.  Perform ! [CreateDataPropertyOrThrow](https://262.ecma-international.org/12.0/#sec-createdatapropertyorthrow)(unscopableList, "flatMap", true).
9.  Perform ! [CreateDataPropertyOrThrow](https://262.ecma-international.org/12.0/#sec-createdatapropertyorthrow)(unscopableList, "includes", true).
10.  Perform ! [CreateDataPropertyOrThrow](https://262.ecma-international.org/12.0/#sec-createdatapropertyorthrow)(unscopableList, "keys", true).
11.  Perform ! [CreateDataPropertyOrThrow](https://262.ecma-international.org/12.0/#sec-createdatapropertyorthrow)(unscopableList, "values", true).
12.  Return unscopableList.

This property has the attributes { \[\[Writable\]\]: false, \[\[Enumerable\]\]: false, \[\[Configurable\]\]: true }.

Note

The own property names of this object are property names that were not included as standard properties of `Array.prototype` prior to the ECMAScript 2015 specification. These names are ignored for `with` statement binding purposes in order to preserve the behaviour of existing code that might use one of these names as a binding in an outer scope that is shadowed by a `with` statement whose binding object is an Array object.

## 23.1.4 Properties of Array Instances

Array instances are Array exotic objects and have the internal methods specified for such objects. Array instances inherit properties from the [Array prototype object](https://262.ecma-international.org/12.0/#sec-properties-of-the-array-prototype-object).

Array instances have a "length" property, and a set of enumerable properties with [array index](https://262.ecma-international.org/12.0/#array-index) names.

## 23.1.4.1 length

The "length" property of an Array instance is a [data property](https://262.ecma-international.org/12.0/#sec-object-type) whose value is always numerically greater than the name of every configurable own property whose name is an [array index](https://262.ecma-international.org/12.0/#array-index).

The "length" property initially has the attributes { \[\[Writable\]\]: true, \[\[Enumerable\]\]: false, \[\[Configurable\]\]: false }.

Note

Reducing the value of the "length" property has the side-effect of deleting own array elements whose [array index](https://262.ecma-international.org/12.0/#array-index) is between the old and new length values. However, non-configurable properties can not be deleted. Attempting to set the "length" property of an Array object to a value that is numerically less than or equal to the largest numeric own [property name](https://262.ecma-international.org/12.0/#property-name) of an existing non-configurable [array-indexed](https://262.ecma-international.org/12.0/#array-index) property of the array will result in the length being set to a numeric value that is one greater than that non-configurable numeric own [property name](https://262.ecma-international.org/12.0/#property-name). See [10.4.2.1](https://262.ecma-international.org/12.0/#sec-array-exotic-objects-defineownproperty-p-desc).

## 23.1.5 Array Iterator Objects

An Array Iterator is an object, that represents a specific iteration over some specific Array instance object. There is not a named [constructor](https://262.ecma-international.org/12.0/#constructor) for Array Iterator objects. Instead, Array iterator objects are created by calling certain methods of Array instance objects.

## 23.1.5.1 CreateArrayIterator ( array, kind )

The abstract operation CreateArrayIterator takes arguments array and kind. This operation is used to create iterator objects for Array methods that return such iterators. It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(array) is Object.
2.  [Assert](https://262.ecma-international.org/12.0/#assert): kind is key+value, key, or value.
3.  Let closure be a new [Abstract Closure](https://262.ecma-international.org/12.0/#sec-abstract-closure) with no parameters that captures kind and array and performs the following steps when called:
    1.  Let index be 0.
    2.  Repeat,
        1.  If array has a \[\[TypedArrayName\]\] internal slot, then
            1.  If [IsDetachedBuffer](https://262.ecma-international.org/12.0/#sec-isdetachedbuffer)(array.\[\[ViewedArrayBuffer\]\]) is true, throw a TypeError exception.
            2.  Let len be array.\[\[ArrayLength\]\].
        2.  Else,
            1.  Let len be ? [LengthOfArrayLike](https://262.ecma-international.org/12.0/#sec-lengthofarraylike)(array).
        3.  If index ≥ len, return undefined.
        4.  If kind is key, perform ? [Yield](https://262.ecma-international.org/12.0/#sec-yield)([𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(index)).
        5.  Else,
            1.  Let elementKey be ! [ToString](https://262.ecma-international.org/12.0/#sec-tostring)([𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(index)).
            2.  Let elementValue be ? [Get](https://262.ecma-international.org/12.0/#sec-get-o-p)(array, elementKey).
            3.  If kind is value, perform ? [Yield](https://262.ecma-international.org/12.0/#sec-yield)(elementValue).
            4.  Else,
                1.  [Assert](https://262.ecma-international.org/12.0/#assert): kind is key+value.
                2.  Perform ? [Yield](https://262.ecma-international.org/12.0/#sec-yield)(! [CreateArrayFromList](https://262.ecma-international.org/12.0/#sec-createarrayfromlist)(« [𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(index), elementValue »)).
        6.  Set index to index + 1.
4.  Return ! [CreateIteratorFromClosure](https://262.ecma-international.org/12.0/#sec-createiteratorfromclosure)(closure, "%ArrayIteratorPrototype%", [%ArrayIteratorPrototype%](https://262.ecma-international.org/12.0/#sec-%arrayiteratorprototype%-object)).

## 23.1.5.2 The %ArrayIteratorPrototype% Object

The %ArrayIteratorPrototype% object:

-   has properties that are inherited by all Array Iterator Objects.
-   is an [ordinary object](https://262.ecma-international.org/12.0/#ordinary-object).
-   has a \[\[Prototype\]\] internal slot whose value is [%IteratorPrototype%](https://262.ecma-international.org/12.0/#sec-%iteratorprototype%-object).
-   has the following properties:

## 23.1.5.2.1 %ArrayIteratorPrototype%.next ( )

1.  Return ? [GeneratorResume](https://262.ecma-international.org/12.0/#sec-generatorresume)(this value, empty, "%ArrayIteratorPrototype%").

## 23.1.5.2.2 %ArrayIteratorPrototype% \[ @@toStringTag \]

The initial value of the [@@toStringTag](https://262.ecma-international.org/12.0/#sec-well-known-symbols) property is the String value "Array Iterator".

This property has the attributes { \[\[Writable\]\]: false, \[\[Enumerable\]\]: false, \[\[Configurable\]\]: true }.

## 23.2 TypedArray Objects

TypedArray objects present an array-like view of an underlying binary data buffer ([25.1](https://262.ecma-international.org/12.0/#sec-arraybuffer-objects)). A TypedArray element type is the underlying binary scalar data type that all elements of a TypedArray instance have. There is a distinct TypedArray [constructor](https://262.ecma-international.org/12.0/#constructor), listed in [Table 60](https://262.ecma-international.org/12.0/#table-the-typedarray-constructors), for each of the supported element types. Each [constructor](https://262.ecma-international.org/12.0/#constructor) in [Table 60](https://262.ecma-international.org/12.0/#table-the-typedarray-constructors) has a corresponding distinct prototype object.

Table 60: The TypedArray Constructors

| [Constructor](https://262.ecma-international.org/12.0/#constructor) Name and Intrinsic | Element Type | Element Size | Conversion Operation | Description |
| --- | --- | --- | --- | --- |
| Int8Array  
%Int8Array% | Int8 | 1 | [ToInt8](https://262.ecma-international.org/12.0/#sec-toint8) | 8-bit two's complement signed [integer](https://262.ecma-international.org/12.0/#integer) |
| Uint8Array  
%Uint8Array% | Uint8 | 1 | [ToUint8](https://262.ecma-international.org/12.0/#sec-touint8) | 8-bit unsigned [integer](https://262.ecma-international.org/12.0/#integer) |
| Uint8ClampedArray  
%Uint8ClampedArray% | Uint8C | 1 | [ToUint8Clamp](https://262.ecma-international.org/12.0/#sec-touint8clamp) | 8-bit unsigned [integer](https://262.ecma-international.org/12.0/#integer) (clamped conversion) |
| Int16Array  
%Int16Array% | Int16 | 2 | [ToInt16](https://262.ecma-international.org/12.0/#sec-toint16) | 16-bit two's complement signed [integer](https://262.ecma-international.org/12.0/#integer) |
| Uint16Array  
%Uint16Array% | Uint16 | 2 | [ToUint16](https://262.ecma-international.org/12.0/#sec-touint16) | 16-bit unsigned [integer](https://262.ecma-international.org/12.0/#integer) |
| Int32Array  
%Int32Array% | Int32 | 4 | [ToInt32](https://262.ecma-international.org/12.0/#sec-toint32) | 32-bit two's complement signed [integer](https://262.ecma-international.org/12.0/#integer) |
| Uint32Array  
%Uint32Array% | Uint32 | 4 | [ToUint32](https://262.ecma-international.org/12.0/#sec-touint32) | 32-bit unsigned [integer](https://262.ecma-international.org/12.0/#integer) |
| BigInt64Array  
%BigInt64Array% | BigInt64 | 8 | [ToBigInt64](https://262.ecma-international.org/12.0/#sec-tobigint64) | 64-bit two's complement signed [integer](https://262.ecma-international.org/12.0/#integer) |
| BigUint64Array  
%BigUint64Array% | BigUint64 | 8 | [ToBigUint64](https://262.ecma-international.org/12.0/#sec-tobiguint64) | 64-bit unsigned [integer](https://262.ecma-international.org/12.0/#integer) |
| Float32Array  
%Float32Array% | Float32 | 4 |  | 32-bit IEEE floating point |
| Float64Array  
%Float64Array% | Float64 | 8 |  | 64-bit IEEE floating point |

In the definitions below, references to TypedArray should be replaced with the appropriate [constructor](https://262.ecma-international.org/12.0/#constructor) name from the above table.

## 23.2.1 The %TypedArray% Intrinsic Object

The %TypedArray% intrinsic object:

-   is a [constructor](https://262.ecma-international.org/12.0/#constructor) [function object](https://262.ecma-international.org/12.0/#function-object) that all of the TypedArray [constructor](https://262.ecma-international.org/12.0/#constructor) objects inherit from.
-   along with its corresponding prototype object, provides common properties that are inherited by all TypedArray constructors and their instances.
-   does not have a global name or appear as a property of the [global object](https://262.ecma-international.org/12.0/#sec-global-object).
-   acts as the abstract superclass of the various TypedArray constructors.
-   will throw an error when invoked, because it is an abstract class [constructor](https://262.ecma-international.org/12.0/#constructor). The TypedArray constructors do not perform a `super` call to it.

## 23.2.1.1 %TypedArray% ( )

The [%TypedArray%](https://262.ecma-international.org/12.0/#sec-%typedarray%-intrinsic-object) [constructor](https://262.ecma-international.org/12.0/#constructor) performs the following steps:

1.  Throw a TypeError exception.

The "length" property of the [%TypedArray%](https://262.ecma-international.org/12.0/#sec-%typedarray%-intrinsic-object) [constructor](https://262.ecma-international.org/12.0/#constructor) function is +0𝔽.

## 23.2.2 Properties of the %TypedArray% Intrinsic Object

The [%TypedArray%](https://262.ecma-international.org/12.0/#sec-%typedarray%-intrinsic-object) intrinsic object:

-   has a \[\[Prototype\]\] internal slot whose value is [%Function.prototype%](https://262.ecma-international.org/12.0/#sec-properties-of-the-function-prototype-object).
-   has a "name" property whose value is "TypedArray".
-   has the following properties:

## 23.2.2.1 %TypedArray%.from ( source \[ , mapfn \[ , thisArg \] \] )

When the `from` method is called with argument source, and optional arguments mapfn and thisArg, the following steps are taken:

1.  Let C be the this value.
2.  If [IsConstructor](https://262.ecma-international.org/12.0/#sec-isconstructor)(C) is false, throw a TypeError exception.
3.  If mapfn is undefined, let mapping be false.
4.  Else,
    1.  If [IsCallable](https://262.ecma-international.org/12.0/#sec-iscallable)(mapfn) is false, throw a TypeError exception.
    2.  Let mapping be true.
5.  Let usingIterator be ? [GetMethod](https://262.ecma-international.org/12.0/#sec-getmethod)(source, [@@iterator](https://262.ecma-international.org/12.0/#sec-well-known-symbols)).
6.  If usingIterator is not undefined, then
    1.  Let values be ? [IterableToList](https://262.ecma-international.org/12.0/#sec-iterabletolist)(source, usingIterator).
    2.  Let len be the number of elements in values.
    3.  Let targetObj be ? [TypedArrayCreate](https://262.ecma-international.org/12.0/#typedarray-create)(C, « [𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(len) »).
    4.  Let k be 0.
    5.  Repeat, while k < len,
        1.  Let Pk be ! [ToString](https://262.ecma-international.org/12.0/#sec-tostring)([𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(k)).
        2.  Let kValue be the first element of values and remove that element from values.
        3.  If mapping is true, then
            1.  Let mappedValue be ? [Call](https://262.ecma-international.org/12.0/#sec-call)(mapfn, thisArg, « kValue, [𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(k) »).
        4.  Else, let mappedValue be kValue.
        5.  Perform ? [Set](https://262.ecma-international.org/12.0/#sec-set-o-p-v-throw)(targetObj, Pk, mappedValue, true).
        6.  Set k to k + 1.
    6.  [Assert](https://262.ecma-international.org/12.0/#assert): values is now an empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).
    7.  Return targetObj.
7.  NOTE: source is not an Iterable so assume it is already an [array-like object](https://262.ecma-international.org/12.0/#sec-lengthofarraylike).
8.  Let arrayLike be ! [ToObject](https://262.ecma-international.org/12.0/#sec-toobject)(source).
9.  Let len be ? [LengthOfArrayLike](https://262.ecma-international.org/12.0/#sec-lengthofarraylike)(arrayLike).
10.  Let targetObj be ? [TypedArrayCreate](https://262.ecma-international.org/12.0/#typedarray-create)(C, « [𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(len) »).
11.  Let k be 0.
12.  Repeat, while k < len,
    1.  Let Pk be ! [ToString](https://262.ecma-international.org/12.0/#sec-tostring)([𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(k)).
    2.  Let kValue be ? [Get](https://262.ecma-international.org/12.0/#sec-get-o-p)(arrayLike, Pk).
    3.  If mapping is true, then
        1.  Let mappedValue be ? [Call](https://262.ecma-international.org/12.0/#sec-call)(mapfn, thisArg, « kValue, [𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(k) »).
    4.  Else, let mappedValue be kValue.
    5.  Perform ? [Set](https://262.ecma-international.org/12.0/#sec-set-o-p-v-throw)(targetObj, Pk, mappedValue, true).
    6.  Set k to k + 1.
13.  Return targetObj.

## 23.2.2.2 %TypedArray%.of ( ...items )

When the `of` method is called with any number of arguments, the following steps are taken:

1.  Let len be the number of elements in items.
2.  Let C be the this value.
3.  If [IsConstructor](https://262.ecma-international.org/12.0/#sec-isconstructor)(C) is false, throw a TypeError exception.
4.  Let newObj be ? [TypedArrayCreate](https://262.ecma-international.org/12.0/#typedarray-create)(C, « [𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(len) »).
5.  Let k be 0.
6.  Repeat, while k < len,
    1.  Let kValue be items\[k\].
    2.  Let Pk be ! [ToString](https://262.ecma-international.org/12.0/#sec-tostring)([𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(k)).
    3.  Perform ? [Set](https://262.ecma-international.org/12.0/#sec-set-o-p-v-throw)(newObj, Pk, kValue, true).
    4.  Set k to k + 1.
7.  Return newObj.

## 23.2.2.3 %TypedArray%.prototype

The initial value of [%TypedArray%](https://262.ecma-international.org/12.0/#sec-%typedarray%-intrinsic-object)`.prototype` is the [%TypedArray% prototype object](https://262.ecma-international.org/12.0/#sec-properties-of-the-%typedarrayprototype%-object).

This property has the attributes { \[\[Writable\]\]: false, \[\[Enumerable\]\]: false, \[\[Configurable\]\]: false }.

## 23.2.2.4 get %TypedArray% \[ @@species \]

[%TypedArray%](https://262.ecma-international.org/12.0/#sec-%typedarray%-intrinsic-object)`[@@species]` is an [accessor property](https://262.ecma-international.org/12.0/#sec-object-type) whose set accessor function is undefined. Its get accessor function performs the following steps:

1.  Return the this value.

The value of the "name" property of this function is "get \[Symbol.species\]".

Note

[%TypedArray.prototype%](https://262.ecma-international.org/12.0/#sec-properties-of-the-%typedarrayprototype%-object) methods normally use their this value's [constructor](https://262.ecma-international.org/12.0/#constructor) to create a derived object. However, a subclass [constructor](https://262.ecma-international.org/12.0/#constructor) may over-ride that default behaviour by redefining its [@@species](https://262.ecma-international.org/12.0/#sec-well-known-symbols) property.

## 23.2.3 Properties of the %TypedArray% Prototype Object

The %TypedArray% prototype object:

-   has a \[\[Prototype\]\] internal slot whose value is [%Object.prototype%](https://262.ecma-international.org/12.0/#sec-properties-of-the-object-prototype-object).
-   is %TypedArray.prototype%.
-   is an [ordinary object](https://262.ecma-international.org/12.0/#ordinary-object).
-   does not have a \[\[ViewedArrayBuffer\]\] or any other of the internal slots that are specific to TypedArray instance objects.

## 23.2.3.1 get %TypedArray%.prototype.buffer

[%TypedArray%](https://262.ecma-international.org/12.0/#sec-%typedarray%-intrinsic-object)`.prototype.buffer` is an [accessor property](https://262.ecma-international.org/12.0/#sec-object-type) whose set accessor function is undefined. Its get accessor function performs the following steps:

1.  Let O be the this value.
2.  Perform ? [RequireInternalSlot](https://262.ecma-international.org/12.0/#sec-requireinternalslot)(O, \[\[TypedArrayName\]\]).
3.  [Assert](https://262.ecma-international.org/12.0/#assert): O has a \[\[ViewedArrayBuffer\]\] internal slot.
4.  Let buffer be O.\[\[ViewedArrayBuffer\]\].
5.  Return buffer.

## 23.2.3.2 get %TypedArray%.prototype.byteLength

[%TypedArray%](https://262.ecma-international.org/12.0/#sec-%typedarray%-intrinsic-object)`.prototype.byteLength` is an [accessor property](https://262.ecma-international.org/12.0/#sec-object-type) whose set accessor function is undefined. Its get accessor function performs the following steps:

1.  Let O be the this value.
2.  Perform ? [RequireInternalSlot](https://262.ecma-international.org/12.0/#sec-requireinternalslot)(O, \[\[TypedArrayName\]\]).
3.  [Assert](https://262.ecma-international.org/12.0/#assert): O has a \[\[ViewedArrayBuffer\]\] internal slot.
4.  Let buffer be O.\[\[ViewedArrayBuffer\]\].
5.  If [IsDetachedBuffer](https://262.ecma-international.org/12.0/#sec-isdetachedbuffer)(buffer) is true, return +0𝔽.
6.  Let size be O.\[\[ByteLength\]\].
7.  Return [𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(size).

## 23.2.3.3 get %TypedArray%.prototype.byteOffset

[%TypedArray%](https://262.ecma-international.org/12.0/#sec-%typedarray%-intrinsic-object)`.prototype.byteOffset` is an [accessor property](https://262.ecma-international.org/12.0/#sec-object-type) whose set accessor function is undefined. Its get accessor function performs the following steps:

1.  Let O be the this value.
2.  Perform ? [RequireInternalSlot](https://262.ecma-international.org/12.0/#sec-requireinternalslot)(O, \[\[TypedArrayName\]\]).
3.  [Assert](https://262.ecma-international.org/12.0/#assert): O has a \[\[ViewedArrayBuffer\]\] internal slot.
4.  Let buffer be O.\[\[ViewedArrayBuffer\]\].
5.  If [IsDetachedBuffer](https://262.ecma-international.org/12.0/#sec-isdetachedbuffer)(buffer) is true, return +0𝔽.
6.  Let offset be O.\[\[ByteOffset\]\].
7.  Return [𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(offset).

## 23.2.3.4 %TypedArray%.prototype.constructor

The initial value of [%TypedArray%](https://262.ecma-international.org/12.0/#sec-%typedarray%-intrinsic-object)`.prototype.constructor` is the [%TypedArray%](https://262.ecma-international.org/12.0/#sec-%typedarray%-intrinsic-object) intrinsic object.

## 23.2.3.5 %TypedArray%.prototype.copyWithin ( target, start \[ , end \] )

The interpretation and use of the arguments of [%TypedArray%](https://262.ecma-international.org/12.0/#sec-%typedarray%-intrinsic-object)`.prototype.copyWithin` are the same as for `Array.prototype.copyWithin` as defined in [23.1.3.3](https://262.ecma-international.org/12.0/#sec-array.prototype.copywithin).

The following steps are taken:

1.  Let O be the this value.
2.  Perform ? [ValidateTypedArray](https://262.ecma-international.org/12.0/#sec-validatetypedarray)(O).
3.  Let len be O.\[\[ArrayLength\]\].
4.  Let relativeTarget be ? [ToIntegerOrInfinity](https://262.ecma-international.org/12.0/#sec-tointegerorinfinity)(target).
5.  If relativeTarget is -∞, let to be 0.
6.  Else if relativeTarget < 0, let to be [max](https://262.ecma-international.org/12.0/#eqn-max)(len + relativeTarget, 0).
7.  Else, let to be [min](https://262.ecma-international.org/12.0/#eqn-min)(relativeTarget, len).
8.  Let relativeStart be ? [ToIntegerOrInfinity](https://262.ecma-international.org/12.0/#sec-tointegerorinfinity)(start).
9.  If relativeStart is -∞, let from be 0.
10.  Else if relativeStart < 0, let from be [max](https://262.ecma-international.org/12.0/#eqn-max)(len + relativeStart, 0).
11.  Else, let from be [min](https://262.ecma-international.org/12.0/#eqn-min)(relativeStart, len).
12.  If end is undefined, let relativeEnd be len; else let relativeEnd be ? [ToIntegerOrInfinity](https://262.ecma-international.org/12.0/#sec-tointegerorinfinity)(end).
13.  If relativeEnd is -∞, let final be 0.
14.  Else if relativeEnd < 0, let final be [max](https://262.ecma-international.org/12.0/#eqn-max)(len + relativeEnd, 0).
15.  Else, let final be [min](https://262.ecma-international.org/12.0/#eqn-min)(relativeEnd, len).
16.  Let count be [min](https://262.ecma-international.org/12.0/#eqn-min)(final - from, len - to).
17.  If count > 0, then
    1.  NOTE: The copying must be performed in a manner that preserves the bit-level encoding of the source data.
    2.  Let buffer be O.\[\[ViewedArrayBuffer\]\].
    3.  If [IsDetachedBuffer](https://262.ecma-international.org/12.0/#sec-isdetachedbuffer)(buffer) is true, throw a TypeError exception.
    4.  Let typedArrayName be the String value of O.\[\[TypedArrayName\]\].
    5.  Let elementSize be the Element Size value specified in [Table 60](https://262.ecma-international.org/12.0/#table-the-typedarray-constructors) for typedArrayName.
    6.  Let byteOffset be O.\[\[ByteOffset\]\].
    7.  Let toByteIndex be to × elementSize + byteOffset.
    8.  Let fromByteIndex be from × elementSize + byteOffset.
    9.  Let countBytes be count × elementSize.
    10.  If fromByteIndex < toByteIndex and toByteIndex < fromByteIndex + countBytes, then
        1.  Let direction be -1.
        2.  Set fromByteIndex to fromByteIndex + countBytes - 1.
        3.  Set toByteIndex to toByteIndex + countBytes - 1.
    11.  Else,
        1.  Let direction be 1.
    12.  Repeat, while countBytes > 0,
        1.  Let value be [GetValueFromBuffer](https://262.ecma-international.org/12.0/#sec-getvaluefrombuffer)(buffer, fromByteIndex, Uint8, true, Unordered).
        2.  Perform [SetValueInBuffer](https://262.ecma-international.org/12.0/#sec-setvalueinbuffer)(buffer, toByteIndex, Uint8, value, true, Unordered).
        3.  Set fromByteIndex to fromByteIndex + direction.
        4.  Set toByteIndex to toByteIndex + direction.
        5.  Set countBytes to countBytes - 1.
18.  Return O.

## 23.2.3.6 %TypedArray%.prototype.entries ( )

The following steps are taken:

1.  Let O be the this value.
2.  Perform ? [ValidateTypedArray](https://262.ecma-international.org/12.0/#sec-validatetypedarray)(O).
3.  Return [CreateArrayIterator](https://262.ecma-international.org/12.0/#sec-createarrayiterator)(O, key+value).

## 23.2.3.7 %TypedArray%.prototype.every ( callbackfn \[ , thisArg \] )

The interpretation and use of the arguments of [%TypedArray%](https://262.ecma-international.org/12.0/#sec-%typedarray%-intrinsic-object)`.prototype.every` are the same as for `Array.prototype.every` as defined in [23.1.3.5](https://262.ecma-international.org/12.0/#sec-array.prototype.every).

When the `every` method is called with one or two arguments, the following steps are taken:

1.  Let O be the this value.
2.  Perform ? [ValidateTypedArray](https://262.ecma-international.org/12.0/#sec-validatetypedarray)(O).
3.  Let len be O.\[\[ArrayLength\]\].
4.  If [IsCallable](https://262.ecma-international.org/12.0/#sec-iscallable)(callbackfn) is false, throw a TypeError exception.
5.  Let k be 0.
6.  Repeat, while k < len,
    1.  Let Pk be ! [ToString](https://262.ecma-international.org/12.0/#sec-tostring)([𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(k)).
    2.  Let kValue be ! [Get](https://262.ecma-international.org/12.0/#sec-get-o-p)(O, Pk).
    3.  Let testResult be ! [ToBoolean](https://262.ecma-international.org/12.0/#sec-toboolean)(? [Call](https://262.ecma-international.org/12.0/#sec-call)(callbackfn, thisArg, « kValue, [𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(k), O »)).
    4.  If testResult is false, return false.
    5.  Set k to k + 1.
7.  Return true.

This function is not generic. The this value must be an object with a \[\[TypedArrayName\]\] internal slot.

## 23.2.3.8 %TypedArray%.prototype.fill ( value \[ , start \[ , end \] \] )

The interpretation and use of the arguments of [%TypedArray%](https://262.ecma-international.org/12.0/#sec-%typedarray%-intrinsic-object)`.prototype.fill` are the same as for `Array.prototype.fill` as defined in [23.1.3.6](https://262.ecma-international.org/12.0/#sec-array.prototype.fill).

The following steps are taken:

1.  Let O be the this value.
2.  Perform ? [ValidateTypedArray](https://262.ecma-international.org/12.0/#sec-validatetypedarray)(O).
3.  Let len be O.\[\[ArrayLength\]\].
4.  If O.\[\[ContentType\]\] is BigInt, set value to ? [ToBigInt](https://262.ecma-international.org/12.0/#sec-tobigint)(value).
5.  Otherwise, set value to ? [ToNumber](https://262.ecma-international.org/12.0/#sec-tonumber)(value).
6.  Let relativeStart be ? [ToIntegerOrInfinity](https://262.ecma-international.org/12.0/#sec-tointegerorinfinity)(start).
7.  If relativeStart is -∞, let k be 0.
8.  Else if relativeStart < 0, let k be [max](https://262.ecma-international.org/12.0/#eqn-max)(len + relativeStart, 0).
9.  Else, let k be [min](https://262.ecma-international.org/12.0/#eqn-min)(relativeStart, len).
10.  If end is undefined, let relativeEnd be len; else let relativeEnd be ? [ToIntegerOrInfinity](https://262.ecma-international.org/12.0/#sec-tointegerorinfinity)(end).
11.  If relativeEnd is -∞, let final be 0.
12.  Else if relativeEnd < 0, let final be [max](https://262.ecma-international.org/12.0/#eqn-max)(len + relativeEnd, 0).
13.  Else, let final be [min](https://262.ecma-international.org/12.0/#eqn-min)(relativeEnd, len).
14.  If [IsDetachedBuffer](https://262.ecma-international.org/12.0/#sec-isdetachedbuffer)(O.\[\[ViewedArrayBuffer\]\]) is true, throw a TypeError exception.
15.  Repeat, while k < final,
    1.  Let Pk be ! [ToString](https://262.ecma-international.org/12.0/#sec-tostring)([𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(k)).
    2.  Perform ! [Set](https://262.ecma-international.org/12.0/#sec-set-o-p-v-throw)(O, Pk, value, true).
    3.  Set k to k + 1.
16.  Return O.

## 23.2.3.9 %TypedArray%.prototype.filter ( callbackfn \[ , thisArg \] )

The interpretation and use of the arguments of [%TypedArray%](https://262.ecma-international.org/12.0/#sec-%typedarray%-intrinsic-object)`.prototype.filter` are the same as for `Array.prototype.filter` as defined in [23.1.3.7](https://262.ecma-international.org/12.0/#sec-array.prototype.filter).

When the `filter` method is called with one or two arguments, the following steps are taken:

1.  Let O be the this value.
2.  Perform ? [ValidateTypedArray](https://262.ecma-international.org/12.0/#sec-validatetypedarray)(O).
3.  Let len be O.\[\[ArrayLength\]\].
4.  If [IsCallable](https://262.ecma-international.org/12.0/#sec-iscallable)(callbackfn) is false, throw a TypeError exception.
5.  Let kept be a new empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).
6.  Let k be 0.
7.  Let captured be 0.
8.  Repeat, while k < len,
    1.  Let Pk be ! [ToString](https://262.ecma-international.org/12.0/#sec-tostring)([𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(k)).
    2.  Let kValue be ! [Get](https://262.ecma-international.org/12.0/#sec-get-o-p)(O, Pk).
    3.  Let selected be ! [ToBoolean](https://262.ecma-international.org/12.0/#sec-toboolean)(? [Call](https://262.ecma-international.org/12.0/#sec-call)(callbackfn, thisArg, « kValue, [𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(k), O »)).
    4.  If selected is true, then
        1.  Append kValue to the end of kept.
        2.  Set captured to captured + 1.
    5.  Set k to k + 1.
9.  Let A be ? [TypedArraySpeciesCreate](https://262.ecma-international.org/12.0/#typedarray-species-create)(O, « [𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(captured) »).
10.  Let n be 0.
11.  For each element e of kept, do
    1.  Perform ! [Set](https://262.ecma-international.org/12.0/#sec-set-o-p-v-throw)(A, ! [ToString](https://262.ecma-international.org/12.0/#sec-tostring)([𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(n)), e, true).
    2.  Set n to n + 1.
12.  Return A.

This function is not generic. The this value must be an object with a \[\[TypedArrayName\]\] internal slot.

## 23.2.3.10 %TypedArray%.prototype.find ( predicate \[ , thisArg \] )

The interpretation and use of the arguments of [%TypedArray%](https://262.ecma-international.org/12.0/#sec-%typedarray%-intrinsic-object)`.prototype.find` are the same as for `Array.prototype.find` as defined in [23.1.3.8](https://262.ecma-international.org/12.0/#sec-array.prototype.find).

When the `find` method is called with one or two arguments, the following steps are taken:

1.  Let O be the this value.
2.  Perform ? [ValidateTypedArray](https://262.ecma-international.org/12.0/#sec-validatetypedarray)(O).
3.  Let len be O.\[\[ArrayLength\]\].
4.  If [IsCallable](https://262.ecma-international.org/12.0/#sec-iscallable)(predicate) is false, throw a TypeError exception.
5.  Let k be 0.
6.  Repeat, while k < len,
    1.  Let Pk be ! [ToString](https://262.ecma-international.org/12.0/#sec-tostring)([𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(k)).
    2.  Let kValue be ! [Get](https://262.ecma-international.org/12.0/#sec-get-o-p)(O, Pk).
    3.  Let testResult be ! [ToBoolean](https://262.ecma-international.org/12.0/#sec-toboolean)(? [Call](https://262.ecma-international.org/12.0/#sec-call)(predicate, thisArg, « kValue, [𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(k), O »)).
    4.  If testResult is true, return kValue.
    5.  Set k to k + 1.
7.  Return undefined.

This function is not generic. The this value must be an object with a \[\[TypedArrayName\]\] internal slot.

## 23.2.3.11 %TypedArray%.prototype.findIndex ( predicate \[ , thisArg \] )

The interpretation and use of the arguments of [%TypedArray%](https://262.ecma-international.org/12.0/#sec-%typedarray%-intrinsic-object)`.prototype.findIndex` are the same as for `Array.prototype.findIndex` as defined in [23.1.3.9](https://262.ecma-international.org/12.0/#sec-array.prototype.findindex).

When the `findIndex` method is called with one or two arguments, the following steps are taken:

1.  Let O be the this value.
2.  Perform ? [ValidateTypedArray](https://262.ecma-international.org/12.0/#sec-validatetypedarray)(O).
3.  Let len be O.\[\[ArrayLength\]\].
4.  If [IsCallable](https://262.ecma-international.org/12.0/#sec-iscallable)(predicate) is false, throw a TypeError exception.
5.  Let k be 0.
6.  Repeat, while k < len,
    1.  Let Pk be ! [ToString](https://262.ecma-international.org/12.0/#sec-tostring)([𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(k)).
    2.  Let kValue be ! [Get](https://262.ecma-international.org/12.0/#sec-get-o-p)(O, Pk).
    3.  Let testResult be ! [ToBoolean](https://262.ecma-international.org/12.0/#sec-toboolean)(? [Call](https://262.ecma-international.org/12.0/#sec-call)(predicate, thisArg, « kValue, [𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(k), O »)).
    4.  If testResult is true, return [𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(k).
    5.  Set k to k + 1.
7.  Return \-1𝔽.

This function is not generic. The this value must be an object with a \[\[TypedArrayName\]\] internal slot.

## 23.2.3.12 %TypedArray%.prototype.forEach ( callbackfn \[ , thisArg \] )

The interpretation and use of the arguments of [%TypedArray%](https://262.ecma-international.org/12.0/#sec-%typedarray%-intrinsic-object)`.prototype.forEach` are the same as for `Array.prototype.forEach` as defined in [23.1.3.12](https://262.ecma-international.org/12.0/#sec-array.prototype.foreach).

When the `forEach` method is called with one or two arguments, the following steps are taken:

1.  Let O be the this value.
2.  Perform ? [ValidateTypedArray](https://262.ecma-international.org/12.0/#sec-validatetypedarray)(O).
3.  Let len be O.\[\[ArrayLength\]\].
4.  If [IsCallable](https://262.ecma-international.org/12.0/#sec-iscallable)(callbackfn) is false, throw a TypeError exception.
5.  Let k be 0.
6.  Repeat, while k < len,
    1.  Let Pk be ! [ToString](https://262.ecma-international.org/12.0/#sec-tostring)([𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(k)).
    2.  Let kValue be ! [Get](https://262.ecma-international.org/12.0/#sec-get-o-p)(O, Pk).
    3.  Perform ? [Call](https://262.ecma-international.org/12.0/#sec-call)(callbackfn, thisArg, « kValue, [𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(k), O »).
    4.  Set k to k + 1.
7.  Return undefined.

This function is not generic. The this value must be an object with a \[\[TypedArrayName\]\] internal slot.

## 23.2.3.13 %TypedArray%.prototype.includes ( searchElement \[ , fromIndex \] )

The interpretation and use of the arguments of [%TypedArray%](https://262.ecma-international.org/12.0/#sec-%typedarray%-intrinsic-object)`.prototype.includes` are the same as for `Array.prototype.includes` as defined in [23.1.3.13](https://262.ecma-international.org/12.0/#sec-array.prototype.includes).

When the `includes` method is called with one or two arguments, the following steps are taken:

1.  Let O be the this value.
2.  Perform ? [ValidateTypedArray](https://262.ecma-international.org/12.0/#sec-validatetypedarray)(O).
3.  Let len be O.\[\[ArrayLength\]\].
4.  If len is 0, return false.
5.  Let n be ? [ToIntegerOrInfinity](https://262.ecma-international.org/12.0/#sec-tointegerorinfinity)(fromIndex).
6.  [Assert](https://262.ecma-international.org/12.0/#assert): If fromIndex is undefined, then n is 0.
7.  If n is +∞, return false.
8.  Else if n is -∞, set n to 0.
9.  If n ≥ 0, then
    1.  Let k be n.
10.  Else,
    1.  Let k be len + n.
    2.  If k < 0, set k to 0.
11.  Repeat, while k < len,
    1.  Let elementK be ! [Get](https://262.ecma-international.org/12.0/#sec-get-o-p)(O, ! [ToString](https://262.ecma-international.org/12.0/#sec-tostring)([𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(k))).
    2.  If [SameValueZero](https://262.ecma-international.org/12.0/#sec-samevaluezero)(searchElement, elementK) is true, return true.
    3.  Set k to k + 1.
12.  Return false.

This function is not generic. The this value must be an object with a \[\[TypedArrayName\]\] internal slot.

## 23.2.3.14 %TypedArray%.prototype.indexOf ( searchElement \[ , fromIndex \] )

The interpretation and use of the arguments of [%TypedArray%](https://262.ecma-international.org/12.0/#sec-%typedarray%-intrinsic-object)`.prototype.indexOf` are the same as for `Array.prototype.indexOf` as defined in [23.1.3.14](https://262.ecma-international.org/12.0/#sec-array.prototype.indexof).

When the `indexOf` method is called with one or two arguments, the following steps are taken:

1.  Let O be the this value.
2.  Perform ? [ValidateTypedArray](https://262.ecma-international.org/12.0/#sec-validatetypedarray)(O).
3.  Let len be O.\[\[ArrayLength\]\].
4.  If len is 0, return \-1𝔽.
5.  Let n be ? [ToIntegerOrInfinity](https://262.ecma-international.org/12.0/#sec-tointegerorinfinity)(fromIndex).
6.  [Assert](https://262.ecma-international.org/12.0/#assert): If fromIndex is undefined, then n is 0.
7.  If n is +∞, return \-1𝔽.
8.  Else if n is -∞, set n to 0.
9.  If n ≥ 0, then
    1.  Let k be n.
10.  Else,
    1.  Let k be len + n.
    2.  If k < 0, set k to 0.
11.  Repeat, while k < len,
    1.  Let kPresent be ! [HasProperty](https://262.ecma-international.org/12.0/#sec-hasproperty)(O, ! [ToString](https://262.ecma-international.org/12.0/#sec-tostring)([𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(k))).
    2.  If kPresent is true, then
        1.  Let elementK be ! [Get](https://262.ecma-international.org/12.0/#sec-get-o-p)(O, ! [ToString](https://262.ecma-international.org/12.0/#sec-tostring)([𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(k))).
        2.  Let same be the result of performing [Strict Equality Comparison](https://262.ecma-international.org/12.0/#sec-strict-equality-comparison) searchElement === elementK.
        3.  If same is true, return [𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(k).
    3.  Set k to k + 1.
12.  Return \-1𝔽.

This function is not generic. The this value must be an object with a \[\[TypedArrayName\]\] internal slot.

## 23.2.3.15 %TypedArray%.prototype.join ( separator )

The interpretation and use of the arguments of [%TypedArray%](https://262.ecma-international.org/12.0/#sec-%typedarray%-intrinsic-object)`.prototype.join` are the same as for `Array.prototype.join` as defined in [23.1.3.15](https://262.ecma-international.org/12.0/#sec-array.prototype.join).

When the `join` method is called with one argument separator, the following steps are taken:

1.  Let O be the this value.
2.  Perform ? [ValidateTypedArray](https://262.ecma-international.org/12.0/#sec-validatetypedarray)(O).
3.  Let len be O.\[\[ArrayLength\]\].
4.  If separator is undefined, let sep be the single-element String ",".
5.  Else, let sep be ? [ToString](https://262.ecma-international.org/12.0/#sec-tostring)(separator).
6.  Let R be the empty String.
7.  Let k be 0.
8.  Repeat, while k < len,
    1.  If k > 0, set R to the [string-concatenation](https://262.ecma-international.org/12.0/#string-concatenation) of R and sep.
    2.  Let element be ! [Get](https://262.ecma-international.org/12.0/#sec-get-o-p)(O, ! [ToString](https://262.ecma-international.org/12.0/#sec-tostring)([𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(k))).
    3.  If element is undefined, let next be the empty String; otherwise, let next be ! [ToString](https://262.ecma-international.org/12.0/#sec-tostring)(element).
    4.  Set R to the [string-concatenation](https://262.ecma-international.org/12.0/#string-concatenation) of R and next.
    5.  Set k to k + 1.
9.  Return R.

This function is not generic. The this value must be an object with a \[\[TypedArrayName\]\] internal slot.

## 23.2.3.16 %TypedArray%.prototype.keys ( )

The following steps are taken:

1.  Let O be the this value.
2.  Perform ? [ValidateTypedArray](https://262.ecma-international.org/12.0/#sec-validatetypedarray)(O).
3.  Return [CreateArrayIterator](https://262.ecma-international.org/12.0/#sec-createarrayiterator)(O, key).

## 23.2.3.17 %TypedArray%.prototype.lastIndexOf ( searchElement \[ , fromIndex \] )

The interpretation and use of the arguments of [%TypedArray%](https://262.ecma-international.org/12.0/#sec-%typedarray%-intrinsic-object)`.prototype.lastIndexOf` are the same as for `Array.prototype.lastIndexOf` as defined in [23.1.3.17](https://262.ecma-international.org/12.0/#sec-array.prototype.lastindexof).

When the `lastIndexOf` method is called with one or two arguments, the following steps are taken:

1.  Let O be the this value.
2.  Perform ? [ValidateTypedArray](https://262.ecma-international.org/12.0/#sec-validatetypedarray)(O).
3.  Let len be O.\[\[ArrayLength\]\].
4.  If len is 0, return \-1𝔽.
5.  If fromIndex is present, let n be ? [ToIntegerOrInfinity](https://262.ecma-international.org/12.0/#sec-tointegerorinfinity)(fromIndex); else let n be len - 1.
6.  If n is -∞, return \-1𝔽.
7.  If n ≥ 0, then
    1.  Let k be [min](https://262.ecma-international.org/12.0/#eqn-min)(n, len - 1).
8.  Else,
    1.  Let k be len + n.
9.  Repeat, while k ≥ 0,
    1.  Let kPresent be ! [HasProperty](https://262.ecma-international.org/12.0/#sec-hasproperty)(O, ! [ToString](https://262.ecma-international.org/12.0/#sec-tostring)([𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(k))).
    2.  If kPresent is true, then
        1.  Let elementK be ! [Get](https://262.ecma-international.org/12.0/#sec-get-o-p)(O, ! [ToString](https://262.ecma-international.org/12.0/#sec-tostring)([𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(k))).
        2.  Let same be the result of performing [Strict Equality Comparison](https://262.ecma-international.org/12.0/#sec-strict-equality-comparison) searchElement === elementK.
        3.  If same is true, return [𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(k).
    3.  Set k to k - 1.
10.  Return \-1𝔽.

This function is not generic. The this value must be an object with a \[\[TypedArrayName\]\] internal slot.

## 23.2.3.18 get %TypedArray%.prototype.length

[%TypedArray%](https://262.ecma-international.org/12.0/#sec-%typedarray%-intrinsic-object)`.prototype.length` is an [accessor property](https://262.ecma-international.org/12.0/#sec-object-type) whose set accessor function is undefined. Its get accessor function performs the following steps:

1.  Let O be the this value.
2.  Perform ? [RequireInternalSlot](https://262.ecma-international.org/12.0/#sec-requireinternalslot)(O, \[\[TypedArrayName\]\]).
3.  [Assert](https://262.ecma-international.org/12.0/#assert): O has \[\[ViewedArrayBuffer\]\] and \[\[ArrayLength\]\] internal slots.
4.  Let buffer be O.\[\[ViewedArrayBuffer\]\].
5.  If [IsDetachedBuffer](https://262.ecma-international.org/12.0/#sec-isdetachedbuffer)(buffer) is true, return +0𝔽.
6.  Let length be O.\[\[ArrayLength\]\].
7.  Return [𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(length).

This function is not generic. The this value must be an object with a \[\[TypedArrayName\]\] internal slot.

## 23.2.3.19 %TypedArray%.prototype.map ( callbackfn \[ , thisArg \] )

The interpretation and use of the arguments of [%TypedArray%](https://262.ecma-international.org/12.0/#sec-%typedarray%-intrinsic-object)`.prototype.map` are the same as for `Array.prototype.map` as defined in [23.1.3.18](https://262.ecma-international.org/12.0/#sec-array.prototype.map).

When the `map` method is called with one or two arguments, the following steps are taken:

1.  Let O be the this value.
2.  Perform ? [ValidateTypedArray](https://262.ecma-international.org/12.0/#sec-validatetypedarray)(O).
3.  Let len be O.\[\[ArrayLength\]\].
4.  If [IsCallable](https://262.ecma-international.org/12.0/#sec-iscallable)(callbackfn) is false, throw a TypeError exception.
5.  Let A be ? [TypedArraySpeciesCreate](https://262.ecma-international.org/12.0/#typedarray-species-create)(O, « [𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(len) »).
6.  Let k be 0.
7.  Repeat, while k < len,
    1.  Let Pk be ! [ToString](https://262.ecma-international.org/12.0/#sec-tostring)([𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(k)).
    2.  Let kValue be ! [Get](https://262.ecma-international.org/12.0/#sec-get-o-p)(O, Pk).
    3.  Let mappedValue be ? [Call](https://262.ecma-international.org/12.0/#sec-call)(callbackfn, thisArg, « kValue, [𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(k), O »).
    4.  Perform ? [Set](https://262.ecma-international.org/12.0/#sec-set-o-p-v-throw)(A, Pk, mappedValue, true).
    5.  Set k to k + 1.
8.  Return A.

This function is not generic. The this value must be an object with a \[\[TypedArrayName\]\] internal slot.

## 23.2.3.20 %TypedArray%.prototype.reduce ( callbackfn \[ , initialValue \] )

The interpretation and use of the arguments of [%TypedArray%](https://262.ecma-international.org/12.0/#sec-%typedarray%-intrinsic-object)`.prototype.reduce` are the same as for `Array.prototype.reduce` as defined in [23.1.3.21](https://262.ecma-international.org/12.0/#sec-array.prototype.reduce).

When the `reduce` method is called with one or two arguments, the following steps are taken:

1.  Let O be the this value.
2.  Perform ? [ValidateTypedArray](https://262.ecma-international.org/12.0/#sec-validatetypedarray)(O).
3.  Let len be O.\[\[ArrayLength\]\].
4.  If [IsCallable](https://262.ecma-international.org/12.0/#sec-iscallable)(callbackfn) is false, throw a TypeError exception.
5.  If len = 0 and initialValue is not present, throw a TypeError exception.
6.  Let k be 0.
7.  Let accumulator be undefined.
8.  If initialValue is present, then
    1.  Set accumulator to initialValue.
9.  Else,
    1.  Let Pk be ! [ToString](https://262.ecma-international.org/12.0/#sec-tostring)([𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(k)).
    2.  Set accumulator to ! [Get](https://262.ecma-international.org/12.0/#sec-get-o-p)(O, Pk).
    3.  Set k to k + 1.
10.  Repeat, while k < len,
    1.  Let Pk be ! [ToString](https://262.ecma-international.org/12.0/#sec-tostring)([𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(k)).
    2.  Let kValue be ! [Get](https://262.ecma-international.org/12.0/#sec-get-o-p)(O, Pk).
    3.  Set accumulator to ? [Call](https://262.ecma-international.org/12.0/#sec-call)(callbackfn, undefined, « accumulator, kValue, [𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(k), O »).
    4.  Set k to k + 1.
11.  Return accumulator.

This function is not generic. The this value must be an object with a \[\[TypedArrayName\]\] internal slot.

## 23.2.3.21 %TypedArray%.prototype.reduceRight ( callbackfn \[ , initialValue \] )

The interpretation and use of the arguments of [%TypedArray%](https://262.ecma-international.org/12.0/#sec-%typedarray%-intrinsic-object)`.prototype.reduceRight` are the same as for `Array.prototype.reduceRight` as defined in [23.1.3.22](https://262.ecma-international.org/12.0/#sec-array.prototype.reduceright).

When the `reduceRight` method is called with one or two arguments, the following steps are taken:

1.  Let O be the this value.
2.  Perform ? [ValidateTypedArray](https://262.ecma-international.org/12.0/#sec-validatetypedarray)(O).
3.  Let len be O.\[\[ArrayLength\]\].
4.  If [IsCallable](https://262.ecma-international.org/12.0/#sec-iscallable)(callbackfn) is false, throw a TypeError exception.
5.  If len is 0 and initialValue is not present, throw a TypeError exception.
6.  Let k be len - 1.
7.  Let accumulator be undefined.
8.  If initialValue is present, then
    1.  Set accumulator to initialValue.
9.  Else,
    1.  Let Pk be ! [ToString](https://262.ecma-international.org/12.0/#sec-tostring)([𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(k)).
    2.  Set accumulator to ! [Get](https://262.ecma-international.org/12.0/#sec-get-o-p)(O, Pk).
    3.  Set k to k - 1.
10.  Repeat, while k ≥ 0,
    1.  Let Pk be ! [ToString](https://262.ecma-international.org/12.0/#sec-tostring)([𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(k)).
    2.  Let kValue be ! [Get](https://262.ecma-international.org/12.0/#sec-get-o-p)(O, Pk).
    3.  Set accumulator to ? [Call](https://262.ecma-international.org/12.0/#sec-call)(callbackfn, undefined, « accumulator, kValue, [𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(k), O »).
    4.  Set k to k - 1.
11.  Return accumulator.

This function is not generic. The this value must be an object with a \[\[TypedArrayName\]\] internal slot.

## 23.2.3.22 %TypedArray%.prototype.reverse ( )

The interpretation and use of the arguments of [%TypedArray%](https://262.ecma-international.org/12.0/#sec-%typedarray%-intrinsic-object)`.prototype.reverse` are the same as for `Array.prototype.reverse` as defined in [23.1.3.23](https://262.ecma-international.org/12.0/#sec-array.prototype.reverse).

When the `reverse` method is called, the following steps are taken:

1.  Let O be the this value.
2.  Perform ? [ValidateTypedArray](https://262.ecma-international.org/12.0/#sec-validatetypedarray)(O).
3.  Let len be O.\[\[ArrayLength\]\].
4.  Let middle be [floor](https://262.ecma-international.org/12.0/#eqn-floor)(len / 2).
5.  Let lower be 0.
6.  Repeat, while lower ≠ middle,
    1.  Let upper be len - lower - 1.
    2.  Let upperP be ! [ToString](https://262.ecma-international.org/12.0/#sec-tostring)([𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(upper)).
    3.  Let lowerP be ! [ToString](https://262.ecma-international.org/12.0/#sec-tostring)([𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(lower)).
    4.  Let lowerValue be ! [Get](https://262.ecma-international.org/12.0/#sec-get-o-p)(O, lowerP).
    5.  Let upperValue be ! [Get](https://262.ecma-international.org/12.0/#sec-get-o-p)(O, upperP).
    6.  Perform ! [Set](https://262.ecma-international.org/12.0/#sec-set-o-p-v-throw)(O, lowerP, upperValue, true).
    7.  Perform ! [Set](https://262.ecma-international.org/12.0/#sec-set-o-p-v-throw)(O, upperP, lowerValue, true).
    8.  Set lower to lower + 1.
7.  Return O.

This function is not generic. The this value must be an object with a \[\[TypedArrayName\]\] internal slot.

## 23.2.3.23 %TypedArray%.prototype.set ( source \[ , offset \] )

[%TypedArray%](https://262.ecma-international.org/12.0/#sec-%typedarray%-intrinsic-object)`.prototype.set` is a function whose behaviour differs based upon the type of its first argument.

This function is not generic. The this value must be an object with a \[\[TypedArrayName\]\] internal slot.

Sets multiple values in this TypedArray, reading the values from source. The optional offset value indicates the first element index in this TypedArray where values are written. If omitted, it is assumed to be 0.

1.  Let target be the this value.
2.  Perform ? [RequireInternalSlot](https://262.ecma-international.org/12.0/#sec-requireinternalslot)(target, \[\[TypedArrayName\]\]).
3.  [Assert](https://262.ecma-international.org/12.0/#assert): target has a \[\[ViewedArrayBuffer\]\] internal slot.
4.  Let targetOffset be ? [ToIntegerOrInfinity](https://262.ecma-international.org/12.0/#sec-tointegerorinfinity)(offset).
5.  If targetOffset < 0, throw a RangeError exception.
6.  If source is an Object that has a \[\[TypedArrayName\]\] internal slot, then
    1.  Perform ? [SetTypedArrayFromTypedArray](https://262.ecma-international.org/12.0/#sec-settypedarrayfromtypedarray)(target, targetOffset, source).
7.  Else,
    1.  Perform ? [SetTypedArrayFromArrayLike](https://262.ecma-international.org/12.0/#sec-settypedarrayfromarraylike)(target, targetOffset, source).
8.  Return undefined.

## 23.2.3.23.1 SetTypedArrayFromTypedArray ( target, targetOffset, source )

The abstract operation SetTypedArrayFromTypedArray takes arguments target (a TypedArray object), targetOffset (a non-negative [integer](https://262.ecma-international.org/12.0/#integer) or +∞), and source (a TypedArray object). It sets multiple values in target, starting at index targetOffset, reading the values from source. It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): source is an Object that has a \[\[TypedArrayName\]\] internal slot.
2.  Let targetBuffer be target.\[\[ViewedArrayBuffer\]\].
3.  If [IsDetachedBuffer](https://262.ecma-international.org/12.0/#sec-isdetachedbuffer)(targetBuffer) is true, throw a TypeError exception.
4.  Let targetLength be target.\[\[ArrayLength\]\].
5.  Let srcBuffer be source.\[\[ViewedArrayBuffer\]\].
6.  If [IsDetachedBuffer](https://262.ecma-international.org/12.0/#sec-isdetachedbuffer)(srcBuffer) is true, throw a TypeError exception.
7.  Let targetName be the String value of target.\[\[TypedArrayName\]\].
8.  Let targetType be the Element Type value in [Table 60](https://262.ecma-international.org/12.0/#table-the-typedarray-constructors) for targetName.
9.  Let targetElementSize be the Element Size value specified in [Table 60](https://262.ecma-international.org/12.0/#table-the-typedarray-constructors) for targetName.
10.  Let targetByteOffset be target.\[\[ByteOffset\]\].
11.  Let srcName be the String value of source.\[\[TypedArrayName\]\].
12.  Let srcType be the Element Type value in [Table 60](https://262.ecma-international.org/12.0/#table-the-typedarray-constructors) for srcName.
13.  Let srcElementSize be the Element Size value specified in [Table 60](https://262.ecma-international.org/12.0/#table-the-typedarray-constructors) for srcName.
14.  Let srcLength be source.\[\[ArrayLength\]\].
15.  Let srcByteOffset be source.\[\[ByteOffset\]\].
16.  If targetOffset is +∞, throw a RangeError exception.
17.  If srcLength + targetOffset > targetLength, throw a RangeError exception.
18.  If target.\[\[ContentType\]\] ≠ source.\[\[ContentType\]\], throw a TypeError exception.
19.  If both [IsSharedArrayBuffer](https://262.ecma-international.org/12.0/#sec-issharedarraybuffer)(srcBuffer) and [IsSharedArrayBuffer](https://262.ecma-international.org/12.0/#sec-issharedarraybuffer)(targetBuffer) are true, then
    1.  If srcBuffer.\[\[ArrayBufferData\]\] and targetBuffer.\[\[ArrayBufferData\]\] are the same [Shared Data Block](https://262.ecma-international.org/12.0/#sec-data-blocks) values, let same be true; else let same be false.
20.  Else, let same be [SameValue](https://262.ecma-international.org/12.0/#sec-samevalue)(srcBuffer, targetBuffer).
21.  If same is true, then
    1.  Let srcByteLength be source.\[\[ByteLength\]\].
    2.  Set srcBuffer to ? [CloneArrayBuffer](https://262.ecma-international.org/12.0/#sec-clonearraybuffer)(srcBuffer, srcByteOffset, srcByteLength, [%ArrayBuffer%](https://262.ecma-international.org/12.0/#sec-arraybuffer-constructor)).
    3.  NOTE: [%ArrayBuffer%](https://262.ecma-international.org/12.0/#sec-arraybuffer-constructor) is used to clone srcBuffer because is it known to not have any observable side-effects.
    4.  Let srcByteIndex be 0.
22.  Else, let srcByteIndex be srcByteOffset.
23.  Let targetByteIndex be targetOffset × targetElementSize + targetByteOffset.
24.  Let limit be targetByteIndex + targetElementSize × srcLength.
25.  If srcType is the same as targetType, then
    1.  NOTE: If srcType and targetType are the same, the transfer must be performed in a manner that preserves the bit-level encoding of the source data.
    2.  Repeat, while targetByteIndex < limit,
        1.  Let value be [GetValueFromBuffer](https://262.ecma-international.org/12.0/#sec-getvaluefrombuffer)(srcBuffer, srcByteIndex, Uint8, true, Unordered).
        2.  Perform [SetValueInBuffer](https://262.ecma-international.org/12.0/#sec-setvalueinbuffer)(targetBuffer, targetByteIndex, Uint8, value, true, Unordered).
        3.  Set srcByteIndex to srcByteIndex + 1.
        4.  Set targetByteIndex to targetByteIndex + 1.
26.  Else,
    1.  Repeat, while targetByteIndex < limit,
        1.  Let value be [GetValueFromBuffer](https://262.ecma-international.org/12.0/#sec-getvaluefrombuffer)(srcBuffer, srcByteIndex, srcType, true, Unordered).
        2.  Perform [SetValueInBuffer](https://262.ecma-international.org/12.0/#sec-setvalueinbuffer)(targetBuffer, targetByteIndex, targetType, value, true, Unordered).
        3.  Set srcByteIndex to srcByteIndex + srcElementSize.
        4.  Set targetByteIndex to targetByteIndex + targetElementSize.

## 23.2.3.23.2 SetTypedArrayFromArrayLike ( target, targetOffset, source )

The abstract operation SetTypedArrayFromArrayLike takes arguments target (a TypedArray object), targetOffset (a non-negative [integer](https://262.ecma-international.org/12.0/#integer) or +∞), and source (an ECMAScript value other than a TypedArray object). It sets multiple values in target, starting at index targetOffset, reading the values from source. It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): source is any [ECMAScript language value](https://262.ecma-international.org/12.0/#sec-ecmascript-language-types) other than an Object with a \[\[TypedArrayName\]\] internal slot.
2.  Let targetBuffer be target.\[\[ViewedArrayBuffer\]\].
3.  If [IsDetachedBuffer](https://262.ecma-international.org/12.0/#sec-isdetachedbuffer)(targetBuffer) is true, throw a TypeError exception.
4.  Let targetLength be target.\[\[ArrayLength\]\].
5.  Let targetName be the String value of target.\[\[TypedArrayName\]\].
6.  Let targetElementSize be the Element Size value specified in [Table 60](https://262.ecma-international.org/12.0/#table-the-typedarray-constructors) for targetName.
7.  Let targetType be the Element Type value in [Table 60](https://262.ecma-international.org/12.0/#table-the-typedarray-constructors) for targetName.
8.  Let targetByteOffset be target.\[\[ByteOffset\]\].
9.  Let src be ? [ToObject](https://262.ecma-international.org/12.0/#sec-toobject)(source).
10.  Let srcLength be ? [LengthOfArrayLike](https://262.ecma-international.org/12.0/#sec-lengthofarraylike)(src).
11.  If targetOffset is +∞, throw a RangeError exception.
12.  If srcLength + targetOffset > targetLength, throw a RangeError exception.
13.  Let targetByteIndex be targetOffset × targetElementSize + targetByteOffset.
14.  Let k be 0.
15.  Let limit be targetByteIndex + targetElementSize × srcLength.
16.  Repeat, while targetByteIndex < limit,
    1.  Let Pk be ! [ToString](https://262.ecma-international.org/12.0/#sec-tostring)([𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(k)).
    2.  Let value be ? [Get](https://262.ecma-international.org/12.0/#sec-get-o-p)(src, Pk).
    3.  If target.\[\[ContentType\]\] is BigInt, set value to ? [ToBigInt](https://262.ecma-international.org/12.0/#sec-tobigint)(value).
    4.  Otherwise, set value to ? [ToNumber](https://262.ecma-international.org/12.0/#sec-tonumber)(value).
    5.  If [IsDetachedBuffer](https://262.ecma-international.org/12.0/#sec-isdetachedbuffer)(targetBuffer) is true, throw a TypeError exception.
    6.  Perform [SetValueInBuffer](https://262.ecma-international.org/12.0/#sec-setvalueinbuffer)(targetBuffer, targetByteIndex, targetType, value, true, Unordered).
    7.  Set k to k + 1.
    8.  Set targetByteIndex to targetByteIndex + targetElementSize.

## 23.2.3.24 %TypedArray%.prototype.slice ( start, end )

The interpretation and use of the arguments of [%TypedArray%](https://262.ecma-international.org/12.0/#sec-%typedarray%-intrinsic-object)`.prototype.slice` are the same as for `Array.prototype.slice` as defined in [23.1.3.25](https://262.ecma-international.org/12.0/#sec-array.prototype.slice). The following steps are taken:

1.  Let O be the this value.
2.  Perform ? [ValidateTypedArray](https://262.ecma-international.org/12.0/#sec-validatetypedarray)(O).
3.  Let len be O.\[\[ArrayLength\]\].
4.  Let relativeStart be ? [ToIntegerOrInfinity](https://262.ecma-international.org/12.0/#sec-tointegerorinfinity)(start).
5.  If relativeStart is -∞, let k be 0.
6.  Else if relativeStart < 0, let k be [max](https://262.ecma-international.org/12.0/#eqn-max)(len + relativeStart, 0).
7.  Else, let k be [min](https://262.ecma-international.org/12.0/#eqn-min)(relativeStart, len).
8.  If end is undefined, let relativeEnd be len; else let relativeEnd be ? [ToIntegerOrInfinity](https://262.ecma-international.org/12.0/#sec-tointegerorinfinity)(end).
9.  If relativeEnd is -∞, let final be 0.
10.  Else if relativeEnd < 0, let final be [max](https://262.ecma-international.org/12.0/#eqn-max)(len + relativeEnd, 0).
11.  Else, let final be [min](https://262.ecma-international.org/12.0/#eqn-min)(relativeEnd, len).
12.  Let count be [max](https://262.ecma-international.org/12.0/#eqn-max)(final - k, 0).
13.  Let A be ? [TypedArraySpeciesCreate](https://262.ecma-international.org/12.0/#typedarray-species-create)(O, « [𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(count) »).
14.  If count > 0, then
    1.  If [IsDetachedBuffer](https://262.ecma-international.org/12.0/#sec-isdetachedbuffer)(O.\[\[ViewedArrayBuffer\]\]) is true, throw a TypeError exception.
    2.  Let srcName be the String value of O.\[\[TypedArrayName\]\].
    3.  Let srcType be the Element Type value in [Table 60](https://262.ecma-international.org/12.0/#table-the-typedarray-constructors) for srcName.
    4.  Let targetName be the String value of A.\[\[TypedArrayName\]\].
    5.  Let targetType be the Element Type value in [Table 60](https://262.ecma-international.org/12.0/#table-the-typedarray-constructors) for targetName.
    6.  If srcType is different from targetType, then
        1.  Let n be 0.
        2.  Repeat, while k < final,
            1.  Let Pk be ! [ToString](https://262.ecma-international.org/12.0/#sec-tostring)([𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(k)).
            2.  Let kValue be ! [Get](https://262.ecma-international.org/12.0/#sec-get-o-p)(O, Pk).
            3.  Perform ! [Set](https://262.ecma-international.org/12.0/#sec-set-o-p-v-throw)(A, ! [ToString](https://262.ecma-international.org/12.0/#sec-tostring)([𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(n)), kValue, true).
            4.  Set k to k + 1.
            5.  Set n to n + 1.
    7.  Else,
        1.  Let srcBuffer be O.\[\[ViewedArrayBuffer\]\].
        2.  Let targetBuffer be A.\[\[ViewedArrayBuffer\]\].
        3.  Let elementSize be the Element Size value specified in [Table 60](https://262.ecma-international.org/12.0/#table-the-typedarray-constructors) for Element Type srcType.
        4.  NOTE: If srcType and targetType are the same, the transfer must be performed in a manner that preserves the bit-level encoding of the source data.
        5.  Let srcByteOffset be O.\[\[ByteOffset\]\].
        6.  Let targetByteIndex be A.\[\[ByteOffset\]\].
        7.  Let srcByteIndex be (k × elementSize) + srcByteOffset.
        8.  Let limit be targetByteIndex + count × elementSize.
        9.  Repeat, while targetByteIndex < limit,
            1.  Let value be [GetValueFromBuffer](https://262.ecma-international.org/12.0/#sec-getvaluefrombuffer)(srcBuffer, srcByteIndex, Uint8, true, Unordered).
            2.  Perform [SetValueInBuffer](https://262.ecma-international.org/12.0/#sec-setvalueinbuffer)(targetBuffer, targetByteIndex, Uint8, value, true, Unordered).
            3.  Set srcByteIndex to srcByteIndex + 1.
            4.  Set targetByteIndex to targetByteIndex + 1.
15.  Return A.

This function is not generic. The this value must be an object with a \[\[TypedArrayName\]\] internal slot.

## 23.2.3.25 %TypedArray%.prototype.some ( callbackfn \[ , thisArg \] )

The interpretation and use of the arguments of [%TypedArray%](https://262.ecma-international.org/12.0/#sec-%typedarray%-intrinsic-object)`.prototype.some` are the same as for `Array.prototype.some` as defined in [23.1.3.26](https://262.ecma-international.org/12.0/#sec-array.prototype.some).

When the `some` method is called with one or two arguments, the following steps are taken:

1.  Let O be the this value.
2.  Perform ? [ValidateTypedArray](https://262.ecma-international.org/12.0/#sec-validatetypedarray)(O).
3.  Let len be O.\[\[ArrayLength\]\].
4.  If [IsCallable](https://262.ecma-international.org/12.0/#sec-iscallable)(callbackfn) is false, throw a TypeError exception.
5.  Let k be 0.
6.  Repeat, while k < len,
    1.  Let Pk be ! [ToString](https://262.ecma-international.org/12.0/#sec-tostring)([𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(k)).
    2.  Let kValue be ! [Get](https://262.ecma-international.org/12.0/#sec-get-o-p)(O, Pk).
    3.  Let testResult be ! [ToBoolean](https://262.ecma-international.org/12.0/#sec-toboolean)(? [Call](https://262.ecma-international.org/12.0/#sec-call)(callbackfn, thisArg, « kValue, [𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(k), O »)).
    4.  If testResult is true, return true.
    5.  Set k to k + 1.
7.  Return false.

This function is not generic. The this value must be an object with a \[\[TypedArrayName\]\] internal slot.

## 23.2.3.26 %TypedArray%.prototype.sort ( comparefn )

[%TypedArray%](https://262.ecma-international.org/12.0/#sec-%typedarray%-intrinsic-object)`.prototype.sort` is a distinct function that, except as described below, implements the same requirements as those of `Array.prototype.sort` as defined in [23.1.3.27](https://262.ecma-international.org/12.0/#sec-array.prototype.sort). The implementation of the [%TypedArray%](https://262.ecma-international.org/12.0/#sec-%typedarray%-intrinsic-object)`.prototype.sort` specification may be optimized with the knowledge that the this value is an object that has a fixed length and whose [integer-indexed](https://262.ecma-international.org/12.0/#integer-index) properties are not sparse.

This function is not generic. The this value must be an object with a \[\[TypedArrayName\]\] internal slot.

Upon entry, the following steps are performed to initialize evaluation of the `sort` function. These steps are used instead of steps [1](https://262.ecma-international.org/12.0/#step-array-sort-comparefn)–[3](https://262.ecma-international.org/12.0/#step-array-sort-len) in [23.1.3.27](https://262.ecma-international.org/12.0/#sec-array.prototype.sort):

1.  If comparefn is not undefined and [IsCallable](https://262.ecma-international.org/12.0/#sec-iscallable)(comparefn) is false, throw a TypeError exception.
2.  Let obj be the this value.
3.  Let buffer be ? [ValidateTypedArray](https://262.ecma-international.org/12.0/#sec-validatetypedarray)(obj).
4.  Let len be obj.\[\[ArrayLength\]\].

The following version of [SortCompare](https://262.ecma-international.org/12.0/#sec-sortcompare) is used by [%TypedArray%](https://262.ecma-international.org/12.0/#sec-%typedarray%-intrinsic-object)`.prototype.sort`. It performs a numeric comparison rather than the string comparison used in [23.1.3.27](https://262.ecma-international.org/12.0/#sec-array.prototype.sort).

The abstract operation TypedArraySortCompare takes arguments x and y. It also has access to the comparefn and buffer values of the current invocation of the `sort` method. It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): Both [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(x) and [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(y) are Number or both are BigInt.
2.  If comparefn is not undefined, then
    1.  Let v be ? [ToNumber](https://262.ecma-international.org/12.0/#sec-tonumber)(? [Call](https://262.ecma-international.org/12.0/#sec-call)(comparefn, undefined, « x, y »)).
    2.  If [IsDetachedBuffer](https://262.ecma-international.org/12.0/#sec-isdetachedbuffer)(buffer) is true, throw a TypeError exception.
    3.  If v is NaN, return +0𝔽.
    4.  Return v.
3.  If x and y are both NaN, return +0𝔽.
4.  If x is NaN, return 1𝔽.
5.  If y is NaN, return \-1𝔽.
6.  If x < y, return \-1𝔽.
7.  If x > y, return 1𝔽.
8.  If x is \-0𝔽 and y is +0𝔽, return \-1𝔽.
9.  If x is +0𝔽 and y is \-0𝔽, return 1𝔽.
10.  Return +0𝔽.

Note

Because NaN always compares greater than any other value, NaN property values always sort to the end of the result when comparefn is not provided.

## 23.2.3.27 %TypedArray%.prototype.subarray ( begin, end )

Returns a new TypedArray object whose element type is the same as this TypedArray and whose ArrayBuffer is the same as the ArrayBuffer of this TypedArray, referencing the elements at begin, inclusive, up to end, exclusive. If either begin or end is negative, it refers to an index from the end of the array, as opposed to from the beginning.

1.  Let O be the this value.
2.  Perform ? [RequireInternalSlot](https://262.ecma-international.org/12.0/#sec-requireinternalslot)(O, \[\[TypedArrayName\]\]).
3.  [Assert](https://262.ecma-international.org/12.0/#assert): O has a \[\[ViewedArrayBuffer\]\] internal slot.
4.  Let buffer be O.\[\[ViewedArrayBuffer\]\].
5.  Let srcLength be O.\[\[ArrayLength\]\].
6.  Let relativeBegin be ? [ToIntegerOrInfinity](https://262.ecma-international.org/12.0/#sec-tointegerorinfinity)(begin).
7.  If relativeBegin is -∞, let beginIndex be 0.
8.  Else if relativeBegin < 0, let beginIndex be [max](https://262.ecma-international.org/12.0/#eqn-max)(srcLength + relativeBegin, 0).
9.  Else, let beginIndex be [min](https://262.ecma-international.org/12.0/#eqn-min)(relativeBegin, srcLength).
10.  If end is undefined, let relativeEnd be srcLength; else let relativeEnd be ? [ToIntegerOrInfinity](https://262.ecma-international.org/12.0/#sec-tointegerorinfinity)(end).
11.  If relativeEnd is -∞, let endIndex be 0.
12.  Else if relativeEnd < 0, let endIndex be [max](https://262.ecma-international.org/12.0/#eqn-max)(srcLength + relativeEnd, 0).
13.  Else, let endIndex be [min](https://262.ecma-international.org/12.0/#eqn-min)(relativeEnd, srcLength).
14.  Let newLength be [max](https://262.ecma-international.org/12.0/#eqn-max)(endIndex - beginIndex, 0).
15.  Let constructorName be the String value of O.\[\[TypedArrayName\]\].
16.  Let elementSize be the Element Size value specified in [Table 60](https://262.ecma-international.org/12.0/#table-the-typedarray-constructors) for constructorName.
17.  Let srcByteOffset be O.\[\[ByteOffset\]\].
18.  Let beginByteOffset be srcByteOffset + beginIndex × elementSize.
19.  Let argumentsList be « buffer, [𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(beginByteOffset), [𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(newLength) ».
20.  Return ? [TypedArraySpeciesCreate](https://262.ecma-international.org/12.0/#typedarray-species-create)(O, argumentsList).

This function is not generic. The this value must be an object with a \[\[TypedArrayName\]\] internal slot.

## 23.2.3.28 %TypedArray%.prototype.toLocaleString ( \[ reserved1 \[ , reserved2 \] \] )

[%TypedArray%](https://262.ecma-international.org/12.0/#sec-%typedarray%-intrinsic-object)`.prototype.toLocaleString` is a distinct function that implements the same algorithm as `Array.prototype.toLocaleString` as defined in [23.1.3.29](https://262.ecma-international.org/12.0/#sec-array.prototype.tolocalestring) except that the this value's \[\[ArrayLength\]\] internal slot is accessed in place of performing a \[\[Get\]\] of "length". The implementation of the algorithm may be optimized with the knowledge that the this value is an object that has a fixed length and whose [integer-indexed](https://262.ecma-international.org/12.0/#integer-index) properties are not sparse. However, such optimization must not introduce any observable changes in the specified behaviour of the algorithm.

This function is not generic. [ValidateTypedArray](https://262.ecma-international.org/12.0/#sec-validatetypedarray) is applied to the this value prior to evaluating the algorithm. If its result is an [abrupt completion](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type) that exception is thrown instead of evaluating the algorithm.

Note

If the ECMAScript implementation includes the ECMA-402 Internationalization API this function is based upon the algorithm for `Array.prototype.toLocaleString` that is in the ECMA-402 specification.

## 23.2.3.29 %TypedArray%.prototype.toString ( )

The initial value of the [%TypedArray%](https://262.ecma-international.org/12.0/#sec-%typedarray%-intrinsic-object)`.prototype.toString` [data property](https://262.ecma-international.org/12.0/#sec-object-type) is the same built-in [function object](https://262.ecma-international.org/12.0/#function-object) as the `Array.prototype.toString` method defined in [23.1.3.30](https://262.ecma-international.org/12.0/#sec-array.prototype.tostring).

## 23.2.3.30 %TypedArray%.prototype.values ( )

The following steps are taken:

1.  Let O be the this value.
2.  Perform ? [ValidateTypedArray](https://262.ecma-international.org/12.0/#sec-validatetypedarray)(O).
3.  Return [CreateArrayIterator](https://262.ecma-international.org/12.0/#sec-createarrayiterator)(O, value).

## 23.2.3.31 %TypedArray%.prototype \[ @@iterator \] ( )

The initial value of the [@@iterator](https://262.ecma-international.org/12.0/#sec-well-known-symbols) property is the same [function object](https://262.ecma-international.org/12.0/#function-object) as the initial value of the [%TypedArray%](https://262.ecma-international.org/12.0/#sec-%typedarray%-intrinsic-object)`.prototype.values` property.

## 23.2.3.32 get %TypedArray%.prototype \[ @@toStringTag \]

[%TypedArray%](https://262.ecma-international.org/12.0/#sec-%typedarray%-intrinsic-object)`.prototype[@@toStringTag]` is an [accessor property](https://262.ecma-international.org/12.0/#sec-object-type) whose set accessor function is undefined. Its get accessor function performs the following steps:

1.  Let O be the this value.
2.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(O) is not Object, return undefined.
3.  If O does not have a \[\[TypedArrayName\]\] internal slot, return undefined.
4.  Let name be O.\[\[TypedArrayName\]\].
5.  [Assert](https://262.ecma-international.org/12.0/#assert): [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(name) is String.
6.  Return name.

This property has the attributes { \[\[Enumerable\]\]: false, \[\[Configurable\]\]: true }.

The initial value of the "name" property of this function is "get \[Symbol.toStringTag\]".

## 23.2.4 Abstract Operations for TypedArray Objects

## 23.2.4.1 TypedArraySpeciesCreate ( exemplar, argumentList )

The abstract operation TypedArraySpeciesCreate takes arguments exemplar and argumentList. It is used to specify the creation of a new TypedArray object using a [constructor](https://262.ecma-international.org/12.0/#constructor) function that is derived from exemplar. It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): exemplar is an Object that has \[\[TypedArrayName\]\] and \[\[ContentType\]\] internal slots.
2.  Let defaultConstructor be the intrinsic object listed in column one of [Table 60](https://262.ecma-international.org/12.0/#table-the-typedarray-constructors) for exemplar.\[\[TypedArrayName\]\].
3.  Let constructor be ? [SpeciesConstructor](https://262.ecma-international.org/12.0/#sec-speciesconstructor)(exemplar, defaultConstructor).
4.  Let result be ? [TypedArrayCreate](https://262.ecma-international.org/12.0/#typedarray-create)(constructor, argumentList).
5.  [Assert](https://262.ecma-international.org/12.0/#assert): result has \[\[TypedArrayName\]\] and \[\[ContentType\]\] internal slots.
6.  If result.\[\[ContentType\]\] ≠ exemplar.\[\[ContentType\]\], throw a TypeError exception.
7.  Return result.

## 23.2.4.2 TypedArrayCreate ( constructor, argumentList )

The abstract operation TypedArrayCreate takes arguments constructor and argumentList. It is used to specify the creation of a new TypedArray object using a [constructor](https://262.ecma-international.org/12.0/#constructor) function. It performs the following steps when called:

1.  Let newTypedArray be ? [Construct](https://262.ecma-international.org/12.0/#sec-construct)(constructor, argumentList).
2.  Perform ? [ValidateTypedArray](https://262.ecma-international.org/12.0/#sec-validatetypedarray)(newTypedArray).
3.  If argumentList is a [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) of a single Number, then
    1.  If newTypedArray.\[\[ArrayLength\]\] < [ℝ](https://262.ecma-international.org/12.0/#%E2%84%9D)(argumentList\[0\]), throw a TypeError exception.
4.  Return newTypedArray.

## 23.2.4.3 ValidateTypedArray ( O )

The abstract operation ValidateTypedArray takes argument O. It performs the following steps when called:

1.  Perform ? [RequireInternalSlot](https://262.ecma-international.org/12.0/#sec-requireinternalslot)(O, \[\[TypedArrayName\]\]).
2.  [Assert](https://262.ecma-international.org/12.0/#assert): O has a \[\[ViewedArrayBuffer\]\] internal slot.
3.  Let buffer be O.\[\[ViewedArrayBuffer\]\].
4.  If [IsDetachedBuffer](https://262.ecma-international.org/12.0/#sec-isdetachedbuffer)(buffer) is true, throw a TypeError exception.
5.  Return buffer.

## 23.2.5 The TypedArray Constructors

Each TypedArray [constructor](https://262.ecma-international.org/12.0/#constructor):

-   is an intrinsic object that has the structure described below, differing only in the name used as the [constructor](https://262.ecma-international.org/12.0/#constructor) name instead of TypedArray, in [Table 60](https://262.ecma-international.org/12.0/#table-the-typedarray-constructors).
-   is a function whose behaviour differs based upon the number and types of its arguments. The actual behaviour of a call of TypedArray depends upon the number and kind of arguments that are passed to it.
-   is not intended to be called as a function and will throw an exception when called in that manner.
-   is designed to be subclassable. It may be used as the value of an `extends` clause of a class definition. Subclass constructors that intend to inherit the specified TypedArray behaviour must include a `super` call to the TypedArray [constructor](https://262.ecma-international.org/12.0/#constructor) to create and initialize the subclass instance with the internal state necessary to support the [%TypedArray%](https://262.ecma-international.org/12.0/#sec-%typedarray%-intrinsic-object)`.prototype` built-in methods.
-   has a "length" property whose value is 3𝔽.

## 23.2.5.1 TypedArray ( ...args )

Each TypedArray [constructor](https://262.ecma-international.org/12.0/#constructor) performs the following steps when called:

1.  If NewTarget is undefined, throw a TypeError exception.
2.  Let constructorName be the String value of the [Constructor](https://262.ecma-international.org/12.0/#constructor) Name value specified in [Table 60](https://262.ecma-international.org/12.0/#table-the-typedarray-constructors) for this TypedArray [constructor](https://262.ecma-international.org/12.0/#constructor).
3.  Let proto be `"%TypedArray.prototype%"`.
4.  Let numberOfArgs be the number of elements in args.
5.  If numberOfArgs = 0, then
    1.  Return ? [AllocateTypedArray](https://262.ecma-international.org/12.0/#sec-allocatetypedarray)(constructorName, NewTarget, proto, 0).
6.  Else,
    1.  Let firstArgument be args\[0\].
    2.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(firstArgument) is Object, then
        1.  Let O be ? [AllocateTypedArray](https://262.ecma-international.org/12.0/#sec-allocatetypedarray)(constructorName, NewTarget, proto).
        2.  If firstArgument has a \[\[TypedArrayName\]\] internal slot, then
            1.  Perform ? [InitializeTypedArrayFromTypedArray](https://262.ecma-international.org/12.0/#sec-initializetypedarrayfromtypedarray)(O, firstArgument).
        3.  Else if firstArgument has an \[\[ArrayBufferData\]\] internal slot, then
            1.  If numberOfArgs > 1, let byteOffset be args\[1\]; else let byteOffset be undefined.
            2.  If numberOfArgs > 2, let length be args\[2\]; else let length be undefined.
            3.  Perform ? [InitializeTypedArrayFromArrayBuffer](https://262.ecma-international.org/12.0/#sec-initializetypedarrayfromarraybuffer)(O, firstArgument, byteOffset, length).
        4.  Else,
            1.  [Assert](https://262.ecma-international.org/12.0/#assert): [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(firstArgument) is Object and firstArgument does not have either a \[\[TypedArrayName\]\] or an \[\[ArrayBufferData\]\] internal slot.
            2.  Let usingIterator be ? [GetMethod](https://262.ecma-international.org/12.0/#sec-getmethod)(firstArgument, [@@iterator](https://262.ecma-international.org/12.0/#sec-well-known-symbols)).
            3.  If usingIterator is not undefined, then
                1.  Let values be ? [IterableToList](https://262.ecma-international.org/12.0/#sec-iterabletolist)(firstArgument, usingIterator).
                2.  Perform ? [InitializeTypedArrayFromList](https://262.ecma-international.org/12.0/#sec-initializetypedarrayfromlist)(O, values).
            4.  Else,
                1.  NOTE: firstArgument is not an Iterable so assume it is already an [array-like object](https://262.ecma-international.org/12.0/#sec-lengthofarraylike).
                2.  Perform ? [InitializeTypedArrayFromArrayLike](https://262.ecma-international.org/12.0/#sec-initializetypedarrayfromarraylike)(O, firstArgument).
        5.  Return O.
    3.  Else,
        1.  [Assert](https://262.ecma-international.org/12.0/#assert): firstArgument is not an Object.
        2.  Let elementLength be ? [ToIndex](https://262.ecma-international.org/12.0/#sec-toindex)(firstArgument).
        3.  Return ? [AllocateTypedArray](https://262.ecma-international.org/12.0/#sec-allocatetypedarray)(constructorName, NewTarget, proto, elementLength).

## 23.2.5.1.1 AllocateTypedArray ( constructorName, newTarget, defaultProto \[ , length \] )

The abstract operation AllocateTypedArray takes arguments constructorName (a String which is the name of a TypedArray [constructor](https://262.ecma-international.org/12.0/#constructor) in [Table 60](https://262.ecma-international.org/12.0/#table-the-typedarray-constructors)), newTarget, and defaultProto and optional argument length (a non-negative [integer](https://262.ecma-international.org/12.0/#integer)). It is used to validate and create an instance of a TypedArray [constructor](https://262.ecma-international.org/12.0/#constructor). If the length argument is passed, an ArrayBuffer of that length is also allocated and associated with the new TypedArray instance. AllocateTypedArray provides common semantics that is used by TypedArray. It performs the following steps when called:

1.  Let proto be ? [GetPrototypeFromConstructor](https://262.ecma-international.org/12.0/#sec-getprototypefromconstructor)(newTarget, defaultProto).
2.  Let obj be ! [IntegerIndexedObjectCreate](https://262.ecma-international.org/12.0/#sec-integerindexedobjectcreate)(proto).
3.  [Assert](https://262.ecma-international.org/12.0/#assert): obj.\[\[ViewedArrayBuffer\]\] is undefined.
4.  Set obj.\[\[TypedArrayName\]\] to constructorName.
5.  If constructorName is "BigInt64Array" or "BigUint64Array", set obj.\[\[ContentType\]\] to BigInt.
6.  Otherwise, set obj.\[\[ContentType\]\] to Number.
7.  If length is not present, then
    1.  Set obj.\[\[ByteLength\]\] to 0.
    2.  Set obj.\[\[ByteOffset\]\] to 0.
    3.  Set obj.\[\[ArrayLength\]\] to 0.
8.  Else,
    1.  Perform ? [AllocateTypedArrayBuffer](https://262.ecma-international.org/12.0/#sec-allocatetypedarraybuffer)(obj, length).
9.  Return obj.

## 23.2.5.1.2 InitializeTypedArrayFromTypedArray ( O, srcArray )

The abstract operation InitializeTypedArrayFromTypedArray takes arguments O (a TypedArray object) and srcArray (a TypedArray object). It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): O is an Object that has a \[\[TypedArrayName\]\] internal slot.
2.  [Assert](https://262.ecma-international.org/12.0/#assert): srcArray is an Object that has a \[\[TypedArrayName\]\] internal slot.
3.  Let srcData be srcArray.\[\[ViewedArrayBuffer\]\].
4.  If [IsDetachedBuffer](https://262.ecma-international.org/12.0/#sec-isdetachedbuffer)(srcData) is true, throw a TypeError exception.
5.  Let constructorName be the String value of O.\[\[TypedArrayName\]\].
6.  Let elementType be the Element Type value in [Table 60](https://262.ecma-international.org/12.0/#table-the-typedarray-constructors) for constructorName.
7.  Let elementLength be srcArray.\[\[ArrayLength\]\].
8.  Let srcName be the String value of srcArray.\[\[TypedArrayName\]\].
9.  Let srcType be the Element Type value in [Table 60](https://262.ecma-international.org/12.0/#table-the-typedarray-constructors) for srcName.
10.  Let srcElementSize be the Element Size value specified in [Table 60](https://262.ecma-international.org/12.0/#table-the-typedarray-constructors) for srcName.
11.  Let srcByteOffset be srcArray.\[\[ByteOffset\]\].
12.  Let elementSize be the Element Size value specified in [Table 60](https://262.ecma-international.org/12.0/#table-the-typedarray-constructors) for constructorName.
13.  Let byteLength be elementSize × elementLength.
14.  If [IsSharedArrayBuffer](https://262.ecma-international.org/12.0/#sec-issharedarraybuffer)(srcData) is false, then
    1.  Let bufferConstructor be ? [SpeciesConstructor](https://262.ecma-international.org/12.0/#sec-speciesconstructor)(srcData, [%ArrayBuffer%](https://262.ecma-international.org/12.0/#sec-arraybuffer-constructor)).
15.  Else,
    1.  Let bufferConstructor be [%ArrayBuffer%](https://262.ecma-international.org/12.0/#sec-arraybuffer-constructor).
16.  If elementType is the same as srcType, then
    1.  Let data be ? [CloneArrayBuffer](https://262.ecma-international.org/12.0/#sec-clonearraybuffer)(srcData, srcByteOffset, byteLength, bufferConstructor).
17.  Else,
    1.  Let data be ? [AllocateArrayBuffer](https://262.ecma-international.org/12.0/#sec-allocatearraybuffer)(bufferConstructor, byteLength).
    2.  If [IsDetachedBuffer](https://262.ecma-international.org/12.0/#sec-isdetachedbuffer)(srcData) is true, throw a TypeError exception.
    3.  If srcArray.\[\[ContentType\]\] ≠ O.\[\[ContentType\]\], throw a TypeError exception.
    4.  Let srcByteIndex be srcByteOffset.
    5.  Let targetByteIndex be 0.
    6.  Let count be elementLength.
    7.  Repeat, while count > 0,
        1.  Let value be [GetValueFromBuffer](https://262.ecma-international.org/12.0/#sec-getvaluefrombuffer)(srcData, srcByteIndex, srcType, true, Unordered).
        2.  Perform [SetValueInBuffer](https://262.ecma-international.org/12.0/#sec-setvalueinbuffer)(data, targetByteIndex, elementType, value, true, Unordered).
        3.  Set srcByteIndex to srcByteIndex + srcElementSize.
        4.  Set targetByteIndex to targetByteIndex + elementSize.
        5.  Set count to count - 1.
18.  Set O.\[\[ViewedArrayBuffer\]\] to data.
19.  Set O.\[\[ByteLength\]\] to byteLength.
20.  Set O.\[\[ByteOffset\]\] to 0.
21.  Set O.\[\[ArrayLength\]\] to elementLength.

## 23.2.5.1.3 InitializeTypedArrayFromArrayBuffer ( O, buffer, byteOffset, length )

The abstract operation InitializeTypedArrayFromArrayBuffer takes arguments O (a TypedArray object), buffer (an ArrayBuffer object), byteOffset (an [ECMAScript language value](https://262.ecma-international.org/12.0/#sec-ecmascript-language-types)), and length (an [ECMAScript language value](https://262.ecma-international.org/12.0/#sec-ecmascript-language-types)). It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): O is an Object that has a \[\[TypedArrayName\]\] internal slot.
2.  [Assert](https://262.ecma-international.org/12.0/#assert): buffer is an Object that has an \[\[ArrayBufferData\]\] internal slot.
3.  Let constructorName be the String value of O.\[\[TypedArrayName\]\].
4.  Let elementSize be the Element Size value specified in [Table 60](https://262.ecma-international.org/12.0/#table-the-typedarray-constructors) for constructorName.
5.  Let offset be ? [ToIndex](https://262.ecma-international.org/12.0/#sec-toindex)(byteOffset).
6.  If offset [modulo](https://262.ecma-international.org/12.0/#eqn-modulo) elementSize ≠ 0, throw a RangeError exception.
7.  If length is not undefined, then
    1.  Let newLength be ? [ToIndex](https://262.ecma-international.org/12.0/#sec-toindex)(length).
8.  If [IsDetachedBuffer](https://262.ecma-international.org/12.0/#sec-isdetachedbuffer)(buffer) is true, throw a TypeError exception.
9.  Let bufferByteLength be buffer.\[\[ArrayBufferByteLength\]\].
10.  If length is undefined, then
    1.  If bufferByteLength [modulo](https://262.ecma-international.org/12.0/#eqn-modulo) elementSize ≠ 0, throw a RangeError exception.
    2.  Let newByteLength be bufferByteLength - offset.
    3.  If newByteLength < 0, throw a RangeError exception.
11.  Else,
    1.  Let newByteLength be newLength × elementSize.
    2.  If offset + newByteLength > bufferByteLength, throw a RangeError exception.
12.  Set O.\[\[ViewedArrayBuffer\]\] to buffer.
13.  Set O.\[\[ByteLength\]\] to newByteLength.
14.  Set O.\[\[ByteOffset\]\] to offset.
15.  Set O.\[\[ArrayLength\]\] to newByteLength / elementSize.

## 23.2.5.1.4 InitializeTypedArrayFromList ( O, values )

The abstract operation InitializeTypedArrayFromList takes arguments O (a TypedArray object) and values (a [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) of ECMAScript language values). It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): O is an Object that has a \[\[TypedArrayName\]\] internal slot.
2.  Let len be the number of elements in values.
3.  Perform ? [AllocateTypedArrayBuffer](https://262.ecma-international.org/12.0/#sec-allocatetypedarraybuffer)(O, len).
4.  Let k be 0.
5.  Repeat, while k < len,
    1.  Let Pk be ! [ToString](https://262.ecma-international.org/12.0/#sec-tostring)([𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(k)).
    2.  Let kValue be the first element of values and remove that element from values.
    3.  Perform ? [Set](https://262.ecma-international.org/12.0/#sec-set-o-p-v-throw)(O, Pk, kValue, true).
    4.  Set k to k + 1.
6.  [Assert](https://262.ecma-international.org/12.0/#assert): values is now an empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).

## 23.2.5.1.5 InitializeTypedArrayFromArrayLike ( O, arrayLike )

The abstract operation InitializeTypedArrayFromArrayLike takes arguments O (a TypedArray object) and arrayLike (an Object that is neither a TypedArray object nor an ArrayBuffer object). It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): O is an Object that has a \[\[TypedArrayName\]\] internal slot.
2.  Let len be ? [LengthOfArrayLike](https://262.ecma-international.org/12.0/#sec-lengthofarraylike)(arrayLike).
3.  Perform ? [AllocateTypedArrayBuffer](https://262.ecma-international.org/12.0/#sec-allocatetypedarraybuffer)(O, len).
4.  Let k be 0.
5.  Repeat, while k < len,
    1.  Let Pk be ! [ToString](https://262.ecma-international.org/12.0/#sec-tostring)([𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(k)).
    2.  Let kValue be ? [Get](https://262.ecma-international.org/12.0/#sec-get-o-p)(arrayLike, Pk).
    3.  Perform ? [Set](https://262.ecma-international.org/12.0/#sec-set-o-p-v-throw)(O, Pk, kValue, true).
    4.  Set k to k + 1.

## 23.2.5.1.6 AllocateTypedArrayBuffer ( O, length )

The abstract operation AllocateTypedArrayBuffer takes arguments O (a TypedArray object) and length (a non-negative [integer](https://262.ecma-international.org/12.0/#integer)). It allocates and associates an ArrayBuffer with O. It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): O is an Object that has a \[\[ViewedArrayBuffer\]\] internal slot.
2.  [Assert](https://262.ecma-international.org/12.0/#assert): O.\[\[ViewedArrayBuffer\]\] is undefined.
3.  Let constructorName be the String value of O.\[\[TypedArrayName\]\].
4.  Let elementSize be the Element Size value specified in [Table 60](https://262.ecma-international.org/12.0/#table-the-typedarray-constructors) for constructorName.
5.  Let byteLength be elementSize × length.
6.  Let data be ? [AllocateArrayBuffer](https://262.ecma-international.org/12.0/#sec-allocatearraybuffer)([%ArrayBuffer%](https://262.ecma-international.org/12.0/#sec-arraybuffer-constructor), byteLength).
7.  Set O.\[\[ViewedArrayBuffer\]\] to data.
8.  Set O.\[\[ByteLength\]\] to byteLength.
9.  Set O.\[\[ByteOffset\]\] to 0.
10.  Set O.\[\[ArrayLength\]\] to length.
11.  Return O.

## 23.2.6 Properties of the TypedArray Constructors

Each TypedArray [constructor](https://262.ecma-international.org/12.0/#constructor):

-   has a \[\[Prototype\]\] internal slot whose value is [%TypedArray%](https://262.ecma-international.org/12.0/#sec-%typedarray%-intrinsic-object).
-   has a "name" property whose value is the String value of the [constructor](https://262.ecma-international.org/12.0/#constructor) name specified for it in [Table 60](https://262.ecma-international.org/12.0/#table-the-typedarray-constructors).
-   has the following properties:

## 23.2.6.1 TypedArray.BYTES\_PER\_ELEMENT

The value of TypedArray`.BYTES_PER_ELEMENT` is the Element Size value specified in [Table 60](https://262.ecma-international.org/12.0/#table-the-typedarray-constructors) for TypedArray.

This property has the attributes { \[\[Writable\]\]: false, \[\[Enumerable\]\]: false, \[\[Configurable\]\]: false }.

## 23.2.6.2 TypedArray.prototype

The initial value of TypedArray`.prototype` is the corresponding TypedArray prototype intrinsic object ([23.2.7](https://262.ecma-international.org/12.0/#sec-properties-of-typedarray-prototype-objects)).

This property has the attributes { \[\[Writable\]\]: false, \[\[Enumerable\]\]: false, \[\[Configurable\]\]: false }.

## 23.2.7 Properties of the TypedArray Prototype Objects

Each TypedArray prototype object:

-   has a \[\[Prototype\]\] internal slot whose value is [%TypedArray.prototype%](https://262.ecma-international.org/12.0/#sec-properties-of-the-%typedarrayprototype%-object).
-   is an [ordinary object](https://262.ecma-international.org/12.0/#ordinary-object).
-   does not have a \[\[ViewedArrayBuffer\]\] or any other of the internal slots that are specific to TypedArray instance objects.

## 23.2.7.1 TypedArray.prototype.BYTES\_PER\_ELEMENT

The value of TypedArray`.prototype.BYTES_PER_ELEMENT` is the Element Size value specified in [Table 60](https://262.ecma-international.org/12.0/#table-the-typedarray-constructors) for TypedArray.

This property has the attributes { \[\[Writable\]\]: false, \[\[Enumerable\]\]: false, \[\[Configurable\]\]: false }.

## 23.2.7.2 TypedArray.prototype.constructor

The initial value of a TypedArray`.prototype.constructor` is the corresponding [%TypedArray%](https://262.ecma-international.org/12.0/#sec-%typedarray%-intrinsic-object) intrinsic object.

## 23.2.8 Properties of TypedArray Instances

TypedArray instances are [Integer-Indexed exotic objects](https://262.ecma-international.org/12.0/#integer-indexed-exotic-object). Each TypedArray instance inherits properties from the corresponding TypedArray prototype object. Each TypedArray instance has the following internal slots: \[\[TypedArrayName\]\], \[\[ViewedArrayBuffer\]\], \[\[ByteLength\]\], \[\[ByteOffset\]\], and \[\[ArrayLength\]\].

## 24 Keyed Collections

## 24.1 Map Objects

Map objects are collections of key/value pairs where both the keys and values may be arbitrary ECMAScript language values. A distinct key value may only occur in one key/value pair within the Map's collection. Distinct key values are discriminated using the [SameValueZero](https://262.ecma-international.org/12.0/#sec-samevaluezero) comparison algorithm.

Map object must be implemented using either hash tables or other mechanisms that, on average, provide access times that are sublinear on the number of elements in the collection. The data structures used in this Map objects specification is only intended to describe the required observable semantics of Map objects. It is not intended to be a viable implementation model.

## 24.1.1 The Map Constructor

The Map [constructor](https://262.ecma-international.org/12.0/#constructor):

-   is %Map%.
-   is the initial value of the "Map" property of the [global object](https://262.ecma-international.org/12.0/#sec-global-object).
-   creates and initializes a new Map object when called as a [constructor](https://262.ecma-international.org/12.0/#constructor).
-   is not intended to be called as a function and will throw an exception when called in that manner.
-   is designed to be subclassable. It may be used as the value in an `extends` clause of a class definition. Subclass constructors that intend to inherit the specified Map behaviour must include a `super` call to the Map [constructor](https://262.ecma-international.org/12.0/#constructor) to create and initialize the subclass instance with the internal state necessary to support the `Map.prototype` built-in methods.

## 24.1.1.1 Map ( \[ iterable \] )

When the `Map` function is called with optional argument iterable, the following steps are taken:

1.  If NewTarget is undefined, throw a TypeError exception.
2.  Let map be ? [OrdinaryCreateFromConstructor](https://262.ecma-international.org/12.0/#sec-ordinarycreatefromconstructor)(NewTarget, "%Map.prototype%", « \[\[MapData\]\] »).
3.  Set map.\[\[MapData\]\] to a new empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).
4.  If iterable is either undefined or null, return map.
5.  Let adder be ? [Get](https://262.ecma-international.org/12.0/#sec-get-o-p)(map, "set").
6.  Return ? [AddEntriesFromIterable](https://262.ecma-international.org/12.0/#sec-add-entries-from-iterable)(map, iterable, adder).

Note

If the parameter iterable is present, it is expected to be an object that implements an [@@iterator](https://262.ecma-international.org/12.0/#sec-well-known-symbols) method that returns an iterator object that produces a two element [array-like object](https://262.ecma-international.org/12.0/#sec-lengthofarraylike) whose first element is a value that will be used as a Map key and whose second element is the value to associate with that key.

## 24.1.1.2 AddEntriesFromIterable ( target, iterable, adder )

The abstract operation AddEntriesFromIterable takes arguments target, iterable, and adder (a [function object](https://262.ecma-international.org/12.0/#function-object)). adder will be invoked, with target as the receiver. It performs the following steps when called:

1.  If [IsCallable](https://262.ecma-international.org/12.0/#sec-iscallable)(adder) is false, throw a TypeError exception.
2.  [Assert](https://262.ecma-international.org/12.0/#assert): iterable is present, and is neither undefined nor null.
3.  Let iteratorRecord be ? [GetIterator](https://262.ecma-international.org/12.0/#sec-getiterator)(iterable).
4.  Repeat,
    1.  Let next be ? [IteratorStep](https://262.ecma-international.org/12.0/#sec-iteratorstep)(iteratorRecord).
    2.  If next is false, return target.
    3.  Let nextItem be ? [IteratorValue](https://262.ecma-international.org/12.0/#sec-iteratorvalue)(next).
    4.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(nextItem) is not Object, then
        1.  Let error be [ThrowCompletion](https://262.ecma-international.org/12.0/#sec-throwcompletion)(a newly created TypeError object).
        2.  Return ? [IteratorClose](https://262.ecma-international.org/12.0/#sec-iteratorclose)(iteratorRecord, error).
    5.  Let k be [Get](https://262.ecma-international.org/12.0/#sec-get-o-p)(nextItem, "0").
    6.  If k is an [abrupt completion](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type), return ? [IteratorClose](https://262.ecma-international.org/12.0/#sec-iteratorclose)(iteratorRecord, k).
    7.  Let v be [Get](https://262.ecma-international.org/12.0/#sec-get-o-p)(nextItem, "1").
    8.  If v is an [abrupt completion](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type), return ? [IteratorClose](https://262.ecma-international.org/12.0/#sec-iteratorclose)(iteratorRecord, v).
    9.  Let status be [Call](https://262.ecma-international.org/12.0/#sec-call)(adder, target, « k.\[\[Value\]\], v.\[\[Value\]\] »).
    10.  If status is an [abrupt completion](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type), return ? [IteratorClose](https://262.ecma-international.org/12.0/#sec-iteratorclose)(iteratorRecord, status).

Note

The parameter iterable is expected to be an object that implements an [@@iterator](https://262.ecma-international.org/12.0/#sec-well-known-symbols) method that returns an iterator object that produces a two element [array-like object](https://262.ecma-international.org/12.0/#sec-lengthofarraylike) whose first element is a value that will be used as a Map key and whose second element is the value to associate with that key.

## 24.1.2 Properties of the Map Constructor

The Map [constructor](https://262.ecma-international.org/12.0/#constructor):

-   has a \[\[Prototype\]\] internal slot whose value is [%Function.prototype%](https://262.ecma-international.org/12.0/#sec-properties-of-the-function-prototype-object).
-   has the following properties:

## 24.1.2.1 Map.prototype

The initial value of `Map.prototype` is the [Map prototype object](https://262.ecma-international.org/12.0/#sec-properties-of-the-map-prototype-object).

This property has the attributes { \[\[Writable\]\]: false, \[\[Enumerable\]\]: false, \[\[Configurable\]\]: false }.

## 24.1.2.2 get Map \[ @@species \]

`Map[@@species]` is an [accessor property](https://262.ecma-international.org/12.0/#sec-object-type) whose set accessor function is undefined. Its get accessor function performs the following steps:

1.  Return the this value.

The value of the "name" property of this function is "get \[Symbol.species\]".

Note

Methods that create derived collection objects should call [@@species](https://262.ecma-international.org/12.0/#sec-well-known-symbols) to determine the [constructor](https://262.ecma-international.org/12.0/#constructor) to use to create the derived objects. Subclass [constructor](https://262.ecma-international.org/12.0/#constructor) may over-ride [@@species](https://262.ecma-international.org/12.0/#sec-well-known-symbols) to change the default [constructor](https://262.ecma-international.org/12.0/#constructor) assignment.

## 24.1.3 Properties of the Map Prototype Object

The Map prototype object:

-   is %Map.prototype%.
-   has a \[\[Prototype\]\] internal slot whose value is [%Object.prototype%](https://262.ecma-international.org/12.0/#sec-properties-of-the-object-prototype-object).
-   is an [ordinary object](https://262.ecma-international.org/12.0/#ordinary-object).
-   does not have a \[\[MapData\]\] internal slot.

## 24.1.3.1 Map.prototype.clear ( )

The following steps are taken:

1.  Let M be the this value.
2.  Perform ? [RequireInternalSlot](https://262.ecma-international.org/12.0/#sec-requireinternalslot)(M, \[\[MapData\]\]).
3.  Let entries be the [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) that is M.\[\[MapData\]\].
4.  For each [Record](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) { \[\[Key\]\], \[\[Value\]\] } p of entries, do
    1.  Set p.\[\[Key\]\] to empty.
    2.  Set p.\[\[Value\]\] to empty.
5.  Return undefined.

Note

The existing \[\[MapData\]\] [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) is preserved because there may be existing Map Iterator objects that are suspended midway through iterating over that [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).

## 24.1.3.2 Map.prototype.constructor

The initial value of `Map.prototype.constructor` is [%Map%](https://262.ecma-international.org/12.0/#sec-map-constructor).

## 24.1.3.3 Map.prototype.delete ( key )

The following steps are taken:

1.  Let M be the this value.
2.  Perform ? [RequireInternalSlot](https://262.ecma-international.org/12.0/#sec-requireinternalslot)(M, \[\[MapData\]\]).
3.  Let entries be the [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) that is M.\[\[MapData\]\].
4.  For each [Record](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) { \[\[Key\]\], \[\[Value\]\] } p of entries, do
    1.  If p.\[\[Key\]\] is not empty and [SameValueZero](https://262.ecma-international.org/12.0/#sec-samevaluezero)(p.\[\[Key\]\], key) is true, then
        1.  Set p.\[\[Key\]\] to empty.
        2.  Set p.\[\[Value\]\] to empty.
        3.  Return true.
5.  Return false.

Note

The value empty is used as a specification device to indicate that an entry has been deleted. Actual implementations may take other actions such as physically removing the entry from internal data structures.

## 24.1.3.4 Map.prototype.entries ( )

The following steps are taken:

1.  Let M be the this value.
2.  Return ? [CreateMapIterator](https://262.ecma-international.org/12.0/#sec-createmapiterator)(M, key+value).

## 24.1.3.5 Map.prototype.forEach ( callbackfn \[ , thisArg \] )

When the `forEach` method is called with one or two arguments, the following steps are taken:

1.  Let M be the this value.
2.  Perform ? [RequireInternalSlot](https://262.ecma-international.org/12.0/#sec-requireinternalslot)(M, \[\[MapData\]\]).
3.  If [IsCallable](https://262.ecma-international.org/12.0/#sec-iscallable)(callbackfn) is false, throw a TypeError exception.
4.  Let entries be the [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) that is M.\[\[MapData\]\].
5.  For each [Record](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) { \[\[Key\]\], \[\[Value\]\] } e of entries, do
    1.  If e.\[\[Key\]\] is not empty, then
        1.  Perform ? [Call](https://262.ecma-international.org/12.0/#sec-call)(callbackfn, thisArg, « e.\[\[Value\]\], e.\[\[Key\]\], M »).
6.  Return undefined.

Note

callbackfn should be a function that accepts three arguments. `forEach` calls callbackfn once for each key/value pair present in the map object, in key insertion order. callbackfn is called only for keys of the map which actually exist; it is not called for keys that have been deleted from the map.

If a thisArg parameter is provided, it will be used as the this value for each invocation of callbackfn. If it is not provided, undefined is used instead.

callbackfn is called with three arguments: the value of the item, the key of the item, and the Map object being traversed.

`forEach` does not directly mutate the object on which it is called but the object may be mutated by the calls to callbackfn. Each entry of a map's \[\[MapData\]\] is only visited once. New keys added after the call to `forEach` begins are visited. A key will be revisited if it is deleted after it has been visited and then re-added before the `forEach` call completes. Keys that are deleted after the call to `forEach` begins and before being visited are not visited unless the key is added again before the `forEach` call completes.

## 24.1.3.6 Map.prototype.get ( key )

The following steps are taken:

1.  Let M be the this value.
2.  Perform ? [RequireInternalSlot](https://262.ecma-international.org/12.0/#sec-requireinternalslot)(M, \[\[MapData\]\]).
3.  Let entries be the [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) that is M.\[\[MapData\]\].
4.  For each [Record](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) { \[\[Key\]\], \[\[Value\]\] } p of entries, do
    1.  If p.\[\[Key\]\] is not empty and [SameValueZero](https://262.ecma-international.org/12.0/#sec-samevaluezero)(p.\[\[Key\]\], key) is true, return p.\[\[Value\]\].
5.  Return undefined.

## 24.1.3.7 Map.prototype.has ( key )

The following steps are taken:

1.  Let M be the this value.
2.  Perform ? [RequireInternalSlot](https://262.ecma-international.org/12.0/#sec-requireinternalslot)(M, \[\[MapData\]\]).
3.  Let entries be the [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) that is M.\[\[MapData\]\].
4.  For each [Record](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) { \[\[Key\]\], \[\[Value\]\] } p of entries, do
    1.  If p.\[\[Key\]\] is not empty and [SameValueZero](https://262.ecma-international.org/12.0/#sec-samevaluezero)(p.\[\[Key\]\], key) is true, return true.
5.  Return false.

## 24.1.3.8 Map.prototype.keys ( )

The following steps are taken:

1.  Let M be the this value.
2.  Return ? [CreateMapIterator](https://262.ecma-international.org/12.0/#sec-createmapiterator)(M, key).

## 24.1.3.9 Map.prototype.set ( key, value )

The following steps are taken:

1.  Let M be the this value.
2.  Perform ? [RequireInternalSlot](https://262.ecma-international.org/12.0/#sec-requireinternalslot)(M, \[\[MapData\]\]).
3.  Let entries be the [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) that is M.\[\[MapData\]\].
4.  For each [Record](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) { \[\[Key\]\], \[\[Value\]\] } p of entries, do
    1.  If p.\[\[Key\]\] is not empty and [SameValueZero](https://262.ecma-international.org/12.0/#sec-samevaluezero)(p.\[\[Key\]\], key) is true, then
        1.  Set p.\[\[Value\]\] to value.
        2.  Return M.
5.  If key is \-0𝔽, set key to +0𝔽.
6.  Let p be the [Record](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) { \[\[Key\]\]: key, \[\[Value\]\]: value }.
7.  Append p as the last element of entries.
8.  Return M.

## 24.1.3.10 get Map.prototype.size

`Map.prototype.size` is an [accessor property](https://262.ecma-international.org/12.0/#sec-object-type) whose set accessor function is undefined. Its get accessor function performs the following steps:

1.  Let M be the this value.
2.  Perform ? [RequireInternalSlot](https://262.ecma-international.org/12.0/#sec-requireinternalslot)(M, \[\[MapData\]\]).
3.  Let entries be the [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) that is M.\[\[MapData\]\].
4.  Let count be 0.
5.  For each [Record](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) { \[\[Key\]\], \[\[Value\]\] } p of entries, do
    1.  If p.\[\[Key\]\] is not empty, set count to count + 1.
6.  Return [𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(count).

## 24.1.3.11 Map.prototype.values ( )

The following steps are taken:

1.  Let M be the this value.
2.  Return ? [CreateMapIterator](https://262.ecma-international.org/12.0/#sec-createmapiterator)(M, value).

## 24.1.3.12 Map.prototype \[ @@iterator \] ( )

The initial value of the [@@iterator](https://262.ecma-international.org/12.0/#sec-well-known-symbols) property is the same [function object](https://262.ecma-international.org/12.0/#function-object) as the initial value of the "entries" property.

## 24.1.3.13 Map.prototype \[ @@toStringTag \]

The initial value of the [@@toStringTag](https://262.ecma-international.org/12.0/#sec-well-known-symbols) property is the String value "Map".

This property has the attributes { \[\[Writable\]\]: false, \[\[Enumerable\]\]: false, \[\[Configurable\]\]: true }.

## 24.1.4 Properties of Map Instances

Map instances are ordinary objects that inherit properties from the Map prototype. Map instances also have a \[\[MapData\]\] internal slot.

## 24.1.5 Map Iterator Objects

A Map Iterator is an object, that represents a specific iteration over some specific Map instance object. There is not a named [constructor](https://262.ecma-international.org/12.0/#constructor) for Map Iterator objects. Instead, map iterator objects are created by calling certain methods of Map instance objects.

## 24.1.5.1 CreateMapIterator ( map, kind )

The abstract operation CreateMapIterator takes arguments map and kind. This operation is used to create iterator objects for Map methods that return such iterators. It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): kind is key+value, key, or value.
2.  Perform ? [RequireInternalSlot](https://262.ecma-international.org/12.0/#sec-requireinternalslot)(map, \[\[MapData\]\]).
3.  Let closure be a new [Abstract Closure](https://262.ecma-international.org/12.0/#sec-abstract-closure) with no parameters that captures map and kind and performs the following steps when called:
    1.  Let entries be the [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) that is map.\[\[MapData\]\].
    2.  Let index be 0.
    3.  Let numEntries be the number of elements of entries.
    4.  Repeat, while index < numEntries,
        1.  Let e be the [Record](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) { \[\[Key\]\], \[\[Value\]\] } that is the value of entries\[index\].
        2.  Set index to index + 1.
        3.  If e.\[\[Key\]\] is not empty, then
            1.  If kind is key, let result be e.\[\[Key\]\].
            2.  Else if kind is value, let result be e.\[\[Value\]\].
            3.  Else,
                1.  [Assert](https://262.ecma-international.org/12.0/#assert): kind is key+value.
                2.  Let result be ! [CreateArrayFromList](https://262.ecma-international.org/12.0/#sec-createarrayfromlist)(« e.\[\[Key\]\], e.\[\[Value\]\] »).
            4.  Perform ? [Yield](https://262.ecma-international.org/12.0/#sec-yield)(result).
            5.  NOTE: the number of elements in entries may have changed while execution of this abstract operation was paused by [Yield](https://262.ecma-international.org/12.0/#sec-yield).
            6.  Set numEntries to the number of elements of entries.
    5.  Return undefined.
4.  Return ! [CreateIteratorFromClosure](https://262.ecma-international.org/12.0/#sec-createiteratorfromclosure)(closure, "%MapIteratorPrototype%", [%MapIteratorPrototype%](https://262.ecma-international.org/12.0/#sec-%mapiteratorprototype%-object)).

## 24.1.5.2 The %MapIteratorPrototype% Object

The %MapIteratorPrototype% object:

-   has properties that are inherited by all Map Iterator Objects.
-   is an [ordinary object](https://262.ecma-international.org/12.0/#ordinary-object).
-   has a \[\[Prototype\]\] internal slot whose value is [%IteratorPrototype%](https://262.ecma-international.org/12.0/#sec-%iteratorprototype%-object).
-   has the following properties:

## 24.1.5.2.1 %MapIteratorPrototype%.next ( )

1.  Return ? [GeneratorResume](https://262.ecma-international.org/12.0/#sec-generatorresume)(this value, empty, "%MapIteratorPrototype%").

## 24.1.5.2.2 %MapIteratorPrototype% \[ @@toStringTag \]

The initial value of the [@@toStringTag](https://262.ecma-international.org/12.0/#sec-well-known-symbols) property is the String value "Map Iterator".

This property has the attributes { \[\[Writable\]\]: false, \[\[Enumerable\]\]: false, \[\[Configurable\]\]: true }.

## 24.2 Set Objects

Set objects are collections of ECMAScript language values. A distinct value may only occur once as an element of a Set's collection. Distinct values are discriminated using the [SameValueZero](https://262.ecma-international.org/12.0/#sec-samevaluezero) comparison algorithm.

Set objects must be implemented using either hash tables or other mechanisms that, on average, provide access times that are sublinear on the number of elements in the collection. The data structures used in this Set objects specification is only intended to describe the required observable semantics of Set objects. It is not intended to be a viable implementation model.

## 24.2.1 The Set Constructor

The Set [constructor](https://262.ecma-international.org/12.0/#constructor):

-   is %Set%.
-   is the initial value of the "Set" property of the [global object](https://262.ecma-international.org/12.0/#sec-global-object).
-   creates and initializes a new Set object when called as a [constructor](https://262.ecma-international.org/12.0/#constructor).
-   is not intended to be called as a function and will throw an exception when called in that manner.
-   is designed to be subclassable. It may be used as the value in an `extends` clause of a class definition. Subclass constructors that intend to inherit the specified Set behaviour must include a `super` call to the Set [constructor](https://262.ecma-international.org/12.0/#constructor) to create and initialize the subclass instance with the internal state necessary to support the `Set.prototype` built-in methods.

## 24.2.1.1 Set ( \[ iterable \] )

When the `Set` function is called with optional argument iterable, the following steps are taken:

1.  If NewTarget is undefined, throw a TypeError exception.
2.  Let set be ? [OrdinaryCreateFromConstructor](https://262.ecma-international.org/12.0/#sec-ordinarycreatefromconstructor)(NewTarget, "%Set.prototype%", « \[\[SetData\]\] »).
3.  Set set.\[\[SetData\]\] to a new empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).
4.  If iterable is either undefined or null, return set.
5.  Let adder be ? [Get](https://262.ecma-international.org/12.0/#sec-get-o-p)(set, "add").
6.  If [IsCallable](https://262.ecma-international.org/12.0/#sec-iscallable)(adder) is false, throw a TypeError exception.
7.  Let iteratorRecord be ? [GetIterator](https://262.ecma-international.org/12.0/#sec-getiterator)(iterable).
8.  Repeat,
    1.  Let next be ? [IteratorStep](https://262.ecma-international.org/12.0/#sec-iteratorstep)(iteratorRecord).
    2.  If next is false, return set.
    3.  Let nextValue be ? [IteratorValue](https://262.ecma-international.org/12.0/#sec-iteratorvalue)(next).
    4.  Let status be [Call](https://262.ecma-international.org/12.0/#sec-call)(adder, set, « nextValue »).
    5.  If status is an [abrupt completion](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type), return ? [IteratorClose](https://262.ecma-international.org/12.0/#sec-iteratorclose)(iteratorRecord, status).

## 24.2.2 Properties of the Set Constructor

The Set [constructor](https://262.ecma-international.org/12.0/#constructor):

-   has a \[\[Prototype\]\] internal slot whose value is [%Function.prototype%](https://262.ecma-international.org/12.0/#sec-properties-of-the-function-prototype-object).
-   has the following properties:

## 24.2.2.1 Set.prototype

The initial value of `Set.prototype` is the [Set prototype object](https://262.ecma-international.org/12.0/#sec-properties-of-the-set-prototype-object).

This property has the attributes { \[\[Writable\]\]: false, \[\[Enumerable\]\]: false, \[\[Configurable\]\]: false }.

## 24.2.2.2 get Set \[ @@species \]

`Set[@@species]` is an [accessor property](https://262.ecma-international.org/12.0/#sec-object-type) whose set accessor function is undefined. Its get accessor function performs the following steps:

1.  Return the this value.

The value of the "name" property of this function is "get \[Symbol.species\]".

Note

Methods that create derived collection objects should call [@@species](https://262.ecma-international.org/12.0/#sec-well-known-symbols) to determine the [constructor](https://262.ecma-international.org/12.0/#constructor) to use to create the derived objects. Subclass [constructor](https://262.ecma-international.org/12.0/#constructor) may over-ride [@@species](https://262.ecma-international.org/12.0/#sec-well-known-symbols) to change the default [constructor](https://262.ecma-international.org/12.0/#constructor) assignment.

## 24.2.3 Properties of the Set Prototype Object

The Set prototype object:

-   is %Set.prototype%.
-   has a \[\[Prototype\]\] internal slot whose value is [%Object.prototype%](https://262.ecma-international.org/12.0/#sec-properties-of-the-object-prototype-object).
-   is an [ordinary object](https://262.ecma-international.org/12.0/#ordinary-object).
-   does not have a \[\[SetData\]\] internal slot.

## 24.2.3.1 Set.prototype.add ( value )

The following steps are taken:

1.  Let S be the this value.
2.  Perform ? [RequireInternalSlot](https://262.ecma-international.org/12.0/#sec-requireinternalslot)(S, \[\[SetData\]\]).
3.  Let entries be the [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) that is S.\[\[SetData\]\].
4.  For each element e of entries, do
    1.  If e is not empty and [SameValueZero](https://262.ecma-international.org/12.0/#sec-samevaluezero)(e, value) is true, then
        1.  Return S.
5.  If value is \-0𝔽, set value to +0𝔽.
6.  Append value as the last element of entries.
7.  Return S.

## 24.2.3.2 Set.prototype.clear ( )

The following steps are taken:

1.  Let S be the this value.
2.  Perform ? [RequireInternalSlot](https://262.ecma-international.org/12.0/#sec-requireinternalslot)(S, \[\[SetData\]\]).
3.  Let entries be the [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) that is S.\[\[SetData\]\].
4.  For each element e of entries, do
    1.  Replace the element of entries whose value is e with an element whose value is empty.
5.  Return undefined.

Note

The existing \[\[SetData\]\] [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) is preserved because there may be existing Set Iterator objects that are suspended midway through iterating over that [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).

## 24.2.3.3 Set.prototype.constructor

The initial value of `Set.prototype.constructor` is [%Set%](https://262.ecma-international.org/12.0/#sec-set-constructor).

## 24.2.3.4 Set.prototype.delete ( value )

The following steps are taken:

1.  Let S be the this value.
2.  Perform ? [RequireInternalSlot](https://262.ecma-international.org/12.0/#sec-requireinternalslot)(S, \[\[SetData\]\]).
3.  Let entries be the [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) that is S.\[\[SetData\]\].
4.  For each element e of entries, do
    1.  If e is not empty and [SameValueZero](https://262.ecma-international.org/12.0/#sec-samevaluezero)(e, value) is true, then
        1.  Replace the element of entries whose value is e with an element whose value is empty.
        2.  Return true.
5.  Return false.

Note

The value empty is used as a specification device to indicate that an entry has been deleted. Actual implementations may take other actions such as physically removing the entry from internal data structures.

## 24.2.3.5 Set.prototype.entries ( )

The following steps are taken:

1.  Let S be the this value.
2.  Return ? [CreateSetIterator](https://262.ecma-international.org/12.0/#sec-createsetiterator)(S, key+value).

Note

For iteration purposes, a Set appears similar to a Map where each entry has the same value for its key and value.

## 24.2.3.6 Set.prototype.forEach ( callbackfn \[ , thisArg \] )

When the `forEach` method is called with one or two arguments, the following steps are taken:

1.  Let S be the this value.
2.  Perform ? [RequireInternalSlot](https://262.ecma-international.org/12.0/#sec-requireinternalslot)(S, \[\[SetData\]\]).
3.  If [IsCallable](https://262.ecma-international.org/12.0/#sec-iscallable)(callbackfn) is false, throw a TypeError exception.
4.  Let entries be the [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) that is S.\[\[SetData\]\].
5.  For each element e of entries, do
    1.  If e is not empty, then
        1.  Perform ? [Call](https://262.ecma-international.org/12.0/#sec-call)(callbackfn, thisArg, « e, e, S »).
6.  Return undefined.

Note

callbackfn should be a function that accepts three arguments. `forEach` calls callbackfn once for each value present in the set object, in value insertion order. callbackfn is called only for values of the Set which actually exist; it is not called for keys that have been deleted from the set.

If a thisArg parameter is provided, it will be used as the this value for each invocation of callbackfn. If it is not provided, undefined is used instead.

callbackfn is called with three arguments: the first two arguments are a value contained in the Set. The same value is passed for both arguments. The Set object being traversed is passed as the third argument.

The callbackfn is called with three arguments to be consistent with the call back functions used by `forEach` methods for Map and Array. For Sets, each item value is considered to be both the key and the value.

`forEach` does not directly mutate the object on which it is called but the object may be mutated by the calls to callbackfn.

Each value is normally visited only once. However, a value will be revisited if it is deleted after it has been visited and then re-added before the `forEach` call completes. Values that are deleted after the call to `forEach` begins and before being visited are not visited unless the value is added again before the `forEach` call completes. New values added after the call to `forEach` begins are visited.

## 24.2.3.7 Set.prototype.has ( value )

The following steps are taken:

1.  Let S be the this value.
2.  Perform ? [RequireInternalSlot](https://262.ecma-international.org/12.0/#sec-requireinternalslot)(S, \[\[SetData\]\]).
3.  Let entries be the [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) that is S.\[\[SetData\]\].
4.  For each element e of entries, do
    1.  If e is not empty and [SameValueZero](https://262.ecma-international.org/12.0/#sec-samevaluezero)(e, value) is true, return true.
5.  Return false.

## 24.2.3.8 Set.prototype.keys ( )

The initial value of the "keys" property is the same [function object](https://262.ecma-international.org/12.0/#function-object) as the initial value of the "values" property.

Note

For iteration purposes, a Set appears similar to a Map where each entry has the same value for its key and value.

## 24.2.3.9 get Set.prototype.size

`Set.prototype.size` is an [accessor property](https://262.ecma-international.org/12.0/#sec-object-type) whose set accessor function is undefined. Its get accessor function performs the following steps:

1.  Let S be the this value.
2.  Perform ? [RequireInternalSlot](https://262.ecma-international.org/12.0/#sec-requireinternalslot)(S, \[\[SetData\]\]).
3.  Let entries be the [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) that is S.\[\[SetData\]\].
4.  Let count be 0.
5.  For each element e of entries, do
    1.  If e is not empty, set count to count + 1.
6.  Return [𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(count).

## 24.2.3.10 Set.prototype.values ( )

The following steps are taken:

1.  Let S be the this value.
2.  Return ? [CreateSetIterator](https://262.ecma-international.org/12.0/#sec-createsetiterator)(S, value).

## 24.2.3.11 Set.prototype \[ @@iterator \] ( )

The initial value of the [@@iterator](https://262.ecma-international.org/12.0/#sec-well-known-symbols) property is the same [function object](https://262.ecma-international.org/12.0/#function-object) as the initial value of the "values" property.

## 24.2.3.12 Set.prototype \[ @@toStringTag \]

The initial value of the [@@toStringTag](https://262.ecma-international.org/12.0/#sec-well-known-symbols) property is the String value "Set".

This property has the attributes { \[\[Writable\]\]: false, \[\[Enumerable\]\]: false, \[\[Configurable\]\]: true }.

## 24.2.4 Properties of Set Instances

Set instances are ordinary objects that inherit properties from the Set prototype. Set instances also have a \[\[SetData\]\] internal slot.

## 24.2.5 Set Iterator Objects

A Set Iterator is an [ordinary object](https://262.ecma-international.org/12.0/#ordinary-object), with the structure defined below, that represents a specific iteration over some specific Set instance object. There is not a named [constructor](https://262.ecma-international.org/12.0/#constructor) for Set Iterator objects. Instead, set iterator objects are created by calling certain methods of Set instance objects.

## 24.2.5.1 CreateSetIterator ( set, kind )

The abstract operation CreateSetIterator takes arguments set and kind. This operation is used to create iterator objects for Set methods that return such iterators. It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): kind is key+value or value.
2.  Perform ? [RequireInternalSlot](https://262.ecma-international.org/12.0/#sec-requireinternalslot)(set, \[\[SetData\]\]).
3.  Let closure be a new [Abstract Closure](https://262.ecma-international.org/12.0/#sec-abstract-closure) with no parameters that captures set and kind and performs the following steps when called:
    1.  Let index be 0.
    2.  Let entries be the [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) that is set.\[\[SetData\]\].
    3.  Let numEntries be the number of elements of entries.
    4.  Repeat, while index < numEntries,
        1.  Let e be entries\[index\].
        2.  Set index to index + 1.
        3.  If e is not empty, then
            1.  If kind is key+value, then
                1.  Perform ? [Yield](https://262.ecma-international.org/12.0/#sec-yield)(! [CreateArrayFromList](https://262.ecma-international.org/12.0/#sec-createarrayfromlist)(« e, e »)).
            2.  Else,
                1.  [Assert](https://262.ecma-international.org/12.0/#assert): kind is value.
                2.  Perform ? [Yield](https://262.ecma-international.org/12.0/#sec-yield)(e).
            3.  NOTE: the number of elements in entries may have changed while execution of this abstract operation was paused by [Yield](https://262.ecma-international.org/12.0/#sec-yield).
            4.  Set numEntries to the number of elements of entries.
    5.  Return undefined.
4.  Return ! [CreateIteratorFromClosure](https://262.ecma-international.org/12.0/#sec-createiteratorfromclosure)(closure, "%SetIteratorPrototype%", [%SetIteratorPrototype%](https://262.ecma-international.org/12.0/#sec-%setiteratorprototype%-object)).

## 24.2.5.2 The %SetIteratorPrototype% Object

The %SetIteratorPrototype% object:

-   has properties that are inherited by all Set Iterator Objects.
-   is an [ordinary object](https://262.ecma-international.org/12.0/#ordinary-object).
-   has a \[\[Prototype\]\] internal slot whose value is [%IteratorPrototype%](https://262.ecma-international.org/12.0/#sec-%iteratorprototype%-object).
-   has the following properties:

## 24.2.5.2.1 %SetIteratorPrototype%.next ( )

1.  Return ? [GeneratorResume](https://262.ecma-international.org/12.0/#sec-generatorresume)(this value, empty, "%SetIteratorPrototype%").

## 24.2.5.2.2 %SetIteratorPrototype% \[ @@toStringTag \]

The initial value of the [@@toStringTag](https://262.ecma-international.org/12.0/#sec-well-known-symbols) property is the String value "Set Iterator".

This property has the attributes { \[\[Writable\]\]: false, \[\[Enumerable\]\]: false, \[\[Configurable\]\]: true }.

## 24.3 WeakMap Objects

WeakMap objects are collections of key/value pairs where the keys are objects and values may be arbitrary ECMAScript language values. A WeakMap may be queried to see if it contains a key/value pair with a specific key, but no mechanism is provided for enumerating the objects it holds as keys. In certain conditions, objects which are not [live](https://262.ecma-international.org/12.0/#sec-liveness) are removed as WeakMap keys, as described in [9.9.3](https://262.ecma-international.org/12.0/#sec-weakref-execution).

An implementation may impose an arbitrarily determined latency between the time a key/value pair of a WeakMap becomes inaccessible and the time when the key/value pair is removed from the WeakMap. If this latency was observable to ECMAScript program, it would be a source of indeterminacy that could impact program execution. For that reason, an ECMAScript implementation must not provide any means to observe a key of a WeakMap that does not require the observer to present the observed key.

WeakMap objects must be implemented using either hash tables or other mechanisms that, on average, provide access times that are sublinear on the number of key/value pairs in the collection. The data structure used in this WeakMap objects specification are only intended to describe the required observable semantics of WeakMap objects. It is not intended to be a viable implementation model.

Note

WeakMap and WeakSets are intended to provide mechanisms for dynamically associating state with an object in a manner that does not “leak” memory resources if, in the absence of the WeakMap or WeakSet, the object otherwise became inaccessible and subject to resource reclamation by the implementation's garbage collection mechanisms. This characteristic can be achieved by using an inverted per-object mapping of weak map instances to keys. Alternatively each weak map may internally store its key to value mappings but this approach requires coordination between the WeakMap or WeakSet implementation and the garbage collector. The following references describe mechanism that may be useful to implementations of WeakMap and WeakSets:

Barry Hayes. 1997. Ephemerons: a new finalization mechanism. In _Proceedings of the 12th ACM SIGPLAN conference on Object-oriented programming, systems, languages, and applications (OOPSLA '97)_, A. Michael Berman (Ed.). ACM, New York, NY, USA, 176-183, [http://doi.acm.org/10.1145/263698.263733](http://doi.acm.org/10.1145/263698.263733).

Alexandra Barros, Roberto Ierusalimschy, Eliminating Cycles in Weak Tables. Journal of Universal Computer Science - J.UCS, vol. 14, no. 21, pp. 3481-3497, 2008, [http://www.jucs.org/jucs\_14\_21/eliminating\_cycles\_in\_weak](http://www.jucs.org/jucs_14_21/eliminating_cycles_in_weak)

## 24.3.1 The WeakMap Constructor

The WeakMap [constructor](https://262.ecma-international.org/12.0/#constructor):

-   is %WeakMap%.
-   is the initial value of the "WeakMap" property of the [global object](https://262.ecma-international.org/12.0/#sec-global-object).
-   creates and initializes a new WeakMap object when called as a [constructor](https://262.ecma-international.org/12.0/#constructor).
-   is not intended to be called as a function and will throw an exception when called in that manner.
-   is designed to be subclassable. It may be used as the value in an `extends` clause of a class definition. Subclass constructors that intend to inherit the specified WeakMap behaviour must include a `super` call to the WeakMap [constructor](https://262.ecma-international.org/12.0/#constructor) to create and initialize the subclass instance with the internal state necessary to support the `WeakMap.prototype` built-in methods.

## 24.3.1.1 WeakMap ( \[ iterable \] )

When the `WeakMap` function is called with optional argument iterable, the following steps are taken:

1.  If NewTarget is undefined, throw a TypeError exception.
2.  Let map be ? [OrdinaryCreateFromConstructor](https://262.ecma-international.org/12.0/#sec-ordinarycreatefromconstructor)(NewTarget, "%WeakMap.prototype%", « \[\[WeakMapData\]\] »).
3.  Set map.\[\[WeakMapData\]\] to a new empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).
4.  If iterable is either undefined or null, return map.
5.  Let adder be ? [Get](https://262.ecma-international.org/12.0/#sec-get-o-p)(map, "set").
6.  Return ? [AddEntriesFromIterable](https://262.ecma-international.org/12.0/#sec-add-entries-from-iterable)(map, iterable, adder).

Note

If the parameter iterable is present, it is expected to be an object that implements an [@@iterator](https://262.ecma-international.org/12.0/#sec-well-known-symbols) method that returns an iterator object that produces a two element [array-like object](https://262.ecma-international.org/12.0/#sec-lengthofarraylike) whose first element is a value that will be used as a WeakMap key and whose second element is the value to associate with that key.

## 24.3.2 Properties of the WeakMap Constructor

The WeakMap [constructor](https://262.ecma-international.org/12.0/#constructor):

-   has a \[\[Prototype\]\] internal slot whose value is [%Function.prototype%](https://262.ecma-international.org/12.0/#sec-properties-of-the-function-prototype-object).
-   has the following properties:

## 24.3.2.1 WeakMap.prototype

The initial value of `WeakMap.prototype` is the [WeakMap prototype object](https://262.ecma-international.org/12.0/#sec-properties-of-the-weakmap-prototype-object).

This property has the attributes { \[\[Writable\]\]: false, \[\[Enumerable\]\]: false, \[\[Configurable\]\]: false }.

## 24.3.3 Properties of the WeakMap Prototype Object

The WeakMap prototype object:

-   is %WeakMap.prototype%.
-   has a \[\[Prototype\]\] internal slot whose value is [%Object.prototype%](https://262.ecma-international.org/12.0/#sec-properties-of-the-object-prototype-object).
-   is an [ordinary object](https://262.ecma-international.org/12.0/#ordinary-object).
-   does not have a \[\[WeakMapData\]\] internal slot.

## 24.3.3.1 WeakMap.prototype.constructor

The initial value of `WeakMap.prototype.constructor` is [%WeakMap%](https://262.ecma-international.org/12.0/#sec-weakmap-constructor).

## 24.3.3.2 WeakMap.prototype.delete ( key )

The following steps are taken:

1.  Let M be the this value.
2.  Perform ? [RequireInternalSlot](https://262.ecma-international.org/12.0/#sec-requireinternalslot)(M, \[\[WeakMapData\]\]).
3.  Let entries be the [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) that is M.\[\[WeakMapData\]\].
4.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(key) is not Object, return false.
5.  For each [Record](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) { \[\[Key\]\], \[\[Value\]\] } p of entries, do
    1.  If p.\[\[Key\]\] is not empty and [SameValue](https://262.ecma-international.org/12.0/#sec-samevalue)(p.\[\[Key\]\], key) is true, then
        1.  Set p.\[\[Key\]\] to empty.
        2.  Set p.\[\[Value\]\] to empty.
        3.  Return true.
6.  Return false.

Note

The value empty is used as a specification device to indicate that an entry has been deleted. Actual implementations may take other actions such as physically removing the entry from internal data structures.

## 24.3.3.3 WeakMap.prototype.get ( key )

The following steps are taken:

1.  Let M be the this value.
2.  Perform ? [RequireInternalSlot](https://262.ecma-international.org/12.0/#sec-requireinternalslot)(M, \[\[WeakMapData\]\]).
3.  Let entries be the [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) that is M.\[\[WeakMapData\]\].
4.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(key) is not Object, return undefined.
5.  For each [Record](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) { \[\[Key\]\], \[\[Value\]\] } p of entries, do
    1.  If p.\[\[Key\]\] is not empty and [SameValue](https://262.ecma-international.org/12.0/#sec-samevalue)(p.\[\[Key\]\], key) is true, return p.\[\[Value\]\].
6.  Return undefined.

## 24.3.3.4 WeakMap.prototype.has ( key )

The following steps are taken:

1.  Let M be the this value.
2.  Perform ? [RequireInternalSlot](https://262.ecma-international.org/12.0/#sec-requireinternalslot)(M, \[\[WeakMapData\]\]).
3.  Let entries be the [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) that is M.\[\[WeakMapData\]\].
4.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(key) is not Object, return false.
5.  For each [Record](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) { \[\[Key\]\], \[\[Value\]\] } p of entries, do
    1.  If p.\[\[Key\]\] is not empty and [SameValue](https://262.ecma-international.org/12.0/#sec-samevalue)(p.\[\[Key\]\], key) is true, return true.
6.  Return false.

## 24.3.3.5 WeakMap.prototype.set ( key, value )

The following steps are taken:

1.  Let M be the this value.
2.  Perform ? [RequireInternalSlot](https://262.ecma-international.org/12.0/#sec-requireinternalslot)(M, \[\[WeakMapData\]\]).
3.  Let entries be the [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) that is M.\[\[WeakMapData\]\].
4.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(key) is not Object, throw a TypeError exception.
5.  For each [Record](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) { \[\[Key\]\], \[\[Value\]\] } p of entries, do
    1.  If p.\[\[Key\]\] is not empty and [SameValue](https://262.ecma-international.org/12.0/#sec-samevalue)(p.\[\[Key\]\], key) is true, then
        1.  Set p.\[\[Value\]\] to value.
        2.  Return M.
6.  Let p be the [Record](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) { \[\[Key\]\]: key, \[\[Value\]\]: value }.
7.  Append p as the last element of entries.
8.  Return M.

## 24.3.3.6 WeakMap.prototype \[ @@toStringTag \]

The initial value of the [@@toStringTag](https://262.ecma-international.org/12.0/#sec-well-known-symbols) property is the String value "WeakMap".

This property has the attributes { \[\[Writable\]\]: false, \[\[Enumerable\]\]: false, \[\[Configurable\]\]: true }.

## 24.3.4 Properties of WeakMap Instances

WeakMap instances are ordinary objects that inherit properties from the WeakMap prototype. WeakMap instances also have a \[\[WeakMapData\]\] internal slot.

## 24.4 WeakSet Objects

WeakSet objects are collections of objects. A distinct object may only occur once as an element of a WeakSet's collection. A WeakSet may be queried to see if it contains a specific object, but no mechanism is provided for enumerating the objects it holds. In certain conditions, objects which are not [live](https://262.ecma-international.org/12.0/#sec-liveness) are removed as WeakSet elements, as described in [9.9.3](https://262.ecma-international.org/12.0/#sec-weakref-execution).

An implementation may impose an arbitrarily determined latency between the time an object contained in a WeakSet becomes inaccessible and the time when the object is removed from the WeakSet. If this latency was observable to ECMAScript program, it would be a source of indeterminacy that could impact program execution. For that reason, an ECMAScript implementation must not provide any means to determine if a WeakSet contains a particular object that does not require the observer to present the observed object.

WeakSet objects must be implemented using either hash tables or other mechanisms that, on average, provide access times that are sublinear on the number of elements in the collection. The data structure used in this WeakSet objects specification is only intended to describe the required observable semantics of WeakSet objects. It is not intended to be a viable implementation model.

Note

See the NOTE in [24.3](https://262.ecma-international.org/12.0/#sec-weakmap-objects).

## 24.4.1 The WeakSet Constructor

The WeakSet [constructor](https://262.ecma-international.org/12.0/#constructor):

-   is %WeakSet%.
-   is the initial value of the "WeakSet" property of the [global object](https://262.ecma-international.org/12.0/#sec-global-object).
-   creates and initializes a new WeakSet object when called as a [constructor](https://262.ecma-international.org/12.0/#constructor).
-   is not intended to be called as a function and will throw an exception when called in that manner.
-   is designed to be subclassable. It may be used as the value in an `extends` clause of a class definition. Subclass constructors that intend to inherit the specified WeakSet behaviour must include a `super` call to the WeakSet [constructor](https://262.ecma-international.org/12.0/#constructor) to create and initialize the subclass instance with the internal state necessary to support the `WeakSet.prototype` built-in methods.

## 24.4.1.1 WeakSet ( \[ iterable \] )

When the `WeakSet` function is called with optional argument iterable, the following steps are taken:

1.  If NewTarget is undefined, throw a TypeError exception.
2.  Let set be ? [OrdinaryCreateFromConstructor](https://262.ecma-international.org/12.0/#sec-ordinarycreatefromconstructor)(NewTarget, "%WeakSet.prototype%", « \[\[WeakSetData\]\] »).
3.  Set set.\[\[WeakSetData\]\] to a new empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).
4.  If iterable is either undefined or null, return set.
5.  Let adder be ? [Get](https://262.ecma-international.org/12.0/#sec-get-o-p)(set, "add").
6.  If [IsCallable](https://262.ecma-international.org/12.0/#sec-iscallable)(adder) is false, throw a TypeError exception.
7.  Let iteratorRecord be ? [GetIterator](https://262.ecma-international.org/12.0/#sec-getiterator)(iterable).
8.  Repeat,
    1.  Let next be ? [IteratorStep](https://262.ecma-international.org/12.0/#sec-iteratorstep)(iteratorRecord).
    2.  If next is false, return set.
    3.  Let nextValue be ? [IteratorValue](https://262.ecma-international.org/12.0/#sec-iteratorvalue)(next).
    4.  Let status be [Call](https://262.ecma-international.org/12.0/#sec-call)(adder, set, « nextValue »).
    5.  If status is an [abrupt completion](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type), return ? [IteratorClose](https://262.ecma-international.org/12.0/#sec-iteratorclose)(iteratorRecord, status).

## 24.4.2 Properties of the WeakSet Constructor

The WeakSet [constructor](https://262.ecma-international.org/12.0/#constructor):

-   has a \[\[Prototype\]\] internal slot whose value is [%Function.prototype%](https://262.ecma-international.org/12.0/#sec-properties-of-the-function-prototype-object).
-   has the following properties:

## 24.4.2.1 WeakSet.prototype

The initial value of `WeakSet.prototype` is the [WeakSet prototype object](https://262.ecma-international.org/12.0/#sec-properties-of-the-weakset-prototype-object).

This property has the attributes { \[\[Writable\]\]: false, \[\[Enumerable\]\]: false, \[\[Configurable\]\]: false }.

## 24.4.3 Properties of the WeakSet Prototype Object

The WeakSet prototype object:

-   is %WeakSet.prototype%.
-   has a \[\[Prototype\]\] internal slot whose value is [%Object.prototype%](https://262.ecma-international.org/12.0/#sec-properties-of-the-object-prototype-object).
-   is an [ordinary object](https://262.ecma-international.org/12.0/#ordinary-object).
-   does not have a \[\[WeakSetData\]\] internal slot.

## 24.4.3.1 WeakSet.prototype.add ( value )

The following steps are taken:

1.  Let S be the this value.
2.  Perform ? [RequireInternalSlot](https://262.ecma-international.org/12.0/#sec-requireinternalslot)(S, \[\[WeakSetData\]\]).
3.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(value) is not Object, throw a TypeError exception.
4.  Let entries be the [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) that is S.\[\[WeakSetData\]\].
5.  For each element e of entries, do
    1.  If e is not empty and [SameValue](https://262.ecma-international.org/12.0/#sec-samevalue)(e, value) is true, then
        1.  Return S.
6.  Append value as the last element of entries.
7.  Return S.

## 24.4.3.2 WeakSet.prototype.constructor

The initial value of `WeakSet.prototype.constructor` is the [%WeakSet%](https://262.ecma-international.org/12.0/#sec-weakset-constructor) intrinsic object.

## 24.4.3.3 WeakSet.prototype.delete ( value )

The following steps are taken:

1.  Let S be the this value.
2.  Perform ? [RequireInternalSlot](https://262.ecma-international.org/12.0/#sec-requireinternalslot)(S, \[\[WeakSetData\]\]).
3.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(value) is not Object, return false.
4.  Let entries be the [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) that is S.\[\[WeakSetData\]\].
5.  For each element e of entries, do
    1.  If e is not empty and [SameValue](https://262.ecma-international.org/12.0/#sec-samevalue)(e, value) is true, then
        1.  Replace the element of entries whose value is e with an element whose value is empty.
        2.  Return true.
6.  Return false.

Note

The value empty is used as a specification device to indicate that an entry has been deleted. Actual implementations may take other actions such as physically removing the entry from internal data structures.

## 24.4.3.4 WeakSet.prototype.has ( value )

The following steps are taken:

1.  Let S be the this value.
2.  Perform ? [RequireInternalSlot](https://262.ecma-international.org/12.0/#sec-requireinternalslot)(S, \[\[WeakSetData\]\]).
3.  Let entries be the [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) that is S.\[\[WeakSetData\]\].
4.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(value) is not Object, return false.
5.  For each element e of entries, do
    1.  If e is not empty and [SameValue](https://262.ecma-international.org/12.0/#sec-samevalue)(e, value) is true, return true.
6.  Return false.

## 24.4.3.5 WeakSet.prototype \[ @@toStringTag \]

The initial value of the [@@toStringTag](https://262.ecma-international.org/12.0/#sec-well-known-symbols) property is the String value "WeakSet".

This property has the attributes { \[\[Writable\]\]: false, \[\[Enumerable\]\]: false, \[\[Configurable\]\]: true }.

## 24.4.4 Properties of WeakSet Instances

WeakSet instances are ordinary objects that inherit properties from the WeakSet prototype. WeakSet instances also have a \[\[WeakSetData\]\] internal slot.

## 25 Structured Data

## 25.1 ArrayBuffer Objects

## 25.1.1 Notation

The descriptions below in this section, [25.4](https://262.ecma-international.org/12.0/#sec-atomics-object), and [29](https://262.ecma-international.org/12.0/#sec-memory-model) use the read-modify-write modification function internal data structure.

A read-modify-write modification function is a mathematical function that is notationally represented as an abstract closure that takes two Lists of byte values as arguments and returns a [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) of byte values. These abstract closures satisfy all of the following properties:

-   They perform all their algorithm steps atomically.
-   Their individual algorithm steps are not observable.

Note

To aid verifying that a read-modify-write modification function's algorithm steps constitute a pure, mathematical function, the following editorial conventions are recommended:

-   They do not access, directly or transitively via invoked [abstract operations](https://262.ecma-international.org/12.0/#sec-algorithm-conventions-abstract-operations) and abstract closures, any language or specification values except their parameters and captured values.
-   They do not return completion values.

## 25.1.2 Abstract Operations For ArrayBuffer Objects

## 25.1.2.1 AllocateArrayBuffer ( constructor, byteLength )

The abstract operation AllocateArrayBuffer takes arguments constructor and byteLength (a non-negative [integer](https://262.ecma-international.org/12.0/#integer)). It is used to create an ArrayBuffer object. It performs the following steps when called:

1.  Let obj be ? [OrdinaryCreateFromConstructor](https://262.ecma-international.org/12.0/#sec-ordinarycreatefromconstructor)(constructor, "%ArrayBuffer.prototype%", « \[\[ArrayBufferData\]\], \[\[ArrayBufferByteLength\]\], \[\[ArrayBufferDetachKey\]\] »).
2.  Let block be ? [CreateByteDataBlock](https://262.ecma-international.org/12.0/#sec-createbytedatablock)(byteLength).
3.  Set obj.\[\[ArrayBufferData\]\] to block.
4.  Set obj.\[\[ArrayBufferByteLength\]\] to byteLength.
5.  Return obj.

## 25.1.2.2 IsDetachedBuffer ( arrayBuffer )

The abstract operation IsDetachedBuffer takes argument arrayBuffer. It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(arrayBuffer) is Object and it has an \[\[ArrayBufferData\]\] internal slot.
2.  If arrayBuffer.\[\[ArrayBufferData\]\] is null, return true.
3.  Return false.

## 25.1.2.3 DetachArrayBuffer ( arrayBuffer \[ , key \] )

The abstract operation DetachArrayBuffer takes argument arrayBuffer and optional argument key. It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(arrayBuffer) is Object and it has \[\[ArrayBufferData\]\], \[\[ArrayBufferByteLength\]\], and \[\[ArrayBufferDetachKey\]\] internal slots.
2.  [Assert](https://262.ecma-international.org/12.0/#assert): [IsSharedArrayBuffer](https://262.ecma-international.org/12.0/#sec-issharedarraybuffer)(arrayBuffer) is false.
3.  If key is not present, set key to undefined.
4.  If [SameValue](https://262.ecma-international.org/12.0/#sec-samevalue)(arrayBuffer.\[\[ArrayBufferDetachKey\]\], key) is false, throw a TypeError exception.
5.  Set arrayBuffer.\[\[ArrayBufferData\]\] to null.
6.  Set arrayBuffer.\[\[ArrayBufferByteLength\]\] to 0.
7.  Return [NormalCompletion](https://262.ecma-international.org/12.0/#sec-normalcompletion)(null).

Note

Detaching an ArrayBuffer instance disassociates the [Data Block](https://262.ecma-international.org/12.0/#sec-data-blocks) used as its backing store from the instance and sets the byte length of the buffer to 0. No operations defined by this specification use the DetachArrayBuffer abstract operation. However, an ECMAScript [host](https://262.ecma-international.org/12.0/#host) or implementation may define such operations.

## 25.1.2.4 CloneArrayBuffer ( srcBuffer, srcByteOffset, srcLength, cloneConstructor )

The abstract operation CloneArrayBuffer takes arguments srcBuffer (an ArrayBuffer object), srcByteOffset (a non-negative [integer](https://262.ecma-international.org/12.0/#integer)), srcLength (a non-negative [integer](https://262.ecma-international.org/12.0/#integer)), and cloneConstructor (a [constructor](https://262.ecma-international.org/12.0/#constructor)). It creates a new ArrayBuffer whose data is a copy of srcBuffer's data over the range starting at srcByteOffset and continuing for srcLength bytes. It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(srcBuffer) is Object and it has an \[\[ArrayBufferData\]\] internal slot.
2.  [Assert](https://262.ecma-international.org/12.0/#assert): [IsConstructor](https://262.ecma-international.org/12.0/#sec-isconstructor)(cloneConstructor) is true.
3.  Let targetBuffer be ? [AllocateArrayBuffer](https://262.ecma-international.org/12.0/#sec-allocatearraybuffer)(cloneConstructor, srcLength).
4.  If [IsDetachedBuffer](https://262.ecma-international.org/12.0/#sec-isdetachedbuffer)(srcBuffer) is true, throw a TypeError exception.
5.  Let srcBlock be srcBuffer.\[\[ArrayBufferData\]\].
6.  Let targetBlock be targetBuffer.\[\[ArrayBufferData\]\].
7.  Perform [CopyDataBlockBytes](https://262.ecma-international.org/12.0/#sec-copydatablockbytes)(targetBlock, 0, srcBlock, srcByteOffset, srcLength).
8.  Return targetBuffer.

## 25.1.2.5 IsUnsignedElementType ( type )

The abstract operation IsUnsignedElementType takes argument type. It verifies if the argument type is an unsigned [TypedArray element type](https://262.ecma-international.org/12.0/#sec-typedarray-objects). It performs the following steps when called:

1.  If type is Uint8, Uint8C, Uint16, Uint32, or BigUint64, return true.
2.  Return false.

## 25.1.2.6 IsUnclampedIntegerElementType ( type )

The abstract operation IsUnclampedIntegerElementType takes argument type. It verifies if the argument type is an [Integer](https://262.ecma-international.org/12.0/#integer) [TypedArray element type](https://262.ecma-international.org/12.0/#sec-typedarray-objects) not including Uint8C. It performs the following steps when called:

1.  If type is Int8, Uint8, Int16, Uint16, Int32, or Uint32, return true.
2.  Return false.

## 25.1.2.7 IsBigIntElementType ( type )

The abstract operation IsBigIntElementType takes argument type. It verifies if the argument type is a BigInt [TypedArray element type](https://262.ecma-international.org/12.0/#sec-typedarray-objects). It performs the following steps when called:

1.  If type is BigUint64 or BigInt64, return true.
2.  Return false.

## 25.1.2.8 IsNoTearConfiguration ( type, order )

The abstract operation IsNoTearConfiguration takes arguments type and order. It performs the following steps when called:

1.  If ! [IsUnclampedIntegerElementType](https://262.ecma-international.org/12.0/#sec-isunclampedintegerelementtype)(type) is true, return true.
2.  If ! [IsBigIntElementType](https://262.ecma-international.org/12.0/#sec-isbigintelementtype)(type) is true and order is not Init or Unordered, return true.
3.  Return false.

## 25.1.2.9 RawBytesToNumeric ( type, rawBytes, isLittleEndian )

The abstract operation RawBytesToNumeric takes arguments type (a [TypedArray element type](https://262.ecma-international.org/12.0/#sec-typedarray-objects)), rawBytes (a [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type)), and isLittleEndian (a Boolean). It performs the following steps when called:

1.  Let elementSize be the Element Size value specified in [Table 60](https://262.ecma-international.org/12.0/#table-the-typedarray-constructors) for Element Type type.
2.  If isLittleEndian is false, reverse the order of the elements of rawBytes.
3.  If type is Float32, then
    1.  Let value be the byte elements of rawBytes concatenated and interpreted as a little-endian bit string encoding of an [IEEE 754-2019](https://262.ecma-international.org/12.0/#sec-bibliography) binary32 value.
    2.  If value is an [IEEE 754-2019](https://262.ecma-international.org/12.0/#sec-bibliography) binary32 NaN value, return the NaN [Number value](https://262.ecma-international.org/12.0/#number-value).
    3.  Return the [Number value](https://262.ecma-international.org/12.0/#number-value) that corresponds to value.
4.  If type is Float64, then
    1.  Let value be the byte elements of rawBytes concatenated and interpreted as a little-endian bit string encoding of an [IEEE 754-2019](https://262.ecma-international.org/12.0/#sec-bibliography) binary64 value.
    2.  If value is an [IEEE 754-2019](https://262.ecma-international.org/12.0/#sec-bibliography) binary64 NaN value, return the NaN [Number value](https://262.ecma-international.org/12.0/#number-value).
    3.  Return the [Number value](https://262.ecma-international.org/12.0/#number-value) that corresponds to value.
5.  If ! [IsUnsignedElementType](https://262.ecma-international.org/12.0/#sec-isunsignedelementtype)(type) is true, then
    1.  Let intValue be the byte elements of rawBytes concatenated and interpreted as a bit string encoding of an unsigned little-endian binary number.
6.  Else,
    1.  Let intValue be the byte elements of rawBytes concatenated and interpreted as a bit string encoding of a binary little-endian two's complement number of bit length elementSize × 8.
7.  If ! [IsBigIntElementType](https://262.ecma-international.org/12.0/#sec-isbigintelementtype)(type) is true, return the BigInt value that corresponds to intValue.
8.  Otherwise, return the [Number value](https://262.ecma-international.org/12.0/#number-value) that corresponds to intValue.

## 25.1.2.10 GetValueFromBuffer ( arrayBuffer, byteIndex, type, isTypedArray, order \[ , isLittleEndian \] )

The abstract operation GetValueFromBuffer takes arguments arrayBuffer (an ArrayBuffer or SharedArrayBuffer), byteIndex (a non-negative [integer](https://262.ecma-international.org/12.0/#integer)), type (a [TypedArray element type](https://262.ecma-international.org/12.0/#sec-typedarray-objects)), isTypedArray (a Boolean), and order (either SeqCst or Unordered) and optional argument isLittleEndian (a Boolean). It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): [IsDetachedBuffer](https://262.ecma-international.org/12.0/#sec-isdetachedbuffer)(arrayBuffer) is false.
2.  [Assert](https://262.ecma-international.org/12.0/#assert): There are sufficient bytes in arrayBuffer starting at byteIndex to represent a value of type.
3.  Let block be arrayBuffer.\[\[ArrayBufferData\]\].
4.  Let elementSize be the Element Size value specified in [Table 60](https://262.ecma-international.org/12.0/#table-the-typedarray-constructors) for Element Type type.
5.  If [IsSharedArrayBuffer](https://262.ecma-international.org/12.0/#sec-issharedarraybuffer)(arrayBuffer) is true, then
    1.  Let execution be the \[\[CandidateExecution\]\] field of the [surrounding agent](https://262.ecma-international.org/12.0/#surrounding-agent)'s [Agent Record](https://262.ecma-international.org/12.0/#agent-record).
    2.  Let eventList be the \[\[EventList\]\] field of the element in execution.\[\[EventsRecords\]\] whose \[\[AgentSignifier\]\] is [AgentSignifier](https://262.ecma-international.org/12.0/#sec-agentsignifier)().
    3.  If isTypedArray is true and [IsNoTearConfiguration](https://262.ecma-international.org/12.0/#sec-isnotearconfiguration)(type, order) is true, let noTear be true; otherwise let noTear be false.
    4.  Let rawValue be a [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) of length elementSize whose elements are nondeterministically chosen byte values.
    5.  NOTE: In implementations, rawValue is the result of a non-atomic or atomic read instruction on the underlying hardware. The nondeterminism is a semantic prescription of the [memory model](https://262.ecma-international.org/12.0/#sec-memory-model) to describe observable behaviour of hardware with weak consistency.
    6.  Let readEvent be [ReadSharedMemory](https://262.ecma-international.org/12.0/#sec-memory-model-fundamentals) { \[\[Order\]\]: order, \[\[NoTear\]\]: noTear, \[\[Block\]\]: block, \[\[ByteIndex\]\]: byteIndex, \[\[ElementSize\]\]: elementSize }.
    7.  Append readEvent to eventList.
    8.  Append [Chosen Value Record](https://262.ecma-international.org/12.0/#sec-chosen-value-records) { \[\[Event\]\]: readEvent, \[\[ChosenValue\]\]: rawValue } to execution.\[\[ChosenValues\]\].
6.  Else, let rawValue be a [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) whose elements are bytes from block at indices byteIndex (inclusive) through byteIndex + elementSize (exclusive).
7.  [Assert](https://262.ecma-international.org/12.0/#assert): The number of elements in rawValue is elementSize.
8.  If isLittleEndian is not present, set isLittleEndian to the value of the \[\[LittleEndian\]\] field of the [surrounding agent](https://262.ecma-international.org/12.0/#surrounding-agent)'s [Agent Record](https://262.ecma-international.org/12.0/#agent-record).
9.  Return [RawBytesToNumeric](https://262.ecma-international.org/12.0/#sec-rawbytestonumeric)(type, rawValue, isLittleEndian).

## 25.1.2.11 NumericToRawBytes ( type, value, isLittleEndian )

The abstract operation NumericToRawBytes takes arguments type (a [TypedArray element type](https://262.ecma-international.org/12.0/#sec-typedarray-objects)), value (a BigInt or a Number), and isLittleEndian (a Boolean). It performs the following steps when called:

1.  If type is Float32, then
    1.  Let rawBytes be a [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) whose elements are the 4 bytes that are the result of converting value to [IEEE 754-2019](https://262.ecma-international.org/12.0/#sec-bibliography) binary32 format using roundTiesToEven mode. If isLittleEndian is false, the bytes are arranged in big endian order. Otherwise, the bytes are arranged in little endian order. If value is NaN, rawBytes may be set to any implementation chosen [IEEE 754-2019](https://262.ecma-international.org/12.0/#sec-bibliography) binary32 format Not-a-Number encoding. An implementation must always choose the same encoding for each implementation distinguishable NaN value.
2.  Else if type is Float64, then
    1.  Let rawBytes be a [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) whose elements are the 8 bytes that are the [IEEE 754-2019](https://262.ecma-international.org/12.0/#sec-bibliography) binary64 format encoding of value. If isLittleEndian is false, the bytes are arranged in big endian order. Otherwise, the bytes are arranged in little endian order. If value is NaN, rawBytes may be set to any implementation chosen [IEEE 754-2019](https://262.ecma-international.org/12.0/#sec-bibliography) binary64 format Not-a-Number encoding. An implementation must always choose the same encoding for each implementation distinguishable NaN value.
3.  Else,
    1.  Let n be the Element Size value specified in [Table 60](https://262.ecma-international.org/12.0/#table-the-typedarray-constructors) for Element Type type.
    2.  Let convOp be the abstract operation named in the Conversion Operation column in [Table 60](https://262.ecma-international.org/12.0/#table-the-typedarray-constructors) for Element Type type.
    3.  Let intValue be [ℝ](https://262.ecma-international.org/12.0/#%E2%84%9D)(convOp(value)).
    4.  If intValue ≥ 0, then
        1.  Let rawBytes be a [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) whose elements are the n\-byte binary encoding of intValue. If isLittleEndian is false, the bytes are ordered in big endian order. Otherwise, the bytes are ordered in little endian order.
    5.  Else,
        1.  Let rawBytes be a [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) whose elements are the n\-byte binary two's complement encoding of intValue. If isLittleEndian is false, the bytes are ordered in big endian order. Otherwise, the bytes are ordered in little endian order.
4.  Return rawBytes.

## 25.1.2.12 SetValueInBuffer ( arrayBuffer, byteIndex, type, value, isTypedArray, order \[ , isLittleEndian \] )

The abstract operation SetValueInBuffer takes arguments arrayBuffer (an ArrayBuffer or SharedArrayBuffer), byteIndex (a non-negative [integer](https://262.ecma-international.org/12.0/#integer)), type (a [TypedArray element type](https://262.ecma-international.org/12.0/#sec-typedarray-objects)), value (a Number or a BigInt), isTypedArray (a Boolean), and order (one of SeqCst, Unordered, or Init) and optional argument isLittleEndian (a Boolean). It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): [IsDetachedBuffer](https://262.ecma-international.org/12.0/#sec-isdetachedbuffer)(arrayBuffer) is false.
2.  [Assert](https://262.ecma-international.org/12.0/#assert): There are sufficient bytes in arrayBuffer starting at byteIndex to represent a value of type.
3.  [Assert](https://262.ecma-international.org/12.0/#assert): [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(value) is BigInt if ! [IsBigIntElementType](https://262.ecma-international.org/12.0/#sec-isbigintelementtype)(type) is true; otherwise, [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(value) is Number.
4.  Let block be arrayBuffer.\[\[ArrayBufferData\]\].
5.  Let elementSize be the Element Size value specified in [Table 60](https://262.ecma-international.org/12.0/#table-the-typedarray-constructors) for Element Type type.
6.  If isLittleEndian is not present, set isLittleEndian to the value of the \[\[LittleEndian\]\] field of the [surrounding agent](https://262.ecma-international.org/12.0/#surrounding-agent)'s [Agent Record](https://262.ecma-international.org/12.0/#agent-record).
7.  Let rawBytes be [NumericToRawBytes](https://262.ecma-international.org/12.0/#sec-numerictorawbytes)(type, value, isLittleEndian).
8.  If [IsSharedArrayBuffer](https://262.ecma-international.org/12.0/#sec-issharedarraybuffer)(arrayBuffer) is true, then
    1.  Let execution be the \[\[CandidateExecution\]\] field of the [surrounding agent](https://262.ecma-international.org/12.0/#surrounding-agent)'s [Agent Record](https://262.ecma-international.org/12.0/#agent-record).
    2.  Let eventList be the \[\[EventList\]\] field of the element in execution.\[\[EventsRecords\]\] whose \[\[AgentSignifier\]\] is [AgentSignifier](https://262.ecma-international.org/12.0/#sec-agentsignifier)().
    3.  If isTypedArray is true and [IsNoTearConfiguration](https://262.ecma-international.org/12.0/#sec-isnotearconfiguration)(type, order) is true, let noTear be true; otherwise let noTear be false.
    4.  Append [WriteSharedMemory](https://262.ecma-international.org/12.0/#sec-memory-model-fundamentals) { \[\[Order\]\]: order, \[\[NoTear\]\]: noTear, \[\[Block\]\]: block, \[\[ByteIndex\]\]: byteIndex, \[\[ElementSize\]\]: elementSize, \[\[Payload\]\]: rawBytes } to eventList.
9.  Else, store the individual bytes of rawBytes into block, starting at block\[byteIndex\].
10.  Return [NormalCompletion](https://262.ecma-international.org/12.0/#sec-normalcompletion)(undefined).

## 25.1.2.13 GetModifySetValueInBuffer ( arrayBuffer, byteIndex, type, value, op \[ , isLittleEndian \] )

The abstract operation GetModifySetValueInBuffer takes arguments arrayBuffer (an ArrayBuffer object or a SharedArrayBuffer object), byteIndex (a non-negative [integer](https://262.ecma-international.org/12.0/#integer)), type (a [TypedArray element type](https://262.ecma-international.org/12.0/#sec-typedarray-objects)), value (a Number or a BigInt), and op (a [read-modify-write modification function](https://262.ecma-international.org/12.0/#sec-arraybuffer-notation)) and optional argument isLittleEndian (a Boolean). It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): [IsDetachedBuffer](https://262.ecma-international.org/12.0/#sec-isdetachedbuffer)(arrayBuffer) is false.
2.  [Assert](https://262.ecma-international.org/12.0/#assert): There are sufficient bytes in arrayBuffer starting at byteIndex to represent a value of type.
3.  [Assert](https://262.ecma-international.org/12.0/#assert): [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(value) is BigInt if ! [IsBigIntElementType](https://262.ecma-international.org/12.0/#sec-isbigintelementtype)(type) is true; otherwise, [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(value) is Number.
4.  Let block be arrayBuffer.\[\[ArrayBufferData\]\].
5.  Let elementSize be the Element Size value specified in [Table 60](https://262.ecma-international.org/12.0/#table-the-typedarray-constructors) for Element Type type.
6.  If isLittleEndian is not present, set isLittleEndian to the value of the \[\[LittleEndian\]\] field of the [surrounding agent](https://262.ecma-international.org/12.0/#surrounding-agent)'s [Agent Record](https://262.ecma-international.org/12.0/#agent-record).
7.  Let rawBytes be [NumericToRawBytes](https://262.ecma-international.org/12.0/#sec-numerictorawbytes)(type, value, isLittleEndian).
8.  If [IsSharedArrayBuffer](https://262.ecma-international.org/12.0/#sec-issharedarraybuffer)(arrayBuffer) is true, then
    1.  Let execution be the \[\[CandidateExecution\]\] field of the [surrounding agent](https://262.ecma-international.org/12.0/#surrounding-agent)'s [Agent Record](https://262.ecma-international.org/12.0/#agent-record).
    2.  Let eventList be the \[\[EventList\]\] field of the element in execution.\[\[EventsRecords\]\] whose \[\[AgentSignifier\]\] is [AgentSignifier](https://262.ecma-international.org/12.0/#sec-agentsignifier)().
    3.  Let rawBytesRead be a [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) of length elementSize whose elements are nondeterministically chosen byte values.
    4.  NOTE: In implementations, rawBytesRead is the result of a load-link, of a load-exclusive, or of an operand of a read-modify-write instruction on the underlying hardware. The nondeterminism is a semantic prescription of the [memory model](https://262.ecma-international.org/12.0/#sec-memory-model) to describe observable behaviour of hardware with weak consistency.
    5.  Let rmwEvent be [ReadModifyWriteSharedMemory](https://262.ecma-international.org/12.0/#sec-memory-model-fundamentals) { \[\[Order\]\]: SeqCst, \[\[NoTear\]\]: true, \[\[Block\]\]: block, \[\[ByteIndex\]\]: byteIndex, \[\[ElementSize\]\]: elementSize, \[\[Payload\]\]: rawBytes, \[\[ModifyOp\]\]: op }.
    6.  Append rmwEvent to eventList.
    7.  Append [Chosen Value Record](https://262.ecma-international.org/12.0/#sec-chosen-value-records) { \[\[Event\]\]: rmwEvent, \[\[ChosenValue\]\]: rawBytesRead } to execution.\[\[ChosenValues\]\].
9.  Else,
    1.  Let rawBytesRead be a [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) of length elementSize whose elements are the sequence of elementSize bytes starting with block\[byteIndex\].
    2.  Let rawBytesModified be op(rawBytesRead, rawBytes).
    3.  Store the individual bytes of rawBytesModified into block, starting at block\[byteIndex\].
10.  Return [RawBytesToNumeric](https://262.ecma-international.org/12.0/#sec-rawbytestonumeric)(type, rawBytesRead, isLittleEndian).

## 25.1.3 The ArrayBuffer Constructor

The ArrayBuffer [constructor](https://262.ecma-international.org/12.0/#constructor):

-   is %ArrayBuffer%.
-   is the initial value of the "ArrayBuffer" property of the [global object](https://262.ecma-international.org/12.0/#sec-global-object).
-   creates and initializes a new ArrayBuffer object when called as a [constructor](https://262.ecma-international.org/12.0/#constructor).
-   is not intended to be called as a function and will throw an exception when called in that manner.
-   is designed to be subclassable. It may be used as the value of an `extends` clause of a class definition. Subclass constructors that intend to inherit the specified ArrayBuffer behaviour must include a `super` call to the ArrayBuffer [constructor](https://262.ecma-international.org/12.0/#constructor) to create and initialize subclass instances with the internal state necessary to support the `ArrayBuffer.prototype` built-in methods.

## 25.1.3.1 ArrayBuffer ( length )

When the `ArrayBuffer` function is called with argument length, the following steps are taken:

1.  If NewTarget is undefined, throw a TypeError exception.
2.  Let byteLength be ? [ToIndex](https://262.ecma-international.org/12.0/#sec-toindex)(length).
3.  Return ? [AllocateArrayBuffer](https://262.ecma-international.org/12.0/#sec-allocatearraybuffer)(NewTarget, byteLength).

## 25.1.4 Properties of the ArrayBuffer Constructor

The ArrayBuffer [constructor](https://262.ecma-international.org/12.0/#constructor):

-   has a \[\[Prototype\]\] internal slot whose value is [%Function.prototype%](https://262.ecma-international.org/12.0/#sec-properties-of-the-function-prototype-object).
-   has the following properties:

## 25.1.4.1 ArrayBuffer.isView ( arg )

The `isView` function takes one argument arg, and performs the following steps:

1.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(arg) is not Object, return false.
2.  If arg has a \[\[ViewedArrayBuffer\]\] internal slot, return true.
3.  Return false.

## 25.1.4.2 ArrayBuffer.prototype

The initial value of `ArrayBuffer.prototype` is the [ArrayBuffer prototype object](https://262.ecma-international.org/12.0/#sec-properties-of-the-arraybuffer-prototype-object).

This property has the attributes { \[\[Writable\]\]: false, \[\[Enumerable\]\]: false, \[\[Configurable\]\]: false }.

## 25.1.4.3 get ArrayBuffer \[ @@species \]

`ArrayBuffer[@@species]` is an [accessor property](https://262.ecma-international.org/12.0/#sec-object-type) whose set accessor function is undefined. Its get accessor function performs the following steps:

1.  Return the this value.

The value of the "name" property of this function is "get \[Symbol.species\]".

Note

ArrayBuffer prototype methods normally use their this value's [constructor](https://262.ecma-international.org/12.0/#constructor) to create a derived object. However, a subclass [constructor](https://262.ecma-international.org/12.0/#constructor) may over-ride that default behaviour by redefining its [@@species](https://262.ecma-international.org/12.0/#sec-well-known-symbols) property.

## 25.1.5 Properties of the ArrayBuffer Prototype Object

The ArrayBuffer prototype object:

-   is %ArrayBuffer.prototype%.
-   has a \[\[Prototype\]\] internal slot whose value is [%Object.prototype%](https://262.ecma-international.org/12.0/#sec-properties-of-the-object-prototype-object).
-   is an [ordinary object](https://262.ecma-international.org/12.0/#ordinary-object).
-   does not have an \[\[ArrayBufferData\]\] or \[\[ArrayBufferByteLength\]\] internal slot.

## 25.1.5.1 get ArrayBuffer.prototype.byteLength

`ArrayBuffer.prototype.byteLength` is an [accessor property](https://262.ecma-international.org/12.0/#sec-object-type) whose set accessor function is undefined. Its get accessor function performs the following steps:

1.  Let O be the this value.
2.  Perform ? [RequireInternalSlot](https://262.ecma-international.org/12.0/#sec-requireinternalslot)(O, \[\[ArrayBufferData\]\]).
3.  If [IsSharedArrayBuffer](https://262.ecma-international.org/12.0/#sec-issharedarraybuffer)(O) is true, throw a TypeError exception.
4.  If [IsDetachedBuffer](https://262.ecma-international.org/12.0/#sec-isdetachedbuffer)(O) is true, return +0𝔽.
5.  Let length be O.\[\[ArrayBufferByteLength\]\].
6.  Return [𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(length).

## 25.1.5.2 ArrayBuffer.prototype.constructor

The initial value of `ArrayBuffer.prototype.constructor` is [%ArrayBuffer%](https://262.ecma-international.org/12.0/#sec-arraybuffer-constructor).

## 25.1.5.3 ArrayBuffer.prototype.slice ( start, end )

The following steps are taken:

1.  Let O be the this value.
2.  Perform ? [RequireInternalSlot](https://262.ecma-international.org/12.0/#sec-requireinternalslot)(O, \[\[ArrayBufferData\]\]).
3.  If [IsSharedArrayBuffer](https://262.ecma-international.org/12.0/#sec-issharedarraybuffer)(O) is true, throw a TypeError exception.
4.  If [IsDetachedBuffer](https://262.ecma-international.org/12.0/#sec-isdetachedbuffer)(O) is true, throw a TypeError exception.
5.  Let len be O.\[\[ArrayBufferByteLength\]\].
6.  Let relativeStart be ? [ToIntegerOrInfinity](https://262.ecma-international.org/12.0/#sec-tointegerorinfinity)(start).
7.  If relativeStart is -∞, let first be 0.
8.  Else if relativeStart < 0, let first be [max](https://262.ecma-international.org/12.0/#eqn-max)(len + relativeStart, 0).
9.  Else, let first be [min](https://262.ecma-international.org/12.0/#eqn-min)(relativeStart, len).
10.  If end is undefined, let relativeEnd be len; else let relativeEnd be ? [ToIntegerOrInfinity](https://262.ecma-international.org/12.0/#sec-tointegerorinfinity)(end).
11.  If relativeEnd is -∞, let final be 0.
12.  Else if relativeEnd < 0, let final be [max](https://262.ecma-international.org/12.0/#eqn-max)(len + relativeEnd, 0).
13.  Else, let final be [min](https://262.ecma-international.org/12.0/#eqn-min)(relativeEnd, len).
14.  Let newLen be [max](https://262.ecma-international.org/12.0/#eqn-max)(final - first, 0).
15.  Let ctor be ? [SpeciesConstructor](https://262.ecma-international.org/12.0/#sec-speciesconstructor)(O, [%ArrayBuffer%](https://262.ecma-international.org/12.0/#sec-arraybuffer-constructor)).
16.  Let new be ? [Construct](https://262.ecma-international.org/12.0/#sec-construct)(ctor, « [𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(newLen) »).
17.  Perform ? [RequireInternalSlot](https://262.ecma-international.org/12.0/#sec-requireinternalslot)(new, \[\[ArrayBufferData\]\]).
18.  If [IsSharedArrayBuffer](https://262.ecma-international.org/12.0/#sec-issharedarraybuffer)(new) is true, throw a TypeError exception.
19.  If [IsDetachedBuffer](https://262.ecma-international.org/12.0/#sec-isdetachedbuffer)(new) is true, throw a TypeError exception.
20.  If [SameValue](https://262.ecma-international.org/12.0/#sec-samevalue)(new, O) is true, throw a TypeError exception.
21.  If new.\[\[ArrayBufferByteLength\]\] < newLen, throw a TypeError exception.
22.  NOTE: Side-effects of the above steps may have detached O.
23.  If [IsDetachedBuffer](https://262.ecma-international.org/12.0/#sec-isdetachedbuffer)(O) is true, throw a TypeError exception.
24.  Let fromBuf be O.\[\[ArrayBufferData\]\].
25.  Let toBuf be new.\[\[ArrayBufferData\]\].
26.  Perform [CopyDataBlockBytes](https://262.ecma-international.org/12.0/#sec-copydatablockbytes)(toBuf, 0, fromBuf, first, newLen).
27.  Return new.

## 25.1.5.4 ArrayBuffer.prototype \[ @@toStringTag \]

The initial value of the [@@toStringTag](https://262.ecma-international.org/12.0/#sec-well-known-symbols) property is the String value "ArrayBuffer".

This property has the attributes { \[\[Writable\]\]: false, \[\[Enumerable\]\]: false, \[\[Configurable\]\]: true }.

## 25.1.6 Properties of ArrayBuffer Instances

ArrayBuffer instances inherit properties from the [ArrayBuffer prototype object](https://262.ecma-international.org/12.0/#sec-properties-of-the-arraybuffer-prototype-object). ArrayBuffer instances each have an \[\[ArrayBufferData\]\] internal slot, an \[\[ArrayBufferByteLength\]\] internal slot, and an \[\[ArrayBufferDetachKey\]\] internal slot.

ArrayBuffer instances whose \[\[ArrayBufferData\]\] is null are considered to be detached and all operators to access or modify data contained in the ArrayBuffer instance will fail.

ArrayBuffer instances whose \[\[ArrayBufferDetachKey\]\] is set to a value other than undefined need to have all [DetachArrayBuffer](https://262.ecma-international.org/12.0/#sec-detacharraybuffer) calls passing that same "detach key" as an argument, otherwise a TypeError will result. This internal slot is only ever set by certain embedding environments, not by algorithms in this specification.

## 25.2 SharedArrayBuffer Objects

## 25.2.1 Abstract Operations for SharedArrayBuffer Objects

## 25.2.1.1 AllocateSharedArrayBuffer ( constructor, byteLength )

The abstract operation AllocateSharedArrayBuffer takes arguments constructor and byteLength (a non-negative [integer](https://262.ecma-international.org/12.0/#integer)). It is used to create a SharedArrayBuffer object. It performs the following steps when called:

1.  Let obj be ? [OrdinaryCreateFromConstructor](https://262.ecma-international.org/12.0/#sec-ordinarycreatefromconstructor)(constructor, "%SharedArrayBuffer.prototype%", « \[\[ArrayBufferData\]\], \[\[ArrayBufferByteLength\]\] »).
2.  Let block be ? [CreateSharedByteDataBlock](https://262.ecma-international.org/12.0/#sec-createsharedbytedatablock)(byteLength).
3.  Set obj.\[\[ArrayBufferData\]\] to block.
4.  Set obj.\[\[ArrayBufferByteLength\]\] to byteLength.
5.  Return obj.

## 25.2.1.2 IsSharedArrayBuffer ( obj )

The abstract operation IsSharedArrayBuffer takes argument obj. It tests whether an object is an ArrayBuffer, a SharedArrayBuffer, or a subtype of either. It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(obj) is Object and it has an \[\[ArrayBufferData\]\] internal slot.
2.  Let bufferData be obj.\[\[ArrayBufferData\]\].
3.  If bufferData is null, return false.
4.  If bufferData is a [Data Block](https://262.ecma-international.org/12.0/#sec-data-blocks), return false.
5.  [Assert](https://262.ecma-international.org/12.0/#assert): bufferData is a [Shared Data Block](https://262.ecma-international.org/12.0/#sec-data-blocks).
6.  Return true.

## 25.2.2 The SharedArrayBuffer Constructor

The SharedArrayBuffer [constructor](https://262.ecma-international.org/12.0/#constructor):

-   is %SharedArrayBuffer%.
-   is the initial value of the "SharedArrayBuffer" property of the [global object](https://262.ecma-international.org/12.0/#sec-global-object), if that property is present (see below).
-   creates and initializes a new SharedArrayBuffer object when called as a [constructor](https://262.ecma-international.org/12.0/#constructor).
-   is not intended to be called as a function and will throw an exception when called in that manner.
-   is designed to be subclassable. It may be used as the value of an `extends` clause of a class definition. Subclass constructors that intend to inherit the specified SharedArrayBuffer behaviour must include a `super` call to the SharedArrayBuffer [constructor](https://262.ecma-international.org/12.0/#constructor) to create and initialize subclass instances with the internal state necessary to support the `SharedArrayBuffer.prototype` built-in methods.

Whenever a [host](https://262.ecma-international.org/12.0/#host) does not provide concurrent access to SharedArrayBuffer objects it may omit the "SharedArrayBuffer" property of the [global object](https://262.ecma-international.org/12.0/#sec-global-object).

Note

Unlike an `ArrayBuffer`, a `SharedArrayBuffer` cannot become detached, and its internal \[\[ArrayBufferData\]\] slot is never null.

## 25.2.2.1 SharedArrayBuffer ( \[ length \] )

When the `SharedArrayBuffer` function is called with optional argument length, the following steps are taken:

1.  If NewTarget is undefined, throw a TypeError exception.
2.  Let byteLength be ? [ToIndex](https://262.ecma-international.org/12.0/#sec-toindex)(length).
3.  Return ? [AllocateSharedArrayBuffer](https://262.ecma-international.org/12.0/#sec-allocatesharedarraybuffer)(NewTarget, byteLength).

## 25.2.3 Properties of the SharedArrayBuffer Constructor

The SharedArrayBuffer [constructor](https://262.ecma-international.org/12.0/#constructor):

-   has a \[\[Prototype\]\] internal slot whose value is [%Function.prototype%](https://262.ecma-international.org/12.0/#sec-properties-of-the-function-prototype-object).
-   has the following properties:

## 25.2.3.1 SharedArrayBuffer.prototype

The initial value of `SharedArrayBuffer.prototype` is the [SharedArrayBuffer prototype object](https://262.ecma-international.org/12.0/#sec-properties-of-the-sharedarraybuffer-prototype-object).

This property has the attributes { \[\[Writable\]\]: false, \[\[Enumerable\]\]: false, \[\[Configurable\]\]: false }.

## 25.2.3.2 get SharedArrayBuffer \[ @@species \]

`SharedArrayBuffer[@@species]` is an [accessor property](https://262.ecma-international.org/12.0/#sec-object-type) whose set accessor function is undefined. Its get accessor function performs the following steps:

1.  Return the this value.

The value of the "name" property of this function is "get \[Symbol.species\]".

## 25.2.4 Properties of the SharedArrayBuffer Prototype Object

The SharedArrayBuffer prototype object:

-   is %SharedArrayBuffer.prototype%.
-   has a \[\[Prototype\]\] internal slot whose value is [%Object.prototype%](https://262.ecma-international.org/12.0/#sec-properties-of-the-object-prototype-object).
-   is an [ordinary object](https://262.ecma-international.org/12.0/#ordinary-object).
-   does not have an \[\[ArrayBufferData\]\] or \[\[ArrayBufferByteLength\]\] internal slot.

## 25.2.4.1 get SharedArrayBuffer.prototype.byteLength

`SharedArrayBuffer.prototype.byteLength` is an [accessor property](https://262.ecma-international.org/12.0/#sec-object-type) whose set accessor function is undefined. Its get accessor function performs the following steps:

1.  Let O be the this value.
2.  Perform ? [RequireInternalSlot](https://262.ecma-international.org/12.0/#sec-requireinternalslot)(O, \[\[ArrayBufferData\]\]).
3.  If [IsSharedArrayBuffer](https://262.ecma-international.org/12.0/#sec-issharedarraybuffer)(O) is false, throw a TypeError exception.
4.  Let length be O.\[\[ArrayBufferByteLength\]\].
5.  Return [𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(length).

## 25.2.4.2 SharedArrayBuffer.prototype.constructor

The initial value of `SharedArrayBuffer.prototype.constructor` is [%SharedArrayBuffer%](https://262.ecma-international.org/12.0/#sec-sharedarraybuffer-constructor).

## 25.2.4.3 SharedArrayBuffer.prototype.slice ( start, end )

The following steps are taken:

1.  Let O be the this value.
2.  Perform ? [RequireInternalSlot](https://262.ecma-international.org/12.0/#sec-requireinternalslot)(O, \[\[ArrayBufferData\]\]).
3.  If [IsSharedArrayBuffer](https://262.ecma-international.org/12.0/#sec-issharedarraybuffer)(O) is false, throw a TypeError exception.
4.  Let len be O.\[\[ArrayBufferByteLength\]\].
5.  Let relativeStart be ? [ToIntegerOrInfinity](https://262.ecma-international.org/12.0/#sec-tointegerorinfinity)(start).
6.  If relativeStart is -∞, let first be 0.
7.  Else if relativeStart < 0, let first be [max](https://262.ecma-international.org/12.0/#eqn-max)(len + relativeStart, 0).
8.  Else, let first be [min](https://262.ecma-international.org/12.0/#eqn-min)(relativeStart, len).
9.  If end is undefined, let relativeEnd be len; else let relativeEnd be ? [ToIntegerOrInfinity](https://262.ecma-international.org/12.0/#sec-tointegerorinfinity)(end).
10.  If relativeEnd is -∞, let final be 0.
11.  Else if relativeEnd < 0, let final be [max](https://262.ecma-international.org/12.0/#eqn-max)(len + relativeEnd, 0).
12.  Else, let final be [min](https://262.ecma-international.org/12.0/#eqn-min)(relativeEnd, len).
13.  Let newLen be [max](https://262.ecma-international.org/12.0/#eqn-max)(final - first, 0).
14.  Let ctor be ? [SpeciesConstructor](https://262.ecma-international.org/12.0/#sec-speciesconstructor)(O, [%SharedArrayBuffer%](https://262.ecma-international.org/12.0/#sec-sharedarraybuffer-constructor)).
15.  Let new be ? [Construct](https://262.ecma-international.org/12.0/#sec-construct)(ctor, « [𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(newLen) »).
16.  Perform ? [RequireInternalSlot](https://262.ecma-international.org/12.0/#sec-requireinternalslot)(new, \[\[ArrayBufferData\]\]).
17.  If [IsSharedArrayBuffer](https://262.ecma-international.org/12.0/#sec-issharedarraybuffer)(new) is false, throw a TypeError exception.
18.  If new.\[\[ArrayBufferData\]\] and O.\[\[ArrayBufferData\]\] are the same [Shared Data Block](https://262.ecma-international.org/12.0/#sec-data-blocks) values, throw a TypeError exception.
19.  If new.\[\[ArrayBufferByteLength\]\] < newLen, throw a TypeError exception.
20.  Let fromBuf be O.\[\[ArrayBufferData\]\].
21.  Let toBuf be new.\[\[ArrayBufferData\]\].
22.  Perform [CopyDataBlockBytes](https://262.ecma-international.org/12.0/#sec-copydatablockbytes)(toBuf, 0, fromBuf, first, newLen).
23.  Return new.

## 25.2.4.4 SharedArrayBuffer.prototype \[ @@toStringTag \]

The initial value of the [@@toStringTag](https://262.ecma-international.org/12.0/#sec-well-known-symbols) property is the String value "SharedArrayBuffer".

This property has the attributes { \[\[Writable\]\]: false, \[\[Enumerable\]\]: false, \[\[Configurable\]\]: true }.

## 25.2.5 Properties of SharedArrayBuffer Instances

SharedArrayBuffer instances inherit properties from the [SharedArrayBuffer prototype object](https://262.ecma-international.org/12.0/#sec-properties-of-the-sharedarraybuffer-prototype-object). SharedArrayBuffer instances each have an \[\[ArrayBufferData\]\] internal slot and an \[\[ArrayBufferByteLength\]\] internal slot.

Note

SharedArrayBuffer instances, unlike ArrayBuffer instances, are never detached.

## 25.3 DataView Objects

## 25.3.1 Abstract Operations For DataView Objects

## 25.3.1.1 GetViewValue ( view, requestIndex, isLittleEndian, type )

The abstract operation GetViewValue takes arguments view, requestIndex, isLittleEndian, and type. It is used by functions on DataView instances to retrieve values from the view's buffer. It performs the following steps when called:

1.  Perform ? [RequireInternalSlot](https://262.ecma-international.org/12.0/#sec-requireinternalslot)(view, \[\[DataView\]\]).
2.  [Assert](https://262.ecma-international.org/12.0/#assert): view has a \[\[ViewedArrayBuffer\]\] internal slot.
3.  Let getIndex be ? [ToIndex](https://262.ecma-international.org/12.0/#sec-toindex)(requestIndex).
4.  Set isLittleEndian to ! [ToBoolean](https://262.ecma-international.org/12.0/#sec-toboolean)(isLittleEndian).
5.  Let buffer be view.\[\[ViewedArrayBuffer\]\].
6.  If [IsDetachedBuffer](https://262.ecma-international.org/12.0/#sec-isdetachedbuffer)(buffer) is true, throw a TypeError exception.
7.  Let viewOffset be view.\[\[ByteOffset\]\].
8.  Let viewSize be view.\[\[ByteLength\]\].
9.  Let elementSize be the Element Size value specified in [Table 60](https://262.ecma-international.org/12.0/#table-the-typedarray-constructors) for Element Type type.
10.  If getIndex + elementSize > viewSize, throw a RangeError exception.
11.  Let bufferIndex be getIndex + viewOffset.
12.  Return [GetValueFromBuffer](https://262.ecma-international.org/12.0/#sec-getvaluefrombuffer)(buffer, bufferIndex, type, false, Unordered, isLittleEndian).

## 25.3.1.2 SetViewValue ( view, requestIndex, isLittleEndian, type, value )

The abstract operation SetViewValue takes arguments view, requestIndex, isLittleEndian, type, and value. It is used by functions on DataView instances to store values into the view's buffer. It performs the following steps when called:

1.  Perform ? [RequireInternalSlot](https://262.ecma-international.org/12.0/#sec-requireinternalslot)(view, \[\[DataView\]\]).
2.  [Assert](https://262.ecma-international.org/12.0/#assert): view has a \[\[ViewedArrayBuffer\]\] internal slot.
3.  Let getIndex be ? [ToIndex](https://262.ecma-international.org/12.0/#sec-toindex)(requestIndex).
4.  If ! [IsBigIntElementType](https://262.ecma-international.org/12.0/#sec-isbigintelementtype)(type) is true, let numberValue be ? [ToBigInt](https://262.ecma-international.org/12.0/#sec-tobigint)(value).
5.  Otherwise, let numberValue be ? [ToNumber](https://262.ecma-international.org/12.0/#sec-tonumber)(value).
6.  Set isLittleEndian to ! [ToBoolean](https://262.ecma-international.org/12.0/#sec-toboolean)(isLittleEndian).
7.  Let buffer be view.\[\[ViewedArrayBuffer\]\].
8.  If [IsDetachedBuffer](https://262.ecma-international.org/12.0/#sec-isdetachedbuffer)(buffer) is true, throw a TypeError exception.
9.  Let viewOffset be view.\[\[ByteOffset\]\].
10.  Let viewSize be view.\[\[ByteLength\]\].
11.  Let elementSize be the Element Size value specified in [Table 60](https://262.ecma-international.org/12.0/#table-the-typedarray-constructors) for Element Type type.
12.  If getIndex + elementSize > viewSize, throw a RangeError exception.
13.  Let bufferIndex be getIndex + viewOffset.
14.  Return [SetValueInBuffer](https://262.ecma-international.org/12.0/#sec-setvalueinbuffer)(buffer, bufferIndex, type, numberValue, false, Unordered, isLittleEndian).

## 25.3.2 The DataView Constructor

The DataView [constructor](https://262.ecma-international.org/12.0/#constructor):

-   is %DataView%.
-   is the initial value of the "DataView" property of the [global object](https://262.ecma-international.org/12.0/#sec-global-object).
-   creates and initializes a new DataView object when called as a [constructor](https://262.ecma-international.org/12.0/#constructor).
-   is not intended to be called as a function and will throw an exception when called in that manner.
-   is designed to be subclassable. It may be used as the value of an `extends` clause of a class definition. Subclass constructors that intend to inherit the specified DataView behaviour must include a `super` call to the DataView [constructor](https://262.ecma-international.org/12.0/#constructor) to create and initialize subclass instances with the internal state necessary to support the `DataView.prototype` built-in methods.

## 25.3.2.1 DataView ( buffer \[ , byteOffset \[ , byteLength \] \] )

When the `DataView` function is called with at least one argument buffer, the following steps are taken:

1.  If NewTarget is undefined, throw a TypeError exception.
2.  Perform ? [RequireInternalSlot](https://262.ecma-international.org/12.0/#sec-requireinternalslot)(buffer, \[\[ArrayBufferData\]\]).
3.  Let offset be ? [ToIndex](https://262.ecma-international.org/12.0/#sec-toindex)(byteOffset).
4.  If [IsDetachedBuffer](https://262.ecma-international.org/12.0/#sec-isdetachedbuffer)(buffer) is true, throw a TypeError exception.
5.  Let bufferByteLength be buffer.\[\[ArrayBufferByteLength\]\].
6.  If offset > bufferByteLength, throw a RangeError exception.
7.  If byteLength is undefined, then
    1.  Let viewByteLength be bufferByteLength - offset.
8.  Else,
    1.  Let viewByteLength be ? [ToIndex](https://262.ecma-international.org/12.0/#sec-toindex)(byteLength).
    2.  If offset + viewByteLength > bufferByteLength, throw a RangeError exception.
9.  Let O be ? [OrdinaryCreateFromConstructor](https://262.ecma-international.org/12.0/#sec-ordinarycreatefromconstructor)(NewTarget, "%DataView.prototype%", « \[\[DataView\]\], \[\[ViewedArrayBuffer\]\], \[\[ByteLength\]\], \[\[ByteOffset\]\] »).
10.  If [IsDetachedBuffer](https://262.ecma-international.org/12.0/#sec-isdetachedbuffer)(buffer) is true, throw a TypeError exception.
11.  Set O.\[\[ViewedArrayBuffer\]\] to buffer.
12.  Set O.\[\[ByteLength\]\] to viewByteLength.
13.  Set O.\[\[ByteOffset\]\] to offset.
14.  Return O.

## 25.3.3 Properties of the DataView Constructor

The DataView [constructor](https://262.ecma-international.org/12.0/#constructor):

-   has a \[\[Prototype\]\] internal slot whose value is [%Function.prototype%](https://262.ecma-international.org/12.0/#sec-properties-of-the-function-prototype-object).
-   has the following properties:

## 25.3.3.1 DataView.prototype

The initial value of `DataView.prototype` is the [DataView prototype object](https://262.ecma-international.org/12.0/#sec-properties-of-the-dataview-prototype-object).

This property has the attributes { \[\[Writable\]\]: false, \[\[Enumerable\]\]: false, \[\[Configurable\]\]: false }.

## 25.3.4 Properties of the DataView Prototype Object

The DataView prototype object:

-   is %DataView.prototype%.
-   has a \[\[Prototype\]\] internal slot whose value is [%Object.prototype%](https://262.ecma-international.org/12.0/#sec-properties-of-the-object-prototype-object).
-   is an [ordinary object](https://262.ecma-international.org/12.0/#ordinary-object).
-   does not have a \[\[DataView\]\], \[\[ViewedArrayBuffer\]\], \[\[ByteLength\]\], or \[\[ByteOffset\]\] internal slot.

## 25.3.4.1 get DataView.prototype.buffer

`DataView.prototype.buffer` is an [accessor property](https://262.ecma-international.org/12.0/#sec-object-type) whose set accessor function is undefined. Its get accessor function performs the following steps:

1.  Let O be the this value.
2.  Perform ? [RequireInternalSlot](https://262.ecma-international.org/12.0/#sec-requireinternalslot)(O, \[\[DataView\]\]).
3.  [Assert](https://262.ecma-international.org/12.0/#assert): O has a \[\[ViewedArrayBuffer\]\] internal slot.
4.  Let buffer be O.\[\[ViewedArrayBuffer\]\].
5.  Return buffer.

## 25.3.4.2 get DataView.prototype.byteLength

`DataView.prototype.byteLength` is an [accessor property](https://262.ecma-international.org/12.0/#sec-object-type) whose set accessor function is undefined. Its get accessor function performs the following steps:

1.  Let O be the this value.
2.  Perform ? [RequireInternalSlot](https://262.ecma-international.org/12.0/#sec-requireinternalslot)(O, \[\[DataView\]\]).
3.  [Assert](https://262.ecma-international.org/12.0/#assert): O has a \[\[ViewedArrayBuffer\]\] internal slot.
4.  Let buffer be O.\[\[ViewedArrayBuffer\]\].
5.  If [IsDetachedBuffer](https://262.ecma-international.org/12.0/#sec-isdetachedbuffer)(buffer) is true, throw a TypeError exception.
6.  Let size be O.\[\[ByteLength\]\].
7.  Return [𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(size).

## 25.3.4.3 get DataView.prototype.byteOffset

`DataView.prototype.byteOffset` is an [accessor property](https://262.ecma-international.org/12.0/#sec-object-type) whose set accessor function is undefined. Its get accessor function performs the following steps:

1.  Let O be the this value.
2.  Perform ? [RequireInternalSlot](https://262.ecma-international.org/12.0/#sec-requireinternalslot)(O, \[\[DataView\]\]).
3.  [Assert](https://262.ecma-international.org/12.0/#assert): O has a \[\[ViewedArrayBuffer\]\] internal slot.
4.  Let buffer be O.\[\[ViewedArrayBuffer\]\].
5.  If [IsDetachedBuffer](https://262.ecma-international.org/12.0/#sec-isdetachedbuffer)(buffer) is true, throw a TypeError exception.
6.  Let offset be O.\[\[ByteOffset\]\].
7.  Return [𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(offset).

## 25.3.4.4 DataView.prototype.constructor

The initial value of `DataView.prototype.constructor` is [%DataView%](https://262.ecma-international.org/12.0/#sec-dataview-constructor).

## 25.3.4.5 DataView.prototype.getBigInt64 ( byteOffset \[ , littleEndian \] )

When the `getBigInt64` method is called with argument byteOffset and optional argument littleEndian, the following steps are taken:

1.  Let v be the this value.
2.  Return ? [GetViewValue](https://262.ecma-international.org/12.0/#sec-getviewvalue)(v, byteOffset, littleEndian, BigInt64).

## 25.3.4.6 DataView.prototype.getBigUint64 ( byteOffset \[ , littleEndian \] )

When the `getBigUint64` method is called with argument byteOffset and optional argument littleEndian, the following steps are taken:

1.  Let v be the this value.
2.  Return ? [GetViewValue](https://262.ecma-international.org/12.0/#sec-getviewvalue)(v, byteOffset, littleEndian, BigUint64).

## 25.3.4.7 DataView.prototype.getFloat32 ( byteOffset \[ , littleEndian \] )

When the `getFloat32` method is called with argument byteOffset and optional argument littleEndian, the following steps are taken:

1.  Let v be the this value.
2.  If littleEndian is not present, set littleEndian to false.
3.  Return ? [GetViewValue](https://262.ecma-international.org/12.0/#sec-getviewvalue)(v, byteOffset, littleEndian, Float32).

## 25.3.4.8 DataView.prototype.getFloat64 ( byteOffset \[ , littleEndian \] )

When the `getFloat64` method is called with argument byteOffset and optional argument littleEndian, the following steps are taken:

1.  Let v be the this value.
2.  If littleEndian is not present, set littleEndian to false.
3.  Return ? [GetViewValue](https://262.ecma-international.org/12.0/#sec-getviewvalue)(v, byteOffset, littleEndian, Float64).

## 25.3.4.9 DataView.prototype.getInt8 ( byteOffset )

When the `getInt8` method is called with argument byteOffset, the following steps are taken:

1.  Let v be the this value.
2.  Return ? [GetViewValue](https://262.ecma-international.org/12.0/#sec-getviewvalue)(v, byteOffset, true, Int8).

## 25.3.4.10 DataView.prototype.getInt16 ( byteOffset \[ , littleEndian \] )

When the `getInt16` method is called with argument byteOffset and optional argument littleEndian, the following steps are taken:

1.  Let v be the this value.
2.  If littleEndian is not present, set littleEndian to false.
3.  Return ? [GetViewValue](https://262.ecma-international.org/12.0/#sec-getviewvalue)(v, byteOffset, littleEndian, Int16).

## 25.3.4.11 DataView.prototype.getInt32 ( byteOffset \[ , littleEndian \] )

When the `getInt32` method is called with argument byteOffset and optional argument littleEndian, the following steps are taken:

1.  Let v be the this value.
2.  If littleEndian is not present, set littleEndian to false.
3.  Return ? [GetViewValue](https://262.ecma-international.org/12.0/#sec-getviewvalue)(v, byteOffset, littleEndian, Int32).

## 25.3.4.12 DataView.prototype.getUint8 ( byteOffset )

When the `getUint8` method is called with argument byteOffset, the following steps are taken:

1.  Let v be the this value.
2.  Return ? [GetViewValue](https://262.ecma-international.org/12.0/#sec-getviewvalue)(v, byteOffset, true, Uint8).

## 25.3.4.13 DataView.prototype.getUint16 ( byteOffset \[ , littleEndian \] )

When the `getUint16` method is called with argument byteOffset and optional argument littleEndian, the following steps are taken:

1.  Let v be the this value.
2.  If littleEndian is not present, set littleEndian to false.
3.  Return ? [GetViewValue](https://262.ecma-international.org/12.0/#sec-getviewvalue)(v, byteOffset, littleEndian, Uint16).

## 25.3.4.14 DataView.prototype.getUint32 ( byteOffset \[ , littleEndian \] )

When the `getUint32` method is called with argument byteOffset and optional argument littleEndian, the following steps are taken:

1.  Let v be the this value.
2.  If littleEndian is not present, set littleEndian to false.
3.  Return ? [GetViewValue](https://262.ecma-international.org/12.0/#sec-getviewvalue)(v, byteOffset, littleEndian, Uint32).

## 25.3.4.15 DataView.prototype.setBigInt64 ( byteOffset, value \[ , littleEndian \] )

When the `setBigInt64` method is called with arguments byteOffset and value and optional argument littleEndian, the following steps are taken:

1.  Let v be the this value.
2.  Return ? [SetViewValue](https://262.ecma-international.org/12.0/#sec-setviewvalue)(v, byteOffset, littleEndian, BigInt64, value).

## 25.3.4.16 DataView.prototype.setBigUint64 ( byteOffset, value \[ , littleEndian \] )

When the `setBigUint64` method is called with arguments byteOffset and value and optional argument littleEndian, the following steps are taken:

1.  Let v be the this value.
2.  Return ? [SetViewValue](https://262.ecma-international.org/12.0/#sec-setviewvalue)(v, byteOffset, littleEndian, BigUint64, value).

## 25.3.4.17 DataView.prototype.setFloat32 ( byteOffset, value \[ , littleEndian \] )

When the `setFloat32` method is called with arguments byteOffset and value and optional argument littleEndian, the following steps are taken:

1.  Let v be the this value.
2.  If littleEndian is not present, set littleEndian to false.
3.  Return ? [SetViewValue](https://262.ecma-international.org/12.0/#sec-setviewvalue)(v, byteOffset, littleEndian, Float32, value).

## 25.3.4.18 DataView.prototype.setFloat64 ( byteOffset, value \[ , littleEndian \] )

When the `setFloat64` method is called with arguments byteOffset and value and optional argument littleEndian, the following steps are taken:

1.  Let v be the this value.
2.  If littleEndian is not present, set littleEndian to false.
3.  Return ? [SetViewValue](https://262.ecma-international.org/12.0/#sec-setviewvalue)(v, byteOffset, littleEndian, Float64, value).

## 25.3.4.19 DataView.prototype.setInt8 ( byteOffset, value )

When the `setInt8` method is called with arguments byteOffset and value, the following steps are taken:

1.  Let v be the this value.
2.  Return ? [SetViewValue](https://262.ecma-international.org/12.0/#sec-setviewvalue)(v, byteOffset, true, Int8, value).

## 25.3.4.20 DataView.prototype.setInt16 ( byteOffset, value \[ , littleEndian \] )

When the `setInt16` method is called with arguments byteOffset and value and optional argument littleEndian, the following steps are taken:

1.  Let v be the this value.
2.  If littleEndian is not present, set littleEndian to false.
3.  Return ? [SetViewValue](https://262.ecma-international.org/12.0/#sec-setviewvalue)(v, byteOffset, littleEndian, Int16, value).

## 25.3.4.21 DataView.prototype.setInt32 ( byteOffset, value \[ , littleEndian \] )

When the `setInt32` method is called with arguments byteOffset and value and optional argument littleEndian, the following steps are taken:

1.  Let v be the this value.
2.  If littleEndian is not present, set littleEndian to false.
3.  Return ? [SetViewValue](https://262.ecma-international.org/12.0/#sec-setviewvalue)(v, byteOffset, littleEndian, Int32, value).

## 25.3.4.22 DataView.prototype.setUint8 ( byteOffset, value )

When the `setUint8` method is called with arguments byteOffset and value, the following steps are taken:

1.  Let v be the this value.
2.  Return ? [SetViewValue](https://262.ecma-international.org/12.0/#sec-setviewvalue)(v, byteOffset, true, Uint8, value).

## 25.3.4.23 DataView.prototype.setUint16 ( byteOffset, value \[ , littleEndian \] )

When the `setUint16` method is called with arguments byteOffset and value and optional argument littleEndian, the following steps are taken:

1.  Let v be the this value.
2.  If littleEndian is not present, set littleEndian to false.
3.  Return ? [SetViewValue](https://262.ecma-international.org/12.0/#sec-setviewvalue)(v, byteOffset, littleEndian, Uint16, value).

## 25.3.4.24 DataView.prototype.setUint32 ( byteOffset, value \[ , littleEndian \] )

When the `setUint32` method is called with arguments byteOffset and value and optional argument littleEndian, the following steps are taken:

1.  Let v be the this value.
2.  If littleEndian is not present, set littleEndian to false.
3.  Return ? [SetViewValue](https://262.ecma-international.org/12.0/#sec-setviewvalue)(v, byteOffset, littleEndian, Uint32, value).

## 25.3.4.25 DataView.prototype \[ @@toStringTag \]

The initial value of the [@@toStringTag](https://262.ecma-international.org/12.0/#sec-well-known-symbols) property is the String value "DataView".

This property has the attributes { \[\[Writable\]\]: false, \[\[Enumerable\]\]: false, \[\[Configurable\]\]: true }.

## 25.3.5 Properties of DataView Instances

DataView instances are ordinary objects that inherit properties from the [DataView prototype object](https://262.ecma-international.org/12.0/#sec-properties-of-the-dataview-prototype-object). DataView instances each have \[\[DataView\]\], \[\[ViewedArrayBuffer\]\], \[\[ByteLength\]\], and \[\[ByteOffset\]\] internal slots.

Note

The value of the \[\[DataView\]\] internal slot is not used within this specification. The simple presence of that internal slot is used within the specification to identify objects created using the DataView [constructor](https://262.ecma-international.org/12.0/#constructor).

## 25.4 The Atomics Object

The Atomics object:

-   is %Atomics%.
-   is the initial value of the "Atomics" property of the [global object](https://262.ecma-international.org/12.0/#sec-global-object).
-   is an [ordinary object](https://262.ecma-international.org/12.0/#ordinary-object).
-   has a \[\[Prototype\]\] internal slot whose value is [%Object.prototype%](https://262.ecma-international.org/12.0/#sec-properties-of-the-object-prototype-object).
-   does not have a \[\[Construct\]\] internal method; it cannot be used as a [constructor](https://262.ecma-international.org/12.0/#constructor) with the `new` operator.
-   does not have a \[\[Call\]\] internal method; it cannot be invoked as a function.

The Atomics object provides functions that operate indivisibly (atomically) on shared memory array cells as well as functions that let agents wait for and dispatch primitive events. When used with discipline, the Atomics functions allow multi-[agent](https://262.ecma-international.org/12.0/#agent) programs that communicate through shared memory to execute in a well-understood order even on parallel CPUs. The rules that govern shared-memory communication are provided by the [memory model](https://262.ecma-international.org/12.0/#sec-memory-model), defined below.

Note

For informative guidelines for programming and implementing shared memory in ECMAScript, please see the notes at the end of the [memory model](https://262.ecma-international.org/12.0/#sec-memory-model) section.

## 25.4.1 Abstract Operations for Atomics

## 25.4.1.1 ValidateIntegerTypedArray ( typedArray \[ , waitable \] )

The abstract operation ValidateIntegerTypedArray takes argument typedArray and optional argument waitable (a Boolean). It performs the following steps when called:

1.  If waitable is not present, set waitable to false.
2.  Let buffer be ? [ValidateTypedArray](https://262.ecma-international.org/12.0/#sec-validatetypedarray)(typedArray).
3.  Let typeName be typedArray.\[\[TypedArrayName\]\].
4.  Let type be the Element Type value in [Table 60](https://262.ecma-international.org/12.0/#table-the-typedarray-constructors) for typeName.
5.  If waitable is true, then
    1.  If typeName is not "Int32Array" or "BigInt64Array", throw a TypeError exception.
6.  Else,
    1.  If ! [IsUnclampedIntegerElementType](https://262.ecma-international.org/12.0/#sec-isunclampedintegerelementtype)(type) is false and ! [IsBigIntElementType](https://262.ecma-international.org/12.0/#sec-isbigintelementtype)(type) is false, throw a TypeError exception.
7.  Return buffer.

## 25.4.1.2 ValidateAtomicAccess ( typedArray, requestIndex )

The abstract operation ValidateAtomicAccess takes arguments typedArray and requestIndex. It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): typedArray is an Object that has a \[\[ViewedArrayBuffer\]\] internal slot.
2.  Let length be typedArray.\[\[ArrayLength\]\].
3.  Let accessIndex be ? [ToIndex](https://262.ecma-international.org/12.0/#sec-toindex)(requestIndex).
4.  [Assert](https://262.ecma-international.org/12.0/#assert): accessIndex ≥ 0.
5.  If accessIndex ≥ length, throw a RangeError exception.
6.  Let arrayTypeName be typedArray.\[\[TypedArrayName\]\].
7.  Let elementSize be the Element Size value specified in [Table 60](https://262.ecma-international.org/12.0/#table-the-typedarray-constructors) for arrayTypeName.
8.  Let offset be typedArray.\[\[ByteOffset\]\].
9.  Return (accessIndex × elementSize) + offset.

## 25.4.1.3 GetWaiterList ( block, i )

A WaiterList is a semantic object that contains an ordered list of those agents that are waiting on a location (block, i) in shared memory; block is a [Shared Data Block](https://262.ecma-international.org/12.0/#sec-data-blocks) and i a byte offset into the memory of block. A WaiterList object also optionally contains a [Synchronize event](https://262.ecma-international.org/12.0/#sec-memory-model-fundamentals) denoting the previous leaving of its critical section.

Initially a WaiterList object has an empty list and no [Synchronize event](https://262.ecma-international.org/12.0/#sec-memory-model-fundamentals).

The [agent cluster](https://262.ecma-international.org/12.0/#sec-agent-clusters) has a store of WaiterList objects; the store is indexed by (block, i). WaiterLists are [agent](https://262.ecma-international.org/12.0/#agent)\-independent: a lookup in the store of WaiterLists by (block, i) will result in the same WaiterList object in any [agent](https://262.ecma-international.org/12.0/#agent) in the [agent cluster](https://262.ecma-international.org/12.0/#sec-agent-clusters).

Each WaiterList has a critical section that controls exclusive access to that WaiterList during evaluation. Only a single [agent](https://262.ecma-international.org/12.0/#agent) may enter a WaiterList's critical section at one time. Entering and leaving a WaiterList's critical section is controlled by the [abstract operations](https://262.ecma-international.org/12.0/#sec-algorithm-conventions-abstract-operations) [EnterCriticalSection](https://262.ecma-international.org/12.0/#sec-entercriticalsection) and [LeaveCriticalSection](https://262.ecma-international.org/12.0/#sec-leavecriticalsection). Operations on a WaiterList—adding and removing waiting agents, traversing the list of agents, suspending and notifying agents on the list, setting and retrieving the [Synchronize event](https://262.ecma-international.org/12.0/#sec-memory-model-fundamentals)—may only be performed by agents that have entered the WaiterList's critical section.

The abstract operation GetWaiterList takes arguments block (a [Shared Data Block](https://262.ecma-international.org/12.0/#sec-data-blocks)) and i (a non-negative [integer](https://262.ecma-international.org/12.0/#integer)). It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): block is a [Shared Data Block](https://262.ecma-international.org/12.0/#sec-data-blocks).
2.  [Assert](https://262.ecma-international.org/12.0/#assert): i and i + 3 are valid byte offsets within the memory of block.
3.  [Assert](https://262.ecma-international.org/12.0/#assert): i is divisible by 4.
4.  Return the [WaiterList](https://262.ecma-international.org/12.0/#sec-getwaiterlist) that is referenced by the pair (block, i).

## 25.4.1.4 EnterCriticalSection ( WL )

The abstract operation EnterCriticalSection takes argument WL (a [WaiterList](https://262.ecma-international.org/12.0/#sec-getwaiterlist)). It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): The calling [agent](https://262.ecma-international.org/12.0/#agent) is not in the [critical section](https://262.ecma-international.org/12.0/#sec-getwaiterlist) for any [WaiterList](https://262.ecma-international.org/12.0/#sec-getwaiterlist).
2.  Wait until no [agent](https://262.ecma-international.org/12.0/#agent) is in the [critical section](https://262.ecma-international.org/12.0/#sec-getwaiterlist) for WL, then enter the [critical section](https://262.ecma-international.org/12.0/#sec-getwaiterlist) for WL (without allowing any other [agent](https://262.ecma-international.org/12.0/#agent) to enter).
3.  If WL has a [Synchronize event](https://262.ecma-international.org/12.0/#sec-memory-model-fundamentals), then
    1.  NOTE: A WL whose [critical section](https://262.ecma-international.org/12.0/#sec-getwaiterlist) has been entered at least once has a [Synchronize event](https://262.ecma-international.org/12.0/#sec-memory-model-fundamentals) set by [LeaveCriticalSection](https://262.ecma-international.org/12.0/#sec-leavecriticalsection).
    2.  Let execution be the \[\[CandidateExecution\]\] field of the [surrounding agent](https://262.ecma-international.org/12.0/#surrounding-agent)'s [Agent Record](https://262.ecma-international.org/12.0/#agent-record).
    3.  Let eventsRecord be the [Agent Events Record](https://262.ecma-international.org/12.0/#sec-agent-event-records) in execution.\[\[EventsRecords\]\] whose \[\[AgentSignifier\]\] is [AgentSignifier](https://262.ecma-international.org/12.0/#sec-agentsignifier)().
    4.  Let entererEventList be eventsRecord.\[\[EventList\]\].
    5.  Let enterEvent be a new [Synchronize event](https://262.ecma-international.org/12.0/#sec-memory-model-fundamentals).
    6.  Append enterEvent to entererEventList.
    7.  Let leaveEvent be the [Synchronize event](https://262.ecma-international.org/12.0/#sec-memory-model-fundamentals) in WL.
    8.  Append (leaveEvent, enterEvent) to eventsRecord.\[\[AgentSynchronizesWith\]\].

EnterCriticalSection has contention when an [agent](https://262.ecma-international.org/12.0/#agent) attempting to enter the [critical section](https://262.ecma-international.org/12.0/#sec-getwaiterlist) must wait for another [agent](https://262.ecma-international.org/12.0/#agent) to leave it. When there is no contention, FIFO order of EnterCriticalSection calls is observable. When there is contention, an implementation may choose an arbitrary order but may not cause an [agent](https://262.ecma-international.org/12.0/#agent) to wait indefinitely.

## 25.4.1.5 LeaveCriticalSection ( WL )

The abstract operation LeaveCriticalSection takes argument WL (a [WaiterList](https://262.ecma-international.org/12.0/#sec-getwaiterlist)). It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): The calling [agent](https://262.ecma-international.org/12.0/#agent) is in the [critical section](https://262.ecma-international.org/12.0/#sec-getwaiterlist) for WL.
2.  Let execution be the \[\[CandidateExecution\]\] field of the calling surrounding's [Agent Record](https://262.ecma-international.org/12.0/#agent-record).
3.  Let eventsRecord be the [Agent Events Record](https://262.ecma-international.org/12.0/#sec-agent-event-records) in execution.\[\[EventsRecords\]\] whose \[\[AgentSignifier\]\] is [AgentSignifier](https://262.ecma-international.org/12.0/#sec-agentsignifier)().
4.  Let leaverEventList be eventsRecord.\[\[EventList\]\].
5.  Let leaveEvent be a new [Synchronize event](https://262.ecma-international.org/12.0/#sec-memory-model-fundamentals).
6.  Append leaveEvent to leaverEventList.
7.  Set the [Synchronize event](https://262.ecma-international.org/12.0/#sec-memory-model-fundamentals) in WL to leaveEvent.
8.  Leave the [critical section](https://262.ecma-international.org/12.0/#sec-getwaiterlist) for WL.

## 25.4.1.6 AddWaiter ( WL, W )

The abstract operation AddWaiter takes arguments WL (a [WaiterList](https://262.ecma-international.org/12.0/#sec-getwaiterlist)) and W (an [agent](https://262.ecma-international.org/12.0/#agent) signifier). It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): The calling [agent](https://262.ecma-international.org/12.0/#agent) is in the [critical section](https://262.ecma-international.org/12.0/#sec-getwaiterlist) for WL.
2.  [Assert](https://262.ecma-international.org/12.0/#assert): W is not on the list of waiters in any [WaiterList](https://262.ecma-international.org/12.0/#sec-getwaiterlist).
3.  Add W to the end of the list of waiters in WL.

## 25.4.1.7 RemoveWaiter ( WL, W )

The abstract operation RemoveWaiter takes arguments WL (a [WaiterList](https://262.ecma-international.org/12.0/#sec-getwaiterlist)) and W (an [agent](https://262.ecma-international.org/12.0/#agent) signifier). It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): The calling [agent](https://262.ecma-international.org/12.0/#agent) is in the [critical section](https://262.ecma-international.org/12.0/#sec-getwaiterlist) for WL.
2.  [Assert](https://262.ecma-international.org/12.0/#assert): W is on the list of waiters in WL.
3.  Remove W from the list of waiters in WL.

## 25.4.1.8 RemoveWaiters ( WL, c )

The abstract operation RemoveWaiters takes arguments WL (a [WaiterList](https://262.ecma-international.org/12.0/#sec-getwaiterlist)) and c (a non-negative [integer](https://262.ecma-international.org/12.0/#integer) or +∞). It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): The calling [agent](https://262.ecma-international.org/12.0/#agent) is in the [critical section](https://262.ecma-international.org/12.0/#sec-getwaiterlist) for WL.
2.  Let L be a new empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).
3.  Let S be a reference to the list of waiters in WL.
4.  Repeat, while c > 0 and S is not an empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type),
    1.  Let W be the first waiter in S.
    2.  Add W to the end of L.
    3.  Remove W from S.
    4.  If c is finite, set c to c - 1.
5.  Return L.

## 25.4.1.9 SuspendAgent ( WL, W, timeout )

The abstract operation SuspendAgent takes arguments WL (a [WaiterList](https://262.ecma-international.org/12.0/#sec-getwaiterlist)), W (an [agent](https://262.ecma-international.org/12.0/#agent) signifier), and timeout (a non-negative [integer](https://262.ecma-international.org/12.0/#integer)). It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): The calling [agent](https://262.ecma-international.org/12.0/#agent) is in the [critical section](https://262.ecma-international.org/12.0/#sec-getwaiterlist) for WL.
2.  [Assert](https://262.ecma-international.org/12.0/#assert): W is equivalent to [AgentSignifier](https://262.ecma-international.org/12.0/#sec-agentsignifier)().
3.  [Assert](https://262.ecma-international.org/12.0/#assert): W is on the list of waiters in WL.
4.  [Assert](https://262.ecma-international.org/12.0/#assert): [AgentCanSuspend](https://262.ecma-international.org/12.0/#sec-agentcansuspend)() is true.
5.  Perform [LeaveCriticalSection](https://262.ecma-international.org/12.0/#sec-leavecriticalsection)(WL) and suspend W for up to timeout milliseconds, performing the combined operation in such a way that a notification that arrives after the [critical section](https://262.ecma-international.org/12.0/#sec-getwaiterlist) is exited but before the suspension takes effect is not lost. W can notify either because the timeout expired or because it was notified explicitly by another [agent](https://262.ecma-international.org/12.0/#agent) calling [NotifyWaiter](https://262.ecma-international.org/12.0/#sec-notifywaiter)(WL, W), and not for any other reasons at all.
6.  Perform [EnterCriticalSection](https://262.ecma-international.org/12.0/#sec-entercriticalsection)(WL).
7.  If W was notified explicitly by another [agent](https://262.ecma-international.org/12.0/#agent) calling [NotifyWaiter](https://262.ecma-international.org/12.0/#sec-notifywaiter)(WL, W), return true.
8.  Return false.

## 25.4.1.10 NotifyWaiter ( WL, W )

The abstract operation NotifyWaiter takes arguments WL (a [WaiterList](https://262.ecma-international.org/12.0/#sec-getwaiterlist)) and W (an [agent](https://262.ecma-international.org/12.0/#agent) signifier). It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): The calling [agent](https://262.ecma-international.org/12.0/#agent) is in the [critical section](https://262.ecma-international.org/12.0/#sec-getwaiterlist) for WL.
2.  Notify the [agent](https://262.ecma-international.org/12.0/#agent) W.

Note

The embedding may delay notifying W, e.g. for resource management reasons, but W must eventually be notified in order to guarantee forward progress.

## 25.4.1.11 AtomicReadModifyWrite ( typedArray, index, value, op )

The abstract operation AtomicReadModifyWrite takes arguments typedArray, index, value, and op (a [read-modify-write modification function](https://262.ecma-international.org/12.0/#sec-arraybuffer-notation)). op takes two [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) of byte values arguments and returns a [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) of byte values. This operation atomically loads a value, combines it with another value, and stores the result of the combination. It returns the loaded value. It performs the following steps when called:

1.  Let buffer be ? [ValidateIntegerTypedArray](https://262.ecma-international.org/12.0/#sec-validateintegertypedarray)(typedArray).
2.  Let indexedPosition be ? [ValidateAtomicAccess](https://262.ecma-international.org/12.0/#sec-validateatomicaccess)(typedArray, index).
3.  Let arrayTypeName be typedArray.\[\[TypedArrayName\]\].
4.  If typedArray.\[\[ContentType\]\] is BigInt, let v be ? [ToBigInt](https://262.ecma-international.org/12.0/#sec-tobigint)(value).
5.  Otherwise, let v be [𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(? [ToIntegerOrInfinity](https://262.ecma-international.org/12.0/#sec-tointegerorinfinity)(value)).
6.  If [IsDetachedBuffer](https://262.ecma-international.org/12.0/#sec-isdetachedbuffer)(buffer) is true, throw a TypeError exception.
7.  NOTE: The above check is not redundant with the check in [ValidateIntegerTypedArray](https://262.ecma-international.org/12.0/#sec-validateintegertypedarray) because the call to [ToBigInt](https://262.ecma-international.org/12.0/#sec-tobigint) or [ToIntegerOrInfinity](https://262.ecma-international.org/12.0/#sec-tointegerorinfinity) on the preceding lines can have arbitrary side effects, which could cause the buffer to become detached.
8.  Let elementType be the Element Type value in [Table 60](https://262.ecma-international.org/12.0/#table-the-typedarray-constructors) for arrayTypeName.
9.  Return [GetModifySetValueInBuffer](https://262.ecma-international.org/12.0/#sec-getmodifysetvalueinbuffer)(buffer, indexedPosition, elementType, v, op).

## 25.4.1.12 ByteListBitwiseOp ( op, xBytes, yBytes )

The abstract operation ByteListBitwiseOp takes arguments op (a sequence of Unicode code points), xBytes (a [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) of byte values), and yBytes (a [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) of byte values). The operation atomically performs a bitwise operation on all byte values of the arguments and returns a [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) of byte values. It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): op is `&`, `^`, or `|`.
2.  [Assert](https://262.ecma-international.org/12.0/#assert): xBytes and yBytes have the same number of elements.
3.  Let result be a new empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).
4.  Let i be 0.
5.  For each element xByte of xBytes, do
    1.  Let yByte be yBytes\[i\].
    2.  If op is `&`, let resultByte be the result of applying the bitwise AND operation to xByte and yByte.
    3.  Else if op is `^`, let resultByte be the result of applying the bitwise exclusive OR (XOR) operation to xByte and yByte.
    4.  Else, op is `|`. Let resultByte be the result of applying the bitwise inclusive OR operation to xByte and yByte.
    5.  Set i to i + 1.
    6.  Append resultByte to the end of result.
6.  Return result.

## 25.4.1.13 ByteListEqual ( xBytes, yBytes )

The abstract operation ByteListEqual takes arguments xBytes (a [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) of byte values) and yBytes (a [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) of byte values). It performs the following steps when called:

1.  If xBytes and yBytes do not have the same number of elements, return false.
2.  Let i be 0.
3.  For each element xByte of xBytes, do
    1.  Let yByte be yBytes\[i\].
    2.  If xByte ≠ yByte, return false.
    3.  Set i to i + 1.
4.  Return true.

## 25.4.2 Atomics.add ( typedArray, index, value )

The following steps are taken:

1.  Let type be the Element Type value in [Table 60](https://262.ecma-international.org/12.0/#table-the-typedarray-constructors) for typedArray.\[\[TypedArrayName\]\].
2.  Let isLittleEndian be the value of the \[\[LittleEndian\]\] field of the [surrounding agent](https://262.ecma-international.org/12.0/#surrounding-agent)'s [Agent Record](https://262.ecma-international.org/12.0/#agent-record).
3.  Let add be a new [read-modify-write modification function](https://262.ecma-international.org/12.0/#sec-arraybuffer-notation) with parameters (xBytes, yBytes) that captures type and isLittleEndian and performs the following steps atomically when called:
    1.  Let x be [RawBytesToNumeric](https://262.ecma-international.org/12.0/#sec-rawbytestonumeric)(type, xBytes, isLittleEndian).
    2.  Let y be [RawBytesToNumeric](https://262.ecma-international.org/12.0/#sec-rawbytestonumeric)(type, yBytes, isLittleEndian).
    3.  Let T be [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(x).
    4.  Let sum be T::add(x, y).
    5.  Let sumBytes be [NumericToRawBytes](https://262.ecma-international.org/12.0/#sec-numerictorawbytes)(type, sum, isLittleEndian).
    6.  [Assert](https://262.ecma-international.org/12.0/#assert): sumBytes, xBytes, and yBytes have the same number of elements.
    7.  Return sumBytes.
4.  Return ? [AtomicReadModifyWrite](https://262.ecma-international.org/12.0/#sec-atomicreadmodifywrite)(typedArray, index, value, add).

## 25.4.3 Atomics.and ( typedArray, index, value )

The following steps are taken:

1.  Let and be a new [read-modify-write modification function](https://262.ecma-international.org/12.0/#sec-arraybuffer-notation) with parameters (xBytes, yBytes) that captures nothing and performs the following steps atomically when called:
    1.  Return [ByteListBitwiseOp](https://262.ecma-international.org/12.0/#sec-bytelistbitwiseop)(`&`, xBytes, yBytes).
2.  Return ? [AtomicReadModifyWrite](https://262.ecma-international.org/12.0/#sec-atomicreadmodifywrite)(typedArray, index, value, and).

## 25.4.4 Atomics.compareExchange ( typedArray, index, expectedValue, replacementValue )

The following steps are taken:

1.  Let buffer be ? [ValidateIntegerTypedArray](https://262.ecma-international.org/12.0/#sec-validateintegertypedarray)(typedArray).
2.  Let block be buffer.\[\[ArrayBufferData\]\].
3.  Let indexedPosition be ? [ValidateAtomicAccess](https://262.ecma-international.org/12.0/#sec-validateatomicaccess)(typedArray, index).
4.  Let arrayTypeName be typedArray.\[\[TypedArrayName\]\].
5.  If typedArray.\[\[ContentType\]\] is BigInt, then
    1.  Let expected be ? [ToBigInt](https://262.ecma-international.org/12.0/#sec-tobigint)(expectedValue).
    2.  Let replacement be ? [ToBigInt](https://262.ecma-international.org/12.0/#sec-tobigint)(replacementValue).
6.  Else,
    1.  Let expected be [𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(? [ToIntegerOrInfinity](https://262.ecma-international.org/12.0/#sec-tointegerorinfinity)(expectedValue)).
    2.  Let replacement be [𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(? [ToIntegerOrInfinity](https://262.ecma-international.org/12.0/#sec-tointegerorinfinity)(replacementValue)).
7.  If [IsDetachedBuffer](https://262.ecma-international.org/12.0/#sec-isdetachedbuffer)(buffer) is true, throw a TypeError exception.
8.  NOTE: The above check is not redundant with the check in [ValidateIntegerTypedArray](https://262.ecma-international.org/12.0/#sec-validateintegertypedarray) because the call to [ToBigInt](https://262.ecma-international.org/12.0/#sec-tobigint) or [ToIntegerOrInfinity](https://262.ecma-international.org/12.0/#sec-tointegerorinfinity) on the preceding lines can have arbitrary side effects, which could cause the buffer to become detached.
9.  Let elementType be the Element Type value in [Table 60](https://262.ecma-international.org/12.0/#table-the-typedarray-constructors) for arrayTypeName.
10.  Let elementSize be the Element Size value specified in [Table 60](https://262.ecma-international.org/12.0/#table-the-typedarray-constructors) for Element Type elementType.
11.  Let isLittleEndian be the value of the \[\[LittleEndian\]\] field of the [surrounding agent](https://262.ecma-international.org/12.0/#surrounding-agent)'s [Agent Record](https://262.ecma-international.org/12.0/#agent-record).
12.  Let expectedBytes be [NumericToRawBytes](https://262.ecma-international.org/12.0/#sec-numerictorawbytes)(elementType, expected, isLittleEndian).
13.  Let replacementBytes be [NumericToRawBytes](https://262.ecma-international.org/12.0/#sec-numerictorawbytes)(elementType, replacement, isLittleEndian).
14.  If [IsSharedArrayBuffer](https://262.ecma-international.org/12.0/#sec-issharedarraybuffer)(buffer) is true, then
    1.  Let execution be the \[\[CandidateExecution\]\] field of the [surrounding agent](https://262.ecma-international.org/12.0/#surrounding-agent)'s [Agent Record](https://262.ecma-international.org/12.0/#agent-record).
    2.  Let eventList be the \[\[EventList\]\] field of the element in execution.\[\[EventsRecords\]\] whose \[\[AgentSignifier\]\] is [AgentSignifier](https://262.ecma-international.org/12.0/#sec-agentsignifier)().
    3.  Let rawBytesRead be a [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) of length elementSize whose elements are nondeterministically chosen byte values.
    4.  NOTE: In implementations, rawBytesRead is the result of a load-link, of a load-exclusive, or of an operand of a read-modify-write instruction on the underlying hardware. The nondeterminism is a semantic prescription of the [memory model](https://262.ecma-international.org/12.0/#sec-memory-model) to describe observable behaviour of hardware with weak consistency.
    5.  NOTE: The comparison of the expected value and the read value is performed outside of the [read-modify-write modification function](https://262.ecma-international.org/12.0/#sec-arraybuffer-notation) to avoid needlessly strong synchronization when the expected value is not equal to the read value.
    6.  If [ByteListEqual](https://262.ecma-international.org/12.0/#sec-bytelistequal)(rawBytesRead, expectedBytes) is true, then
        1.  Let second be a new [read-modify-write modification function](https://262.ecma-international.org/12.0/#sec-arraybuffer-notation) with parameters (oldBytes, newBytes) that captures nothing and performs the following steps atomically when called:
            1.  Return newBytes.
        2.  Let event be [ReadModifyWriteSharedMemory](https://262.ecma-international.org/12.0/#sec-memory-model-fundamentals) { \[\[Order\]\]: SeqCst, \[\[NoTear\]\]: true, \[\[Block\]\]: block, \[\[ByteIndex\]\]: indexedPosition, \[\[ElementSize\]\]: elementSize, \[\[Payload\]\]: replacementBytes, \[\[ModifyOp\]\]: second }.
    7.  Else,
        1.  Let event be [ReadSharedMemory](https://262.ecma-international.org/12.0/#sec-memory-model-fundamentals) { \[\[Order\]\]: SeqCst, \[\[NoTear\]\]: true, \[\[Block\]\]: block, \[\[ByteIndex\]\]: indexedPosition, \[\[ElementSize\]\]: elementSize }.
    8.  Append event to eventList.
    9.  Append [Chosen Value Record](https://262.ecma-international.org/12.0/#sec-chosen-value-records) { \[\[Event\]\]: event, \[\[ChosenValue\]\]: rawBytesRead } to execution.\[\[ChosenValues\]\].
15.  Else,
    1.  Let rawBytesRead be a [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) of length elementSize whose elements are the sequence of elementSize bytes starting with block\[indexedPosition\].
    2.  If [ByteListEqual](https://262.ecma-international.org/12.0/#sec-bytelistequal)(rawBytesRead, expectedBytes) is true, then
        1.  Store the individual bytes of replacementBytes into block, starting at block\[indexedPosition\].
16.  Return [RawBytesToNumeric](https://262.ecma-international.org/12.0/#sec-rawbytestonumeric)(elementType, rawBytesRead, isLittleEndian).

## 25.4.5 Atomics.exchange ( typedArray, index, value )

The following steps are taken:

1.  Let second be a new [read-modify-write modification function](https://262.ecma-international.org/12.0/#sec-arraybuffer-notation) with parameters (oldBytes, newBytes) that captures nothing and performs the following steps atomically when called:
    1.  Return newBytes.
2.  Return ? [AtomicReadModifyWrite](https://262.ecma-international.org/12.0/#sec-atomicreadmodifywrite)(typedArray, index, value, second).

## 25.4.6 Atomics.isLockFree ( size )

The following steps are taken:

1.  Let n be ? [ToIntegerOrInfinity](https://262.ecma-international.org/12.0/#sec-tointegerorinfinity)(size).
2.  Let AR be the [Agent Record](https://262.ecma-international.org/12.0/#agent-record) of the [surrounding agent](https://262.ecma-international.org/12.0/#surrounding-agent).
3.  If n = 1, return AR.\[\[IsLockFree1\]\].
4.  If n = 2, return AR.\[\[IsLockFree2\]\].
5.  If n = 4, return true.
6.  If n = 8, return AR.\[\[IsLockFree8\]\].
7.  Return false.

Note

`Atomics.isLockFree`() is an optimization primitive. The intuition is that if the atomic step of an atomic primitive (`compareExchange`, `load`, `store`, `add`, `sub`, `and`, `or`, `xor`, or `exchange`) on a datum of size n bytes will be performed without the calling [agent](https://262.ecma-international.org/12.0/#agent) acquiring a lock outside the n bytes comprising the datum, then `Atomics.isLockFree`(n) will return true. High-performance algorithms will use `Atomics.isLockFree` to determine whether to use locks or atomic operations in critical sections. If an atomic primitive is not lock-free then it is often more efficient for an algorithm to provide its own locking.

`Atomics.isLockFree`(4) always returns true as that can be supported on all known relevant hardware. Being able to assume this will generally simplify programs.

Regardless of the value of `Atomics.isLockFree`, all atomic operations are guaranteed to be atomic. For example, they will never have a visible operation take place in the middle of the operation (e.g., "tearing").

## 25.4.7 Atomics.load ( typedArray, index )

The following steps are taken:

1.  Let buffer be ? [ValidateIntegerTypedArray](https://262.ecma-international.org/12.0/#sec-validateintegertypedarray)(typedArray).
2.  Let indexedPosition be ? [ValidateAtomicAccess](https://262.ecma-international.org/12.0/#sec-validateatomicaccess)(typedArray, index).
3.  If [IsDetachedBuffer](https://262.ecma-international.org/12.0/#sec-isdetachedbuffer)(buffer) is true, throw a TypeError exception.
4.  NOTE: The above check is not redundant with the check in [ValidateIntegerTypedArray](https://262.ecma-international.org/12.0/#sec-validateintegertypedarray) because the call to [ValidateAtomicAccess](https://262.ecma-international.org/12.0/#sec-validateatomicaccess) on the preceding line can have arbitrary side effects, which could cause the buffer to become detached.
5.  Let arrayTypeName be typedArray.\[\[TypedArrayName\]\].
6.  Let elementType be the Element Type value in [Table 60](https://262.ecma-international.org/12.0/#table-the-typedarray-constructors) for arrayTypeName.
7.  Return [GetValueFromBuffer](https://262.ecma-international.org/12.0/#sec-getvaluefrombuffer)(buffer, indexedPosition, elementType, true, SeqCst).

## 25.4.8 Atomics.or ( typedArray, index, value )

The following steps are taken:

1.  Let or be a new [read-modify-write modification function](https://262.ecma-international.org/12.0/#sec-arraybuffer-notation) with parameters (xBytes, yBytes) that captures nothing and performs the following steps atomically when called:
    1.  Return [ByteListBitwiseOp](https://262.ecma-international.org/12.0/#sec-bytelistbitwiseop)(`|`, xBytes, yBytes).
2.  Return ? [AtomicReadModifyWrite](https://262.ecma-international.org/12.0/#sec-atomicreadmodifywrite)(typedArray, index, value, or).

## 25.4.9 Atomics.store ( typedArray, index, value )

The following steps are taken:

1.  Let buffer be ? [ValidateIntegerTypedArray](https://262.ecma-international.org/12.0/#sec-validateintegertypedarray)(typedArray).
2.  Let indexedPosition be ? [ValidateAtomicAccess](https://262.ecma-international.org/12.0/#sec-validateatomicaccess)(typedArray, index).
3.  Let arrayTypeName be typedArray.\[\[TypedArrayName\]\].
4.  If arrayTypeName is "BigUint64Array" or "BigInt64Array", let v be ? [ToBigInt](https://262.ecma-international.org/12.0/#sec-tobigint)(value).
5.  Otherwise, let v be [𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(? [ToIntegerOrInfinity](https://262.ecma-international.org/12.0/#sec-tointegerorinfinity)(value)).
6.  If [IsDetachedBuffer](https://262.ecma-international.org/12.0/#sec-isdetachedbuffer)(buffer) is true, throw a TypeError exception.
7.  NOTE: The above check is not redundant with the check in [ValidateIntegerTypedArray](https://262.ecma-international.org/12.0/#sec-validateintegertypedarray) because the call to [ToBigInt](https://262.ecma-international.org/12.0/#sec-tobigint) or [ToIntegerOrInfinity](https://262.ecma-international.org/12.0/#sec-tointegerorinfinity) on the preceding lines can have arbitrary side effects, which could cause the buffer to become detached.
8.  Let elementType be the Element Type value in [Table 60](https://262.ecma-international.org/12.0/#table-the-typedarray-constructors) for arrayTypeName.
9.  Perform [SetValueInBuffer](https://262.ecma-international.org/12.0/#sec-setvalueinbuffer)(buffer, indexedPosition, elementType, v, true, SeqCst).
10.  Return v.

## 25.4.10 Atomics.sub ( typedArray, index, value )

The following steps are taken:

1.  Let type be the Element Type value in [Table 60](https://262.ecma-international.org/12.0/#table-the-typedarray-constructors) for typedArray.\[\[TypedArrayName\]\].
2.  Let isLittleEndian be the value of the \[\[LittleEndian\]\] field of the [surrounding agent](https://262.ecma-international.org/12.0/#surrounding-agent)'s [Agent Record](https://262.ecma-international.org/12.0/#agent-record).
3.  Let subtract be a new [read-modify-write modification function](https://262.ecma-international.org/12.0/#sec-arraybuffer-notation) with parameters (xBytes, yBytes) that captures type and isLittleEndian and performs the following steps atomically when called:
    1.  Let x be [RawBytesToNumeric](https://262.ecma-international.org/12.0/#sec-rawbytestonumeric)(type, xBytes, isLittleEndian).
    2.  Let y be [RawBytesToNumeric](https://262.ecma-international.org/12.0/#sec-rawbytestonumeric)(type, yBytes, isLittleEndian).
    3.  Let T be [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(x).
    4.  Let difference be T::subtract(x, y).
    5.  Let differenceBytes be [NumericToRawBytes](https://262.ecma-international.org/12.0/#sec-numerictorawbytes)(type, difference, isLittleEndian).
    6.  [Assert](https://262.ecma-international.org/12.0/#assert): differenceBytes, xBytes, and yBytes have the same number of elements.
    7.  Return differenceBytes.
4.  Return ? [AtomicReadModifyWrite](https://262.ecma-international.org/12.0/#sec-atomicreadmodifywrite)(typedArray, index, value, subtract).

## 25.4.11 Atomics.wait ( typedArray, index, value, timeout )

`Atomics.wait` puts the calling [agent](https://262.ecma-international.org/12.0/#agent) in a wait queue and puts it to sleep until it is notified or the sleep times out. The following steps are taken:

1.  Let buffer be ? [ValidateIntegerTypedArray](https://262.ecma-international.org/12.0/#sec-validateintegertypedarray)(typedArray, true).
2.  If [IsSharedArrayBuffer](https://262.ecma-international.org/12.0/#sec-issharedarraybuffer)(buffer) is false, throw a TypeError exception.
3.  Let indexedPosition be ? [ValidateAtomicAccess](https://262.ecma-international.org/12.0/#sec-validateatomicaccess)(typedArray, index).
4.  Let arrayTypeName be typedArray.\[\[TypedArrayName\]\].
5.  If arrayTypeName is "BigInt64Array", let v be ? [ToBigInt64](https://262.ecma-international.org/12.0/#sec-tobigint64)(value).
6.  Otherwise, let v be ? [ToInt32](https://262.ecma-international.org/12.0/#sec-toint32)(value).
7.  Let q be ? [ToNumber](https://262.ecma-international.org/12.0/#sec-tonumber)(timeout).
8.  If q is NaN or +∞𝔽, let t be +∞; else if q is \-∞𝔽, let t be 0; else let t be [max](https://262.ecma-international.org/12.0/#eqn-max)([ℝ](https://262.ecma-international.org/12.0/#%E2%84%9D)(q), 0).
9.  Let B be [AgentCanSuspend](https://262.ecma-international.org/12.0/#sec-agentcansuspend)().
10.  If B is false, throw a TypeError exception.
11.  Let block be buffer.\[\[ArrayBufferData\]\].
12.  Let WL be [GetWaiterList](https://262.ecma-international.org/12.0/#sec-getwaiterlist)(block, indexedPosition).
13.  Perform [EnterCriticalSection](https://262.ecma-international.org/12.0/#sec-entercriticalsection)(WL).
14.  Let elementType be the Element Type value in [Table 60](https://262.ecma-international.org/12.0/#table-the-typedarray-constructors) for arrayTypeName.
15.  Let w be ! [GetValueFromBuffer](https://262.ecma-international.org/12.0/#sec-getvaluefrombuffer)(buffer, indexedPosition, elementType, true, SeqCst).
16.  If v ≠ w, then
    1.  Perform [LeaveCriticalSection](https://262.ecma-international.org/12.0/#sec-leavecriticalsection)(WL).
    2.  Return the String "not-equal".
17.  Let W be [AgentSignifier](https://262.ecma-international.org/12.0/#sec-agentsignifier)().
18.  Perform [AddWaiter](https://262.ecma-international.org/12.0/#sec-addwaiter)(WL, W).
19.  Let notified be [SuspendAgent](https://262.ecma-international.org/12.0/#sec-suspendagent)(WL, W, t).
20.  If notified is true, then
    1.  [Assert](https://262.ecma-international.org/12.0/#assert): W is not on the list of waiters in WL.
21.  Else,
    1.  Perform [RemoveWaiter](https://262.ecma-international.org/12.0/#sec-removewaiter)(WL, W).
22.  Perform [LeaveCriticalSection](https://262.ecma-international.org/12.0/#sec-leavecriticalsection)(WL).
23.  If notified is true, return the String "ok".
24.  Return the String "timed-out".

## 25.4.12 Atomics.notify ( typedArray, index, count )

`Atomics.notify` notifies some agents that are sleeping in the wait queue. The following steps are taken:

1.  Let buffer be ? [ValidateIntegerTypedArray](https://262.ecma-international.org/12.0/#sec-validateintegertypedarray)(typedArray, true).
2.  Let indexedPosition be ? [ValidateAtomicAccess](https://262.ecma-international.org/12.0/#sec-validateatomicaccess)(typedArray, index).
3.  If count is undefined, let c be +∞.
4.  Else,
    1.  Let intCount be ? [ToIntegerOrInfinity](https://262.ecma-international.org/12.0/#sec-tointegerorinfinity)(count).
    2.  Let c be [max](https://262.ecma-international.org/12.0/#eqn-max)(intCount, 0).
5.  Let block be buffer.\[\[ArrayBufferData\]\].
6.  Let arrayTypeName be typedArray.\[\[TypedArrayName\]\].
7.  If [IsSharedArrayBuffer](https://262.ecma-international.org/12.0/#sec-issharedarraybuffer)(buffer) is false, return +0𝔽.
8.  Let WL be [GetWaiterList](https://262.ecma-international.org/12.0/#sec-getwaiterlist)(block, indexedPosition).
9.  Let n be 0.
10.  Perform [EnterCriticalSection](https://262.ecma-international.org/12.0/#sec-entercriticalsection)(WL).
11.  Let S be [RemoveWaiters](https://262.ecma-international.org/12.0/#sec-removewaiters)(WL, c).
12.  Repeat, while S is not an empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type),
    1.  Let W be the first [agent](https://262.ecma-international.org/12.0/#agent) in S.
    2.  Remove W from the front of S.
    3.  Perform [NotifyWaiter](https://262.ecma-international.org/12.0/#sec-notifywaiter)(WL, W).
    4.  Set n to n + 1.
13.  Perform [LeaveCriticalSection](https://262.ecma-international.org/12.0/#sec-leavecriticalsection)(WL).
14.  Return [𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(n).

## 25.4.13 Atomics.xor ( typedArray, index, value )

The following steps are taken:

1.  Let xor be a new [read-modify-write modification function](https://262.ecma-international.org/12.0/#sec-arraybuffer-notation) with parameters (xBytes, yBytes) that captures nothing and performs the following steps atomically when called:
    1.  Return [ByteListBitwiseOp](https://262.ecma-international.org/12.0/#sec-bytelistbitwiseop)(`^`, xBytes, yBytes).
2.  Return ? [AtomicReadModifyWrite](https://262.ecma-international.org/12.0/#sec-atomicreadmodifywrite)(typedArray, index, value, xor).

## 25.4.14 Atomics \[ @@toStringTag \]

The initial value of the [@@toStringTag](https://262.ecma-international.org/12.0/#sec-well-known-symbols) property is the String value "Atomics".

This property has the attributes { \[\[Writable\]\]: false, \[\[Enumerable\]\]: false, \[\[Configurable\]\]: true }.

## 25.5 The JSON Object

The JSON object:

-   is %JSON%.
-   is the initial value of the "JSON" property of the [global object](https://262.ecma-international.org/12.0/#sec-global-object).
-   is an [ordinary object](https://262.ecma-international.org/12.0/#ordinary-object).
-   contains two functions, `parse` and `stringify`, that are used to parse and construct JSON texts.
-   has a \[\[Prototype\]\] internal slot whose value is [%Object.prototype%](https://262.ecma-international.org/12.0/#sec-properties-of-the-object-prototype-object).
-   does not have a \[\[Construct\]\] internal method; it cannot be used as a [constructor](https://262.ecma-international.org/12.0/#constructor) with the `new` operator.
-   does not have a \[\[Call\]\] internal method; it cannot be invoked as a function.

The JSON Data Interchange Format is defined in ECMA-404. The JSON interchange format used in this specification is exactly that described by ECMA-404. Conforming implementations of `JSON.parse` and `JSON.stringify` must support the exact interchange format described in the ECMA-404 specification without any deletions or extensions to the format.

## 25.5.1 JSON.parse ( text \[ , reviver \] )

The `parse` function parses a JSON text (a JSON-formatted String) and produces an ECMAScript value. The JSON format represents literals, arrays, and objects with a syntax similar to the syntax for ECMAScript literals, Array Initializers, and Object Initializers. After parsing, JSON objects are realized as ECMAScript objects. JSON arrays are realized as ECMAScript Array instances. JSON strings, numbers, booleans, and null are realized as ECMAScript Strings, Numbers, Booleans, and null.

The optional reviver parameter is a function that takes two parameters, key and value. It can filter and transform the results. It is called with each of the key/value pairs produced by the parse, and its return value is used instead of the original value. If it returns what it received, the structure is not modified. If it returns undefined then the property is deleted from the result.

1.  Let jsonString be ? [ToString](https://262.ecma-international.org/12.0/#sec-tostring)(text).
2.  Parse ! [StringToCodePoints](https://262.ecma-international.org/12.0/#sec-stringtocodepoints)(jsonString) as a JSON text as specified in ECMA-404. Throw a SyntaxError exception if it is not a valid JSON text as defined in that specification.
3.  Let scriptString be the [string-concatenation](https://262.ecma-international.org/12.0/#string-concatenation) of "(", jsonString, and ");".
4.  Let script be [ParseText](https://262.ecma-international.org/12.0/#sec-parsetext)(! [StringToCodePoints](https://262.ecma-international.org/12.0/#sec-stringtocodepoints)(scriptString), [Script](https://262.ecma-international.org/12.0/#prod-Script)).
5.  [Assert](https://262.ecma-international.org/12.0/#assert): script is a [Parse Node](https://262.ecma-international.org/12.0/#sec-syntactic-grammar).
6.  Let completion be the result of evaluating script. The extended [PropertyDefinitionEvaluation](https://262.ecma-international.org/12.0/#sec-runtime-semantics-propertydefinitionevaluation) semantics defined in [B.3.1](https://262.ecma-international.org/12.0/#sec-__proto__-property-names-in-object-initializers) must not be used during the evaluation.
7.  Let unfiltered be completion.\[\[Value\]\].
8.  [Assert](https://262.ecma-international.org/12.0/#assert): unfiltered is either a String, Number, Boolean, Null, or an Object that is defined by either an [ArrayLiteral](https://262.ecma-international.org/12.0/#prod-ArrayLiteral) or an [ObjectLiteral](https://262.ecma-international.org/12.0/#prod-ObjectLiteral).
9.  If [IsCallable](https://262.ecma-international.org/12.0/#sec-iscallable)(reviver) is true, then
    1.  Let root be ! [OrdinaryObjectCreate](https://262.ecma-international.org/12.0/#sec-ordinaryobjectcreate)([%Object.prototype%](https://262.ecma-international.org/12.0/#sec-properties-of-the-object-prototype-object)).
    2.  Let rootName be the empty String.
    3.  Perform ! [CreateDataPropertyOrThrow](https://262.ecma-international.org/12.0/#sec-createdatapropertyorthrow)(root, rootName, unfiltered).
    4.  Return ? [InternalizeJSONProperty](https://262.ecma-international.org/12.0/#sec-internalizejsonproperty)(root, rootName, reviver).
10.  Else,
    1.  Return unfiltered.

The "length" property of the `parse` function is 2𝔽.

Note

Valid JSON text is a subset of the ECMAScript [PrimaryExpression](https://262.ecma-international.org/12.0/#prod-PrimaryExpression) syntax. Step [2](https://262.ecma-international.org/12.0/#step-json-parse-validate) verifies that jsonString conforms to that subset, and step [8](https://262.ecma-international.org/12.0/#step-json-parse-assert-type) asserts that that parsing and evaluation returns a value of an appropriate type.

However, because [B.3.1](https://262.ecma-international.org/12.0/#sec-__proto__-property-names-in-object-initializers) applies when evaluating ECMAScript source text and does not apply during `JSON.parse`, the same source text can produce different results when evaluated as a [PrimaryExpression](https://262.ecma-international.org/12.0/#prod-PrimaryExpression) rather than as JSON. Furthermore, the Early Error for duplicate "\_\_proto\_\_" properties in object literals, which likewise does not apply during `JSON.parse`, means that not all texts accepted by `JSON.parse` are valid as a [PrimaryExpression](https://262.ecma-international.org/12.0/#prod-PrimaryExpression), despite matching the grammar.

## 25.5.1.1 InternalizeJSONProperty ( holder, name, reviver )

The abstract operation InternalizeJSONProperty takes arguments holder (an Object), name (a String), and reviver (a [function object](https://262.ecma-international.org/12.0/#function-object)). It performs the following steps when called:

Note 1

This algorithm intentionally does not throw an exception if either \[\[Delete\]\] or [CreateDataProperty](https://262.ecma-international.org/12.0/#sec-createdataproperty) return false.

1.  Let val be ? [Get](https://262.ecma-international.org/12.0/#sec-get-o-p)(holder, name).
2.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(val) is Object, then
    1.  Let isArray be ? [IsArray](https://262.ecma-international.org/12.0/#sec-isarray)(val).
    2.  If isArray is true, then
        1.  Let I be 0.
        2.  Let len be ? [LengthOfArrayLike](https://262.ecma-international.org/12.0/#sec-lengthofarraylike)(val).
        3.  Repeat, while I < len,
            1.  Let prop be ! [ToString](https://262.ecma-international.org/12.0/#sec-tostring)([𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(I)).
            2.  Let newElement be ? [InternalizeJSONProperty](https://262.ecma-international.org/12.0/#sec-internalizejsonproperty)(val, prop, reviver).
            3.  If newElement is undefined, then
                1.  Perform ? val.\[\[Delete\]\](prop).
            4.  Else,
                1.  Perform ? [CreateDataProperty](https://262.ecma-international.org/12.0/#sec-createdataproperty)(val, prop, newElement).
            5.  Set I to I + 1.
    3.  Else,
        1.  Let keys be ? [EnumerableOwnPropertyNames](https://262.ecma-international.org/12.0/#sec-enumerableownpropertynames)(val, key).
        2.  For each String P of keys, do
            1.  Let newElement be ? [InternalizeJSONProperty](https://262.ecma-international.org/12.0/#sec-internalizejsonproperty)(val, P, reviver).
            2.  If newElement is undefined, then
                1.  Perform ? val.\[\[Delete\]\](P).
            3.  Else,
                1.  Perform ? [CreateDataProperty](https://262.ecma-international.org/12.0/#sec-createdataproperty)(val, P, newElement).
3.  Return ? [Call](https://262.ecma-international.org/12.0/#sec-call)(reviver, holder, « name, val »).

It is not permitted for a conforming implementation of `JSON.parse` to extend the JSON grammars. If an implementation wishes to support a modified or extended JSON interchange format it must do so by defining a different parse function.

Note 2

In the case where there are duplicate name Strings within an object, lexically preceding values for the same key shall be overwritten.

## 25.5.2 JSON.stringify ( value \[ , replacer \[ , space \] \] )

The `stringify` function returns a String in UTF-16 encoded JSON format representing an ECMAScript value, or undefined. It can take three parameters. The value parameter is an ECMAScript value, which is usually an object or array, although it can also be a String, Boolean, Number or null. The optional replacer parameter is either a function that alters the way objects and arrays are stringified, or an array of Strings and Numbers that acts as an inclusion list for selecting the object properties that will be stringified. The optional space parameter is a String or Number that allows the result to have white space injected into it to improve human readability.

These are the steps in stringifying an object:

1.  Let stack be a new empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).
2.  Let indent be the empty String.
3.  Let PropertyList and ReplacerFunction be undefined.
4.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(replacer) is Object, then
    1.  If [IsCallable](https://262.ecma-international.org/12.0/#sec-iscallable)(replacer) is true, then
        1.  Set ReplacerFunction to replacer.
    2.  Else,
        1.  Let isArray be ? [IsArray](https://262.ecma-international.org/12.0/#sec-isarray)(replacer).
        2.  If isArray is true, then
            1.  Set PropertyList to a new empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).
            2.  Let len be ? [LengthOfArrayLike](https://262.ecma-international.org/12.0/#sec-lengthofarraylike)(replacer).
            3.  Let k be 0.
            4.  Repeat, while k < len,
                1.  Let prop be ! [ToString](https://262.ecma-international.org/12.0/#sec-tostring)([𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(k)).
                2.  Let v be ? [Get](https://262.ecma-international.org/12.0/#sec-get-o-p)(replacer, prop).
                3.  Let item be undefined.
                4.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(v) is String, set item to v.
                5.  Else if [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(v) is Number, set item to ! [ToString](https://262.ecma-international.org/12.0/#sec-tostring)(v).
                6.  Else if [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(v) is Object, then
                    1.  If v has a \[\[StringData\]\] or \[\[NumberData\]\] internal slot, set item to ? [ToString](https://262.ecma-international.org/12.0/#sec-tostring)(v).
                7.  If item is not undefined and item is not currently an element of PropertyList, then
                    1.  Append item to the end of PropertyList.
                8.  Set k to k + 1.
5.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(space) is Object, then
    1.  If space has a \[\[NumberData\]\] internal slot, then
        1.  Set space to ? [ToNumber](https://262.ecma-international.org/12.0/#sec-tonumber)(space).
    2.  Else if space has a \[\[StringData\]\] internal slot, then
        1.  Set space to ? [ToString](https://262.ecma-international.org/12.0/#sec-tostring)(space).
6.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(space) is Number, then
    1.  Let spaceMV be ! [ToIntegerOrInfinity](https://262.ecma-international.org/12.0/#sec-tointegerorinfinity)(space).
    2.  Set spaceMV to [min](https://262.ecma-international.org/12.0/#eqn-min)(10, spaceMV).
    3.  If spaceMV < 1, let gap be the empty String; otherwise let gap be the String value containing spaceMV occurrences of the code unit 0x0020 (SPACE).
7.  Else if [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(space) is String, then
    1.  If the length of space is 10 or less, let gap be space; otherwise let gap be the [substring](https://262.ecma-international.org/12.0/#substring) of space from 0 to 10.
8.  Else,
    1.  Let gap be the empty String.
9.  Let wrapper be ! [OrdinaryObjectCreate](https://262.ecma-international.org/12.0/#sec-ordinaryobjectcreate)([%Object.prototype%](https://262.ecma-international.org/12.0/#sec-properties-of-the-object-prototype-object)).
10.  Perform ! [CreateDataPropertyOrThrow](https://262.ecma-international.org/12.0/#sec-createdatapropertyorthrow)(wrapper, the empty String, value).
11.  Let state be the [Record](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) { \[\[ReplacerFunction\]\]: ReplacerFunction, \[\[Stack\]\]: stack, \[\[Indent\]\]: indent, \[\[Gap\]\]: gap, \[\[PropertyList\]\]: PropertyList }.
12.  Return ? [SerializeJSONProperty](https://262.ecma-international.org/12.0/#sec-serializejsonproperty)(state, the empty String, wrapper).

The "length" property of the `stringify` function is 3𝔽.

Note 1

JSON structures are allowed to be nested to any depth, but they must be acyclic. If value is or contains a cyclic structure, then the stringify function must throw a TypeError exception. This is an example of a value that cannot be stringified:

```
a = [];
a[0] = a;
my_text = JSON.stringify(a); // This must throw a TypeError.
```

Note 2

Symbolic primitive values are rendered as follows:

-   The null value is rendered in JSON text as the String "null".
-   The undefined value is not rendered.
-   The true value is rendered in JSON text as the String "true".
-   The false value is rendered in JSON text as the String "false".

Note 3

String values are wrapped in QUOTATION MARK (`"`) code units. The code units `"` and `\` are escaped with `\` prefixes. Control characters code units are replaced with escape sequences `\u`HHHH, or with the shorter forms, `\b` (BACKSPACE), `\f` (FORM FEED), `\n` (LINE FEED), `\r` (CARRIAGE RETURN), `\t` (CHARACTER TABULATION).

Note 4

Finite numbers are stringified as if by calling [ToString](https://262.ecma-international.org/12.0/#sec-tostring)(number). NaN and Infinity regardless of sign are represented as the String "null".

Note 5

Values that do not have a JSON representation (such as undefined and functions) do not produce a String. Instead they produce the undefined value. In arrays these values are represented as the String "null". In objects an unrepresentable value causes the property to be excluded from stringification.

Note 6

An object is rendered as U+007B (LEFT CURLY BRACKET) followed by zero or more properties, separated with a U+002C (COMMA), closed with a U+007D (RIGHT CURLY BRACKET). A property is a quoted String representing the key or [property name](https://262.ecma-international.org/12.0/#property-name), a U+003A (COLON), and then the stringified property value. An array is rendered as an opening U+005B (LEFT SQUARE BRACKET followed by zero or more values, separated with a U+002C (COMMA), closed with a U+005D (RIGHT SQUARE BRACKET).

## 25.5.2.1 SerializeJSONProperty ( state, key, holder )

The abstract operation SerializeJSONProperty takes arguments state, key, and holder. It performs the following steps when called:

1.  Let value be ? [Get](https://262.ecma-international.org/12.0/#sec-get-o-p)(holder, key).
2.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(value) is Object or BigInt, then
    1.  Let toJSON be ? [GetV](https://262.ecma-international.org/12.0/#sec-getv)(value, "toJSON").
    2.  If [IsCallable](https://262.ecma-international.org/12.0/#sec-iscallable)(toJSON) is true, then
        1.  Set value to ? [Call](https://262.ecma-international.org/12.0/#sec-call)(toJSON, value, « key »).
3.  If state.\[\[ReplacerFunction\]\] is not undefined, then
    1.  Set value to ? [Call](https://262.ecma-international.org/12.0/#sec-call)(state.\[\[ReplacerFunction\]\], holder, « key, value »).
4.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(value) is Object, then
    1.  If value has a \[\[NumberData\]\] internal slot, then
        1.  Set value to ? [ToNumber](https://262.ecma-international.org/12.0/#sec-tonumber)(value).
    2.  Else if value has a \[\[StringData\]\] internal slot, then
        1.  Set value to ? [ToString](https://262.ecma-international.org/12.0/#sec-tostring)(value).
    3.  Else if value has a \[\[BooleanData\]\] internal slot, then
        1.  Set value to value.\[\[BooleanData\]\].
    4.  Else if value has a \[\[BigIntData\]\] internal slot, then
        1.  Set value to value.\[\[BigIntData\]\].
5.  If value is null, return "null".
6.  If value is true, return "true".
7.  If value is false, return "false".
8.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(value) is String, return [QuoteJSONString](https://262.ecma-international.org/12.0/#sec-quotejsonstring)(value).
9.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(value) is Number, then
    1.  If value is finite, return ! [ToString](https://262.ecma-international.org/12.0/#sec-tostring)(value).
    2.  Return "null".
10.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(value) is BigInt, throw a TypeError exception.
11.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(value) is Object and [IsCallable](https://262.ecma-international.org/12.0/#sec-iscallable)(value) is false, then
    1.  Let isArray be ? [IsArray](https://262.ecma-international.org/12.0/#sec-isarray)(value).
    2.  If isArray is true, return ? [SerializeJSONArray](https://262.ecma-international.org/12.0/#sec-serializejsonarray)(state, value).
    3.  Return ? [SerializeJSONObject](https://262.ecma-international.org/12.0/#sec-serializejsonobject)(state, value).
12.  Return undefined.

## 25.5.2.2 QuoteJSONString ( value )

The abstract operation QuoteJSONString takes argument value. It wraps value in 0x0022 (QUOTATION MARK) code units and escapes certain other code units within it. This operation interprets value as a sequence of UTF-16 encoded code points, as described in [6.1.4](https://262.ecma-international.org/12.0/#sec-ecmascript-language-types-string-type). It performs the following steps when called:

1.  Let product be the String value consisting solely of the code unit 0x0022 (QUOTATION MARK).
2.  For each code point C of ! [StringToCodePoints](https://262.ecma-international.org/12.0/#sec-stringtocodepoints)(value), do
    1.  If C is listed in the “Code Point” column of [Table 61](https://262.ecma-international.org/12.0/#table-json-single-character-escapes), then
        1.  Set product to the [string-concatenation](https://262.ecma-international.org/12.0/#string-concatenation) of product and the escape sequence for C as specified in the “Escape Sequence” column of the corresponding row.
    2.  Else if C has a numeric value less than 0x0020 (SPACE), or if C has the same numeric value as a [leading surrogate](https://262.ecma-international.org/12.0/#leading-surrogate) or [trailing surrogate](https://262.ecma-international.org/12.0/#trailing-surrogate), then
        1.  Let unit be the code unit whose numeric value is that of C.
        2.  Set product to the [string-concatenation](https://262.ecma-international.org/12.0/#string-concatenation) of product and [UnicodeEscape](https://262.ecma-international.org/12.0/#sec-unicodeescape)(unit).
    3.  Else,
        1.  Set product to the [string-concatenation](https://262.ecma-international.org/12.0/#string-concatenation) of product and ! [UTF16EncodeCodePoint](https://262.ecma-international.org/12.0/#sec-utf16encodecodepoint)(C).
3.  Set product to the [string-concatenation](https://262.ecma-international.org/12.0/#string-concatenation) of product and the code unit 0x0022 (QUOTATION MARK).
4.  Return product.

Table 61: JSON Single Character Escape Sequences

| Code Point | Unicode Character Name | Escape Sequence |
| --- | --- | --- |
| U+0008 | BACKSPACE | `\b` |
| U+0009 | CHARACTER TABULATION | `\t` |
| U+000A | LINE FEED (LF) | `\n` |
| U+000C | FORM FEED (FF) | `\f` |
| U+000D | CARRIAGE RETURN (CR) | `\r` |
| U+0022 | QUOTATION MARK | `\"` |
| U+005C | REVERSE SOLIDUS | `\\` |

## 25.5.2.3 UnicodeEscape ( C )

The abstract operation UnicodeEscape takes argument C (a code unit). It represents C as a Unicode escape sequence. It performs the following steps when called:

1.  Let n be the numeric value of C.
2.  [Assert](https://262.ecma-international.org/12.0/#assert): n ≤ 0xFFFF.
3.  Return the [string-concatenation](https://262.ecma-international.org/12.0/#string-concatenation) of:
    -   the code unit 0x005C (REVERSE SOLIDUS)
    -   "u"
    -   the String representation of n, formatted as a four-digit lowercase hexadecimal number, padded to the left with zeroes if necessary

## 25.5.2.4 SerializeJSONObject ( state, value )

The abstract operation SerializeJSONObject takes arguments state and value. It serializes an object. It performs the following steps when called:

1.  If state.\[\[Stack\]\] contains value, throw a TypeError exception because the structure is cyclical.
2.  Append value to state.\[\[Stack\]\].
3.  Let stepback be state.\[\[Indent\]\].
4.  Set state.\[\[Indent\]\] to the [string-concatenation](https://262.ecma-international.org/12.0/#string-concatenation) of state.\[\[Indent\]\] and state.\[\[Gap\]\].
5.  If state.\[\[PropertyList\]\] is not undefined, then
    1.  Let K be state.\[\[PropertyList\]\].
6.  Else,
    1.  Let K be ? [EnumerableOwnPropertyNames](https://262.ecma-international.org/12.0/#sec-enumerableownpropertynames)(value, key).
7.  Let partial be a new empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).
8.  For each element P of K, do
    1.  Let strP be ? [SerializeJSONProperty](https://262.ecma-international.org/12.0/#sec-serializejsonproperty)(state, P, value).
    2.  If strP is not undefined, then
        1.  Let member be [QuoteJSONString](https://262.ecma-international.org/12.0/#sec-quotejsonstring)(P).
        2.  Set member to the [string-concatenation](https://262.ecma-international.org/12.0/#string-concatenation) of member and ":".
        3.  If state.\[\[Gap\]\] is not the empty String, then
            1.  Set member to the [string-concatenation](https://262.ecma-international.org/12.0/#string-concatenation) of member and the code unit 0x0020 (SPACE).
        4.  Set member to the [string-concatenation](https://262.ecma-international.org/12.0/#string-concatenation) of member and strP.
        5.  Append member to partial.
9.  If partial is empty, then
    1.  Let final be "{}".
10.  Else,
    1.  If state.\[\[Gap\]\] is the empty String, then
        1.  Let properties be the String value formed by concatenating all the element Strings of partial with each adjacent pair of Strings separated with the code unit 0x002C (COMMA). A comma is not inserted either before the first String or after the last String.
        2.  Let final be the [string-concatenation](https://262.ecma-international.org/12.0/#string-concatenation) of "{", properties, and "}".
    2.  Else,
        1.  Let separator be the [string-concatenation](https://262.ecma-international.org/12.0/#string-concatenation) of the code unit 0x002C (COMMA), the code unit 0x000A (LINE FEED), and state.\[\[Indent\]\].
        2.  Let properties be the String value formed by concatenating all the element Strings of partial with each adjacent pair of Strings separated with separator. The separator String is not inserted either before the first String or after the last String.
        3.  Let final be the [string-concatenation](https://262.ecma-international.org/12.0/#string-concatenation) of "{", the code unit 0x000A (LINE FEED), state.\[\[Indent\]\], properties, the code unit 0x000A (LINE FEED), stepback, and "}".
11.  Remove the last element of state.\[\[Stack\]\].
12.  Set state.\[\[Indent\]\] to stepback.
13.  Return final.

## 25.5.2.5 SerializeJSONArray ( state, value )

The abstract operation SerializeJSONArray takes arguments state and value. It serializes an array. It performs the following steps when called:

1.  If state.\[\[Stack\]\] contains value, throw a TypeError exception because the structure is cyclical.
2.  Append value to state.\[\[Stack\]\].
3.  Let stepback be state.\[\[Indent\]\].
4.  Set state.\[\[Indent\]\] to the [string-concatenation](https://262.ecma-international.org/12.0/#string-concatenation) of state.\[\[Indent\]\] and state.\[\[Gap\]\].
5.  Let partial be a new empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).
6.  Let len be ? [LengthOfArrayLike](https://262.ecma-international.org/12.0/#sec-lengthofarraylike)(value).
7.  Let index be 0.
8.  Repeat, while index < len,
    1.  Let strP be ? [SerializeJSONProperty](https://262.ecma-international.org/12.0/#sec-serializejsonproperty)(state, ! [ToString](https://262.ecma-international.org/12.0/#sec-tostring)([𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(index)), value).
    2.  If strP is undefined, then
        1.  Append "null" to partial.
    3.  Else,
        1.  Append strP to partial.
    4.  Set index to index + 1.
9.  If partial is empty, then
    1.  Let final be "\[\]".
10.  Else,
    1.  If state.\[\[Gap\]\] is the empty String, then
        1.  Let properties be the String value formed by concatenating all the element Strings of partial with each adjacent pair of Strings separated with the code unit 0x002C (COMMA). A comma is not inserted either before the first String or after the last String.
        2.  Let final be the [string-concatenation](https://262.ecma-international.org/12.0/#string-concatenation) of "\[", properties, and "\]".
    2.  Else,
        1.  Let separator be the [string-concatenation](https://262.ecma-international.org/12.0/#string-concatenation) of the code unit 0x002C (COMMA), the code unit 0x000A (LINE FEED), and state.\[\[Indent\]\].
        2.  Let properties be the String value formed by concatenating all the element Strings of partial with each adjacent pair of Strings separated with separator. The separator String is not inserted either before the first String or after the last String.
        3.  Let final be the [string-concatenation](https://262.ecma-international.org/12.0/#string-concatenation) of "\[", the code unit 0x000A (LINE FEED), state.\[\[Indent\]\], properties, the code unit 0x000A (LINE FEED), stepback, and "\]".
11.  Remove the last element of state.\[\[Stack\]\].
12.  Set state.\[\[Indent\]\] to stepback.
13.  Return final.

Note

The representation of arrays includes only the elements between zero and `array.length` - 1 inclusive. Properties whose keys are not [array indexes](https://262.ecma-international.org/12.0/#array-index) are excluded from the stringification. An array is stringified as an opening LEFT SQUARE BRACKET, elements separated by COMMA, and a closing RIGHT SQUARE BRACKET.

## 25.5.3 JSON \[ @@toStringTag \]

The initial value of the [@@toStringTag](https://262.ecma-international.org/12.0/#sec-well-known-symbols) property is the String value "JSON".

This property has the attributes { \[\[Writable\]\]: false, \[\[Enumerable\]\]: false, \[\[Configurable\]\]: true }.

## 26 Managing Memory

## 26.1 WeakRef Objects

A [WeakRef](https://262.ecma-international.org/12.0/#sec-weak-ref-constructor) is an object that is used to refer to a target object without preserving it from garbage collection. WeakRefs can be dereferenced to allow access to the target object, if the target object hasn't been reclaimed by garbage collection.

## 26.1.1 The WeakRef Constructor

The WeakRef [constructor](https://262.ecma-international.org/12.0/#constructor):

-   is %WeakRef%.
-   is the initial value of the "WeakRef" property of the [global object](https://262.ecma-international.org/12.0/#sec-global-object).
-   creates and initializes a new WeakRef object when called as a [constructor](https://262.ecma-international.org/12.0/#constructor).
-   is not intended to be called as a function and will throw an exception when called in that manner.
-   is designed to be subclassable. It may be used as the value in an `extends` clause of a class definition. Subclass constructors that intend to inherit the specified `WeakRef` behaviour must include a `super` call to the `WeakRef` [constructor](https://262.ecma-international.org/12.0/#constructor) to create and initialize the subclass instance with the internal state necessary to support the `WeakRef.prototype` built-in methods.

## 26.1.1.1 WeakRef ( target )

When the `WeakRef` function is called with argument target, the following steps are taken:

1.  If NewTarget is undefined, throw a TypeError exception.
2.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(target) is not Object, throw a TypeError exception.
3.  Let weakRef be ? [OrdinaryCreateFromConstructor](https://262.ecma-international.org/12.0/#sec-ordinarycreatefromconstructor)(NewTarget, "%WeakRef.prototype%", « \[\[WeakRefTarget\]\] »).
4.  Perform ! [AddToKeptObjects](https://262.ecma-international.org/12.0/#sec-addtokeptobjects)(target).
5.  Set weakRef.\[\[WeakRefTarget\]\] to target.
6.  Return weakRef.

## 26.1.2 Properties of the WeakRef Constructor

The [WeakRef](https://262.ecma-international.org/12.0/#sec-weak-ref-constructor) [constructor](https://262.ecma-international.org/12.0/#constructor):

-   has a \[\[Prototype\]\] internal slot whose value is [%Function.prototype%](https://262.ecma-international.org/12.0/#sec-properties-of-the-function-prototype-object).
-   has the following properties:

## 26.1.2.1 WeakRef.prototype

The initial value of `WeakRef.prototype` is the [WeakRef prototype](https://262.ecma-international.org/12.0/#sec-properties-of-the-weak-ref-prototype-object) object.

This property has the attributes { \[\[Writable\]\]: false, \[\[Enumerable\]\]: false, \[\[Configurable\]\]: false }.

## 26.1.3 Properties of the WeakRef Prototype Object

The WeakRef prototype object:

-   is %WeakRef.prototype%.
-   has a \[\[Prototype\]\] internal slot whose value is [%Object.prototype%](https://262.ecma-international.org/12.0/#sec-properties-of-the-object-prototype-object).
-   is an [ordinary object](https://262.ecma-international.org/12.0/#ordinary-object).
-   does not have a \[\[WeakRefTarget\]\] internal slot.

[Normative Optional](https://262.ecma-international.org/12.0/#sec-conformance)

## 26.1.3.1 WeakRef.prototype.constructor

The initial value of `WeakRef.prototype.constructor` is [%WeakRef%](https://262.ecma-international.org/12.0/#sec-weak-ref-constructor).

This property has the attributes { \[\[Writable\]\]: false, \[\[Enumerable\]\]: false, \[\[Configurable\]\]: true }.

## 26.1.3.2 WeakRef.prototype.deref ( )

The following steps are taken:

1.  Let weakRef be the this value.
2.  Perform ? [RequireInternalSlot](https://262.ecma-international.org/12.0/#sec-requireinternalslot)(weakRef, \[\[WeakRefTarget\]\]).
3.  Return ! [WeakRefDeref](https://262.ecma-international.org/12.0/#sec-weakrefderef)(weakRef).

Note

If the [WeakRef](https://262.ecma-international.org/12.0/#sec-weak-ref-constructor) returns a target Object that is not undefined, then this target object should not be garbage collected until the current execution of ECMAScript code has completed. The [AddToKeptObjects](https://262.ecma-international.org/12.0/#sec-addtokeptobjects) operation makes sure read consistency is maintained.

```
target = { foo: function() {} };
let weakRef = new WeakRef(target);

... later ...

if (weakRef.deref()) {
  weakRef.deref().foo();
}
```

In the above example, if the first deref does not evaluate to undefined then the second deref cannot either.

## 26.1.3.3 WeakRef.prototype \[ @@toStringTag \]

The initial value of the [@@toStringTag](https://262.ecma-international.org/12.0/#sec-well-known-symbols) property is the String value "WeakRef".

This property has the attributes { \[\[Writable\]\]: false, \[\[Enumerable\]\]: false, \[\[Configurable\]\]: true }.

## 26.1.4 WeakRef Abstract Operations

## 26.1.4.1 WeakRefDeref ( weakRef )

The abstract operation WeakRefDeref takes argument weakRef (a [WeakRef](https://262.ecma-international.org/12.0/#sec-weak-ref-constructor)). It performs the following steps when called:

1.  Let target be weakRef.\[\[WeakRefTarget\]\].
2.  If target is not empty, then
    1.  Perform ! [AddToKeptObjects](https://262.ecma-international.org/12.0/#sec-addtokeptobjects)(target).
    2.  Return target.
3.  Return undefined.

Note

This abstract operation is defined separately from WeakRef.prototype.deref strictly to make it possible to succinctly define liveness.

## 26.1.5 Properties of WeakRef Instances

[WeakRef](https://262.ecma-international.org/12.0/#sec-weak-ref-constructor) instances are ordinary objects that inherit properties from the [WeakRef prototype](https://262.ecma-international.org/12.0/#sec-properties-of-the-weak-ref-prototype-object). [WeakRef](https://262.ecma-international.org/12.0/#sec-weak-ref-constructor) instances also have a \[\[WeakRefTarget\]\] internal slot.

## 26.2 FinalizationRegistry Objects

A [FinalizationRegistry](https://262.ecma-international.org/12.0/#sec-finalization-registry-constructor) is an object that manages registration and unregistration of cleanup operations that are performed when target objects are garbage collected.

## 26.2.1 The FinalizationRegistry Constructor

The FinalizationRegistry [constructor](https://262.ecma-international.org/12.0/#constructor):

-   is %FinalizationRegistry%.
-   is the initial value of the "FinalizationRegistry" property of the [global object](https://262.ecma-international.org/12.0/#sec-global-object).
-   creates and initializes a new FinalizationRegistry object when called as a [constructor](https://262.ecma-international.org/12.0/#constructor).
-   is not intended to be called as a function and will throw an exception when called in that manner.
-   is designed to be subclassable. It may be used as the value in an `extends` clause of a class definition. Subclass constructors that intend to inherit the specified `FinalizationRegistry` behaviour must include a `super` call to the `FinalizationRegistry` [constructor](https://262.ecma-international.org/12.0/#constructor) to create and initialize the subclass instance with the internal state necessary to support the `FinalizationRegistry.prototype` built-in methods.

## 26.2.1.1 FinalizationRegistry ( cleanupCallback )

When the `FinalizationRegistry` function is called with argument cleanupCallback, the following steps are taken:

1.  If NewTarget is undefined, throw a TypeError exception.
2.  If [IsCallable](https://262.ecma-international.org/12.0/#sec-iscallable)(cleanupCallback) is false, throw a TypeError exception.
3.  Let finalizationRegistry be ? [OrdinaryCreateFromConstructor](https://262.ecma-international.org/12.0/#sec-ordinarycreatefromconstructor)(NewTarget, "%FinalizationRegistry.prototype%", « \[\[Realm\]\], \[\[CleanupCallback\]\], \[\[Cells\]\] »).
4.  Let fn be the [active function object](https://262.ecma-international.org/12.0/#active-function-object).
5.  Set finalizationRegistry.\[\[Realm\]\] to fn.\[\[Realm\]\].
6.  Set finalizationRegistry.\[\[CleanupCallback\]\] to cleanupCallback.
7.  Set finalizationRegistry.\[\[Cells\]\] to a new empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).
8.  Return finalizationRegistry.

## 26.2.2 Properties of the FinalizationRegistry Constructor

The [FinalizationRegistry](https://262.ecma-international.org/12.0/#sec-finalization-registry-constructor) [constructor](https://262.ecma-international.org/12.0/#constructor):

-   has a \[\[Prototype\]\] internal slot whose value is [%Function.prototype%](https://262.ecma-international.org/12.0/#sec-properties-of-the-function-prototype-object).
-   has the following properties:

## 26.2.2.1 FinalizationRegistry.prototype

The initial value of `FinalizationRegistry.prototype` is the [FinalizationRegistry prototype](https://262.ecma-international.org/12.0/#sec-properties-of-the-finalization-registry-prototype-object) object.

This property has the attributes { \[\[Writable\]\]: false, \[\[Enumerable\]\]: false, \[\[Configurable\]\]: false }.

## 26.2.3 Properties of the FinalizationRegistry Prototype Object

The FinalizationRegistry prototype object:

-   is %FinalizationRegistry.prototype%.
-   has a \[\[Prototype\]\] internal slot whose value is [%Object.prototype%](https://262.ecma-international.org/12.0/#sec-properties-of-the-object-prototype-object).
-   is an [ordinary object](https://262.ecma-international.org/12.0/#ordinary-object).
-   does not have \[\[Cells\]\] and \[\[CleanupCallback\]\] internal slots.

## 26.2.3.1 FinalizationRegistry.prototype.constructor

The initial value of `FinalizationRegistry.prototype.constructor` is [%FinalizationRegistry%](https://262.ecma-international.org/12.0/#sec-finalization-registry-constructor).

## 26.2.3.2 FinalizationRegistry.prototype.register ( target, heldValue \[ , unregisterToken \] )

The following steps are taken:

1.  Let finalizationRegistry be the this value.
2.  Perform ? [RequireInternalSlot](https://262.ecma-international.org/12.0/#sec-requireinternalslot)(finalizationRegistry, \[\[Cells\]\]).
3.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(target) is not Object, throw a TypeError exception.
4.  If [SameValue](https://262.ecma-international.org/12.0/#sec-samevalue)(target, heldValue) is true, throw a TypeError exception.
5.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(unregisterToken) is not Object, then
    1.  If unregisterToken is not undefined, throw a TypeError exception.
    2.  Set unregisterToken to empty.
6.  Let cell be the [Record](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) { \[\[WeakRefTarget\]\]: target, \[\[HeldValue\]\]: heldValue, \[\[UnregisterToken\]\]: unregisterToken }.
7.  Append cell to finalizationRegistry.\[\[Cells\]\].
8.  Return undefined.

Note

Based on the algorithms and definitions in this specification, cell.\[\[HeldValue\]\] is [live](https://262.ecma-international.org/12.0/#sec-liveness) when cell is in finalizationRegistry.\[\[Cells\]\]; however, this does not necessarily mean that cell.\[\[UnregisterToken\]\] or cell.\[\[Target\]\] are [live](https://262.ecma-international.org/12.0/#sec-liveness). For example, registering an object with itself as its unregister token would not keep the object alive forever.

## 26.2.3.3 FinalizationRegistry.prototype.unregister ( unregisterToken )

The following steps are taken:

1.  Let finalizationRegistry be the this value.
2.  Perform ? [RequireInternalSlot](https://262.ecma-international.org/12.0/#sec-requireinternalslot)(finalizationRegistry, \[\[Cells\]\]).
3.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(unregisterToken) is not Object, throw a TypeError exception.
4.  Let removed be false.
5.  For each [Record](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) { \[\[WeakRefTarget\]\], \[\[HeldValue\]\], \[\[UnregisterToken\]\] } cell of finalizationRegistry.\[\[Cells\]\], do
    1.  If cell.\[\[UnregisterToken\]\] is not empty and [SameValue](https://262.ecma-international.org/12.0/#sec-samevalue)(cell.\[\[UnregisterToken\]\], unregisterToken) is true, then
        1.  Remove cell from finalizationRegistry.\[\[Cells\]\].
        2.  Set removed to true.
6.  Return removed.

## 26.2.3.4 FinalizationRegistry.prototype \[ @@toStringTag \]

The initial value of the [@@toStringTag](https://262.ecma-international.org/12.0/#sec-well-known-symbols) property is the String value "FinalizationRegistry".

This property has the attributes { \[\[Writable\]\]: false, \[\[Enumerable\]\]: false, \[\[Configurable\]\]: true }.

## 26.2.4 Properties of FinalizationRegistry Instances

[FinalizationRegistry](https://262.ecma-international.org/12.0/#sec-finalization-registry-constructor) instances are ordinary objects that inherit properties from the [FinalizationRegistry prototype](https://262.ecma-international.org/12.0/#sec-properties-of-the-finalization-registry-prototype-object). [FinalizationRegistry](https://262.ecma-international.org/12.0/#sec-finalization-registry-constructor) instances also have \[\[Cells\]\] and \[\[CleanupCallback\]\] internal slots.

## 27 Control Abstraction Objects

## 27.1 Iteration

## 27.1.1 Common Iteration Interfaces

An interface is a set of property keys whose associated values match a specific specification. Any object that provides all the properties as described by an interface's specification _conforms_ to that interface. An interface is not represented by a distinct object. There may be many separately implemented objects that conform to any interface. An individual object may conform to multiple interfaces.

## 27.1.1.1 The _Iterable_ Interface

The _Iterable_ interface includes the property described in [Table 62](https://262.ecma-international.org/12.0/#table-iterable-interface-required-properties):

Table 62: _Iterable_ Interface Required Properties

| Property | Value | Requirements |
| --- | --- | --- |
| `@@iterator` | A function that returns an _Iterator_ object. | The returned object must conform to the _Iterator_ interface. |

## 27.1.1.2 The _Iterator_ Interface

An object that implements the _Iterator_ interface must include the property in [Table 63](https://262.ecma-international.org/12.0/#table-iterator-interface-required-properties). Such objects may also implement the properties in [Table 64](https://262.ecma-international.org/12.0/#table-iterator-interface-optional-properties).

Table 63: _Iterator_ Interface Required Properties

| Property | Value | Requirements |
| --- | --- | --- |
| "next" | A function that returns an _IteratorResult_ object. | The returned object must conform to the _IteratorResult_ interface. If a previous call to the `next` method of an _Iterator_ has returned an _IteratorResult_ object whose "done" property is true, then all subsequent calls to the `next` method of that object should also return an _IteratorResult_ object whose "done" property is true. However, this requirement is not enforced. |

Note 1

Arguments may be passed to the `next` function but their interpretation and validity is dependent upon the target _Iterator_. The for-of statement and other common users of _Iterators_ do not pass any arguments, so _Iterator_ objects that expect to be used in such a manner must be prepared to deal with being called with no arguments.

Table 64: _Iterator_ Interface Optional Properties

| Property | Value | Requirements |
| --- | --- | --- |
| "return" | A function that returns an _IteratorResult_ object. | The returned object must conform to the _IteratorResult_ interface. Invoking this method notifies the _Iterator_ object that the caller does not intend to make any more `next` method calls to the _Iterator_. The returned _IteratorResult_ object will typically have a "done" property whose value is true, and a "value" property with the value passed as the argument of the `return` method. However, this requirement is not enforced. |
| "throw" | A function that returns an _IteratorResult_ object. | The returned object must conform to the _IteratorResult_ interface. Invoking this method notifies the _Iterator_ object that the caller has detected an error condition. The argument may be used to identify the error condition and typically will be an exception object. A typical response is to `throw` the value passed as the argument. If the method does not `throw`, the returned _IteratorResult_ object will typically have a "done" property whose value is true. |

Note 2

Typically callers of these methods should check for their existence before invoking them. Certain ECMAScript language features including `for`\-`of`, `yield*`, and array destructuring call these methods after performing an existence check. Most ECMAScript library functions that accept _Iterable_ objects as arguments also conditionally call them.

## 27.1.1.3 The _AsyncIterable_ Interface

The _AsyncIterable_ interface includes the properties described in [Table 65](https://262.ecma-international.org/12.0/#table-async-iterable):

Table 65: _AsyncIterable_ Interface Required Properties

| Property | Value | Requirements |
| --- | --- | --- |
| `@@asyncIterator` | A function that returns an _AsyncIterator_ object. | The returned object must conform to the _AsyncIterator_ interface. |

## 27.1.1.4 The _AsyncIterator_ Interface

An object that implements the _AsyncIterator_ interface must include the properties in [Table 66](https://262.ecma-international.org/12.0/#table-async-iterator-required). Such objects may also implement the properties in [Table 67](https://262.ecma-international.org/12.0/#table-async-iterator-optional).

Table 66: _AsyncIterator_ Interface Required Properties

| Property | Value | Requirements |
| --- | --- | --- |
| "next" | A function that returns a promise for an _IteratorResult_ object. | 
The returned promise, when fulfilled, must fulfill with an object which conforms to the _IteratorResult_ interface. If a previous call to the `next` method of an _AsyncIterator_ has returned a promise for an _IteratorResult_ object whose "done" property is true, then all subsequent calls to the `next` method of that object should also return a promise for an _IteratorResult_ object whose "done" property is true. However, this requirement is not enforced.

Additionally, the _IteratorResult_ object that serves as a fulfillment value should have a "value" property whose value is not a promise (or "thenable"). However, this requirement is also not enforced.

 |

Note 1

Arguments may be passed to the `next` function but their interpretation and validity is dependent upon the target _AsyncIterator_. The `for`\-`await`\-`of` statement and other common users of _AsyncIterators_ do not pass any arguments, so _AsyncIterator_ objects that expect to be used in such a manner must be prepared to deal with being called with no arguments.

Table 67: _AsyncIterator_ Interface Optional Properties

| Property | Value | Requirements |
| --- | --- | --- |
| "return" | A function that returns a promise for an _IteratorResult_ object. | 
The returned promise, when fulfilled, must fulfill with an object which conforms to the _IteratorResult_ interface. Invoking this method notifies the _AsyncIterator_ object that the caller does not intend to make any more `next` method calls to the _AsyncIterator_. The returned promise will fulfill with an _IteratorResult_ object which will typically have a "done" property whose value is true, and a "value" property with the value passed as the argument of the `return` method. However, this requirement is not enforced.

Additionally, the _IteratorResult_ object that serves as a fulfillment value should have a "value" property whose value is not a promise (or "thenable"). If the argument value is used in the typical manner, then if it is a rejected promise, a promise rejected with the same reason should be returned; if it is a fulfilled promise, then its fulfillment value should be used as the "value" property of the returned promise's _IteratorResult_ object fulfillment value. However, these requirements are also not enforced.

 |
| "throw" | A function that returns a promise for an _IteratorResult_ object. | 

The returned promise, when fulfilled, must fulfill with an object which conforms to the _IteratorResult_ interface. Invoking this method notifies the _AsyncIterator_ object that the caller has detected an error condition. The argument may be used to identify the error condition and typically will be an exception object. A typical response is to return a rejected promise which rejects with the value passed as the argument.

If the returned promise is fulfilled, the _IteratorResult_ fulfillment value will typically have a "done" property whose value is true. Additionally, it should have a "value" property whose value is not a promise (or "thenable"), but this requirement is not enforced.

 |

Note 2

Typically callers of these methods should check for their existence before invoking them. Certain ECMAScript language features including `for`\-`await`\-`of` and `yield*` call these methods after performing an existence check.

## 27.1.1.5 The _IteratorResult_ Interface

The _IteratorResult_ interface includes the properties listed in [Table 68](https://262.ecma-international.org/12.0/#table-iteratorresult-interface-properties):

Table 68: _IteratorResult_ Interface Properties

| Property | Value | Requirements |
| --- | --- | --- |
| "done" | Either true or false. | This is the result status of an _iterator_ `next` method call. If the end of the iterator was reached "done" is true. If the end was not reached "done" is false and a value is available. If a "done" property (either own or inherited) does not exist, it is consider to have the value false. |
| "value" | Any [ECMAScript language value](https://262.ecma-international.org/12.0/#sec-ecmascript-language-types). | If done is false, this is the current iteration element value. If done is true, this is the return value of the iterator, if it supplied one. If the iterator does not have a return value, "value" is undefined. In that case, the "value" property may be absent from the conforming object if it does not inherit an explicit "value" property. |

## 27.1.2 The %IteratorPrototype% Object

The %IteratorPrototype% object:

-   has a \[\[Prototype\]\] internal slot whose value is [%Object.prototype%](https://262.ecma-international.org/12.0/#sec-properties-of-the-object-prototype-object).
-   is an [ordinary object](https://262.ecma-international.org/12.0/#ordinary-object).

Note

All objects defined in this specification that implement the Iterator interface also inherit from %IteratorPrototype%. ECMAScript code may also define objects that inherit from %IteratorPrototype%. The %IteratorPrototype% object provides a place where additional methods that are applicable to all iterator objects may be added.

The following expression is one way that ECMAScript code can access the %IteratorPrototype% object:

```
Object.getPrototypeOf(Object.getPrototypeOf([][Symbol.iterator]()))
```

## 27.1.2.1 %IteratorPrototype% \[ @@iterator \] ( )

The following steps are taken:

1.  Return the this value.

The value of the "name" property of this function is "\[Symbol.iterator\]".

## 27.1.3 The %AsyncIteratorPrototype% Object

The %AsyncIteratorPrototype% object:

-   has a \[\[Prototype\]\] internal slot whose value is [%Object.prototype%](https://262.ecma-international.org/12.0/#sec-properties-of-the-object-prototype-object).
-   is an [ordinary object](https://262.ecma-international.org/12.0/#ordinary-object).

Note

All objects defined in this specification that implement the AsyncIterator interface also inherit from %AsyncIteratorPrototype%. ECMAScript code may also define objects that inherit from %AsyncIteratorPrototype%. The %AsyncIteratorPrototype% object provides a place where additional methods that are applicable to all async iterator objects may be added.

## 27.1.3.1 %AsyncIteratorPrototype% \[ @@asyncIterator \] ( )

The following steps are taken:

1.  Return the this value.

The value of the "name" property of this function is "\[Symbol.asyncIterator\]".

## 27.1.4 Async-from-Sync Iterator Objects

An Async-from-Sync Iterator object is an async iterator that adapts a specific synchronous iterator. There is not a named [constructor](https://262.ecma-international.org/12.0/#constructor) for Async-from-Sync Iterator objects. Instead, Async-from-Sync iterator objects are created by the [CreateAsyncFromSyncIterator](https://262.ecma-international.org/12.0/#sec-createasyncfromsynciterator) abstract operation as needed.

## 27.1.4.1 CreateAsyncFromSyncIterator ( syncIteratorRecord )

The abstract operation CreateAsyncFromSyncIterator takes argument syncIteratorRecord. It is used to create an async iterator [Record](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) from a synchronous iterator [Record](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type). It performs the following steps when called:

1.  Let asyncIterator be ! [OrdinaryObjectCreate](https://262.ecma-international.org/12.0/#sec-ordinaryobjectcreate)([%AsyncFromSyncIteratorPrototype%](https://262.ecma-international.org/12.0/#sec-%asyncfromsynciteratorprototype%-object), « \[\[SyncIteratorRecord\]\] »).
2.  Set asyncIterator.\[\[SyncIteratorRecord\]\] to syncIteratorRecord.
3.  Let nextMethod be ! [Get](https://262.ecma-international.org/12.0/#sec-get-o-p)(asyncIterator, "next").
4.  Let iteratorRecord be the [Record](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) { \[\[Iterator\]\]: asyncIterator, \[\[NextMethod\]\]: nextMethod, \[\[Done\]\]: false }.
5.  Return iteratorRecord.

## 27.1.4.2 The %AsyncFromSyncIteratorPrototype% Object

The %AsyncFromSyncIteratorPrototype% object:

-   has properties that are inherited by all Async-from-Sync Iterator Objects.
-   is an [ordinary object](https://262.ecma-international.org/12.0/#ordinary-object).
-   has a \[\[Prototype\]\] internal slot whose value is [%AsyncIteratorPrototype%](https://262.ecma-international.org/12.0/#sec-asynciteratorprototype).
-   has the following properties:

## 27.1.4.2.1 %AsyncFromSyncIteratorPrototype%.next ( \[ value \] )

1.  Let O be the this value.
2.  [Assert](https://262.ecma-international.org/12.0/#assert): [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(O) is Object and O has a \[\[SyncIteratorRecord\]\] internal slot.
3.  Let promiseCapability be ! [NewPromiseCapability](https://262.ecma-international.org/12.0/#sec-newpromisecapability)([%Promise%](https://262.ecma-international.org/12.0/#sec-promise-constructor)).
4.  Let syncIteratorRecord be O.\[\[SyncIteratorRecord\]\].
5.  If value is present, then
    1.  Let result be [IteratorNext](https://262.ecma-international.org/12.0/#sec-iteratornext)(syncIteratorRecord, value).
6.  Else,
    1.  Let result be [IteratorNext](https://262.ecma-international.org/12.0/#sec-iteratornext)(syncIteratorRecord).
7.  [IfAbruptRejectPromise](https://262.ecma-international.org/12.0/#sec-ifabruptrejectpromise)(result, promiseCapability).
8.  Return ! [AsyncFromSyncIteratorContinuation](https://262.ecma-international.org/12.0/#sec-asyncfromsynciteratorcontinuation)(result, promiseCapability).

## 27.1.4.2.2 %AsyncFromSyncIteratorPrototype%.return ( \[ value \] )

1.  Let O be the this value.
2.  [Assert](https://262.ecma-international.org/12.0/#assert): [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(O) is Object and O has a \[\[SyncIteratorRecord\]\] internal slot.
3.  Let promiseCapability be ! [NewPromiseCapability](https://262.ecma-international.org/12.0/#sec-newpromisecapability)([%Promise%](https://262.ecma-international.org/12.0/#sec-promise-constructor)).
4.  Let syncIterator be O.\[\[SyncIteratorRecord\]\].\[\[Iterator\]\].
5.  Let return be [GetMethod](https://262.ecma-international.org/12.0/#sec-getmethod)(syncIterator, "return").
6.  [IfAbruptRejectPromise](https://262.ecma-international.org/12.0/#sec-ifabruptrejectpromise)(return, promiseCapability).
7.  If return is undefined, then
    1.  Let iterResult be ! [CreateIterResultObject](https://262.ecma-international.org/12.0/#sec-createiterresultobject)(value, true).
    2.  Perform ! [Call](https://262.ecma-international.org/12.0/#sec-call)(promiseCapability.\[\[Resolve\]\], undefined, « iterResult »).
    3.  Return promiseCapability.\[\[Promise\]\].
8.  If value is present, then
    1.  Let result be [Call](https://262.ecma-international.org/12.0/#sec-call)(return, syncIterator, « value »).
9.  Else,
    1.  Let result be [Call](https://262.ecma-international.org/12.0/#sec-call)(return, syncIterator).
10.  [IfAbruptRejectPromise](https://262.ecma-international.org/12.0/#sec-ifabruptrejectpromise)(result, promiseCapability).
11.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(result) is not Object, then
    1.  Perform ! [Call](https://262.ecma-international.org/12.0/#sec-call)(promiseCapability.\[\[Reject\]\], undefined, « a newly created TypeError object »).
    2.  Return promiseCapability.\[\[Promise\]\].
12.  Return ! [AsyncFromSyncIteratorContinuation](https://262.ecma-international.org/12.0/#sec-asyncfromsynciteratorcontinuation)(result, promiseCapability).

## 27.1.4.2.3 %AsyncFromSyncIteratorPrototype%.throw ( \[ value \] )

Note

In this specification, value is always provided, but is left optional for consistency with

[%AsyncFromSyncIteratorPrototype%.return ( \[ value \] )](https://262.ecma-international.org/12.0/#sec-%asyncfromsynciteratorprototype%.return)

.

1.  Let O be the this value.
2.  [Assert](https://262.ecma-international.org/12.0/#assert): [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(O) is Object and O has a \[\[SyncIteratorRecord\]\] internal slot.
3.  Let promiseCapability be ! [NewPromiseCapability](https://262.ecma-international.org/12.0/#sec-newpromisecapability)([%Promise%](https://262.ecma-international.org/12.0/#sec-promise-constructor)).
4.  Let syncIterator be O.\[\[SyncIteratorRecord\]\].\[\[Iterator\]\].
5.  Let throw be [GetMethod](https://262.ecma-international.org/12.0/#sec-getmethod)(syncIterator, "throw").
6.  [IfAbruptRejectPromise](https://262.ecma-international.org/12.0/#sec-ifabruptrejectpromise)(throw, promiseCapability).
7.  If throw is undefined, then
    1.  Perform ! [Call](https://262.ecma-international.org/12.0/#sec-call)(promiseCapability.\[\[Reject\]\], undefined, « value »).
    2.  Return promiseCapability.\[\[Promise\]\].
8.  If value is present, then
    1.  Let result be [Call](https://262.ecma-international.org/12.0/#sec-call)(throw, syncIterator, « value »).
9.  Else,
    1.  Let result be [Call](https://262.ecma-international.org/12.0/#sec-call)(throw, syncIterator).
10.  [IfAbruptRejectPromise](https://262.ecma-international.org/12.0/#sec-ifabruptrejectpromise)(result, promiseCapability).
11.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(result) is not Object, then
    1.  Perform ! [Call](https://262.ecma-international.org/12.0/#sec-call)(promiseCapability.\[\[Reject\]\], undefined, « a newly created TypeError object »).
    2.  Return promiseCapability.\[\[Promise\]\].
12.  Return ! [AsyncFromSyncIteratorContinuation](https://262.ecma-international.org/12.0/#sec-asyncfromsynciteratorcontinuation)(result, promiseCapability).

## 27.1.4.2.4 Async-from-Sync Iterator Value Unwrap Functions

An async-from-sync iterator value unwrap function is an anonymous built-in function that is used by [AsyncFromSyncIteratorContinuation](https://262.ecma-international.org/12.0/#sec-asyncfromsynciteratorcontinuation) when processing the "value" property of an _IteratorResult_ object, in order to wait for its value if it is a promise and re-package the result in a new "unwrapped" _IteratorResult_ object. Each async-from-sync iterator value unwrap function has a \[\[Done\]\] internal slot.

When an async-from-sync iterator value unwrap function is called with argument value, the following steps are taken:

1.  Let F be the [active function object](https://262.ecma-international.org/12.0/#active-function-object).
2.  Return ! [CreateIterResultObject](https://262.ecma-international.org/12.0/#sec-createiterresultobject)(value, F.\[\[Done\]\]).

## 27.1.4.3 Properties of Async-from-Sync Iterator Instances

Async-from-Sync Iterator instances are ordinary objects that inherit properties from the [%AsyncFromSyncIteratorPrototype%](https://262.ecma-international.org/12.0/#sec-%asyncfromsynciteratorprototype%-object) intrinsic object. Async-from-Sync Iterator instances are initially created with the internal slots listed in [Table 69](https://262.ecma-international.org/12.0/#table-async-from-sync-iterator-internal-slots). Async-from-Sync Iterator instances are not directly observable from ECMAScript code.

Table 69: Internal Slots of Async-from-Sync Iterator Instances

| Internal Slot | Description |
| --- | --- |
| \[\[SyncIteratorRecord\]\] | A [Record](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type), of the type returned by [GetIterator](https://262.ecma-international.org/12.0/#sec-getiterator), representing the original synchronous iterator which is being adapted. |

## 27.1.4.4 AsyncFromSyncIteratorContinuation ( result, promiseCapability )

The abstract operation AsyncFromSyncIteratorContinuation takes arguments result and promiseCapability (a [PromiseCapability Record](https://262.ecma-international.org/12.0/#sec-promisecapability-records)). It performs the following steps when called:

1.  Let done be [IteratorComplete](https://262.ecma-international.org/12.0/#sec-iteratorcomplete)(result).
2.  [IfAbruptRejectPromise](https://262.ecma-international.org/12.0/#sec-ifabruptrejectpromise)(done, promiseCapability).
3.  Let value be [IteratorValue](https://262.ecma-international.org/12.0/#sec-iteratorvalue)(result).
4.  [IfAbruptRejectPromise](https://262.ecma-international.org/12.0/#sec-ifabruptrejectpromise)(value, promiseCapability).
5.  Let valueWrapper be [PromiseResolve](https://262.ecma-international.org/12.0/#sec-promise-resolve)([%Promise%](https://262.ecma-international.org/12.0/#sec-promise-constructor), value).
6.  [IfAbruptRejectPromise](https://262.ecma-international.org/12.0/#sec-ifabruptrejectpromise)(valueWrapper, promiseCapability).
7.  Let steps be the algorithm steps defined in [Async-from-Sync Iterator Value Unwrap Functions](https://262.ecma-international.org/12.0/#sec-async-from-sync-iterator-value-unwrap-functions).
8.  Let length be the number of non-optional parameters of the function definition in [Async-from-Sync Iterator Value Unwrap Functions](https://262.ecma-international.org/12.0/#sec-async-from-sync-iterator-value-unwrap-functions).
9.  Let onFulfilled be ! [CreateBuiltinFunction](https://262.ecma-international.org/12.0/#sec-createbuiltinfunction)(steps, length, "", « \[\[Done\]\] »).
10.  Set onFulfilled.\[\[Done\]\] to done.
11.  Perform ! [PerformPromiseThen](https://262.ecma-international.org/12.0/#sec-performpromisethen)(valueWrapper, onFulfilled, undefined, promiseCapability).
12.  Return promiseCapability.\[\[Promise\]\].

## 27.2 Promise Objects

A Promise is an object that is used as a placeholder for the eventual results of a deferred (and possibly asynchronous) computation.

Any Promise object is in one of three mutually exclusive states: _fulfilled_, _rejected_, and _pending_:

-   A promise `p` is fulfilled if `p.then(f, r)` will immediately enqueue a [Job](https://262.ecma-international.org/12.0/#job) to call the function `f`.
-   A promise `p` is rejected if `p.then(f, r)` will immediately enqueue a [Job](https://262.ecma-international.org/12.0/#job) to call the function `r`.
-   A promise is pending if it is neither fulfilled nor rejected.

A promise is said to be _settled_ if it is not pending, i.e. if it is either fulfilled or rejected.

A promise is _resolved_ if it is settled or if it has been “locked in” to match the state of another promise. Attempting to resolve or reject a resolved promise has no effect. A promise is _unresolved_ if it is not resolved. An unresolved promise is always in the pending state. A resolved promise may be pending, fulfilled or rejected.

## 27.2.1 Promise Abstract Operations

## 27.2.1.1 PromiseCapability Records

A PromiseCapability Record is a [Record](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) value used to encapsulate a promise object along with the functions that are capable of resolving or rejecting that promise object. PromiseCapability Records are produced by the [NewPromiseCapability](https://262.ecma-international.org/12.0/#sec-newpromisecapability) abstract operation.

PromiseCapability Records have the fields listed in [Table 70](https://262.ecma-international.org/12.0/#table-promisecapability-record-fields).

Table 70: [PromiseCapability Record](https://262.ecma-international.org/12.0/#sec-promisecapability-records) Fields

| Field Name | Value | Meaning |
| --- | --- | --- |
| \[\[Promise\]\] | An object | An object that is usable as a promise. |
| \[\[Resolve\]\] | A [function object](https://262.ecma-international.org/12.0/#function-object) | The function that is used to resolve the given promise object. |
| \[\[Reject\]\] | A [function object](https://262.ecma-international.org/12.0/#function-object) | The function that is used to reject the given promise object. |

## 27.2.1.1.1 IfAbruptRejectPromise ( value, capability )

IfAbruptRejectPromise is a shorthand for a sequence of algorithm steps that use a [PromiseCapability Record](https://262.ecma-international.org/12.0/#sec-promisecapability-records). An algorithm step of the form:

1.  [IfAbruptRejectPromise](https://262.ecma-international.org/12.0/#sec-ifabruptrejectpromise)(value, capability).

means the same thing as:

1.  If value is an [abrupt completion](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type), then
    1.  Perform ? [Call](https://262.ecma-international.org/12.0/#sec-call)(capability.\[\[Reject\]\], undefined, « value.\[\[Value\]\] »).
    2.  Return capability.\[\[Promise\]\].
2.  Else if value is a [Completion Record](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type), set value to value.\[\[Value\]\].

## 27.2.1.2 PromiseReaction Records

The PromiseReaction is a [Record](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) value used to store information about how a promise should react when it becomes resolved or rejected with a given value. PromiseReaction records are created by the [PerformPromiseThen](https://262.ecma-international.org/12.0/#sec-performpromisethen) abstract operation, and are used by the [Abstract Closure](https://262.ecma-international.org/12.0/#sec-abstract-closure) returned by [NewPromiseReactionJob](https://262.ecma-international.org/12.0/#sec-newpromisereactionjob).

PromiseReaction records have the fields listed in [Table 71](https://262.ecma-international.org/12.0/#table-promisereaction-record-fields).

Table 71: PromiseReaction [Record](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) Fields

| Field Name | Value | Meaning |
| --- | --- | --- |
| \[\[Capability\]\] | A [PromiseCapability Record](https://262.ecma-international.org/12.0/#sec-promisecapability-records), or undefined | The capabilities of the promise for which this record provides a reaction handler. |
| \[\[Type\]\] | Fulfill | Reject | The \[\[Type\]\] is used when \[\[Handler\]\] is empty to allow for behaviour specific to the settlement type. |
| \[\[Handler\]\] | A [JobCallback Record](https://262.ecma-international.org/12.0/#sec-jobcallback-records) | empty. | The function that should be applied to the incoming value, and whose return value will govern what happens to the derived promise. If \[\[Handler\]\] is empty, a function that depends on the value of \[\[Type\]\] will be used instead. |

## 27.2.1.3 CreateResolvingFunctions ( promise )

The abstract operation CreateResolvingFunctions takes argument promise. It performs the following steps when called:

1.  Let alreadyResolved be the [Record](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) { \[\[Value\]\]: false }.
2.  Let stepsResolve be the algorithm steps defined in [Promise Resolve Functions](https://262.ecma-international.org/12.0/#sec-promise-resolve-functions).
3.  Let lengthResolve be the number of non-optional parameters of the function definition in [Promise Resolve Functions](https://262.ecma-international.org/12.0/#sec-promise-resolve-functions).
4.  Let resolve be ! [CreateBuiltinFunction](https://262.ecma-international.org/12.0/#sec-createbuiltinfunction)(stepsResolve, lengthResolve, "", « \[\[Promise\]\], \[\[AlreadyResolved\]\] »).
5.  Set resolve.\[\[Promise\]\] to promise.
6.  Set resolve.\[\[AlreadyResolved\]\] to alreadyResolved.
7.  Let stepsReject be the algorithm steps defined in [Promise Reject Functions](https://262.ecma-international.org/12.0/#sec-promise-reject-functions).
8.  Let lengthReject be the number of non-optional parameters of the function definition in [Promise Reject Functions](https://262.ecma-international.org/12.0/#sec-promise-reject-functions).
9.  Let reject be ! [CreateBuiltinFunction](https://262.ecma-international.org/12.0/#sec-createbuiltinfunction)(stepsReject, lengthReject, "", « \[\[Promise\]\], \[\[AlreadyResolved\]\] »).
10.  Set reject.\[\[Promise\]\] to promise.
11.  Set reject.\[\[AlreadyResolved\]\] to alreadyResolved.
12.  Return the [Record](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) { \[\[Resolve\]\]: resolve, \[\[Reject\]\]: reject }.

## 27.2.1.3.1 Promise Reject Functions

A promise reject function is an anonymous built-in function that has \[\[Promise\]\] and \[\[AlreadyResolved\]\] internal slots.

When a promise reject function is called with argument reason, the following steps are taken:

1.  Let F be the [active function object](https://262.ecma-international.org/12.0/#active-function-object).
2.  [Assert](https://262.ecma-international.org/12.0/#assert): F has a \[\[Promise\]\] internal slot whose value is an Object.
3.  Let promise be F.\[\[Promise\]\].
4.  Let alreadyResolved be F.\[\[AlreadyResolved\]\].
5.  If alreadyResolved.\[\[Value\]\] is true, return undefined.
6.  Set alreadyResolved.\[\[Value\]\] to true.
7.  Return [RejectPromise](https://262.ecma-international.org/12.0/#sec-rejectpromise)(promise, reason).

The "length" property of a promise reject function is 1𝔽.

## 27.2.1.3.2 Promise Resolve Functions

A promise resolve function is an anonymous built-in function that has \[\[Promise\]\] and \[\[AlreadyResolved\]\] internal slots.

When a promise resolve function is called with argument resolution, the following steps are taken:

1.  Let F be the [active function object](https://262.ecma-international.org/12.0/#active-function-object).
2.  [Assert](https://262.ecma-international.org/12.0/#assert): F has a \[\[Promise\]\] internal slot whose value is an Object.
3.  Let promise be F.\[\[Promise\]\].
4.  Let alreadyResolved be F.\[\[AlreadyResolved\]\].
5.  If alreadyResolved.\[\[Value\]\] is true, return undefined.
6.  Set alreadyResolved.\[\[Value\]\] to true.
7.  If [SameValue](https://262.ecma-international.org/12.0/#sec-samevalue)(resolution, promise) is true, then
    1.  Let selfResolutionError be a newly created TypeError object.
    2.  Return [RejectPromise](https://262.ecma-international.org/12.0/#sec-rejectpromise)(promise, selfResolutionError).
8.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(resolution) is not Object, then
    1.  Return [FulfillPromise](https://262.ecma-international.org/12.0/#sec-fulfillpromise)(promise, resolution).
9.  Let then be [Get](https://262.ecma-international.org/12.0/#sec-get-o-p)(resolution, "then").
10.  If then is an [abrupt completion](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type), then
    1.  Return [RejectPromise](https://262.ecma-international.org/12.0/#sec-rejectpromise)(promise, then.\[\[Value\]\]).
11.  Let thenAction be then.\[\[Value\]\].
12.  If [IsCallable](https://262.ecma-international.org/12.0/#sec-iscallable)(thenAction) is false, then
    1.  Return [FulfillPromise](https://262.ecma-international.org/12.0/#sec-fulfillpromise)(promise, resolution).
13.  Let thenJobCallback be [HostMakeJobCallback](https://262.ecma-international.org/12.0/#sec-hostmakejobcallback)(thenAction).
14.  Let job be [NewPromiseResolveThenableJob](https://262.ecma-international.org/12.0/#sec-newpromiseresolvethenablejob)(promise, resolution, thenJobCallback).
15.  Perform [HostEnqueuePromiseJob](https://262.ecma-international.org/12.0/#sec-hostenqueuepromisejob)(job.\[\[Job\]\], job.\[\[Realm\]\]).
16.  Return undefined.

The "length" property of a promise resolve function is 1𝔽.

## 27.2.1.4 FulfillPromise ( promise, value )

The abstract operation FulfillPromise takes arguments promise and value. It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): The value of promise.\[\[PromiseState\]\] is pending.
2.  Let reactions be promise.\[\[PromiseFulfillReactions\]\].
3.  Set promise.\[\[PromiseResult\]\] to value.
4.  Set promise.\[\[PromiseFulfillReactions\]\] to undefined.
5.  Set promise.\[\[PromiseRejectReactions\]\] to undefined.
6.  Set promise.\[\[PromiseState\]\] to fulfilled.
7.  Return [TriggerPromiseReactions](https://262.ecma-international.org/12.0/#sec-triggerpromisereactions)(reactions, value).

## 27.2.1.5 NewPromiseCapability ( C )

The abstract operation NewPromiseCapability takes argument C. It attempts to use C as a [constructor](https://262.ecma-international.org/12.0/#constructor) in the fashion of the built-in Promise [constructor](https://262.ecma-international.org/12.0/#constructor) to create a Promise object and extract its `resolve` and `reject` functions. The Promise object plus the `resolve` and `reject` functions are used to initialize a new [PromiseCapability Record](https://262.ecma-international.org/12.0/#sec-promisecapability-records). It performs the following steps when called:

1.  If [IsConstructor](https://262.ecma-international.org/12.0/#sec-isconstructor)(C) is false, throw a TypeError exception.
2.  NOTE: C is assumed to be a [constructor](https://262.ecma-international.org/12.0/#constructor) function that supports the parameter conventions of the Promise [constructor](https://262.ecma-international.org/12.0/#constructor) (see [27.2.3.1](https://262.ecma-international.org/12.0/#sec-promise-executor)).
3.  Let promiseCapability be the [PromiseCapability Record](https://262.ecma-international.org/12.0/#sec-promisecapability-records) { \[\[Promise\]\]: undefined, \[\[Resolve\]\]: undefined, \[\[Reject\]\]: undefined }.
4.  Let steps be the algorithm steps defined in [GetCapabilitiesExecutor Functions](https://262.ecma-international.org/12.0/#sec-getcapabilitiesexecutor-functions).
5.  Let length be the number of non-optional parameters of the function definition in [GetCapabilitiesExecutor Functions](https://262.ecma-international.org/12.0/#sec-getcapabilitiesexecutor-functions).
6.  Let executor be ! [CreateBuiltinFunction](https://262.ecma-international.org/12.0/#sec-createbuiltinfunction)(steps, length, "", « \[\[Capability\]\] »).
7.  Set executor.\[\[Capability\]\] to promiseCapability.
8.  Let promise be ? [Construct](https://262.ecma-international.org/12.0/#sec-construct)(C, « executor »).
9.  If [IsCallable](https://262.ecma-international.org/12.0/#sec-iscallable)(promiseCapability.\[\[Resolve\]\]) is false, throw a TypeError exception.
10.  If [IsCallable](https://262.ecma-international.org/12.0/#sec-iscallable)(promiseCapability.\[\[Reject\]\]) is false, throw a TypeError exception.
11.  Set promiseCapability.\[\[Promise\]\] to promise.
12.  Return promiseCapability.

Note

This abstract operation supports Promise subclassing, as it is generic on any [constructor](https://262.ecma-international.org/12.0/#constructor) that calls a passed executor function argument in the same way as the Promise [constructor](https://262.ecma-international.org/12.0/#constructor). It is used to generalize static methods of the Promise [constructor](https://262.ecma-international.org/12.0/#constructor) to any subclass.

## 27.2.1.5.1 GetCapabilitiesExecutor Functions

A GetCapabilitiesExecutor function is an anonymous built-in function that has a \[\[Capability\]\] internal slot.

When a GetCapabilitiesExecutor function is called with arguments resolve and reject, the following steps are taken:

1.  Let F be the [active function object](https://262.ecma-international.org/12.0/#active-function-object).
2.  [Assert](https://262.ecma-international.org/12.0/#assert): F has a \[\[Capability\]\] internal slot whose value is a [PromiseCapability Record](https://262.ecma-international.org/12.0/#sec-promisecapability-records).
3.  Let promiseCapability be F.\[\[Capability\]\].
4.  If promiseCapability.\[\[Resolve\]\] is not undefined, throw a TypeError exception.
5.  If promiseCapability.\[\[Reject\]\] is not undefined, throw a TypeError exception.
6.  Set promiseCapability.\[\[Resolve\]\] to resolve.
7.  Set promiseCapability.\[\[Reject\]\] to reject.
8.  Return undefined.

The "length" property of a GetCapabilitiesExecutor function is 2𝔽.

## 27.2.1.6 IsPromise ( x )

The abstract operation IsPromise takes argument x. It checks for the promise brand on an object. It performs the following steps when called:

1.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(x) is not Object, return false.
2.  If x does not have a \[\[PromiseState\]\] internal slot, return false.
3.  Return true.

## 27.2.1.7 RejectPromise ( promise, reason )

The abstract operation RejectPromise takes arguments promise and reason. It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): The value of promise.\[\[PromiseState\]\] is pending.
2.  Let reactions be promise.\[\[PromiseRejectReactions\]\].
3.  Set promise.\[\[PromiseResult\]\] to reason.
4.  Set promise.\[\[PromiseFulfillReactions\]\] to undefined.
5.  Set promise.\[\[PromiseRejectReactions\]\] to undefined.
6.  Set promise.\[\[PromiseState\]\] to rejected.
7.  If promise.\[\[PromiseIsHandled\]\] is false, perform [HostPromiseRejectionTracker](https://262.ecma-international.org/12.0/#sec-host-promise-rejection-tracker)(promise, "reject").
8.  Return [TriggerPromiseReactions](https://262.ecma-international.org/12.0/#sec-triggerpromisereactions)(reactions, reason).

## 27.2.1.8 TriggerPromiseReactions ( reactions, argument )

The abstract operation TriggerPromiseReactions takes arguments reactions (a [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) of PromiseReaction Records) and argument. It enqueues a new [Job](https://262.ecma-international.org/12.0/#job) for each record in reactions. Each such [Job](https://262.ecma-international.org/12.0/#job) processes the \[\[Type\]\] and \[\[Handler\]\] of the PromiseReaction [Record](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type), and if the \[\[Handler\]\] is not empty, calls it passing the given argument. If the \[\[Handler\]\] is empty, the behaviour is determined by the \[\[Type\]\]. It performs the following steps when called:

1.  For each element reaction of reactions, do
    1.  Let job be [NewPromiseReactionJob](https://262.ecma-international.org/12.0/#sec-newpromisereactionjob)(reaction, argument).
    2.  Perform [HostEnqueuePromiseJob](https://262.ecma-international.org/12.0/#sec-hostenqueuepromisejob)(job.\[\[Job\]\], job.\[\[Realm\]\]).
2.  Return undefined.

## 27.2.1.9 HostPromiseRejectionTracker ( promise, operation )

The [host-defined](https://262.ecma-international.org/12.0/#host-defined) abstract operation HostPromiseRejectionTracker takes arguments promise (a Promise) and operation ("reject" or "handle"). It allows [host](https://262.ecma-international.org/12.0/#host) environments to track promise rejections.

An implementation of HostPromiseRejectionTracker must complete normally in all cases. The default implementation of HostPromiseRejectionTracker is to unconditionally return an empty normal completion.

Note 1

HostPromiseRejectionTracker is called in two scenarios:

-   When a promise is rejected without any handlers, it is called with its operation argument set to "reject".
-   When a handler is added to a rejected promise for the first time, it is called with its operation argument set to "handle".

A typical implementation of HostPromiseRejectionTracker might try to notify developers of unhandled rejections, while also being careful to notify them if such previous notifications are later invalidated by new handlers being attached.

Note 2

If operation is "handle", an implementation should not hold a reference to promise in a way that would interfere with garbage collection. An implementation may hold a reference to promise if operation is "reject", since it is expected that rejections will be rare and not on hot code paths.

## 27.2.2 Promise Jobs

## 27.2.2.1 NewPromiseReactionJob ( reaction, argument )

The abstract operation NewPromiseReactionJob takes arguments reaction and argument. It returns a new [Job](https://262.ecma-international.org/12.0/#job) [Abstract Closure](https://262.ecma-international.org/12.0/#sec-abstract-closure) that applies the appropriate handler to the incoming value, and uses the handler's return value to resolve or reject the derived promise associated with that handler. It performs the following steps when called:

1.  Let job be a new [Job](https://262.ecma-international.org/12.0/#job) [Abstract Closure](https://262.ecma-international.org/12.0/#sec-abstract-closure) with no parameters that captures reaction and argument and performs the following steps when called:
    1.  [Assert](https://262.ecma-international.org/12.0/#assert): reaction is a PromiseReaction [Record](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).
    2.  Let promiseCapability be reaction.\[\[Capability\]\].
    3.  Let type be reaction.\[\[Type\]\].
    4.  Let handler be reaction.\[\[Handler\]\].
    5.  If handler is empty, then
        1.  If type is Fulfill, let handlerResult be [NormalCompletion](https://262.ecma-international.org/12.0/#sec-normalcompletion)(argument).
        2.  Else,
            1.  [Assert](https://262.ecma-international.org/12.0/#assert): type is Reject.
            2.  Let handlerResult be [ThrowCompletion](https://262.ecma-international.org/12.0/#sec-throwcompletion)(argument).
    6.  Else, let handlerResult be [HostCallJobCallback](https://262.ecma-international.org/12.0/#sec-hostcalljobcallback)(handler, undefined, « argument »).
    7.  If promiseCapability is undefined, then
        1.  [Assert](https://262.ecma-international.org/12.0/#assert): handlerResult is not an [abrupt completion](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type).
        2.  Return [NormalCompletion](https://262.ecma-international.org/12.0/#sec-normalcompletion)(empty).
    8.  [Assert](https://262.ecma-international.org/12.0/#assert): promiseCapability is a [PromiseCapability Record](https://262.ecma-international.org/12.0/#sec-promisecapability-records).
    9.  If handlerResult is an [abrupt completion](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type), then
        1.  Let status be [Call](https://262.ecma-international.org/12.0/#sec-call)(promiseCapability.\[\[Reject\]\], undefined, « handlerResult.\[\[Value\]\] »).
    10.  Else,
        1.  Let status be [Call](https://262.ecma-international.org/12.0/#sec-call)(promiseCapability.\[\[Resolve\]\], undefined, « handlerResult.\[\[Value\]\] »).
    11.  Return [Completion](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type)(status).
2.  Let handlerRealm be null.
3.  If reaction.\[\[Handler\]\] is not empty, then
    1.  Let getHandlerRealmResult be [GetFunctionRealm](https://262.ecma-international.org/12.0/#sec-getfunctionrealm)(reaction.\[\[Handler\]\].\[\[Callback\]\]).
    2.  If getHandlerRealmResult is a normal completion, set handlerRealm to getHandlerRealmResult.\[\[Value\]\].
    3.  Else, set handlerRealm to [the current Realm Record](https://262.ecma-international.org/12.0/#current-realm).
    4.  NOTE: handlerRealm is never null unless the handler is undefined. When the handler is a revoked Proxy and no ECMAScript code runs, handlerRealm is used to create error objects.
4.  Return the [Record](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) { \[\[Job\]\]: job, \[\[Realm\]\]: handlerRealm }.

## 27.2.2.2 NewPromiseResolveThenableJob ( promiseToResolve, thenable, then )

The abstract operation NewPromiseResolveThenableJob takes arguments promiseToResolve, thenable, and then. It performs the following steps when called:

1.  Let job be a new [Job](https://262.ecma-international.org/12.0/#job) [Abstract Closure](https://262.ecma-international.org/12.0/#sec-abstract-closure) with no parameters that captures promiseToResolve, thenable, and then and performs the following steps when called:
    1.  Let resolvingFunctions be [CreateResolvingFunctions](https://262.ecma-international.org/12.0/#sec-createresolvingfunctions)(promiseToResolve).
    2.  Let thenCallResult be [HostCallJobCallback](https://262.ecma-international.org/12.0/#sec-hostcalljobcallback)(then, thenable, « resolvingFunctions.\[\[Resolve\]\], resolvingFunctions.\[\[Reject\]\] »).
    3.  If thenCallResult is an [abrupt completion](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type), then
        1.  Let status be [Call](https://262.ecma-international.org/12.0/#sec-call)(resolvingFunctions.\[\[Reject\]\], undefined, « thenCallResult.\[\[Value\]\] »).
        2.  Return [Completion](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type)(status).
    4.  Return [Completion](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type)(thenCallResult).
2.  Let getThenRealmResult be [GetFunctionRealm](https://262.ecma-international.org/12.0/#sec-getfunctionrealm)(then.\[\[Callback\]\]).
3.  If getThenRealmResult is a normal completion, let thenRealm be getThenRealmResult.\[\[Value\]\].
4.  Else, let thenRealm be [the current Realm Record](https://262.ecma-international.org/12.0/#current-realm).
5.  NOTE: thenRealm is never null. When then.\[\[Callback\]\] is a revoked Proxy and no code runs, thenRealm is used to create error objects.
6.  Return the [Record](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) { \[\[Job\]\]: job, \[\[Realm\]\]: thenRealm }.

Note

This [Job](https://262.ecma-international.org/12.0/#job) uses the supplied thenable and its `then` method to resolve the given promise. This process must take place as a [Job](https://262.ecma-international.org/12.0/#job) to ensure that the evaluation of the `then` method occurs after evaluation of any surrounding code has completed.

## 27.2.3 The Promise Constructor

The Promise [constructor](https://262.ecma-international.org/12.0/#constructor):

-   is %Promise%.
-   is the initial value of the "Promise" property of the [global object](https://262.ecma-international.org/12.0/#sec-global-object).
-   creates and initializes a new Promise object when called as a [constructor](https://262.ecma-international.org/12.0/#constructor).
-   is not intended to be called as a function and will throw an exception when called in that manner.
-   is designed to be subclassable. It may be used as the value in an `extends` clause of a class definition. Subclass constructors that intend to inherit the specified Promise behaviour must include a `super` call to the Promise [constructor](https://262.ecma-international.org/12.0/#constructor) to create and initialize the subclass instance with the internal state necessary to support the `Promise` and `Promise.prototype` built-in methods.

## 27.2.3.1 Promise ( executor )

When the `Promise` function is called with argument executor, the following steps are taken:

1.  If NewTarget is undefined, throw a TypeError exception.
2.  If [IsCallable](https://262.ecma-international.org/12.0/#sec-iscallable)(executor) is false, throw a TypeError exception.
3.  Let promise be ? [OrdinaryCreateFromConstructor](https://262.ecma-international.org/12.0/#sec-ordinarycreatefromconstructor)(NewTarget, "%Promise.prototype%", « \[\[PromiseState\]\], \[\[PromiseResult\]\], \[\[PromiseFulfillReactions\]\], \[\[PromiseRejectReactions\]\], \[\[PromiseIsHandled\]\] »).
4.  Set promise.\[\[PromiseState\]\] to pending.
5.  Set promise.\[\[PromiseFulfillReactions\]\] to a new empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).
6.  Set promise.\[\[PromiseRejectReactions\]\] to a new empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).
7.  Set promise.\[\[PromiseIsHandled\]\] to false.
8.  Let resolvingFunctions be [CreateResolvingFunctions](https://262.ecma-international.org/12.0/#sec-createresolvingfunctions)(promise).
9.  Let completion be [Call](https://262.ecma-international.org/12.0/#sec-call)(executor, undefined, « resolvingFunctions.\[\[Resolve\]\], resolvingFunctions.\[\[Reject\]\] »).
10.  If completion is an [abrupt completion](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type), then
    1.  Perform ? [Call](https://262.ecma-international.org/12.0/#sec-call)(resolvingFunctions.\[\[Reject\]\], undefined, « completion.\[\[Value\]\] »).
11.  Return promise.

Note

The executor argument must be a [function object](https://262.ecma-international.org/12.0/#function-object). It is called for initiating and reporting completion of the possibly deferred action represented by this Promise object. The executor is called with two arguments: resolve and reject. These are functions that may be used by the executor function to report eventual completion or failure of the deferred computation. Returning from the executor function does not mean that the deferred action has been completed but only that the request to eventually perform the deferred action has been accepted.

The resolve function that is passed to an executor function accepts a single argument. The executor code may eventually call the resolve function to indicate that it wishes to resolve the associated Promise object. The argument passed to the resolve function represents the eventual value of the deferred action and can be either the actual fulfillment value or another Promise object which will provide the value if it is fulfilled.

The reject function that is passed to an executor function accepts a single argument. The executor code may eventually call the reject function to indicate that the associated Promise is rejected and will never be fulfilled. The argument passed to the reject function is used as the rejection value of the promise. Typically it will be an Error object.

The resolve and reject functions passed to an executor function by the Promise [constructor](https://262.ecma-international.org/12.0/#constructor) have the capability to actually resolve and reject the associated promise. Subclasses may have different [constructor](https://262.ecma-international.org/12.0/#constructor) behaviour that passes in customized values for resolve and reject.

## 27.2.4 Properties of the Promise Constructor

The Promise [constructor](https://262.ecma-international.org/12.0/#constructor):

-   has a \[\[Prototype\]\] internal slot whose value is [%Function.prototype%](https://262.ecma-international.org/12.0/#sec-properties-of-the-function-prototype-object).
-   has the following properties:

## 27.2.4.1 Promise.all ( iterable )

The `all` function returns a new promise which is fulfilled with an array of fulfillment values for the passed promises, or rejects with the reason of the first passed promise that rejects. It resolves all elements of the passed iterable to promises as it runs this algorithm.

1.  Let C be the this value.
2.  Let promiseCapability be ? [NewPromiseCapability](https://262.ecma-international.org/12.0/#sec-newpromisecapability)(C).
3.  Let promiseResolve be [GetPromiseResolve](https://262.ecma-international.org/12.0/#sec-getpromiseresolve)(C).
4.  [IfAbruptRejectPromise](https://262.ecma-international.org/12.0/#sec-ifabruptrejectpromise)(promiseResolve, promiseCapability).
5.  Let iteratorRecord be [GetIterator](https://262.ecma-international.org/12.0/#sec-getiterator)(iterable).
6.  [IfAbruptRejectPromise](https://262.ecma-international.org/12.0/#sec-ifabruptrejectpromise)(iteratorRecord, promiseCapability).
7.  Let result be [PerformPromiseAll](https://262.ecma-international.org/12.0/#sec-performpromiseall)(iteratorRecord, C, promiseCapability, promiseResolve).
8.  If result is an [abrupt completion](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type), then
    1.  If iteratorRecord.\[\[Done\]\] is false, set result to [IteratorClose](https://262.ecma-international.org/12.0/#sec-iteratorclose)(iteratorRecord, result).
    2.  [IfAbruptRejectPromise](https://262.ecma-international.org/12.0/#sec-ifabruptrejectpromise)(result, promiseCapability).
9.  Return [Completion](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type)(result).

Note

The `all` function requires its this value to be a [constructor](https://262.ecma-international.org/12.0/#constructor) function that supports the parameter conventions of the Promise [constructor](https://262.ecma-international.org/12.0/#constructor).

## 27.2.4.1.1 GetPromiseResolve ( promiseConstructor )

The abstract operation GetPromiseResolve takes argument promiseConstructor. It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): [IsConstructor](https://262.ecma-international.org/12.0/#sec-isconstructor)(promiseConstructor) is true.
2.  Let promiseResolve be ? [Get](https://262.ecma-international.org/12.0/#sec-get-o-p)(promiseConstructor, "resolve").
3.  If [IsCallable](https://262.ecma-international.org/12.0/#sec-iscallable)(promiseResolve) is false, throw a TypeError exception.
4.  Return promiseResolve.

## 27.2.4.1.2 PerformPromiseAll ( iteratorRecord, constructor, resultCapability, promiseResolve )

The abstract operation PerformPromiseAll takes arguments iteratorRecord, constructor, resultCapability (a [PromiseCapability Record](https://262.ecma-international.org/12.0/#sec-promisecapability-records)), and promiseResolve. It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): [IsConstructor](https://262.ecma-international.org/12.0/#sec-isconstructor)(constructor) is true.
2.  [Assert](https://262.ecma-international.org/12.0/#assert): [IsCallable](https://262.ecma-international.org/12.0/#sec-iscallable)(promiseResolve) is true.
3.  Let values be a new empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).
4.  Let remainingElementsCount be the [Record](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) { \[\[Value\]\]: 1 }.
5.  Let index be 0.
6.  Repeat,
    1.  Let next be [IteratorStep](https://262.ecma-international.org/12.0/#sec-iteratorstep)(iteratorRecord).
    2.  If next is an [abrupt completion](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type), set iteratorRecord.\[\[Done\]\] to true.
    3.  [ReturnIfAbrupt](https://262.ecma-international.org/12.0/#sec-returnifabrupt)(next).
    4.  If next is false, then
        1.  Set iteratorRecord.\[\[Done\]\] to true.
        2.  Set remainingElementsCount.\[\[Value\]\] to remainingElementsCount.\[\[Value\]\] - 1.
        3.  If remainingElementsCount.\[\[Value\]\] is 0, then
            1.  Let valuesArray be ! [CreateArrayFromList](https://262.ecma-international.org/12.0/#sec-createarrayfromlist)(values).
            2.  Perform ? [Call](https://262.ecma-international.org/12.0/#sec-call)(resultCapability.\[\[Resolve\]\], undefined, « valuesArray »).
        4.  Return resultCapability.\[\[Promise\]\].
    5.  Let nextValue be [IteratorValue](https://262.ecma-international.org/12.0/#sec-iteratorvalue)(next).
    6.  If nextValue is an [abrupt completion](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type), set iteratorRecord.\[\[Done\]\] to true.
    7.  [ReturnIfAbrupt](https://262.ecma-international.org/12.0/#sec-returnifabrupt)(nextValue).
    8.  Append undefined to values.
    9.  Let nextPromise be ? [Call](https://262.ecma-international.org/12.0/#sec-call)(promiseResolve, constructor, « nextValue »).
    10.  Let steps be the algorithm steps defined in [`Promise.all` Resolve Element Functions](https://262.ecma-international.org/12.0/#sec-promise.all-resolve-element-functions).
    11.  Let length be the number of non-optional parameters of the function definition in [`Promise.all` Resolve Element Functions](https://262.ecma-international.org/12.0/#sec-promise.all-resolve-element-functions).
    12.  Let onFulfilled be ! [CreateBuiltinFunction](https://262.ecma-international.org/12.0/#sec-createbuiltinfunction)(steps, length, "", « \[\[AlreadyCalled\]\], \[\[Index\]\], \[\[Values\]\], \[\[Capability\]\], \[\[RemainingElements\]\] »).
    13.  Set onFulfilled.\[\[AlreadyCalled\]\] to false.
    14.  Set onFulfilled.\[\[Index\]\] to index.
    15.  Set onFulfilled.\[\[Values\]\] to values.
    16.  Set onFulfilled.\[\[Capability\]\] to resultCapability.
    17.  Set onFulfilled.\[\[RemainingElements\]\] to remainingElementsCount.
    18.  Set remainingElementsCount.\[\[Value\]\] to remainingElementsCount.\[\[Value\]\] + 1.
    19.  Perform ? [Invoke](https://262.ecma-international.org/12.0/#sec-invoke)(nextPromise, "then", « onFulfilled, resultCapability.\[\[Reject\]\] »).
    20.  Set index to index + 1.

## 27.2.4.1.3 `Promise.all` Resolve Element Functions

A `Promise.all` resolve element function is an anonymous built-in function that is used to resolve a specific `Promise.all` element. Each `Promise.all` resolve element function has \[\[Index\]\], \[\[Values\]\], \[\[Capability\]\], \[\[RemainingElements\]\], and \[\[AlreadyCalled\]\] internal slots.

When a `Promise.all` resolve element function is called with argument x, the following steps are taken:

1.  Let F be the [active function object](https://262.ecma-international.org/12.0/#active-function-object).
2.  If F.\[\[AlreadyCalled\]\] is true, return undefined.
3.  Set F.\[\[AlreadyCalled\]\] to true.
4.  Let index be F.\[\[Index\]\].
5.  Let values be F.\[\[Values\]\].
6.  Let promiseCapability be F.\[\[Capability\]\].
7.  Let remainingElementsCount be F.\[\[RemainingElements\]\].
8.  Set values\[index\] to x.
9.  Set remainingElementsCount.\[\[Value\]\] to remainingElementsCount.\[\[Value\]\] - 1.
10.  If remainingElementsCount.\[\[Value\]\] is 0, then
    1.  Let valuesArray be ! [CreateArrayFromList](https://262.ecma-international.org/12.0/#sec-createarrayfromlist)(values).
    2.  Return ? [Call](https://262.ecma-international.org/12.0/#sec-call)(promiseCapability.\[\[Resolve\]\], undefined, « valuesArray »).
11.  Return undefined.

The "length" property of a `Promise.all` resolve element function is 1𝔽.

## 27.2.4.2 Promise.allSettled ( iterable )

The `allSettled` function returns a promise that is fulfilled with an array of promise state snapshots, but only after all the original promises have settled, i.e. become either fulfilled or rejected. It resolves all elements of the passed iterable to promises as it runs this algorithm.

1.  Let C be the this value.
2.  Let promiseCapability be ? [NewPromiseCapability](https://262.ecma-international.org/12.0/#sec-newpromisecapability)(C).
3.  Let promiseResolve be [GetPromiseResolve](https://262.ecma-international.org/12.0/#sec-getpromiseresolve)(C).
4.  [IfAbruptRejectPromise](https://262.ecma-international.org/12.0/#sec-ifabruptrejectpromise)(promiseResolve, promiseCapability).
5.  Let iteratorRecord be [GetIterator](https://262.ecma-international.org/12.0/#sec-getiterator)(iterable).
6.  [IfAbruptRejectPromise](https://262.ecma-international.org/12.0/#sec-ifabruptrejectpromise)(iteratorRecord, promiseCapability).
7.  Let result be [PerformPromiseAllSettled](https://262.ecma-international.org/12.0/#sec-performpromiseallsettled)(iteratorRecord, C, promiseCapability, promiseResolve).
8.  If result is an [abrupt completion](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type), then
    1.  If iteratorRecord.\[\[Done\]\] is false, set result to [IteratorClose](https://262.ecma-international.org/12.0/#sec-iteratorclose)(iteratorRecord, result).
    2.  [IfAbruptRejectPromise](https://262.ecma-international.org/12.0/#sec-ifabruptrejectpromise)(result, promiseCapability).
9.  Return [Completion](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type)(result).

Note

The `allSettled` function requires its this value to be a [constructor](https://262.ecma-international.org/12.0/#constructor) function that supports the parameter conventions of the Promise [constructor](https://262.ecma-international.org/12.0/#constructor).

## 27.2.4.2.1 PerformPromiseAllSettled ( iteratorRecord, constructor, resultCapability, promiseResolve )

The abstract operation PerformPromiseAllSettled takes arguments iteratorRecord, constructor, resultCapability (a [PromiseCapability Record](https://262.ecma-international.org/12.0/#sec-promisecapability-records)), and promiseResolve. It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): ! [IsConstructor](https://262.ecma-international.org/12.0/#sec-isconstructor)(constructor) is true.
2.  [Assert](https://262.ecma-international.org/12.0/#assert): [IsCallable](https://262.ecma-international.org/12.0/#sec-iscallable)(promiseResolve) is true.
3.  Let values be a new empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).
4.  Let remainingElementsCount be the [Record](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) { \[\[Value\]\]: 1 }.
5.  Let index be 0.
6.  Repeat,
    1.  Let next be [IteratorStep](https://262.ecma-international.org/12.0/#sec-iteratorstep)(iteratorRecord).
    2.  If next is an [abrupt completion](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type), set iteratorRecord.\[\[Done\]\] to true.
    3.  [ReturnIfAbrupt](https://262.ecma-international.org/12.0/#sec-returnifabrupt)(next).
    4.  If next is false, then
        1.  Set iteratorRecord.\[\[Done\]\] to true.
        2.  Set remainingElementsCount.\[\[Value\]\] to remainingElementsCount.\[\[Value\]\] - 1.
        3.  If remainingElementsCount.\[\[Value\]\] is 0, then
            1.  Let valuesArray be ! [CreateArrayFromList](https://262.ecma-international.org/12.0/#sec-createarrayfromlist)(values).
            2.  Perform ? [Call](https://262.ecma-international.org/12.0/#sec-call)(resultCapability.\[\[Resolve\]\], undefined, « valuesArray »).
        4.  Return resultCapability.\[\[Promise\]\].
    5.  Let nextValue be [IteratorValue](https://262.ecma-international.org/12.0/#sec-iteratorvalue)(next).
    6.  If nextValue is an [abrupt completion](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type), set iteratorRecord.\[\[Done\]\] to true.
    7.  [ReturnIfAbrupt](https://262.ecma-international.org/12.0/#sec-returnifabrupt)(nextValue).
    8.  Append undefined to values.
    9.  Let nextPromise be ? [Call](https://262.ecma-international.org/12.0/#sec-call)(promiseResolve, constructor, « nextValue »).
    10.  Let stepsFulfilled be the algorithm steps defined in [`Promise.allSettled` Resolve Element Functions](https://262.ecma-international.org/12.0/#sec-promise.allsettled-resolve-element-functions).
    11.  Let lengthFulfilled be the number of non-optional parameters of the function definition in [`Promise.allSettled` Resolve Element Functions](https://262.ecma-international.org/12.0/#sec-promise.allsettled-resolve-element-functions).
    12.  Let onFulfilled be ! [CreateBuiltinFunction](https://262.ecma-international.org/12.0/#sec-createbuiltinfunction)(stepsFulfilled, lengthFulfilled, "", « \[\[AlreadyCalled\]\], \[\[Index\]\], \[\[Values\]\], \[\[Capability\]\], \[\[RemainingElements\]\] »).
    13.  Let alreadyCalled be the [Record](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) { \[\[Value\]\]: false }.
    14.  Set onFulfilled.\[\[AlreadyCalled\]\] to alreadyCalled.
    15.  Set onFulfilled.\[\[Index\]\] to index.
    16.  Set onFulfilled.\[\[Values\]\] to values.
    17.  Set onFulfilled.\[\[Capability\]\] to resultCapability.
    18.  Set onFulfilled.\[\[RemainingElements\]\] to remainingElementsCount.
    19.  Let stepsRejected be the algorithm steps defined in [`Promise.allSettled` Reject Element Functions](https://262.ecma-international.org/12.0/#sec-promise.allsettled-reject-element-functions).
    20.  Let lengthRejected be the number of non-optional parameters of the function definition in [`Promise.allSettled` Reject Element Functions](https://262.ecma-international.org/12.0/#sec-promise.allsettled-reject-element-functions).
    21.  Let onRejected be ! [CreateBuiltinFunction](https://262.ecma-international.org/12.0/#sec-createbuiltinfunction)(stepsRejected, lengthRejected, "", « \[\[AlreadyCalled\]\], \[\[Index\]\], \[\[Values\]\], \[\[Capability\]\], \[\[RemainingElements\]\] »).
    22.  Set onRejected.\[\[AlreadyCalled\]\] to alreadyCalled.
    23.  Set onRejected.\[\[Index\]\] to index.
    24.  Set onRejected.\[\[Values\]\] to values.
    25.  Set onRejected.\[\[Capability\]\] to resultCapability.
    26.  Set onRejected.\[\[RemainingElements\]\] to remainingElementsCount.
    27.  Set remainingElementsCount.\[\[Value\]\] to remainingElementsCount.\[\[Value\]\] + 1.
    28.  Perform ? [Invoke](https://262.ecma-international.org/12.0/#sec-invoke)(nextPromise, "then", « onFulfilled, onRejected »).
    29.  Set index to index + 1.

## 27.2.4.2.2 `Promise.allSettled` Resolve Element Functions

A `Promise.allSettled` resolve element function is an anonymous built-in function that is used to resolve a specific `Promise.allSettled` element. Each `Promise.allSettled` resolve element function has \[\[Index\]\], \[\[Values\]\], \[\[Capability\]\], \[\[RemainingElements\]\], and \[\[AlreadyCalled\]\] internal slots.

When a `Promise.allSettled` resolve element function is called with argument x, the following steps are taken:

1.  Let F be the [active function object](https://262.ecma-international.org/12.0/#active-function-object).
2.  Let alreadyCalled be F.\[\[AlreadyCalled\]\].
3.  If alreadyCalled.\[\[Value\]\] is true, return undefined.
4.  Set alreadyCalled.\[\[Value\]\] to true.
5.  Let index be F.\[\[Index\]\].
6.  Let values be F.\[\[Values\]\].
7.  Let promiseCapability be F.\[\[Capability\]\].
8.  Let remainingElementsCount be F.\[\[RemainingElements\]\].
9.  Let obj be ! [OrdinaryObjectCreate](https://262.ecma-international.org/12.0/#sec-ordinaryobjectcreate)([%Object.prototype%](https://262.ecma-international.org/12.0/#sec-properties-of-the-object-prototype-object)).
10.  Perform ! [CreateDataPropertyOrThrow](https://262.ecma-international.org/12.0/#sec-createdatapropertyorthrow)(obj, "status", "fulfilled").
11.  Perform ! [CreateDataPropertyOrThrow](https://262.ecma-international.org/12.0/#sec-createdatapropertyorthrow)(obj, "value", x).
12.  Set values\[index\] to obj.
13.  Set remainingElementsCount.\[\[Value\]\] to remainingElementsCount.\[\[Value\]\] - 1.
14.  If remainingElementsCount.\[\[Value\]\] is 0, then
    1.  Let valuesArray be ! [CreateArrayFromList](https://262.ecma-international.org/12.0/#sec-createarrayfromlist)(values).
    2.  Return ? [Call](https://262.ecma-international.org/12.0/#sec-call)(promiseCapability.\[\[Resolve\]\], undefined, « valuesArray »).
15.  Return undefined.

The "length" property of a `Promise.allSettled` resolve element function is 1𝔽.

## 27.2.4.2.3 `Promise.allSettled` Reject Element Functions

A `Promise.allSettled` reject element function is an anonymous built-in function that is used to reject a specific `Promise.allSettled` element. Each `Promise.allSettled` reject element function has \[\[Index\]\], \[\[Values\]\], \[\[Capability\]\], \[\[RemainingElements\]\], and \[\[AlreadyCalled\]\] internal slots.

When a `Promise.allSettled` reject element function is called with argument x, the following steps are taken:

1.  Let F be the [active function object](https://262.ecma-international.org/12.0/#active-function-object).
2.  Let alreadyCalled be F.\[\[AlreadyCalled\]\].
3.  If alreadyCalled.\[\[Value\]\] is true, return undefined.
4.  Set alreadyCalled.\[\[Value\]\] to true.
5.  Let index be F.\[\[Index\]\].
6.  Let values be F.\[\[Values\]\].
7.  Let promiseCapability be F.\[\[Capability\]\].
8.  Let remainingElementsCount be F.\[\[RemainingElements\]\].
9.  Let obj be ! [OrdinaryObjectCreate](https://262.ecma-international.org/12.0/#sec-ordinaryobjectcreate)([%Object.prototype%](https://262.ecma-international.org/12.0/#sec-properties-of-the-object-prototype-object)).
10.  Perform ! [CreateDataPropertyOrThrow](https://262.ecma-international.org/12.0/#sec-createdatapropertyorthrow)(obj, "status", "rejected").
11.  Perform ! [CreateDataPropertyOrThrow](https://262.ecma-international.org/12.0/#sec-createdatapropertyorthrow)(obj, "reason", x).
12.  Set values\[index\] to obj.
13.  Set remainingElementsCount.\[\[Value\]\] to remainingElementsCount.\[\[Value\]\] - 1.
14.  If remainingElementsCount.\[\[Value\]\] is 0, then
    1.  Let valuesArray be ! [CreateArrayFromList](https://262.ecma-international.org/12.0/#sec-createarrayfromlist)(values).
    2.  Return ? [Call](https://262.ecma-international.org/12.0/#sec-call)(promiseCapability.\[\[Resolve\]\], undefined, « valuesArray »).
15.  Return undefined.

The "length" property of a `Promise.allSettled` reject element function is 1𝔽.

## 27.2.4.3 Promise.any ( iterable )

The `any` function returns a promise that is fulfilled by the first given promise to be fulfilled, or rejected with an `AggregateError` holding the rejection reasons if all of the given promises are rejected. It resolves all elements of the passed iterable to promises as it runs this algorithm.

1.  Let C be the this value.
2.  Let promiseCapability be ? [NewPromiseCapability](https://262.ecma-international.org/12.0/#sec-newpromisecapability)(C).
3.  Let promiseResolve be [GetPromiseResolve](https://262.ecma-international.org/12.0/#sec-getpromiseresolve)(C).
4.  [IfAbruptRejectPromise](https://262.ecma-international.org/12.0/#sec-ifabruptrejectpromise)(promiseResolve, promiseCapability).
5.  Let iteratorRecord be [GetIterator](https://262.ecma-international.org/12.0/#sec-getiterator)(iterable).
6.  [IfAbruptRejectPromise](https://262.ecma-international.org/12.0/#sec-ifabruptrejectpromise)(iteratorRecord, promiseCapability).
7.  Let result be [PerformPromiseAny](https://262.ecma-international.org/12.0/#sec-performpromiseany)(iteratorRecord, C, promiseCapability, promiseResolve).
8.  If result is an [abrupt completion](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type), then
    1.  If iteratorRecord.\[\[Done\]\] is false, set result to [IteratorClose](https://262.ecma-international.org/12.0/#sec-iteratorclose)(iteratorRecord, result).
    2.  [IfAbruptRejectPromise](https://262.ecma-international.org/12.0/#sec-ifabruptrejectpromise)(result, promiseCapability).
9.  Return [Completion](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type)(result).

Note

The `any` function requires its this value to be a [constructor](https://262.ecma-international.org/12.0/#constructor) function that supports the parameter conventions of the `Promise` [constructor](https://262.ecma-international.org/12.0/#constructor).

## 27.2.4.3.1 PerformPromiseAny ( iteratorRecord, constructor, resultCapability, promiseResolve )

The abstract operation PerformPromiseAny takes arguments iteratorRecord, constructor, resultCapability (a [PromiseCapability Record](https://262.ecma-international.org/12.0/#sec-promisecapability-records)), and promiseResolve. It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): ! [IsConstructor](https://262.ecma-international.org/12.0/#sec-isconstructor)(constructor) is true.
2.  [Assert](https://262.ecma-international.org/12.0/#assert): ! [IsCallable](https://262.ecma-international.org/12.0/#sec-iscallable)(promiseResolve) is true.
3.  Let errors be a new empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).
4.  Let remainingElementsCount be the [Record](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) { \[\[Value\]\]: 1 }.
5.  Let index be 0.
6.  Repeat,
    1.  Let next be [IteratorStep](https://262.ecma-international.org/12.0/#sec-iteratorstep)(iteratorRecord).
    2.  If next is an [abrupt completion](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type), set iteratorRecord.\[\[Done\]\] to true.
    3.  [ReturnIfAbrupt](https://262.ecma-international.org/12.0/#sec-returnifabrupt)(next).
    4.  If next is false, then
        1.  Set iteratorRecord.\[\[Done\]\] to true.
        2.  Set remainingElementsCount.\[\[Value\]\] to remainingElementsCount.\[\[Value\]\] - 1.
        3.  If remainingElementsCount.\[\[Value\]\] is 0, then
            1.  Let error be a newly created `AggregateError` object.
            2.  Perform ! [DefinePropertyOrThrow](https://262.ecma-international.org/12.0/#sec-definepropertyorthrow)(error, "errors", PropertyDescriptor { \[\[Configurable\]\]: true, \[\[Enumerable\]\]: false, \[\[Writable\]\]: true, \[\[Value\]\]: ! [CreateArrayFromList](https://262.ecma-international.org/12.0/#sec-createarrayfromlist)(errors) }).
            3.  Return [ThrowCompletion](https://262.ecma-international.org/12.0/#sec-throwcompletion)(error).
        4.  Return resultCapability.\[\[Promise\]\].
    5.  Let nextValue be [IteratorValue](https://262.ecma-international.org/12.0/#sec-iteratorvalue)(next).
    6.  If nextValue is an [abrupt completion](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type), set iteratorRecord.\[\[Done\]\] to true.
    7.  [ReturnIfAbrupt](https://262.ecma-international.org/12.0/#sec-returnifabrupt)(nextValue).
    8.  Append undefined to errors.
    9.  Let nextPromise be ? [Call](https://262.ecma-international.org/12.0/#sec-call)(promiseResolve, constructor, « nextValue »).
    10.  Let stepsRejected be the algorithm steps defined in [`Promise.any` Reject Element Functions](https://262.ecma-international.org/12.0/#sec-promise.any-reject-element-functions).
    11.  Let lengthRejected be the number of non-optional parameters of the function definition in [`Promise.any` Reject Element Functions](https://262.ecma-international.org/12.0/#sec-promise.any-reject-element-functions).
    12.  Let onRejected be ! [CreateBuiltinFunction](https://262.ecma-international.org/12.0/#sec-createbuiltinfunction)(stepsRejected, lengthRejected, "", « \[\[AlreadyCalled\]\], \[\[Index\]\], \[\[Errors\]\], \[\[Capability\]\], \[\[RemainingElements\]\] »).
    13.  Set onRejected.\[\[AlreadyCalled\]\] to false.
    14.  Set onRejected.\[\[Index\]\] to index.
    15.  Set onRejected.\[\[Errors\]\] to errors.
    16.  Set onRejected.\[\[Capability\]\] to resultCapability.
    17.  Set onRejected.\[\[RemainingElements\]\] to remainingElementsCount.
    18.  Set remainingElementsCount.\[\[Value\]\] to remainingElementsCount.\[\[Value\]\] + 1.
    19.  Perform ? [Invoke](https://262.ecma-international.org/12.0/#sec-invoke)(nextPromise, "then", « resultCapability.\[\[Resolve\]\], onRejected »).
    20.  Set index to index + 1.

## 27.2.4.3.2 `Promise.any` Reject Element Functions

A `Promise.any` reject element function is an anonymous built-in function that is used to reject a specific `Promise.any` element. Each `Promise.any` reject element function has \[\[Index\]\], \[\[Errors\]\], \[\[Capability\]\], \[\[RemainingElements\]\], and \[\[AlreadyCalled\]\] internal slots.

When a `Promise.any` reject element function is called with argument x, the following steps are taken:

1.  Let F be the [active function object](https://262.ecma-international.org/12.0/#active-function-object).
2.  If F.\[\[AlreadyCalled\]\] is true, return undefined.
3.  Set F.\[\[AlreadyCalled\]\] to true.
4.  Let index be F.\[\[Index\]\].
5.  Let errors be F.\[\[Errors\]\].
6.  Let promiseCapability be F.\[\[Capability\]\].
7.  Let remainingElementsCount be F.\[\[RemainingElements\]\].
8.  Set errors\[index\] to x.
9.  Set remainingElementsCount.\[\[Value\]\] to remainingElementsCount.\[\[Value\]\] - 1.
10.  If remainingElementsCount.\[\[Value\]\] is 0, then
    1.  Let error be a newly created `AggregateError` object.
    2.  Perform ! [DefinePropertyOrThrow](https://262.ecma-international.org/12.0/#sec-definepropertyorthrow)(error, "errors", PropertyDescriptor { \[\[Configurable\]\]: true, \[\[Enumerable\]\]: false, \[\[Writable\]\]: true, \[\[Value\]\]: ! [CreateArrayFromList](https://262.ecma-international.org/12.0/#sec-createarrayfromlist)(errors) }).
    3.  Return ? [Call](https://262.ecma-international.org/12.0/#sec-call)(promiseCapability.\[\[Reject\]\], undefined, « error »).
11.  Return undefined.

The "length" property of a `Promise.any` reject element function is 1𝔽.

## 27.2.4.4 Promise.prototype

The initial value of `Promise.prototype` is the [Promise prototype object](https://262.ecma-international.org/12.0/#sec-properties-of-the-promise-prototype-object).

This property has the attributes { \[\[Writable\]\]: false, \[\[Enumerable\]\]: false, \[\[Configurable\]\]: false }.

## 27.2.4.5 Promise.race ( iterable )

The `race` function returns a new promise which is settled in the same way as the first passed promise to settle. It resolves all elements of the passed iterable to promises as it runs this algorithm.

1.  Let C be the this value.
2.  Let promiseCapability be ? [NewPromiseCapability](https://262.ecma-international.org/12.0/#sec-newpromisecapability)(C).
3.  Let promiseResolve be [GetPromiseResolve](https://262.ecma-international.org/12.0/#sec-getpromiseresolve)(C).
4.  [IfAbruptRejectPromise](https://262.ecma-international.org/12.0/#sec-ifabruptrejectpromise)(promiseResolve, promiseCapability).
5.  Let iteratorRecord be [GetIterator](https://262.ecma-international.org/12.0/#sec-getiterator)(iterable).
6.  [IfAbruptRejectPromise](https://262.ecma-international.org/12.0/#sec-ifabruptrejectpromise)(iteratorRecord, promiseCapability).
7.  Let result be [PerformPromiseRace](https://262.ecma-international.org/12.0/#sec-performpromiserace)(iteratorRecord, C, promiseCapability, promiseResolve).
8.  If result is an [abrupt completion](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type), then
    1.  If iteratorRecord.\[\[Done\]\] is false, set result to [IteratorClose](https://262.ecma-international.org/12.0/#sec-iteratorclose)(iteratorRecord, result).
    2.  [IfAbruptRejectPromise](https://262.ecma-international.org/12.0/#sec-ifabruptrejectpromise)(result, promiseCapability).
9.  Return [Completion](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type)(result).

Note 1

If the iterable argument is empty or if none of the promises in iterable ever settle then the pending promise returned by this method will never be settled.

Note 2

The `race` function expects its this value to be a [constructor](https://262.ecma-international.org/12.0/#constructor) function that supports the parameter conventions of the Promise [constructor](https://262.ecma-international.org/12.0/#constructor). It also expects that its this value provides a `resolve` method.

## 27.2.4.5.1 PerformPromiseRace ( iteratorRecord, constructor, resultCapability, promiseResolve )

The abstract operation PerformPromiseRace takes arguments iteratorRecord, constructor, resultCapability (a [PromiseCapability Record](https://262.ecma-international.org/12.0/#sec-promisecapability-records)), and promiseResolve. It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): [IsConstructor](https://262.ecma-international.org/12.0/#sec-isconstructor)(constructor) is true.
2.  [Assert](https://262.ecma-international.org/12.0/#assert): [IsCallable](https://262.ecma-international.org/12.0/#sec-iscallable)(promiseResolve) is true.
3.  Repeat,
    1.  Let next be [IteratorStep](https://262.ecma-international.org/12.0/#sec-iteratorstep)(iteratorRecord).
    2.  If next is an [abrupt completion](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type), set iteratorRecord.\[\[Done\]\] to true.
    3.  [ReturnIfAbrupt](https://262.ecma-international.org/12.0/#sec-returnifabrupt)(next).
    4.  If next is false, then
        1.  Set iteratorRecord.\[\[Done\]\] to true.
        2.  Return resultCapability.\[\[Promise\]\].
    5.  Let nextValue be [IteratorValue](https://262.ecma-international.org/12.0/#sec-iteratorvalue)(next).
    6.  If nextValue is an [abrupt completion](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type), set iteratorRecord.\[\[Done\]\] to true.
    7.  [ReturnIfAbrupt](https://262.ecma-international.org/12.0/#sec-returnifabrupt)(nextValue).
    8.  Let nextPromise be ? [Call](https://262.ecma-international.org/12.0/#sec-call)(promiseResolve, constructor, « nextValue »).
    9.  Perform ? [Invoke](https://262.ecma-international.org/12.0/#sec-invoke)(nextPromise, "then", « resultCapability.\[\[Resolve\]\], resultCapability.\[\[Reject\]\] »).

## 27.2.4.6 Promise.reject ( r )

The `reject` function returns a new promise rejected with the passed argument.

1.  Let C be the this value.
2.  Let promiseCapability be ? [NewPromiseCapability](https://262.ecma-international.org/12.0/#sec-newpromisecapability)(C).
3.  Perform ? [Call](https://262.ecma-international.org/12.0/#sec-call)(promiseCapability.\[\[Reject\]\], undefined, « r »).
4.  Return promiseCapability.\[\[Promise\]\].

Note

The `reject` function expects its this value to be a [constructor](https://262.ecma-international.org/12.0/#constructor) function that supports the parameter conventions of the Promise [constructor](https://262.ecma-international.org/12.0/#constructor).

## 27.2.4.7 Promise.resolve ( x )

The `resolve` function returns either a new promise resolved with the passed argument, or the argument itself if the argument is a promise produced by this [constructor](https://262.ecma-international.org/12.0/#constructor).

1.  Let C be the this value.
2.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(C) is not Object, throw a TypeError exception.
3.  Return ? [PromiseResolve](https://262.ecma-international.org/12.0/#sec-promise-resolve)(C, x).

Note

The `resolve` function expects its this value to be a [constructor](https://262.ecma-international.org/12.0/#constructor) function that supports the parameter conventions of the Promise [constructor](https://262.ecma-international.org/12.0/#constructor).

## 27.2.4.7.1 PromiseResolve ( C, x )

The abstract operation PromiseResolve takes arguments C (a [constructor](https://262.ecma-international.org/12.0/#constructor)) and x (an [ECMAScript language value](https://262.ecma-international.org/12.0/#sec-ecmascript-language-types)). It returns a new promise resolved with x. It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(C) is Object.
2.  If [IsPromise](https://262.ecma-international.org/12.0/#sec-ispromise)(x) is true, then
    1.  Let xConstructor be ? [Get](https://262.ecma-international.org/12.0/#sec-get-o-p)(x, "constructor").
    2.  If [SameValue](https://262.ecma-international.org/12.0/#sec-samevalue)(xConstructor, C) is true, return x.
3.  Let promiseCapability be ? [NewPromiseCapability](https://262.ecma-international.org/12.0/#sec-newpromisecapability)(C).
4.  Perform ? [Call](https://262.ecma-international.org/12.0/#sec-call)(promiseCapability.\[\[Resolve\]\], undefined, « x »).
5.  Return promiseCapability.\[\[Promise\]\].

## 27.2.4.8 get Promise \[ @@species \]

`Promise[@@species]` is an [accessor property](https://262.ecma-international.org/12.0/#sec-object-type) whose set accessor function is undefined. Its get accessor function performs the following steps:

1.  Return the this value.

The value of the "name" property of this function is "get \[Symbol.species\]".

Note

Promise prototype methods normally use their this value's [constructor](https://262.ecma-international.org/12.0/#constructor) to create a derived object. However, a subclass [constructor](https://262.ecma-international.org/12.0/#constructor) may over-ride that default behaviour by redefining its [@@species](https://262.ecma-international.org/12.0/#sec-well-known-symbols) property.

## 27.2.5 Properties of the Promise Prototype Object

The Promise prototype object:

-   is %Promise.prototype%.
-   has a \[\[Prototype\]\] internal slot whose value is [%Object.prototype%](https://262.ecma-international.org/12.0/#sec-properties-of-the-object-prototype-object).
-   is an [ordinary object](https://262.ecma-international.org/12.0/#ordinary-object).
-   does not have a \[\[PromiseState\]\] internal slot or any of the other internal slots of Promise instances.

## 27.2.5.1 Promise.prototype.catch ( onRejected )

When the `catch` method is called with argument onRejected, the following steps are taken:

1.  Let promise be the this value.
2.  Return ? [Invoke](https://262.ecma-international.org/12.0/#sec-invoke)(promise, "then", « undefined, onRejected »).

## 27.2.5.2 Promise.prototype.constructor

The initial value of `Promise.prototype.constructor` is [%Promise%](https://262.ecma-international.org/12.0/#sec-promise-constructor).

## 27.2.5.3 Promise.prototype.finally ( onFinally )

When the `finally` method is called with argument onFinally, the following steps are taken:

1.  Let promise be the this value.
2.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(promise) is not Object, throw a TypeError exception.
3.  Let C be ? [SpeciesConstructor](https://262.ecma-international.org/12.0/#sec-speciesconstructor)(promise, [%Promise%](https://262.ecma-international.org/12.0/#sec-promise-constructor)).
4.  [Assert](https://262.ecma-international.org/12.0/#assert): [IsConstructor](https://262.ecma-international.org/12.0/#sec-isconstructor)(C) is true.
5.  If [IsCallable](https://262.ecma-international.org/12.0/#sec-iscallable)(onFinally) is false, then
    1.  Let thenFinally be onFinally.
    2.  Let catchFinally be onFinally.
6.  Else,
    1.  Let stepsThenFinally be the algorithm steps defined in [Then Finally Functions](https://262.ecma-international.org/12.0/#sec-thenfinallyfunctions).
    2.  Let lengthThenFinally be the number of non-optional parameters of the function definition in [Then Finally Functions](https://262.ecma-international.org/12.0/#sec-thenfinallyfunctions).
    3.  Let thenFinally be ! [CreateBuiltinFunction](https://262.ecma-international.org/12.0/#sec-createbuiltinfunction)(stepsThenFinally, lengthThenFinally, "", « \[\[Constructor\]\], \[\[OnFinally\]\] »).
    4.  Set thenFinally.\[\[Constructor\]\] to C.
    5.  Set thenFinally.\[\[OnFinally\]\] to onFinally.
    6.  Let stepsCatchFinally be the algorithm steps defined in [Catch Finally Functions](https://262.ecma-international.org/12.0/#sec-catchfinallyfunctions).
    7.  Let lengthCatchFinally be the number of non-optional parameters of the function definition in [Catch Finally Functions](https://262.ecma-international.org/12.0/#sec-catchfinallyfunctions).
    8.  Let catchFinally be ! [CreateBuiltinFunction](https://262.ecma-international.org/12.0/#sec-createbuiltinfunction)(stepsCatchFinally, lengthCatchFinally, "", « \[\[Constructor\]\], \[\[OnFinally\]\] »).
    9.  Set catchFinally.\[\[Constructor\]\] to C.
    10.  Set catchFinally.\[\[OnFinally\]\] to onFinally.
7.  Return ? [Invoke](https://262.ecma-international.org/12.0/#sec-invoke)(promise, "then", « thenFinally, catchFinally »).

## 27.2.5.3.1 Then Finally Functions

A Then Finally function is an anonymous built-in function that has a \[\[Constructor\]\] and an \[\[OnFinally\]\] internal slot. The value of the \[\[Constructor\]\] internal slot is a `Promise`\-like [constructor](https://262.ecma-international.org/12.0/#constructor) [function object](https://262.ecma-international.org/12.0/#function-object), and the value of the \[\[OnFinally\]\] internal slot is a [function object](https://262.ecma-international.org/12.0/#function-object).

When a Then Finally function is called with argument value, the following steps are taken:

1.  Let F be the [active function object](https://262.ecma-international.org/12.0/#active-function-object).
2.  Let onFinally be F.\[\[OnFinally\]\].
3.  [Assert](https://262.ecma-international.org/12.0/#assert): [IsCallable](https://262.ecma-international.org/12.0/#sec-iscallable)(onFinally) is true.
4.  Let result be ? [Call](https://262.ecma-international.org/12.0/#sec-call)(onFinally, undefined).
5.  Let C be F.\[\[Constructor\]\].
6.  [Assert](https://262.ecma-international.org/12.0/#assert): [IsConstructor](https://262.ecma-international.org/12.0/#sec-isconstructor)(C) is true.
7.  Let promise be ? [PromiseResolve](https://262.ecma-international.org/12.0/#sec-promise-resolve)(C, result).
8.  Let valueThunk be equivalent to a function that returns value.
9.  Return ? [Invoke](https://262.ecma-international.org/12.0/#sec-invoke)(promise, "then", « valueThunk »).

The "length" property of a Then Finally function is 1𝔽.

## 27.2.5.3.2 Catch Finally Functions

A Catch Finally function is an anonymous built-in function that has a \[\[Constructor\]\] and an \[\[OnFinally\]\] internal slot. The value of the \[\[Constructor\]\] internal slot is a `Promise`\-like [constructor](https://262.ecma-international.org/12.0/#constructor) [function object](https://262.ecma-international.org/12.0/#function-object), and the value of the \[\[OnFinally\]\] internal slot is a [function object](https://262.ecma-international.org/12.0/#function-object).

When a Catch Finally function is called with argument reason, the following steps are taken:

1.  Let F be the [active function object](https://262.ecma-international.org/12.0/#active-function-object).
2.  Let onFinally be F.\[\[OnFinally\]\].
3.  [Assert](https://262.ecma-international.org/12.0/#assert): [IsCallable](https://262.ecma-international.org/12.0/#sec-iscallable)(onFinally) is true.
4.  Let result be ? [Call](https://262.ecma-international.org/12.0/#sec-call)(onFinally, undefined).
5.  Let C be F.\[\[Constructor\]\].
6.  [Assert](https://262.ecma-international.org/12.0/#assert): [IsConstructor](https://262.ecma-international.org/12.0/#sec-isconstructor)(C) is true.
7.  Let promise be ? [PromiseResolve](https://262.ecma-international.org/12.0/#sec-promise-resolve)(C, result).
8.  Let thrower be equivalent to a function that throws reason.
9.  Return ? [Invoke](https://262.ecma-international.org/12.0/#sec-invoke)(promise, "then", « thrower »).

The "length" property of a Catch Finally function is 1𝔽.

## 27.2.5.4 Promise.prototype.then ( onFulfilled, onRejected )

When the `then` method is called with arguments onFulfilled and onRejected, the following steps are taken:

1.  Let promise be the this value.
2.  If [IsPromise](https://262.ecma-international.org/12.0/#sec-ispromise)(promise) is false, throw a TypeError exception.
3.  Let C be ? [SpeciesConstructor](https://262.ecma-international.org/12.0/#sec-speciesconstructor)(promise, [%Promise%](https://262.ecma-international.org/12.0/#sec-promise-constructor)).
4.  Let resultCapability be ? [NewPromiseCapability](https://262.ecma-international.org/12.0/#sec-newpromisecapability)(C).
5.  Return [PerformPromiseThen](https://262.ecma-international.org/12.0/#sec-performpromisethen)(promise, onFulfilled, onRejected, resultCapability).

## 27.2.5.4.1 PerformPromiseThen ( promise, onFulfilled, onRejected \[ , resultCapability \] )

The abstract operation PerformPromiseThen takes arguments promise, onFulfilled, and onRejected and optional argument resultCapability (a [PromiseCapability Record](https://262.ecma-international.org/12.0/#sec-promisecapability-records)). It performs the “then” operation on promise using onFulfilled and onRejected as its settlement actions. If resultCapability is passed, the result is stored by updating resultCapability's promise. If it is not passed, then PerformPromiseThen is being called by a specification-internal operation where the result does not matter. It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): [IsPromise](https://262.ecma-international.org/12.0/#sec-ispromise)(promise) is true.
2.  If resultCapability is not present, then
    1.  Set resultCapability to undefined.
3.  If [IsCallable](https://262.ecma-international.org/12.0/#sec-iscallable)(onFulfilled) is false, then
    1.  Let onFulfilledJobCallback be empty.
4.  Else,
    1.  Let onFulfilledJobCallback be [HostMakeJobCallback](https://262.ecma-international.org/12.0/#sec-hostmakejobcallback)(onFulfilled).
5.  If [IsCallable](https://262.ecma-international.org/12.0/#sec-iscallable)(onRejected) is false, then
    1.  Let onRejectedJobCallback be empty.
6.  Else,
    1.  Let onRejectedJobCallback be [HostMakeJobCallback](https://262.ecma-international.org/12.0/#sec-hostmakejobcallback)(onRejected).
7.  Let fulfillReaction be the PromiseReaction { \[\[Capability\]\]: resultCapability, \[\[Type\]\]: Fulfill, \[\[Handler\]\]: onFulfilledJobCallback }.
8.  Let rejectReaction be the PromiseReaction { \[\[Capability\]\]: resultCapability, \[\[Type\]\]: Reject, \[\[Handler\]\]: onRejectedJobCallback }.
9.  If promise.\[\[PromiseState\]\] is pending, then
    1.  Append fulfillReaction as the last element of the [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) that is promise.\[\[PromiseFulfillReactions\]\].
    2.  Append rejectReaction as the last element of the [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) that is promise.\[\[PromiseRejectReactions\]\].
10.  Else if promise.\[\[PromiseState\]\] is fulfilled, then
    1.  Let value be promise.\[\[PromiseResult\]\].
    2.  Let fulfillJob be [NewPromiseReactionJob](https://262.ecma-international.org/12.0/#sec-newpromisereactionjob)(fulfillReaction, value).
    3.  Perform [HostEnqueuePromiseJob](https://262.ecma-international.org/12.0/#sec-hostenqueuepromisejob)(fulfillJob.\[\[Job\]\], fulfillJob.\[\[Realm\]\]).
11.  Else,
    1.  [Assert](https://262.ecma-international.org/12.0/#assert): The value of promise.\[\[PromiseState\]\] is rejected.
    2.  Let reason be promise.\[\[PromiseResult\]\].
    3.  If promise.\[\[PromiseIsHandled\]\] is false, perform [HostPromiseRejectionTracker](https://262.ecma-international.org/12.0/#sec-host-promise-rejection-tracker)(promise, "handle").
    4.  Let rejectJob be [NewPromiseReactionJob](https://262.ecma-international.org/12.0/#sec-newpromisereactionjob)(rejectReaction, reason).
    5.  Perform [HostEnqueuePromiseJob](https://262.ecma-international.org/12.0/#sec-hostenqueuepromisejob)(rejectJob.\[\[Job\]\], rejectJob.\[\[Realm\]\]).
12.  Set promise.\[\[PromiseIsHandled\]\] to true.
13.  If resultCapability is undefined, then
    1.  Return undefined.
14.  Else,
    1.  Return resultCapability.\[\[Promise\]\].

## 27.2.5.5 Promise.prototype \[ @@toStringTag \]

The initial value of the [@@toStringTag](https://262.ecma-international.org/12.0/#sec-well-known-symbols) property is the String value "Promise".

This property has the attributes { \[\[Writable\]\]: false, \[\[Enumerable\]\]: false, \[\[Configurable\]\]: true }.

## 27.2.6 Properties of Promise Instances

Promise instances are ordinary objects that inherit properties from the [Promise prototype object](https://262.ecma-international.org/12.0/#sec-properties-of-the-promise-prototype-object) (the intrinsic, [%Promise.prototype%](https://262.ecma-international.org/12.0/#sec-properties-of-the-promise-prototype-object)). Promise instances are initially created with the internal slots described in [Table 72](https://262.ecma-international.org/12.0/#table-internal-slots-of-promise-instances).

Table 72: Internal Slots of Promise Instances

| Internal Slot | Description |
| --- | --- |
| \[\[PromiseState\]\] | One of pending, fulfilled, or rejected. Governs how a promise will react to incoming calls to its `then` method. |
| \[\[PromiseResult\]\] | The value with which the promise has been fulfilled or rejected, if any. Only meaningful if \[\[PromiseState\]\] is not pending. |
| \[\[PromiseFulfillReactions\]\] | A [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) of PromiseReaction records to be processed when/if the promise transitions from the pending state to the fulfilled state. |
| \[\[PromiseRejectReactions\]\] | A [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) of PromiseReaction records to be processed when/if the promise transitions from the pending state to the rejected state. |
| \[\[PromiseIsHandled\]\] | A boolean indicating whether the promise has ever had a fulfillment or rejection handler; used in unhandled rejection tracking. |

## 27.3 GeneratorFunction Objects

GeneratorFunction objects are functions that are usually created by evaluating [GeneratorDeclaration](https://262.ecma-international.org/12.0/#prod-GeneratorDeclaration)s, [GeneratorExpression](https://262.ecma-international.org/12.0/#prod-GeneratorExpression)s, and [GeneratorMethod](https://262.ecma-international.org/12.0/#prod-GeneratorMethod)s. They may also be created by calling the [%GeneratorFunction%](https://262.ecma-international.org/12.0/#sec-generatorfunction-constructor) intrinsic.

Figure 5 (Informative): Generator Objects Relationships

![A staggering variety of boxes and arrows.](https://262.ecma-international.org/12.0/img/figure-5.png)

## 27.3.1 The GeneratorFunction Constructor

The GeneratorFunction [constructor](https://262.ecma-international.org/12.0/#constructor):

-   is %GeneratorFunction%.
-   is a subclass of `Function`.
-   creates and initializes a new GeneratorFunction object when called as a function rather than as a [constructor](https://262.ecma-international.org/12.0/#constructor). Thus the function call `GeneratorFunction (…)` is equivalent to the object creation expression `new GeneratorFunction (…)` with the same arguments.
-   is designed to be subclassable. It may be used as the value of an `extends` clause of a class definition. Subclass constructors that intend to inherit the specified GeneratorFunction behaviour must include a `super` call to the GeneratorFunction [constructor](https://262.ecma-international.org/12.0/#constructor) to create and initialize subclass instances with the internal slots necessary for built-in GeneratorFunction behaviour. All ECMAScript syntactic forms for defining generator function objects create direct instances of GeneratorFunction. There is no syntactic means to create instances of GeneratorFunction subclasses.

## 27.3.1.1 GeneratorFunction ( p1, p2, … , pn, body )

The last argument specifies the body (executable code) of a generator function; any preceding arguments specify formal parameters.

When the `GeneratorFunction` function is called with some arguments p1, p2, … , pn, body (where n might be 0, that is, there are no “p” arguments, and where body might also not be provided), the following steps are taken:

1.  Let C be the [active function object](https://262.ecma-international.org/12.0/#active-function-object).
2.  Let args be the argumentsList that was passed to this function by \[\[Call\]\] or \[\[Construct\]\].
3.  Return ? [CreateDynamicFunction](https://262.ecma-international.org/12.0/#sec-createdynamicfunction)(C, NewTarget, generator, args).

Note

See NOTE for [20.2.1.1](https://262.ecma-international.org/12.0/#sec-function-p1-p2-pn-body).

## 27.3.2 Properties of the GeneratorFunction Constructor

The GeneratorFunction [constructor](https://262.ecma-international.org/12.0/#constructor):

-   is a standard built-in [function object](https://262.ecma-international.org/12.0/#function-object) that inherits from the Function [constructor](https://262.ecma-international.org/12.0/#constructor).
-   has a \[\[Prototype\]\] internal slot whose value is [%Function%](https://262.ecma-international.org/12.0/#sec-function-constructor).
-   has a "name" property whose value is "GeneratorFunction".
-   has the following properties:

## 27.3.2.1 GeneratorFunction.length

This is a [data property](https://262.ecma-international.org/12.0/#sec-object-type) with a value of 1. This property has the attributes { \[\[Writable\]\]: false, \[\[Enumerable\]\]: false, \[\[Configurable\]\]: true }.

## 27.3.2.2 GeneratorFunction.prototype

The initial value of `GeneratorFunction.prototype` is the [GeneratorFunction prototype object](https://262.ecma-international.org/12.0/#sec-properties-of-the-generatorfunction-prototype-object).

This property has the attributes { \[\[Writable\]\]: false, \[\[Enumerable\]\]: false, \[\[Configurable\]\]: false }.

## 27.3.3 Properties of the GeneratorFunction Prototype Object

The GeneratorFunction prototype object:

-   is %GeneratorFunction.prototype% (see [Figure 5](https://262.ecma-international.org/12.0/#figure-2)).
-   is an [ordinary object](https://262.ecma-international.org/12.0/#ordinary-object).
-   is not a [function object](https://262.ecma-international.org/12.0/#function-object) and does not have an \[\[ECMAScriptCode\]\] internal slot or any other of the internal slots listed in [Table 29](https://262.ecma-international.org/12.0/#table-internal-slots-of-ecmascript-function-objects) or [Table 73](https://262.ecma-international.org/12.0/#table-internal-slots-of-generator-instances).
-   has a \[\[Prototype\]\] internal slot whose value is [%Function.prototype%](https://262.ecma-international.org/12.0/#sec-properties-of-the-function-prototype-object).

## 27.3.3.1 GeneratorFunction.prototype.constructor

The initial value of `GeneratorFunction.prototype.constructor` is [%GeneratorFunction%](https://262.ecma-international.org/12.0/#sec-generatorfunction-constructor).

This property has the attributes { \[\[Writable\]\]: false, \[\[Enumerable\]\]: false, \[\[Configurable\]\]: true }.

## 27.3.3.2 GeneratorFunction.prototype.prototype

The initial value of `GeneratorFunction.prototype.prototype` is the [Generator prototype object](https://262.ecma-international.org/12.0/#sec-properties-of-generator-prototype).

This property has the attributes { \[\[Writable\]\]: false, \[\[Enumerable\]\]: false, \[\[Configurable\]\]: true }.

## 27.3.3.3 GeneratorFunction.prototype \[ @@toStringTag \]

The initial value of the [@@toStringTag](https://262.ecma-international.org/12.0/#sec-well-known-symbols) property is the String value "GeneratorFunction".

This property has the attributes { \[\[Writable\]\]: false, \[\[Enumerable\]\]: false, \[\[Configurable\]\]: true }.

## 27.3.4 GeneratorFunction Instances

Every GeneratorFunction instance is an ECMAScript [function object](https://262.ecma-international.org/12.0/#function-object) and has the internal slots listed in [Table 29](https://262.ecma-international.org/12.0/#table-internal-slots-of-ecmascript-function-objects). The value of the \[\[IsClassConstructor\]\] internal slot for all such instances is false.

Each GeneratorFunction instance has the following own properties:

## 27.3.4.1 length

The specification for the "length" property of Function instances given in [20.2.4.1](https://262.ecma-international.org/12.0/#sec-function-instances-length) also applies to GeneratorFunction instances.

## 27.3.4.2 name

The specification for the "name" property of Function instances given in [20.2.4.2](https://262.ecma-international.org/12.0/#sec-function-instances-name) also applies to GeneratorFunction instances.

## 27.3.4.3 prototype

Whenever a GeneratorFunction instance is created another [ordinary object](https://262.ecma-international.org/12.0/#ordinary-object) is also created and is the initial value of the generator function's "prototype" property. The value of the prototype property is used to initialize the \[\[Prototype\]\] internal slot of a newly created Generator object when the generator [function object](https://262.ecma-international.org/12.0/#function-object) is invoked using \[\[Call\]\].

This property has the attributes { \[\[Writable\]\]: true, \[\[Enumerable\]\]: false, \[\[Configurable\]\]: false }.

Note

Unlike Function instances, the object that is the value of the a GeneratorFunction's "prototype" property does not have a "constructor" property whose value is the GeneratorFunction instance.

## 27.4 AsyncGeneratorFunction Objects

AsyncGeneratorFunction objects are functions that are usually created by evaluating [AsyncGeneratorDeclaration](https://262.ecma-international.org/12.0/#prod-AsyncGeneratorDeclaration), [AsyncGeneratorExpression](https://262.ecma-international.org/12.0/#prod-AsyncGeneratorExpression), and [AsyncGeneratorMethod](https://262.ecma-international.org/12.0/#prod-AsyncGeneratorMethod) syntactic productions. They may also be created by calling the [%AsyncGeneratorFunction%](https://262.ecma-international.org/12.0/#sec-asyncgeneratorfunction-constructor) intrinsic.

## 27.4.1 The AsyncGeneratorFunction Constructor

The AsyncGeneratorFunction [constructor](https://262.ecma-international.org/12.0/#constructor):

-   is %AsyncGeneratorFunction%.
-   is a subclass of `Function`.
-   creates and initializes a new AsyncGeneratorFunction object when called as a function rather than as a [constructor](https://262.ecma-international.org/12.0/#constructor). Thus the function call `AsyncGeneratorFunction (...)` is equivalent to the object creation expression `new AsyncGeneratorFunction (...)` with the same arguments.
-   is designed to be subclassable. It may be used as the value of an `extends` clause of a class definition. Subclass constructors that intend to inherit the specified AsyncGeneratorFunction behaviour must include a `super` call to the AsyncGeneratorFunction [constructor](https://262.ecma-international.org/12.0/#constructor) to create and initialize subclass instances with the internal slots necessary for built-in AsyncGeneratorFunction behaviour. All ECMAScript syntactic forms for defining async generator function objects create direct instances of AsyncGeneratorFunction. There is no syntactic means to create instances of AsyncGeneratorFunction subclasses.

## 27.4.1.1 AsyncGeneratorFunction ( p1, p2, … , pn, body )

The last argument specifies the body (executable code) of an async generator function; any preceding arguments specify formal parameters.

When the `AsyncGeneratorFunction` function is called with some arguments p1, p2, … , pn, body (where n might be 0, that is, there are no "p" arguments, and where body might also not be provided), the following steps are taken:

1.  Let C be the [active function object](https://262.ecma-international.org/12.0/#active-function-object).
2.  Let args be the argumentsList that was passed to this function by \[\[Call\]\] or \[\[Construct\]\].
3.  Return ? [CreateDynamicFunction](https://262.ecma-international.org/12.0/#sec-createdynamicfunction)(C, NewTarget, asyncGenerator, args).

Note

See NOTE for [20.2.1.1](https://262.ecma-international.org/12.0/#sec-function-p1-p2-pn-body).

## 27.4.2 Properties of the AsyncGeneratorFunction Constructor

The AsyncGeneratorFunction [constructor](https://262.ecma-international.org/12.0/#constructor):

-   is a standard built-in [function object](https://262.ecma-international.org/12.0/#function-object) that inherits from the Function [constructor](https://262.ecma-international.org/12.0/#constructor).
-   has a \[\[Prototype\]\] internal slot whose value is [%Function%](https://262.ecma-international.org/12.0/#sec-function-constructor).
-   has a "name" property whose value is "AsyncGeneratorFunction".
-   has the following properties:

## 27.4.2.1 AsyncGeneratorFunction.length

This is a [data property](https://262.ecma-international.org/12.0/#sec-object-type) with a value of 1. This property has the attributes { \[\[Writable\]\]: false, \[\[Enumerable\]\]: false, \[\[Configurable\]\]: true }.

## 27.4.2.2 AsyncGeneratorFunction.prototype

The initial value of `AsyncGeneratorFunction.prototype` is the [AsyncGeneratorFunction prototype object](https://262.ecma-international.org/12.0/#sec-properties-of-asyncgeneratorfunction-prototype).

This property has the attributes { \[\[Writable\]\]: false, \[\[Enumerable\]\]: false, \[\[Configurable\]\]: false }.

## 27.4.3 Properties of the AsyncGeneratorFunction Prototype Object

The AsyncGeneratorFunction prototype object:

-   is %AsyncGeneratorFunction.prototype%.
-   is an [ordinary object](https://262.ecma-international.org/12.0/#ordinary-object).
-   is not a [function object](https://262.ecma-international.org/12.0/#function-object) and does not have an \[\[ECMAScriptCode\]\] internal slot or any other of the internal slots listed in [Table 29](https://262.ecma-international.org/12.0/#table-internal-slots-of-ecmascript-function-objects) or [Table 74](https://262.ecma-international.org/12.0/#table-internal-slots-of-asyncgenerator-instances).
-   has a \[\[Prototype\]\] internal slot whose value is [%Function.prototype%](https://262.ecma-international.org/12.0/#sec-properties-of-the-function-prototype-object).

## 27.4.3.1 AsyncGeneratorFunction.prototype.constructor

The initial value of `AsyncGeneratorFunction.prototype.constructor` is [%AsyncGeneratorFunction%](https://262.ecma-international.org/12.0/#sec-asyncgeneratorfunction-constructor).

This property has the attributes { \[\[Writable\]\]: false, \[\[Enumerable\]\]: false, \[\[Configurable\]\]: true }.

## 27.4.3.2 AsyncGeneratorFunction.prototype.prototype

The initial value of `AsyncGeneratorFunction.prototype.prototype` is the [AsyncGenerator prototype object](https://262.ecma-international.org/12.0/#sec-properties-of-asyncgenerator-prototype).

This property has the attributes { \[\[Writable\]\]: false, \[\[Enumerable\]\]: false, \[\[Configurable\]\]: true }.

## 27.4.3.3 AsyncGeneratorFunction.prototype \[ @@toStringTag \]

The initial value of the [@@toStringTag](https://262.ecma-international.org/12.0/#sec-well-known-symbols) property is the String value "AsyncGeneratorFunction".

This property has the attributes { \[\[Writable\]\]: false, \[\[Enumerable\]\]: false, \[\[Configurable\]\]: true }.

## 27.4.4 AsyncGeneratorFunction Instances

Every AsyncGeneratorFunction instance is an ECMAScript [function object](https://262.ecma-international.org/12.0/#function-object) and has the internal slots listed in [Table 29](https://262.ecma-international.org/12.0/#table-internal-slots-of-ecmascript-function-objects). The value of the \[\[IsClassConstructor\]\] internal slot for all such instances is false.

Each AsyncGeneratorFunction instance has the following own properties:

## 27.4.4.1 length

The value of the "length" property is an [integral Number](https://262.ecma-international.org/12.0/#integral-number) that indicates the typical number of arguments expected by the AsyncGeneratorFunction. However, the language permits the function to be invoked with some other number of arguments. The behaviour of an AsyncGeneratorFunction when invoked on a number of arguments other than the number specified by its "length" property depends on the function.

This property has the attributes { \[\[Writable\]\]: false, \[\[Enumerable\]\]: false, \[\[Configurable\]\]: true }.

## 27.4.4.2 name

The specification for the "name" property of Function instances given in [20.2.4.2](https://262.ecma-international.org/12.0/#sec-function-instances-name) also applies to AsyncGeneratorFunction instances.

## 27.4.4.3 prototype

Whenever an AsyncGeneratorFunction instance is created another [ordinary object](https://262.ecma-international.org/12.0/#ordinary-object) is also created and is the initial value of the async generator function's "prototype" property. The value of the prototype property is used to initialize the \[\[Prototype\]\] internal slot of a newly created AsyncGenerator object when the generator [function object](https://262.ecma-international.org/12.0/#function-object) is invoked using \[\[Call\]\].

This property has the attributes { \[\[Writable\]\]: true, \[\[Enumerable\]\]: false, \[\[Configurable\]\]: false }.

Note

Unlike function instances, the object that is the value of the an AsyncGeneratorFunction's "prototype" property does not have a "constructor" property whose value is the AsyncGeneratorFunction instance.

## 27.5 Generator Objects

A Generator object is an instance of a generator function and conforms to both the _Iterator_ and _Iterable_ interfaces.

Generator instances directly inherit properties from the object that is the initial value of the "prototype" property of the Generator function that created the instance. Generator instances indirectly inherit properties from the Generator Prototype intrinsic, [%GeneratorFunction.prototype.prototype%](https://262.ecma-international.org/12.0/#sec-properties-of-generator-prototype).

## 27.5.1 Properties of the Generator Prototype Object

The Generator prototype object:

-   is %GeneratorFunction.prototype.prototype%.
-   is an [ordinary object](https://262.ecma-international.org/12.0/#ordinary-object).
-   is not a Generator instance and does not have a \[\[GeneratorState\]\] internal slot.
-   has a \[\[Prototype\]\] internal slot whose value is [%IteratorPrototype%](https://262.ecma-international.org/12.0/#sec-%iteratorprototype%-object).
-   has properties that are indirectly inherited by all Generator instances.

## 27.5.1.1 Generator.prototype.constructor

The initial value of `Generator.prototype.constructor` is [%GeneratorFunction.prototype%](https://262.ecma-international.org/12.0/#sec-properties-of-the-generatorfunction-prototype-object).

This property has the attributes { \[\[Writable\]\]: false, \[\[Enumerable\]\]: false, \[\[Configurable\]\]: true }.

## 27.5.1.2 Generator.prototype.next ( value )

The `next` method performs the following steps:

1.  Let g be the this value.
2.  Return ? [GeneratorResume](https://262.ecma-international.org/12.0/#sec-generatorresume)(g, value, empty).

## 27.5.1.3 Generator.prototype.return ( value )

The `return` method performs the following steps:

1.  Let g be the this value.
2.  Let C be [Completion](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type) { \[\[Type\]\]: return, \[\[Value\]\]: value, \[\[Target\]\]: empty }.
3.  Return ? [GeneratorResumeAbrupt](https://262.ecma-international.org/12.0/#sec-generatorresumeabrupt)(g, C, empty).

## 27.5.1.4 Generator.prototype.throw ( exception )

The `throw` method performs the following steps:

1.  Let g be the this value.
2.  Let C be [ThrowCompletion](https://262.ecma-international.org/12.0/#sec-throwcompletion)(exception).
3.  Return ? [GeneratorResumeAbrupt](https://262.ecma-international.org/12.0/#sec-generatorresumeabrupt)(g, C, empty).

## 27.5.1.5 Generator.prototype \[ @@toStringTag \]

The initial value of the [@@toStringTag](https://262.ecma-international.org/12.0/#sec-well-known-symbols) property is the String value "Generator".

This property has the attributes { \[\[Writable\]\]: false, \[\[Enumerable\]\]: false, \[\[Configurable\]\]: true }.

## 27.5.2 Properties of Generator Instances

Generator instances are initially created with the internal slots described in [Table 73](https://262.ecma-international.org/12.0/#table-internal-slots-of-generator-instances).

Table 73: Internal Slots of Generator Instances

| Internal Slot | Description |
| --- | --- |
| \[\[GeneratorState\]\] | The current execution state of the generator. The possible values are: undefined, suspendedStart, suspendedYield, executing, and completed. |
| \[\[GeneratorContext\]\] | The [execution context](https://262.ecma-international.org/12.0/#sec-execution-contexts) that is used when executing the code of this generator. |
| \[\[GeneratorBrand\]\] | A brand used to distinguish different kinds of generators. The \[\[GeneratorBrand\]\] of generators declared by ECMAScript source text is always empty. |

## 27.5.3 Generator Abstract Operations

## 27.5.3.1 GeneratorStart ( generator, generatorBody )

The abstract operation GeneratorStart takes arguments generator and generatorBody (a [Parse Node](https://262.ecma-international.org/12.0/#sec-syntactic-grammar) or an [Abstract Closure](https://262.ecma-international.org/12.0/#sec-abstract-closure) with no parameters). It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): The value of generator.\[\[GeneratorState\]\] is undefined.
2.  Let genContext be the [running execution context](https://262.ecma-international.org/12.0/#running-execution-context).
3.  Set the Generator component of genContext to generator.
4.  Set the code evaluation state of genContext such that when evaluation is resumed for that [execution context](https://262.ecma-international.org/12.0/#sec-execution-contexts) the following steps will be performed:
    1.  If generatorBody is a [Parse Node](https://262.ecma-international.org/12.0/#sec-syntactic-grammar), then
        1.  Let result be the result of evaluating generatorBody.
    2.  Else,
        1.  [Assert](https://262.ecma-international.org/12.0/#assert): generatorBody is an [Abstract Closure](https://262.ecma-international.org/12.0/#sec-abstract-closure) with no parameters.
        2.  Let result be generatorBody().
    3.  [Assert](https://262.ecma-international.org/12.0/#assert): If we return here, the generator either threw an exception or performed either an implicit or explicit return.
    4.  Remove genContext from the [execution context stack](https://262.ecma-international.org/12.0/#execution-context-stack) and restore the [execution context](https://262.ecma-international.org/12.0/#sec-execution-contexts) that is at the top of the [execution context stack](https://262.ecma-international.org/12.0/#execution-context-stack) as the [running execution context](https://262.ecma-international.org/12.0/#running-execution-context).
    5.  Set generator.\[\[GeneratorState\]\] to completed.
    6.  Once a generator enters the completed state it never leaves it and its associated [execution context](https://262.ecma-international.org/12.0/#sec-execution-contexts) is never resumed. Any execution state associated with generator can be discarded at this point.
    7.  If result.\[\[Type\]\] is normal, let resultValue be undefined.
    8.  Else if result.\[\[Type\]\] is return, let resultValue be result.\[\[Value\]\].
    9.  Else,
        1.  [Assert](https://262.ecma-international.org/12.0/#assert): result.\[\[Type\]\] is throw.
        2.  Return [Completion](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type)(result).
    10.  Return [CreateIterResultObject](https://262.ecma-international.org/12.0/#sec-createiterresultobject)(resultValue, true).
5.  Set generator.\[\[GeneratorContext\]\] to genContext.
6.  Set generator.\[\[GeneratorState\]\] to suspendedStart.
7.  Return [NormalCompletion](https://262.ecma-international.org/12.0/#sec-normalcompletion)(undefined).

## 27.5.3.2 GeneratorValidate ( generator, generatorBrand )

The abstract operation GeneratorValidate takes arguments generator and generatorBrand. It performs the following steps when called:

1.  Perform ? [RequireInternalSlot](https://262.ecma-international.org/12.0/#sec-requireinternalslot)(generator, \[\[GeneratorState\]\]).
2.  Perform ? [RequireInternalSlot](https://262.ecma-international.org/12.0/#sec-requireinternalslot)(generator, \[\[GeneratorBrand\]\]).
3.  If generator.\[\[GeneratorBrand\]\] is not the same value as generatorBrand, throw a TypeError exception.
4.  [Assert](https://262.ecma-international.org/12.0/#assert): generator also has a \[\[GeneratorContext\]\] internal slot.
5.  Let state be generator.\[\[GeneratorState\]\].
6.  If state is executing, throw a TypeError exception.
7.  Return state.

## 27.5.3.3 GeneratorResume ( generator, value, generatorBrand )

The abstract operation GeneratorResume takes arguments generator, value, and generatorBrand. It performs the following steps when called:

1.  Let state be ? [GeneratorValidate](https://262.ecma-international.org/12.0/#sec-generatorvalidate)(generator, generatorBrand).
2.  If state is completed, return [CreateIterResultObject](https://262.ecma-international.org/12.0/#sec-createiterresultobject)(undefined, true).
3.  [Assert](https://262.ecma-international.org/12.0/#assert): state is either suspendedStart or suspendedYield.
4.  Let genContext be generator.\[\[GeneratorContext\]\].
5.  Let methodContext be the [running execution context](https://262.ecma-international.org/12.0/#running-execution-context).
6.  [Suspend](https://tc39.es/ecma262/#sec-suspend) methodContext.
7.  Set generator.\[\[GeneratorState\]\] to executing.
8.  Push genContext onto the [execution context stack](https://262.ecma-international.org/12.0/#execution-context-stack); genContext is now the [running execution context](https://262.ecma-international.org/12.0/#running-execution-context).
9.  Resume the suspended evaluation of genContext using [NormalCompletion](https://262.ecma-international.org/12.0/#sec-normalcompletion)(value) as the result of the operation that suspended it. Let result be the value returned by the resumed computation.
10.  [Assert](https://262.ecma-international.org/12.0/#assert): When we return here, genContext has already been removed from the [execution context stack](https://262.ecma-international.org/12.0/#execution-context-stack) and methodContext is the currently [running execution context](https://262.ecma-international.org/12.0/#running-execution-context).
11.  Return [Completion](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type)(result).

## 27.5.3.4 GeneratorResumeAbrupt ( generator, abruptCompletion, generatorBrand )

The abstract operation GeneratorResumeAbrupt takes arguments generator, abruptCompletion (a [Completion Record](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type) whose \[\[Type\]\] is return or throw), and generatorBrand. It performs the following steps when called:

1.  Let state be ? [GeneratorValidate](https://262.ecma-international.org/12.0/#sec-generatorvalidate)(generator, generatorBrand).
2.  If state is suspendedStart, then
    1.  Set generator.\[\[GeneratorState\]\] to completed.
    2.  Once a generator enters the completed state it never leaves it and its associated [execution context](https://262.ecma-international.org/12.0/#sec-execution-contexts) is never resumed. Any execution state associated with generator can be discarded at this point.
    3.  Set state to completed.
3.  If state is completed, then
    1.  If abruptCompletion.\[\[Type\]\] is return, then
        1.  Return [CreateIterResultObject](https://262.ecma-international.org/12.0/#sec-createiterresultobject)(abruptCompletion.\[\[Value\]\], true).
    2.  Return [Completion](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type)(abruptCompletion).
4.  [Assert](https://262.ecma-international.org/12.0/#assert): state is suspendedYield.
5.  Let genContext be generator.\[\[GeneratorContext\]\].
6.  Let methodContext be the [running execution context](https://262.ecma-international.org/12.0/#running-execution-context).
7.  [Suspend](https://tc39.es/ecma262/#sec-suspend) methodContext.
8.  Set generator.\[\[GeneratorState\]\] to executing.
9.  Push genContext onto the [execution context stack](https://262.ecma-international.org/12.0/#execution-context-stack); genContext is now the [running execution context](https://262.ecma-international.org/12.0/#running-execution-context).
10.  Resume the suspended evaluation of genContext using abruptCompletion as the result of the operation that suspended it. Let result be the completion record returned by the resumed computation.
11.  [Assert](https://262.ecma-international.org/12.0/#assert): When we return here, genContext has already been removed from the [execution context stack](https://262.ecma-international.org/12.0/#execution-context-stack) and methodContext is the currently [running execution context](https://262.ecma-international.org/12.0/#running-execution-context).
12.  Return [Completion](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type)(result).

## 27.5.3.5 GetGeneratorKind ( )

The abstract operation GetGeneratorKind takes no arguments. It performs the following steps when called:

1.  Let genContext be the [running execution context](https://262.ecma-international.org/12.0/#running-execution-context).
2.  If genContext does not have a Generator component, return non-generator.
3.  Let generator be the Generator component of genContext.
4.  If generator has an \[\[AsyncGeneratorState\]\] internal slot, return async.
5.  Else, return sync.

## 27.5.3.6 GeneratorYield ( iterNextObj )

The abstract operation GeneratorYield takes argument iterNextObj. It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): iterNextObj is an Object that implements the _IteratorResult_ interface.
2.  Let genContext be the [running execution context](https://262.ecma-international.org/12.0/#running-execution-context).
3.  [Assert](https://262.ecma-international.org/12.0/#assert): genContext is the [execution context](https://262.ecma-international.org/12.0/#sec-execution-contexts) of a generator.
4.  Let generator be the value of the Generator component of genContext.
5.  [Assert](https://262.ecma-international.org/12.0/#assert): [GetGeneratorKind](https://262.ecma-international.org/12.0/#sec-getgeneratorkind)() is sync.
6.  Set generator.\[\[GeneratorState\]\] to suspendedYield.
7.  Remove genContext from the [execution context stack](https://262.ecma-international.org/12.0/#execution-context-stack) and restore the [execution context](https://262.ecma-international.org/12.0/#sec-execution-contexts) that is at the top of the [execution context stack](https://262.ecma-international.org/12.0/#execution-context-stack) as the [running execution context](https://262.ecma-international.org/12.0/#running-execution-context).
8.  Set the code evaluation state of genContext such that when evaluation is resumed with a [Completion](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type) resumptionValue the following steps will be performed:
    1.  Return resumptionValue.
    2.  NOTE: This returns to the evaluation of the [YieldExpression](https://262.ecma-international.org/12.0/#prod-YieldExpression) that originally called this abstract operation.
9.  Return [NormalCompletion](https://262.ecma-international.org/12.0/#sec-normalcompletion)(iterNextObj).
10.  NOTE: This returns to the evaluation of the operation that had most previously resumed evaluation of genContext.

## 27.5.3.7 Yield ( value )

The abstract operation Yield takes argument value (an [ECMAScript language value](https://262.ecma-international.org/12.0/#sec-ecmascript-language-types)). It performs the following steps when called:

1.  Let generatorKind be ! [GetGeneratorKind](https://262.ecma-international.org/12.0/#sec-getgeneratorkind)().
2.  If generatorKind is async, return ? [AsyncGeneratorYield](https://262.ecma-international.org/12.0/#sec-asyncgeneratoryield)(value).
3.  Otherwise, return ? [GeneratorYield](https://262.ecma-international.org/12.0/#sec-generatoryield)(! [CreateIterResultObject](https://262.ecma-international.org/12.0/#sec-createiterresultobject)(value, false)).

## 27.5.3.8 CreateIteratorFromClosure ( closure, generatorBrand, generatorPrototype )

The abstract operation CreateIteratorFromClosure takes arguments closure (an [Abstract Closure](https://262.ecma-international.org/12.0/#sec-abstract-closure) with no parameters), generatorBrand, and generatorPrototype (an Object). It performs the following steps when called:

1.  NOTE: closure can contain uses of the [Yield](https://262.ecma-international.org/12.0/#sec-yield) shorthand to yield an IteratorResult object.
2.  Let internalSlotsList be « \[\[GeneratorState\]\], \[\[GeneratorContext\]\], \[\[GeneratorBrand\]\] ».
3.  Let generator be ! [OrdinaryObjectCreate](https://262.ecma-international.org/12.0/#sec-ordinaryobjectcreate)(generatorPrototype, internalSlotsList).
4.  Set generator.\[\[GeneratorBrand\]\] to generatorBrand.
5.  Set generator.\[\[GeneratorState\]\] to undefined.
6.  Perform ! [GeneratorStart](https://262.ecma-international.org/12.0/#sec-generatorstart)(generator, closure).
7.  Return generator.

## 27.6 AsyncGenerator Objects

An AsyncGenerator object is an instance of an async generator function and conforms to both the AsyncIterator and AsyncIterable interfaces.

AsyncGenerator instances directly inherit properties from the object that is the initial value of the "prototype" property of the AsyncGenerator function that created the instance. AsyncGenerator instances indirectly inherit properties from the AsyncGenerator Prototype intrinsic, [%AsyncGeneratorFunction.prototype.prototype%](https://262.ecma-international.org/12.0/#sec-properties-of-asyncgenerator-prototype).

## 27.6.1 Properties of the AsyncGenerator Prototype Object

The AsyncGenerator prototype object:

-   is %AsyncGeneratorFunction.prototype.prototype%.
-   is an [ordinary object](https://262.ecma-international.org/12.0/#ordinary-object).
-   is not an AsyncGenerator instance and does not have an \[\[AsyncGeneratorState\]\] internal slot.
-   has a \[\[Prototype\]\] internal slot whose value is [%AsyncIteratorPrototype%](https://262.ecma-international.org/12.0/#sec-asynciteratorprototype).
-   has properties that are indirectly inherited by all AsyncGenerator instances.

## 27.6.1.1 AsyncGenerator.prototype.constructor

The initial value of `AsyncGenerator.prototype.constructor` is [%AsyncGeneratorFunction.prototype%](https://262.ecma-international.org/12.0/#sec-properties-of-asyncgeneratorfunction-prototype).

This property has the attributes { \[\[Writable\]\]: false, \[\[Enumerable\]\]: false, \[\[Configurable\]\]: true }.

## 27.6.1.2 AsyncGenerator.prototype.next ( value )

1.  Let generator be the this value.
2.  Let completion be [NormalCompletion](https://262.ecma-international.org/12.0/#sec-normalcompletion)(value).
3.  Return ! [AsyncGeneratorEnqueue](https://262.ecma-international.org/12.0/#sec-asyncgeneratorenqueue)(generator, completion, empty).

## 27.6.1.3 AsyncGenerator.prototype.return ( value )

1.  Let generator be the this value.
2.  Let completion be [Completion](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type) { \[\[Type\]\]: return, \[\[Value\]\]: value, \[\[Target\]\]: empty }.
3.  Return ! [AsyncGeneratorEnqueue](https://262.ecma-international.org/12.0/#sec-asyncgeneratorenqueue)(generator, completion, empty).

## 27.6.1.4 AsyncGenerator.prototype.throw ( exception )

1.  Let generator be the this value.
2.  Let completion be [ThrowCompletion](https://262.ecma-international.org/12.0/#sec-throwcompletion)(exception).
3.  Return ! [AsyncGeneratorEnqueue](https://262.ecma-international.org/12.0/#sec-asyncgeneratorenqueue)(generator, completion, empty).

## 27.6.1.5 AsyncGenerator.prototype \[ @@toStringTag \]

The initial value of the [@@toStringTag](https://262.ecma-international.org/12.0/#sec-well-known-symbols) property is the String value "AsyncGenerator".

This property has the attributes { \[\[Writable\]\]: false, \[\[Enumerable\]\]: false, \[\[Configurable\]\]: true }.

## 27.6.2 Properties of AsyncGenerator Instances

AsyncGenerator instances are initially created with the internal slots described below:

Table 74: Internal Slots of AsyncGenerator Instances

| Internal Slot | Description |
| --- | --- |
| \[\[AsyncGeneratorState\]\] | The current execution state of the async generator. The possible values are: undefined, suspendedStart, suspendedYield, executing, awaiting-return, and completed. |
| \[\[AsyncGeneratorContext\]\] | The [execution context](https://262.ecma-international.org/12.0/#sec-execution-contexts) that is used when executing the code of this async generator. |
| \[\[AsyncGeneratorQueue\]\] | A [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) of AsyncGeneratorRequest records which represent requests to resume the async generator. |
| \[\[GeneratorBrand\]\] | A brand used to distinguish different kinds of async generators. The \[\[GeneratorBrand\]\] of async generators declared by ECMAScript source text is always empty. |

## 27.6.3 AsyncGenerator Abstract Operations

## 27.6.3.1 AsyncGeneratorRequest Records

The AsyncGeneratorRequest is a [Record](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) value used to store information about how an async generator should be resumed and contains capabilities for fulfilling or rejecting the corresponding promise.

They have the following fields:

Table 75: AsyncGeneratorRequest [Record](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) Fields

| Field Name | Value | Meaning |
| --- | --- | --- |
| \[\[Completion\]\] | A [Completion](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type) record | The completion which should be used to resume the async generator. |
| \[\[Capability\]\] | A [PromiseCapability Record](https://262.ecma-international.org/12.0/#sec-promisecapability-records) | The promise capabilities associated with this request. |

## 27.6.3.2 AsyncGeneratorStart ( generator, generatorBody )

The abstract operation AsyncGeneratorStart takes arguments generator and generatorBody (a [Parse Node](https://262.ecma-international.org/12.0/#sec-syntactic-grammar) or an [Abstract Closure](https://262.ecma-international.org/12.0/#sec-abstract-closure) with no parameters). It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): generator is an AsyncGenerator instance.
2.  [Assert](https://262.ecma-international.org/12.0/#assert): generator.\[\[AsyncGeneratorState\]\] is undefined.
3.  Let genContext be the [running execution context](https://262.ecma-international.org/12.0/#running-execution-context).
4.  Set the Generator component of genContext to generator.
5.  Set the code evaluation state of genContext such that when evaluation is resumed for that [execution context](https://262.ecma-international.org/12.0/#sec-execution-contexts) the following steps will be performed:
    1.  If generatorBody is a [Parse Node](https://262.ecma-international.org/12.0/#sec-syntactic-grammar), then
        1.  Let result be the result of evaluating generatorBody.
    2.  Else,
        1.  [Assert](https://262.ecma-international.org/12.0/#assert): generatorBody is an [Abstract Closure](https://262.ecma-international.org/12.0/#sec-abstract-closure) with no parameters.
        2.  Let result be generatorBody().
    3.  [Assert](https://262.ecma-international.org/12.0/#assert): If we return here, the async generator either threw an exception or performed either an implicit or explicit return.
    4.  Remove genContext from the [execution context stack](https://262.ecma-international.org/12.0/#execution-context-stack) and restore the [execution context](https://262.ecma-international.org/12.0/#sec-execution-contexts) that is at the top of the [execution context stack](https://262.ecma-international.org/12.0/#execution-context-stack) as the [running execution context](https://262.ecma-international.org/12.0/#running-execution-context).
    5.  Set generator.\[\[AsyncGeneratorState\]\] to completed.
    6.  If result is a normal completion, let resultValue be undefined.
    7.  Else,
        1.  Let resultValue be result.\[\[Value\]\].
        2.  If result.\[\[Type\]\] is not return, then
            1.  Return ! [AsyncGeneratorReject](https://262.ecma-international.org/12.0/#sec-asyncgeneratorreject)(generator, resultValue).
    8.  Return ! [AsyncGeneratorResolve](https://262.ecma-international.org/12.0/#sec-asyncgeneratorresolve)(generator, resultValue, true).
6.  Set generator.\[\[AsyncGeneratorContext\]\] to genContext.
7.  Set generator.\[\[AsyncGeneratorState\]\] to suspendedStart.
8.  Set generator.\[\[AsyncGeneratorQueue\]\] to a new empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).
9.  Return undefined.

## 27.6.3.3 AsyncGeneratorValidate ( generator, generatorBrand )

The abstract operation AsyncGeneratorValidate takes arguments generator and generatorBrand. It performs the following steps when called:

1.  Perform ? [RequireInternalSlot](https://262.ecma-international.org/12.0/#sec-requireinternalslot)(generator, \[\[AsyncGeneratorContext\]\]).
2.  Perform ? [RequireInternalSlot](https://262.ecma-international.org/12.0/#sec-requireinternalslot)(generator, \[\[AsyncGeneratorState\]\]).
3.  Perform ? [RequireInternalSlot](https://262.ecma-international.org/12.0/#sec-requireinternalslot)(generator, \[\[AsyncGeneratorQueue\]\]).
4.  If generator.\[\[GeneratorBrand\]\] is not the same value as generatorBrand, throw a TypeError exception.

## 27.6.3.4 AsyncGeneratorResolve ( generator, value, done )

The abstract operation AsyncGeneratorResolve takes arguments generator, value, and done (a Boolean). It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): generator is an AsyncGenerator instance.
2.  Let queue be generator.\[\[AsyncGeneratorQueue\]\].
3.  [Assert](https://262.ecma-international.org/12.0/#assert): queue is not an empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).
4.  Let next be the first element of queue.
5.  Remove the first element from queue.
6.  Let promiseCapability be next.\[\[Capability\]\].
7.  Let iteratorResult be ! [CreateIterResultObject](https://262.ecma-international.org/12.0/#sec-createiterresultobject)(value, done).
8.  Perform ! [Call](https://262.ecma-international.org/12.0/#sec-call)(promiseCapability.\[\[Resolve\]\], undefined, « iteratorResult »).
9.  Perform ! [AsyncGeneratorResumeNext](https://262.ecma-international.org/12.0/#sec-asyncgeneratorresumenext)(generator).
10.  Return undefined.

## 27.6.3.5 AsyncGeneratorReject ( generator, exception )

The abstract operation AsyncGeneratorReject takes arguments generator and exception. It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): generator is an AsyncGenerator instance.
2.  Let queue be generator.\[\[AsyncGeneratorQueue\]\].
3.  [Assert](https://262.ecma-international.org/12.0/#assert): queue is not an empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).
4.  Let next be the first element of queue.
5.  Remove the first element from queue.
6.  Let promiseCapability be next.\[\[Capability\]\].
7.  Perform ! [Call](https://262.ecma-international.org/12.0/#sec-call)(promiseCapability.\[\[Reject\]\], undefined, « exception »).
8.  Perform ! [AsyncGeneratorResumeNext](https://262.ecma-international.org/12.0/#sec-asyncgeneratorresumenext)(generator).
9.  Return undefined.

## 27.6.3.6 AsyncGeneratorResumeNext ( generator )

The abstract operation AsyncGeneratorResumeNext takes argument generator. It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): generator is an AsyncGenerator instance.
2.  Let state be generator.\[\[AsyncGeneratorState\]\].
3.  [Assert](https://262.ecma-international.org/12.0/#assert): state is not executing.
4.  If state is awaiting-return, return undefined.
5.  Let queue be generator.\[\[AsyncGeneratorQueue\]\].
6.  If queue is an empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type), return undefined.
7.  Let next be the value of the first element of queue.
8.  [Assert](https://262.ecma-international.org/12.0/#assert): next is an AsyncGeneratorRequest record.
9.  Let completion be next.\[\[Completion\]\].
10.  If completion is an [abrupt completion](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type), then
    1.  If state is suspendedStart, then
        1.  Set generator.\[\[AsyncGeneratorState\]\] to completed.
        2.  Set state to completed.
    2.  If state is completed, then
        1.  If completion.\[\[Type\]\] is return, then
            1.  Set generator.\[\[AsyncGeneratorState\]\] to awaiting-return.
            2.  Let promise be ? [PromiseResolve](https://262.ecma-international.org/12.0/#sec-promise-resolve)([%Promise%](https://262.ecma-international.org/12.0/#sec-promise-constructor), completion.\[\[Value\]\]).
            3.  Let stepsFulfilled be the algorithm steps defined in [AsyncGeneratorResumeNext Return Processor Fulfilled Functions](https://262.ecma-international.org/12.0/#async-generator-resume-next-return-processor-fulfilled).
            4.  Let lengthFulfilled be the number of non-optional parameters of the function definition in [AsyncGeneratorResumeNext Return Processor Fulfilled Functions](https://262.ecma-international.org/12.0/#async-generator-resume-next-return-processor-fulfilled).
            5.  Let onFulfilled be ! [CreateBuiltinFunction](https://262.ecma-international.org/12.0/#sec-createbuiltinfunction)(stepsFulfilled, lengthFulfilled, "", « \[\[Generator\]\] »).
            6.  Set onFulfilled.\[\[Generator\]\] to generator.
            7.  Let stepsRejected be the algorithm steps defined in [AsyncGeneratorResumeNext Return Processor Rejected Functions](https://262.ecma-international.org/12.0/#async-generator-resume-next-return-processor-rejected).
            8.  Let lengthRejected be the number of non-optional parameters of the function definition in [AsyncGeneratorResumeNext Return Processor Rejected Functions](https://262.ecma-international.org/12.0/#async-generator-resume-next-return-processor-rejected).
            9.  Let onRejected be ! [CreateBuiltinFunction](https://262.ecma-international.org/12.0/#sec-createbuiltinfunction)(stepsRejected, lengthRejected, "", « \[\[Generator\]\] »).
            10.  Set onRejected.\[\[Generator\]\] to generator.
            11.  Perform ! [PerformPromiseThen](https://262.ecma-international.org/12.0/#sec-performpromisethen)(promise, onFulfilled, onRejected).
            12.  Return undefined.
        2.  Else,
            1.  [Assert](https://262.ecma-international.org/12.0/#assert): completion.\[\[Type\]\] is throw.
            2.  Perform ! [AsyncGeneratorReject](https://262.ecma-international.org/12.0/#sec-asyncgeneratorreject)(generator, completion.\[\[Value\]\]).
            3.  Return undefined.
11.  Else if state is completed, return ! [AsyncGeneratorResolve](https://262.ecma-international.org/12.0/#sec-asyncgeneratorresolve)(generator, undefined, true).
12.  [Assert](https://262.ecma-international.org/12.0/#assert): state is either suspendedStart or suspendedYield.
13.  Let genContext be generator.\[\[AsyncGeneratorContext\]\].
14.  Let callerContext be the [running execution context](https://262.ecma-international.org/12.0/#running-execution-context).
15.  [Suspend](https://tc39.es/ecma262/#sec-suspend) callerContext.
16.  Set generator.\[\[AsyncGeneratorState\]\] to executing.
17.  Push genContext onto the [execution context stack](https://262.ecma-international.org/12.0/#execution-context-stack); genContext is now the [running execution context](https://262.ecma-international.org/12.0/#running-execution-context).
18.  Resume the suspended evaluation of genContext using completion as the result of the operation that suspended it. Let result be the completion record returned by the resumed computation.
19.  [Assert](https://262.ecma-international.org/12.0/#assert): result is never an [abrupt completion](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type).
20.  [Assert](https://262.ecma-international.org/12.0/#assert): When we return here, genContext has already been removed from the [execution context stack](https://262.ecma-international.org/12.0/#execution-context-stack) and callerContext is the currently [running execution context](https://262.ecma-international.org/12.0/#running-execution-context).
21.  Return undefined.

## 27.6.3.6.1 AsyncGeneratorResumeNext Return Processor Fulfilled Functions

An [AsyncGeneratorResumeNext](https://262.ecma-international.org/12.0/#sec-asyncgeneratorresumenext) return processor fulfilled function is an anonymous built-in function that is used as part of the [AsyncGeneratorResumeNext](https://262.ecma-international.org/12.0/#sec-asyncgeneratorresumenext) specification device to unwrap promises passed in to the [AsyncGenerator.prototype.return ( value )](https://262.ecma-international.org/12.0/#sec-asyncgenerator-prototype-return) method. Each [AsyncGeneratorResumeNext](https://262.ecma-international.org/12.0/#sec-asyncgeneratorresumenext) return processor fulfilled function has a \[\[Generator\]\] internal slot.

When an [AsyncGeneratorResumeNext](https://262.ecma-international.org/12.0/#sec-asyncgeneratorresumenext) return processor fulfilled function is called with argument value, the following steps are taken:

1.  Let F be the [active function object](https://262.ecma-international.org/12.0/#active-function-object).
2.  Set F.\[\[Generator\]\].\[\[AsyncGeneratorState\]\] to completed.
3.  Return ! [AsyncGeneratorResolve](https://262.ecma-international.org/12.0/#sec-asyncgeneratorresolve)(F.\[\[Generator\]\], value, true).

The "length" property of an [AsyncGeneratorResumeNext](https://262.ecma-international.org/12.0/#sec-asyncgeneratorresumenext) return processor fulfilled function is 1𝔽.

## 27.6.3.6.2 AsyncGeneratorResumeNext Return Processor Rejected Functions

An [AsyncGeneratorResumeNext](https://262.ecma-international.org/12.0/#sec-asyncgeneratorresumenext) return processor rejected function is an anonymous built-in function that is used as part of the [AsyncGeneratorResumeNext](https://262.ecma-international.org/12.0/#sec-asyncgeneratorresumenext) specification device to unwrap promises passed in to the [AsyncGenerator.prototype.return ( value )](https://262.ecma-international.org/12.0/#sec-asyncgenerator-prototype-return) method. Each [AsyncGeneratorResumeNext](https://262.ecma-international.org/12.0/#sec-asyncgeneratorresumenext) return processor rejected function has a \[\[Generator\]\] internal slot.

When an [AsyncGeneratorResumeNext](https://262.ecma-international.org/12.0/#sec-asyncgeneratorresumenext) return processor rejected function is called with argument reason, the following steps are taken:

1.  Let F be the [active function object](https://262.ecma-international.org/12.0/#active-function-object).
2.  Set F.\[\[Generator\]\].\[\[AsyncGeneratorState\]\] to completed.
3.  Return ! [AsyncGeneratorReject](https://262.ecma-international.org/12.0/#sec-asyncgeneratorreject)(F.\[\[Generator\]\], reason).

The "length" property of an [AsyncGeneratorResumeNext](https://262.ecma-international.org/12.0/#sec-asyncgeneratorresumenext) return processor rejected function is 1𝔽.

## 27.6.3.7 AsyncGeneratorEnqueue ( generator, completion, generatorBrand )

The abstract operation AsyncGeneratorEnqueue takes arguments generator, completion (a [Completion Record](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type)), and generatorBrand. It performs the following steps when called:

1.  Let promiseCapability be ! [NewPromiseCapability](https://262.ecma-international.org/12.0/#sec-newpromisecapability)([%Promise%](https://262.ecma-international.org/12.0/#sec-promise-constructor)).
2.  Let check be [AsyncGeneratorValidate](https://262.ecma-international.org/12.0/#sec-asyncgeneratorvalidate)(generator, generatorBrand).
3.  If check is an [abrupt completion](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type), then
    1.  Let badGeneratorError be a newly created TypeError object.
    2.  Perform ! [Call](https://262.ecma-international.org/12.0/#sec-call)(promiseCapability.\[\[Reject\]\], undefined, « badGeneratorError »).
    3.  Return promiseCapability.\[\[Promise\]\].
4.  Let queue be generator.\[\[AsyncGeneratorQueue\]\].
5.  Let request be AsyncGeneratorRequest { \[\[Completion\]\]: completion, \[\[Capability\]\]: promiseCapability }.
6.  Append request to the end of queue.
7.  Let state be generator.\[\[AsyncGeneratorState\]\].
8.  If state is not executing, then
    1.  Perform ! [AsyncGeneratorResumeNext](https://262.ecma-international.org/12.0/#sec-asyncgeneratorresumenext)(generator).
9.  Return promiseCapability.\[\[Promise\]\].

## 27.6.3.8 AsyncGeneratorYield ( value )

The abstract operation AsyncGeneratorYield takes argument value. It performs the following steps when called:

1.  Let genContext be the [running execution context](https://262.ecma-international.org/12.0/#running-execution-context).
2.  [Assert](https://262.ecma-international.org/12.0/#assert): genContext is the [execution context](https://262.ecma-international.org/12.0/#sec-execution-contexts) of a generator.
3.  Let generator be the value of the Generator component of genContext.
4.  [Assert](https://262.ecma-international.org/12.0/#assert): [GetGeneratorKind](https://262.ecma-international.org/12.0/#sec-getgeneratorkind)() is async.
5.  Set value to ? [Await](https://262.ecma-international.org/12.0/#await)(value).
6.  Set generator.\[\[AsyncGeneratorState\]\] to suspendedYield.
7.  Remove genContext from the [execution context stack](https://262.ecma-international.org/12.0/#execution-context-stack) and restore the [execution context](https://262.ecma-international.org/12.0/#sec-execution-contexts) that is at the top of the [execution context stack](https://262.ecma-international.org/12.0/#execution-context-stack) as the [running execution context](https://262.ecma-international.org/12.0/#running-execution-context).
8.  Set the code evaluation state of genContext such that when evaluation is resumed with a [Completion](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type) resumptionValue the following steps will be performed:
    1.  If resumptionValue.\[\[Type\]\] is not return, return [Completion](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type)(resumptionValue).
    2.  Let awaited be [Await](https://262.ecma-international.org/12.0/#await)(resumptionValue.\[\[Value\]\]).
    3.  If awaited.\[\[Type\]\] is throw, return [Completion](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type)(awaited).
    4.  [Assert](https://262.ecma-international.org/12.0/#assert): awaited.\[\[Type\]\] is normal.
    5.  Return [Completion](https://262.ecma-international.org/12.0/#sec-completion-record-specification-type) { \[\[Type\]\]: return, \[\[Value\]\]: awaited.\[\[Value\]\], \[\[Target\]\]: empty }.
    6.  NOTE: When one of the above steps returns, it returns to the evaluation of the [YieldExpression](https://262.ecma-international.org/12.0/#prod-YieldExpression) production that originally called this abstract operation.
9.  Return ! [AsyncGeneratorResolve](https://262.ecma-international.org/12.0/#sec-asyncgeneratorresolve)(generator, value, false).
10.  NOTE: This returns to the evaluation of the operation that had most previously resumed evaluation of genContext.

## 27.6.3.9 CreateAsyncIteratorFromClosure ( closure, generatorBrand, generatorPrototype )

The abstract operation CreateAsyncIteratorFromClosure takes arguments closure (an [Abstract Closure](https://262.ecma-international.org/12.0/#sec-abstract-closure) with no parameters), generatorBrand, and generatorPrototype (an Object). It performs the following steps when called:

1.  NOTE: closure can contain uses of the [Await](https://262.ecma-international.org/12.0/#await) shorthand and uses of the [Yield](https://262.ecma-international.org/12.0/#sec-yield) shorthand to yield an IteratorResult object.
2.  Let internalSlotsList be « \[\[AsyncGeneratorState\]\], \[\[AsyncGeneratorContext\]\], \[\[AsyncGeneratorQueue\]\], \[\[GeneratorBrand\]\] ».
3.  Let generator be ! [OrdinaryObjectCreate](https://262.ecma-international.org/12.0/#sec-ordinaryobjectcreate)(generatorPrototype, internalSlotsList).
4.  Set generator.\[\[GeneratorBrand\]\] to generatorBrand.
5.  Set generator.\[\[AsyncGeneratorState\]\] to undefined.
6.  Perform ! [AsyncGeneratorStart](https://262.ecma-international.org/12.0/#sec-asyncgeneratorstart)(generator, closure).
7.  Return generator.

## 27.7 AsyncFunction Objects

AsyncFunction objects are functions that are usually created by evaluating [AsyncFunctionDeclaration](https://262.ecma-international.org/12.0/#prod-AsyncFunctionDeclaration)s, [AsyncFunctionExpression](https://262.ecma-international.org/12.0/#prod-AsyncFunctionExpression)s, [AsyncMethod](https://262.ecma-international.org/12.0/#prod-AsyncMethod)s, and [AsyncArrowFunction](https://262.ecma-international.org/12.0/#prod-AsyncArrowFunction)s. They may also be created by calling the [%AsyncFunction%](https://262.ecma-international.org/12.0/#sec-async-function-constructor) intrinsic.

## 27.7.1 The AsyncFunction Constructor

The AsyncFunction [constructor](https://262.ecma-international.org/12.0/#constructor):

-   is %AsyncFunction%.
-   is a subclass of `Function`.
-   creates and initializes a new AsyncFunction object when called as a function rather than as a [constructor](https://262.ecma-international.org/12.0/#constructor). Thus the function call `AsyncFunction(…)` is equivalent to the object creation expression `new AsyncFunction(…)` with the same arguments.
-   is designed to be subclassable. It may be used as the value of an `extends` clause of a class definition. Subclass constructors that intend to inherit the specified AsyncFunction behaviour must include a `super` call to the AsyncFunction [constructor](https://262.ecma-international.org/12.0/#constructor) to create and initialize a subclass instance with the internal slots necessary for built-in async function behaviour. All ECMAScript syntactic forms for defining async function objects create direct instances of AsyncFunction. There is no syntactic means to create instances of AsyncFunction subclasses.

## 27.7.1.1 AsyncFunction ( p1, p2, … , pn, body )

The last argument specifies the body (executable code) of an async function. Any preceding arguments specify formal parameters.

When the `AsyncFunction` function is called with some arguments p1, p2, … , pn, body (where n might be 0, that is, there are no p arguments, and where body might also not be provided), the following steps are taken:

1.  Let C be the [active function object](https://262.ecma-international.org/12.0/#active-function-object).
2.  Let args be the argumentsList that was passed to this function by \[\[Call\]\] or \[\[Construct\]\].
3.  Return [CreateDynamicFunction](https://262.ecma-international.org/12.0/#sec-createdynamicfunction)(C, NewTarget, async, args).

Note

## 27.7.2 Properties of the AsyncFunction Constructor

The AsyncFunction [constructor](https://262.ecma-international.org/12.0/#constructor):

-   is a standard built-in [function object](https://262.ecma-international.org/12.0/#function-object) that inherits from the Function [constructor](https://262.ecma-international.org/12.0/#constructor).
-   has a \[\[Prototype\]\] internal slot whose value is [%Function%](https://262.ecma-international.org/12.0/#sec-function-constructor).
-   has a "name" property whose value is "AsyncFunction".
-   has the following properties:

## 27.7.2.1 AsyncFunction.length

This is a [data property](https://262.ecma-international.org/12.0/#sec-object-type) with a value of 1. This property has the attributes { \[\[Writable\]\]: false, \[\[Enumerable\]\]: false, \[\[Configurable\]\]: true }.

## 27.7.2.2 AsyncFunction.prototype

The initial value of `AsyncFunction.prototype` is the [AsyncFunction prototype object](https://262.ecma-international.org/12.0/#sec-async-function-prototype-properties).

This property has the attributes { \[\[Writable\]\]: false, \[\[Enumerable\]\]: false, \[\[Configurable\]\]: false }.

## 27.7.3 Properties of the AsyncFunction Prototype Object

The AsyncFunction prototype object:

-   is %AsyncFunction.prototype%.
-   is an [ordinary object](https://262.ecma-international.org/12.0/#ordinary-object).
-   is not a [function object](https://262.ecma-international.org/12.0/#function-object) and does not have an \[\[ECMAScriptCode\]\] internal slot or any other of the internal slots listed in [Table 29](https://262.ecma-international.org/12.0/#table-internal-slots-of-ecmascript-function-objects).
-   has a \[\[Prototype\]\] internal slot whose value is [%Function.prototype%](https://262.ecma-international.org/12.0/#sec-properties-of-the-function-prototype-object).

## 27.7.3.1 AsyncFunction.prototype.constructor

The initial value of `AsyncFunction.prototype.constructor` is [%AsyncFunction%](https://262.ecma-international.org/12.0/#sec-async-function-constructor)

This property has the attributes { \[\[Writable\]\]: false, \[\[Enumerable\]\]: false, \[\[Configurable\]\]: true }.

## 27.7.3.2 AsyncFunction.prototype \[ @@toStringTag \]

The initial value of the [@@toStringTag](https://262.ecma-international.org/12.0/#sec-well-known-symbols) property is the String value "AsyncFunction".

This property has the attributes { \[\[Writable\]\]: false, \[\[Enumerable\]\]: false, \[\[Configurable\]\]: true }.

## 27.7.4 AsyncFunction Instances

Every AsyncFunction instance is an ECMAScript [function object](https://262.ecma-international.org/12.0/#function-object) and has the internal slots listed in [Table 29](https://262.ecma-international.org/12.0/#table-internal-slots-of-ecmascript-function-objects). The value of the \[\[IsClassConstructor\]\] internal slot for all such instances is false. AsyncFunction instances are not constructors and do not have a \[\[Construct\]\] internal method. AsyncFunction instances do not have a prototype property as they are not constructible.

Each AsyncFunction instance has the following own properties:

## 27.7.4.1 length

The specification for the "length" property of Function instances given in [20.2.4.1](https://262.ecma-international.org/12.0/#sec-function-instances-length) also applies to AsyncFunction instances.

## 27.7.4.2 name

The specification for the "name" property of Function instances given in [20.2.4.2](https://262.ecma-international.org/12.0/#sec-function-instances-name) also applies to AsyncFunction instances.

## 27.7.5 Async Functions Abstract Operations

## 27.7.5.1 AsyncFunctionStart ( promiseCapability, asyncFunctionBody )

The abstract operation AsyncFunctionStart takes arguments promiseCapability (a [PromiseCapability Record](https://262.ecma-international.org/12.0/#sec-promisecapability-records)) and asyncFunctionBody. It performs the following steps when called:

1.  Let runningContext be the [running execution context](https://262.ecma-international.org/12.0/#running-execution-context).
2.  Let asyncContext be a copy of runningContext.
3.  NOTE: Copying the execution state is required for the step below to resume its execution. It is ill-defined to resume a currently executing context.
4.  Set the code evaluation state of asyncContext such that when evaluation is resumed for that [execution context](https://262.ecma-international.org/12.0/#sec-execution-contexts) the following steps will be performed:
    1.  Let result be the result of evaluating asyncFunctionBody.
    2.  [Assert](https://262.ecma-international.org/12.0/#assert): If we return here, the async function either threw an exception or performed an implicit or explicit return; all awaiting is done.
    3.  Remove asyncContext from the [execution context stack](https://262.ecma-international.org/12.0/#execution-context-stack) and restore the [execution context](https://262.ecma-international.org/12.0/#sec-execution-contexts) that is at the top of the [execution context stack](https://262.ecma-international.org/12.0/#execution-context-stack) as the [running execution context](https://262.ecma-international.org/12.0/#running-execution-context).
    4.  If result.\[\[Type\]\] is normal, then
        1.  Perform ! [Call](https://262.ecma-international.org/12.0/#sec-call)(promiseCapability.\[\[Resolve\]\], undefined, « undefined »).
    5.  Else if result.\[\[Type\]\] is return, then
        1.  Perform ! [Call](https://262.ecma-international.org/12.0/#sec-call)(promiseCapability.\[\[Resolve\]\], undefined, « result.\[\[Value\]\] »).
    6.  Else,
        1.  [Assert](https://262.ecma-international.org/12.0/#assert): result.\[\[Type\]\] is throw.
        2.  Perform ! [Call](https://262.ecma-international.org/12.0/#sec-call)(promiseCapability.\[\[Reject\]\], undefined, « result.\[\[Value\]\] »).
    7.  Return.
5.  Push asyncContext onto the [execution context stack](https://262.ecma-international.org/12.0/#execution-context-stack); asyncContext is now the [running execution context](https://262.ecma-international.org/12.0/#running-execution-context).
6.  Resume the suspended evaluation of asyncContext. Let result be the value returned by the resumed computation.
7.  [Assert](https://262.ecma-international.org/12.0/#assert): When we return here, asyncContext has already been removed from the [execution context stack](https://262.ecma-international.org/12.0/#execution-context-stack) and runningContext is the currently [running execution context](https://262.ecma-international.org/12.0/#running-execution-context).
8.  [Assert](https://262.ecma-international.org/12.0/#assert): result is a normal completion with a value of undefined. The possible sources of completion values are [Await](https://262.ecma-international.org/12.0/#await) or, if the async function doesn't await anything, step [4.g](https://262.ecma-international.org/12.0/#step-asyncfunctionstart-return-undefined) above.
9.  Return.

## 28 Reflection

## 28.1 The Reflect Object

The Reflect object:

-   is %Reflect%.
-   is the initial value of the "Reflect" property of the [global object](https://262.ecma-international.org/12.0/#sec-global-object).
-   is an [ordinary object](https://262.ecma-international.org/12.0/#ordinary-object).
-   has a \[\[Prototype\]\] internal slot whose value is [%Object.prototype%](https://262.ecma-international.org/12.0/#sec-properties-of-the-object-prototype-object).
-   is not a [function object](https://262.ecma-international.org/12.0/#function-object).
-   does not have a \[\[Construct\]\] internal method; it cannot be used as a [constructor](https://262.ecma-international.org/12.0/#constructor) with the `new` operator.
-   does not have a \[\[Call\]\] internal method; it cannot be invoked as a function.

## 28.1.1 Reflect.apply ( target, thisArgument, argumentsList )

When the `apply` function is called with arguments target, thisArgument, and argumentsList, the following steps are taken:

1.  If [IsCallable](https://262.ecma-international.org/12.0/#sec-iscallable)(target) is false, throw a TypeError exception.
2.  Let args be ? [CreateListFromArrayLike](https://262.ecma-international.org/12.0/#sec-createlistfromarraylike)(argumentsList).
3.  Perform [PrepareForTailCall](https://262.ecma-international.org/12.0/#sec-preparefortailcall)().
4.  Return ? [Call](https://262.ecma-international.org/12.0/#sec-call)(target, thisArgument, args).

## 28.1.2 Reflect.construct ( target, argumentsList \[ , newTarget \] )

When the `construct` function is called with arguments target, argumentsList, and newTarget, the following steps are taken:

1.  If [IsConstructor](https://262.ecma-international.org/12.0/#sec-isconstructor)(target) is false, throw a TypeError exception.
2.  If newTarget is not present, set newTarget to target.
3.  Else if [IsConstructor](https://262.ecma-international.org/12.0/#sec-isconstructor)(newTarget) is false, throw a TypeError exception.
4.  Let args be ? [CreateListFromArrayLike](https://262.ecma-international.org/12.0/#sec-createlistfromarraylike)(argumentsList).
5.  Return ? [Construct](https://262.ecma-international.org/12.0/#sec-construct)(target, args, newTarget).

## 28.1.3 Reflect.defineProperty ( target, propertyKey, attributes )

When the `defineProperty` function is called with arguments target, propertyKey, and attributes, the following steps are taken:

1.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(target) is not Object, throw a TypeError exception.
2.  Let key be ? [ToPropertyKey](https://262.ecma-international.org/12.0/#sec-topropertykey)(propertyKey).
3.  Let desc be ? [ToPropertyDescriptor](https://262.ecma-international.org/12.0/#sec-topropertydescriptor)(attributes).
4.  Return ? target.\[\[DefineOwnProperty\]\](key, desc).

## 28.1.4 Reflect.deleteProperty ( target, propertyKey )

When the `deleteProperty` function is called with arguments target and propertyKey, the following steps are taken:

1.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(target) is not Object, throw a TypeError exception.
2.  Let key be ? [ToPropertyKey](https://262.ecma-international.org/12.0/#sec-topropertykey)(propertyKey).
3.  Return ? target.\[\[Delete\]\](key).

## 28.1.5 Reflect.get ( target, propertyKey \[ , receiver \] )

When the `get` function is called with arguments target, propertyKey, and receiver, the following steps are taken:

1.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(target) is not Object, throw a TypeError exception.
2.  Let key be ? [ToPropertyKey](https://262.ecma-international.org/12.0/#sec-topropertykey)(propertyKey).
3.  If receiver is not present, then
    1.  Set receiver to target.
4.  Return ? target.\[\[Get\]\](key, receiver).

## 28.1.6 Reflect.getOwnPropertyDescriptor ( target, propertyKey )

When the `getOwnPropertyDescriptor` function is called with arguments target and propertyKey, the following steps are taken:

1.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(target) is not Object, throw a TypeError exception.
2.  Let key be ? [ToPropertyKey](https://262.ecma-international.org/12.0/#sec-topropertykey)(propertyKey).
3.  Let desc be ? target.\[\[GetOwnProperty\]\](key).
4.  Return [FromPropertyDescriptor](https://262.ecma-international.org/12.0/#sec-frompropertydescriptor)(desc).

## 28.1.7 Reflect.getPrototypeOf ( target )

When the `getPrototypeOf` function is called with argument target, the following steps are taken:

1.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(target) is not Object, throw a TypeError exception.
2.  Return ? target.\[\[GetPrototypeOf\]\]().

## 28.1.8 Reflect.has ( target, propertyKey )

When the `has` function is called with arguments target and propertyKey, the following steps are taken:

1.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(target) is not Object, throw a TypeError exception.
2.  Let key be ? [ToPropertyKey](https://262.ecma-international.org/12.0/#sec-topropertykey)(propertyKey).
3.  Return ? target.\[\[HasProperty\]\](key).

## 28.1.9 Reflect.isExtensible ( target )

When the `isExtensible` function is called with argument target, the following steps are taken:

1.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(target) is not Object, throw a TypeError exception.
2.  Return ? target.\[\[IsExtensible\]\]().

## 28.1.10 Reflect.ownKeys ( target )

When the `ownKeys` function is called with argument target, the following steps are taken:

1.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(target) is not Object, throw a TypeError exception.
2.  Let keys be ? target.\[\[OwnPropertyKeys\]\]().
3.  Return [CreateArrayFromList](https://262.ecma-international.org/12.0/#sec-createarrayfromlist)(keys).

## 28.1.11 Reflect.preventExtensions ( target )

When the `preventExtensions` function is called with argument target, the following steps are taken:

1.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(target) is not Object, throw a TypeError exception.
2.  Return ? target.\[\[PreventExtensions\]\]().

## 28.1.12 Reflect.set ( target, propertyKey, V \[ , receiver \] )

When the `set` function is called with arguments target, V, propertyKey, and receiver, the following steps are taken:

1.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(target) is not Object, throw a TypeError exception.
2.  Let key be ? [ToPropertyKey](https://262.ecma-international.org/12.0/#sec-topropertykey)(propertyKey).
3.  If receiver is not present, then
    1.  Set receiver to target.
4.  Return ? target.\[\[Set\]\](key, V, receiver).

## 28.1.13 Reflect.setPrototypeOf ( target, proto )

When the `setPrototypeOf` function is called with arguments target and proto, the following steps are taken:

1.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(target) is not Object, throw a TypeError exception.
2.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(proto) is not Object and proto is not null, throw a TypeError exception.
3.  Return ? target.\[\[SetPrototypeOf\]\](proto).

## 28.1.14 Reflect \[ @@toStringTag \]

The initial value of the [@@toStringTag](https://262.ecma-international.org/12.0/#sec-well-known-symbols) property is the String value "Reflect".

This property has the attributes { \[\[Writable\]\]: false, \[\[Enumerable\]\]: false, \[\[Configurable\]\]: true }.

## 28.2 Proxy Objects

## 28.2.1 The Proxy Constructor

The Proxy [constructor](https://262.ecma-international.org/12.0/#constructor):

-   is %Proxy%.
-   is the initial value of the "Proxy" property of the [global object](https://262.ecma-international.org/12.0/#sec-global-object).
-   creates and initializes a new [Proxy exotic object](https://262.ecma-international.org/12.0/#proxy-exotic-object) when called as a [constructor](https://262.ecma-international.org/12.0/#constructor).
-   is not intended to be called as a function and will throw an exception when called in that manner.

## 28.2.1.1 Proxy ( target, handler )

When `Proxy` is called with arguments target and handler, it performs the following steps:

1.  If NewTarget is undefined, throw a TypeError exception.
2.  Return ? [ProxyCreate](https://262.ecma-international.org/12.0/#sec-proxycreate)(target, handler).

## 28.2.2 Properties of the Proxy Constructor

The Proxy [constructor](https://262.ecma-international.org/12.0/#constructor):

-   has a \[\[Prototype\]\] internal slot whose value is [%Function.prototype%](https://262.ecma-international.org/12.0/#sec-properties-of-the-function-prototype-object).
-   does not have a "prototype" property because Proxy exotic objects do not have a \[\[Prototype\]\] internal slot that requires initialization.
-   has the following properties:

## 28.2.2.1 Proxy.revocable ( target, handler )

The `Proxy.revocable` function is used to create a revocable Proxy object. When `Proxy.revocable` is called with arguments target and handler, the following steps are taken:

1.  Let p be ? [ProxyCreate](https://262.ecma-international.org/12.0/#sec-proxycreate)(target, handler).
2.  Let steps be the algorithm steps defined in [Proxy Revocation Functions](https://262.ecma-international.org/12.0/#sec-proxy-revocation-functions).
3.  Let length be the number of non-optional parameters of the function definition in [Proxy Revocation Functions](https://262.ecma-international.org/12.0/#sec-proxy-revocation-functions).
4.  Let revoker be ! [CreateBuiltinFunction](https://262.ecma-international.org/12.0/#sec-createbuiltinfunction)(steps, length, "", « \[\[RevocableProxy\]\] »).
5.  Set revoker.\[\[RevocableProxy\]\] to p.
6.  Let result be ! [OrdinaryObjectCreate](https://262.ecma-international.org/12.0/#sec-ordinaryobjectcreate)([%Object.prototype%](https://262.ecma-international.org/12.0/#sec-properties-of-the-object-prototype-object)).
7.  Perform ! [CreateDataPropertyOrThrow](https://262.ecma-international.org/12.0/#sec-createdatapropertyorthrow)(result, "proxy", p).
8.  Perform ! [CreateDataPropertyOrThrow](https://262.ecma-international.org/12.0/#sec-createdatapropertyorthrow)(result, "revoke", revoker).
9.  Return result.

## 28.2.2.1.1 Proxy Revocation Functions

A Proxy revocation function is an anonymous built-in function that has the ability to invalidate a specific Proxy object.

Each Proxy revocation function has a \[\[RevocableProxy\]\] internal slot.

When a Proxy revocation function is called, the following steps are taken:

1.  Let F be the [active function object](https://262.ecma-international.org/12.0/#active-function-object).
2.  Let p be F.\[\[RevocableProxy\]\].
3.  If p is null, return undefined.
4.  Set F.\[\[RevocableProxy\]\] to null.
5.  [Assert](https://262.ecma-international.org/12.0/#assert): p is a Proxy object.
6.  Set p.\[\[ProxyTarget\]\] to null.
7.  Set p.\[\[ProxyHandler\]\] to null.
8.  Return undefined.

The "length" property of a Proxy revocation function is +0𝔽.

## 28.3 Module Namespace Objects

A Module Namespace Object is a [module namespace exotic object](https://262.ecma-international.org/12.0/#module-namespace-exotic-object) that provides runtime property-based access to a module's exported bindings. There is no [constructor](https://262.ecma-international.org/12.0/#constructor) function for Module Namespace Objects. Instead, such an object is created for each module that is imported by an [ImportDeclaration](https://262.ecma-international.org/12.0/#prod-ImportDeclaration) that includes a [NameSpaceImport](https://262.ecma-international.org/12.0/#prod-NameSpaceImport).

In addition to the properties specified in [10.4.6](https://262.ecma-international.org/12.0/#sec-module-namespace-exotic-objects) each Module Namespace Object has the following own property:

## 28.3.1 @@toStringTag

The initial value of the [@@toStringTag](https://262.ecma-international.org/12.0/#sec-well-known-symbols) property is the String value "Module".

This property has the attributes { \[\[Writable\]\]: false, \[\[Enumerable\]\]: false, \[\[Configurable\]\]: false }.

## 29 Memory Model

The memory consistency model, or memory model, specifies the possible orderings of [Shared Data Block](https://262.ecma-international.org/12.0/#sec-data-blocks) events, arising via accessing TypedArray instances backed by a SharedArrayBuffer and via methods on the Atomics object. When the program has no data races (defined below), the ordering of events appears as sequentially consistent, i.e., as an interleaving of actions from each [agent](https://262.ecma-international.org/12.0/#agent). When the program has data races, shared memory operations may appear sequentially inconsistent. For example, programs may exhibit causality-violating behaviour and other astonishments. These astonishments arise from compiler transforms and the design of CPUs (e.g., out-of-order execution and speculation). The memory model defines both the precise conditions under which a program exhibits sequentially consistent behaviour as well as the possible values read from data races. To wit, there is no undefined behaviour.

The memory model is defined as relational constraints on events introduced by [abstract operations](https://262.ecma-international.org/12.0/#sec-algorithm-conventions-abstract-operations) on SharedArrayBuffer or by methods on the Atomics object during an evaluation.

Note

This section provides an axiomatic model on events introduced by the [abstract operations](https://262.ecma-international.org/12.0/#sec-algorithm-conventions-abstract-operations) on SharedArrayBuffers. It bears stressing that the model is not expressible algorithmically, unlike the rest of this specification. The nondeterministic introduction of events by [abstract operations](https://262.ecma-international.org/12.0/#sec-algorithm-conventions-abstract-operations) is the interface between the operational semantics of ECMAScript evaluation and the axiomatic semantics of the memory model. The semantics of these events is defined by considering graphs of all events in an evaluation. These are neither Static Semantics nor Runtime Semantics. There is no demonstrated algorithmic implementation, but instead a set of constraints that determine if a particular event graph is allowed or disallowed.

## 29.1 Memory Model Fundamentals

Shared memory accesses (reads and writes) are divided into two groups, atomic accesses and data accesses, defined below. Atomic accesses are sequentially consistent, i.e., there is a strict total ordering of events agreed upon by all agents in an [agent cluster](https://262.ecma-international.org/12.0/#sec-agent-clusters). Non-atomic accesses do not have a strict total ordering agreed upon by all agents, i.e., unordered.

Note 1

No orderings weaker than sequentially consistent and stronger than unordered, such as release-acquire, are supported.

A Shared Data Block event is either a ReadSharedMemory, WriteSharedMemory, or ReadModifyWriteSharedMemory [Record](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).

Table 76: [ReadSharedMemory](https://262.ecma-international.org/12.0/#sec-memory-model-fundamentals) Event Fields

| Field Name | Value | Meaning |
| --- | --- | --- |
| \[\[Order\]\] | SeqCst | Unordered | The weakest ordering guaranteed by the [memory model](https://262.ecma-international.org/12.0/#sec-memory-model) for the event. |
| \[\[NoTear\]\] | A Boolean | Whether this event is allowed to read from multiple write events on equal range as this event. |
| \[\[Block\]\] | A [Shared Data Block](https://262.ecma-international.org/12.0/#sec-data-blocks) | The block the event operates on. |
| \[\[ByteIndex\]\] | A non-negative [integer](https://262.ecma-international.org/12.0/#integer) | The byte address of the read in \[\[Block\]\]. |
| \[\[ElementSize\]\] | A non-negative [integer](https://262.ecma-international.org/12.0/#integer) | The size of the read. |

Table 77: [WriteSharedMemory](https://262.ecma-international.org/12.0/#sec-memory-model-fundamentals) Event Fields

| Field Name | Value | Meaning |
| --- | --- | --- |
| \[\[Order\]\] | SeqCst | Unordered | Init | The weakest ordering guaranteed by the [memory model](https://262.ecma-international.org/12.0/#sec-memory-model) for the event. |
| \[\[NoTear\]\] | A Boolean | Whether this event is allowed to be read from multiple read events with equal range as this event. |
| \[\[Block\]\] | A [Shared Data Block](https://262.ecma-international.org/12.0/#sec-data-blocks) | The block the event operates on. |
| \[\[ByteIndex\]\] | A non-negative [integer](https://262.ecma-international.org/12.0/#integer) | The byte address of the write in \[\[Block\]\]. |
| \[\[ElementSize\]\] | A non-negative [integer](https://262.ecma-international.org/12.0/#integer) | The size of the write. |
| \[\[Payload\]\] | A [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) | The [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) of byte values to be read by other events. |

Table 78: [ReadModifyWriteSharedMemory](https://262.ecma-international.org/12.0/#sec-memory-model-fundamentals) Event Fields

| Field Name | Value | Meaning |
| --- | --- | --- |
| \[\[Order\]\] | SeqCst | Read-modify-write events are always sequentially consistent. |
| \[\[NoTear\]\] | true | Read-modify-write events cannot tear. |
| \[\[Block\]\] | A [Shared Data Block](https://262.ecma-international.org/12.0/#sec-data-blocks) | The block the event operates on. |
| \[\[ByteIndex\]\] | A non-negative [integer](https://262.ecma-international.org/12.0/#integer) | The byte address of the read-modify-write in \[\[Block\]\]. |
| \[\[ElementSize\]\] | A non-negative [integer](https://262.ecma-international.org/12.0/#integer) | The size of the read-modify-write. |
| \[\[Payload\]\] | A [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) | The [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) of byte values to be passed to \[\[ModifyOp\]\]. |
| \[\[ModifyOp\]\] | A [read-modify-write modification function](https://262.ecma-international.org/12.0/#sec-arraybuffer-notation) | An abstract closure that returns a modified [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) of byte values from a read [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) of byte values and \[\[Payload\]\]. |

These events are introduced by [abstract operations](https://262.ecma-international.org/12.0/#sec-algorithm-conventions-abstract-operations) or by methods on the Atomics object.

Some operations may also introduce Synchronize events. A Synchronize event has no fields, and exists purely to directly constrain the permitted orderings of other events.

In addition to [Shared Data Block](https://262.ecma-international.org/12.0/#sec-data-blocks) and Synchronize events, there are [host](https://262.ecma-international.org/12.0/#host)\-specific events.

Let the range of a ReadSharedMemory, WriteSharedMemory, or ReadModifyWriteSharedMemory event be the Set of contiguous integers from its \[\[ByteIndex\]\] to \[\[ByteIndex\]\] + \[\[ElementSize\]\] - 1. Two events' ranges are equal when the events have the same \[\[Block\]\], and the ranges are element-wise equal. Two events' ranges are overlapping when the events have the same \[\[Block\]\], the ranges are not equal and their intersection is non-empty. Two events' ranges are disjoint when the events do not have the same \[\[Block\]\] or their ranges are neither equal nor overlapping.

Note 2

Examples of [host](https://262.ecma-international.org/12.0/#host)\-specific synchronizing events that should be accounted for are: sending a SharedArrayBuffer from one [agent](https://262.ecma-international.org/12.0/#agent) to another (e.g., by `postMessage` in a browser), starting and stopping agents, and communicating within the [agent cluster](https://262.ecma-international.org/12.0/#sec-agent-clusters) via channels other than shared memory. It is assumed those events are appended to [agent-order](https://262.ecma-international.org/12.0/#sec-agent-order) during evaluation like the other SharedArrayBuffer events.

Events are ordered within candidate executions by the relations defined below.

## 29.2 Agent Events Records

An Agent Events Record is a [Record](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) with the following fields.

Table 79: [Agent Events Record](https://262.ecma-international.org/12.0/#sec-agent-event-records) Fields

| Field Name | Value | Meaning |
| --- | --- | --- |
| \[\[AgentSignifier\]\] | A value that admits equality testing | The [agent](https://262.ecma-international.org/12.0/#agent) whose evaluation resulted in this ordering. |
| \[\[EventList\]\] | A [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) of events | Events are appended to the list during evaluation. |
| \[\[AgentSynchronizesWith\]\] | A [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) of pairs of [Synchronize](https://262.ecma-international.org/12.0/#sec-memory-model-fundamentals) events | [Synchronize](https://262.ecma-international.org/12.0/#sec-memory-model-fundamentals) relationships introduced by the operational semantics. |

## 29.3 Chosen Value Records

A Chosen Value Record is a [Record](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) with the following fields.

Table 80: [Chosen Value Record](https://262.ecma-international.org/12.0/#sec-chosen-value-records) Fields

| Field Name | Value | Meaning |
| --- | --- | --- |
| \[\[Event\]\] | A [Shared Data Block event](https://262.ecma-international.org/12.0/#sec-memory-model-fundamentals) | The [ReadSharedMemory](https://262.ecma-international.org/12.0/#sec-memory-model-fundamentals) or [ReadModifyWriteSharedMemory](https://262.ecma-international.org/12.0/#sec-memory-model-fundamentals) event that was introduced for this chosen value. |
| \[\[ChosenValue\]\] | A [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) of byte values | The bytes that were nondeterministically chosen during evaluation. |

## 29.4 Candidate Executions

A candidate execution of the evaluation of an [agent cluster](https://262.ecma-international.org/12.0/#sec-agent-clusters) is a [Record](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) with the following fields.

Table 81: Candidate Execution [Record](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) Fields

| Field Name | Value | Meaning |
| --- | --- | --- |
| \[\[EventsRecords\]\] | A [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) of [Agent](https://262.ecma-international.org/12.0/#agent) Events Records. | Maps an [agent](https://262.ecma-international.org/12.0/#agent) to Lists of events appended during the evaluation. |
| \[\[ChosenValues\]\] | A [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) of Chosen Value Records. | Maps [ReadSharedMemory](https://262.ecma-international.org/12.0/#sec-memory-model-fundamentals) or [ReadModifyWriteSharedMemory](https://262.ecma-international.org/12.0/#sec-memory-model-fundamentals) events to the [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) of byte values chosen during the evaluation. |
| \[\[AgentOrder\]\] | An [agent-order](https://262.ecma-international.org/12.0/#sec-agent-order) [Relation](https://262.ecma-international.org/12.0/#sec-set-and-relation-specification-type). | Defined below. |
| \[\[ReadsBytesFrom\]\] | A [reads-bytes-from](https://262.ecma-international.org/12.0/#sec-reads-bytes-from) mathematical function. | Defined below. |
| \[\[ReadsFrom\]\] | A [reads-from](https://262.ecma-international.org/12.0/#sec-reads-from) [Relation](https://262.ecma-international.org/12.0/#sec-set-and-relation-specification-type). | Defined below. |
| \[\[HostSynchronizesWith\]\] | A [host-synchronizes-with](https://262.ecma-international.org/12.0/#sec-host-synchronizes-with) [Relation](https://262.ecma-international.org/12.0/#sec-set-and-relation-specification-type). | Defined below. |
| \[\[SynchronizesWith\]\] | A [synchronizes-with](https://262.ecma-international.org/12.0/#sec-synchronizes-with) [Relation](https://262.ecma-international.org/12.0/#sec-set-and-relation-specification-type). | Defined below. |
| \[\[HappensBefore\]\] | A [happens-before](https://262.ecma-international.org/12.0/#sec-happens-before) [Relation](https://262.ecma-international.org/12.0/#sec-set-and-relation-specification-type). | Defined below. |

An empty candidate execution is a candidate execution [Record](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) whose fields are empty Lists and Relations.

## 29.5 Abstract Operations for the Memory Model

## 29.5.1 EventSet ( execution )

The abstract operation EventSet takes argument execution (a [candidate execution](https://262.ecma-international.org/12.0/#sec-candidate-executions)). It performs the following steps when called:

1.  Let events be an empty Set.
2.  For each [Agent Events Record](https://262.ecma-international.org/12.0/#sec-agent-event-records) aer of execution.\[\[EventsRecords\]\], do
    1.  For each event E of aer.\[\[EventList\]\], do
        1.  Add E to events.
3.  Return events.

## 29.5.2 SharedDataBlockEventSet ( execution )

The abstract operation SharedDataBlockEventSet takes argument execution (a [candidate execution](https://262.ecma-international.org/12.0/#sec-candidate-executions)). It performs the following steps when called:

1.  Let events be an empty Set.
2.  For each event E of [EventSet](https://262.ecma-international.org/12.0/#sec-event-set)(execution), do
    1.  If E is a [ReadSharedMemory](https://262.ecma-international.org/12.0/#sec-memory-model-fundamentals), [WriteSharedMemory](https://262.ecma-international.org/12.0/#sec-memory-model-fundamentals), or [ReadModifyWriteSharedMemory](https://262.ecma-international.org/12.0/#sec-memory-model-fundamentals) event, add E to events.
3.  Return events.

## 29.5.3 HostEventSet ( execution )

The abstract operation HostEventSet takes argument execution (a [candidate execution](https://262.ecma-international.org/12.0/#sec-candidate-executions)). It performs the following steps when called:

1.  Let events be an empty Set.
2.  For each event E of [EventSet](https://262.ecma-international.org/12.0/#sec-event-set)(execution), do
    1.  If E is not in [SharedDataBlockEventSet](https://262.ecma-international.org/12.0/#sec-sharedatablockeventset)(execution), add E to events.
3.  Return events.

## 29.5.4 ComposeWriteEventBytes ( execution, byteIndex, Ws )

The abstract operation ComposeWriteEventBytes takes arguments execution (a [candidate execution](https://262.ecma-international.org/12.0/#sec-candidate-executions)), byteIndex (a non-negative [integer](https://262.ecma-international.org/12.0/#integer)), and Ws (a [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) of [WriteSharedMemory](https://262.ecma-international.org/12.0/#sec-memory-model-fundamentals) or [ReadModifyWriteSharedMemory](https://262.ecma-international.org/12.0/#sec-memory-model-fundamentals) events). It performs the following steps when called:

1.  Let byteLocation be byteIndex.
2.  Let bytesRead be a new empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).
3.  For each element W of Ws, do
    1.  [Assert](https://262.ecma-international.org/12.0/#assert): W has byteLocation in its range.
    2.  Let payloadIndex be byteLocation - W.\[\[ByteIndex\]\].
    3.  If W is a [WriteSharedMemory](https://262.ecma-international.org/12.0/#sec-memory-model-fundamentals) event, then
        1.  Let byte be W.\[\[Payload\]\]\[payloadIndex\].
    4.  Else,
        1.  [Assert](https://262.ecma-international.org/12.0/#assert): W is a [ReadModifyWriteSharedMemory](https://262.ecma-international.org/12.0/#sec-memory-model-fundamentals) event.
        2.  Let bytes be [ValueOfReadEvent](https://262.ecma-international.org/12.0/#sec-valueofreadevent)(execution, W).
        3.  Let bytesModified be W.\[\[ModifyOp\]\](bytes, W.\[\[Payload\]\]).
        4.  Let byte be bytesModified\[payloadIndex\].
    5.  Append byte to bytesRead.
    6.  Set byteLocation to byteLocation + 1.
4.  Return bytesRead.

Note 1

The read-modify-write modification \[\[ModifyOp\]\] is given by the function properties on the Atomics object that introduce [ReadModifyWriteSharedMemory](https://262.ecma-international.org/12.0/#sec-memory-model-fundamentals) events.

Note 2

This abstract operation composes a [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) of write events into a [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) of byte values. It is used in the event semantics of [ReadSharedMemory](https://262.ecma-international.org/12.0/#sec-memory-model-fundamentals) and [ReadModifyWriteSharedMemory](https://262.ecma-international.org/12.0/#sec-memory-model-fundamentals) events.

## 29.5.5 ValueOfReadEvent ( execution, R )

The abstract operation ValueOfReadEvent takes arguments execution (a [candidate execution](https://262.ecma-international.org/12.0/#sec-candidate-executions)) and R (a [ReadSharedMemory](https://262.ecma-international.org/12.0/#sec-memory-model-fundamentals) or [ReadModifyWriteSharedMemory](https://262.ecma-international.org/12.0/#sec-memory-model-fundamentals) event). It performs the following steps when called:

1.  [Assert](https://262.ecma-international.org/12.0/#assert): R is a [ReadSharedMemory](https://262.ecma-international.org/12.0/#sec-memory-model-fundamentals) or [ReadModifyWriteSharedMemory](https://262.ecma-international.org/12.0/#sec-memory-model-fundamentals) event.
2.  Let Ws be execution.\[\[ReadsBytesFrom\]\](R).
3.  [Assert](https://262.ecma-international.org/12.0/#assert): Ws is a [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) of [WriteSharedMemory](https://262.ecma-international.org/12.0/#sec-memory-model-fundamentals) or [ReadModifyWriteSharedMemory](https://262.ecma-international.org/12.0/#sec-memory-model-fundamentals) events with length equal to R.\[\[ElementSize\]\].
4.  Return [ComposeWriteEventBytes](https://262.ecma-international.org/12.0/#sec-composewriteeventbytes)(execution, R.\[\[ByteIndex\]\], Ws).

## 29.6 Relations of Candidate Executions

## 29.6.1 agent-order

For a [candidate execution](https://262.ecma-international.org/12.0/#sec-candidate-executions) execution, execution.\[\[AgentOrder\]\] is a [Relation](https://262.ecma-international.org/12.0/#sec-set-and-relation-specification-type) on events that satisfies the following.

-   For each pair (E, D) in [EventSet](https://262.ecma-international.org/12.0/#sec-event-set)(execution), (E, D) is in execution.\[\[AgentOrder\]\] if there is some [Agent Events Record](https://262.ecma-international.org/12.0/#sec-agent-event-records) aer in execution.\[\[EventsRecords\]\] such that E and D are in aer.\[\[EventList\]\] and E is before D in [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) order of aer.\[\[EventList\]\].

Note

Each [agent](https://262.ecma-international.org/12.0/#agent) introduces events in a per-[agent](https://262.ecma-international.org/12.0/#agent) [strict total order](https://262.ecma-international.org/12.0/#sec-set-and-relation-specification-type) during the evaluation. This is the union of those strict total orders.

## 29.6.2 reads-bytes-from

For a [candidate execution](https://262.ecma-international.org/12.0/#sec-candidate-executions) execution, execution.\[\[ReadsBytesFrom\]\] is a mathematical function mapping events in [SharedDataBlockEventSet](https://262.ecma-international.org/12.0/#sec-sharedatablockeventset)(execution) to Lists of events in [SharedDataBlockEventSet](https://262.ecma-international.org/12.0/#sec-sharedatablockeventset)(execution) that satisfies the following conditions.

-   For each [ReadSharedMemory](https://262.ecma-international.org/12.0/#sec-memory-model-fundamentals) or [ReadModifyWriteSharedMemory](https://262.ecma-international.org/12.0/#sec-memory-model-fundamentals) event R in [SharedDataBlockEventSet](https://262.ecma-international.org/12.0/#sec-sharedatablockeventset)(execution), execution.\[\[ReadsBytesFrom\]\](R) is a [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) of length R.\[\[ElementSize\]\] whose elements are [WriteSharedMemory](https://262.ecma-international.org/12.0/#sec-memory-model-fundamentals) or [ReadModifyWriteSharedMemory](https://262.ecma-international.org/12.0/#sec-memory-model-fundamentals) events Ws such that all of the following are true.
    
    -   Each event W with index i in Ws has R.\[\[ByteIndex\]\] + i in its range.
    -   R is not in Ws.

## 29.6.3 reads-from

For a [candidate execution](https://262.ecma-international.org/12.0/#sec-candidate-executions) execution, execution.\[\[ReadsFrom\]\] is the least [Relation](https://262.ecma-international.org/12.0/#sec-set-and-relation-specification-type) on events that satisfies the following.

-   For each pair (R, W) in [SharedDataBlockEventSet](https://262.ecma-international.org/12.0/#sec-sharedatablockeventset)(execution), (R, W) is in execution.\[\[ReadsFrom\]\] if W is in execution.\[\[ReadsBytesFrom\]\](R).

## 29.6.4 host-synchronizes-with

For a [candidate execution](https://262.ecma-international.org/12.0/#sec-candidate-executions) execution, execution.\[\[HostSynchronizesWith\]\] is a [host](https://262.ecma-international.org/12.0/#host)\-provided [strict partial order](https://262.ecma-international.org/12.0/#sec-set-and-relation-specification-type) on [host](https://262.ecma-international.org/12.0/#host)\-specific events that satisfies at least the following.

-   If (E, D) is in execution.\[\[HostSynchronizesWith\]\], E and D are in [HostEventSet](https://262.ecma-international.org/12.0/#sec-hosteventset)(execution).
-   There is no cycle in the union of execution.\[\[HostSynchronizesWith\]\] and execution.\[\[AgentOrder\]\].

Note 1

For two [host](https://262.ecma-international.org/12.0/#host)\-specific events E and D, E host-synchronizes-with D implies E [happens-before](https://262.ecma-international.org/12.0/#sec-happens-before) D.

Note 2

The host-synchronizes-with relation allows the [host](https://262.ecma-international.org/12.0/#host) to provide additional synchronization mechanisms, such as `postMessage` between HTML workers.

## 29.6.5 synchronizes-with

For a [candidate execution](https://262.ecma-international.org/12.0/#sec-candidate-executions) execution, execution.\[\[SynchronizesWith\]\] is the least [Relation](https://262.ecma-international.org/12.0/#sec-set-and-relation-specification-type) on events that satisfies the following.

-   For each pair (R, W) in execution.\[\[ReadsFrom\]\], (W, R) is in execution.\[\[SynchronizesWith\]\] if R.\[\[Order\]\] is SeqCst, W.\[\[Order\]\] is SeqCst, and R and W have equal ranges.
-   For each element eventsRecord of execution.\[\[EventsRecords\]\], the following is true.
    -   For each pair (S, Sw) in eventsRecord.\[\[AgentSynchronizesWith\]\], (S, Sw) is in execution.\[\[SynchronizesWith\]\].
-   For each pair (E, D) in execution.\[\[HostSynchronizesWith\]\], (E, D) is in execution.\[\[SynchronizesWith\]\].

Note 1

Owing to convention, write events synchronizes-with read events, instead of read events synchronizes-with write events.

Note 2

Init events do not participate in synchronizes-with, and are instead constrained directly by [happens-before](https://262.ecma-international.org/12.0/#sec-happens-before).

Note 3

Not all SeqCst events related by [reads-from](https://262.ecma-international.org/12.0/#sec-reads-from) are related by synchronizes-with. Only events that also have equal ranges are related by synchronizes-with.

Note 4

For [Shared Data Block](https://262.ecma-international.org/12.0/#sec-data-blocks) events R and W such that W synchronizes-with R, R may [reads-from](https://262.ecma-international.org/12.0/#sec-reads-from) other writes than W.

## 29.6.6 happens-before

For a [candidate execution](https://262.ecma-international.org/12.0/#sec-candidate-executions) execution, execution.\[\[HappensBefore\]\] is the least [Relation](https://262.ecma-international.org/12.0/#sec-set-and-relation-specification-type) on events that satisfies the following.

-   For each pair (E, D) in execution.\[\[AgentOrder\]\], (E, D) is in execution.\[\[HappensBefore\]\].
-   For each pair (E, D) in execution.\[\[SynchronizesWith\]\], (E, D) is in execution.\[\[HappensBefore\]\].
-   For each pair (E, D) in [SharedDataBlockEventSet](https://262.ecma-international.org/12.0/#sec-sharedatablockeventset)(execution), (E, D) is in execution.\[\[HappensBefore\]\] if E.\[\[Order\]\] is Init and E and D have overlapping ranges.
-   For each pair (E, D) in [EventSet](https://262.ecma-international.org/12.0/#sec-event-set)(execution), (E, D) is in execution.\[\[HappensBefore\]\] if there is an event F such that the pairs (E, F) and (F, D) are in execution.\[\[HappensBefore\]\].

Note

Because happens-before is a superset of [agent-order](https://262.ecma-international.org/12.0/#sec-agent-order), candidate executions are consistent with the single-thread evaluation semantics of ECMAScript.

## 29.7 Properties of Valid Executions

## 29.7.1 Valid Chosen Reads

A [candidate execution](https://262.ecma-international.org/12.0/#sec-candidate-executions) execution has valid chosen reads if the following abstract operation returns true.

1.  For each [ReadSharedMemory](https://262.ecma-international.org/12.0/#sec-memory-model-fundamentals) or [ReadModifyWriteSharedMemory](https://262.ecma-international.org/12.0/#sec-memory-model-fundamentals) event R of [SharedDataBlockEventSet](https://262.ecma-international.org/12.0/#sec-sharedatablockeventset)(execution), do
    1.  Let chosenValueRecord be the element of execution.\[\[ChosenValues\]\] whose \[\[Event\]\] field is R.
    2.  Let chosenValue be chosenValueRecord.\[\[ChosenValue\]\].
    3.  Let readValue be [ValueOfReadEvent](https://262.ecma-international.org/12.0/#sec-valueofreadevent)(execution, R).
    4.  Let chosenLen be the number of elements of chosenValue.
    5.  Let readLen be the number of elements of readValue.
    6.  If chosenLen ≠ readLen, then
        1.  Return false.
    7.  If chosenValue\[i\] ≠ readValue\[i\] for any [integer](https://262.ecma-international.org/12.0/#integer) value i in the range 0 through chosenLen, exclusive, then
        1.  Return false.
2.  Return true.

## 29.7.2 Coherent Reads

A [candidate execution](https://262.ecma-international.org/12.0/#sec-candidate-executions) execution has coherent reads if the following abstract operation returns true.

1.  For each [ReadSharedMemory](https://262.ecma-international.org/12.0/#sec-memory-model-fundamentals) or [ReadModifyWriteSharedMemory](https://262.ecma-international.org/12.0/#sec-memory-model-fundamentals) event R of [SharedDataBlockEventSet](https://262.ecma-international.org/12.0/#sec-sharedatablockeventset)(execution), do
    1.  Let Ws be execution.\[\[ReadsBytesFrom\]\](R).
    2.  Let byteLocation be R.\[\[ByteIndex\]\].
    3.  For each element W of Ws, do
        1.  If (R, W) is in execution.\[\[HappensBefore\]\], then
            1.  Return false.
        2.  If there is a [WriteSharedMemory](https://262.ecma-international.org/12.0/#sec-memory-model-fundamentals) or [ReadModifyWriteSharedMemory](https://262.ecma-international.org/12.0/#sec-memory-model-fundamentals) event V that has byteLocation in its range such that the pairs (W, V) and (V, R) are in execution.\[\[HappensBefore\]\], then
            1.  Return false.
        3.  Set byteLocation to byteLocation + 1.
2.  Return true.

## 29.7.3 Tear Free Reads

A [candidate execution](https://262.ecma-international.org/12.0/#sec-candidate-executions) execution has tear free reads if the following abstract operation returns true.

1.  For each [ReadSharedMemory](https://262.ecma-international.org/12.0/#sec-memory-model-fundamentals) or [ReadModifyWriteSharedMemory](https://262.ecma-international.org/12.0/#sec-memory-model-fundamentals) event R of [SharedDataBlockEventSet](https://262.ecma-international.org/12.0/#sec-sharedatablockeventset)(execution), do
    1.  If R.\[\[NoTear\]\] is true, then
        1.  [Assert](https://262.ecma-international.org/12.0/#assert): The remainder of dividing R.\[\[ByteIndex\]\] by R.\[\[ElementSize\]\] is 0.
        2.  For each event W such that (R, W) is in execution.\[\[ReadsFrom\]\] and W.\[\[NoTear\]\] is true, do
            1.  If R and W have equal ranges, and there is an event V such that V and W have equal ranges, V.\[\[NoTear\]\] is true, W is not V, and (R, V) is in execution.\[\[ReadsFrom\]\], then
                1.  Return false.
2.  Return true.

Note

An event's \[\[NoTear\]\] field is true when that event was introduced via accessing an [integer](https://262.ecma-international.org/12.0/#integer) TypedArray, and false when introduced via accessing a floating point TypedArray or DataView.

Intuitively, this requirement says when a memory range is accessed in an aligned fashion via an [integer](https://262.ecma-international.org/12.0/#integer) TypedArray, a single write event on that range must "win" when in a data race with other write events with equal ranges. More precisely, this requirement says an aligned read event cannot read a value composed of bytes from multiple, different write events all with equal ranges. It is possible, however, for an aligned read event to read from multiple write events with overlapping ranges.

## 29.7.4 Sequentially Consistent Atomics

For a [candidate execution](https://262.ecma-international.org/12.0/#sec-candidate-executions) execution, memory-order is a [strict total order](https://262.ecma-international.org/12.0/#sec-set-and-relation-specification-type) of all events in [EventSet](https://262.ecma-international.org/12.0/#sec-event-set)(execution) that satisfies the following.

-   For each pair (E, D) in execution.\[\[HappensBefore\]\], (E, D) is in memory-order.
-   For each pair (R, W) in execution.\[\[ReadsFrom\]\], there is no [WriteSharedMemory](https://262.ecma-international.org/12.0/#sec-memory-model-fundamentals) or [ReadModifyWriteSharedMemory](https://262.ecma-international.org/12.0/#sec-memory-model-fundamentals) event V in [SharedDataBlockEventSet](https://262.ecma-international.org/12.0/#sec-sharedatablockeventset)(execution) such that V.\[\[Order\]\] is SeqCst, the pairs (W, V) and (V, R) are in memory-order, and any of the following conditions are true.
    
    -   The pair (W, R) is in execution.\[\[SynchronizesWith\]\], and V and R have equal ranges.
    -   The pairs (W, R) and (V, R) are in execution.\[\[HappensBefore\]\], W.\[\[Order\]\] is SeqCst, and W and V have equal ranges.
    -   The pairs (W, R) and (W, V) are in execution.\[\[HappensBefore\]\], R.\[\[Order\]\] is SeqCst, and V and R have equal ranges.
    
    Note 1
    
    This clause additionally constrains SeqCst events on equal ranges.
    
-   For each [WriteSharedMemory](https://262.ecma-international.org/12.0/#sec-memory-model-fundamentals) or [ReadModifyWriteSharedMemory](https://262.ecma-international.org/12.0/#sec-memory-model-fundamentals) event W in [SharedDataBlockEventSet](https://262.ecma-international.org/12.0/#sec-sharedatablockeventset)(execution), if W.\[\[Order\]\] is SeqCst, then it is not the case that there is an infinite number of [ReadSharedMemory](https://262.ecma-international.org/12.0/#sec-memory-model-fundamentals) or [ReadModifyWriteSharedMemory](https://262.ecma-international.org/12.0/#sec-memory-model-fundamentals) events in [SharedDataBlockEventSet](https://262.ecma-international.org/12.0/#sec-sharedatablockeventset)(execution) with equal range that is memory-order before W.
    
    Note 2
    
    This clause together with the forward progress guarantee on agents ensure the liveness condition that SeqCst writes become visible to SeqCst reads with equal range in finite time.
    

A [candidate execution](https://262.ecma-international.org/12.0/#sec-candidate-executions) has sequentially consistent atomics if a memory-order exists.

Note 3

While memory-order includes all events in [EventSet](https://262.ecma-international.org/12.0/#sec-event-set)(execution), those that are not constrained by [happens-before](https://262.ecma-international.org/12.0/#sec-happens-before) or [synchronizes-with](https://262.ecma-international.org/12.0/#sec-synchronizes-with) are allowed to occur anywhere in the order.

## 29.7.5 Valid Executions

A [candidate execution](https://262.ecma-international.org/12.0/#sec-candidate-executions) execution is a valid execution (or simply an execution) if all of the following are true.

-   The [host](https://262.ecma-international.org/12.0/#host) provides a [host-synchronizes-with](https://262.ecma-international.org/12.0/#sec-host-synchronizes-with) [Relation](https://262.ecma-international.org/12.0/#sec-set-and-relation-specification-type) for execution.\[\[HostSynchronizesWith\]\].
-   execution.\[\[HappensBefore\]\] is a [strict partial order](https://262.ecma-international.org/12.0/#sec-set-and-relation-specification-type).
-   execution has valid chosen reads.
-   execution has coherent reads.
-   execution has tear free reads.
-   execution has sequentially consistent atomics.

All programs have at least one valid execution.

## 29.8 Races

For an execution execution, two events E and D in [SharedDataBlockEventSet](https://262.ecma-international.org/12.0/#sec-sharedatablockeventset)(execution) are in a race if the following abstract operation returns true.

1.  If E is not D, then
    1.  If the pairs (E, D) and (D, E) are not in execution.\[\[HappensBefore\]\], then
        1.  If E and D are both [WriteSharedMemory](https://262.ecma-international.org/12.0/#sec-memory-model-fundamentals) or [ReadModifyWriteSharedMemory](https://262.ecma-international.org/12.0/#sec-memory-model-fundamentals) events and E and D do not have disjoint ranges, then
            1.  Return true.
        2.  If either (E, D) or (D, E) is in execution.\[\[ReadsFrom\]\], then
            1.  Return true.
2.  Return false.

## 29.9 Data Races

For an execution execution, two events E and D in [SharedDataBlockEventSet](https://262.ecma-international.org/12.0/#sec-sharedatablockeventset)(execution) are in a data race if the following abstract operation returns true.

1.  If E and D are in a race in execution, then
    1.  If E.\[\[Order\]\] is not SeqCst or D.\[\[Order\]\] is not SeqCst, then
        1.  Return true.
    2.  If E and D have overlapping ranges, then
        1.  Return true.
2.  Return false.

## 29.10 Data Race Freedom

An execution execution is data race free if there are no two events in [SharedDataBlockEventSet](https://262.ecma-international.org/12.0/#sec-sharedatablockeventset)(execution) that are in a data race.

A program is data race free if all its executions are data race free.

The [memory model](https://262.ecma-international.org/12.0/#sec-memory-model) guarantees sequential consistency of all events for data race free programs.

## 29.11 Shared Memory Guidelines

Note 1

The following are guidelines for ECMAScript programmers working with shared memory.

We recommend programs be kept data race free, i.e., make it so that it is impossible for there to be concurrent non-atomic operations on the same memory location. Data race free programs have interleaving semantics where each step in the evaluation semantics of each [agent](https://262.ecma-international.org/12.0/#agent) are interleaved with each other. For data race free programs, it is not necessary to understand the details of the [memory model](https://262.ecma-international.org/12.0/#sec-memory-model). The details are unlikely to build intuition that will help one to better write ECMAScript.

More generally, even if a program is not data race free it may have predictable behaviour, so long as atomic operations are not involved in any data races and the operations that race all have the same access size. The simplest way to arrange for atomics not to be involved in races is to ensure that different memory cells are used by atomic and non-atomic operations and that atomic accesses of different sizes are not used to access the same cells at the same time. Effectively, the program should treat shared memory as strongly typed as much as possible. One still cannot depend on the ordering and timing of non-atomic accesses that race, but if memory is treated as strongly typed the racing accesses will not "tear" (bits of their values will not be mixed).

Note 2

The following are guidelines for ECMAScript implementers writing compiler transformations for programs using shared memory.

It is desirable to allow most program transformations that are valid in a single-[agent](https://262.ecma-international.org/12.0/#agent) setting in a multi-[agent](https://262.ecma-international.org/12.0/#agent) setting, to ensure that the performance of each [agent](https://262.ecma-international.org/12.0/#agent) in a multi-[agent](https://262.ecma-international.org/12.0/#agent) program is as good as it would be in a single-[agent](https://262.ecma-international.org/12.0/#agent) setting. Frequently these transformations are hard to judge. We outline some rules about program transformations that are intended to be taken as normative (in that they are implied by the [memory model](https://262.ecma-international.org/12.0/#sec-memory-model) or stronger than what the [memory model](https://262.ecma-international.org/12.0/#sec-memory-model) implies) but which are likely not exhaustive. These rules are intended to apply to program transformations that precede the introductions of the events that make up the [agent-order](https://262.ecma-international.org/12.0/#sec-agent-order).

Let an agent-order slice be the subset of the [agent-order](https://262.ecma-international.org/12.0/#sec-agent-order) pertaining to a single [agent](https://262.ecma-international.org/12.0/#agent).

Let possible read values of a read event be the set of all values of [ValueOfReadEvent](https://262.ecma-international.org/12.0/#sec-valueofreadevent) for that event across all valid executions.

Any transformation of an agent-order slice that is valid in the absence of shared memory is valid in the presence of shared memory, with the following exceptions.

-   _Atomics are carved in stone_: Program transformations must not cause the SeqCst events in an agent-order slice to be reordered with its Unordered operations, nor its SeqCst operations to be reordered with each other, nor may a program transformation remove a SeqCst operation from the [agent-order](https://262.ecma-international.org/12.0/#sec-agent-order).
    
    (In practice, the prohibition on reorderings forces a compiler to assume that every SeqCst operation is a synchronization and included in the final [memory-order](https://262.ecma-international.org/12.0/#sec-memory-order), which it would usually have to assume anyway in the absence of inter-[agent](https://262.ecma-international.org/12.0/#agent) program analysis. It also forces the compiler to assume that every call where the callee's effects on the [memory-order](https://262.ecma-international.org/12.0/#sec-memory-order) are unknown may contain SeqCst operations.)
    
-   _Reads must be stable_: Any given shared memory read must only observe a single value in an execution.
    
    (For example, if what is semantically a single read in the program is executed multiple times then the program is subsequently allowed to observe only one of the values read. A transformation known as rematerialization can violate this rule.)
    
-   _Writes must be stable_: All observable writes to shared memory must follow from program semantics in an execution.
    
    (For example, a transformation may not introduce certain observable writes, such as by using read-modify-write operations on a larger location to write a smaller datum, writing a value to memory that the program could not have written, or writing a just-read value back to the location it was read from, if that location could have been overwritten by another [agent](https://262.ecma-international.org/12.0/#agent) after the read.)
    
-   _Possible read values must be nonempty_: Program transformations cannot cause the possible read values of a shared memory read to become empty.
    
    (Counterintuitively, this rule in effect restricts transformations on writes, because writes have force in [memory model](https://262.ecma-international.org/12.0/#sec-memory-model) insofar as to be read by read events. For example, writes may be moved and coalesced and sometimes reordered between two SeqCst operations, but the transformation may not remove every write that updates a location; some write must be preserved.)
    

Examples of transformations that remain valid are: merging multiple non-atomic reads from the same location, reordering non-atomic reads, introducing speculative non-atomic reads, merging multiple non-atomic writes to the same location, reordering non-atomic writes to different locations, and hoisting non-atomic reads out of loops even if that affects termination. Note in general that aliased TypedArrays make it hard to prove that locations are different.

Note 3

The following are guidelines for ECMAScript implementers generating machine code for shared memory accesses.

For architectures with memory models no weaker than those of ARM or Power, non-atomic stores and loads may be compiled to bare stores and loads on the target architecture. Atomic stores and loads may be compiled down to instructions that guarantee sequential consistency. If no such instructions exist, memory barriers are to be employed, such as placing barriers on both sides of a bare store or load. Read-modify-write operations may be compiled to read-modify-write instructions on the target architecture, such as `LOCK`\-prefixed instructions on x86, load-exclusive/store-exclusive instructions on ARM, and load-link/store-conditional instructions on Power.

Specifically, the [memory model](https://262.ecma-international.org/12.0/#sec-memory-model) is intended to allow code generation as follows.

-   Every atomic operation in the program is assumed to be necessary.
-   Atomic operations are never rearranged with each other or with non-atomic operations.
-   Functions are always assumed to perform atomic operations.
-   Atomic operations are never implemented as read-modify-write operations on larger data, but as non-lock-free atomics if the platform does not have atomic operations of the appropriate size. (We already assume that every platform has normal memory access operations of every interesting size.)

Naive code generation uses these patterns:

-   Regular loads and stores compile to single load and store instructions.
-   Lock-free atomic loads and stores compile to a full (sequentially consistent) fence, a regular load or store, and a full fence.
-   Lock-free atomic read-modify-write accesses compile to a full fence, an atomic read-modify-write instruction sequence, and a full fence.
-   Non-lock-free atomics compile to a spinlock acquire, a full fence, a series of non-atomic load and store instructions, a full fence, and a spinlock release.

That mapping is correct so long as an atomic operation on an address range does not race with a non-atomic write or with an atomic operation of different size. However, that is all we need: the [memory model](https://262.ecma-international.org/12.0/#sec-memory-model) effectively demotes the atomic operations involved in a race to non-atomic status. On the other hand, the naive mapping is quite strong: it allows atomic operations to be used as sequentially consistent fences, which the [memory model](https://262.ecma-international.org/12.0/#sec-memory-model) does not actually guarantee.

A number of local improvements to those basic patterns are also intended to be legal:

-   There are obvious platform-dependent improvements that remove redundant fences. For example, on x86 the fences around lock-free atomic loads and stores can always be omitted except for the fence following a store, and no fence is needed for lock-free read-modify-write instructions, as these all use LOCK-prefixed instructions. On many platforms there are fences of several strengths, and weaker fences can be used in certain contexts without destroying sequential consistency.
-   Most modern platforms support lock-free atomics for all the data sizes required by ECMAScript atomics. Should non-lock-free atomics be needed, the fences surrounding the body of the atomic operation can usually be folded into the lock and unlock steps. The simplest solution for non-lock-free atomics is to have a single lock word per SharedArrayBuffer.
-   There are also more complicated platform-dependent local improvements, requiring some code analysis. For example, two back-to-back fences often have the same effect as a single fence, so if code is generated for two atomic operations in sequence, only a single fence need separate them. On x86, even a single fence separating atomic stores can be omitted, as the fence following a store is only needed to separate the store from a subsequent load.

## A Grammar Summary

## A.1 Lexical Grammar

[SourceCharacter](https://262.ecma-international.org/12.0/#prod-SourceCharacter) :: any Unicode code point [InputElementDiv](https://262.ecma-international.org/12.0/#prod-InputElementDiv) :: [WhiteSpace](https://262.ecma-international.org/12.0/#prod-WhiteSpace) [LineTerminator](https://262.ecma-international.org/12.0/#prod-LineTerminator) [Comment](https://262.ecma-international.org/12.0/#prod-Comment) [CommonToken](https://262.ecma-international.org/12.0/#prod-CommonToken) [DivPunctuator](https://262.ecma-international.org/12.0/#prod-DivPunctuator) [RightBracePunctuator](https://262.ecma-international.org/12.0/#prod-RightBracePunctuator) [InputElementRegExp](https://262.ecma-international.org/12.0/#prod-InputElementRegExp) :: [WhiteSpace](https://262.ecma-international.org/12.0/#prod-WhiteSpace) [LineTerminator](https://262.ecma-international.org/12.0/#prod-LineTerminator) [Comment](https://262.ecma-international.org/12.0/#prod-Comment) [CommonToken](https://262.ecma-international.org/12.0/#prod-CommonToken) [RightBracePunctuator](https://262.ecma-international.org/12.0/#prod-RightBracePunctuator) [RegularExpressionLiteral](https://262.ecma-international.org/12.0/#prod-RegularExpressionLiteral) [InputElementRegExpOrTemplateTail](https://262.ecma-international.org/12.0/#prod-InputElementRegExpOrTemplateTail) :: [WhiteSpace](https://262.ecma-international.org/12.0/#prod-WhiteSpace) [LineTerminator](https://262.ecma-international.org/12.0/#prod-LineTerminator) [Comment](https://262.ecma-international.org/12.0/#prod-Comment) [CommonToken](https://262.ecma-international.org/12.0/#prod-CommonToken) [RegularExpressionLiteral](https://262.ecma-international.org/12.0/#prod-RegularExpressionLiteral) [TemplateSubstitutionTail](https://262.ecma-international.org/12.0/#prod-TemplateSubstitutionTail) [InputElementTemplateTail](https://262.ecma-international.org/12.0/#prod-InputElementTemplateTail) :: [WhiteSpace](https://262.ecma-international.org/12.0/#prod-WhiteSpace) [LineTerminator](https://262.ecma-international.org/12.0/#prod-LineTerminator) [Comment](https://262.ecma-international.org/12.0/#prod-Comment) [CommonToken](https://262.ecma-international.org/12.0/#prod-CommonToken) [DivPunctuator](https://262.ecma-international.org/12.0/#prod-DivPunctuator) [TemplateSubstitutionTail](https://262.ecma-international.org/12.0/#prod-TemplateSubstitutionTail) [WhiteSpace](https://262.ecma-international.org/12.0/#prod-WhiteSpace) :: <TAB> <VT> <FF> <SP> <NBSP> <ZWNBSP> <USP> [LineTerminator](https://262.ecma-international.org/12.0/#prod-LineTerminator) :: <LF> <CR> <LS> <PS> [LineTerminatorSequence](https://262.ecma-international.org/12.0/#prod-LineTerminatorSequence) :: <LF> <CR> \[lookahead ≠ <LF>\] <LS> <PS> <CR> <LF> [Comment](https://262.ecma-international.org/12.0/#prod-Comment) :: [MultiLineComment](https://262.ecma-international.org/12.0/#prod-MultiLineComment) [SingleLineComment](https://262.ecma-international.org/12.0/#prod-SingleLineComment) [MultiLineComment](https://262.ecma-international.org/12.0/#prod-MultiLineComment) :: /\* [MultiLineCommentChars](https://262.ecma-international.org/12.0/#prod-MultiLineCommentChars)opt \*/ [MultiLineCommentChars](https://262.ecma-international.org/12.0/#prod-MultiLineCommentChars) :: [MultiLineNotAsteriskChar](https://262.ecma-international.org/12.0/#prod-MultiLineNotAsteriskChar) [MultiLineCommentChars](https://262.ecma-international.org/12.0/#prod-MultiLineCommentChars)opt \* [PostAsteriskCommentChars](https://262.ecma-international.org/12.0/#prod-PostAsteriskCommentChars)opt [PostAsteriskCommentChars](https://262.ecma-international.org/12.0/#prod-PostAsteriskCommentChars) :: [MultiLineNotForwardSlashOrAsteriskChar](https://262.ecma-international.org/12.0/#prod-MultiLineNotForwardSlashOrAsteriskChar) [MultiLineCommentChars](https://262.ecma-international.org/12.0/#prod-MultiLineCommentChars)opt \* [PostAsteriskCommentChars](https://262.ecma-international.org/12.0/#prod-PostAsteriskCommentChars)opt [MultiLineNotAsteriskChar](https://262.ecma-international.org/12.0/#prod-MultiLineNotAsteriskChar) :: [SourceCharacter](https://262.ecma-international.org/12.0/#prod-SourceCharacter) but not \* [MultiLineNotForwardSlashOrAsteriskChar](https://262.ecma-international.org/12.0/#prod-MultiLineNotForwardSlashOrAsteriskChar) :: [SourceCharacter](https://262.ecma-international.org/12.0/#prod-SourceCharacter) but not one of / or \* [SingleLineComment](https://262.ecma-international.org/12.0/#prod-SingleLineComment) :: // [SingleLineCommentChars](https://262.ecma-international.org/12.0/#prod-SingleLineCommentChars)opt [SingleLineCommentChars](https://262.ecma-international.org/12.0/#prod-SingleLineCommentChars) :: [SingleLineCommentChar](https://262.ecma-international.org/12.0/#prod-SingleLineCommentChar) [SingleLineCommentChars](https://262.ecma-international.org/12.0/#prod-SingleLineCommentChars)opt [SingleLineCommentChar](https://262.ecma-international.org/12.0/#prod-SingleLineCommentChar) :: [SourceCharacter](https://262.ecma-international.org/12.0/#prod-SourceCharacter) but not [LineTerminator](https://262.ecma-international.org/12.0/#prod-LineTerminator) [CommonToken](https://262.ecma-international.org/12.0/#prod-CommonToken) :: [IdentifierName](https://262.ecma-international.org/12.0/#prod-IdentifierName) [Punctuator](https://262.ecma-international.org/12.0/#prod-Punctuator) [NumericLiteral](https://262.ecma-international.org/12.0/#prod-NumericLiteral) [StringLiteral](https://262.ecma-international.org/12.0/#prod-StringLiteral) [Template](https://262.ecma-international.org/12.0/#prod-Template) [IdentifierName](https://262.ecma-international.org/12.0/#prod-IdentifierName) :: [IdentifierStart](https://262.ecma-international.org/12.0/#prod-IdentifierStart) [IdentifierName](https://262.ecma-international.org/12.0/#prod-IdentifierName) [IdentifierPart](https://262.ecma-international.org/12.0/#prod-IdentifierPart) [IdentifierStart](https://262.ecma-international.org/12.0/#prod-IdentifierStart) :: [UnicodeIDStart](https://262.ecma-international.org/12.0/#prod-UnicodeIDStart) $ \_ \\ [UnicodeEscapeSequence](https://262.ecma-international.org/12.0/#prod-UnicodeEscapeSequence) [IdentifierPart](https://262.ecma-international.org/12.0/#prod-IdentifierPart) :: [UnicodeIDContinue](https://262.ecma-international.org/12.0/#prod-UnicodeIDContinue) $ \\ [UnicodeEscapeSequence](https://262.ecma-international.org/12.0/#prod-UnicodeEscapeSequence) <ZWNJ> <ZWJ> [UnicodeIDStart](https://262.ecma-international.org/12.0/#prod-UnicodeIDStart) :: any Unicode code point with the Unicode property “ID\_Start” [UnicodeIDContinue](https://262.ecma-international.org/12.0/#prod-UnicodeIDContinue) :: any Unicode code point with the Unicode property “ID\_Continue” [ReservedWord](https://262.ecma-international.org/12.0/#prod-ReservedWord) :: one of await break case catch class const continue debugger default delete do else enum export extends false finally for function if import in instanceof new null return super switch this throw true try typeof var void while with yield [Punctuator](https://262.ecma-international.org/12.0/#prod-Punctuator) :: [OptionalChainingPunctuator](https://262.ecma-international.org/12.0/#prod-OptionalChainingPunctuator) [OtherPunctuator](https://262.ecma-international.org/12.0/#prod-OtherPunctuator) [OptionalChainingPunctuator](https://262.ecma-international.org/12.0/#prod-OptionalChainingPunctuator) :: ?. \[lookahead ∉ [DecimalDigit](https://262.ecma-international.org/12.0/#prod-DecimalDigit)\] [OtherPunctuator](https://262.ecma-international.org/12.0/#prod-OtherPunctuator) :: one of { ( ) \[ \] . ... ; , < \> <= \>= \== != \=== !== + \- \* % \*\* ++ \-- << \>> \>>> & | ^ ! ~ && || ?? ? : \= += \-= \*= %= \*\*= <<= \>>= \>>>= &= |= ^= &&= ||= ??= \=> [DivPunctuator](https://262.ecma-international.org/12.0/#prod-DivPunctuator) :: / /= [RightBracePunctuator](https://262.ecma-international.org/12.0/#prod-RightBracePunctuator) :: } [NullLiteral](https://262.ecma-international.org/12.0/#prod-NullLiteral) :: null [BooleanLiteral](https://262.ecma-international.org/12.0/#prod-BooleanLiteral) :: true false [NumericLiteralSeparator](https://262.ecma-international.org/12.0/#prod-NumericLiteralSeparator) :: \_ [NumericLiteral](https://262.ecma-international.org/12.0/#prod-NumericLiteral) :: [DecimalLiteral](https://262.ecma-international.org/12.0/#prod-DecimalLiteral) [DecimalBigIntegerLiteral](https://262.ecma-international.org/12.0/#prod-DecimalBigIntegerLiteral) [NonDecimalIntegerLiteral](https://262.ecma-international.org/12.0/#prod-NonDecimalIntegerLiteral)\[+Sep\] [NonDecimalIntegerLiteral](https://262.ecma-international.org/12.0/#prod-NonDecimalIntegerLiteral)\[+Sep\] [BigIntLiteralSuffix](https://262.ecma-international.org/12.0/#prod-BigIntLiteralSuffix) [DecimalBigIntegerLiteral](https://262.ecma-international.org/12.0/#prod-DecimalBigIntegerLiteral) :: 0 [BigIntLiteralSuffix](https://262.ecma-international.org/12.0/#prod-BigIntLiteralSuffix) [NonZeroDigit](https://262.ecma-international.org/12.0/#prod-NonZeroDigit) [DecimalDigits](https://262.ecma-international.org/12.0/#prod-DecimalDigits)\[+Sep\]opt [BigIntLiteralSuffix](https://262.ecma-international.org/12.0/#prod-BigIntLiteralSuffix) [NonZeroDigit](https://262.ecma-international.org/12.0/#prod-NonZeroDigit) [NumericLiteralSeparator](https://262.ecma-international.org/12.0/#prod-NumericLiteralSeparator) [DecimalDigits](https://262.ecma-international.org/12.0/#prod-DecimalDigits)\[+Sep\] [BigIntLiteralSuffix](https://262.ecma-international.org/12.0/#prod-BigIntLiteralSuffix) [NonDecimalIntegerLiteral](https://262.ecma-international.org/12.0/#prod-NonDecimalIntegerLiteral)\[Sep\] :: [BinaryIntegerLiteral](https://262.ecma-international.org/12.0/#prod-BinaryIntegerLiteral)\[?Sep\] [OctalIntegerLiteral](https://262.ecma-international.org/12.0/#prod-OctalIntegerLiteral)\[?Sep\] [HexIntegerLiteral](https://262.ecma-international.org/12.0/#prod-HexIntegerLiteral)\[?Sep\] [BigIntLiteralSuffix](https://262.ecma-international.org/12.0/#prod-BigIntLiteralSuffix) :: n [DecimalLiteral](https://262.ecma-international.org/12.0/#prod-DecimalLiteral) :: [DecimalIntegerLiteral](https://262.ecma-international.org/12.0/#prod-DecimalIntegerLiteral) . [DecimalDigits](https://262.ecma-international.org/12.0/#prod-DecimalDigits)\[+Sep\]opt [ExponentPart](https://262.ecma-international.org/12.0/#prod-ExponentPart)\[+Sep\]opt . [DecimalDigits](https://262.ecma-international.org/12.0/#prod-DecimalDigits)\[+Sep\] [ExponentPart](https://262.ecma-international.org/12.0/#prod-ExponentPart)\[+Sep\]opt [DecimalIntegerLiteral](https://262.ecma-international.org/12.0/#prod-DecimalIntegerLiteral) [ExponentPart](https://262.ecma-international.org/12.0/#prod-ExponentPart)\[+Sep\]opt [DecimalIntegerLiteral](https://262.ecma-international.org/12.0/#prod-DecimalIntegerLiteral) :: 0 [NonZeroDigit](https://262.ecma-international.org/12.0/#prod-NonZeroDigit) [NonZeroDigit](https://262.ecma-international.org/12.0/#prod-NonZeroDigit) [NumericLiteralSeparator](https://262.ecma-international.org/12.0/#prod-NumericLiteralSeparator)opt [DecimalDigits](https://262.ecma-international.org/12.0/#prod-DecimalDigits)\[+Sep\] [DecimalDigits](https://262.ecma-international.org/12.0/#prod-DecimalDigits)\[Sep\] :: [DecimalDigit](https://262.ecma-international.org/12.0/#prod-DecimalDigit) [DecimalDigits](https://262.ecma-international.org/12.0/#prod-DecimalDigits)\[?Sep\] [DecimalDigit](https://262.ecma-international.org/12.0/#prod-DecimalDigit) \[+Sep\] [DecimalDigits](https://262.ecma-international.org/12.0/#prod-DecimalDigits)\[+Sep\] [NumericLiteralSeparator](https://262.ecma-international.org/12.0/#prod-NumericLiteralSeparator) [DecimalDigit](https://262.ecma-international.org/12.0/#prod-DecimalDigit) [DecimalDigit](https://262.ecma-international.org/12.0/#prod-DecimalDigit) :: one of 0 1 2 3 4 5 6 7 8 9 [NonZeroDigit](https://262.ecma-international.org/12.0/#prod-NonZeroDigit) :: one of 1 2 3 4 5 6 7 8 9 [ExponentPart](https://262.ecma-international.org/12.0/#prod-ExponentPart)\[Sep\] :: [ExponentIndicator](https://262.ecma-international.org/12.0/#prod-ExponentIndicator) [SignedInteger](https://262.ecma-international.org/12.0/#prod-SignedInteger)\[?Sep\] [ExponentIndicator](https://262.ecma-international.org/12.0/#prod-ExponentIndicator) :: one of e E [SignedInteger](https://262.ecma-international.org/12.0/#prod-SignedInteger)\[Sep\] :: [DecimalDigits](https://262.ecma-international.org/12.0/#prod-DecimalDigits)\[?Sep\] + [DecimalDigits](https://262.ecma-international.org/12.0/#prod-DecimalDigits)\[?Sep\] \- [DecimalDigits](https://262.ecma-international.org/12.0/#prod-DecimalDigits)\[?Sep\] [BinaryIntegerLiteral](https://262.ecma-international.org/12.0/#prod-BinaryIntegerLiteral)\[Sep\] :: 0b [BinaryDigits](https://262.ecma-international.org/12.0/#prod-BinaryDigits)\[?Sep\] 0B [BinaryDigits](https://262.ecma-international.org/12.0/#prod-BinaryDigits)\[?Sep\] [BinaryDigits](https://262.ecma-international.org/12.0/#prod-BinaryDigits)\[Sep\] :: [BinaryDigit](https://262.ecma-international.org/12.0/#prod-BinaryDigit) [BinaryDigits](https://262.ecma-international.org/12.0/#prod-BinaryDigits)\[?Sep\] [BinaryDigit](https://262.ecma-international.org/12.0/#prod-BinaryDigit) \[+Sep\] [BinaryDigits](https://262.ecma-international.org/12.0/#prod-BinaryDigits)\[+Sep\] [NumericLiteralSeparator](https://262.ecma-international.org/12.0/#prod-NumericLiteralSeparator) [BinaryDigit](https://262.ecma-international.org/12.0/#prod-BinaryDigit) [BinaryDigit](https://262.ecma-international.org/12.0/#prod-BinaryDigit) :: one of 0 1 [OctalIntegerLiteral](https://262.ecma-international.org/12.0/#prod-OctalIntegerLiteral)\[Sep\] :: 0o [OctalDigits](https://262.ecma-international.org/12.0/#prod-OctalDigits)\[?Sep\] 0O [OctalDigits](https://262.ecma-international.org/12.0/#prod-OctalDigits)\[?Sep\] [OctalDigits](https://262.ecma-international.org/12.0/#prod-OctalDigits)\[Sep\] :: [OctalDigit](https://262.ecma-international.org/12.0/#prod-OctalDigit) [OctalDigits](https://262.ecma-international.org/12.0/#prod-OctalDigits)\[?Sep\] [OctalDigit](https://262.ecma-international.org/12.0/#prod-OctalDigit) \[+Sep\] [OctalDigits](https://262.ecma-international.org/12.0/#prod-OctalDigits)\[+Sep\] [NumericLiteralSeparator](https://262.ecma-international.org/12.0/#prod-NumericLiteralSeparator) [OctalDigit](https://262.ecma-international.org/12.0/#prod-OctalDigit) [OctalDigit](https://262.ecma-international.org/12.0/#prod-OctalDigit) :: one of 0 1 2 3 4 5 6 7 [HexIntegerLiteral](https://262.ecma-international.org/12.0/#prod-HexIntegerLiteral)\[Sep\] :: 0x [HexDigits](https://262.ecma-international.org/12.0/#prod-HexDigits)\[?Sep\] 0X [HexDigits](https://262.ecma-international.org/12.0/#prod-HexDigits)\[?Sep\] [HexDigits](https://262.ecma-international.org/12.0/#prod-HexDigits)\[Sep\] :: [HexDigit](https://262.ecma-international.org/12.0/#prod-HexDigit) [HexDigits](https://262.ecma-international.org/12.0/#prod-HexDigits)\[?Sep\] [HexDigit](https://262.ecma-international.org/12.0/#prod-HexDigit) \[+Sep\] [HexDigits](https://262.ecma-international.org/12.0/#prod-HexDigits)\[+Sep\] [NumericLiteralSeparator](https://262.ecma-international.org/12.0/#prod-NumericLiteralSeparator) [HexDigit](https://262.ecma-international.org/12.0/#prod-HexDigit) [HexDigit](https://262.ecma-international.org/12.0/#prod-HexDigit) :: one of 0 1 2 3 4 5 6 7 8 9 a b c d e f A B C D E F [StringLiteral](https://262.ecma-international.org/12.0/#prod-StringLiteral) :: " [DoubleStringCharacters](https://262.ecma-international.org/12.0/#prod-DoubleStringCharacters)opt " ' [SingleStringCharacters](https://262.ecma-international.org/12.0/#prod-SingleStringCharacters)opt ' [DoubleStringCharacters](https://262.ecma-international.org/12.0/#prod-DoubleStringCharacters) :: [DoubleStringCharacter](https://262.ecma-international.org/12.0/#prod-DoubleStringCharacter) [DoubleStringCharacters](https://262.ecma-international.org/12.0/#prod-DoubleStringCharacters)opt [SingleStringCharacters](https://262.ecma-international.org/12.0/#prod-SingleStringCharacters) :: [SingleStringCharacter](https://262.ecma-international.org/12.0/#prod-SingleStringCharacter) [SingleStringCharacters](https://262.ecma-international.org/12.0/#prod-SingleStringCharacters)opt [DoubleStringCharacter](https://262.ecma-international.org/12.0/#prod-DoubleStringCharacter) :: [SourceCharacter](https://262.ecma-international.org/12.0/#prod-SourceCharacter) but not one of " or \\ or [LineTerminator](https://262.ecma-international.org/12.0/#prod-LineTerminator) <LS> <PS> \\ [EscapeSequence](https://262.ecma-international.org/12.0/#prod-EscapeSequence) [LineContinuation](https://262.ecma-international.org/12.0/#prod-LineContinuation) [SingleStringCharacter](https://262.ecma-international.org/12.0/#prod-SingleStringCharacter) :: [SourceCharacter](https://262.ecma-international.org/12.0/#prod-SourceCharacter) but not one of ' or \\ or [LineTerminator](https://262.ecma-international.org/12.0/#prod-LineTerminator) <LS> <PS> \\ [EscapeSequence](https://262.ecma-international.org/12.0/#prod-EscapeSequence) [LineContinuation](https://262.ecma-international.org/12.0/#prod-LineContinuation) [LineContinuation](https://262.ecma-international.org/12.0/#prod-LineContinuation) :: \\ [LineTerminatorSequence](https://262.ecma-international.org/12.0/#prod-LineTerminatorSequence) [EscapeSequence](https://262.ecma-international.org/12.0/#prod-EscapeSequence) :: [CharacterEscapeSequence](https://262.ecma-international.org/12.0/#prod-CharacterEscapeSequence) 0 \[lookahead ∉ [DecimalDigit](https://262.ecma-international.org/12.0/#prod-DecimalDigit)\] [HexEscapeSequence](https://262.ecma-international.org/12.0/#prod-HexEscapeSequence) [UnicodeEscapeSequence](https://262.ecma-international.org/12.0/#prod-UnicodeEscapeSequence) [CharacterEscapeSequence](https://262.ecma-international.org/12.0/#prod-CharacterEscapeSequence) :: [SingleEscapeCharacter](https://262.ecma-international.org/12.0/#prod-SingleEscapeCharacter) [NonEscapeCharacter](https://262.ecma-international.org/12.0/#prod-NonEscapeCharacter) [SingleEscapeCharacter](https://262.ecma-international.org/12.0/#prod-SingleEscapeCharacter) :: one of ' " \\ b f n r t v [NonEscapeCharacter](https://262.ecma-international.org/12.0/#prod-NonEscapeCharacter) :: [SourceCharacter](https://262.ecma-international.org/12.0/#prod-SourceCharacter) but not one of [EscapeCharacter](https://262.ecma-international.org/12.0/#prod-EscapeCharacter) or [LineTerminator](https://262.ecma-international.org/12.0/#prod-LineTerminator) [EscapeCharacter](https://262.ecma-international.org/12.0/#prod-EscapeCharacter) :: [SingleEscapeCharacter](https://262.ecma-international.org/12.0/#prod-SingleEscapeCharacter) [DecimalDigit](https://262.ecma-international.org/12.0/#prod-DecimalDigit) x u [HexEscapeSequence](https://262.ecma-international.org/12.0/#prod-HexEscapeSequence) :: x [HexDigit](https://262.ecma-international.org/12.0/#prod-HexDigit) [HexDigit](https://262.ecma-international.org/12.0/#prod-HexDigit) [UnicodeEscapeSequence](https://262.ecma-international.org/12.0/#prod-UnicodeEscapeSequence) :: u [Hex4Digits](https://262.ecma-international.org/12.0/#prod-Hex4Digits) u{ [CodePoint](https://262.ecma-international.org/12.0/#prod-CodePoint) } [Hex4Digits](https://262.ecma-international.org/12.0/#prod-Hex4Digits) :: [HexDigit](https://262.ecma-international.org/12.0/#prod-HexDigit) [HexDigit](https://262.ecma-international.org/12.0/#prod-HexDigit) [HexDigit](https://262.ecma-international.org/12.0/#prod-HexDigit) [HexDigit](https://262.ecma-international.org/12.0/#prod-HexDigit) [RegularExpressionLiteral](https://262.ecma-international.org/12.0/#prod-RegularExpressionLiteral) :: / [RegularExpressionBody](https://262.ecma-international.org/12.0/#prod-RegularExpressionBody) / [RegularExpressionFlags](https://262.ecma-international.org/12.0/#prod-RegularExpressionFlags) [RegularExpressionBody](https://262.ecma-international.org/12.0/#prod-RegularExpressionBody) :: [RegularExpressionFirstChar](https://262.ecma-international.org/12.0/#prod-RegularExpressionFirstChar) [RegularExpressionChars](https://262.ecma-international.org/12.0/#prod-RegularExpressionChars) [RegularExpressionChars](https://262.ecma-international.org/12.0/#prod-RegularExpressionChars) :: \[empty\] [RegularExpressionChars](https://262.ecma-international.org/12.0/#prod-RegularExpressionChars) [RegularExpressionChar](https://262.ecma-international.org/12.0/#prod-RegularExpressionChar) [RegularExpressionFirstChar](https://262.ecma-international.org/12.0/#prod-RegularExpressionFirstChar) :: [RegularExpressionNonTerminator](https://262.ecma-international.org/12.0/#prod-RegularExpressionNonTerminator) but not one of \* or \\ or / or \[ [RegularExpressionBackslashSequence](https://262.ecma-international.org/12.0/#prod-RegularExpressionBackslashSequence) [RegularExpressionClass](https://262.ecma-international.org/12.0/#prod-RegularExpressionClass) [RegularExpressionChar](https://262.ecma-international.org/12.0/#prod-RegularExpressionChar) :: [RegularExpressionNonTerminator](https://262.ecma-international.org/12.0/#prod-RegularExpressionNonTerminator) but not one of \\ or / or \[ [RegularExpressionBackslashSequence](https://262.ecma-international.org/12.0/#prod-RegularExpressionBackslashSequence) [RegularExpressionClass](https://262.ecma-international.org/12.0/#prod-RegularExpressionClass) [RegularExpressionBackslashSequence](https://262.ecma-international.org/12.0/#prod-RegularExpressionBackslashSequence) :: \\ [RegularExpressionNonTerminator](https://262.ecma-international.org/12.0/#prod-RegularExpressionNonTerminator) [RegularExpressionNonTerminator](https://262.ecma-international.org/12.0/#prod-RegularExpressionNonTerminator) :: [SourceCharacter](https://262.ecma-international.org/12.0/#prod-SourceCharacter) but not [LineTerminator](https://262.ecma-international.org/12.0/#prod-LineTerminator) [RegularExpressionClass](https://262.ecma-international.org/12.0/#prod-RegularExpressionClass) :: \[ [RegularExpressionClassChars](https://262.ecma-international.org/12.0/#prod-RegularExpressionClassChars) \] [RegularExpressionClassChars](https://262.ecma-international.org/12.0/#prod-RegularExpressionClassChars) :: \[empty\] [RegularExpressionClassChars](https://262.ecma-international.org/12.0/#prod-RegularExpressionClassChars) [RegularExpressionClassChar](https://262.ecma-international.org/12.0/#prod-RegularExpressionClassChar) [RegularExpressionClassChar](https://262.ecma-international.org/12.0/#prod-RegularExpressionClassChar) :: [RegularExpressionNonTerminator](https://262.ecma-international.org/12.0/#prod-RegularExpressionNonTerminator) but not one of \] or \\ [RegularExpressionBackslashSequence](https://262.ecma-international.org/12.0/#prod-RegularExpressionBackslashSequence) [RegularExpressionFlags](https://262.ecma-international.org/12.0/#prod-RegularExpressionFlags) :: \[empty\] [RegularExpressionFlags](https://262.ecma-international.org/12.0/#prod-RegularExpressionFlags) [IdentifierPart](https://262.ecma-international.org/12.0/#prod-IdentifierPart) [Template](https://262.ecma-international.org/12.0/#prod-Template) :: [NoSubstitutionTemplate](https://262.ecma-international.org/12.0/#prod-NoSubstitutionTemplate) [TemplateHead](https://262.ecma-international.org/12.0/#prod-TemplateHead) [NoSubstitutionTemplate](https://262.ecma-international.org/12.0/#prod-NoSubstitutionTemplate) :: \` [TemplateCharacters](https://262.ecma-international.org/12.0/#prod-TemplateCharacters)opt \` [TemplateHead](https://262.ecma-international.org/12.0/#prod-TemplateHead) :: \` [TemplateCharacters](https://262.ecma-international.org/12.0/#prod-TemplateCharacters)opt ${ [TemplateSubstitutionTail](https://262.ecma-international.org/12.0/#prod-TemplateSubstitutionTail) :: [TemplateMiddle](https://262.ecma-international.org/12.0/#prod-TemplateMiddle) [TemplateTail](https://262.ecma-international.org/12.0/#prod-TemplateTail) [TemplateMiddle](https://262.ecma-international.org/12.0/#prod-TemplateMiddle) :: } [TemplateCharacters](https://262.ecma-international.org/12.0/#prod-TemplateCharacters)opt ${ [TemplateTail](https://262.ecma-international.org/12.0/#prod-TemplateTail) :: } [TemplateCharacters](https://262.ecma-international.org/12.0/#prod-TemplateCharacters)opt \` [TemplateCharacters](https://262.ecma-international.org/12.0/#prod-TemplateCharacters) :: [TemplateCharacter](https://262.ecma-international.org/12.0/#prod-TemplateCharacter) [TemplateCharacters](https://262.ecma-international.org/12.0/#prod-TemplateCharacters)opt [TemplateCharacter](https://262.ecma-international.org/12.0/#prod-TemplateCharacter) :: $ \[lookahead ≠ {\] \\ [EscapeSequence](https://262.ecma-international.org/12.0/#prod-EscapeSequence) \\ [NotEscapeSequence](https://262.ecma-international.org/12.0/#prod-NotEscapeSequence) [LineContinuation](https://262.ecma-international.org/12.0/#prod-LineContinuation) [LineTerminatorSequence](https://262.ecma-international.org/12.0/#prod-LineTerminatorSequence) [SourceCharacter](https://262.ecma-international.org/12.0/#prod-SourceCharacter) but not one of \` or \\ or $ or [LineTerminator](https://262.ecma-international.org/12.0/#prod-LineTerminator) [NotEscapeSequence](https://262.ecma-international.org/12.0/#prod-NotEscapeSequence) :: 0 [DecimalDigit](https://262.ecma-international.org/12.0/#prod-DecimalDigit) [DecimalDigit](https://262.ecma-international.org/12.0/#prod-DecimalDigit) but not 0 x \[lookahead ∉ [HexDigit](https://262.ecma-international.org/12.0/#prod-HexDigit)\] x [HexDigit](https://262.ecma-international.org/12.0/#prod-HexDigit) \[lookahead ∉ [HexDigit](https://262.ecma-international.org/12.0/#prod-HexDigit)\] u \[lookahead ∉ [HexDigit](https://262.ecma-international.org/12.0/#prod-HexDigit)\] \[lookahead ≠ {\] u [HexDigit](https://262.ecma-international.org/12.0/#prod-HexDigit) \[lookahead ∉ [HexDigit](https://262.ecma-international.org/12.0/#prod-HexDigit)\] u [HexDigit](https://262.ecma-international.org/12.0/#prod-HexDigit) [HexDigit](https://262.ecma-international.org/12.0/#prod-HexDigit) \[lookahead ∉ [HexDigit](https://262.ecma-international.org/12.0/#prod-HexDigit)\] u [HexDigit](https://262.ecma-international.org/12.0/#prod-HexDigit) [HexDigit](https://262.ecma-international.org/12.0/#prod-HexDigit) [HexDigit](https://262.ecma-international.org/12.0/#prod-HexDigit) \[lookahead ∉ [HexDigit](https://262.ecma-international.org/12.0/#prod-HexDigit)\] u { \[lookahead ∉ [HexDigit](https://262.ecma-international.org/12.0/#prod-HexDigit)\] u { [NotCodePoint](https://262.ecma-international.org/12.0/#prod-NotCodePoint) \[lookahead ∉ [HexDigit](https://262.ecma-international.org/12.0/#prod-HexDigit)\] u { [CodePoint](https://262.ecma-international.org/12.0/#prod-CodePoint) \[lookahead ∉ [HexDigit](https://262.ecma-international.org/12.0/#prod-HexDigit)\] \[lookahead ≠ }\] [NotCodePoint](https://262.ecma-international.org/12.0/#prod-NotCodePoint) :: [HexDigits](https://262.ecma-international.org/12.0/#prod-HexDigits)\[~Sep\] but only if MV of [HexDigits](https://262.ecma-international.org/12.0/#prod-HexDigits) > 0x10FFFF [CodePoint](https://262.ecma-international.org/12.0/#prod-CodePoint) :: [HexDigits](https://262.ecma-international.org/12.0/#prod-HexDigits)\[~Sep\] but only if MV of [HexDigits](https://262.ecma-international.org/12.0/#prod-HexDigits) ≤ 0x10FFFF

## A.2 Expressions

[IdentifierReference](https://262.ecma-international.org/12.0/#prod-IdentifierReference)\[Yield, Await\] : [Identifier](https://262.ecma-international.org/12.0/#prod-Identifier) \[~Yield\]yield \[~Await\]await [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier)\[Yield, Await\] : [Identifier](https://262.ecma-international.org/12.0/#prod-Identifier) yield await [LabelIdentifier](https://262.ecma-international.org/12.0/#prod-LabelIdentifier)\[Yield, Await\] : [Identifier](https://262.ecma-international.org/12.0/#prod-Identifier) \[~Yield\]yield \[~Await\]await [Identifier](https://262.ecma-international.org/12.0/#prod-Identifier) : [IdentifierName](https://262.ecma-international.org/12.0/#prod-IdentifierName) but not [ReservedWord](https://262.ecma-international.org/12.0/#prod-ReservedWord) [PrimaryExpression](https://262.ecma-international.org/12.0/#prod-PrimaryExpression)\[Yield, Await\] : this [IdentifierReference](https://262.ecma-international.org/12.0/#prod-IdentifierReference)\[?Yield, ?Await\] [Literal](https://262.ecma-international.org/12.0/#prod-Literal) [ArrayLiteral](https://262.ecma-international.org/12.0/#prod-ArrayLiteral)\[?Yield, ?Await\] [ObjectLiteral](https://262.ecma-international.org/12.0/#prod-ObjectLiteral)\[?Yield, ?Await\] [FunctionExpression](https://262.ecma-international.org/12.0/#prod-FunctionExpression) [ClassExpression](https://262.ecma-international.org/12.0/#prod-ClassExpression)\[?Yield, ?Await\] [GeneratorExpression](https://262.ecma-international.org/12.0/#prod-GeneratorExpression) [AsyncFunctionExpression](https://262.ecma-international.org/12.0/#prod-AsyncFunctionExpression) [AsyncGeneratorExpression](https://262.ecma-international.org/12.0/#prod-AsyncGeneratorExpression) [RegularExpressionLiteral](https://262.ecma-international.org/12.0/#prod-RegularExpressionLiteral) [TemplateLiteral](https://262.ecma-international.org/12.0/#prod-TemplateLiteral)\[?Yield, ?Await, ~Tagged\] [CoverParenthesizedExpressionAndArrowParameterList](https://262.ecma-international.org/12.0/#prod-CoverParenthesizedExpressionAndArrowParameterList)\[?Yield, ?Await\] [CoverParenthesizedExpressionAndArrowParameterList](https://262.ecma-international.org/12.0/#prod-CoverParenthesizedExpressionAndArrowParameterList)\[Yield, Await\] : ( [Expression](https://262.ecma-international.org/12.0/#prod-Expression)\[+In, ?Yield, ?Await\] ) ( [Expression](https://262.ecma-international.org/12.0/#prod-Expression)\[+In, ?Yield, ?Await\] , ) ( ) ( ... [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier)\[?Yield, ?Await\] ) ( ... [BindingPattern](https://262.ecma-international.org/12.0/#prod-BindingPattern)\[?Yield, ?Await\] ) ( [Expression](https://262.ecma-international.org/12.0/#prod-Expression)\[+In, ?Yield, ?Await\] , ... [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier)\[?Yield, ?Await\] ) ( [Expression](https://262.ecma-international.org/12.0/#prod-Expression)\[+In, ?Yield, ?Await\] , ... [BindingPattern](https://262.ecma-international.org/12.0/#prod-BindingPattern)\[?Yield, ?Await\] )

When processing an instance of the production  
[PrimaryExpression](https://262.ecma-international.org/12.0/#prod-PrimaryExpression)\[Yield, Await\] : [CoverParenthesizedExpressionAndArrowParameterList](https://262.ecma-international.org/12.0/#prod-CoverParenthesizedExpressionAndArrowParameterList)\[?Yield, ?Await\]  
the interpretation of [CoverParenthesizedExpressionAndArrowParameterList](https://262.ecma-international.org/12.0/#prod-CoverParenthesizedExpressionAndArrowParameterList) is refined using the following grammar:

[ParenthesizedExpression](https://262.ecma-international.org/12.0/#prod-ParenthesizedExpression)\[Yield, Await\] : ( [Expression](https://262.ecma-international.org/12.0/#prod-Expression)\[+In, ?Yield, ?Await\] ) [Literal](https://262.ecma-international.org/12.0/#prod-Literal) : [NullLiteral](https://262.ecma-international.org/12.0/#prod-NullLiteral) [BooleanLiteral](https://262.ecma-international.org/12.0/#prod-BooleanLiteral) [NumericLiteral](https://262.ecma-international.org/12.0/#prod-NumericLiteral) [StringLiteral](https://262.ecma-international.org/12.0/#prod-StringLiteral) [ArrayLiteral](https://262.ecma-international.org/12.0/#prod-ArrayLiteral)\[Yield, Await\] : \[ [Elision](https://262.ecma-international.org/12.0/#prod-Elision)opt \] \[ [ElementList](https://262.ecma-international.org/12.0/#prod-ElementList)\[?Yield, ?Await\] \] \[ [ElementList](https://262.ecma-international.org/12.0/#prod-ElementList)\[?Yield, ?Await\] , [Elision](https://262.ecma-international.org/12.0/#prod-Elision)opt \] [ElementList](https://262.ecma-international.org/12.0/#prod-ElementList)\[Yield, Await\] : [Elision](https://262.ecma-international.org/12.0/#prod-Elision)opt [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression)\[+In, ?Yield, ?Await\] [Elision](https://262.ecma-international.org/12.0/#prod-Elision)opt [SpreadElement](https://262.ecma-international.org/12.0/#prod-SpreadElement)\[?Yield, ?Await\] [ElementList](https://262.ecma-international.org/12.0/#prod-ElementList)\[?Yield, ?Await\] , [Elision](https://262.ecma-international.org/12.0/#prod-Elision)opt [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression)\[+In, ?Yield, ?Await\] [ElementList](https://262.ecma-international.org/12.0/#prod-ElementList)\[?Yield, ?Await\] , [Elision](https://262.ecma-international.org/12.0/#prod-Elision)opt [SpreadElement](https://262.ecma-international.org/12.0/#prod-SpreadElement)\[?Yield, ?Await\] [Elision](https://262.ecma-international.org/12.0/#prod-Elision) : , [Elision](https://262.ecma-international.org/12.0/#prod-Elision) , [SpreadElement](https://262.ecma-international.org/12.0/#prod-SpreadElement)\[Yield, Await\] : ... [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression)\[+In, ?Yield, ?Await\] [ObjectLiteral](https://262.ecma-international.org/12.0/#prod-ObjectLiteral)\[Yield, Await\] : { } { [PropertyDefinitionList](https://262.ecma-international.org/12.0/#prod-PropertyDefinitionList)\[?Yield, ?Await\] } { [PropertyDefinitionList](https://262.ecma-international.org/12.0/#prod-PropertyDefinitionList)\[?Yield, ?Await\] , } [PropertyDefinitionList](https://262.ecma-international.org/12.0/#prod-PropertyDefinitionList)\[Yield, Await\] : [PropertyDefinition](https://262.ecma-international.org/12.0/#prod-PropertyDefinition)\[?Yield, ?Await\] [PropertyDefinitionList](https://262.ecma-international.org/12.0/#prod-PropertyDefinitionList)\[?Yield, ?Await\] , [PropertyDefinition](https://262.ecma-international.org/12.0/#prod-PropertyDefinition)\[?Yield, ?Await\] [PropertyDefinition](https://262.ecma-international.org/12.0/#prod-PropertyDefinition)\[Yield, Await\] : [IdentifierReference](https://262.ecma-international.org/12.0/#prod-IdentifierReference)\[?Yield, ?Await\] [CoverInitializedName](https://262.ecma-international.org/12.0/#prod-CoverInitializedName)\[?Yield, ?Await\] [PropertyName](https://262.ecma-international.org/12.0/#prod-PropertyName)\[?Yield, ?Await\] : [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression)\[+In, ?Yield, ?Await\] [MethodDefinition](https://262.ecma-international.org/12.0/#prod-MethodDefinition)\[?Yield, ?Await\] ... [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression)\[+In, ?Yield, ?Await\] [PropertyName](https://262.ecma-international.org/12.0/#prod-PropertyName)\[Yield, Await\] : [LiteralPropertyName](https://262.ecma-international.org/12.0/#prod-LiteralPropertyName) [ComputedPropertyName](https://262.ecma-international.org/12.0/#prod-ComputedPropertyName)\[?Yield, ?Await\] [LiteralPropertyName](https://262.ecma-international.org/12.0/#prod-LiteralPropertyName) : [IdentifierName](https://262.ecma-international.org/12.0/#prod-IdentifierName) [StringLiteral](https://262.ecma-international.org/12.0/#prod-StringLiteral) [NumericLiteral](https://262.ecma-international.org/12.0/#prod-NumericLiteral) [ComputedPropertyName](https://262.ecma-international.org/12.0/#prod-ComputedPropertyName)\[Yield, Await\] : \[ [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression)\[+In, ?Yield, ?Await\] \] [CoverInitializedName](https://262.ecma-international.org/12.0/#prod-CoverInitializedName)\[Yield, Await\] : [IdentifierReference](https://262.ecma-international.org/12.0/#prod-IdentifierReference)\[?Yield, ?Await\] [Initializer](https://262.ecma-international.org/12.0/#prod-Initializer)\[+In, ?Yield, ?Await\] [Initializer](https://262.ecma-international.org/12.0/#prod-Initializer)\[In, Yield, Await\] : \= [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression)\[?In, ?Yield, ?Await\] [TemplateLiteral](https://262.ecma-international.org/12.0/#prod-TemplateLiteral)\[Yield, Await, Tagged\] : [NoSubstitutionTemplate](https://262.ecma-international.org/12.0/#prod-NoSubstitutionTemplate) [SubstitutionTemplate](https://262.ecma-international.org/12.0/#prod-SubstitutionTemplate)\[?Yield, ?Await, ?Tagged\] [SubstitutionTemplate](https://262.ecma-international.org/12.0/#prod-SubstitutionTemplate)\[Yield, Await, Tagged\] : [TemplateHead](https://262.ecma-international.org/12.0/#prod-TemplateHead) [Expression](https://262.ecma-international.org/12.0/#prod-Expression)\[+In, ?Yield, ?Await\] [TemplateSpans](https://262.ecma-international.org/12.0/#prod-TemplateSpans)\[?Yield, ?Await, ?Tagged\] [TemplateSpans](https://262.ecma-international.org/12.0/#prod-TemplateSpans)\[Yield, Await, Tagged\] : [TemplateTail](https://262.ecma-international.org/12.0/#prod-TemplateTail) [TemplateMiddleList](https://262.ecma-international.org/12.0/#prod-TemplateMiddleList)\[?Yield, ?Await, ?Tagged\] [TemplateTail](https://262.ecma-international.org/12.0/#prod-TemplateTail) [TemplateMiddleList](https://262.ecma-international.org/12.0/#prod-TemplateMiddleList)\[Yield, Await, Tagged\] : [TemplateMiddle](https://262.ecma-international.org/12.0/#prod-TemplateMiddle) [Expression](https://262.ecma-international.org/12.0/#prod-Expression)\[+In, ?Yield, ?Await\] [TemplateMiddleList](https://262.ecma-international.org/12.0/#prod-TemplateMiddleList)\[?Yield, ?Await, ?Tagged\] [TemplateMiddle](https://262.ecma-international.org/12.0/#prod-TemplateMiddle) [Expression](https://262.ecma-international.org/12.0/#prod-Expression)\[+In, ?Yield, ?Await\] [MemberExpression](https://262.ecma-international.org/12.0/#prod-MemberExpression)\[Yield, Await\] : [PrimaryExpression](https://262.ecma-international.org/12.0/#prod-PrimaryExpression)\[?Yield, ?Await\] [MemberExpression](https://262.ecma-international.org/12.0/#prod-MemberExpression)\[?Yield, ?Await\] \[ [Expression](https://262.ecma-international.org/12.0/#prod-Expression)\[+In, ?Yield, ?Await\] \] [MemberExpression](https://262.ecma-international.org/12.0/#prod-MemberExpression)\[?Yield, ?Await\] . [IdentifierName](https://262.ecma-international.org/12.0/#prod-IdentifierName) [MemberExpression](https://262.ecma-international.org/12.0/#prod-MemberExpression)\[?Yield, ?Await\] [TemplateLiteral](https://262.ecma-international.org/12.0/#prod-TemplateLiteral)\[?Yield, ?Await, +Tagged\] [SuperProperty](https://262.ecma-international.org/12.0/#prod-SuperProperty)\[?Yield, ?Await\] [MetaProperty](https://262.ecma-international.org/12.0/#prod-MetaProperty) new [MemberExpression](https://262.ecma-international.org/12.0/#prod-MemberExpression)\[?Yield, ?Await\] [Arguments](https://262.ecma-international.org/12.0/#prod-Arguments)\[?Yield, ?Await\] [SuperProperty](https://262.ecma-international.org/12.0/#prod-SuperProperty)\[Yield, Await\] : super \[ [Expression](https://262.ecma-international.org/12.0/#prod-Expression)\[+In, ?Yield, ?Await\] \] super . [IdentifierName](https://262.ecma-international.org/12.0/#prod-IdentifierName) [MetaProperty](https://262.ecma-international.org/12.0/#prod-MetaProperty) : [NewTarget](https://262.ecma-international.org/12.0/#prod-NewTarget) [ImportMeta](https://262.ecma-international.org/12.0/#prod-ImportMeta) [NewTarget](https://262.ecma-international.org/12.0/#prod-NewTarget) : new . target [ImportMeta](https://262.ecma-international.org/12.0/#prod-ImportMeta) : import . meta [NewExpression](https://262.ecma-international.org/12.0/#prod-NewExpression)\[Yield, Await\] : [MemberExpression](https://262.ecma-international.org/12.0/#prod-MemberExpression)\[?Yield, ?Await\] new [NewExpression](https://262.ecma-international.org/12.0/#prod-NewExpression)\[?Yield, ?Await\] [CallExpression](https://262.ecma-international.org/12.0/#prod-CallExpression)\[Yield, Await\] : [CoverCallExpressionAndAsyncArrowHead](https://262.ecma-international.org/12.0/#prod-CoverCallExpressionAndAsyncArrowHead)\[?Yield, ?Await\] [SuperCall](https://262.ecma-international.org/12.0/#prod-SuperCall)\[?Yield, ?Await\] [ImportCall](https://262.ecma-international.org/12.0/#prod-ImportCall)\[?Yield, ?Await\] [CallExpression](https://262.ecma-international.org/12.0/#prod-CallExpression)\[?Yield, ?Await\] [Arguments](https://262.ecma-international.org/12.0/#prod-Arguments)\[?Yield, ?Await\] [CallExpression](https://262.ecma-international.org/12.0/#prod-CallExpression)\[?Yield, ?Await\] \[ [Expression](https://262.ecma-international.org/12.0/#prod-Expression)\[+In, ?Yield, ?Await\] \] [CallExpression](https://262.ecma-international.org/12.0/#prod-CallExpression)\[?Yield, ?Await\] . [IdentifierName](https://262.ecma-international.org/12.0/#prod-IdentifierName) [CallExpression](https://262.ecma-international.org/12.0/#prod-CallExpression)\[?Yield, ?Await\] [TemplateLiteral](https://262.ecma-international.org/12.0/#prod-TemplateLiteral)\[?Yield, ?Await, +Tagged\]

When processing an instance of the production  
[CallExpression](https://262.ecma-international.org/12.0/#prod-CallExpression)\[Yield, Await\] : [CoverCallExpressionAndAsyncArrowHead](https://262.ecma-international.org/12.0/#prod-CoverCallExpressionAndAsyncArrowHead)\[?Yield, ?Await\]  
the interpretation of [CoverCallExpressionAndAsyncArrowHead](https://262.ecma-international.org/12.0/#prod-CoverCallExpressionAndAsyncArrowHead) is refined using the following grammar:

[CallMemberExpression](https://262.ecma-international.org/12.0/#prod-CallMemberExpression)\[Yield, Await\] : [MemberExpression](https://262.ecma-international.org/12.0/#prod-MemberExpression)\[?Yield, ?Await\] [Arguments](https://262.ecma-international.org/12.0/#prod-Arguments)\[?Yield, ?Await\] [SuperCall](https://262.ecma-international.org/12.0/#prod-SuperCall)\[Yield, Await\] : super [Arguments](https://262.ecma-international.org/12.0/#prod-Arguments)\[?Yield, ?Await\] [ImportCall](https://262.ecma-international.org/12.0/#prod-ImportCall)\[Yield, Await\] : import ( [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression)\[+In, ?Yield, ?Await\] ) [Arguments](https://262.ecma-international.org/12.0/#prod-Arguments)\[Yield, Await\] : ( ) ( [ArgumentList](https://262.ecma-international.org/12.0/#prod-ArgumentList)\[?Yield, ?Await\] ) ( [ArgumentList](https://262.ecma-international.org/12.0/#prod-ArgumentList)\[?Yield, ?Await\] , ) [ArgumentList](https://262.ecma-international.org/12.0/#prod-ArgumentList)\[Yield, Await\] : [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression)\[+In, ?Yield, ?Await\] ... [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression)\[+In, ?Yield, ?Await\] [ArgumentList](https://262.ecma-international.org/12.0/#prod-ArgumentList)\[?Yield, ?Await\] , [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression)\[+In, ?Yield, ?Await\] [ArgumentList](https://262.ecma-international.org/12.0/#prod-ArgumentList)\[?Yield, ?Await\] , ... [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression)\[+In, ?Yield, ?Await\] [OptionalExpression](https://262.ecma-international.org/12.0/#prod-OptionalExpression)\[Yield, Await\] : [MemberExpression](https://262.ecma-international.org/12.0/#prod-MemberExpression)\[?Yield, ?Await\] [OptionalChain](https://262.ecma-international.org/12.0/#prod-OptionalChain)\[?Yield, ?Await\] [CallExpression](https://262.ecma-international.org/12.0/#prod-CallExpression)\[?Yield, ?Await\] [OptionalChain](https://262.ecma-international.org/12.0/#prod-OptionalChain)\[?Yield, ?Await\] [OptionalExpression](https://262.ecma-international.org/12.0/#prod-OptionalExpression)\[?Yield, ?Await\] [OptionalChain](https://262.ecma-international.org/12.0/#prod-OptionalChain)\[?Yield, ?Await\] [OptionalChain](https://262.ecma-international.org/12.0/#prod-OptionalChain)\[Yield, Await\] : ?. [Arguments](https://262.ecma-international.org/12.0/#prod-Arguments)\[?Yield, ?Await\] ?. \[ [Expression](https://262.ecma-international.org/12.0/#prod-Expression)\[+In, ?Yield, ?Await\] \] ?. [IdentifierName](https://262.ecma-international.org/12.0/#prod-IdentifierName) ?. [TemplateLiteral](https://262.ecma-international.org/12.0/#prod-TemplateLiteral)\[?Yield, ?Await, +Tagged\] [OptionalChain](https://262.ecma-international.org/12.0/#prod-OptionalChain)\[?Yield, ?Await\] [Arguments](https://262.ecma-international.org/12.0/#prod-Arguments)\[?Yield, ?Await\] [OptionalChain](https://262.ecma-international.org/12.0/#prod-OptionalChain)\[?Yield, ?Await\] \[ [Expression](https://262.ecma-international.org/12.0/#prod-Expression)\[+In, ?Yield, ?Await\] \] [OptionalChain](https://262.ecma-international.org/12.0/#prod-OptionalChain)\[?Yield, ?Await\] . [IdentifierName](https://262.ecma-international.org/12.0/#prod-IdentifierName) [OptionalChain](https://262.ecma-international.org/12.0/#prod-OptionalChain)\[?Yield, ?Await\] [TemplateLiteral](https://262.ecma-international.org/12.0/#prod-TemplateLiteral)\[?Yield, ?Await, +Tagged\] [LeftHandSideExpression](https://262.ecma-international.org/12.0/#prod-LeftHandSideExpression)\[Yield, Await\] : [NewExpression](https://262.ecma-international.org/12.0/#prod-NewExpression)\[?Yield, ?Await\] [CallExpression](https://262.ecma-international.org/12.0/#prod-CallExpression)\[?Yield, ?Await\] [OptionalExpression](https://262.ecma-international.org/12.0/#prod-OptionalExpression)\[?Yield, ?Await\] [UpdateExpression](https://262.ecma-international.org/12.0/#prod-UpdateExpression)\[Yield, Await\] : [LeftHandSideExpression](https://262.ecma-international.org/12.0/#prod-LeftHandSideExpression)\[?Yield, ?Await\] [LeftHandSideExpression](https://262.ecma-international.org/12.0/#prod-LeftHandSideExpression)\[?Yield, ?Await\] \[no [LineTerminator](https://262.ecma-international.org/12.0/#prod-LineTerminator) here\] ++ [LeftHandSideExpression](https://262.ecma-international.org/12.0/#prod-LeftHandSideExpression)\[?Yield, ?Await\] \[no [LineTerminator](https://262.ecma-international.org/12.0/#prod-LineTerminator) here\] \-- ++ [UnaryExpression](https://262.ecma-international.org/12.0/#prod-UnaryExpression)\[?Yield, ?Await\] \-- [UnaryExpression](https://262.ecma-international.org/12.0/#prod-UnaryExpression)\[?Yield, ?Await\] [UnaryExpression](https://262.ecma-international.org/12.0/#prod-UnaryExpression)\[Yield, Await\] : [UpdateExpression](https://262.ecma-international.org/12.0/#prod-UpdateExpression)\[?Yield, ?Await\] delete [UnaryExpression](https://262.ecma-international.org/12.0/#prod-UnaryExpression)\[?Yield, ?Await\] void [UnaryExpression](https://262.ecma-international.org/12.0/#prod-UnaryExpression)\[?Yield, ?Await\] typeof [UnaryExpression](https://262.ecma-international.org/12.0/#prod-UnaryExpression)\[?Yield, ?Await\] + [UnaryExpression](https://262.ecma-international.org/12.0/#prod-UnaryExpression)\[?Yield, ?Await\] \- [UnaryExpression](https://262.ecma-international.org/12.0/#prod-UnaryExpression)\[?Yield, ?Await\] ~ [UnaryExpression](https://262.ecma-international.org/12.0/#prod-UnaryExpression)\[?Yield, ?Await\] ! [UnaryExpression](https://262.ecma-international.org/12.0/#prod-UnaryExpression)\[?Yield, ?Await\] \[+Await\][AwaitExpression](https://262.ecma-international.org/12.0/#prod-AwaitExpression)\[?Yield\] [ExponentiationExpression](https://262.ecma-international.org/12.0/#prod-ExponentiationExpression)\[Yield, Await\] : [UnaryExpression](https://262.ecma-international.org/12.0/#prod-UnaryExpression)\[?Yield, ?Await\] [UpdateExpression](https://262.ecma-international.org/12.0/#prod-UpdateExpression)\[?Yield, ?Await\] \*\* [ExponentiationExpression](https://262.ecma-international.org/12.0/#prod-ExponentiationExpression)\[?Yield, ?Await\] [MultiplicativeExpression](https://262.ecma-international.org/12.0/#prod-MultiplicativeExpression)\[Yield, Await\] : [ExponentiationExpression](https://262.ecma-international.org/12.0/#prod-ExponentiationExpression)\[?Yield, ?Await\] [MultiplicativeExpression](https://262.ecma-international.org/12.0/#prod-MultiplicativeExpression)\[?Yield, ?Await\] [MultiplicativeOperator](https://262.ecma-international.org/12.0/#prod-MultiplicativeOperator) [ExponentiationExpression](https://262.ecma-international.org/12.0/#prod-ExponentiationExpression)\[?Yield, ?Await\] [MultiplicativeOperator](https://262.ecma-international.org/12.0/#prod-MultiplicativeOperator) : one of \* / % [AdditiveExpression](https://262.ecma-international.org/12.0/#prod-AdditiveExpression)\[Yield, Await\] : [MultiplicativeExpression](https://262.ecma-international.org/12.0/#prod-MultiplicativeExpression)\[?Yield, ?Await\] [AdditiveExpression](https://262.ecma-international.org/12.0/#prod-AdditiveExpression)\[?Yield, ?Await\] + [MultiplicativeExpression](https://262.ecma-international.org/12.0/#prod-MultiplicativeExpression)\[?Yield, ?Await\] [AdditiveExpression](https://262.ecma-international.org/12.0/#prod-AdditiveExpression)\[?Yield, ?Await\] \- [MultiplicativeExpression](https://262.ecma-international.org/12.0/#prod-MultiplicativeExpression)\[?Yield, ?Await\] [ShiftExpression](https://262.ecma-international.org/12.0/#prod-ShiftExpression)\[Yield, Await\] : [AdditiveExpression](https://262.ecma-international.org/12.0/#prod-AdditiveExpression)\[?Yield, ?Await\] [ShiftExpression](https://262.ecma-international.org/12.0/#prod-ShiftExpression)\[?Yield, ?Await\] << [AdditiveExpression](https://262.ecma-international.org/12.0/#prod-AdditiveExpression)\[?Yield, ?Await\] [ShiftExpression](https://262.ecma-international.org/12.0/#prod-ShiftExpression)\[?Yield, ?Await\] \>> [AdditiveExpression](https://262.ecma-international.org/12.0/#prod-AdditiveExpression)\[?Yield, ?Await\] [ShiftExpression](https://262.ecma-international.org/12.0/#prod-ShiftExpression)\[?Yield, ?Await\] \>>> [AdditiveExpression](https://262.ecma-international.org/12.0/#prod-AdditiveExpression)\[?Yield, ?Await\] [RelationalExpression](https://262.ecma-international.org/12.0/#prod-RelationalExpression)\[In, Yield, Await\] : [ShiftExpression](https://262.ecma-international.org/12.0/#prod-ShiftExpression)\[?Yield, ?Await\] [RelationalExpression](https://262.ecma-international.org/12.0/#prod-RelationalExpression)\[?In, ?Yield, ?Await\] < [ShiftExpression](https://262.ecma-international.org/12.0/#prod-ShiftExpression)\[?Yield, ?Await\] [RelationalExpression](https://262.ecma-international.org/12.0/#prod-RelationalExpression)\[?In, ?Yield, ?Await\] \> [ShiftExpression](https://262.ecma-international.org/12.0/#prod-ShiftExpression)\[?Yield, ?Await\] [RelationalExpression](https://262.ecma-international.org/12.0/#prod-RelationalExpression)\[?In, ?Yield, ?Await\] <= [ShiftExpression](https://262.ecma-international.org/12.0/#prod-ShiftExpression)\[?Yield, ?Await\] [RelationalExpression](https://262.ecma-international.org/12.0/#prod-RelationalExpression)\[?In, ?Yield, ?Await\] \>= [ShiftExpression](https://262.ecma-international.org/12.0/#prod-ShiftExpression)\[?Yield, ?Await\] [RelationalExpression](https://262.ecma-international.org/12.0/#prod-RelationalExpression)\[?In, ?Yield, ?Await\] instanceof [ShiftExpression](https://262.ecma-international.org/12.0/#prod-ShiftExpression)\[?Yield, ?Await\] \[+In\] [RelationalExpression](https://262.ecma-international.org/12.0/#prod-RelationalExpression)\[+In, ?Yield, ?Await\] in [ShiftExpression](https://262.ecma-international.org/12.0/#prod-ShiftExpression)\[?Yield, ?Await\] [EqualityExpression](https://262.ecma-international.org/12.0/#prod-EqualityExpression)\[In, Yield, Await\] : [RelationalExpression](https://262.ecma-international.org/12.0/#prod-RelationalExpression)\[?In, ?Yield, ?Await\] [EqualityExpression](https://262.ecma-international.org/12.0/#prod-EqualityExpression)\[?In, ?Yield, ?Await\] \== [RelationalExpression](https://262.ecma-international.org/12.0/#prod-RelationalExpression)\[?In, ?Yield, ?Await\] [EqualityExpression](https://262.ecma-international.org/12.0/#prod-EqualityExpression)\[?In, ?Yield, ?Await\] != [RelationalExpression](https://262.ecma-international.org/12.0/#prod-RelationalExpression)\[?In, ?Yield, ?Await\] [EqualityExpression](https://262.ecma-international.org/12.0/#prod-EqualityExpression)\[?In, ?Yield, ?Await\] \=== [RelationalExpression](https://262.ecma-international.org/12.0/#prod-RelationalExpression)\[?In, ?Yield, ?Await\] [EqualityExpression](https://262.ecma-international.org/12.0/#prod-EqualityExpression)\[?In, ?Yield, ?Await\] !== [RelationalExpression](https://262.ecma-international.org/12.0/#prod-RelationalExpression)\[?In, ?Yield, ?Await\] [BitwiseANDExpression](https://262.ecma-international.org/12.0/#prod-BitwiseANDExpression)\[In, Yield, Await\] : [EqualityExpression](https://262.ecma-international.org/12.0/#prod-EqualityExpression)\[?In, ?Yield, ?Await\] [BitwiseANDExpression](https://262.ecma-international.org/12.0/#prod-BitwiseANDExpression)\[?In, ?Yield, ?Await\] & [EqualityExpression](https://262.ecma-international.org/12.0/#prod-EqualityExpression)\[?In, ?Yield, ?Await\] [BitwiseXORExpression](https://262.ecma-international.org/12.0/#prod-BitwiseXORExpression)\[In, Yield, Await\] : [BitwiseANDExpression](https://262.ecma-international.org/12.0/#prod-BitwiseANDExpression)\[?In, ?Yield, ?Await\] [BitwiseXORExpression](https://262.ecma-international.org/12.0/#prod-BitwiseXORExpression)\[?In, ?Yield, ?Await\] ^ [BitwiseANDExpression](https://262.ecma-international.org/12.0/#prod-BitwiseANDExpression)\[?In, ?Yield, ?Await\] [BitwiseORExpression](https://262.ecma-international.org/12.0/#prod-BitwiseORExpression)\[In, Yield, Await\] : [BitwiseXORExpression](https://262.ecma-international.org/12.0/#prod-BitwiseXORExpression)\[?In, ?Yield, ?Await\] [BitwiseORExpression](https://262.ecma-international.org/12.0/#prod-BitwiseORExpression)\[?In, ?Yield, ?Await\] | [BitwiseXORExpression](https://262.ecma-international.org/12.0/#prod-BitwiseXORExpression)\[?In, ?Yield, ?Await\] [LogicalANDExpression](https://262.ecma-international.org/12.0/#prod-LogicalANDExpression)\[In, Yield, Await\] : [BitwiseORExpression](https://262.ecma-international.org/12.0/#prod-BitwiseORExpression)\[?In, ?Yield, ?Await\] [LogicalANDExpression](https://262.ecma-international.org/12.0/#prod-LogicalANDExpression)\[?In, ?Yield, ?Await\] && [BitwiseORExpression](https://262.ecma-international.org/12.0/#prod-BitwiseORExpression)\[?In, ?Yield, ?Await\] [LogicalORExpression](https://262.ecma-international.org/12.0/#prod-LogicalORExpression)\[In, Yield, Await\] : [LogicalANDExpression](https://262.ecma-international.org/12.0/#prod-LogicalANDExpression)\[?In, ?Yield, ?Await\] [LogicalORExpression](https://262.ecma-international.org/12.0/#prod-LogicalORExpression)\[?In, ?Yield, ?Await\] || [LogicalANDExpression](https://262.ecma-international.org/12.0/#prod-LogicalANDExpression)\[?In, ?Yield, ?Await\] [CoalesceExpression](https://262.ecma-international.org/12.0/#prod-CoalesceExpression)\[In, Yield, Await\] : [CoalesceExpressionHead](https://262.ecma-international.org/12.0/#prod-CoalesceExpressionHead)\[?In, ?Yield, ?Await\] ?? [BitwiseORExpression](https://262.ecma-international.org/12.0/#prod-BitwiseORExpression)\[?In, ?Yield, ?Await\] [CoalesceExpressionHead](https://262.ecma-international.org/12.0/#prod-CoalesceExpressionHead)\[In, Yield, Await\] : [CoalesceExpression](https://262.ecma-international.org/12.0/#prod-CoalesceExpression)\[?In, ?Yield, ?Await\] [BitwiseORExpression](https://262.ecma-international.org/12.0/#prod-BitwiseORExpression)\[?In, ?Yield, ?Await\] [ShortCircuitExpression](https://262.ecma-international.org/12.0/#prod-ShortCircuitExpression)\[In, Yield, Await\] : [LogicalORExpression](https://262.ecma-international.org/12.0/#prod-LogicalORExpression)\[?In, ?Yield, ?Await\] [CoalesceExpression](https://262.ecma-international.org/12.0/#prod-CoalesceExpression)\[?In, ?Yield, ?Await\] [ConditionalExpression](https://262.ecma-international.org/12.0/#prod-ConditionalExpression)\[In, Yield, Await\] : [ShortCircuitExpression](https://262.ecma-international.org/12.0/#prod-ShortCircuitExpression)\[?In, ?Yield, ?Await\] [ShortCircuitExpression](https://262.ecma-international.org/12.0/#prod-ShortCircuitExpression)\[?In, ?Yield, ?Await\] ? [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression)\[+In, ?Yield, ?Await\] : [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression)\[?In, ?Yield, ?Await\] [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression)\[In, Yield, Await\] : [ConditionalExpression](https://262.ecma-international.org/12.0/#prod-ConditionalExpression)\[?In, ?Yield, ?Await\] \[+Yield\][YieldExpression](https://262.ecma-international.org/12.0/#prod-YieldExpression)\[?In, ?Await\] [ArrowFunction](https://262.ecma-international.org/12.0/#prod-ArrowFunction)\[?In, ?Yield, ?Await\] [AsyncArrowFunction](https://262.ecma-international.org/12.0/#prod-AsyncArrowFunction)\[?In, ?Yield, ?Await\] [LeftHandSideExpression](https://262.ecma-international.org/12.0/#prod-LeftHandSideExpression)\[?Yield, ?Await\] \= [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression)\[?In, ?Yield, ?Await\] [LeftHandSideExpression](https://262.ecma-international.org/12.0/#prod-LeftHandSideExpression)\[?Yield, ?Await\] [AssignmentOperator](https://262.ecma-international.org/12.0/#prod-AssignmentOperator) [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression)\[?In, ?Yield, ?Await\] [LeftHandSideExpression](https://262.ecma-international.org/12.0/#prod-LeftHandSideExpression)\[?Yield, ?Await\] &&= [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression)\[?In, ?Yield, ?Await\] [LeftHandSideExpression](https://262.ecma-international.org/12.0/#prod-LeftHandSideExpression)\[?Yield, ?Await\] ||= [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression)\[?In, ?Yield, ?Await\] [LeftHandSideExpression](https://262.ecma-international.org/12.0/#prod-LeftHandSideExpression)\[?Yield, ?Await\] ??= [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression)\[?In, ?Yield, ?Await\] [AssignmentOperator](https://262.ecma-international.org/12.0/#prod-AssignmentOperator) : one of \*= /= %= += \-= <<= \>>= \>>>= &= ^= |= \*\*=

In certain circumstances when processing an instance of the production  
[AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression)\[In, Yield, Await\] : [LeftHandSideExpression](https://262.ecma-international.org/12.0/#prod-LeftHandSideExpression)\[?Yield, ?Await\] \= [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression)\[?In, ?Yield, ?Await\]  
the interpretation of [LeftHandSideExpression](https://262.ecma-international.org/12.0/#prod-LeftHandSideExpression) is refined using the following grammar:

[AssignmentPattern](https://262.ecma-international.org/12.0/#prod-AssignmentPattern)\[Yield, Await\] : [ObjectAssignmentPattern](https://262.ecma-international.org/12.0/#prod-ObjectAssignmentPattern)\[?Yield, ?Await\] [ArrayAssignmentPattern](https://262.ecma-international.org/12.0/#prod-ArrayAssignmentPattern)\[?Yield, ?Await\] [ObjectAssignmentPattern](https://262.ecma-international.org/12.0/#prod-ObjectAssignmentPattern)\[Yield, Await\] : { } { [AssignmentRestProperty](https://262.ecma-international.org/12.0/#prod-AssignmentRestProperty)\[?Yield, ?Await\] } { [AssignmentPropertyList](https://262.ecma-international.org/12.0/#prod-AssignmentPropertyList)\[?Yield, ?Await\] } { [AssignmentPropertyList](https://262.ecma-international.org/12.0/#prod-AssignmentPropertyList)\[?Yield, ?Await\] , [AssignmentRestProperty](https://262.ecma-international.org/12.0/#prod-AssignmentRestProperty)\[?Yield, ?Await\]opt } [ArrayAssignmentPattern](https://262.ecma-international.org/12.0/#prod-ArrayAssignmentPattern)\[Yield, Await\] : \[ [Elision](https://262.ecma-international.org/12.0/#prod-Elision)opt [AssignmentRestElement](https://262.ecma-international.org/12.0/#prod-AssignmentRestElement)\[?Yield, ?Await\]opt \] \[ [AssignmentElementList](https://262.ecma-international.org/12.0/#prod-AssignmentElementList)\[?Yield, ?Await\] \] \[ [AssignmentElementList](https://262.ecma-international.org/12.0/#prod-AssignmentElementList)\[?Yield, ?Await\] , [Elision](https://262.ecma-international.org/12.0/#prod-Elision)opt [AssignmentRestElement](https://262.ecma-international.org/12.0/#prod-AssignmentRestElement)\[?Yield, ?Await\]opt \] [AssignmentRestProperty](https://262.ecma-international.org/12.0/#prod-AssignmentRestProperty)\[Yield, Await\] : ... [DestructuringAssignmentTarget](https://262.ecma-international.org/12.0/#prod-DestructuringAssignmentTarget)\[?Yield, ?Await\] [AssignmentPropertyList](https://262.ecma-international.org/12.0/#prod-AssignmentPropertyList)\[Yield, Await\] : [AssignmentProperty](https://262.ecma-international.org/12.0/#prod-AssignmentProperty)\[?Yield, ?Await\] [AssignmentPropertyList](https://262.ecma-international.org/12.0/#prod-AssignmentPropertyList)\[?Yield, ?Await\] , [AssignmentProperty](https://262.ecma-international.org/12.0/#prod-AssignmentProperty)\[?Yield, ?Await\] [AssignmentElementList](https://262.ecma-international.org/12.0/#prod-AssignmentElementList)\[Yield, Await\] : [AssignmentElisionElement](https://262.ecma-international.org/12.0/#prod-AssignmentElisionElement)\[?Yield, ?Await\] [AssignmentElementList](https://262.ecma-international.org/12.0/#prod-AssignmentElementList)\[?Yield, ?Await\] , [AssignmentElisionElement](https://262.ecma-international.org/12.0/#prod-AssignmentElisionElement)\[?Yield, ?Await\] [AssignmentElisionElement](https://262.ecma-international.org/12.0/#prod-AssignmentElisionElement)\[Yield, Await\] : [Elision](https://262.ecma-international.org/12.0/#prod-Elision)opt [AssignmentElement](https://262.ecma-international.org/12.0/#prod-AssignmentElement)\[?Yield, ?Await\] [AssignmentProperty](https://262.ecma-international.org/12.0/#prod-AssignmentProperty)\[Yield, Await\] : [IdentifierReference](https://262.ecma-international.org/12.0/#prod-IdentifierReference)\[?Yield, ?Await\] [Initializer](https://262.ecma-international.org/12.0/#prod-Initializer)\[+In, ?Yield, ?Await\]opt [PropertyName](https://262.ecma-international.org/12.0/#prod-PropertyName)\[?Yield, ?Await\] : [AssignmentElement](https://262.ecma-international.org/12.0/#prod-AssignmentElement)\[?Yield, ?Await\] [AssignmentElement](https://262.ecma-international.org/12.0/#prod-AssignmentElement)\[Yield, Await\] : [DestructuringAssignmentTarget](https://262.ecma-international.org/12.0/#prod-DestructuringAssignmentTarget)\[?Yield, ?Await\] [Initializer](https://262.ecma-international.org/12.0/#prod-Initializer)\[+In, ?Yield, ?Await\]opt [AssignmentRestElement](https://262.ecma-international.org/12.0/#prod-AssignmentRestElement)\[Yield, Await\] : ... [DestructuringAssignmentTarget](https://262.ecma-international.org/12.0/#prod-DestructuringAssignmentTarget)\[?Yield, ?Await\] [DestructuringAssignmentTarget](https://262.ecma-international.org/12.0/#prod-DestructuringAssignmentTarget)\[Yield, Await\] : [LeftHandSideExpression](https://262.ecma-international.org/12.0/#prod-LeftHandSideExpression)\[?Yield, ?Await\] [Expression](https://262.ecma-international.org/12.0/#prod-Expression)\[In, Yield, Await\] : [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression)\[?In, ?Yield, ?Await\] [Expression](https://262.ecma-international.org/12.0/#prod-Expression)\[?In, ?Yield, ?Await\] , [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression)\[?In, ?Yield, ?Await\]

## A.3 Statements

[Statement](https://262.ecma-international.org/12.0/#prod-Statement)\[Yield, Await, Return\] : [BlockStatement](https://262.ecma-international.org/12.0/#prod-BlockStatement)\[?Yield, ?Await, ?Return\] [VariableStatement](https://262.ecma-international.org/12.0/#prod-VariableStatement)\[?Yield, ?Await\] [EmptyStatement](https://262.ecma-international.org/12.0/#prod-EmptyStatement) [ExpressionStatement](https://262.ecma-international.org/12.0/#prod-ExpressionStatement)\[?Yield, ?Await\] [IfStatement](https://262.ecma-international.org/12.0/#prod-IfStatement)\[?Yield, ?Await, ?Return\] [BreakableStatement](https://262.ecma-international.org/12.0/#prod-BreakableStatement)\[?Yield, ?Await, ?Return\] [ContinueStatement](https://262.ecma-international.org/12.0/#prod-ContinueStatement)\[?Yield, ?Await\] [BreakStatement](https://262.ecma-international.org/12.0/#prod-BreakStatement)\[?Yield, ?Await\] \[+Return\][ReturnStatement](https://262.ecma-international.org/12.0/#prod-ReturnStatement)\[?Yield, ?Await\] [WithStatement](https://262.ecma-international.org/12.0/#prod-WithStatement)\[?Yield, ?Await, ?Return\] [LabelledStatement](https://262.ecma-international.org/12.0/#prod-LabelledStatement)\[?Yield, ?Await, ?Return\] [ThrowStatement](https://262.ecma-international.org/12.0/#prod-ThrowStatement)\[?Yield, ?Await\] [TryStatement](https://262.ecma-international.org/12.0/#prod-TryStatement)\[?Yield, ?Await, ?Return\] [DebuggerStatement](https://262.ecma-international.org/12.0/#prod-DebuggerStatement) [Declaration](https://262.ecma-international.org/12.0/#prod-Declaration)\[Yield, Await\] : [HoistableDeclaration](https://262.ecma-international.org/12.0/#prod-HoistableDeclaration)\[?Yield, ?Await, ~Default\] [ClassDeclaration](https://262.ecma-international.org/12.0/#prod-ClassDeclaration)\[?Yield, ?Await, ~Default\] [LexicalDeclaration](https://262.ecma-international.org/12.0/#prod-LexicalDeclaration)\[+In, ?Yield, ?Await\] [HoistableDeclaration](https://262.ecma-international.org/12.0/#prod-HoistableDeclaration)\[Yield, Await, Default\] : [FunctionDeclaration](https://262.ecma-international.org/12.0/#prod-FunctionDeclaration)\[?Yield, ?Await, ?Default\] [GeneratorDeclaration](https://262.ecma-international.org/12.0/#prod-GeneratorDeclaration)\[?Yield, ?Await, ?Default\] [AsyncFunctionDeclaration](https://262.ecma-international.org/12.0/#prod-AsyncFunctionDeclaration)\[?Yield, ?Await, ?Default\] [AsyncGeneratorDeclaration](https://262.ecma-international.org/12.0/#prod-AsyncGeneratorDeclaration)\[?Yield, ?Await, ?Default\] [BreakableStatement](https://262.ecma-international.org/12.0/#prod-BreakableStatement)\[Yield, Await, Return\] : [IterationStatement](https://262.ecma-international.org/12.0/#prod-IterationStatement)\[?Yield, ?Await, ?Return\] [SwitchStatement](https://262.ecma-international.org/12.0/#prod-SwitchStatement)\[?Yield, ?Await, ?Return\] [BlockStatement](https://262.ecma-international.org/12.0/#prod-BlockStatement)\[Yield, Await, Return\] : [Block](https://262.ecma-international.org/12.0/#prod-Block)\[?Yield, ?Await, ?Return\] [Block](https://262.ecma-international.org/12.0/#prod-Block)\[Yield, Await, Return\] : { [StatementList](https://262.ecma-international.org/12.0/#prod-StatementList)\[?Yield, ?Await, ?Return\]opt } [StatementList](https://262.ecma-international.org/12.0/#prod-StatementList)\[Yield, Await, Return\] : [StatementListItem](https://262.ecma-international.org/12.0/#prod-StatementListItem)\[?Yield, ?Await, ?Return\] [StatementList](https://262.ecma-international.org/12.0/#prod-StatementList)\[?Yield, ?Await, ?Return\] [StatementListItem](https://262.ecma-international.org/12.0/#prod-StatementListItem)\[?Yield, ?Await, ?Return\] [StatementListItem](https://262.ecma-international.org/12.0/#prod-StatementListItem)\[Yield, Await, Return\] : [Statement](https://262.ecma-international.org/12.0/#prod-Statement)\[?Yield, ?Await, ?Return\] [Declaration](https://262.ecma-international.org/12.0/#prod-Declaration)\[?Yield, ?Await\] [LexicalDeclaration](https://262.ecma-international.org/12.0/#prod-LexicalDeclaration)\[In, Yield, Await\] : [LetOrConst](https://262.ecma-international.org/12.0/#prod-LetOrConst) [BindingList](https://262.ecma-international.org/12.0/#prod-BindingList)\[?In, ?Yield, ?Await\] ; [LetOrConst](https://262.ecma-international.org/12.0/#prod-LetOrConst) : let const [BindingList](https://262.ecma-international.org/12.0/#prod-BindingList)\[In, Yield, Await\] : [LexicalBinding](https://262.ecma-international.org/12.0/#prod-LexicalBinding)\[?In, ?Yield, ?Await\] [BindingList](https://262.ecma-international.org/12.0/#prod-BindingList)\[?In, ?Yield, ?Await\] , [LexicalBinding](https://262.ecma-international.org/12.0/#prod-LexicalBinding)\[?In, ?Yield, ?Await\] [LexicalBinding](https://262.ecma-international.org/12.0/#prod-LexicalBinding)\[In, Yield, Await\] : [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier)\[?Yield, ?Await\] [Initializer](https://262.ecma-international.org/12.0/#prod-Initializer)\[?In, ?Yield, ?Await\]opt [BindingPattern](https://262.ecma-international.org/12.0/#prod-BindingPattern)\[?Yield, ?Await\] [Initializer](https://262.ecma-international.org/12.0/#prod-Initializer)\[?In, ?Yield, ?Await\] [VariableStatement](https://262.ecma-international.org/12.0/#prod-VariableStatement)\[Yield, Await\] : var [VariableDeclarationList](https://262.ecma-international.org/12.0/#prod-VariableDeclarationList)\[+In, ?Yield, ?Await\] ; [VariableDeclarationList](https://262.ecma-international.org/12.0/#prod-VariableDeclarationList)\[In, Yield, Await\] : [VariableDeclaration](https://262.ecma-international.org/12.0/#prod-VariableDeclaration)\[?In, ?Yield, ?Await\] [VariableDeclarationList](https://262.ecma-international.org/12.0/#prod-VariableDeclarationList)\[?In, ?Yield, ?Await\] , [VariableDeclaration](https://262.ecma-international.org/12.0/#prod-VariableDeclaration)\[?In, ?Yield, ?Await\] [VariableDeclaration](https://262.ecma-international.org/12.0/#prod-VariableDeclaration)\[In, Yield, Await\] : [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier)\[?Yield, ?Await\] [Initializer](https://262.ecma-international.org/12.0/#prod-Initializer)\[?In, ?Yield, ?Await\]opt [BindingPattern](https://262.ecma-international.org/12.0/#prod-BindingPattern)\[?Yield, ?Await\] [Initializer](https://262.ecma-international.org/12.0/#prod-Initializer)\[?In, ?Yield, ?Await\] [BindingPattern](https://262.ecma-international.org/12.0/#prod-BindingPattern)\[Yield, Await\] : [ObjectBindingPattern](https://262.ecma-international.org/12.0/#prod-ObjectBindingPattern)\[?Yield, ?Await\] [ArrayBindingPattern](https://262.ecma-international.org/12.0/#prod-ArrayBindingPattern)\[?Yield, ?Await\] [ObjectBindingPattern](https://262.ecma-international.org/12.0/#prod-ObjectBindingPattern)\[Yield, Await\] : { } { [BindingRestProperty](https://262.ecma-international.org/12.0/#prod-BindingRestProperty)\[?Yield, ?Await\] } { [BindingPropertyList](https://262.ecma-international.org/12.0/#prod-BindingPropertyList)\[?Yield, ?Await\] } { [BindingPropertyList](https://262.ecma-international.org/12.0/#prod-BindingPropertyList)\[?Yield, ?Await\] , [BindingRestProperty](https://262.ecma-international.org/12.0/#prod-BindingRestProperty)\[?Yield, ?Await\]opt } [ArrayBindingPattern](https://262.ecma-international.org/12.0/#prod-ArrayBindingPattern)\[Yield, Await\] : \[ [Elision](https://262.ecma-international.org/12.0/#prod-Elision)opt [BindingRestElement](https://262.ecma-international.org/12.0/#prod-BindingRestElement)\[?Yield, ?Await\]opt \] \[ [BindingElementList](https://262.ecma-international.org/12.0/#prod-BindingElementList)\[?Yield, ?Await\] \] \[ [BindingElementList](https://262.ecma-international.org/12.0/#prod-BindingElementList)\[?Yield, ?Await\] , [Elision](https://262.ecma-international.org/12.0/#prod-Elision)opt [BindingRestElement](https://262.ecma-international.org/12.0/#prod-BindingRestElement)\[?Yield, ?Await\]opt \] [BindingRestProperty](https://262.ecma-international.org/12.0/#prod-BindingRestProperty)\[Yield, Await\] : ... [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier)\[?Yield, ?Await\] [BindingPropertyList](https://262.ecma-international.org/12.0/#prod-BindingPropertyList)\[Yield, Await\] : [BindingProperty](https://262.ecma-international.org/12.0/#prod-BindingProperty)\[?Yield, ?Await\] [BindingPropertyList](https://262.ecma-international.org/12.0/#prod-BindingPropertyList)\[?Yield, ?Await\] , [BindingProperty](https://262.ecma-international.org/12.0/#prod-BindingProperty)\[?Yield, ?Await\] [BindingElementList](https://262.ecma-international.org/12.0/#prod-BindingElementList)\[Yield, Await\] : [BindingElisionElement](https://262.ecma-international.org/12.0/#prod-BindingElisionElement)\[?Yield, ?Await\] [BindingElementList](https://262.ecma-international.org/12.0/#prod-BindingElementList)\[?Yield, ?Await\] , [BindingElisionElement](https://262.ecma-international.org/12.0/#prod-BindingElisionElement)\[?Yield, ?Await\] [BindingElisionElement](https://262.ecma-international.org/12.0/#prod-BindingElisionElement)\[Yield, Await\] : [Elision](https://262.ecma-international.org/12.0/#prod-Elision)opt [BindingElement](https://262.ecma-international.org/12.0/#prod-BindingElement)\[?Yield, ?Await\] [BindingProperty](https://262.ecma-international.org/12.0/#prod-BindingProperty)\[Yield, Await\] : [SingleNameBinding](https://262.ecma-international.org/12.0/#prod-SingleNameBinding)\[?Yield, ?Await\] [PropertyName](https://262.ecma-international.org/12.0/#prod-PropertyName)\[?Yield, ?Await\] : [BindingElement](https://262.ecma-international.org/12.0/#prod-BindingElement)\[?Yield, ?Await\] [BindingElement](https://262.ecma-international.org/12.0/#prod-BindingElement)\[Yield, Await\] : [SingleNameBinding](https://262.ecma-international.org/12.0/#prod-SingleNameBinding)\[?Yield, ?Await\] [BindingPattern](https://262.ecma-international.org/12.0/#prod-BindingPattern)\[?Yield, ?Await\] [Initializer](https://262.ecma-international.org/12.0/#prod-Initializer)\[+In, ?Yield, ?Await\]opt [SingleNameBinding](https://262.ecma-international.org/12.0/#prod-SingleNameBinding)\[Yield, Await\] : [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier)\[?Yield, ?Await\] [Initializer](https://262.ecma-international.org/12.0/#prod-Initializer)\[+In, ?Yield, ?Await\]opt [BindingRestElement](https://262.ecma-international.org/12.0/#prod-BindingRestElement)\[Yield, Await\] : ... [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier)\[?Yield, ?Await\] ... [BindingPattern](https://262.ecma-international.org/12.0/#prod-BindingPattern)\[?Yield, ?Await\] [EmptyStatement](https://262.ecma-international.org/12.0/#prod-EmptyStatement) : ; [ExpressionStatement](https://262.ecma-international.org/12.0/#prod-ExpressionStatement)\[Yield, Await\] : \[lookahead ∉ { {, function, async \[no [LineTerminator](https://262.ecma-international.org/12.0/#prod-LineTerminator) here\] function, class, let \[ }\] [Expression](https://262.ecma-international.org/12.0/#prod-Expression)\[+In, ?Yield, ?Await\] ; [IfStatement](https://262.ecma-international.org/12.0/#prod-IfStatement)\[Yield, Await, Return\] : if ( [Expression](https://262.ecma-international.org/12.0/#prod-Expression)\[+In, ?Yield, ?Await\] ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement)\[?Yield, ?Await, ?Return\] else [Statement](https://262.ecma-international.org/12.0/#prod-Statement)\[?Yield, ?Await, ?Return\] if ( [Expression](https://262.ecma-international.org/12.0/#prod-Expression)\[+In, ?Yield, ?Await\] ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement)\[?Yield, ?Await, ?Return\] \[lookahead ≠ else\] [IterationStatement](https://262.ecma-international.org/12.0/#prod-IterationStatement)\[Yield, Await, Return\] : [DoWhileStatement](https://262.ecma-international.org/12.0/#prod-DoWhileStatement)\[?Yield, ?Await, ?Return\] [WhileStatement](https://262.ecma-international.org/12.0/#prod-WhileStatement)\[?Yield, ?Await, ?Return\] [ForStatement](https://262.ecma-international.org/12.0/#prod-ForStatement)\[?Yield, ?Await, ?Return\] [ForInOfStatement](https://262.ecma-international.org/12.0/#prod-ForInOfStatement)\[?Yield, ?Await, ?Return\] [DoWhileStatement](https://262.ecma-international.org/12.0/#prod-DoWhileStatement)\[Yield, Await, Return\] : do [Statement](https://262.ecma-international.org/12.0/#prod-Statement)\[?Yield, ?Await, ?Return\] while ( [Expression](https://262.ecma-international.org/12.0/#prod-Expression)\[+In, ?Yield, ?Await\] ) ; [WhileStatement](https://262.ecma-international.org/12.0/#prod-WhileStatement)\[Yield, Await, Return\] : while ( [Expression](https://262.ecma-international.org/12.0/#prod-Expression)\[+In, ?Yield, ?Await\] ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement)\[?Yield, ?Await, ?Return\] [ForStatement](https://262.ecma-international.org/12.0/#prod-ForStatement)\[Yield, Await, Return\] : for ( \[lookahead ≠ let \[\] [Expression](https://262.ecma-international.org/12.0/#prod-Expression)\[~In, ?Yield, ?Await\]opt ; [Expression](https://262.ecma-international.org/12.0/#prod-Expression)\[+In, ?Yield, ?Await\]opt ; [Expression](https://262.ecma-international.org/12.0/#prod-Expression)\[+In, ?Yield, ?Await\]opt ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement)\[?Yield, ?Await, ?Return\] for ( var [VariableDeclarationList](https://262.ecma-international.org/12.0/#prod-VariableDeclarationList)\[~In, ?Yield, ?Await\] ; [Expression](https://262.ecma-international.org/12.0/#prod-Expression)\[+In, ?Yield, ?Await\]opt ; [Expression](https://262.ecma-international.org/12.0/#prod-Expression)\[+In, ?Yield, ?Await\]opt ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement)\[?Yield, ?Await, ?Return\] for ( [LexicalDeclaration](https://262.ecma-international.org/12.0/#prod-LexicalDeclaration)\[~In, ?Yield, ?Await\] [Expression](https://262.ecma-international.org/12.0/#prod-Expression)\[+In, ?Yield, ?Await\]opt ; [Expression](https://262.ecma-international.org/12.0/#prod-Expression)\[+In, ?Yield, ?Await\]opt ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement)\[?Yield, ?Await, ?Return\] [ForInOfStatement](https://262.ecma-international.org/12.0/#prod-ForInOfStatement)\[Yield, Await, Return\] : for ( \[lookahead ≠ let \[\] [LeftHandSideExpression](https://262.ecma-international.org/12.0/#prod-LeftHandSideExpression)\[?Yield, ?Await\] in [Expression](https://262.ecma-international.org/12.0/#prod-Expression)\[+In, ?Yield, ?Await\] ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement)\[?Yield, ?Await, ?Return\] for ( var [ForBinding](https://262.ecma-international.org/12.0/#prod-ForBinding)\[?Yield, ?Await\] in [Expression](https://262.ecma-international.org/12.0/#prod-Expression)\[+In, ?Yield, ?Await\] ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement)\[?Yield, ?Await, ?Return\] for ( [ForDeclaration](https://262.ecma-international.org/12.0/#prod-ForDeclaration)\[?Yield, ?Await\] in [Expression](https://262.ecma-international.org/12.0/#prod-Expression)\[+In, ?Yield, ?Await\] ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement)\[?Yield, ?Await, ?Return\] for ( \[lookahead ∉ { let, async of }\] [LeftHandSideExpression](https://262.ecma-international.org/12.0/#prod-LeftHandSideExpression)\[?Yield, ?Await\] of [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression)\[+In, ?Yield, ?Await\] ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement)\[?Yield, ?Await, ?Return\] for ( var [ForBinding](https://262.ecma-international.org/12.0/#prod-ForBinding)\[?Yield, ?Await\] of [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression)\[+In, ?Yield, ?Await\] ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement)\[?Yield, ?Await, ?Return\] for ( [ForDeclaration](https://262.ecma-international.org/12.0/#prod-ForDeclaration)\[?Yield, ?Await\] of [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression)\[+In, ?Yield, ?Await\] ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement)\[?Yield, ?Await, ?Return\] \[+Await\] for await ( \[lookahead ≠ let\] [LeftHandSideExpression](https://262.ecma-international.org/12.0/#prod-LeftHandSideExpression)\[?Yield, ?Await\] of [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression)\[+In, ?Yield, ?Await\] ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement)\[?Yield, ?Await, ?Return\] \[+Await\] for await ( var [ForBinding](https://262.ecma-international.org/12.0/#prod-ForBinding)\[?Yield, ?Await\] of [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression)\[+In, ?Yield, ?Await\] ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement)\[?Yield, ?Await, ?Return\] \[+Await\] for await ( [ForDeclaration](https://262.ecma-international.org/12.0/#prod-ForDeclaration)\[?Yield, ?Await\] of [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression)\[+In, ?Yield, ?Await\] ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement)\[?Yield, ?Await, ?Return\] [ForDeclaration](https://262.ecma-international.org/12.0/#prod-ForDeclaration)\[Yield, Await\] : [LetOrConst](https://262.ecma-international.org/12.0/#prod-LetOrConst) [ForBinding](https://262.ecma-international.org/12.0/#prod-ForBinding)\[?Yield, ?Await\] [ForBinding](https://262.ecma-international.org/12.0/#prod-ForBinding)\[Yield, Await\] : [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier)\[?Yield, ?Await\] [BindingPattern](https://262.ecma-international.org/12.0/#prod-BindingPattern)\[?Yield, ?Await\] [ContinueStatement](https://262.ecma-international.org/12.0/#prod-ContinueStatement)\[Yield, Await\] : continue ; continue \[no [LineTerminator](https://262.ecma-international.org/12.0/#prod-LineTerminator) here\] [LabelIdentifier](https://262.ecma-international.org/12.0/#prod-LabelIdentifier)\[?Yield, ?Await\] ; [BreakStatement](https://262.ecma-international.org/12.0/#prod-BreakStatement)\[Yield, Await\] : break ; break \[no [LineTerminator](https://262.ecma-international.org/12.0/#prod-LineTerminator) here\] [LabelIdentifier](https://262.ecma-international.org/12.0/#prod-LabelIdentifier)\[?Yield, ?Await\] ; [ReturnStatement](https://262.ecma-international.org/12.0/#prod-ReturnStatement)\[Yield, Await\] : return ; return \[no [LineTerminator](https://262.ecma-international.org/12.0/#prod-LineTerminator) here\] [Expression](https://262.ecma-international.org/12.0/#prod-Expression)\[+In, ?Yield, ?Await\] ; [WithStatement](https://262.ecma-international.org/12.0/#prod-WithStatement)\[Yield, Await, Return\] : with ( [Expression](https://262.ecma-international.org/12.0/#prod-Expression)\[+In, ?Yield, ?Await\] ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement)\[?Yield, ?Await, ?Return\] [SwitchStatement](https://262.ecma-international.org/12.0/#prod-SwitchStatement)\[Yield, Await, Return\] : switch ( [Expression](https://262.ecma-international.org/12.0/#prod-Expression)\[+In, ?Yield, ?Await\] ) [CaseBlock](https://262.ecma-international.org/12.0/#prod-CaseBlock)\[?Yield, ?Await, ?Return\] [CaseBlock](https://262.ecma-international.org/12.0/#prod-CaseBlock)\[Yield, Await, Return\] : { [CaseClauses](https://262.ecma-international.org/12.0/#prod-CaseClauses)\[?Yield, ?Await, ?Return\]opt } { [CaseClauses](https://262.ecma-international.org/12.0/#prod-CaseClauses)\[?Yield, ?Await, ?Return\]opt [DefaultClause](https://262.ecma-international.org/12.0/#prod-DefaultClause)\[?Yield, ?Await, ?Return\] [CaseClauses](https://262.ecma-international.org/12.0/#prod-CaseClauses)\[?Yield, ?Await, ?Return\]opt } [CaseClauses](https://262.ecma-international.org/12.0/#prod-CaseClauses)\[Yield, Await, Return\] : [CaseClause](https://262.ecma-international.org/12.0/#prod-CaseClause)\[?Yield, ?Await, ?Return\] [CaseClauses](https://262.ecma-international.org/12.0/#prod-CaseClauses)\[?Yield, ?Await, ?Return\] [CaseClause](https://262.ecma-international.org/12.0/#prod-CaseClause)\[?Yield, ?Await, ?Return\] [CaseClause](https://262.ecma-international.org/12.0/#prod-CaseClause)\[Yield, Await, Return\] : case [Expression](https://262.ecma-international.org/12.0/#prod-Expression)\[+In, ?Yield, ?Await\] : [StatementList](https://262.ecma-international.org/12.0/#prod-StatementList)\[?Yield, ?Await, ?Return\]opt [DefaultClause](https://262.ecma-international.org/12.0/#prod-DefaultClause)\[Yield, Await, Return\] : default : [StatementList](https://262.ecma-international.org/12.0/#prod-StatementList)\[?Yield, ?Await, ?Return\]opt [LabelledStatement](https://262.ecma-international.org/12.0/#prod-LabelledStatement)\[Yield, Await, Return\] : [LabelIdentifier](https://262.ecma-international.org/12.0/#prod-LabelIdentifier)\[?Yield, ?Await\] : [LabelledItem](https://262.ecma-international.org/12.0/#prod-LabelledItem)\[?Yield, ?Await, ?Return\] [LabelledItem](https://262.ecma-international.org/12.0/#prod-LabelledItem)\[Yield, Await, Return\] : [Statement](https://262.ecma-international.org/12.0/#prod-Statement)\[?Yield, ?Await, ?Return\] [FunctionDeclaration](https://262.ecma-international.org/12.0/#prod-FunctionDeclaration)\[?Yield, ?Await, ~Default\] [ThrowStatement](https://262.ecma-international.org/12.0/#prod-ThrowStatement)\[Yield, Await\] : throw \[no [LineTerminator](https://262.ecma-international.org/12.0/#prod-LineTerminator) here\] [Expression](https://262.ecma-international.org/12.0/#prod-Expression)\[+In, ?Yield, ?Await\] ; [TryStatement](https://262.ecma-international.org/12.0/#prod-TryStatement)\[Yield, Await, Return\] : try [Block](https://262.ecma-international.org/12.0/#prod-Block)\[?Yield, ?Await, ?Return\] [Catch](https://262.ecma-international.org/12.0/#prod-Catch)\[?Yield, ?Await, ?Return\] try [Block](https://262.ecma-international.org/12.0/#prod-Block)\[?Yield, ?Await, ?Return\] [Finally](https://262.ecma-international.org/12.0/#prod-Finally)\[?Yield, ?Await, ?Return\] try [Block](https://262.ecma-international.org/12.0/#prod-Block)\[?Yield, ?Await, ?Return\] [Catch](https://262.ecma-international.org/12.0/#prod-Catch)\[?Yield, ?Await, ?Return\] [Finally](https://262.ecma-international.org/12.0/#prod-Finally)\[?Yield, ?Await, ?Return\] [Catch](https://262.ecma-international.org/12.0/#prod-Catch)\[Yield, Await, Return\] : catch ( [CatchParameter](https://262.ecma-international.org/12.0/#prod-CatchParameter)\[?Yield, ?Await\] ) [Block](https://262.ecma-international.org/12.0/#prod-Block)\[?Yield, ?Await, ?Return\] catch [Block](https://262.ecma-international.org/12.0/#prod-Block)\[?Yield, ?Await, ?Return\] [Finally](https://262.ecma-international.org/12.0/#prod-Finally)\[Yield, Await, Return\] : finally [Block](https://262.ecma-international.org/12.0/#prod-Block)\[?Yield, ?Await, ?Return\] [CatchParameter](https://262.ecma-international.org/12.0/#prod-CatchParameter)\[Yield, Await\] : [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier)\[?Yield, ?Await\] [BindingPattern](https://262.ecma-international.org/12.0/#prod-BindingPattern)\[?Yield, ?Await\] [DebuggerStatement](https://262.ecma-international.org/12.0/#prod-DebuggerStatement) : debugger ;

## A.4 Functions and Classes

[UniqueFormalParameters](https://262.ecma-international.org/12.0/#prod-UniqueFormalParameters)\[Yield, Await\] : [FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters)\[?Yield, ?Await\] [FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters)\[Yield, Await\] : \[empty\] [FunctionRestParameter](https://262.ecma-international.org/12.0/#prod-FunctionRestParameter)\[?Yield, ?Await\] [FormalParameterList](https://262.ecma-international.org/12.0/#prod-FormalParameterList)\[?Yield, ?Await\] [FormalParameterList](https://262.ecma-international.org/12.0/#prod-FormalParameterList)\[?Yield, ?Await\] , [FormalParameterList](https://262.ecma-international.org/12.0/#prod-FormalParameterList)\[?Yield, ?Await\] , [FunctionRestParameter](https://262.ecma-international.org/12.0/#prod-FunctionRestParameter)\[?Yield, ?Await\] [FormalParameterList](https://262.ecma-international.org/12.0/#prod-FormalParameterList)\[Yield, Await\] : [FormalParameter](https://262.ecma-international.org/12.0/#prod-FormalParameter)\[?Yield, ?Await\] [FormalParameterList](https://262.ecma-international.org/12.0/#prod-FormalParameterList)\[?Yield, ?Await\] , [FormalParameter](https://262.ecma-international.org/12.0/#prod-FormalParameter)\[?Yield, ?Await\] [FunctionRestParameter](https://262.ecma-international.org/12.0/#prod-FunctionRestParameter)\[Yield, Await\] : [BindingRestElement](https://262.ecma-international.org/12.0/#prod-BindingRestElement)\[?Yield, ?Await\] [FormalParameter](https://262.ecma-international.org/12.0/#prod-FormalParameter)\[Yield, Await\] : [BindingElement](https://262.ecma-international.org/12.0/#prod-BindingElement)\[?Yield, ?Await\] [FunctionDeclaration](https://262.ecma-international.org/12.0/#prod-FunctionDeclaration)\[Yield, Await, Default\] : function [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier)\[?Yield, ?Await\] ( [FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters)\[~Yield, ~Await\] ) { [FunctionBody](https://262.ecma-international.org/12.0/#prod-FunctionBody)\[~Yield, ~Await\] } \[+Default\] function ( [FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters)\[~Yield, ~Await\] ) { [FunctionBody](https://262.ecma-international.org/12.0/#prod-FunctionBody)\[~Yield, ~Await\] } [FunctionExpression](https://262.ecma-international.org/12.0/#prod-FunctionExpression) : function [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier)\[~Yield, ~Await\]opt ( [FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters)\[~Yield, ~Await\] ) { [FunctionBody](https://262.ecma-international.org/12.0/#prod-FunctionBody)\[~Yield, ~Await\] } [FunctionBody](https://262.ecma-international.org/12.0/#prod-FunctionBody)\[Yield, Await\] : [FunctionStatementList](https://262.ecma-international.org/12.0/#prod-FunctionStatementList)\[?Yield, ?Await\] [FunctionStatementList](https://262.ecma-international.org/12.0/#prod-FunctionStatementList)\[Yield, Await\] : [StatementList](https://262.ecma-international.org/12.0/#prod-StatementList)\[?Yield, ?Await, +Return\]opt [ArrowFunction](https://262.ecma-international.org/12.0/#prod-ArrowFunction)\[In, Yield, Await\] : [ArrowParameters](https://262.ecma-international.org/12.0/#prod-ArrowParameters)\[?Yield, ?Await\] \[no [LineTerminator](https://262.ecma-international.org/12.0/#prod-LineTerminator) here\] \=> [ConciseBody](https://262.ecma-international.org/12.0/#prod-ConciseBody)\[?In\] [ArrowParameters](https://262.ecma-international.org/12.0/#prod-ArrowParameters)\[Yield, Await\] : [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier)\[?Yield, ?Await\] [CoverParenthesizedExpressionAndArrowParameterList](https://262.ecma-international.org/12.0/#prod-CoverParenthesizedExpressionAndArrowParameterList)\[?Yield, ?Await\] [ConciseBody](https://262.ecma-international.org/12.0/#prod-ConciseBody)\[In\] : \[lookahead ≠ {\] [ExpressionBody](https://262.ecma-international.org/12.0/#prod-ExpressionBody)\[?In, ~Await\] { [FunctionBody](https://262.ecma-international.org/12.0/#prod-FunctionBody)\[~Yield, ~Await\] } [ExpressionBody](https://262.ecma-international.org/12.0/#prod-ExpressionBody)\[In, Await\] : [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression)\[?In, ~Yield, ?Await\]

When processing an instance of the production  
[ArrowParameters](https://262.ecma-international.org/12.0/#prod-ArrowParameters)\[Yield, Await\] : [CoverParenthesizedExpressionAndArrowParameterList](https://262.ecma-international.org/12.0/#prod-CoverParenthesizedExpressionAndArrowParameterList)\[?Yield, ?Await\]  
the interpretation of [CoverParenthesizedExpressionAndArrowParameterList](https://262.ecma-international.org/12.0/#prod-CoverParenthesizedExpressionAndArrowParameterList) is refined using the following grammar:

[ArrowFormalParameters](https://262.ecma-international.org/12.0/#prod-ArrowFormalParameters)\[Yield, Await\] : ( [UniqueFormalParameters](https://262.ecma-international.org/12.0/#prod-UniqueFormalParameters)\[?Yield, ?Await\] ) [AsyncArrowFunction](https://262.ecma-international.org/12.0/#prod-AsyncArrowFunction)\[In, Yield, Await\] : async \[no [LineTerminator](https://262.ecma-international.org/12.0/#prod-LineTerminator) here\] [AsyncArrowBindingIdentifier](https://262.ecma-international.org/12.0/#prod-AsyncArrowBindingIdentifier)\[?Yield\] \[no [LineTerminator](https://262.ecma-international.org/12.0/#prod-LineTerminator) here\] \=> [AsyncConciseBody](https://262.ecma-international.org/12.0/#prod-AsyncConciseBody)\[?In\] [CoverCallExpressionAndAsyncArrowHead](https://262.ecma-international.org/12.0/#prod-CoverCallExpressionAndAsyncArrowHead)\[?Yield, ?Await\] \[no [LineTerminator](https://262.ecma-international.org/12.0/#prod-LineTerminator) here\] \=> [AsyncConciseBody](https://262.ecma-international.org/12.0/#prod-AsyncConciseBody)\[?In\] [AsyncConciseBody](https://262.ecma-international.org/12.0/#prod-AsyncConciseBody)\[In\] : \[lookahead ≠ {\] [ExpressionBody](https://262.ecma-international.org/12.0/#prod-ExpressionBody)\[?In, +Await\] { [AsyncFunctionBody](https://262.ecma-international.org/12.0/#prod-AsyncFunctionBody) } [AsyncArrowBindingIdentifier](https://262.ecma-international.org/12.0/#prod-AsyncArrowBindingIdentifier)\[Yield\] : [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier)\[?Yield, +Await\] [CoverCallExpressionAndAsyncArrowHead](https://262.ecma-international.org/12.0/#prod-CoverCallExpressionAndAsyncArrowHead)\[Yield, Await\] : [MemberExpression](https://262.ecma-international.org/12.0/#prod-MemberExpression)\[?Yield, ?Await\] [Arguments](https://262.ecma-international.org/12.0/#prod-Arguments)\[?Yield, ?Await\]

When processing an instance of the production  
[AsyncArrowFunction](https://262.ecma-international.org/12.0/#prod-AsyncArrowFunction)\[In, Yield, Await\] : [CoverCallExpressionAndAsyncArrowHead](https://262.ecma-international.org/12.0/#prod-CoverCallExpressionAndAsyncArrowHead)\[?Yield, ?Await\] \[no [LineTerminator](https://262.ecma-international.org/12.0/#prod-LineTerminator) here\] \=> [AsyncConciseBody](https://262.ecma-international.org/12.0/#prod-AsyncConciseBody)\[?In\]  
the interpretation of [CoverCallExpressionAndAsyncArrowHead](https://262.ecma-international.org/12.0/#prod-CoverCallExpressionAndAsyncArrowHead) is refined using the following grammar:

[AsyncArrowHead](https://262.ecma-international.org/12.0/#prod-AsyncArrowHead) : async \[no [LineTerminator](https://262.ecma-international.org/12.0/#prod-LineTerminator) here\] [ArrowFormalParameters](https://262.ecma-international.org/12.0/#prod-ArrowFormalParameters)\[~Yield, +Await\] [MethodDefinition](https://262.ecma-international.org/12.0/#prod-MethodDefinition)\[Yield, Await\] : [PropertyName](https://262.ecma-international.org/12.0/#prod-PropertyName)\[?Yield, ?Await\] ( [UniqueFormalParameters](https://262.ecma-international.org/12.0/#prod-UniqueFormalParameters)\[~Yield, ~Await\] ) { [FunctionBody](https://262.ecma-international.org/12.0/#prod-FunctionBody)\[~Yield, ~Await\] } [GeneratorMethod](https://262.ecma-international.org/12.0/#prod-GeneratorMethod)\[?Yield, ?Await\] [AsyncMethod](https://262.ecma-international.org/12.0/#prod-AsyncMethod)\[?Yield, ?Await\] [AsyncGeneratorMethod](https://262.ecma-international.org/12.0/#prod-AsyncGeneratorMethod)\[?Yield, ?Await\] get [PropertyName](https://262.ecma-international.org/12.0/#prod-PropertyName)\[?Yield, ?Await\] ( ) { [FunctionBody](https://262.ecma-international.org/12.0/#prod-FunctionBody)\[~Yield, ~Await\] } set [PropertyName](https://262.ecma-international.org/12.0/#prod-PropertyName)\[?Yield, ?Await\] ( [PropertySetParameterList](https://262.ecma-international.org/12.0/#prod-PropertySetParameterList) ) { [FunctionBody](https://262.ecma-international.org/12.0/#prod-FunctionBody)\[~Yield, ~Await\] } [PropertySetParameterList](https://262.ecma-international.org/12.0/#prod-PropertySetParameterList) : [FormalParameter](https://262.ecma-international.org/12.0/#prod-FormalParameter)\[~Yield, ~Await\] [GeneratorMethod](https://262.ecma-international.org/12.0/#prod-GeneratorMethod)\[Yield, Await\] : \* [PropertyName](https://262.ecma-international.org/12.0/#prod-PropertyName)\[?Yield, ?Await\] ( [UniqueFormalParameters](https://262.ecma-international.org/12.0/#prod-UniqueFormalParameters)\[+Yield, ~Await\] ) { [GeneratorBody](https://262.ecma-international.org/12.0/#prod-GeneratorBody) } [GeneratorDeclaration](https://262.ecma-international.org/12.0/#prod-GeneratorDeclaration)\[Yield, Await, Default\] : function \* [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier)\[?Yield, ?Await\] ( [FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters)\[+Yield, ~Await\] ) { [GeneratorBody](https://262.ecma-international.org/12.0/#prod-GeneratorBody) } \[+Default\] function \* ( [FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters)\[+Yield, ~Await\] ) { [GeneratorBody](https://262.ecma-international.org/12.0/#prod-GeneratorBody) } [GeneratorExpression](https://262.ecma-international.org/12.0/#prod-GeneratorExpression) : function \* [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier)\[+Yield, ~Await\]opt ( [FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters)\[+Yield, ~Await\] ) { [GeneratorBody](https://262.ecma-international.org/12.0/#prod-GeneratorBody) } [GeneratorBody](https://262.ecma-international.org/12.0/#prod-GeneratorBody) : [FunctionBody](https://262.ecma-international.org/12.0/#prod-FunctionBody)\[+Yield, ~Await\] [YieldExpression](https://262.ecma-international.org/12.0/#prod-YieldExpression)\[In, Await\] : yield yield \[no [LineTerminator](https://262.ecma-international.org/12.0/#prod-LineTerminator) here\] [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression)\[?In, +Yield, ?Await\] yield \[no [LineTerminator](https://262.ecma-international.org/12.0/#prod-LineTerminator) here\] \* [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression)\[?In, +Yield, ?Await\] [AsyncGeneratorMethod](https://262.ecma-international.org/12.0/#prod-AsyncGeneratorMethod)\[Yield, Await\] : async \[no [LineTerminator](https://262.ecma-international.org/12.0/#prod-LineTerminator) here\] \* [PropertyName](https://262.ecma-international.org/12.0/#prod-PropertyName)\[?Yield, ?Await\] ( [UniqueFormalParameters](https://262.ecma-international.org/12.0/#prod-UniqueFormalParameters)\[+Yield, +Await\] ) { [AsyncGeneratorBody](https://262.ecma-international.org/12.0/#prod-AsyncGeneratorBody) } [AsyncGeneratorDeclaration](https://262.ecma-international.org/12.0/#prod-AsyncGeneratorDeclaration)\[Yield, Await, Default\] : async \[no [LineTerminator](https://262.ecma-international.org/12.0/#prod-LineTerminator) here\] function \* [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier)\[?Yield, ?Await\] ( [FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters)\[+Yield, +Await\] ) { [AsyncGeneratorBody](https://262.ecma-international.org/12.0/#prod-AsyncGeneratorBody) } \[+Default\] async \[no [LineTerminator](https://262.ecma-international.org/12.0/#prod-LineTerminator) here\] function \* ( [FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters)\[+Yield, +Await\] ) { [AsyncGeneratorBody](https://262.ecma-international.org/12.0/#prod-AsyncGeneratorBody) } [AsyncGeneratorExpression](https://262.ecma-international.org/12.0/#prod-AsyncGeneratorExpression) : async \[no [LineTerminator](https://262.ecma-international.org/12.0/#prod-LineTerminator) here\] function \* [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier)\[+Yield, +Await\]opt ( [FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters)\[+Yield, +Await\] ) { [AsyncGeneratorBody](https://262.ecma-international.org/12.0/#prod-AsyncGeneratorBody) } [AsyncGeneratorBody](https://262.ecma-international.org/12.0/#prod-AsyncGeneratorBody) : [FunctionBody](https://262.ecma-international.org/12.0/#prod-FunctionBody)\[+Yield, +Await\] [AsyncFunctionDeclaration](https://262.ecma-international.org/12.0/#prod-AsyncFunctionDeclaration)\[Yield, Await, Default\] : async \[no [LineTerminator](https://262.ecma-international.org/12.0/#prod-LineTerminator) here\] function [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier)\[?Yield, ?Await\] ( [FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters)\[~Yield, +Await\] ) { [AsyncFunctionBody](https://262.ecma-international.org/12.0/#prod-AsyncFunctionBody) } \[+Default\] async \[no [LineTerminator](https://262.ecma-international.org/12.0/#prod-LineTerminator) here\] function ( [FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters)\[~Yield, +Await\] ) { [AsyncFunctionBody](https://262.ecma-international.org/12.0/#prod-AsyncFunctionBody) } [AsyncFunctionExpression](https://262.ecma-international.org/12.0/#prod-AsyncFunctionExpression) : async \[no [LineTerminator](https://262.ecma-international.org/12.0/#prod-LineTerminator) here\] function [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier)\[~Yield, +Await\]opt ( [FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters)\[~Yield, +Await\] ) { [AsyncFunctionBody](https://262.ecma-international.org/12.0/#prod-AsyncFunctionBody) } [AsyncMethod](https://262.ecma-international.org/12.0/#prod-AsyncMethod)\[Yield, Await\] : async \[no [LineTerminator](https://262.ecma-international.org/12.0/#prod-LineTerminator) here\] [PropertyName](https://262.ecma-international.org/12.0/#prod-PropertyName)\[?Yield, ?Await\] ( [UniqueFormalParameters](https://262.ecma-international.org/12.0/#prod-UniqueFormalParameters)\[~Yield, +Await\] ) { [AsyncFunctionBody](https://262.ecma-international.org/12.0/#prod-AsyncFunctionBody) } [AsyncFunctionBody](https://262.ecma-international.org/12.0/#prod-AsyncFunctionBody) : [FunctionBody](https://262.ecma-international.org/12.0/#prod-FunctionBody)\[~Yield, +Await\] [AwaitExpression](https://262.ecma-international.org/12.0/#prod-AwaitExpression)\[Yield\] : await [UnaryExpression](https://262.ecma-international.org/12.0/#prod-UnaryExpression)\[?Yield, +Await\] [ClassDeclaration](https://262.ecma-international.org/12.0/#prod-ClassDeclaration)\[Yield, Await, Default\] : class [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier)\[?Yield, ?Await\] [ClassTail](https://262.ecma-international.org/12.0/#prod-ClassTail)\[?Yield, ?Await\] \[+Default\] class [ClassTail](https://262.ecma-international.org/12.0/#prod-ClassTail)\[?Yield, ?Await\] [ClassExpression](https://262.ecma-international.org/12.0/#prod-ClassExpression)\[Yield, Await\] : class [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier)\[?Yield, ?Await\]opt [ClassTail](https://262.ecma-international.org/12.0/#prod-ClassTail)\[?Yield, ?Await\] [ClassTail](https://262.ecma-international.org/12.0/#prod-ClassTail)\[Yield, Await\] : [ClassHeritage](https://262.ecma-international.org/12.0/#prod-ClassHeritage)\[?Yield, ?Await\]opt { [ClassBody](https://262.ecma-international.org/12.0/#prod-ClassBody)\[?Yield, ?Await\]opt } [ClassHeritage](https://262.ecma-international.org/12.0/#prod-ClassHeritage)\[Yield, Await\] : extends [LeftHandSideExpression](https://262.ecma-international.org/12.0/#prod-LeftHandSideExpression)\[?Yield, ?Await\] [ClassBody](https://262.ecma-international.org/12.0/#prod-ClassBody)\[Yield, Await\] : [ClassElementList](https://262.ecma-international.org/12.0/#prod-ClassElementList)\[?Yield, ?Await\] [ClassElementList](https://262.ecma-international.org/12.0/#prod-ClassElementList)\[Yield, Await\] : [ClassElement](https://262.ecma-international.org/12.0/#prod-ClassElement)\[?Yield, ?Await\] [ClassElementList](https://262.ecma-international.org/12.0/#prod-ClassElementList)\[?Yield, ?Await\] [ClassElement](https://262.ecma-international.org/12.0/#prod-ClassElement)\[?Yield, ?Await\] [ClassElement](https://262.ecma-international.org/12.0/#prod-ClassElement)\[Yield, Await\] : [MethodDefinition](https://262.ecma-international.org/12.0/#prod-MethodDefinition)\[?Yield, ?Await\] static [MethodDefinition](https://262.ecma-international.org/12.0/#prod-MethodDefinition)\[?Yield, ?Await\] ;

## A.5 Scripts and Modules

[Script](https://262.ecma-international.org/12.0/#prod-Script) : [ScriptBody](https://262.ecma-international.org/12.0/#prod-ScriptBody)opt [ScriptBody](https://262.ecma-international.org/12.0/#prod-ScriptBody) : [StatementList](https://262.ecma-international.org/12.0/#prod-StatementList)\[~Yield, ~Await, ~Return\] [Module](https://262.ecma-international.org/12.0/#prod-Module) : [ModuleBody](https://262.ecma-international.org/12.0/#prod-ModuleBody)opt [ModuleBody](https://262.ecma-international.org/12.0/#prod-ModuleBody) : [ModuleItemList](https://262.ecma-international.org/12.0/#prod-ModuleItemList) [ModuleItemList](https://262.ecma-international.org/12.0/#prod-ModuleItemList) : [ModuleItem](https://262.ecma-international.org/12.0/#prod-ModuleItem) [ModuleItemList](https://262.ecma-international.org/12.0/#prod-ModuleItemList) [ModuleItem](https://262.ecma-international.org/12.0/#prod-ModuleItem) [ModuleItem](https://262.ecma-international.org/12.0/#prod-ModuleItem) : [ImportDeclaration](https://262.ecma-international.org/12.0/#prod-ImportDeclaration) [ExportDeclaration](https://262.ecma-international.org/12.0/#prod-ExportDeclaration) [StatementListItem](https://262.ecma-international.org/12.0/#prod-StatementListItem)\[~Yield, ~Await, ~Return\] [ImportDeclaration](https://262.ecma-international.org/12.0/#prod-ImportDeclaration) : import [ImportClause](https://262.ecma-international.org/12.0/#prod-ImportClause) [FromClause](https://262.ecma-international.org/12.0/#prod-FromClause) ; import [ModuleSpecifier](https://262.ecma-international.org/12.0/#prod-ModuleSpecifier) ; [ImportClause](https://262.ecma-international.org/12.0/#prod-ImportClause) : [ImportedDefaultBinding](https://262.ecma-international.org/12.0/#prod-ImportedDefaultBinding) [NameSpaceImport](https://262.ecma-international.org/12.0/#prod-NameSpaceImport) [NamedImports](https://262.ecma-international.org/12.0/#prod-NamedImports) [ImportedDefaultBinding](https://262.ecma-international.org/12.0/#prod-ImportedDefaultBinding) , [NameSpaceImport](https://262.ecma-international.org/12.0/#prod-NameSpaceImport) [ImportedDefaultBinding](https://262.ecma-international.org/12.0/#prod-ImportedDefaultBinding) , [NamedImports](https://262.ecma-international.org/12.0/#prod-NamedImports) [ImportedDefaultBinding](https://262.ecma-international.org/12.0/#prod-ImportedDefaultBinding) : [ImportedBinding](https://262.ecma-international.org/12.0/#prod-ImportedBinding) [NameSpaceImport](https://262.ecma-international.org/12.0/#prod-NameSpaceImport) : \* as [ImportedBinding](https://262.ecma-international.org/12.0/#prod-ImportedBinding) [NamedImports](https://262.ecma-international.org/12.0/#prod-NamedImports) : { } { [ImportsList](https://262.ecma-international.org/12.0/#prod-ImportsList) } { [ImportsList](https://262.ecma-international.org/12.0/#prod-ImportsList) , } [FromClause](https://262.ecma-international.org/12.0/#prod-FromClause) : from [ModuleSpecifier](https://262.ecma-international.org/12.0/#prod-ModuleSpecifier) [ImportsList](https://262.ecma-international.org/12.0/#prod-ImportsList) : [ImportSpecifier](https://262.ecma-international.org/12.0/#prod-ImportSpecifier) [ImportsList](https://262.ecma-international.org/12.0/#prod-ImportsList) , [ImportSpecifier](https://262.ecma-international.org/12.0/#prod-ImportSpecifier) [ImportSpecifier](https://262.ecma-international.org/12.0/#prod-ImportSpecifier) : [ImportedBinding](https://262.ecma-international.org/12.0/#prod-ImportedBinding) [IdentifierName](https://262.ecma-international.org/12.0/#prod-IdentifierName) as [ImportedBinding](https://262.ecma-international.org/12.0/#prod-ImportedBinding) [ModuleSpecifier](https://262.ecma-international.org/12.0/#prod-ModuleSpecifier) : [StringLiteral](https://262.ecma-international.org/12.0/#prod-StringLiteral) [ImportedBinding](https://262.ecma-international.org/12.0/#prod-ImportedBinding) : [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier)\[~Yield, ~Await\] [ExportDeclaration](https://262.ecma-international.org/12.0/#prod-ExportDeclaration) : export [ExportFromClause](https://262.ecma-international.org/12.0/#prod-ExportFromClause) [FromClause](https://262.ecma-international.org/12.0/#prod-FromClause) ; export [NamedExports](https://262.ecma-international.org/12.0/#prod-NamedExports) ; export [VariableStatement](https://262.ecma-international.org/12.0/#prod-VariableStatement)\[~Yield, ~Await\] export [Declaration](https://262.ecma-international.org/12.0/#prod-Declaration)\[~Yield, ~Await\] export default [HoistableDeclaration](https://262.ecma-international.org/12.0/#prod-HoistableDeclaration)\[~Yield, ~Await, +Default\] export default [ClassDeclaration](https://262.ecma-international.org/12.0/#prod-ClassDeclaration)\[~Yield, ~Await, +Default\] export default \[lookahead ∉ { function, async \[no [LineTerminator](https://262.ecma-international.org/12.0/#prod-LineTerminator) here\] function, class }\] [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression)\[+In, ~Yield, ~Await\] ; [ExportFromClause](https://262.ecma-international.org/12.0/#prod-ExportFromClause) : \* \* as [IdentifierName](https://262.ecma-international.org/12.0/#prod-IdentifierName) [NamedExports](https://262.ecma-international.org/12.0/#prod-NamedExports) [NamedExports](https://262.ecma-international.org/12.0/#prod-NamedExports) : { } { [ExportsList](https://262.ecma-international.org/12.0/#prod-ExportsList) } { [ExportsList](https://262.ecma-international.org/12.0/#prod-ExportsList) , } [ExportsList](https://262.ecma-international.org/12.0/#prod-ExportsList) : [ExportSpecifier](https://262.ecma-international.org/12.0/#prod-ExportSpecifier) [ExportsList](https://262.ecma-international.org/12.0/#prod-ExportsList) , [ExportSpecifier](https://262.ecma-international.org/12.0/#prod-ExportSpecifier) [ExportSpecifier](https://262.ecma-international.org/12.0/#prod-ExportSpecifier) : [IdentifierName](https://262.ecma-international.org/12.0/#prod-IdentifierName) [IdentifierName](https://262.ecma-international.org/12.0/#prod-IdentifierName) as [IdentifierName](https://262.ecma-international.org/12.0/#prod-IdentifierName)

## A.6 Number Conversions

[StringNumericLiteral](https://262.ecma-international.org/12.0/#prod-StringNumericLiteral) ::: [StrWhiteSpace](https://262.ecma-international.org/12.0/#prod-StrWhiteSpace)opt [StrWhiteSpace](https://262.ecma-international.org/12.0/#prod-StrWhiteSpace)opt [StrNumericLiteral](https://262.ecma-international.org/12.0/#prod-StrNumericLiteral) [StrWhiteSpace](https://262.ecma-international.org/12.0/#prod-StrWhiteSpace)opt [StrWhiteSpace](https://262.ecma-international.org/12.0/#prod-StrWhiteSpace) ::: [StrWhiteSpaceChar](https://262.ecma-international.org/12.0/#prod-StrWhiteSpaceChar) [StrWhiteSpace](https://262.ecma-international.org/12.0/#prod-StrWhiteSpace)opt [StrWhiteSpaceChar](https://262.ecma-international.org/12.0/#prod-StrWhiteSpaceChar) ::: [WhiteSpace](https://262.ecma-international.org/12.0/#prod-WhiteSpace) [LineTerminator](https://262.ecma-international.org/12.0/#prod-LineTerminator) [StrNumericLiteral](https://262.ecma-international.org/12.0/#prod-StrNumericLiteral) ::: [StrDecimalLiteral](https://262.ecma-international.org/12.0/#prod-StrDecimalLiteral) [NonDecimalIntegerLiteral](https://262.ecma-international.org/12.0/#prod-NonDecimalIntegerLiteral)\[~Sep\] [StrDecimalLiteral](https://262.ecma-international.org/12.0/#prod-StrDecimalLiteral) ::: [StrUnsignedDecimalLiteral](https://262.ecma-international.org/12.0/#prod-StrUnsignedDecimalLiteral) + [StrUnsignedDecimalLiteral](https://262.ecma-international.org/12.0/#prod-StrUnsignedDecimalLiteral) \- [StrUnsignedDecimalLiteral](https://262.ecma-international.org/12.0/#prod-StrUnsignedDecimalLiteral) [StrUnsignedDecimalLiteral](https://262.ecma-international.org/12.0/#prod-StrUnsignedDecimalLiteral) ::: Infinity [DecimalDigits](https://262.ecma-international.org/12.0/#prod-DecimalDigits)\[~Sep\] . [DecimalDigits](https://262.ecma-international.org/12.0/#prod-DecimalDigits)\[~Sep\]opt [ExponentPart](https://262.ecma-international.org/12.0/#prod-ExponentPart)\[~Sep\]opt . [DecimalDigits](https://262.ecma-international.org/12.0/#prod-DecimalDigits)\[~Sep\] [ExponentPart](https://262.ecma-international.org/12.0/#prod-ExponentPart)\[~Sep\]opt [DecimalDigits](https://262.ecma-international.org/12.0/#prod-DecimalDigits)\[~Sep\] [ExponentPart](https://262.ecma-international.org/12.0/#prod-ExponentPart)\[~Sep\]opt

All grammar symbols not explicitly defined by the [StringNumericLiteral](https://262.ecma-international.org/12.0/#prod-StringNumericLiteral) grammar have the definitions used in the [Lexical Grammar for numeric literals](https://262.ecma-international.org/12.0/#sec-literals-numeric-literals).

## A.7 Universal Resource Identifier Character Classes

[uri](https://262.ecma-international.org/12.0/#prod-uri) ::: [uriCharacters](https://262.ecma-international.org/12.0/#prod-uriCharacters)opt [uriCharacters](https://262.ecma-international.org/12.0/#prod-uriCharacters) ::: [uriCharacter](https://262.ecma-international.org/12.0/#prod-uriCharacter) [uriCharacters](https://262.ecma-international.org/12.0/#prod-uriCharacters)opt [uriCharacter](https://262.ecma-international.org/12.0/#prod-uriCharacter) ::: [uriReserved](https://262.ecma-international.org/12.0/#prod-uriReserved) [uriUnescaped](https://262.ecma-international.org/12.0/#prod-uriUnescaped) [uriEscaped](https://262.ecma-international.org/12.0/#prod-uriEscaped) [uriReserved](https://262.ecma-international.org/12.0/#prod-uriReserved) ::: one of ; / ? : @ & \= + $ , [uriUnescaped](https://262.ecma-international.org/12.0/#prod-uriUnescaped) ::: [uriAlpha](https://262.ecma-international.org/12.0/#prod-uriAlpha) [DecimalDigit](https://262.ecma-international.org/12.0/#prod-DecimalDigit) [uriMark](https://262.ecma-international.org/12.0/#prod-uriMark) [uriEscaped](https://262.ecma-international.org/12.0/#prod-uriEscaped) ::: % [HexDigit](https://262.ecma-international.org/12.0/#prod-HexDigit) [HexDigit](https://262.ecma-international.org/12.0/#prod-HexDigit) [uriAlpha](https://262.ecma-international.org/12.0/#prod-uriAlpha) ::: one of a b c d e f g h i j k l m n o p q r s t u v w x y z A B C D E F G H I J K L M N O P Q R S T U V W X Y Z [uriMark](https://262.ecma-international.org/12.0/#prod-uriMark) ::: one of \- \_ . ! ~ \* ' ( )

## A.8 Regular Expressions

[Pattern](https://262.ecma-international.org/12.0/#prod-Pattern)\[U, N\] :: [Disjunction](https://262.ecma-international.org/12.0/#prod-Disjunction)\[?U, ?N\] [Disjunction](https://262.ecma-international.org/12.0/#prod-Disjunction)\[U, N\] :: [Alternative](https://262.ecma-international.org/12.0/#prod-Alternative)\[?U, ?N\] [Alternative](https://262.ecma-international.org/12.0/#prod-Alternative)\[?U, ?N\] | [Disjunction](https://262.ecma-international.org/12.0/#prod-Disjunction)\[?U, ?N\] [Alternative](https://262.ecma-international.org/12.0/#prod-Alternative)\[U, N\] :: \[empty\] [Alternative](https://262.ecma-international.org/12.0/#prod-Alternative)\[?U, ?N\] [Term](https://262.ecma-international.org/12.0/#prod-Term)\[?U, ?N\] [Term](https://262.ecma-international.org/12.0/#prod-Term)\[U, N\] :: [Assertion](https://262.ecma-international.org/12.0/#prod-Assertion)\[?U, ?N\] [Atom](https://262.ecma-international.org/12.0/#prod-Atom)\[?U, ?N\] [Atom](https://262.ecma-international.org/12.0/#prod-Atom)\[?U, ?N\] [Quantifier](https://262.ecma-international.org/12.0/#prod-Quantifier) [Assertion](https://262.ecma-international.org/12.0/#prod-Assertion)\[U, N\] :: ^ $ \\ b \\ B ( ? \= [Disjunction](https://262.ecma-international.org/12.0/#prod-Disjunction)\[?U, ?N\] ) ( ? ! [Disjunction](https://262.ecma-international.org/12.0/#prod-Disjunction)\[?U, ?N\] ) ( ? <= [Disjunction](https://262.ecma-international.org/12.0/#prod-Disjunction)\[?U, ?N\] ) ( ? <! [Disjunction](https://262.ecma-international.org/12.0/#prod-Disjunction)\[?U, ?N\] ) [Quantifier](https://262.ecma-international.org/12.0/#prod-Quantifier) :: [QuantifierPrefix](https://262.ecma-international.org/12.0/#prod-QuantifierPrefix) [QuantifierPrefix](https://262.ecma-international.org/12.0/#prod-QuantifierPrefix) ? [QuantifierPrefix](https://262.ecma-international.org/12.0/#prod-QuantifierPrefix) :: \* + ? { [DecimalDigits](https://262.ecma-international.org/12.0/#prod-DecimalDigits)\[~Sep\] } { [DecimalDigits](https://262.ecma-international.org/12.0/#prod-DecimalDigits)\[~Sep\] , } { [DecimalDigits](https://262.ecma-international.org/12.0/#prod-DecimalDigits)\[~Sep\] , [DecimalDigits](https://262.ecma-international.org/12.0/#prod-DecimalDigits)\[~Sep\] } [Atom](https://262.ecma-international.org/12.0/#prod-Atom)\[U, N\] :: [PatternCharacter](https://262.ecma-international.org/12.0/#prod-PatternCharacter) . \\ [AtomEscape](https://262.ecma-international.org/12.0/#prod-AtomEscape)\[?U, ?N\] [CharacterClass](https://262.ecma-international.org/12.0/#prod-CharacterClass)\[?U\] ( [GroupSpecifier](https://262.ecma-international.org/12.0/#prod-GroupSpecifier)\[?U\] [Disjunction](https://262.ecma-international.org/12.0/#prod-Disjunction)\[?U, ?N\] ) ( ? : [Disjunction](https://262.ecma-international.org/12.0/#prod-Disjunction)\[?U, ?N\] ) [SyntaxCharacter](https://262.ecma-international.org/12.0/#prod-SyntaxCharacter) :: one of ^ $ \\ . \* + ? ( ) \[ \] { } | [PatternCharacter](https://262.ecma-international.org/12.0/#prod-PatternCharacter) :: [SourceCharacter](https://262.ecma-international.org/12.0/#prod-SourceCharacter) but not [SyntaxCharacter](https://262.ecma-international.org/12.0/#prod-SyntaxCharacter) [AtomEscape](https://262.ecma-international.org/12.0/#prod-AtomEscape)\[U, N\] :: [DecimalEscape](https://262.ecma-international.org/12.0/#prod-DecimalEscape) [CharacterClassEscape](https://262.ecma-international.org/12.0/#prod-CharacterClassEscape)\[?U\] [CharacterEscape](https://262.ecma-international.org/12.0/#prod-CharacterEscape)\[?U\] \[+N\] k [GroupName](https://262.ecma-international.org/12.0/#prod-GroupName)\[?U\] [CharacterEscape](https://262.ecma-international.org/12.0/#prod-CharacterEscape)\[U\] :: [ControlEscape](https://262.ecma-international.org/12.0/#prod-ControlEscape) c [ControlLetter](https://262.ecma-international.org/12.0/#prod-ControlLetter) 0 \[lookahead ∉ [DecimalDigit](https://262.ecma-international.org/12.0/#prod-DecimalDigit)\] [HexEscapeSequence](https://262.ecma-international.org/12.0/#prod-HexEscapeSequence) [RegExpUnicodeEscapeSequence](https://262.ecma-international.org/12.0/#prod-RegExpUnicodeEscapeSequence)\[?U\] [IdentityEscape](https://262.ecma-international.org/12.0/#prod-IdentityEscape)\[?U\] [ControlEscape](https://262.ecma-international.org/12.0/#prod-ControlEscape) :: one of f n r t v [ControlLetter](https://262.ecma-international.org/12.0/#prod-ControlLetter) :: one of a b c d e f g h i j k l m n o p q r s t u v w x y z A B C D E F G H I J K L M N O P Q R S T U V W X Y Z [GroupSpecifier](https://262.ecma-international.org/12.0/#prod-GroupSpecifier)\[U\] :: \[empty\] ? [GroupName](https://262.ecma-international.org/12.0/#prod-GroupName)\[?U\] [GroupName](https://262.ecma-international.org/12.0/#prod-GroupName)\[U\] :: < [RegExpIdentifierName](https://262.ecma-international.org/12.0/#prod-RegExpIdentifierName)\[?U\] \> [RegExpIdentifierName](https://262.ecma-international.org/12.0/#prod-RegExpIdentifierName)\[U\] :: [RegExpIdentifierStart](https://262.ecma-international.org/12.0/#prod-RegExpIdentifierStart)\[?U\] [RegExpIdentifierName](https://262.ecma-international.org/12.0/#prod-RegExpIdentifierName)\[?U\] [RegExpIdentifierPart](https://262.ecma-international.org/12.0/#prod-RegExpIdentifierPart)\[?U\] [RegExpIdentifierStart](https://262.ecma-international.org/12.0/#prod-RegExpIdentifierStart)\[U\] :: [UnicodeIDStart](https://262.ecma-international.org/12.0/#prod-UnicodeIDStart) $ \_ \\ [RegExpUnicodeEscapeSequence](https://262.ecma-international.org/12.0/#prod-RegExpUnicodeEscapeSequence)\[+U\] \[~U\] [UnicodeLeadSurrogate](https://262.ecma-international.org/12.0/#prod-UnicodeLeadSurrogate) [UnicodeTrailSurrogate](https://262.ecma-international.org/12.0/#prod-UnicodeTrailSurrogate) [RegExpIdentifierPart](https://262.ecma-international.org/12.0/#prod-RegExpIdentifierPart)\[U\] :: [UnicodeIDContinue](https://262.ecma-international.org/12.0/#prod-UnicodeIDContinue) $ \\ [RegExpUnicodeEscapeSequence](https://262.ecma-international.org/12.0/#prod-RegExpUnicodeEscapeSequence)\[+U\] \[~U\] [UnicodeLeadSurrogate](https://262.ecma-international.org/12.0/#prod-UnicodeLeadSurrogate) [UnicodeTrailSurrogate](https://262.ecma-international.org/12.0/#prod-UnicodeTrailSurrogate) <ZWNJ> <ZWJ> [RegExpUnicodeEscapeSequence](https://262.ecma-international.org/12.0/#prod-RegExpUnicodeEscapeSequence)\[U\] :: \[+U\] u [HexLeadSurrogate](https://262.ecma-international.org/12.0/#prod-HexLeadSurrogate) \\u [HexTrailSurrogate](https://262.ecma-international.org/12.0/#prod-HexTrailSurrogate) \[+U\] u [HexLeadSurrogate](https://262.ecma-international.org/12.0/#prod-HexLeadSurrogate) \[+U\] u [HexTrailSurrogate](https://262.ecma-international.org/12.0/#prod-HexTrailSurrogate) \[+U\] u [HexNonSurrogate](https://262.ecma-international.org/12.0/#prod-HexNonSurrogate) \[~U\] u [Hex4Digits](https://262.ecma-international.org/12.0/#prod-Hex4Digits) \[+U\] u{ [CodePoint](https://262.ecma-international.org/12.0/#prod-CodePoint) } [UnicodeLeadSurrogate](https://262.ecma-international.org/12.0/#prod-UnicodeLeadSurrogate) :: any Unicode code point in the inclusive range 0xD800 to 0xDBFF [UnicodeTrailSurrogate](https://262.ecma-international.org/12.0/#prod-UnicodeTrailSurrogate) :: any Unicode code point in the inclusive range 0xDC00 to 0xDFFF

Each `\u` [HexTrailSurrogate](https://262.ecma-international.org/12.0/#prod-HexTrailSurrogate) for which the choice of associated `u` [HexLeadSurrogate](https://262.ecma-international.org/12.0/#prod-HexLeadSurrogate) is ambiguous shall be associated with the nearest possible `u` [HexLeadSurrogate](https://262.ecma-international.org/12.0/#prod-HexLeadSurrogate) that would otherwise have no corresponding `\u` [HexTrailSurrogate](https://262.ecma-international.org/12.0/#prod-HexTrailSurrogate).

[HexLeadSurrogate](https://262.ecma-international.org/12.0/#prod-HexLeadSurrogate) :: [Hex4Digits](https://262.ecma-international.org/12.0/#prod-Hex4Digits) but only if the MV of [Hex4Digits](https://262.ecma-international.org/12.0/#prod-Hex4Digits) is in the inclusive range 0xD800 to 0xDBFF [HexTrailSurrogate](https://262.ecma-international.org/12.0/#prod-HexTrailSurrogate) :: [Hex4Digits](https://262.ecma-international.org/12.0/#prod-Hex4Digits) but only if the MV of [Hex4Digits](https://262.ecma-international.org/12.0/#prod-Hex4Digits) is in the inclusive range 0xDC00 to 0xDFFF [HexNonSurrogate](https://262.ecma-international.org/12.0/#prod-HexNonSurrogate) :: [Hex4Digits](https://262.ecma-international.org/12.0/#prod-Hex4Digits) but only if the MV of [Hex4Digits](https://262.ecma-international.org/12.0/#prod-Hex4Digits) is not in the inclusive range 0xD800 to 0xDFFF [IdentityEscape](https://262.ecma-international.org/12.0/#prod-IdentityEscape)\[U\] :: \[+U\][SyntaxCharacter](https://262.ecma-international.org/12.0/#prod-SyntaxCharacter) \[+U\]/ \[~U\][SourceCharacter](https://262.ecma-international.org/12.0/#prod-SourceCharacter) but not [UnicodeIDContinue](https://262.ecma-international.org/12.0/#prod-UnicodeIDContinue) [DecimalEscape](https://262.ecma-international.org/12.0/#prod-DecimalEscape) :: [NonZeroDigit](https://262.ecma-international.org/12.0/#prod-NonZeroDigit) [DecimalDigits](https://262.ecma-international.org/12.0/#prod-DecimalDigits)\[~Sep\]opt \[lookahead ∉ [DecimalDigit](https://262.ecma-international.org/12.0/#prod-DecimalDigit)\] [CharacterClassEscape](https://262.ecma-international.org/12.0/#prod-CharacterClassEscape)\[U\] :: d D s S w W \[+U\] p{ [UnicodePropertyValueExpression](https://262.ecma-international.org/12.0/#prod-UnicodePropertyValueExpression) } \[+U\] P{ [UnicodePropertyValueExpression](https://262.ecma-international.org/12.0/#prod-UnicodePropertyValueExpression) } [UnicodePropertyValueExpression](https://262.ecma-international.org/12.0/#prod-UnicodePropertyValueExpression) :: [UnicodePropertyName](https://262.ecma-international.org/12.0/#prod-UnicodePropertyName) \= [UnicodePropertyValue](https://262.ecma-international.org/12.0/#prod-UnicodePropertyValue) [LoneUnicodePropertyNameOrValue](https://262.ecma-international.org/12.0/#prod-LoneUnicodePropertyNameOrValue) [UnicodePropertyName](https://262.ecma-international.org/12.0/#prod-UnicodePropertyName) :: [UnicodePropertyNameCharacters](https://262.ecma-international.org/12.0/#prod-UnicodePropertyNameCharacters) [UnicodePropertyNameCharacters](https://262.ecma-international.org/12.0/#prod-UnicodePropertyNameCharacters) :: [UnicodePropertyNameCharacter](https://262.ecma-international.org/12.0/#prod-UnicodePropertyNameCharacter) [UnicodePropertyNameCharacters](https://262.ecma-international.org/12.0/#prod-UnicodePropertyNameCharacters)opt [UnicodePropertyValue](https://262.ecma-international.org/12.0/#prod-UnicodePropertyValue) :: [UnicodePropertyValueCharacters](https://262.ecma-international.org/12.0/#prod-UnicodePropertyValueCharacters) [LoneUnicodePropertyNameOrValue](https://262.ecma-international.org/12.0/#prod-LoneUnicodePropertyNameOrValue) :: [UnicodePropertyValueCharacters](https://262.ecma-international.org/12.0/#prod-UnicodePropertyValueCharacters) [UnicodePropertyValueCharacters](https://262.ecma-international.org/12.0/#prod-UnicodePropertyValueCharacters) :: [UnicodePropertyValueCharacter](https://262.ecma-international.org/12.0/#prod-UnicodePropertyValueCharacter) [UnicodePropertyValueCharacters](https://262.ecma-international.org/12.0/#prod-UnicodePropertyValueCharacters)opt [UnicodePropertyValueCharacter](https://262.ecma-international.org/12.0/#prod-UnicodePropertyValueCharacter) :: [UnicodePropertyNameCharacter](https://262.ecma-international.org/12.0/#prod-UnicodePropertyNameCharacter) [DecimalDigit](https://262.ecma-international.org/12.0/#prod-DecimalDigit) [UnicodePropertyNameCharacter](https://262.ecma-international.org/12.0/#prod-UnicodePropertyNameCharacter) :: [ControlLetter](https://262.ecma-international.org/12.0/#prod-ControlLetter) \_ [CharacterClass](https://262.ecma-international.org/12.0/#prod-CharacterClass)\[U\] :: \[ \[lookahead ≠ ^\] [ClassRanges](https://262.ecma-international.org/12.0/#prod-ClassRanges)\[?U\] \] \[ ^ [ClassRanges](https://262.ecma-international.org/12.0/#prod-ClassRanges)\[?U\] \] [ClassRanges](https://262.ecma-international.org/12.0/#prod-ClassRanges)\[U\] :: \[empty\] [NonemptyClassRanges](https://262.ecma-international.org/12.0/#prod-NonemptyClassRanges)\[?U\] [NonemptyClassRanges](https://262.ecma-international.org/12.0/#prod-NonemptyClassRanges)\[U\] :: [ClassAtom](https://262.ecma-international.org/12.0/#prod-ClassAtom)\[?U\] [ClassAtom](https://262.ecma-international.org/12.0/#prod-ClassAtom)\[?U\] [NonemptyClassRangesNoDash](https://262.ecma-international.org/12.0/#prod-NonemptyClassRangesNoDash)\[?U\] [ClassAtom](https://262.ecma-international.org/12.0/#prod-ClassAtom)\[?U\] \- [ClassAtom](https://262.ecma-international.org/12.0/#prod-ClassAtom)\[?U\] [ClassRanges](https://262.ecma-international.org/12.0/#prod-ClassRanges)\[?U\] [NonemptyClassRangesNoDash](https://262.ecma-international.org/12.0/#prod-NonemptyClassRangesNoDash)\[U\] :: [ClassAtom](https://262.ecma-international.org/12.0/#prod-ClassAtom)\[?U\] [ClassAtomNoDash](https://262.ecma-international.org/12.0/#prod-ClassAtomNoDash)\[?U\] [NonemptyClassRangesNoDash](https://262.ecma-international.org/12.0/#prod-NonemptyClassRangesNoDash)\[?U\] [ClassAtomNoDash](https://262.ecma-international.org/12.0/#prod-ClassAtomNoDash)\[?U\] \- [ClassAtom](https://262.ecma-international.org/12.0/#prod-ClassAtom)\[?U\] [ClassRanges](https://262.ecma-international.org/12.0/#prod-ClassRanges)\[?U\] [ClassAtom](https://262.ecma-international.org/12.0/#prod-ClassAtom)\[U\] :: \- [ClassAtomNoDash](https://262.ecma-international.org/12.0/#prod-ClassAtomNoDash)\[?U\] [ClassAtomNoDash](https://262.ecma-international.org/12.0/#prod-ClassAtomNoDash)\[U\] :: [SourceCharacter](https://262.ecma-international.org/12.0/#prod-SourceCharacter) but not one of \\ or \] or \- \\ [ClassEscape](https://262.ecma-international.org/12.0/#prod-ClassEscape)\[?U\] [ClassEscape](https://262.ecma-international.org/12.0/#prod-ClassEscape)\[U\] :: b \[+U\]\- [CharacterClassEscape](https://262.ecma-international.org/12.0/#prod-CharacterClassEscape)\[?U\] [CharacterEscape](https://262.ecma-international.org/12.0/#prod-CharacterEscape)\[?U\]

## B Additional ECMAScript Features for Web Browsers

The ECMAScript language syntax and semantics defined in this annex are required when the ECMAScript [host](https://262.ecma-international.org/12.0/#host) is a web browser. The content of this annex is normative but optional if the ECMAScript [host](https://262.ecma-international.org/12.0/#host) is not a web browser.

Note

This annex describes various legacy features and other characteristics of web browser ECMAScript hosts. All of the language features and behaviours specified in this annex have one or more undesirable characteristics and in the absence of legacy usage would be removed from this specification. However, the usage of these features by large numbers of existing web pages means that web browsers must continue to support them. The specifications in this annex define the requirements for interoperable implementations of these legacy features.

These features are not considered part of the core ECMAScript language. Programmers should not use or assume the existence of these features and behaviours when writing new ECMAScript code. ECMAScript implementations are discouraged from implementing these features unless the implementation is part of a web browser or is required to run the same legacy ECMAScript code that web browsers encounter.

## B.1 Additional Syntax

## B.1.1 Numeric Literals

The syntax and semantics of [12.8.3](https://262.ecma-international.org/12.0/#sec-literals-numeric-literals) is extended as follows except that this extension is not allowed for [strict mode code](https://262.ecma-international.org/12.0/#sec-strict-mode-code):

## Syntax

[NumericLiteral](https://262.ecma-international.org/12.0/#prod-annexB-NumericLiteral) :: [DecimalLiteral](https://262.ecma-international.org/12.0/#prod-DecimalLiteral) [DecimalBigIntegerLiteral](https://262.ecma-international.org/12.0/#prod-DecimalBigIntegerLiteral) [NonDecimalIntegerLiteral](https://262.ecma-international.org/12.0/#prod-NonDecimalIntegerLiteral)\[+Sep\] [NonDecimalIntegerLiteral](https://262.ecma-international.org/12.0/#prod-NonDecimalIntegerLiteral)\[+Sep\] [BigIntLiteralSuffix](https://262.ecma-international.org/12.0/#prod-BigIntLiteralSuffix) [LegacyOctalIntegerLiteral](https://262.ecma-international.org/12.0/#prod-annexB-LegacyOctalIntegerLiteral) [LegacyOctalIntegerLiteral](https://262.ecma-international.org/12.0/#prod-annexB-LegacyOctalIntegerLiteral) :: 0 [OctalDigit](https://262.ecma-international.org/12.0/#prod-OctalDigit) [LegacyOctalIntegerLiteral](https://262.ecma-international.org/12.0/#prod-annexB-LegacyOctalIntegerLiteral) [OctalDigit](https://262.ecma-international.org/12.0/#prod-OctalDigit) [DecimalIntegerLiteral](https://262.ecma-international.org/12.0/#prod-annexB-DecimalIntegerLiteral) :: 0 [NonZeroDigit](https://262.ecma-international.org/12.0/#prod-NonZeroDigit) [NonZeroDigit](https://262.ecma-international.org/12.0/#prod-NonZeroDigit) [NumericLiteralSeparator](https://262.ecma-international.org/12.0/#prod-NumericLiteralSeparator)opt [DecimalDigits](https://262.ecma-international.org/12.0/#prod-DecimalDigits)\[+Sep\] [NonOctalDecimalIntegerLiteral](https://262.ecma-international.org/12.0/#prod-annexB-NonOctalDecimalIntegerLiteral) [NonOctalDecimalIntegerLiteral](https://262.ecma-international.org/12.0/#prod-annexB-NonOctalDecimalIntegerLiteral) :: 0 [NonOctalDigit](https://262.ecma-international.org/12.0/#prod-annexB-NonOctalDigit) [LegacyOctalLikeDecimalIntegerLiteral](https://262.ecma-international.org/12.0/#prod-annexB-LegacyOctalLikeDecimalIntegerLiteral) [NonOctalDigit](https://262.ecma-international.org/12.0/#prod-annexB-NonOctalDigit) [NonOctalDecimalIntegerLiteral](https://262.ecma-international.org/12.0/#prod-annexB-NonOctalDecimalIntegerLiteral) [DecimalDigit](https://262.ecma-international.org/12.0/#prod-DecimalDigit) [LegacyOctalLikeDecimalIntegerLiteral](https://262.ecma-international.org/12.0/#prod-annexB-LegacyOctalLikeDecimalIntegerLiteral) :: 0 [OctalDigit](https://262.ecma-international.org/12.0/#prod-OctalDigit) [LegacyOctalLikeDecimalIntegerLiteral](https://262.ecma-international.org/12.0/#prod-annexB-LegacyOctalLikeDecimalIntegerLiteral) [OctalDigit](https://262.ecma-international.org/12.0/#prod-OctalDigit) [NonOctalDigit](https://262.ecma-international.org/12.0/#prod-annexB-NonOctalDigit) :: one of 8 9

## B.1.1.1 Static Semantics

-   The MV of [LegacyOctalIntegerLiteral](https://262.ecma-international.org/12.0/#prod-annexB-LegacyOctalIntegerLiteral) :: 0 [OctalDigit](https://262.ecma-international.org/12.0/#prod-OctalDigit) is the MV of [OctalDigit](https://262.ecma-international.org/12.0/#prod-OctalDigit).
-   The MV of [LegacyOctalIntegerLiteral](https://262.ecma-international.org/12.0/#prod-annexB-LegacyOctalIntegerLiteral) :: [LegacyOctalIntegerLiteral](https://262.ecma-international.org/12.0/#prod-annexB-LegacyOctalIntegerLiteral) [OctalDigit](https://262.ecma-international.org/12.0/#prod-OctalDigit) is (the MV of [LegacyOctalIntegerLiteral](https://262.ecma-international.org/12.0/#prod-annexB-LegacyOctalIntegerLiteral) times 8) plus the MV of [OctalDigit](https://262.ecma-international.org/12.0/#prod-OctalDigit).
-   The MV of [DecimalIntegerLiteral](https://262.ecma-international.org/12.0/#prod-annexB-DecimalIntegerLiteral) :: [NonOctalDecimalIntegerLiteral](https://262.ecma-international.org/12.0/#prod-annexB-NonOctalDecimalIntegerLiteral) is the MV of [NonOctalDecimalIntegerLiteral](https://262.ecma-international.org/12.0/#prod-annexB-NonOctalDecimalIntegerLiteral).
-   The MV of [NonOctalDecimalIntegerLiteral](https://262.ecma-international.org/12.0/#prod-annexB-NonOctalDecimalIntegerLiteral) :: 0 [NonOctalDigit](https://262.ecma-international.org/12.0/#prod-annexB-NonOctalDigit) is the MV of [NonOctalDigit](https://262.ecma-international.org/12.0/#prod-annexB-NonOctalDigit).
-   The MV of [NonOctalDecimalIntegerLiteral](https://262.ecma-international.org/12.0/#prod-annexB-NonOctalDecimalIntegerLiteral) :: [LegacyOctalLikeDecimalIntegerLiteral](https://262.ecma-international.org/12.0/#prod-annexB-LegacyOctalLikeDecimalIntegerLiteral) [NonOctalDigit](https://262.ecma-international.org/12.0/#prod-annexB-NonOctalDigit) is (the MV of [LegacyOctalLikeDecimalIntegerLiteral](https://262.ecma-international.org/12.0/#prod-annexB-LegacyOctalLikeDecimalIntegerLiteral) times 10) plus the MV of [NonOctalDigit](https://262.ecma-international.org/12.0/#prod-annexB-NonOctalDigit).
-   The MV of [NonOctalDecimalIntegerLiteral](https://262.ecma-international.org/12.0/#prod-annexB-NonOctalDecimalIntegerLiteral) :: [NonOctalDecimalIntegerLiteral](https://262.ecma-international.org/12.0/#prod-annexB-NonOctalDecimalIntegerLiteral) [DecimalDigit](https://262.ecma-international.org/12.0/#prod-DecimalDigit) is (the MV of [NonOctalDecimalIntegerLiteral](https://262.ecma-international.org/12.0/#prod-annexB-NonOctalDecimalIntegerLiteral) times 10) plus the MV of [DecimalDigit](https://262.ecma-international.org/12.0/#prod-DecimalDigit).
-   The MV of [LegacyOctalLikeDecimalIntegerLiteral](https://262.ecma-international.org/12.0/#prod-annexB-LegacyOctalLikeDecimalIntegerLiteral) :: 0 [OctalDigit](https://262.ecma-international.org/12.0/#prod-OctalDigit) is the MV of [OctalDigit](https://262.ecma-international.org/12.0/#prod-OctalDigit).
-   The MV of [LegacyOctalLikeDecimalIntegerLiteral](https://262.ecma-international.org/12.0/#prod-annexB-LegacyOctalLikeDecimalIntegerLiteral) :: [LegacyOctalLikeDecimalIntegerLiteral](https://262.ecma-international.org/12.0/#prod-annexB-LegacyOctalLikeDecimalIntegerLiteral) [OctalDigit](https://262.ecma-international.org/12.0/#prod-OctalDigit) is (the MV of [LegacyOctalLikeDecimalIntegerLiteral](https://262.ecma-international.org/12.0/#prod-annexB-LegacyOctalLikeDecimalIntegerLiteral) times 10) plus the MV of [OctalDigit](https://262.ecma-international.org/12.0/#prod-OctalDigit).
-   The MV of [NonOctalDigit](https://262.ecma-international.org/12.0/#prod-annexB-NonOctalDigit) :: 8 is 8.
-   The MV of [NonOctalDigit](https://262.ecma-international.org/12.0/#prod-annexB-NonOctalDigit) :: 9 is 9.

## B.1.2 String Literals

The syntax and semantics of [12.8.4](https://262.ecma-international.org/12.0/#sec-literals-string-literals) is extended as follows except that this extension is not allowed for [strict mode code](https://262.ecma-international.org/12.0/#sec-strict-mode-code):

## Syntax

[EscapeSequence](https://262.ecma-international.org/12.0/#prod-annexB-EscapeSequence) :: [CharacterEscapeSequence](https://262.ecma-international.org/12.0/#prod-CharacterEscapeSequence) [LegacyOctalEscapeSequence](https://262.ecma-international.org/12.0/#prod-annexB-LegacyOctalEscapeSequence) [NonOctalDecimalEscapeSequence](https://262.ecma-international.org/12.0/#prod-annexB-NonOctalDecimalEscapeSequence) [HexEscapeSequence](https://262.ecma-international.org/12.0/#prod-HexEscapeSequence) [UnicodeEscapeSequence](https://262.ecma-international.org/12.0/#prod-UnicodeEscapeSequence) [LegacyOctalEscapeSequence](https://262.ecma-international.org/12.0/#prod-annexB-LegacyOctalEscapeSequence) :: [OctalDigit](https://262.ecma-international.org/12.0/#prod-OctalDigit) \[lookahead ∉ [OctalDigit](https://262.ecma-international.org/12.0/#prod-OctalDigit)\] [ZeroToThree](https://262.ecma-international.org/12.0/#prod-annexB-ZeroToThree) [OctalDigit](https://262.ecma-international.org/12.0/#prod-OctalDigit) \[lookahead ∉ [OctalDigit](https://262.ecma-international.org/12.0/#prod-OctalDigit)\] [FourToSeven](https://262.ecma-international.org/12.0/#prod-annexB-FourToSeven) [OctalDigit](https://262.ecma-international.org/12.0/#prod-OctalDigit) [ZeroToThree](https://262.ecma-international.org/12.0/#prod-annexB-ZeroToThree) [OctalDigit](https://262.ecma-international.org/12.0/#prod-OctalDigit) [OctalDigit](https://262.ecma-international.org/12.0/#prod-OctalDigit) [ZeroToThree](https://262.ecma-international.org/12.0/#prod-annexB-ZeroToThree) :: one of 0 1 2 3 [FourToSeven](https://262.ecma-international.org/12.0/#prod-annexB-FourToSeven) :: one of 4 5 6 7 [NonOctalDecimalEscapeSequence](https://262.ecma-international.org/12.0/#prod-annexB-NonOctalDecimalEscapeSequence) :: one of 8 9

This definition of [EscapeSequence](https://262.ecma-international.org/12.0/#prod-annexB-EscapeSequence) is not used in strict mode or when parsing [TemplateCharacter](https://262.ecma-international.org/12.0/#prod-TemplateCharacter).

Note

It is possible for string literals to precede a [Use Strict Directive](https://262.ecma-international.org/12.0/#use-strict-directive) that places the enclosing code in [strict mode](https://262.ecma-international.org/12.0/#sec-strict-mode-code), and implementations must take care to not use this extended definition of [EscapeSequence](https://262.ecma-international.org/12.0/#prod-annexB-EscapeSequence) with such literals. For example, attempting to parse the following source text must fail:

```
function invalid() { "\7"; "use strict"; }
```

## B.1.2.1 Static Semantics

-   The [SV](https://262.ecma-international.org/12.0/#sec-static-semantics-sv) of [EscapeSequence](https://262.ecma-international.org/12.0/#prod-annexB-EscapeSequence) :: [LegacyOctalEscapeSequence](https://262.ecma-international.org/12.0/#prod-annexB-LegacyOctalEscapeSequence) is the String value consisting of the code unit whose value is the MV of [LegacyOctalEscapeSequence](https://262.ecma-international.org/12.0/#prod-annexB-LegacyOctalEscapeSequence).
-   The MV of [LegacyOctalEscapeSequence](https://262.ecma-international.org/12.0/#prod-annexB-LegacyOctalEscapeSequence) :: [ZeroToThree](https://262.ecma-international.org/12.0/#prod-annexB-ZeroToThree) [OctalDigit](https://262.ecma-international.org/12.0/#prod-OctalDigit) is (8 times the MV of [ZeroToThree](https://262.ecma-international.org/12.0/#prod-annexB-ZeroToThree)) plus the MV of [OctalDigit](https://262.ecma-international.org/12.0/#prod-OctalDigit).
-   The MV of [LegacyOctalEscapeSequence](https://262.ecma-international.org/12.0/#prod-annexB-LegacyOctalEscapeSequence) :: [FourToSeven](https://262.ecma-international.org/12.0/#prod-annexB-FourToSeven) [OctalDigit](https://262.ecma-international.org/12.0/#prod-OctalDigit) is (8 times the MV of [FourToSeven](https://262.ecma-international.org/12.0/#prod-annexB-FourToSeven)) plus the MV of [OctalDigit](https://262.ecma-international.org/12.0/#prod-OctalDigit).
-   The MV of [LegacyOctalEscapeSequence](https://262.ecma-international.org/12.0/#prod-annexB-LegacyOctalEscapeSequence) :: [ZeroToThree](https://262.ecma-international.org/12.0/#prod-annexB-ZeroToThree) [OctalDigit](https://262.ecma-international.org/12.0/#prod-OctalDigit) [OctalDigit](https://262.ecma-international.org/12.0/#prod-OctalDigit) is (64 (that is, 82) times the MV of [ZeroToThree](https://262.ecma-international.org/12.0/#prod-annexB-ZeroToThree)) plus (8 times the MV of the first [OctalDigit](https://262.ecma-international.org/12.0/#prod-OctalDigit)) plus the MV of the second [OctalDigit](https://262.ecma-international.org/12.0/#prod-OctalDigit).
-   The [SV](https://262.ecma-international.org/12.0/#sec-static-semantics-sv) of [NonOctalDecimalEscapeSequence](https://262.ecma-international.org/12.0/#prod-annexB-NonOctalDecimalEscapeSequence) :: 8 is the String value consisting of the code unit 0x0038 (DIGIT EIGHT).
-   The [SV](https://262.ecma-international.org/12.0/#sec-static-semantics-sv) of [NonOctalDecimalEscapeSequence](https://262.ecma-international.org/12.0/#prod-annexB-NonOctalDecimalEscapeSequence) :: 9 is the String value consisting of the code unit 0x0039 (DIGIT NINE).
-   The MV of [ZeroToThree](https://262.ecma-international.org/12.0/#prod-annexB-ZeroToThree) :: 0 is 0.
-   The MV of [ZeroToThree](https://262.ecma-international.org/12.0/#prod-annexB-ZeroToThree) :: 1 is 1.
-   The MV of [ZeroToThree](https://262.ecma-international.org/12.0/#prod-annexB-ZeroToThree) :: 2 is 2.
-   The MV of [ZeroToThree](https://262.ecma-international.org/12.0/#prod-annexB-ZeroToThree) :: 3 is 3.
-   The MV of [FourToSeven](https://262.ecma-international.org/12.0/#prod-annexB-FourToSeven) :: 4 is 4.
-   The MV of [FourToSeven](https://262.ecma-international.org/12.0/#prod-annexB-FourToSeven) :: 5 is 5.
-   The MV of [FourToSeven](https://262.ecma-international.org/12.0/#prod-annexB-FourToSeven) :: 6 is 6.
-   The MV of [FourToSeven](https://262.ecma-international.org/12.0/#prod-annexB-FourToSeven) :: 7 is 7.

## B.1.4 Regular Expressions Patterns

The syntax of [22.2.1](https://262.ecma-international.org/12.0/#sec-patterns) is modified and extended as follows. These changes introduce ambiguities that are broken by the ordering of grammar productions and by contextual information. When parsing using the following grammar, each alternative is considered only if previous production alternatives do not match.

This alternative pattern grammar and semantics only changes the syntax and semantics of BMP patterns. The following grammar extensions include productions parameterized with the \[U\] parameter. However, none of these extensions change the syntax of Unicode patterns recognized when parsing with the \[U\] parameter present on the [goal symbol](https://262.ecma-international.org/12.0/#sec-context-free-grammars).

## Syntax

[Term](https://262.ecma-international.org/12.0/#prod-annexB-Term)\[U, N\] :: \[+U\][Assertion](https://262.ecma-international.org/12.0/#prod-annexB-Assertion)\[+U, ?N\] \[+U\] [Atom](https://262.ecma-international.org/12.0/#prod-Atom)\[+U, ?N\] [Quantifier](https://262.ecma-international.org/12.0/#prod-Quantifier) \[+U\][Atom](https://262.ecma-international.org/12.0/#prod-Atom)\[+U, ?N\] \[~U\] [QuantifiableAssertion](https://262.ecma-international.org/12.0/#prod-annexB-QuantifiableAssertion)\[?N\] [Quantifier](https://262.ecma-international.org/12.0/#prod-Quantifier) \[~U\][Assertion](https://262.ecma-international.org/12.0/#prod-annexB-Assertion)\[~U, ?N\] \[~U\] [ExtendedAtom](https://262.ecma-international.org/12.0/#prod-annexB-ExtendedAtom)\[?N\] [Quantifier](https://262.ecma-international.org/12.0/#prod-Quantifier) \[~U\][ExtendedAtom](https://262.ecma-international.org/12.0/#prod-annexB-ExtendedAtom)\[?N\] [Assertion](https://262.ecma-international.org/12.0/#prod-annexB-Assertion)\[U, N\] :: ^ $ \\ b \\ B \[+U\] ( ? \= [Disjunction](https://262.ecma-international.org/12.0/#prod-Disjunction)\[+U, ?N\] ) \[+U\] ( ? ! [Disjunction](https://262.ecma-international.org/12.0/#prod-Disjunction)\[+U, ?N\] ) \[~U\][QuantifiableAssertion](https://262.ecma-international.org/12.0/#prod-annexB-QuantifiableAssertion)\[?N\] ( ? <= [Disjunction](https://262.ecma-international.org/12.0/#prod-Disjunction)\[?U, ?N\] ) ( ? <! [Disjunction](https://262.ecma-international.org/12.0/#prod-Disjunction)\[?U, ?N\] ) [QuantifiableAssertion](https://262.ecma-international.org/12.0/#prod-annexB-QuantifiableAssertion)\[N\] :: ( ? \= [Disjunction](https://262.ecma-international.org/12.0/#prod-Disjunction)\[~U, ?N\] ) ( ? ! [Disjunction](https://262.ecma-international.org/12.0/#prod-Disjunction)\[~U, ?N\] ) [ExtendedAtom](https://262.ecma-international.org/12.0/#prod-annexB-ExtendedAtom)\[N\] :: . \\ [AtomEscape](https://262.ecma-international.org/12.0/#prod-annexB-AtomEscape)\[~U, ?N\] \\ \[lookahead = c\] [CharacterClass](https://262.ecma-international.org/12.0/#prod-CharacterClass)\[~U\] ( [Disjunction](https://262.ecma-international.org/12.0/#prod-Disjunction)\[~U, ?N\] ) ( ? : [Disjunction](https://262.ecma-international.org/12.0/#prod-Disjunction)\[~U, ?N\] ) [InvalidBracedQuantifier](https://262.ecma-international.org/12.0/#prod-annexB-InvalidBracedQuantifier) [ExtendedPatternCharacter](https://262.ecma-international.org/12.0/#prod-annexB-ExtendedPatternCharacter) [InvalidBracedQuantifier](https://262.ecma-international.org/12.0/#prod-annexB-InvalidBracedQuantifier) :: { [DecimalDigits](https://262.ecma-international.org/12.0/#prod-DecimalDigits)\[~Sep\] } { [DecimalDigits](https://262.ecma-international.org/12.0/#prod-DecimalDigits)\[~Sep\] , } { [DecimalDigits](https://262.ecma-international.org/12.0/#prod-DecimalDigits)\[~Sep\] , [DecimalDigits](https://262.ecma-international.org/12.0/#prod-DecimalDigits)\[~Sep\] } [ExtendedPatternCharacter](https://262.ecma-international.org/12.0/#prod-annexB-ExtendedPatternCharacter) :: [SourceCharacter](https://262.ecma-international.org/12.0/#prod-SourceCharacter) but not one of ^ $ \\ . \* + ? ( ) \[ | [AtomEscape](https://262.ecma-international.org/12.0/#prod-annexB-AtomEscape)\[U, N\] :: \[+U\][DecimalEscape](https://262.ecma-international.org/12.0/#prod-DecimalEscape) \[~U\] [DecimalEscape](https://262.ecma-international.org/12.0/#prod-DecimalEscape) but only if the [CapturingGroupNumber](https://262.ecma-international.org/12.0/#sec-patterns-static-semantics-capturing-group-number) of [DecimalEscape](https://262.ecma-international.org/12.0/#prod-DecimalEscape) is ≤ NcapturingParens [CharacterClassEscape](https://262.ecma-international.org/12.0/#prod-CharacterClassEscape)\[?U\] [CharacterEscape](https://262.ecma-international.org/12.0/#prod-annexB-CharacterEscape)\[?U, ?N\] \[+N\] k [GroupName](https://262.ecma-international.org/12.0/#prod-GroupName)\[?U\] [CharacterEscape](https://262.ecma-international.org/12.0/#prod-annexB-CharacterEscape)\[U, N\] :: [ControlEscape](https://262.ecma-international.org/12.0/#prod-ControlEscape) c [ControlLetter](https://262.ecma-international.org/12.0/#prod-ControlLetter) 0 \[lookahead ∉ [DecimalDigit](https://262.ecma-international.org/12.0/#prod-DecimalDigit)\] [HexEscapeSequence](https://262.ecma-international.org/12.0/#prod-HexEscapeSequence) [RegExpUnicodeEscapeSequence](https://262.ecma-international.org/12.0/#prod-RegExpUnicodeEscapeSequence)\[?U\] \[~U\][LegacyOctalEscapeSequence](https://262.ecma-international.org/12.0/#prod-annexB-LegacyOctalEscapeSequence) [IdentityEscape](https://262.ecma-international.org/12.0/#prod-annexB-IdentityEscape)\[?U, ?N\] [IdentityEscape](https://262.ecma-international.org/12.0/#prod-annexB-IdentityEscape)\[U, N\] :: \[+U\][SyntaxCharacter](https://262.ecma-international.org/12.0/#prod-SyntaxCharacter) \[+U\]/ \[~U\][SourceCharacterIdentityEscape](https://262.ecma-international.org/12.0/#prod-annexB-SourceCharacterIdentityEscape)\[?N\] [SourceCharacterIdentityEscape](https://262.ecma-international.org/12.0/#prod-annexB-SourceCharacterIdentityEscape)\[N\] :: \[~N\][SourceCharacter](https://262.ecma-international.org/12.0/#prod-SourceCharacter) but not c \[+N\][SourceCharacter](https://262.ecma-international.org/12.0/#prod-SourceCharacter) but not one of c or k [ClassAtomNoDash](https://262.ecma-international.org/12.0/#prod-annexB-ClassAtomNoDash)\[U, N\] :: [SourceCharacter](https://262.ecma-international.org/12.0/#prod-SourceCharacter) but not one of \\ or \] or \- \\ [ClassEscape](https://262.ecma-international.org/12.0/#prod-annexB-ClassEscape)\[?U, ?N\] \\ \[lookahead = c\] [ClassEscape](https://262.ecma-international.org/12.0/#prod-annexB-ClassEscape)\[U, N\] :: b \[+U\]\- \[~U\] c [ClassControlLetter](https://262.ecma-international.org/12.0/#prod-annexB-ClassControlLetter) [CharacterClassEscape](https://262.ecma-international.org/12.0/#prod-CharacterClassEscape)\[?U\] [CharacterEscape](https://262.ecma-international.org/12.0/#prod-annexB-CharacterEscape)\[?U, ?N\] [ClassControlLetter](https://262.ecma-international.org/12.0/#prod-annexB-ClassControlLetter) :: [DecimalDigit](https://262.ecma-international.org/12.0/#prod-DecimalDigit) \_ Note

When the same left hand sides occurs with both \[+U\] and \[~U\] guards it is to control the disambiguation priority.

## B.1.4.1 Static Semantics: Early Errors

The semantics of [22.2.1.1](https://262.ecma-international.org/12.0/#sec-patterns-static-semantics-early-errors) is extended as follows:

[ExtendedAtom](https://262.ecma-international.org/12.0/#prod-annexB-ExtendedAtom) :: [InvalidBracedQuantifier](https://262.ecma-international.org/12.0/#prod-annexB-InvalidBracedQuantifier)

-   It is a Syntax Error if any source text matches this rule.

Additionally, the rules for the following productions are modified with the addition of the highlighted text:

[NonemptyClassRanges](https://262.ecma-international.org/12.0/#prod-NonemptyClassRanges) :: [ClassAtom](https://262.ecma-international.org/12.0/#prod-ClassAtom) \- [ClassAtom](https://262.ecma-international.org/12.0/#prod-ClassAtom) [ClassRanges](https://262.ecma-international.org/12.0/#prod-ClassRanges)

-   It is a Syntax Error if [IsCharacterClass](https://262.ecma-international.org/12.0/#sec-patterns-static-semantics-is-character-class) of the first [ClassAtom](https://262.ecma-international.org/12.0/#prod-ClassAtom) is true or [IsCharacterClass](https://262.ecma-international.org/12.0/#sec-patterns-static-semantics-is-character-class) of the second [ClassAtom](https://262.ecma-international.org/12.0/#prod-ClassAtom) is true and this production has a \[U\] parameter.
-   It is a Syntax Error if [IsCharacterClass](https://262.ecma-international.org/12.0/#sec-patterns-static-semantics-is-character-class) of the first [ClassAtom](https://262.ecma-international.org/12.0/#prod-ClassAtom) is false and [IsCharacterClass](https://262.ecma-international.org/12.0/#sec-patterns-static-semantics-is-character-class) of the second [ClassAtom](https://262.ecma-international.org/12.0/#prod-ClassAtom) is false and the [CharacterValue](https://262.ecma-international.org/12.0/#sec-patterns-static-semantics-character-value) of the first [ClassAtom](https://262.ecma-international.org/12.0/#prod-ClassAtom) is larger than the [CharacterValue](https://262.ecma-international.org/12.0/#sec-patterns-static-semantics-character-value) of the second [ClassAtom](https://262.ecma-international.org/12.0/#prod-ClassAtom).

[NonemptyClassRangesNoDash](https://262.ecma-international.org/12.0/#prod-NonemptyClassRangesNoDash) :: [ClassAtomNoDash](https://262.ecma-international.org/12.0/#prod-annexB-ClassAtomNoDash) \- [ClassAtom](https://262.ecma-international.org/12.0/#prod-ClassAtom) [ClassRanges](https://262.ecma-international.org/12.0/#prod-ClassRanges)

-   It is a Syntax Error if [IsCharacterClass](https://262.ecma-international.org/12.0/#sec-patterns-static-semantics-is-character-class) of [ClassAtomNoDash](https://262.ecma-international.org/12.0/#prod-annexB-ClassAtomNoDash) is true or [IsCharacterClass](https://262.ecma-international.org/12.0/#sec-patterns-static-semantics-is-character-class) of [ClassAtom](https://262.ecma-international.org/12.0/#prod-ClassAtom) is true and this production has a \[U\] parameter.
-   It is a Syntax Error if [IsCharacterClass](https://262.ecma-international.org/12.0/#sec-patterns-static-semantics-is-character-class) of [ClassAtomNoDash](https://262.ecma-international.org/12.0/#prod-annexB-ClassAtomNoDash) is false and [IsCharacterClass](https://262.ecma-international.org/12.0/#sec-patterns-static-semantics-is-character-class) of [ClassAtom](https://262.ecma-international.org/12.0/#prod-ClassAtom) is false and the [CharacterValue](https://262.ecma-international.org/12.0/#sec-patterns-static-semantics-character-value) of [ClassAtomNoDash](https://262.ecma-international.org/12.0/#prod-annexB-ClassAtomNoDash) is larger than the [CharacterValue](https://262.ecma-international.org/12.0/#sec-patterns-static-semantics-character-value) of [ClassAtom](https://262.ecma-international.org/12.0/#prod-ClassAtom).

## B.1.4.2 Static Semantics: IsCharacterClass

The semantics of [22.2.1.3](https://262.ecma-international.org/12.0/#sec-patterns-static-semantics-is-character-class) is extended as follows:

[ClassAtomNoDash](https://262.ecma-international.org/12.0/#prod-annexB-ClassAtomNoDash) :: \\ \[lookahead = c\]

1.  Return false.

## B.1.4.3 Static Semantics: CharacterValue

The semantics of [22.2.1.4](https://262.ecma-international.org/12.0/#sec-patterns-static-semantics-character-value) is extended as follows:

[ClassAtomNoDash](https://262.ecma-international.org/12.0/#prod-annexB-ClassAtomNoDash) :: \\ \[lookahead = c\]

1.  Return the code point value of U+005C (REVERSE SOLIDUS).

[ClassEscape](https://262.ecma-international.org/12.0/#prod-annexB-ClassEscape) :: c [ClassControlLetter](https://262.ecma-international.org/12.0/#prod-annexB-ClassControlLetter)

1.  Let ch be the code point matched by [ClassControlLetter](https://262.ecma-international.org/12.0/#prod-annexB-ClassControlLetter).
2.  Let i be ch's code point value.
3.  Return the remainder of dividing i by 32.

[CharacterEscape](https://262.ecma-international.org/12.0/#prod-annexB-CharacterEscape) :: [LegacyOctalEscapeSequence](https://262.ecma-international.org/12.0/#prod-annexB-LegacyOctalEscapeSequence)

1.  Return the MV of [LegacyOctalEscapeSequence](https://262.ecma-international.org/12.0/#prod-annexB-LegacyOctalEscapeSequence) (see [B.1.2](https://262.ecma-international.org/12.0/#sec-additional-syntax-string-literals)).

## B.1.4.4 Pattern Semantics

The semantics of [22.2.2](https://262.ecma-international.org/12.0/#sec-pattern-semantics) is extended as follows:

Within [22.2.2.5](https://262.ecma-international.org/12.0/#sec-term) reference to “ [Atom](https://262.ecma-international.org/12.0/#prod-Atom) :: ( [GroupSpecifier](https://262.ecma-international.org/12.0/#prod-GroupSpecifier) [Disjunction](https://262.ecma-international.org/12.0/#prod-Disjunction) ) ” are to be interpreted as meaning “ [Atom](https://262.ecma-international.org/12.0/#prod-Atom) :: ( [GroupSpecifier](https://262.ecma-international.org/12.0/#prod-GroupSpecifier) [Disjunction](https://262.ecma-international.org/12.0/#prod-Disjunction) ) ” or “ [ExtendedAtom](https://262.ecma-international.org/12.0/#prod-annexB-ExtendedAtom) :: ( [Disjunction](https://262.ecma-international.org/12.0/#prod-Disjunction) ) ”.

Term ([22.2.2.5](https://262.ecma-international.org/12.0/#sec-term)) includes the following additional evaluation rules:

The production [Term](https://262.ecma-international.org/12.0/#prod-annexB-Term) :: [QuantifiableAssertion](https://262.ecma-international.org/12.0/#prod-annexB-QuantifiableAssertion) [Quantifier](https://262.ecma-international.org/12.0/#prod-Quantifier) evaluates the same as the production [Term](https://262.ecma-international.org/12.0/#prod-annexB-Term) :: [Atom](https://262.ecma-international.org/12.0/#prod-Atom) [Quantifier](https://262.ecma-international.org/12.0/#prod-Quantifier) but with [QuantifiableAssertion](https://262.ecma-international.org/12.0/#prod-annexB-QuantifiableAssertion) substituted for [Atom](https://262.ecma-international.org/12.0/#prod-Atom).

The production [Term](https://262.ecma-international.org/12.0/#prod-annexB-Term) :: [ExtendedAtom](https://262.ecma-international.org/12.0/#prod-annexB-ExtendedAtom) [Quantifier](https://262.ecma-international.org/12.0/#prod-Quantifier) evaluates the same as the production [Term](https://262.ecma-international.org/12.0/#prod-annexB-Term) :: [Atom](https://262.ecma-international.org/12.0/#prod-Atom) [Quantifier](https://262.ecma-international.org/12.0/#prod-Quantifier) but with [ExtendedAtom](https://262.ecma-international.org/12.0/#prod-annexB-ExtendedAtom) substituted for [Atom](https://262.ecma-international.org/12.0/#prod-Atom).

The production [Term](https://262.ecma-international.org/12.0/#prod-annexB-Term) :: [ExtendedAtom](https://262.ecma-international.org/12.0/#prod-annexB-ExtendedAtom) evaluates the same as the production [Term](https://262.ecma-international.org/12.0/#prod-annexB-Term) :: [Atom](https://262.ecma-international.org/12.0/#prod-Atom) but with [ExtendedAtom](https://262.ecma-international.org/12.0/#prod-annexB-ExtendedAtom) substituted for [Atom](https://262.ecma-international.org/12.0/#prod-Atom).

Assertion ([22.2.2.6](https://262.ecma-international.org/12.0/#sec-assertion)) includes the following additional evaluation rule:

The production [Assertion](https://262.ecma-international.org/12.0/#prod-annexB-Assertion) :: [QuantifiableAssertion](https://262.ecma-international.org/12.0/#prod-annexB-QuantifiableAssertion) evaluates as follows:

1.  Evaluate [QuantifiableAssertion](https://262.ecma-international.org/12.0/#prod-annexB-QuantifiableAssertion) to obtain a Matcher m.
2.  Return m.

Assertion ([22.2.2.6](https://262.ecma-international.org/12.0/#sec-assertion)) evaluation rules for the [Assertion](https://262.ecma-international.org/12.0/#prod-annexB-Assertion) :: ( ? \= [Disjunction](https://262.ecma-international.org/12.0/#prod-Disjunction) ) and [Assertion](https://262.ecma-international.org/12.0/#prod-annexB-Assertion) :: ( ? ! [Disjunction](https://262.ecma-international.org/12.0/#prod-Disjunction) ) productions are also used for the [QuantifiableAssertion](https://262.ecma-international.org/12.0/#prod-annexB-QuantifiableAssertion) productions, but with [QuantifiableAssertion](https://262.ecma-international.org/12.0/#prod-annexB-QuantifiableAssertion) substituted for [Assertion](https://262.ecma-international.org/12.0/#prod-annexB-Assertion).

Atom ([22.2.2.8](https://262.ecma-international.org/12.0/#sec-atom)) evaluation rules for the [Atom](https://262.ecma-international.org/12.0/#prod-Atom) productions except for [Atom](https://262.ecma-international.org/12.0/#prod-Atom) :: [PatternCharacter](https://262.ecma-international.org/12.0/#prod-PatternCharacter) are also used for the [ExtendedAtom](https://262.ecma-international.org/12.0/#prod-annexB-ExtendedAtom) productions, but with [ExtendedAtom](https://262.ecma-international.org/12.0/#prod-annexB-ExtendedAtom) substituted for [Atom](https://262.ecma-international.org/12.0/#prod-Atom). The following evaluation rules, with parameter direction, are also added:

The production [ExtendedAtom](https://262.ecma-international.org/12.0/#prod-annexB-ExtendedAtom) :: \\ \[lookahead = c\] evaluates as follows:

1.  Let A be the CharSet containing the single character `\` U+005C (REVERSE SOLIDUS).
2.  Return ! [CharacterSetMatcher](https://262.ecma-international.org/12.0/#sec-runtime-semantics-charactersetmatcher-abstract-operation)(A, false, direction).

The production [ExtendedAtom](https://262.ecma-international.org/12.0/#prod-annexB-ExtendedAtom) :: [ExtendedPatternCharacter](https://262.ecma-international.org/12.0/#prod-annexB-ExtendedPatternCharacter) evaluates as follows:

1.  Let ch be the character represented by [ExtendedPatternCharacter](https://262.ecma-international.org/12.0/#prod-annexB-ExtendedPatternCharacter).
2.  Let A be a one-element CharSet containing the character ch.
3.  Return ! [CharacterSetMatcher](https://262.ecma-international.org/12.0/#sec-runtime-semantics-charactersetmatcher-abstract-operation)(A, false, direction).

CharacterEscape ([22.2.2.10](https://262.ecma-international.org/12.0/#sec-characterescape)) includes the following additional evaluation rule:

The production [CharacterEscape](https://262.ecma-international.org/12.0/#prod-annexB-CharacterEscape) :: [LegacyOctalEscapeSequence](https://262.ecma-international.org/12.0/#prod-annexB-LegacyOctalEscapeSequence) evaluates as follows:

1.  Let cv be the [CharacterValue](https://262.ecma-international.org/12.0/#sec-patterns-static-semantics-character-value) of this [CharacterEscape](https://262.ecma-international.org/12.0/#prod-annexB-CharacterEscape).
2.  Return the character whose character value is cv.

NonemptyClassRanges ([22.2.2.15](https://262.ecma-international.org/12.0/#sec-nonemptyclassranges)) modifies the following evaluation rule:

The production [NonemptyClassRanges](https://262.ecma-international.org/12.0/#prod-NonemptyClassRanges) :: [ClassAtom](https://262.ecma-international.org/12.0/#prod-ClassAtom) \- [ClassAtom](https://262.ecma-international.org/12.0/#prod-ClassAtom) [ClassRanges](https://262.ecma-international.org/12.0/#prod-ClassRanges) evaluates as follows:

1.  Evaluate the first [ClassAtom](https://262.ecma-international.org/12.0/#prod-ClassAtom) to obtain a CharSet A.
2.  Evaluate the second [ClassAtom](https://262.ecma-international.org/12.0/#prod-ClassAtom) to obtain a CharSet B.
3.  Evaluate [ClassRanges](https://262.ecma-international.org/12.0/#prod-ClassRanges) to obtain a CharSet C.
4.  Let D be ! [CharacterRangeOrUnion](https://262.ecma-international.org/12.0/#sec-runtime-semantics-characterrangeorunion-abstract-operation)(A, B).
5.  Return the union of D and C.

NonemptyClassRangesNoDash ([22.2.2.16](https://262.ecma-international.org/12.0/#sec-nonemptyclassrangesnodash)) modifies the following evaluation rule:

The production [NonemptyClassRangesNoDash](https://262.ecma-international.org/12.0/#prod-NonemptyClassRangesNoDash) :: [ClassAtomNoDash](https://262.ecma-international.org/12.0/#prod-annexB-ClassAtomNoDash) \- [ClassAtom](https://262.ecma-international.org/12.0/#prod-ClassAtom) [ClassRanges](https://262.ecma-international.org/12.0/#prod-ClassRanges) evaluates as follows:

1.  Evaluate [ClassAtomNoDash](https://262.ecma-international.org/12.0/#prod-annexB-ClassAtomNoDash) to obtain a CharSet A.
2.  Evaluate [ClassAtom](https://262.ecma-international.org/12.0/#prod-ClassAtom) to obtain a CharSet B.
3.  Evaluate [ClassRanges](https://262.ecma-international.org/12.0/#prod-ClassRanges) to obtain a CharSet C.
4.  Let D be ! [CharacterRangeOrUnion](https://262.ecma-international.org/12.0/#sec-runtime-semantics-characterrangeorunion-abstract-operation)(A, B).
5.  Return the union of D and C.

ClassEscape ([22.2.2.19](https://262.ecma-international.org/12.0/#sec-classescape)) includes the following additional evaluation rule:

The production [ClassEscape](https://262.ecma-international.org/12.0/#prod-annexB-ClassEscape) :: c [ClassControlLetter](https://262.ecma-international.org/12.0/#prod-annexB-ClassControlLetter) evaluates as follows:

1.  Let cv be the [CharacterValue](https://262.ecma-international.org/12.0/#sec-patterns-static-semantics-character-value) of this [ClassEscape](https://262.ecma-international.org/12.0/#prod-annexB-ClassEscape).
2.  Let c be the character whose character value is cv.
3.  Return the CharSet containing the single character c.

ClassAtomNoDash ([22.2.2.18](https://262.ecma-international.org/12.0/#sec-classatomnodash)) includes the following additional evaluation rule:

The production [ClassAtomNoDash](https://262.ecma-international.org/12.0/#prod-annexB-ClassAtomNoDash) :: \\ \[lookahead = c\] evaluates as follows:

1.  Return the CharSet containing the single character `\` U+005C (REVERSE SOLIDUS).

Note

This production can only be reached from the sequence `\c` within a character class where it is not followed by an acceptable control character.

## B.1.4.4.1 CharacterRangeOrUnion ( A, B )

The abstract operation CharacterRangeOrUnion takes arguments A (a CharSet) and B (a CharSet). It performs the following steps when called:

1.  If Unicode is false, then
    1.  If A does not contain exactly one character or B does not contain exactly one character, then
        1.  Let C be the CharSet containing the single character `-` U+002D (HYPHEN-MINUS).
        2.  Return the union of CharSets A, B and C.
2.  Return ! [CharacterRange](https://262.ecma-international.org/12.0/#sec-runtime-semantics-characterrange-abstract-operation)(A, B).

## B.2 Additional Built-in Properties

When the ECMAScript [host](https://262.ecma-international.org/12.0/#host) is a web browser the following additional properties of the standard built-in objects are defined.

## B.2.1 Additional Properties of the Global Object

The entries in [Table 82](https://262.ecma-international.org/12.0/#table-additional-well-known-intrinsic-objects) are added to [Table 8](https://262.ecma-international.org/12.0/#table-well-known-intrinsic-objects).

Table 82: Additional Well-known Intrinsic Objects

| Intrinsic Name | Global Name | ECMAScript Language Association |
| --- | --- | --- |
| [%escape%](https://262.ecma-international.org/12.0/#sec-escape-string) | `escape` | The `escape` function ([B.2.1.1](https://262.ecma-international.org/12.0/#sec-escape-string)) |
| [%unescape%](https://262.ecma-international.org/12.0/#sec-unescape-string) | `unescape` | The `unescape` function ([B.2.1.2](https://262.ecma-international.org/12.0/#sec-unescape-string)) |

## B.2.1.1 escape ( string )

The `escape` function is a property of the [global object](https://262.ecma-international.org/12.0/#sec-global-object). It computes a new version of a String value in which certain code units have been replaced by a hexadecimal escape sequence.

For those code units being replaced whose value is `0x00FF` or less, a two-digit escape sequence of the form `%xx` is used. For those characters being replaced whose code unit value is greater than `0x00FF`, a four-digit escape sequence of the form `%uxxxx` is used.

The `escape` function is the %escape% intrinsic object. When the `escape` function is called with one argument string, the following steps are taken:

1.  Set string to ? [ToString](https://262.ecma-international.org/12.0/#sec-tostring)(string).
2.  Let length be the number of code units in string.
3.  Let R be the empty String.
4.  Let k be 0.
5.  Repeat, while k < length,
    1.  Let char be the code unit (represented as a 16-bit unsigned [integer](https://262.ecma-international.org/12.0/#integer)) at index k within string.
    2.  If char is one of the code units in "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789@\*\_+-./", then
        1.  Let S be the String value containing the single code unit char.
    3.  Else if char ≥ 256, then
        1.  Let n be the numeric value of char.
        2.  Let S be the [string-concatenation](https://262.ecma-international.org/12.0/#string-concatenation) of:
            -   "%u"
            -   the String representation of n, formatted as a four-digit uppercase hexadecimal number, padded to the left with zeroes if necessary
    4.  Else,
        1.  [Assert](https://262.ecma-international.org/12.0/#assert): char < 256.
        2.  Let n be the numeric value of char.
        3.  Let S be the [string-concatenation](https://262.ecma-international.org/12.0/#string-concatenation) of:
            -   "%"
            -   the String representation of n, formatted as a two-digit uppercase hexadecimal number, padded to the left with a zero if necessary
    5.  Set R to the [string-concatenation](https://262.ecma-international.org/12.0/#string-concatenation) of R and S.
    6.  Set k to k + 1.
6.  Return R.

Note

The encoding is partly based on the encoding described in RFC 1738, but the entire encoding specified in this standard is described above without regard to the contents of RFC 1738. This encoding does not reflect changes to RFC 1738 made by RFC 3986.

## B.2.1.2 unescape ( string )

The `unescape` function is a property of the [global object](https://262.ecma-international.org/12.0/#sec-global-object). It computes a new version of a String value in which each escape sequence of the sort that might be introduced by the `escape` function is replaced with the code unit that it represents.

The `unescape` function is the %unescape% intrinsic object. When the `unescape` function is called with one argument string, the following steps are taken:

1.  Set string to ? [ToString](https://262.ecma-international.org/12.0/#sec-tostring)(string).
2.  Let length be the number of code units in string.
3.  Let R be the empty String.
4.  Let k be 0.
5.  Repeat, while k ≠ length,
    1.  Let c be the code unit at index k within string.
    2.  If c is the code unit 0x0025 (PERCENT SIGN), then
        1.  Let hexEscape be the empty String.
        2.  Let skip be 0.
        3.  If k ≤ length - 6 and the code unit at index k + 1 within string is the code unit 0x0075 (LATIN SMALL LETTER U), then
            1.  Set hexEscape to the [substring](https://262.ecma-international.org/12.0/#substring) of string from k + 2 to k + 6.
            2.  Set skip to 5.
        4.  Else if k ≤ length - 3, then
            1.  Set hexEscape to the [substring](https://262.ecma-international.org/12.0/#substring) of string from k + 1 to k + 3.
            2.  Set skip to 2.
        5.  If hexEscape can be interpreted as an expansion of [HexDigits](https://262.ecma-international.org/12.0/#prod-HexDigits)\[~Sep\], then
            1.  Let hexIntegerLiteral be the [string-concatenation](https://262.ecma-international.org/12.0/#string-concatenation) of "0x" and hexEscape.
            2.  Let n be ! [ToNumber](https://262.ecma-international.org/12.0/#sec-tonumber)(hexIntegerLiteral).
            3.  Set c to the code unit whose value is [ℝ](https://262.ecma-international.org/12.0/#%E2%84%9D)(n).
            4.  Set k to k + skip.
    3.  Set R to the [string-concatenation](https://262.ecma-international.org/12.0/#string-concatenation) of R and c.
    4.  Set k to k + 1.
6.  Return R.

## B.2.2 Additional Properties of the Object.prototype Object

## B.2.2.1 Object.prototype.\_\_proto\_\_

`Object.prototype.__proto__` is an [accessor property](https://262.ecma-international.org/12.0/#sec-object-type) with attributes { \[\[Enumerable\]\]: false, \[\[Configurable\]\]: true }. The \[\[Get\]\] and \[\[Set\]\] attributes are defined as follows:

## B.2.2.1.1 get Object.prototype.\_\_proto\_\_

The value of the \[\[Get\]\] attribute is a built-in function that requires no arguments. It performs the following steps when called:

1.  Let O be ? [ToObject](https://262.ecma-international.org/12.0/#sec-toobject)(this value).
2.  Return ? O.\[\[GetPrototypeOf\]\]().

## B.2.2.1.2 set Object.prototype.\_\_proto\_\_

The value of the \[\[Set\]\] attribute is a built-in function that takes an argument proto. It performs the following steps when called:

1.  Let O be ? [RequireObjectCoercible](https://262.ecma-international.org/12.0/#sec-requireobjectcoercible)(this value).
2.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(proto) is neither Object nor Null, return undefined.
3.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(O) is not Object, return undefined.
4.  Let status be ? O.\[\[SetPrototypeOf\]\](proto).
5.  If status is false, throw a TypeError exception.
6.  Return undefined.

## B.2.2.2 Object.prototype.\_\_defineGetter\_\_ ( P, getter )

When the `__defineGetter__` method is called with arguments P and getter, the following steps are taken:

1.  Let O be ? [ToObject](https://262.ecma-international.org/12.0/#sec-toobject)(this value).
2.  If [IsCallable](https://262.ecma-international.org/12.0/#sec-iscallable)(getter) is false, throw a TypeError exception.
3.  Let desc be PropertyDescriptor { \[\[Get\]\]: getter, \[\[Enumerable\]\]: true, \[\[Configurable\]\]: true }.
4.  Let key be ? [ToPropertyKey](https://262.ecma-international.org/12.0/#sec-topropertykey)(P).
5.  Perform ? [DefinePropertyOrThrow](https://262.ecma-international.org/12.0/#sec-definepropertyorthrow)(O, key, desc).
6.  Return undefined.

## B.2.2.3 Object.prototype.\_\_defineSetter\_\_ ( P, setter )

When the `__defineSetter__` method is called with arguments P and setter, the following steps are taken:

1.  Let O be ? [ToObject](https://262.ecma-international.org/12.0/#sec-toobject)(this value).
2.  If [IsCallable](https://262.ecma-international.org/12.0/#sec-iscallable)(setter) is false, throw a TypeError exception.
3.  Let desc be PropertyDescriptor { \[\[Set\]\]: setter, \[\[Enumerable\]\]: true, \[\[Configurable\]\]: true }.
4.  Let key be ? [ToPropertyKey](https://262.ecma-international.org/12.0/#sec-topropertykey)(P).
5.  Perform ? [DefinePropertyOrThrow](https://262.ecma-international.org/12.0/#sec-definepropertyorthrow)(O, key, desc).
6.  Return undefined.

## B.2.2.4 Object.prototype.\_\_lookupGetter\_\_ ( P )

When the `__lookupGetter__` method is called with argument P, the following steps are taken:

1.  Let O be ? [ToObject](https://262.ecma-international.org/12.0/#sec-toobject)(this value).
2.  Let key be ? [ToPropertyKey](https://262.ecma-international.org/12.0/#sec-topropertykey)(P).
3.  Repeat,
    1.  Let desc be ? O.\[\[GetOwnProperty\]\](key).
    2.  If desc is not undefined, then
        1.  If [IsAccessorDescriptor](https://262.ecma-international.org/12.0/#sec-isaccessordescriptor)(desc) is true, return desc.\[\[Get\]\].
        2.  Return undefined.
    3.  Set O to ? O.\[\[GetPrototypeOf\]\]().
    4.  If O is null, return undefined.

## B.2.2.5 Object.prototype.\_\_lookupSetter\_\_ ( P )

When the `__lookupSetter__` method is called with argument P, the following steps are taken:

1.  Let O be ? [ToObject](https://262.ecma-international.org/12.0/#sec-toobject)(this value).
2.  Let key be ? [ToPropertyKey](https://262.ecma-international.org/12.0/#sec-topropertykey)(P).
3.  Repeat,
    1.  Let desc be ? O.\[\[GetOwnProperty\]\](key).
    2.  If desc is not undefined, then
        1.  If [IsAccessorDescriptor](https://262.ecma-international.org/12.0/#sec-isaccessordescriptor)(desc) is true, return desc.\[\[Set\]\].
        2.  Return undefined.
    3.  Set O to ? O.\[\[GetPrototypeOf\]\]().
    4.  If O is null, return undefined.

## B.2.3 Additional Properties of the String.prototype Object

## B.2.3.1 String.prototype.substr ( start, length )

The `substr` method takes two arguments, start and length, and returns a substring of the result of converting the this value to a String, starting from index start and running for length code units (or through the end of the String if length is undefined). If start is negative, it is treated as sourceLength + start where sourceLength is the length of the String. The result is a String value, not a String object. The following steps are taken:

1.  Let O be ? [RequireObjectCoercible](https://262.ecma-international.org/12.0/#sec-requireobjectcoercible)(this value).
2.  Let S be ? [ToString](https://262.ecma-international.org/12.0/#sec-tostring)(O).
3.  Let size be the length of S.
4.  Let intStart be ? [ToIntegerOrInfinity](https://262.ecma-international.org/12.0/#sec-tointegerorinfinity)(start).
5.  If intStart is -∞, set intStart to 0.
6.  Else if intStart < 0, set intStart to [max](https://262.ecma-international.org/12.0/#eqn-max)(size + intStart, 0).
7.  If length is undefined, let intLength be size; otherwise let intLength be ? [ToIntegerOrInfinity](https://262.ecma-international.org/12.0/#sec-tointegerorinfinity)(length).
8.  If intStart is +∞, intLength ≤ 0, or intLength is +∞, return the empty String.
9.  Let intEnd be [min](https://262.ecma-international.org/12.0/#eqn-min)(intStart + intLength, size).
10.  If intStart ≥ intEnd, return the empty String.
11.  Return the [substring](https://262.ecma-international.org/12.0/#substring) of S from intStart to intEnd.

Note

The `substr` function is intentionally generic; it does not require that its this value be a String object. Therefore it can be transferred to other kinds of objects for use as a method.

## B.2.3.2 String.prototype.anchor ( name )

When the `anchor` method is called with argument name, the following steps are taken:

1.  Let S be the this value.
2.  Return ? [CreateHTML](https://262.ecma-international.org/12.0/#sec-createhtml)(S, "a", "name", name).

## B.2.3.2.1 CreateHTML ( string, tag, attribute, value )

The abstract operation CreateHTML takes arguments string, tag (a String), attribute (a String), and value. It performs the following steps when called:

1.  Let str be ? [RequireObjectCoercible](https://262.ecma-international.org/12.0/#sec-requireobjectcoercible)(string).
2.  Let S be ? [ToString](https://262.ecma-international.org/12.0/#sec-tostring)(str).
3.  Let p1 be the [string-concatenation](https://262.ecma-international.org/12.0/#string-concatenation) of "<" and tag.
4.  If attribute is not the empty String, then
    1.  Let V be ? [ToString](https://262.ecma-international.org/12.0/#sec-tostring)(value).
    2.  Let escapedV be the String value that is the same as V except that each occurrence of the code unit 0x0022 (QUOTATION MARK) in V has been replaced with the six code unit sequence "&quot;".
    3.  Set p1 to the [string-concatenation](https://262.ecma-international.org/12.0/#string-concatenation) of:
        -   p1
        -   the code unit 0x0020 (SPACE)
        -   attribute
        -   the code unit 0x003D (EQUALS SIGN)
        -   the code unit 0x0022 (QUOTATION MARK)
        -   escapedV
        -   the code unit 0x0022 (QUOTATION MARK)
5.  Let p2 be the [string-concatenation](https://262.ecma-international.org/12.0/#string-concatenation) of p1 and ">".
6.  Let p3 be the [string-concatenation](https://262.ecma-international.org/12.0/#string-concatenation) of p2 and S.
7.  Let p4 be the [string-concatenation](https://262.ecma-international.org/12.0/#string-concatenation) of p3, "</", tag, and ">".
8.  Return p4.

## B.2.3.3 String.prototype.big ( )

When the `big` method is called with no arguments, the following steps are taken:

1.  Let S be the this value.
2.  Return ? [CreateHTML](https://262.ecma-international.org/12.0/#sec-createhtml)(S, "big", "", "").

## B.2.3.4 String.prototype.blink ( )

When the `blink` method is called with no arguments, the following steps are taken:

1.  Let S be the this value.
2.  Return ? [CreateHTML](https://262.ecma-international.org/12.0/#sec-createhtml)(S, "blink", "", "").

## B.2.3.5 String.prototype.bold ( )

When the `bold` method is called with no arguments, the following steps are taken:

1.  Let S be the this value.
2.  Return ? [CreateHTML](https://262.ecma-international.org/12.0/#sec-createhtml)(S, "b", "", "").

## B.2.3.6 String.prototype.fixed ( )

When the `fixed` method is called with no arguments, the following steps are taken:

1.  Let S be the this value.
2.  Return ? [CreateHTML](https://262.ecma-international.org/12.0/#sec-createhtml)(S, "tt", "", "").

## B.2.3.7 String.prototype.fontcolor ( color )

When the `fontcolor` method is called with argument color, the following steps are taken:

1.  Let S be the this value.
2.  Return ? [CreateHTML](https://262.ecma-international.org/12.0/#sec-createhtml)(S, "font", "color", color).

## B.2.3.8 String.prototype.fontsize ( size )

When the `fontsize` method is called with argument size, the following steps are taken:

1.  Let S be the this value.
2.  Return ? [CreateHTML](https://262.ecma-international.org/12.0/#sec-createhtml)(S, "font", "size", size).

## B.2.3.9 String.prototype.italics ( )

When the `italics` method is called with no arguments, the following steps are taken:

1.  Let S be the this value.
2.  Return ? [CreateHTML](https://262.ecma-international.org/12.0/#sec-createhtml)(S, "i", "", "").

## B.2.3.10 String.prototype.link ( url )

When the `link` method is called with argument url, the following steps are taken:

1.  Let S be the this value.
2.  Return ? [CreateHTML](https://262.ecma-international.org/12.0/#sec-createhtml)(S, "a", "href", url).

## B.2.3.11 String.prototype.small ( )

When the `small` method is called with no arguments, the following steps are taken:

1.  Let S be the this value.
2.  Return ? [CreateHTML](https://262.ecma-international.org/12.0/#sec-createhtml)(S, "small", "", "").

## B.2.3.12 String.prototype.strike ( )

When the `strike` method is called with no arguments, the following steps are taken:

1.  Let S be the this value.
2.  Return ? [CreateHTML](https://262.ecma-international.org/12.0/#sec-createhtml)(S, "strike", "", "").

## B.2.3.13 String.prototype.sub ( )

When the `sub` method is called with no arguments, the following steps are taken:

1.  Let S be the this value.
2.  Return ? [CreateHTML](https://262.ecma-international.org/12.0/#sec-createhtml)(S, "sub", "", "").

## B.2.3.14 String.prototype.sup ( )

When the `sup` method is called with no arguments, the following steps are taken:

1.  Let S be the this value.
2.  Return ? [CreateHTML](https://262.ecma-international.org/12.0/#sec-createhtml)(S, "sup", "", "").

## B.2.3.15 String.prototype.trimLeft ( )

Note

The property "trimStart" is preferred. The "trimLeft" property is provided principally for compatibility with old code. It is recommended that the "trimStart" property be used in new ECMAScript code.

The initial value of the "trimLeft" property is the same [function object](https://262.ecma-international.org/12.0/#function-object) as the initial value of the `String.prototype.trimStart` property.

## B.2.3.16 String.prototype.trimRight ( )

Note

The property "trimEnd" is preferred. The "trimRight" property is provided principally for compatibility with old code. It is recommended that the "trimEnd" property be used in new ECMAScript code.

The initial value of the "trimRight" property is the same [function object](https://262.ecma-international.org/12.0/#function-object) as the initial value of the `String.prototype.trimEnd` property.

## B.2.4 Additional Properties of the Date.prototype Object

## B.2.4.1 Date.prototype.getYear ( )

Note

The `getFullYear` method is preferred for nearly all purposes, because it avoids the “year 2000 problem.”

When the `getYear` method is called with no arguments, the following steps are taken:

1.  Let t be ? [thisTimeValue](https://262.ecma-international.org/12.0/#thistimevalue)(this value).
2.  If t is NaN, return NaN.
3.  Return [YearFromTime](https://262.ecma-international.org/12.0/#eqn-YearFromTime)([LocalTime](https://262.ecma-international.org/12.0/#sec-localtime)(t)) - 1900𝔽.

## B.2.4.2 Date.prototype.setYear ( year )

Note

The `setFullYear` method is preferred for nearly all purposes, because it avoids the “year 2000 problem.”

When the `setYear` method is called with one argument year, the following steps are taken:

1.  Let t be ? [thisTimeValue](https://262.ecma-international.org/12.0/#thistimevalue)(this value).
2.  If t is NaN, set t to +0𝔽; otherwise, set t to [LocalTime](https://262.ecma-international.org/12.0/#sec-localtime)(t).
3.  Let y be ? [ToNumber](https://262.ecma-international.org/12.0/#sec-tonumber)(year).
4.  If y is NaN, then
    1.  Set the \[\[DateValue\]\] internal slot of [this Date object](https://262.ecma-international.org/12.0/#this-Date-object) to NaN.
    2.  Return NaN.
5.  Let yi be ! [ToIntegerOrInfinity](https://262.ecma-international.org/12.0/#sec-tointegerorinfinity)(y).
6.  If 0 ≤ yi ≤ 99, let yyyy be 1900𝔽 + [𝔽](https://262.ecma-international.org/12.0/#%F0%9D%94%BD)(yi).
7.  Else, let yyyy be y.
8.  Let d be [MakeDay](https://262.ecma-international.org/12.0/#sec-makeday)(yyyy, [MonthFromTime](https://262.ecma-international.org/12.0/#eqn-MonthFromTime)(t), [DateFromTime](https://262.ecma-international.org/12.0/#sec-date-number)(t)).
9.  Let date be [UTC](https://262.ecma-international.org/12.0/#sec-utc-t)([MakeDate](https://262.ecma-international.org/12.0/#sec-makedate)(d, [TimeWithinDay](https://262.ecma-international.org/12.0/#eqn-TimeWithinDay)(t))).
10.  Set the \[\[DateValue\]\] internal slot of [this Date object](https://262.ecma-international.org/12.0/#this-Date-object) to [TimeClip](https://262.ecma-international.org/12.0/#sec-timeclip)(date).
11.  Return the value of the \[\[DateValue\]\] internal slot of [this Date object](https://262.ecma-international.org/12.0/#this-Date-object).

## B.2.4.3 Date.prototype.toGMTString ( )

Note

The `toUTCString` method is preferred. The `toGMTString` method is provided principally for compatibility with old code.

The [function object](https://262.ecma-international.org/12.0/#function-object) that is the initial value of `Date.prototype.toGMTString` is the same [function object](https://262.ecma-international.org/12.0/#function-object) that is the initial value of `Date.prototype.toUTCString`.

## B.2.5 Additional Properties of the RegExp.prototype Object

## B.2.5.1 RegExp.prototype.compile ( pattern, flags )

When the `compile` method is called with arguments pattern and flags, the following steps are taken:

1.  Let O be the this value.
2.  Perform ? [RequireInternalSlot](https://262.ecma-international.org/12.0/#sec-requireinternalslot)(O, \[\[RegExpMatcher\]\]).
3.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(pattern) is Object and pattern has a \[\[RegExpMatcher\]\] internal slot, then
    1.  If flags is not undefined, throw a TypeError exception.
    2.  Let P be pattern.\[\[OriginalSource\]\].
    3.  Let F be pattern.\[\[OriginalFlags\]\].
4.  Else,
    1.  Let P be pattern.
    2.  Let F be flags.
5.  Return ? [RegExpInitialize](https://262.ecma-international.org/12.0/#sec-regexpinitialize)(O, P, F).

Note

The `compile` method completely reinitializes the this value RegExp with a new pattern and flags. An implementation may interpret use of this method as an assertion that the resulting RegExp object will be used multiple times and hence is a candidate for extra optimization.

## B.3 Other Additional Features

## B.3.1 \_\_proto\_\_ Property Names in Object Initializers

The following Early Error rule is added to those in [13.2.6.1](https://262.ecma-international.org/12.0/#sec-object-initializer-static-semantics-early-errors). This rule is **not** applied under any of the following circumstances:

-   when [ObjectLiteral](https://262.ecma-international.org/12.0/#prod-ObjectLiteral) appears in a context where [ObjectAssignmentPattern](https://262.ecma-international.org/12.0/#prod-ObjectAssignmentPattern) is required,
-   when initially parsing a [CoverParenthesizedExpressionAndArrowParameterList](https://262.ecma-international.org/12.0/#prod-CoverParenthesizedExpressionAndArrowParameterList) or a [CoverCallExpressionAndAsyncArrowHead](https://262.ecma-international.org/12.0/#prod-CoverCallExpressionAndAsyncArrowHead), or
-   when parsing text for [JSON.parse](https://262.ecma-international.org/12.0/#sec-json.parse).

[ObjectLiteral](https://262.ecma-international.org/12.0/#prod-ObjectLiteral) : { [PropertyDefinitionList](https://262.ecma-international.org/12.0/#prod-PropertyDefinitionList) } { [PropertyDefinitionList](https://262.ecma-international.org/12.0/#prod-PropertyDefinitionList) , }

-   It is a Syntax Error if [PropertyNameList](https://262.ecma-international.org/12.0/#sec-static-semantics-propertynamelist) of [PropertyDefinitionList](https://262.ecma-international.org/12.0/#prod-PropertyDefinitionList) contains any duplicate entries for "\_\_proto\_\_" and at least two of those entries were obtained from productions of the form [PropertyDefinition](https://262.ecma-international.org/12.0/#prod-PropertyDefinition) : [PropertyName](https://262.ecma-international.org/12.0/#prod-PropertyName) : [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression) .

Note

The [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) returned by [PropertyNameList](https://262.ecma-international.org/12.0/#sec-static-semantics-propertynamelist) does not include string literal property names defined as using a [ComputedPropertyName](https://262.ecma-international.org/12.0/#prod-ComputedPropertyName).

In [13.2.6.5](https://262.ecma-international.org/12.0/#sec-runtime-semantics-propertydefinitionevaluation) the [PropertyDefinitionEvaluation](https://262.ecma-international.org/12.0/#sec-runtime-semantics-propertydefinitionevaluation) algorithm for the production  
[PropertyDefinition](https://262.ecma-international.org/12.0/#prod-PropertyDefinition) : [PropertyName](https://262.ecma-international.org/12.0/#prod-PropertyName) : [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression)  
is replaced with the following definition:

[PropertyDefinition](https://262.ecma-international.org/12.0/#prod-PropertyDefinition) : [PropertyName](https://262.ecma-international.org/12.0/#prod-PropertyName) : [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression)

1.  Let propKey be the result of evaluating [PropertyName](https://262.ecma-international.org/12.0/#prod-PropertyName).
2.  [ReturnIfAbrupt](https://262.ecma-international.org/12.0/#sec-returnifabrupt)(propKey).
3.  If propKey is the String value "\_\_proto\_\_" and if [IsComputedPropertyKey](https://262.ecma-international.org/12.0/#sec-static-semantics-iscomputedpropertykey)([PropertyName](https://262.ecma-international.org/12.0/#prod-PropertyName)) is false, then
    1.  Let isProtoSetter be true.
4.  Else,
    1.  Let isProtoSetter be false.
5.  If [IsAnonymousFunctionDefinition](https://262.ecma-international.org/12.0/#sec-isanonymousfunctiondefinition)([AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression)) is true and isProtoSetter is false, then
    1.  Let propValue be ? [NamedEvaluation](https://262.ecma-international.org/12.0/#sec-runtime-semantics-namedevaluation) of [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression) with argument propKey.
6.  Else,
    1.  Let exprValueRef be the result of evaluating [AssignmentExpression](https://262.ecma-international.org/12.0/#prod-AssignmentExpression).
    2.  Let propValue be ? [GetValue](https://262.ecma-international.org/12.0/#sec-getvalue)(exprValueRef).
7.  If isProtoSetter is true, then
    1.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(propValue) is either Object or Null, then
        1.  Return object.\[\[SetPrototypeOf\]\](propValue).
    2.  Return [NormalCompletion](https://262.ecma-international.org/12.0/#sec-normalcompletion)(empty).
8.  [Assert](https://262.ecma-international.org/12.0/#assert): enumerable is true.
9.  [Assert](https://262.ecma-international.org/12.0/#assert): object is an ordinary, extensible object with no non-configurable properties.
10.  Return ! [CreateDataPropertyOrThrow](https://262.ecma-international.org/12.0/#sec-createdatapropertyorthrow)(object, propKey, propValue).

## B.3.2 Labelled Function Declarations

Prior to ECMAScript 2015, the specification of [LabelledStatement](https://262.ecma-international.org/12.0/#prod-LabelledStatement) did not allow for the association of a statement label with a [FunctionDeclaration](https://262.ecma-international.org/12.0/#prod-FunctionDeclaration). However, a labelled [FunctionDeclaration](https://262.ecma-international.org/12.0/#prod-FunctionDeclaration) was an allowable extension for [non-strict code](https://262.ecma-international.org/12.0/#non-strict-code) and most browser-hosted ECMAScript implementations supported that extension. In ECMAScript 2015 and later, the grammar production for [LabelledStatement](https://262.ecma-international.org/12.0/#prod-LabelledStatement) permits use of [FunctionDeclaration](https://262.ecma-international.org/12.0/#prod-FunctionDeclaration) as a [LabelledItem](https://262.ecma-international.org/12.0/#prod-LabelledItem) but [14.13.1](https://262.ecma-international.org/12.0/#sec-labelled-statements-static-semantics-early-errors) includes an Early Error rule that produces a Syntax Error if that occurs. That rule is modified with the addition of the highlighted text:

[LabelledItem](https://262.ecma-international.org/12.0/#prod-LabelledItem) : [FunctionDeclaration](https://262.ecma-international.org/12.0/#prod-FunctionDeclaration)

-   It is a Syntax Error if any strict mode source code matches this rule.

Note

The [early error](https://262.ecma-international.org/12.0/#early-error) rules for [WithStatement](https://262.ecma-international.org/12.0/#prod-WithStatement), [IfStatement](https://262.ecma-international.org/12.0/#prod-annexB-IfStatement), and [IterationStatement](https://262.ecma-international.org/12.0/#prod-IterationStatement) prevent these statements from containing a labelled [FunctionDeclaration](https://262.ecma-international.org/12.0/#prod-FunctionDeclaration) in [non-strict code](https://262.ecma-international.org/12.0/#non-strict-code).

## B.3.3 Block-Level Function Declarations Web Legacy Compatibility Semantics

Prior to ECMAScript 2015, the ECMAScript specification did not define the occurrence of a [FunctionDeclaration](https://262.ecma-international.org/12.0/#prod-FunctionDeclaration) as an element of a [Block](https://262.ecma-international.org/12.0/#prod-Block) statement's [StatementList](https://262.ecma-international.org/12.0/#prod-StatementList). However, support for that form of [FunctionDeclaration](https://262.ecma-international.org/12.0/#prod-FunctionDeclaration) was an allowable extension and most browser-hosted ECMAScript implementations permitted them. Unfortunately, the semantics of such declarations differ among those implementations. Because of these semantic differences, existing web ECMAScript code that uses [Block](https://262.ecma-international.org/12.0/#prod-Block) level function declarations is only portable among browser implementation if the usage only depends upon the semantic intersection of all of the browser implementations for such declarations. The following are the use cases that fall within that intersection semantics:

1.  A function is declared and only referenced within a single block
    
    -   One or more [FunctionDeclaration](https://262.ecma-international.org/12.0/#prod-FunctionDeclaration)s whose [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier) is the name f occur within the function code of an enclosing function g and that declaration is nested within a [Block](https://262.ecma-international.org/12.0/#prod-Block).
    -   No other declaration of f that is not a `var` declaration occurs within the function code of g
    -   All occurrences of f as an [IdentifierReference](https://262.ecma-international.org/12.0/#prod-IdentifierReference) are within the [StatementList](https://262.ecma-international.org/12.0/#prod-StatementList) of the [Block](https://262.ecma-international.org/12.0/#prod-Block) containing the declaration of f.
2.  A function is declared and possibly used within a single [Block](https://262.ecma-international.org/12.0/#prod-Block) but also referenced by an inner function definition that is not contained within that same [Block](https://262.ecma-international.org/12.0/#prod-Block).
    
    -   One or more [FunctionDeclaration](https://262.ecma-international.org/12.0/#prod-FunctionDeclaration)s whose [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier) is the name f occur within the function code of an enclosing function g and that declaration is nested within a [Block](https://262.ecma-international.org/12.0/#prod-Block).
    -   No other declaration of f that is not a `var` declaration occurs within the function code of g
    -   There may be occurrences of f as an [IdentifierReference](https://262.ecma-international.org/12.0/#prod-IdentifierReference) within the [StatementList](https://262.ecma-international.org/12.0/#prod-StatementList) of the [Block](https://262.ecma-international.org/12.0/#prod-Block) containing the declaration of f.
    -   There is at least one occurrence of f as an [IdentifierReference](https://262.ecma-international.org/12.0/#prod-IdentifierReference) within another function h that is nested within g and no other declaration of f shadows the references to f from within h.
    -   All invocations of h occur after the declaration of f has been evaluated.
3.  A function is declared and possibly used within a single block but also referenced within subsequent blocks.
    
    -   One or more [FunctionDeclaration](https://262.ecma-international.org/12.0/#prod-FunctionDeclaration) whose [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier) is the name f occur within the function code of an enclosing function g and that declaration is nested within a [Block](https://262.ecma-international.org/12.0/#prod-Block).
    -   No other declaration of f that is not a `var` declaration occurs within the function code of g
    -   There may be occurrences of f as an [IdentifierReference](https://262.ecma-international.org/12.0/#prod-IdentifierReference) within the [StatementList](https://262.ecma-international.org/12.0/#prod-StatementList) of the [Block](https://262.ecma-international.org/12.0/#prod-Block) containing the declaration of f.
    -   There is at least one occurrence of f as an [IdentifierReference](https://262.ecma-international.org/12.0/#prod-IdentifierReference) within the function code of g that lexically follows the [Block](https://262.ecma-international.org/12.0/#prod-Block) containing the declaration of f.

The first use case is interoperable with the semantics of [Block](https://262.ecma-international.org/12.0/#prod-Block) level function declarations provided by ECMAScript 2015. Any pre-existing ECMAScript code that employs that use case will operate using the Block level function declarations semantics defined by clauses [10](https://262.ecma-international.org/12.0/#sec-ordinary-and-exotic-objects-behaviours), [14](https://262.ecma-international.org/12.0/#sec-ecmascript-language-statements-and-declarations), and [15](https://262.ecma-international.org/12.0/#sec-ecmascript-language-functions-and-classes).

ECMAScript 2015 interoperability for the second and third use cases requires the following extensions to the clause [10](https://262.ecma-international.org/12.0/#sec-ordinary-and-exotic-objects-behaviours), clause [15](https://262.ecma-international.org/12.0/#sec-ecmascript-language-functions-and-classes), clause [19.2.1](https://262.ecma-international.org/12.0/#sec-eval-x) and clause [16.1.7](https://262.ecma-international.org/12.0/#sec-globaldeclarationinstantiation) semantics.

If an ECMAScript implementation has a mechanism for reporting diagnostic warning messages, a warning should be produced when code contains a [FunctionDeclaration](https://262.ecma-international.org/12.0/#prod-FunctionDeclaration) for which these compatibility semantics are applied and introduce observable differences from non-compatibility semantics. For example, if a var binding is not introduced because its introduction would create an [early error](https://262.ecma-international.org/12.0/#early-error), a warning message should not be produced.

## B.3.3.1 Changes to FunctionDeclarationInstantiation

During [FunctionDeclarationInstantiation](https://262.ecma-international.org/12.0/#sec-functiondeclarationinstantiation) the following steps are performed in place of step [29](https://262.ecma-international.org/12.0/#step-functiondeclarationinstantiation-web-compat-insertion-point):

29.  If strict is false, then
    1.  For each [FunctionDeclaration](https://262.ecma-international.org/12.0/#prod-FunctionDeclaration) f that is directly contained in the [StatementList](https://262.ecma-international.org/12.0/#prod-StatementList) of a [Block](https://262.ecma-international.org/12.0/#prod-Block), [CaseClause](https://262.ecma-international.org/12.0/#prod-CaseClause), or [DefaultClause](https://262.ecma-international.org/12.0/#prod-DefaultClause), do
        1.  Let F be [StringValue](https://262.ecma-international.org/12.0/#sec-static-semantics-stringvalue) of the [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier) of f.
        2.  If replacing the [FunctionDeclaration](https://262.ecma-international.org/12.0/#prod-FunctionDeclaration) f with a [VariableStatement](https://262.ecma-international.org/12.0/#prod-VariableStatement) that has F as a [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier) would not produce any Early Errors for func and F is not an element of parameterNames, then
            1.  NOTE: A var binding for F is only instantiated here if it is neither a VarDeclaredName, the name of a formal parameter, or another [FunctionDeclaration](https://262.ecma-international.org/12.0/#prod-FunctionDeclaration).
            2.  If initializedBindings does not contain F and F is not "arguments", then
                1.  Perform ! varEnv.CreateMutableBinding(F, false).
                2.  Perform varEnv.InitializeBinding(F, undefined).
                3.  Append F to instantiatedVarNames.
            3.  When the [FunctionDeclaration](https://262.ecma-international.org/12.0/#prod-FunctionDeclaration) f is evaluated, perform the following steps in place of the [FunctionDeclaration](https://262.ecma-international.org/12.0/#prod-FunctionDeclaration) Evaluation algorithm provided in [15.2.6](https://262.ecma-international.org/12.0/#sec-function-definitions-runtime-semantics-evaluation):
                1.  Let fenv be the [running execution context](https://262.ecma-international.org/12.0/#running-execution-context)'s VariableEnvironment.
                2.  Let benv be the [running execution context](https://262.ecma-international.org/12.0/#running-execution-context)'s LexicalEnvironment.
                3.  Let fobj be ! benv.GetBindingValue(F, false).
                4.  Perform ! fenv.SetMutableBinding(F, fobj, false).
                5.  Return [NormalCompletion](https://262.ecma-international.org/12.0/#sec-normalcompletion)(empty).

## B.3.3.2 Changes to GlobalDeclarationInstantiation

During [GlobalDeclarationInstantiation](https://262.ecma-international.org/12.0/#sec-globaldeclarationinstantiation) the following steps are performed in place of step [13](https://262.ecma-international.org/12.0/#step-globaldeclarationinstantiation-web-compat-insertion-point):

13.  Let strict be [IsStrict](https://262.ecma-international.org/12.0/#sec-static-semantics-isstrict) of script.
14.  If strict is false, then
    1.  Let declaredFunctionOrVarNames be a new empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).
    2.  Append to declaredFunctionOrVarNames the elements of declaredFunctionNames.
    3.  Append to declaredFunctionOrVarNames the elements of declaredVarNames.
    4.  For each [FunctionDeclaration](https://262.ecma-international.org/12.0/#prod-FunctionDeclaration) f that is directly contained in the [StatementList](https://262.ecma-international.org/12.0/#prod-StatementList) of a [Block](https://262.ecma-international.org/12.0/#prod-Block), [CaseClause](https://262.ecma-international.org/12.0/#prod-CaseClause), or [DefaultClause](https://262.ecma-international.org/12.0/#prod-DefaultClause) Contained within script, do
        1.  Let F be [StringValue](https://262.ecma-international.org/12.0/#sec-static-semantics-stringvalue) of the [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier) of f.
        2.  If replacing the [FunctionDeclaration](https://262.ecma-international.org/12.0/#prod-FunctionDeclaration) f with a [VariableStatement](https://262.ecma-international.org/12.0/#prod-VariableStatement) that has F as a [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier) would not produce any Early Errors for script, then
            1.  If env.HasLexicalDeclaration(F) is false, then
                1.  Let fnDefinable be ? env.CanDeclareGlobalVar(F).
                2.  If fnDefinable is true, then
                    1.  NOTE: A var binding for F is only instantiated here if it is neither a VarDeclaredName nor the name of another [FunctionDeclaration](https://262.ecma-international.org/12.0/#prod-FunctionDeclaration).
                    2.  If declaredFunctionOrVarNames does not contain F, then
                        1.  Perform ? env.CreateGlobalVarBinding(F, false).
                        2.  Append F to declaredFunctionOrVarNames.
                    3.  When the [FunctionDeclaration](https://262.ecma-international.org/12.0/#prod-FunctionDeclaration) f is evaluated, perform the following steps in place of the [FunctionDeclaration](https://262.ecma-international.org/12.0/#prod-FunctionDeclaration) Evaluation algorithm provided in [15.2.6](https://262.ecma-international.org/12.0/#sec-function-definitions-runtime-semantics-evaluation):
                        1.  Let genv be the [running execution context](https://262.ecma-international.org/12.0/#running-execution-context)'s VariableEnvironment.
                        2.  Let benv be the [running execution context](https://262.ecma-international.org/12.0/#running-execution-context)'s LexicalEnvironment.
                        3.  Let fobj be ! benv.GetBindingValue(F, false).
                        4.  Perform ? genv.SetMutableBinding(F, fobj, false).
                        5.  Return [NormalCompletion](https://262.ecma-international.org/12.0/#sec-normalcompletion)(empty).

## B.3.3.3 Changes to EvalDeclarationInstantiation

During [EvalDeclarationInstantiation](https://262.ecma-international.org/12.0/#sec-evaldeclarationinstantiation) the following steps are performed in place of step [7](https://262.ecma-international.org/12.0/#step-evaldeclarationinstantiation-web-compat-insertion-point):

7.  If strict is false, then
    1.  Let declaredFunctionOrVarNames be a new empty [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type).
    2.  Append to declaredFunctionOrVarNames the elements of declaredFunctionNames.
    3.  Append to declaredFunctionOrVarNames the elements of declaredVarNames.
    4.  For each [FunctionDeclaration](https://262.ecma-international.org/12.0/#prod-FunctionDeclaration) f that is directly contained in the [StatementList](https://262.ecma-international.org/12.0/#prod-StatementList) of a [Block](https://262.ecma-international.org/12.0/#prod-Block), [CaseClause](https://262.ecma-international.org/12.0/#prod-CaseClause), or [DefaultClause](https://262.ecma-international.org/12.0/#prod-DefaultClause) Contained within body, do
        1.  Let F be [StringValue](https://262.ecma-international.org/12.0/#sec-static-semantics-stringvalue) of the [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier) of f.
        2.  If replacing the [FunctionDeclaration](https://262.ecma-international.org/12.0/#prod-FunctionDeclaration) f with a [VariableStatement](https://262.ecma-international.org/12.0/#prod-VariableStatement) that has F as a [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier) would not produce any Early Errors for body, then
            1.  Let bindingExists be false.
            2.  Let thisEnv be lexEnv.
            3.  [Assert](https://262.ecma-international.org/12.0/#assert): The following loop will terminate.
            4.  Repeat, while thisEnv is not the same as varEnv,
                1.  If thisEnv is not an [object Environment Record](https://262.ecma-international.org/12.0/#sec-object-environment-records), then
                    1.  If thisEnv.HasBinding(F) is true, then
                        1.  Let bindingExists be true.
                2.  Set thisEnv to thisEnv.\[\[OuterEnv\]\].
            5.  If bindingExists is false and varEnv is a [global Environment Record](https://262.ecma-international.org/12.0/#sec-global-environment-records), then
                1.  If varEnv.HasLexicalDeclaration(F) is false, then
                    1.  Let fnDefinable be ? varEnv.CanDeclareGlobalVar(F).
                2.  Else,
                    1.  Let fnDefinable be false.
            6.  Else,
                1.  Let fnDefinable be true.
            7.  If bindingExists is false and fnDefinable is true, then
                1.  If declaredFunctionOrVarNames does not contain F, then
                    1.  If varEnv is a [global Environment Record](https://262.ecma-international.org/12.0/#sec-global-environment-records), then
                        1.  Perform ? varEnv.CreateGlobalVarBinding(F, true).
                    2.  Else,
                        1.  Let bindingExists be varEnv.HasBinding(F).
                        2.  If bindingExists is false, then
                            1.  Perform ! varEnv.CreateMutableBinding(F, true).
                            2.  Perform ! varEnv.InitializeBinding(F, undefined).
                    3.  Append F to declaredFunctionOrVarNames.
                2.  When the [FunctionDeclaration](https://262.ecma-international.org/12.0/#prod-FunctionDeclaration) f is evaluated, perform the following steps in place of the [FunctionDeclaration](https://262.ecma-international.org/12.0/#prod-FunctionDeclaration) Evaluation algorithm provided in [15.2.6](https://262.ecma-international.org/12.0/#sec-function-definitions-runtime-semantics-evaluation):
                    1.  Let genv be the [running execution context](https://262.ecma-international.org/12.0/#running-execution-context)'s VariableEnvironment.
                    2.  Let benv be the [running execution context](https://262.ecma-international.org/12.0/#running-execution-context)'s LexicalEnvironment.
                    3.  Let fobj be ! benv.GetBindingValue(F, false).
                    4.  Perform ? genv.SetMutableBinding(F, fobj, false).
                    5.  Return [NormalCompletion](https://262.ecma-international.org/12.0/#sec-normalcompletion)(empty).

## B.3.3.4 Changes to Block Static Semantics: Early Errors

The rules for the following production in [14.2.1](https://262.ecma-international.org/12.0/#sec-block-static-semantics-early-errors) are modified with the addition of the highlighted text:

[Block](https://262.ecma-international.org/12.0/#prod-Block) : { [StatementList](https://262.ecma-international.org/12.0/#prod-StatementList) }

-   It is a Syntax Error if the [LexicallyDeclaredNames](https://262.ecma-international.org/12.0/#sec-static-semantics-lexicallydeclarednames) of [StatementList](https://262.ecma-international.org/12.0/#prod-StatementList) contains any duplicate entries, unless the source code matching this production is not [strict mode code](https://262.ecma-international.org/12.0/#sec-strict-mode-code) and the duplicate entries are only bound by FunctionDeclarations.
-   It is a Syntax Error if any element of the [LexicallyDeclaredNames](https://262.ecma-international.org/12.0/#sec-static-semantics-lexicallydeclarednames) of [StatementList](https://262.ecma-international.org/12.0/#prod-StatementList) also occurs in the [VarDeclaredNames](https://262.ecma-international.org/12.0/#sec-static-semantics-vardeclarednames) of [StatementList](https://262.ecma-international.org/12.0/#prod-StatementList).

## B.3.3.5 Changes to `switch` Statement Static Semantics: Early Errors

The rules for the following production in [14.12.1](https://262.ecma-international.org/12.0/#sec-switch-statement-static-semantics-early-errors) are modified with the addition of the highlighted text:

[SwitchStatement](https://262.ecma-international.org/12.0/#prod-SwitchStatement) : switch ( [Expression](https://262.ecma-international.org/12.0/#prod-Expression) ) [CaseBlock](https://262.ecma-international.org/12.0/#prod-CaseBlock)

-   It is a Syntax Error if the [LexicallyDeclaredNames](https://262.ecma-international.org/12.0/#sec-static-semantics-lexicallydeclarednames) of [CaseBlock](https://262.ecma-international.org/12.0/#prod-CaseBlock) contains any duplicate entries, unless the source code matching this production is not [strict mode code](https://262.ecma-international.org/12.0/#sec-strict-mode-code) and the duplicate entries are only bound by FunctionDeclarations.
-   It is a Syntax Error if any element of the [LexicallyDeclaredNames](https://262.ecma-international.org/12.0/#sec-static-semantics-lexicallydeclarednames) of [CaseBlock](https://262.ecma-international.org/12.0/#prod-CaseBlock) also occurs in the [VarDeclaredNames](https://262.ecma-international.org/12.0/#sec-static-semantics-vardeclarednames) of [CaseBlock](https://262.ecma-international.org/12.0/#prod-CaseBlock).

## B.3.3.6 Changes to BlockDeclarationInstantiation

During [BlockDeclarationInstantiation](https://262.ecma-international.org/12.0/#sec-blockdeclarationinstantiation) the following steps are performed in place of step [3.a.ii.1](https://262.ecma-international.org/12.0/#step-blockdeclarationinstantiation-createmutablebinding):

1.  If env.HasBinding(dn) is false, then
    1.  Perform ! env.CreateMutableBinding(dn, false).

During [BlockDeclarationInstantiation](https://262.ecma-international.org/12.0/#sec-blockdeclarationinstantiation) the following steps are performed in place of step [3.b.iii](https://262.ecma-international.org/12.0/#step-blockdeclarationinstantiation-initializebinding):

3.  If the binding for fn in env is an uninitialized binding, then
    1.  Perform env.InitializeBinding(fn, fo).
4.  Else,
    1.  [Assert](https://262.ecma-international.org/12.0/#assert): d is a [FunctionDeclaration](https://262.ecma-international.org/12.0/#prod-FunctionDeclaration).
    2.  Perform env.SetMutableBinding(fn, fo, false).

## B.3.4 FunctionDeclarations in IfStatement Statement Clauses

The following augments the [IfStatement](https://262.ecma-international.org/12.0/#prod-annexB-IfStatement) production in [14.6](https://262.ecma-international.org/12.0/#sec-if-statement):

[IfStatement](https://262.ecma-international.org/12.0/#prod-annexB-IfStatement)\[Yield, Await, Return\] : if ( [Expression](https://262.ecma-international.org/12.0/#prod-Expression)\[+In, ?Yield, ?Await\] ) [FunctionDeclaration](https://262.ecma-international.org/12.0/#prod-FunctionDeclaration)\[?Yield, ?Await, ~Default\] else [Statement](https://262.ecma-international.org/12.0/#prod-Statement)\[?Yield, ?Await, ?Return\] if ( [Expression](https://262.ecma-international.org/12.0/#prod-Expression)\[+In, ?Yield, ?Await\] ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement)\[?Yield, ?Await, ?Return\] else [FunctionDeclaration](https://262.ecma-international.org/12.0/#prod-FunctionDeclaration)\[?Yield, ?Await, ~Default\] if ( [Expression](https://262.ecma-international.org/12.0/#prod-Expression)\[+In, ?Yield, ?Await\] ) [FunctionDeclaration](https://262.ecma-international.org/12.0/#prod-FunctionDeclaration)\[?Yield, ?Await, ~Default\] else [FunctionDeclaration](https://262.ecma-international.org/12.0/#prod-FunctionDeclaration)\[?Yield, ?Await, ~Default\] if ( [Expression](https://262.ecma-international.org/12.0/#prod-Expression)\[+In, ?Yield, ?Await\] ) [FunctionDeclaration](https://262.ecma-international.org/12.0/#prod-FunctionDeclaration)\[?Yield, ?Await, ~Default\] \[lookahead ≠ else\]

This production only applies when parsing [non-strict code](https://262.ecma-international.org/12.0/#non-strict-code). Code matching this production is processed as if each matching occurrence of [FunctionDeclaration](https://262.ecma-international.org/12.0/#prod-FunctionDeclaration)\[?Yield, ?Await, ~Default\] was the sole [StatementListItem](https://262.ecma-international.org/12.0/#prod-StatementListItem) of a [BlockStatement](https://262.ecma-international.org/12.0/#prod-BlockStatement) occupying that position in the source code. The semantics of such a synthetic [BlockStatement](https://262.ecma-international.org/12.0/#prod-BlockStatement) includes the web legacy compatibility semantics specified in [B.3.3](https://262.ecma-international.org/12.0/#sec-block-level-function-declarations-web-legacy-compatibility-semantics).

## B.3.5 VariableStatements in Catch Blocks

The content of subclause [14.15.1](https://262.ecma-international.org/12.0/#sec-try-statement-static-semantics-early-errors) is replaced with the following:

[Catch](https://262.ecma-international.org/12.0/#prod-Catch) : catch ( [CatchParameter](https://262.ecma-international.org/12.0/#prod-CatchParameter) ) [Block](https://262.ecma-international.org/12.0/#prod-Block)

-   It is a Syntax Error if [BoundNames](https://262.ecma-international.org/12.0/#sec-static-semantics-boundnames) of [CatchParameter](https://262.ecma-international.org/12.0/#prod-CatchParameter) contains any duplicate elements.
-   It is a Syntax Error if any element of the [BoundNames](https://262.ecma-international.org/12.0/#sec-static-semantics-boundnames) of [CatchParameter](https://262.ecma-international.org/12.0/#prod-CatchParameter) also occurs in the [LexicallyDeclaredNames](https://262.ecma-international.org/12.0/#sec-static-semantics-lexicallydeclarednames) of [Block](https://262.ecma-international.org/12.0/#prod-Block).
-   It is a Syntax Error if any element of the [BoundNames](https://262.ecma-international.org/12.0/#sec-static-semantics-boundnames) of [CatchParameter](https://262.ecma-international.org/12.0/#prod-CatchParameter) also occurs in the [VarDeclaredNames](https://262.ecma-international.org/12.0/#sec-static-semantics-vardeclarednames) of [Block](https://262.ecma-international.org/12.0/#prod-Block) unless [CatchParameter](https://262.ecma-international.org/12.0/#prod-CatchParameter) is [CatchParameter](https://262.ecma-international.org/12.0/#prod-CatchParameter) : [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier) .

Note

The [Block](https://262.ecma-international.org/12.0/#prod-Block) of a [Catch](https://262.ecma-international.org/12.0/#prod-Catch) clause may contain `var` declarations that bind a name that is also bound by the [CatchParameter](https://262.ecma-international.org/12.0/#prod-CatchParameter). At runtime, such bindings are instantiated in the VariableDeclarationEnvironment. They do not shadow the same-named bindings introduced by the [CatchParameter](https://262.ecma-international.org/12.0/#prod-CatchParameter) and hence the [Initializer](https://262.ecma-international.org/12.0/#prod-Initializer) for such `var` declarations will assign to the corresponding catch parameter rather than the `var` binding.

This modified behaviour also applies to `var` and `function` declarations introduced by [direct eval](https://262.ecma-international.org/12.0/#sec-function-calls-runtime-semantics-evaluation) calls contained within the [Block](https://262.ecma-international.org/12.0/#prod-Block) of a [Catch](https://262.ecma-international.org/12.0/#prod-Catch) clause. This change is accomplished by modifying the algorithm of [19.2.1.3](https://262.ecma-international.org/12.0/#sec-evaldeclarationinstantiation) as follows:

Step [3.d.i.2.a.i](https://262.ecma-international.org/12.0/#step-evaldeclarationinstantiation-throw-duplicate-binding) is replaced by:

1.  If thisEnv is not the [Environment Record](https://262.ecma-international.org/12.0/#sec-environment-records) for a [Catch](https://262.ecma-international.org/12.0/#prod-Catch) clause, throw a SyntaxError exception.

Step [7.d.ii.4.a.i.i](https://262.ecma-international.org/12.0/#step-evaldeclarationinstantiation-web-compat-bindingexists) is replaced by:

1.  If thisEnv is not the [Environment Record](https://262.ecma-international.org/12.0/#sec-environment-records) for a [Catch](https://262.ecma-international.org/12.0/#prod-Catch) clause, let bindingExists be true.

## B.3.6 Initializers in ForIn Statement Heads

The following augments the [ForInOfStatement](https://262.ecma-international.org/12.0/#prod-annexB-ForInOfStatement) production in [14.7.5](https://262.ecma-international.org/12.0/#sec-for-in-and-for-of-statements):

[ForInOfStatement](https://262.ecma-international.org/12.0/#prod-annexB-ForInOfStatement)\[Yield, Await, Return\] : for ( var [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier)\[?Yield, ?Await\] [Initializer](https://262.ecma-international.org/12.0/#prod-Initializer)\[~In, ?Yield, ?Await\] in [Expression](https://262.ecma-international.org/12.0/#prod-Expression)\[+In, ?Yield, ?Await\] ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement)\[?Yield, ?Await, ?Return\]

This production only applies when parsing [non-strict code](https://262.ecma-international.org/12.0/#non-strict-code).

The [static semantics](https://262.ecma-international.org/12.0/#sec-static-semantic-rules) of [ContainsDuplicateLabels](https://262.ecma-international.org/12.0/#sec-static-semantics-containsduplicatelabels) in [8.2.1](https://262.ecma-international.org/12.0/#sec-static-semantics-containsduplicatelabels) are augmented with the following:

[ForInOfStatement](https://262.ecma-international.org/12.0/#prod-annexB-ForInOfStatement) : for ( var [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier) [Initializer](https://262.ecma-international.org/12.0/#prod-Initializer) in [Expression](https://262.ecma-international.org/12.0/#prod-Expression) ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement)

1.  Return [ContainsDuplicateLabels](https://262.ecma-international.org/12.0/#sec-static-semantics-containsduplicatelabels) of [Statement](https://262.ecma-international.org/12.0/#prod-Statement) with argument labelSet.

The [static semantics](https://262.ecma-international.org/12.0/#sec-static-semantic-rules) of [ContainsUndefinedBreakTarget](https://262.ecma-international.org/12.0/#sec-static-semantics-containsundefinedbreaktarget) in [8.2.2](https://262.ecma-international.org/12.0/#sec-static-semantics-containsundefinedbreaktarget) are augmented with the following:

[ForInOfStatement](https://262.ecma-international.org/12.0/#prod-annexB-ForInOfStatement) : for ( var [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier) [Initializer](https://262.ecma-international.org/12.0/#prod-Initializer) in [Expression](https://262.ecma-international.org/12.0/#prod-Expression) ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement)

1.  Return [ContainsUndefinedBreakTarget](https://262.ecma-international.org/12.0/#sec-static-semantics-containsundefinedbreaktarget) of [Statement](https://262.ecma-international.org/12.0/#prod-Statement) with argument labelSet.

The [static semantics](https://262.ecma-international.org/12.0/#sec-static-semantic-rules) of [ContainsUndefinedContinueTarget](https://262.ecma-international.org/12.0/#sec-static-semantics-containsundefinedcontinuetarget) in [8.2.3](https://262.ecma-international.org/12.0/#sec-static-semantics-containsundefinedcontinuetarget) are augmented with the following:

[ForInOfStatement](https://262.ecma-international.org/12.0/#prod-annexB-ForInOfStatement) : for ( var [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier) [Initializer](https://262.ecma-international.org/12.0/#prod-Initializer) in [Expression](https://262.ecma-international.org/12.0/#prod-Expression) ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement)

1.  Return [ContainsUndefinedContinueTarget](https://262.ecma-international.org/12.0/#sec-static-semantics-containsundefinedcontinuetarget) of [Statement](https://262.ecma-international.org/12.0/#prod-Statement) with arguments iterationSet and « ».

The [static semantics](https://262.ecma-international.org/12.0/#sec-static-semantic-rules) of [IsDestructuring](https://262.ecma-international.org/12.0/#sec-static-semantics-isdestructuring) in [14.7.5.2](https://262.ecma-international.org/12.0/#sec-static-semantics-isdestructuring) are augmented with the following:

[BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier) : [Identifier](https://262.ecma-international.org/12.0/#prod-Identifier) yield await

1.  Return false.

The [static semantics](https://262.ecma-international.org/12.0/#sec-static-semantic-rules) of [VarDeclaredNames](https://262.ecma-international.org/12.0/#sec-static-semantics-vardeclarednames) in [8.1.6](https://262.ecma-international.org/12.0/#sec-static-semantics-vardeclarednames) are augmented with the following:

[ForInOfStatement](https://262.ecma-international.org/12.0/#prod-annexB-ForInOfStatement) : for ( var [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier) [Initializer](https://262.ecma-international.org/12.0/#prod-Initializer) in [Expression](https://262.ecma-international.org/12.0/#prod-Expression) ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement)

1.  Let names be the [BoundNames](https://262.ecma-international.org/12.0/#sec-static-semantics-boundnames) of [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier).
2.  Append to names the elements of the [VarDeclaredNames](https://262.ecma-international.org/12.0/#sec-static-semantics-vardeclarednames) of [Statement](https://262.ecma-international.org/12.0/#prod-Statement).
3.  Return names.

The [static semantics](https://262.ecma-international.org/12.0/#sec-static-semantic-rules) of [VarScopedDeclarations](https://262.ecma-international.org/12.0/#sec-static-semantics-varscopeddeclarations) in [8.1.7](https://262.ecma-international.org/12.0/#sec-static-semantics-varscopeddeclarations) are augmented with the following:

[ForInOfStatement](https://262.ecma-international.org/12.0/#prod-annexB-ForInOfStatement) : for ( var [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier) [Initializer](https://262.ecma-international.org/12.0/#prod-Initializer) in [Expression](https://262.ecma-international.org/12.0/#prod-Expression) ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement)

1.  Let declarations be a [List](https://262.ecma-international.org/12.0/#sec-list-and-record-specification-type) whose sole element is [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier).
2.  Append to declarations the elements of the [VarScopedDeclarations](https://262.ecma-international.org/12.0/#sec-static-semantics-varscopeddeclarations) of [Statement](https://262.ecma-international.org/12.0/#prod-Statement).
3.  Return declarations.

The [runtime semantics](https://262.ecma-international.org/12.0/#sec-runtime-semantics) of [ForInOfLoopEvaluation](https://262.ecma-international.org/12.0/#sec-runtime-semantics-forinofloopevaluation) in [14.7.5.5](https://262.ecma-international.org/12.0/#sec-runtime-semantics-forinofloopevaluation) are augmented with the following:

[ForInOfStatement](https://262.ecma-international.org/12.0/#prod-annexB-ForInOfStatement) : for ( var [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier) [Initializer](https://262.ecma-international.org/12.0/#prod-Initializer) in [Expression](https://262.ecma-international.org/12.0/#prod-Expression) ) [Statement](https://262.ecma-international.org/12.0/#prod-Statement)

1.  Let bindingId be [StringValue](https://262.ecma-international.org/12.0/#sec-static-semantics-stringvalue) of [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier).
2.  Let lhs be ? [ResolveBinding](https://262.ecma-international.org/12.0/#sec-resolvebinding)(bindingId).
3.  If [IsAnonymousFunctionDefinition](https://262.ecma-international.org/12.0/#sec-isanonymousfunctiondefinition)([Initializer](https://262.ecma-international.org/12.0/#prod-Initializer)) is true, then
    1.  Let value be [NamedEvaluation](https://262.ecma-international.org/12.0/#sec-runtime-semantics-namedevaluation) of [Initializer](https://262.ecma-international.org/12.0/#prod-Initializer) with argument bindingId.
4.  Else,
    1.  Let rhs be the result of evaluating [Initializer](https://262.ecma-international.org/12.0/#prod-Initializer).
    2.  Let value be ? [GetValue](https://262.ecma-international.org/12.0/#sec-getvalue)(rhs).
5.  Perform ? [PutValue](https://262.ecma-international.org/12.0/#sec-putvalue)(lhs, value).
6.  Let keyResult be ? [ForIn/OfHeadEvaluation](https://262.ecma-international.org/12.0/#sec-runtime-semantics-forinofheadevaluation)(« », [Expression](https://262.ecma-international.org/12.0/#prod-Expression), enumerate).
7.  Return ? [ForIn/OfBodyEvaluation](https://262.ecma-international.org/12.0/#sec-runtime-semantics-forin-div-ofbodyevaluation-lhs-stmt-iterator-lhskind-labelset)([BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier), [Statement](https://262.ecma-international.org/12.0/#prod-Statement), keyResult, enumerate, varBinding, labelSet).

## B.3.7 The \[\[IsHTMLDDA\]\] Internal Slot

An \[\[IsHTMLDDA\]\] internal slot may exist on [host-defined](https://262.ecma-international.org/12.0/#host-defined) objects. Objects with an \[\[IsHTMLDDA\]\] internal slot behave like undefined in the [ToBoolean](https://262.ecma-international.org/12.0/#sec-toboolean) and [Abstract Equality Comparison](https://262.ecma-international.org/12.0/#sec-abstract-equality-comparison) [abstract operations](https://262.ecma-international.org/12.0/#sec-algorithm-conventions-abstract-operations) and when used as an operand for the [`typeof` operator](https://262.ecma-international.org/12.0/#sec-typeof-operator).

Note

Objects with an \[\[IsHTMLDDA\]\] internal slot are never created by this specification. However, the [`document.all` object](https://html.spec.whatwg.org/multipage/obsolete.html#dom-document-all) in web browsers is a [host-defined](https://262.ecma-international.org/12.0/#host-defined) [exotic object](https://262.ecma-international.org/12.0/#exotic-object) with this slot that exists for web compatibility purposes. There are no other known examples of this type of object and implementations should not create any with the exception of `document.all`.

## B.3.7.1 Changes to ToBoolean

The result column in [Table 11](https://262.ecma-international.org/12.0/#table-toboolean-conversions) for an argument type of Object is replaced with the following algorithm:

1.  If argument has an [\[\[IsHTMLDDA\]\] internal slot](https://262.ecma-international.org/12.0/#sec-IsHTMLDDA-internal-slot), return false.
2.  Return true.

## B.3.7.2 Changes to Abstract Equality Comparison

The following steps replace step [4](https://262.ecma-international.org/12.0/#step-abstract-equality-comparison-web-compat-insertion-point) of the [Abstract Equality Comparison](https://262.ecma-international.org/12.0/#sec-abstract-equality-comparison) algorithm:

1.  If [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(x) is Object and x has an [\[\[IsHTMLDDA\]\] internal slot](https://262.ecma-international.org/12.0/#sec-IsHTMLDDA-internal-slot) and y is either null or undefined, return true.
2.  If x is either null or undefined and [Type](https://262.ecma-international.org/12.0/#sec-ecmascript-data-types-and-values)(y) is Object and y has an [\[\[IsHTMLDDA\]\] internal slot](https://262.ecma-international.org/12.0/#sec-IsHTMLDDA-internal-slot), return true.

## B.3.7.3 Changes to the `typeof` Operator

The following table entry is inserted into [Table 37](https://262.ecma-international.org/12.0/#table-typeof-operator-results) immediately preceding the entry for "Object (implements \[\[Call\]\])":

Table 83: Additional [`typeof`](https://262.ecma-international.org/12.0/#sec-typeof-operator) Operator Results

| Type of val | Result |
| --- | --- |
| Object (has an [\[\[IsHTMLDDA\]\] internal slot](https://262.ecma-international.org/12.0/#sec-IsHTMLDDA-internal-slot)) | "undefined" |

## C The Strict Mode of ECMAScript

**The strict mode restriction and exceptions**

-   `implements`, `interface`, `let`, `package`, `private`, `protected`, `public`, `static`, and `yield` are reserved words within [strict mode code](https://262.ecma-international.org/12.0/#sec-strict-mode-code). ([12.6.2](https://262.ecma-international.org/12.0/#sec-keywords-and-reserved-words)).
-   A conforming implementation, when processing [strict mode code](https://262.ecma-international.org/12.0/#sec-strict-mode-code), must not extend, as described in [B.1.1](https://262.ecma-international.org/12.0/#sec-additional-syntax-numeric-literals), the syntax of [NumericLiteral](https://262.ecma-international.org/12.0/#prod-NumericLiteral) to include [LegacyOctalIntegerLiteral](https://262.ecma-international.org/12.0/#prod-annexB-LegacyOctalIntegerLiteral), nor extend the syntax of [DecimalIntegerLiteral](https://262.ecma-international.org/12.0/#prod-DecimalIntegerLiteral) to include [NonOctalDecimalIntegerLiteral](https://262.ecma-international.org/12.0/#prod-annexB-NonOctalDecimalIntegerLiteral).
-   A conforming implementation, when processing [strict mode code](https://262.ecma-international.org/12.0/#sec-strict-mode-code), may not extend the syntax of [EscapeSequence](https://262.ecma-international.org/12.0/#prod-EscapeSequence) to include [LegacyOctalEscapeSequence](https://262.ecma-international.org/12.0/#prod-annexB-LegacyOctalEscapeSequence) or [NonOctalDecimalEscapeSequence](https://262.ecma-international.org/12.0/#prod-annexB-NonOctalDecimalEscapeSequence) as described in [B.1.2](https://262.ecma-international.org/12.0/#sec-additional-syntax-string-literals).
-   Assignment to an undeclared identifier or otherwise unresolvable reference does not create a property in the [global object](https://262.ecma-international.org/12.0/#sec-global-object). When a simple assignment occurs within [strict mode code](https://262.ecma-international.org/12.0/#sec-strict-mode-code), its [LeftHandSideExpression](https://262.ecma-international.org/12.0/#prod-LeftHandSideExpression) must not evaluate to an unresolvable [Reference](https://tc39.es/ecma262/#sec-reference-specification-type). If it does a ReferenceError exception is thrown ([6.2.4.5](https://262.ecma-international.org/12.0/#sec-putvalue)). The [LeftHandSideExpression](https://262.ecma-international.org/12.0/#prod-LeftHandSideExpression) also may not be a reference to a [data property](https://262.ecma-international.org/12.0/#sec-object-type) with the attribute value { \[\[Writable\]\]: false }, to an [accessor property](https://262.ecma-international.org/12.0/#sec-object-type) with the attribute value { \[\[Set\]\]: undefined }, nor to a non-existent property of an object whose \[\[Extensible\]\] internal slot has the value false. In these cases a `TypeError` exception is thrown ([13.15](https://262.ecma-international.org/12.0/#sec-assignment-operators)).
-   An [IdentifierReference](https://262.ecma-international.org/12.0/#prod-IdentifierReference) with the [StringValue](https://262.ecma-international.org/12.0/#sec-static-semantics-stringvalue) "eval" or "arguments" may not appear as the [LeftHandSideExpression](https://262.ecma-international.org/12.0/#prod-LeftHandSideExpression) of an Assignment operator ([13.15](https://262.ecma-international.org/12.0/#sec-assignment-operators)) or of an [UpdateExpression](https://262.ecma-international.org/12.0/#prod-UpdateExpression) ([13.4](https://262.ecma-international.org/12.0/#sec-update-expressions)) or as the [UnaryExpression](https://262.ecma-international.org/12.0/#prod-UnaryExpression) operated upon by a Prefix Increment ([13.4.4](https://262.ecma-international.org/12.0/#sec-prefix-increment-operator)) or a Prefix Decrement ([13.4.5](https://262.ecma-international.org/12.0/#sec-prefix-decrement-operator)) operator.
-   Arguments objects for strict functions define a non-configurable [accessor property](https://262.ecma-international.org/12.0/#sec-object-type) "callee" which throws a TypeError exception on access ([10.4.4.6](https://262.ecma-international.org/12.0/#sec-createunmappedargumentsobject)).
-   Arguments objects for strict functions do not dynamically share their [array-indexed](https://262.ecma-international.org/12.0/#array-index) property values with the corresponding formal parameter bindings of their functions. ([10.4.4](https://262.ecma-international.org/12.0/#sec-arguments-exotic-objects)).
-   For strict functions, if an arguments object is created the binding of the local identifier `arguments` to the arguments object is immutable and hence may not be the target of an assignment expression. ([10.2.10](https://262.ecma-international.org/12.0/#sec-functiondeclarationinstantiation)).
-   It is a SyntaxError if the [StringValue](https://262.ecma-international.org/12.0/#sec-static-semantics-stringvalue) of a [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier) is "eval" or "arguments" within [strict mode code](https://262.ecma-international.org/12.0/#sec-strict-mode-code) ([13.1.1](https://262.ecma-international.org/12.0/#sec-identifiers-static-semantics-early-errors)).
-   Strict mode eval code cannot instantiate variables or functions in the variable environment of the caller to eval. Instead, a new variable environment is created and that environment is used for declaration binding instantiation for the eval code ([19.2.1](https://262.ecma-international.org/12.0/#sec-eval-x)).
-   If this is evaluated within [strict mode code](https://262.ecma-international.org/12.0/#sec-strict-mode-code), then the this value is not coerced to an object. A this value of undefined or null is not converted to the [global object](https://262.ecma-international.org/12.0/#sec-global-object) and primitive values are not converted to wrapper objects. The this value passed via a function call (including calls made using `Function.prototype.apply` and `Function.prototype.call`) do not coerce the passed this value to an object ([10.2.1.2](https://262.ecma-international.org/12.0/#sec-ordinarycallbindthis), [20.2.3.1](https://262.ecma-international.org/12.0/#sec-function.prototype.apply), [20.2.3.3](https://262.ecma-international.org/12.0/#sec-function.prototype.call)).
-   When a `delete` operator occurs within [strict mode code](https://262.ecma-international.org/12.0/#sec-strict-mode-code), a SyntaxError is thrown if its [UnaryExpression](https://262.ecma-international.org/12.0/#prod-UnaryExpression) is a direct reference to a variable, function argument, or function name ([13.5.1.1](https://262.ecma-international.org/12.0/#sec-delete-operator-static-semantics-early-errors)).
-   When a `delete` operator occurs within [strict mode code](https://262.ecma-international.org/12.0/#sec-strict-mode-code), a TypeError is thrown if the property to be deleted has the attribute { \[\[Configurable\]\]: false } or otherwise cannot be deleted ([13.5.1.2](https://262.ecma-international.org/12.0/#sec-delete-operator-runtime-semantics-evaluation)).
-   [Strict mode code](https://262.ecma-international.org/12.0/#sec-strict-mode-code) may not include a [WithStatement](https://262.ecma-international.org/12.0/#prod-WithStatement). The occurrence of a [WithStatement](https://262.ecma-international.org/12.0/#prod-WithStatement) in such a context is a SyntaxError ([14.11.1](https://262.ecma-international.org/12.0/#sec-with-statement-static-semantics-early-errors)).
-   It is a SyntaxError if a [CatchParameter](https://262.ecma-international.org/12.0/#prod-CatchParameter) occurs within [strict mode code](https://262.ecma-international.org/12.0/#sec-strict-mode-code) and [BoundNames](https://262.ecma-international.org/12.0/#sec-static-semantics-boundnames) of [CatchParameter](https://262.ecma-international.org/12.0/#prod-CatchParameter) contains either `eval` or `arguments` ([14.15.1](https://262.ecma-international.org/12.0/#sec-try-statement-static-semantics-early-errors)).
-   It is a SyntaxError if the same [BindingIdentifier](https://262.ecma-international.org/12.0/#prod-BindingIdentifier) appears more than once in the [FormalParameters](https://262.ecma-international.org/12.0/#prod-FormalParameters) of a [strict function](https://262.ecma-international.org/12.0/#strict-function). An attempt to create such a function using a Function, Generator, or AsyncFunction [constructor](https://262.ecma-international.org/12.0/#constructor) is a SyntaxError ([15.2.1](https://262.ecma-international.org/12.0/#sec-function-definitions-static-semantics-early-errors), [20.2.1.1.1](https://262.ecma-international.org/12.0/#sec-createdynamicfunction)).
-   An implementation may not extend, beyond that defined in this specification, the meanings within strict functions of properties named "caller" or "arguments" of function instances.

## D Host Layering Points

See [4.2](https://262.ecma-international.org/12.0/#sec-hosts-and-implementations) for the definition of [host](https://262.ecma-international.org/12.0/#host).

## D.1 Host Hooks

**[HostCallJobCallback](https://262.ecma-international.org/12.0/#sec-hostcalljobcallback)(...)**

**[HostEnqueueFinalizationRegistryCleanupJob](https://262.ecma-international.org/12.0/#sec-host-cleanup-finalization-registry)(...)**

**[HostEnqueuePromiseJob](https://262.ecma-international.org/12.0/#sec-hostenqueuepromisejob)(...)**

**[HostEnsureCanCompileStrings](https://262.ecma-international.org/12.0/#sec-hostensurecancompilestrings)(...)**

**[HostFinalizeImportMeta](https://262.ecma-international.org/12.0/#sec-hostfinalizeimportmeta)(...)**

**[HostGetImportMetaProperties](https://262.ecma-international.org/12.0/#sec-hostgetimportmetaproperties)(...)**

**[HostHasSourceTextAvailable](https://262.ecma-international.org/12.0/#sec-hosthassourcetextavailable)(...)**

**[HostImportModuleDynamically](https://262.ecma-international.org/12.0/#sec-hostimportmoduledynamically)(...)**

**[HostMakeJobCallback](https://262.ecma-international.org/12.0/#sec-hostmakejobcallback)(...)**

**[HostPromiseRejectionTracker](https://262.ecma-international.org/12.0/#sec-host-promise-rejection-tracker)(...)**

**[HostResolveImportedModule](https://262.ecma-international.org/12.0/#sec-hostresolveimportedmodule)(...)**

**[InitializeHostDefinedRealm](https://262.ecma-international.org/12.0/#sec-initializehostdefinedrealm)(...)**

## D.2 Host-defined Fields

\[\[HostDefined\]\] on [Realm](https://262.ecma-international.org/12.0/#realm) Records: See [Table 23](https://262.ecma-international.org/12.0/#table-realm-record-fields).

\[\[HostDefined\]\] on Script Records: See [Table 39](https://262.ecma-international.org/12.0/#table-script-records).

\[\[HostDefined\]\] on Module Records: See [Table 40](https://262.ecma-international.org/12.0/#table-module-record-fields).

\[\[HostDefined\]\] on JobCallback Records: See [Table 27](https://262.ecma-international.org/12.0/#table-jobcallback-records).

\[\[HostSynchronizesWith\]\] on Candidate Executions: See [Table 81](https://262.ecma-international.org/12.0/#table-candidate-execution-records).

\[\[IsHTMLDDA\]\]: See [B.3.7](https://262.ecma-international.org/12.0/#sec-IsHTMLDDA-internal-slot).

## D.3 Host-defined Objects

The [global object](https://262.ecma-international.org/12.0/#sec-global-object): See clause [19](https://262.ecma-international.org/12.0/#sec-global-object).

## D.4 Running Jobs

Preparation steps before, and cleanup steps after, invocation of [Job](https://262.ecma-international.org/12.0/#job) Abstract Closures. See [9.4](https://262.ecma-international.org/12.0/#sec-jobs).

## D.5 Internal Methods of Exotic Objects

Any of the essential internal methods in [Table 6](https://262.ecma-international.org/12.0/#table-essential-internal-methods) for any [exotic object](https://262.ecma-international.org/12.0/#exotic-object) not specified within this specification.

## D.6 Built-in Objects and Methods

Any built-in objects and methods not defined within this specification, except as restricted in [17.1](https://262.ecma-international.org/12.0/#sec-forbidden-extensions).

## E Corrections and Clarifications in ECMAScript 2015 with Possible Compatibility Impact

[9.1.1.4.15](https://262.ecma-international.org/12.0/#sec-candeclareglobalvar)\-[9.1.1.4.18](https://262.ecma-international.org/12.0/#sec-createglobalfunctionbinding) Edition 5 and 5.1 used a property existence test to determine whether a [global object](https://262.ecma-international.org/12.0/#sec-global-object) property corresponding to a new global declaration already existed. ECMAScript 2015 uses an own property existence test. This corresponds to what has been most commonly implemented by web browsers.

[10.4.2.1](https://262.ecma-international.org/12.0/#sec-array-exotic-objects-defineownproperty-p-desc): The 5th Edition moved the capture of the current array length prior to the [integer](https://262.ecma-international.org/12.0/#integer) conversion of the [array index](https://262.ecma-international.org/12.0/#array-index) or new length value. However, the captured length value could become invalid if the conversion process has the side-effect of changing the array length. ECMAScript 2015 specifies that the current array length must be captured after the possible occurrence of such side-effects.

[21.4.1.14](https://262.ecma-international.org/12.0/#sec-timeclip): Previous editions permitted the [TimeClip](https://262.ecma-international.org/12.0/#sec-timeclip) abstract operation to return either +0𝔽 or \-0𝔽 as the representation of a 0 [time value](https://262.ecma-international.org/12.0/#sec-time-values-and-time-range). ECMAScript 2015 specifies that +0𝔽 always returned. This means that for ECMAScript 2015 the [time value](https://262.ecma-international.org/12.0/#sec-time-values-and-time-range) of a Date object is never observably \-0𝔽 and methods that return time values never return \-0𝔽.

[21.4.1.15](https://262.ecma-international.org/12.0/#sec-date-time-string-format): If a UTC offset representation is not present, the local time zone is used. Edition 5.1 incorrectly stated that a missing time zone should be interpreted as "z".

[21.4.4.36](https://262.ecma-international.org/12.0/#sec-date.prototype.toisostring): If the year cannot be represented using the Date Time String Format specified in [21.4.1.15](https://262.ecma-international.org/12.0/#sec-date-time-string-format) a RangeError exception is thrown. Previous editions did not specify the behaviour for that case.

[21.4.4.41](https://262.ecma-international.org/12.0/#sec-date.prototype.tostring): Previous editions did not specify the value returned by `Date.prototype.toString` when [this time value](https://262.ecma-international.org/12.0/#this-time-value) is NaN. ECMAScript 2015 specifies the result to be the String value "Invalid Date".

[22.2.3.1](https://262.ecma-international.org/12.0/#sec-regexp-pattern-flags), [22.2.3.2.5](https://262.ecma-international.org/12.0/#sec-escaperegexppattern): Any LineTerminator code points in the value of the "source" property of a RegExp instance must be expressed using an escape sequence. Edition 5.1 only required the escaping of `/`.

[22.2.5.7](https://262.ecma-international.org/12.0/#sec-regexp.prototype-@@match), [22.2.5.10](https://262.ecma-international.org/12.0/#sec-regexp.prototype-@@replace): In previous editions, the specifications for `String.prototype.match` and `String.prototype.replace` was incorrect for cases where the pattern argument was a RegExp value whose `global` flag is set. The previous specifications stated that for each attempt to match the pattern, if `lastIndex` did not change it should be incremented by 1. The correct behaviour is that `lastIndex` should be incremented by one only if the pattern matched the empty String.

[23.1.3.27](https://262.ecma-international.org/12.0/#sec-array.prototype.sort), [23.1.3.27.1](https://262.ecma-international.org/12.0/#sec-sortcompare): Previous editions did not specify how a NaN value returned by a comparefn was interpreted by `Array.prototype.sort`. ECMAScript 2015 specifies that such as value is treated as if +0𝔽 was returned from the comparefn. ECMAScript 2015 also specifies that [ToNumber](https://262.ecma-international.org/12.0/#sec-tonumber) is applied to the result returned by a comparefn. In previous editions, the effect of a comparefn result that is not a [Number value](https://262.ecma-international.org/12.0/#number-value) was [implementation-defined](https://262.ecma-international.org/12.0/#implementation-defined). In practice, implementations call [ToNumber](https://262.ecma-international.org/12.0/#sec-tonumber).

## F Additions and Changes That Introduce Incompatibilities with Prior Editions

[6.2.4](https://262.ecma-international.org/12.0/#sec-reference-record-specification-type): In ECMAScript 2015, Function calls are not allowed to return a [Reference Record](https://262.ecma-international.org/12.0/#sec-reference-record-specification-type).

[7.1.4.1](https://262.ecma-international.org/12.0/#sec-tonumber-applied-to-the-string-type): In ECMAScript 2015, [ToNumber](https://262.ecma-international.org/12.0/#sec-tonumber) applied to a String value now recognizes and converts [BinaryIntegerLiteral](https://262.ecma-international.org/12.0/#prod-BinaryIntegerLiteral) and [OctalIntegerLiteral](https://262.ecma-international.org/12.0/#prod-OctalIntegerLiteral) numeric strings. In previous editions such strings were converted to NaN.

[9.2](https://262.ecma-international.org/12.0/#sec-code-realms): In ECMAScript 2018, Template objects are canonicalized based on [Parse Node](https://262.ecma-international.org/12.0/#sec-syntactic-grammar) (source location), instead of across all occurrences of that template literal or tagged template in a [Realm](https://262.ecma-international.org/12.0/#realm) in previous editions.

[12.2](https://262.ecma-international.org/12.0/#sec-white-space): In ECMAScript 2016, Unicode 8.0.0 or higher is mandated, as opposed to ECMAScript 2015 which mandated Unicode 5.1. In particular, this caused U+180E MONGOLIAN VOWEL SEPARATOR, which was in the `Space_Separator` (`Zs`) category and thus treated as whitespace in ECMAScript 2015, to be moved to the `Format` (`Cf`) category (as of Unicode 6.3.0). This causes whitespace-sensitive methods to behave differently. For example, `"\u180E".trim().length` was `0` in previous editions, but `1` in ECMAScript 2016 and later. Additionally, ECMAScript 2017 mandated always using the latest version of the Unicode standard.

[12.6](https://262.ecma-international.org/12.0/#sec-names-and-keywords): In ECMAScript 2015, the valid code points for an [IdentifierName](https://262.ecma-international.org/12.0/#prod-IdentifierName) are specified in terms of the Unicode properties “ID\_Start” and “ID\_Continue”. In previous editions, the valid [IdentifierName](https://262.ecma-international.org/12.0/#prod-IdentifierName) or [Identifier](https://262.ecma-international.org/12.0/#prod-Identifier) code points were specified by enumerating various Unicode code point categories.

[12.9.1](https://262.ecma-international.org/12.0/#sec-rules-of-automatic-semicolon-insertion): In ECMAScript 2015, Automatic Semicolon Insertion adds a semicolon at the end of a do-while statement if the semicolon is missing. This change aligns the specification with the actual behaviour of most existing implementations.

[13.2.6.1](https://262.ecma-international.org/12.0/#sec-object-initializer-static-semantics-early-errors): In ECMAScript 2015, it is no longer an [early error](https://262.ecma-international.org/12.0/#early-error) to have duplicate property names in Object Initializers.

[13.15.1](https://262.ecma-international.org/12.0/#sec-assignment-operators-static-semantics-early-errors): In ECMAScript 2015, [strict mode code](https://262.ecma-international.org/12.0/#sec-strict-mode-code) containing an assignment to an immutable binding such as the function name of a [FunctionExpression](https://262.ecma-international.org/12.0/#prod-FunctionExpression) does not produce an [early error](https://262.ecma-international.org/12.0/#early-error). Instead it produces a runtime error.

[14.2](https://262.ecma-international.org/12.0/#sec-block): In ECMAScript 2015, a [StatementList](https://262.ecma-international.org/12.0/#prod-StatementList) beginning with the token let followed by the input elements [LineTerminator](https://262.ecma-international.org/12.0/#prod-LineTerminator) then [Identifier](https://262.ecma-international.org/12.0/#prod-Identifier) is the start of a [LexicalDeclaration](https://262.ecma-international.org/12.0/#prod-LexicalDeclaration). In previous editions, automatic semicolon insertion would always insert a semicolon before the [Identifier](https://262.ecma-international.org/12.0/#prod-Identifier) input element.

[14.5](https://262.ecma-international.org/12.0/#sec-expression-statement): In ECMAScript 2015, a [StatementListItem](https://262.ecma-international.org/12.0/#prod-StatementListItem) beginning with the token `let` followed by the token `[` is the start of a [LexicalDeclaration](https://262.ecma-international.org/12.0/#prod-LexicalDeclaration). In previous editions such a sequence would be the start of an [ExpressionStatement](https://262.ecma-international.org/12.0/#prod-ExpressionStatement).

[14.6.2](https://262.ecma-international.org/12.0/#sec-if-statement-runtime-semantics-evaluation): In ECMAScript 2015, the normal completion value of an [IfStatement](https://262.ecma-international.org/12.0/#prod-IfStatement) is never the value empty. If no [Statement](https://262.ecma-international.org/12.0/#prod-Statement) part is evaluated or if the evaluated [Statement](https://262.ecma-international.org/12.0/#prod-Statement) part produces a normal completion whose value is empty, the completion value of the [IfStatement](https://262.ecma-international.org/12.0/#prod-IfStatement) is undefined.

[14.7](https://262.ecma-international.org/12.0/#sec-iteration-statements): In ECMAScript 2015, if the `(` token of a for statement is immediately followed by the token sequence `let [` then the `let` is treated as the start of a [LexicalDeclaration](https://262.ecma-international.org/12.0/#prod-LexicalDeclaration). In previous editions such a token sequence would be the start of an [Expression](https://262.ecma-international.org/12.0/#prod-Expression).

[14.7](https://262.ecma-international.org/12.0/#sec-iteration-statements): In ECMAScript 2015, if the ( token of a for-in statement is immediately followed by the token sequence `let [` then the `let` is treated as the start of a [ForDeclaration](https://262.ecma-international.org/12.0/#prod-ForDeclaration). In previous editions such a token sequence would be the start of an [LeftHandSideExpression](https://262.ecma-international.org/12.0/#prod-LeftHandSideExpression).

[14.7](https://262.ecma-international.org/12.0/#sec-iteration-statements): Prior to ECMAScript 2015, an initialization expression could appear as part of the [VariableDeclaration](https://262.ecma-international.org/12.0/#prod-VariableDeclaration) that precedes the `in` [keyword](https://262.ecma-international.org/12.0/#sec-keywords-and-reserved-words). In ECMAScript 2015, the [ForBinding](https://262.ecma-international.org/12.0/#prod-ForBinding) in that same position does not allow the occurrence of such an initializer. In ECMAScript 2017, such an initializer is permitted only in [non-strict code](https://262.ecma-international.org/12.0/#non-strict-code).

[14.7](https://262.ecma-international.org/12.0/#sec-iteration-statements): In ECMAScript 2015, the completion value of an [IterationStatement](https://262.ecma-international.org/12.0/#prod-IterationStatement) is never the value empty. If the [Statement](https://262.ecma-international.org/12.0/#prod-Statement) part of an [IterationStatement](https://262.ecma-international.org/12.0/#prod-IterationStatement) is not evaluated or if the final evaluation of the [Statement](https://262.ecma-international.org/12.0/#prod-Statement) part produces a completion whose value is empty, the completion value of the [IterationStatement](https://262.ecma-international.org/12.0/#prod-IterationStatement) is undefined.

[14.11.2](https://262.ecma-international.org/12.0/#sec-with-statement-runtime-semantics-evaluation): In ECMAScript 2015, the normal completion value of a [WithStatement](https://262.ecma-international.org/12.0/#prod-WithStatement) is never the value empty. If evaluation of the [Statement](https://262.ecma-international.org/12.0/#prod-Statement) part of a [WithStatement](https://262.ecma-international.org/12.0/#prod-WithStatement) produces a normal completion whose value is empty, the completion value of the [WithStatement](https://262.ecma-international.org/12.0/#prod-WithStatement) is undefined.

[14.12.4](https://262.ecma-international.org/12.0/#sec-switch-statement-runtime-semantics-evaluation): In ECMAScript 2015, the completion value of a [SwitchStatement](https://262.ecma-international.org/12.0/#prod-SwitchStatement) is never the value empty. If the [CaseBlock](https://262.ecma-international.org/12.0/#prod-CaseBlock) part of a [SwitchStatement](https://262.ecma-international.org/12.0/#prod-SwitchStatement) produces a completion whose value is empty, the completion value of the [SwitchStatement](https://262.ecma-international.org/12.0/#prod-SwitchStatement) is undefined.

[14.15](https://262.ecma-international.org/12.0/#sec-try-statement): In ECMAScript 2015, it is an [early error](https://262.ecma-international.org/12.0/#early-error) for a [Catch](https://262.ecma-international.org/12.0/#prod-Catch) clause to contain a `var` declaration for the same [Identifier](https://262.ecma-international.org/12.0/#prod-Identifier) that appears as the [Catch](https://262.ecma-international.org/12.0/#prod-Catch) clause parameter. In previous editions, such a variable declaration would be instantiated in the enclosing variable environment but the declaration's [Initializer](https://262.ecma-international.org/12.0/#prod-Initializer) value would be assigned to the [Catch](https://262.ecma-international.org/12.0/#prod-Catch) parameter.

[14.15](https://262.ecma-international.org/12.0/#sec-try-statement), [19.2.1.3](https://262.ecma-international.org/12.0/#sec-evaldeclarationinstantiation): In ECMAScript 2015, a runtime SyntaxError is thrown if a [Catch](https://262.ecma-international.org/12.0/#prod-Catch) clause evaluates a non-strict direct `eval` whose eval code includes a `var` or `FunctionDeclaration` declaration that binds the same [Identifier](https://262.ecma-international.org/12.0/#prod-Identifier) that appears as the [Catch](https://262.ecma-international.org/12.0/#prod-Catch) clause parameter.

[14.15.3](https://262.ecma-international.org/12.0/#sec-try-statement-runtime-semantics-evaluation): In ECMAScript 2015, the completion value of a [TryStatement](https://262.ecma-international.org/12.0/#prod-TryStatement) is never the value empty. If the [Block](https://262.ecma-international.org/12.0/#prod-Block) part of a [TryStatement](https://262.ecma-international.org/12.0/#prod-TryStatement) evaluates to a normal completion whose value is empty, the completion value of the [TryStatement](https://262.ecma-international.org/12.0/#prod-TryStatement) is undefined. If the [Block](https://262.ecma-international.org/12.0/#prod-Block) part of a [TryStatement](https://262.ecma-international.org/12.0/#prod-TryStatement) evaluates to a throw completion and it has a [Catch](https://262.ecma-international.org/12.0/#prod-Catch) part that evaluates to a normal completion whose value is empty, the completion value of the [TryStatement](https://262.ecma-international.org/12.0/#prod-TryStatement) is undefined if there is no [Finally](https://262.ecma-international.org/12.0/#prod-Finally) clause or if its [Finally](https://262.ecma-international.org/12.0/#prod-Finally) clause evaluates to an empty normal completion.

[15.4.5](https://262.ecma-international.org/12.0/#sec-runtime-semantics-methoddefinitionevaluation) In ECMAScript 2015, the function objects that are created as the values of the \[\[Get\]\] or \[\[Set\]\] attribute of accessor properties in an [ObjectLiteral](https://262.ecma-international.org/12.0/#prod-ObjectLiteral) are not [constructor](https://262.ecma-international.org/12.0/#constructor) functions and they do not have a "prototype" own property. In the previous edition, they were constructors and had a "prototype" property.

[20.1.2.6](https://262.ecma-international.org/12.0/#sec-object.freeze): In ECMAScript 2015, if the argument to `Object.freeze` is not an object it is treated as if it was a non-extensible [ordinary object](https://262.ecma-international.org/12.0/#ordinary-object) with no own properties. In the previous edition, a non-object argument always causes a TypeError to be thrown.

[20.1.2.8](https://262.ecma-international.org/12.0/#sec-object.getownpropertydescriptor): In ECMAScript 2015, if the argument to `Object.getOwnPropertyDescriptor` is not an object an attempt is made to coerce the argument using [ToObject](https://262.ecma-international.org/12.0/#sec-toobject). If the coercion is successful the result is used in place of the original argument value. In the previous edition, a non-object argument always causes a TypeError to be thrown.

[20.1.2.10](https://262.ecma-international.org/12.0/#sec-object.getownpropertynames): In ECMAScript 2015, if the argument to `Object.getOwnPropertyNames` is not an object an attempt is made to coerce the argument using [ToObject](https://262.ecma-international.org/12.0/#sec-toobject). If the coercion is successful the result is used in place of the original argument value. In the previous edition, a non-object argument always causes a TypeError to be thrown.

[20.1.2.12](https://262.ecma-international.org/12.0/#sec-object.getprototypeof): In ECMAScript 2015, if the argument to `Object.getPrototypeOf` is not an object an attempt is made to coerce the argument using [ToObject](https://262.ecma-international.org/12.0/#sec-toobject). If the coercion is successful the result is used in place of the original argument value. In the previous edition, a non-object argument always causes a TypeError to be thrown.

[20.1.2.14](https://262.ecma-international.org/12.0/#sec-object.isextensible): In ECMAScript 2015, if the argument to `Object.isExtensible` is not an object it is treated as if it was a non-extensible [ordinary object](https://262.ecma-international.org/12.0/#ordinary-object) with no own properties. In the previous edition, a non-object argument always causes a TypeError to be thrown.

[20.1.2.15](https://262.ecma-international.org/12.0/#sec-object.isfrozen): In ECMAScript 2015, if the argument to `Object.isFrozen` is not an object it is treated as if it was a non-extensible [ordinary object](https://262.ecma-international.org/12.0/#ordinary-object) with no own properties. In the previous edition, a non-object argument always causes a TypeError to be thrown.

[20.1.2.16](https://262.ecma-international.org/12.0/#sec-object.issealed): In ECMAScript 2015, if the argument to `Object.isSealed` is not an object it is treated as if it was a non-extensible [ordinary object](https://262.ecma-international.org/12.0/#ordinary-object) with no own properties. In the previous edition, a non-object argument always causes a TypeError to be thrown.

[20.1.2.17](https://262.ecma-international.org/12.0/#sec-object.keys): In ECMAScript 2015, if the argument to `Object.keys` is not an object an attempt is made to coerce the argument using [ToObject](https://262.ecma-international.org/12.0/#sec-toobject). If the coercion is successful the result is used in place of the original argument value. In the previous edition, a non-object argument always causes a TypeError to be thrown.

[20.1.2.18](https://262.ecma-international.org/12.0/#sec-object.preventextensions): In ECMAScript 2015, if the argument to `Object.preventExtensions` is not an object it is treated as if it was a non-extensible [ordinary object](https://262.ecma-international.org/12.0/#ordinary-object) with no own properties. In the previous edition, a non-object argument always causes a TypeError to be thrown.

[20.1.2.20](https://262.ecma-international.org/12.0/#sec-object.seal): In ECMAScript 2015, if the argument to `Object.seal` is not an object it is treated as if it was a non-extensible [ordinary object](https://262.ecma-international.org/12.0/#ordinary-object) with no own properties. In the previous edition, a non-object argument always causes a TypeError to be thrown.

[20.2.3.2](https://262.ecma-international.org/12.0/#sec-function.prototype.bind): In ECMAScript 2015, the \[\[Prototype\]\] internal slot of a [bound function](https://262.ecma-international.org/12.0/#sec-bound-function-exotic-objects) is set to the \[\[GetPrototypeOf\]\] value of its target function. In the previous edition, \[\[Prototype\]\] was always set to [%Function.prototype%](https://262.ecma-international.org/12.0/#sec-properties-of-the-function-prototype-object).

[20.2.4.1](https://262.ecma-international.org/12.0/#sec-function-instances-length): In ECMAScript 2015, the "length" property of function instances is configurable. In previous editions it was non-configurable.

[20.5.6.2](https://262.ecma-international.org/12.0/#sec-properties-of-the-nativeerror-constructors): In ECMAScript 2015, the \[\[Prototype\]\] internal slot of a NativeError [constructor](https://262.ecma-international.org/12.0/#constructor) is the Error [constructor](https://262.ecma-international.org/12.0/#constructor). In previous editions it was the [Function prototype object](https://262.ecma-international.org/12.0/#sec-properties-of-the-function-prototype-object).

[21.4.4](https://262.ecma-international.org/12.0/#sec-properties-of-the-date-prototype-object) In ECMAScript 2015, the [Date prototype object](https://262.ecma-international.org/12.0/#sec-properties-of-the-date-prototype-object) is not a Date instance. In previous editions it was a Date instance whose TimeValue was NaN.

[22.1.3.10](https://262.ecma-international.org/12.0/#sec-string.prototype.localecompare) In ECMAScript 2015, the `String.prototype.localeCompare` function must treat Strings that are canonically equivalent according to the Unicode standard as being identical. In previous editions implementations were permitted to ignore canonical equivalence and could instead use a bit-wise comparison.

[22.1.3.26](https://262.ecma-international.org/12.0/#sec-string.prototype.tolowercase) and [22.1.3.28](https://262.ecma-international.org/12.0/#sec-string.prototype.touppercase) In ECMAScript 2015, lowercase/upper conversion processing operates on code points. In previous editions such the conversion processing was only applied to individual code units. The only affected code points are those in the Deseret block of Unicode.

[22.1.3.29](https://262.ecma-international.org/12.0/#sec-string.prototype.trim) In ECMAScript 2015, the `String.prototype.trim` method is defined to recognize white space code points that may exists outside of the Unicode BMP. However, as of Unicode 7 no such code points are defined. In previous editions such code points would not have been recognized as white space.

[22.2.3.1](https://262.ecma-international.org/12.0/#sec-regexp-pattern-flags) In ECMAScript 2015, If the pattern argument is a RegExp instance and the flags argument is not undefined, a new RegExp instance is created just like pattern except that pattern's flags are replaced by the argument flags. In previous editions a TypeError exception was thrown when pattern was a RegExp instance and flags was not undefined.

[22.2.5](https://262.ecma-international.org/12.0/#sec-properties-of-the-regexp-prototype-object) In ECMAScript 2015, the [RegExp prototype object](https://262.ecma-international.org/12.0/#sec-properties-of-the-regexp-prototype-object) is not a RegExp instance. In previous editions it was a RegExp instance whose pattern is the empty String.

[22.2.5](https://262.ecma-international.org/12.0/#sec-properties-of-the-regexp-prototype-object) In ECMAScript 2015, "source", "global", "ignoreCase", and "multiline" are accessor properties defined on the [RegExp prototype object](https://262.ecma-international.org/12.0/#sec-properties-of-the-regexp-prototype-object). In previous editions they were data properties defined on RegExp instances.

[25.4.12](https://262.ecma-international.org/12.0/#sec-atomics.notify): In ECMAScript 2019, `Atomics.wake` has been renamed to `Atomics.notify` to prevent confusion with `Atomics.wait`.

[27.1.4.4](https://262.ecma-international.org/12.0/#sec-asyncfromsynciteratorcontinuation), [27.6.3.6](https://262.ecma-international.org/12.0/#sec-asyncgeneratorresumenext): In ECMAScript 2019, the number of Jobs enqueued by `await` was reduced, which could create an observable difference in resolution order between a `then()` call and an `await` expression.

## G Colophon

This specification is authored on [GitHub](https://github.com/tc39/ecma262) in a plaintext source format called [Ecmarkup](https://github.com/bterlson/ecmarkup). Ecmarkup is an HTML and Markdown dialect that provides a framework and toolset for authoring ECMAScript specifications in plaintext and processing the specification into a full-featured HTML rendering that follows the editorial conventions for this document. Ecmarkup builds on and integrates a number of other formats and technologies including [Grammarkdown](https://github.com/rbuckton/grammarkdown) for defining syntax and [Ecmarkdown](https://github.com/domenic/ecmarkdown) for authoring algorithm steps. PDF renderings of this specification are produced by printing the HTML rendering to a PDF.
